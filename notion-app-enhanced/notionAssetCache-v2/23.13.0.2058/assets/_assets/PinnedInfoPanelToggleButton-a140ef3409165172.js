"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[34268],{354007:(e,o,t)=>{t.r(o),t.d(o,{default:()=>f});var l=t(667294),n=()=>t(846550),a=()=>t(641772),i=()=>t(788860),s=()=>t(58836),r=()=>t(265640),c=()=>t(1910),u=()=>t(654133),p=()=>t(998901),g=()=>t(579095),d=t(785893);const P=(0,i().vU)({ariaLabel:{id:"Layouts.InfoPanelToggleButton.ariaLabel",defaultMessage:"Show/close details panel"},buttonLabel:{id:"Layouts.InfoPanelToggleButton.show",defaultMessage:"Hide details"},buttonLabelNoProperties:{id:"Layouts.InfoPanelToggleButton.showNoProperties",defaultMessage:"View details"},buttonLabelClose:{id:"Layouts.InfoPanelToggleButton.close",defaultMessage:"Hide details"},tooltipShow:{id:"Layouts.InfoPanelToggleButton.tooltip.show",defaultMessage:"View details"},tooltipShowNoProperties:{id:"Layouts.InfoPanelToggleButton.tooltip.showNoProperties",defaultMessage:"Open details panel"},tooltipClose:{id:"Layouts.InfoPanelToggleButton.tooltip.close",defaultMessage:"Hide details"}});function f(e){const{collectionStore:o,variant:t,pageViewBlockContext:f}=e,h=(0,i().YB)(),S=(0,n().yK)((e=>({icon:{fill:e.icon.secondary}})),[]),{toggleDetailsPanel:b,isDetailsPanelOpen:w,pageDetailsPropertiesCount:L,canShowButton:C}=(0,g().g)({collectionStore:o,from:"more_properties",forceShowButtonIfNoProperties:!0,pageViewBlockContext:f});let k=P.buttonLabelClose;w||(k=L?P.buttonLabel:P.buttonLabelNoProperties);const B=l.useCallback((e=>"compact"===t?(0,d.jsx)(c().Z,{icon:a().o,iconStyle:S.icon,ariaLabel:h.formatMessage(P.ariaLabel),onClick:b,style:{width:30,height:30},...e}):(0,d.jsx)(r().D,{icon:a().o,iconStyle:S.icon,isGray:!0,onClick:b,...e,children:(0,d.jsx)(i()._H,{...k,values:{propertiesCount:L}})})),[t,S.icon,h,b,k,L]);if(!C)return null;let m=P.tooltipClose;return w||(m=L?P.tooltipShow:P.tooltipShowNoProperties),(0,d.jsx)(u().Z,{render:e=>(0,d.jsx)(s().p,{allowSelectionWithin:!1,children:(0,d.jsx)(B,{...e})}),alignment:p().Alignment.Center,placement:p().Placement.Right,disableTooltip:"full"===t,renderTooltip:()=>(0,d.jsx)(i()._H,{...m,values:{propertiesCount:L}})})}},579095:(e,o,t)=>{t.d(o,{g:()=>p});var l=t(667294),n=()=>t(219727),a=()=>t(142735),i=()=>t(887430),s=()=>t(311562),r=()=>t(528770),c=()=>t(70191),u=()=>t(521635);function p(e){const{collectionStore:o,from:t,forceShowButtonIfNoProperties:p,pageViewBlockContext:g}=e,d=(0,a().VK)((()=>null==o?void 0:o.getLayoutStore()),[o]),P=(0,n().O7)(),f=g===s().S.PeekView,h=(0,a().VK)((()=>u().Z.getPanelState(f?"peek":"mainPage").isOpen),[f]),S=(0,a().VK)((()=>!!o&&i().eD({collectionStore:o,collectionViewBlockStore:o.getParentBlockStore(),checkNavigableAncestorLocked:!1})),[o]),b=(0,a().VK)((()=>!!d&&d.getModules().page_details.length>0),[d]),{count:w,isPropertiesModuleInPageDetails:L}=(0,a().VK)((()=>b&&o?(0,c().nJ)({collectionStore:o}):{count:0,isPropertiesModuleInPageDetails:!1}),[b,o]),C=l.useCallback((()=>{if(!d)return;const e={environment:P,layoutStore:d,from:t,panelLocation:f?"peek":"mainPage"};h?(0,r().n)(e):(0,r().U)(e)}),[P,t,h,f,d]),k=l.useMemo((()=>g!==s().S.InPageSnapShot&&(g!==s().S.DraftPostInInlineComposer&&(w>0||!!p&&(L&&S)))),[g,w,p,L,S]);return{pageDetailsPropertiesCount:w,toggleDetailsPanel:C,isDetailsPanelOpen:h,pageDetailsHasModules:b,canShowButton:k}}}}]);