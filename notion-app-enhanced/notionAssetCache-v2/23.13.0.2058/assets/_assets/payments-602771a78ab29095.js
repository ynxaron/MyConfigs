"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[87983,95986],{86609:(e,t,o)=>{o.d(t,{KV:()=>q,Rh:()=>J,U6:()=>X,Wu:()=>te,Xx:()=>Z,YD:()=>ee,g9:()=>z,jc:()=>H,m8:()=>$,ys:()=>Y,zX:()=>Q});o(122556),o(582845),o(250570),o(533019),o(721473),o(788208),o(22624),o(267602),o(30005),o(241792),o(228244);var n=()=>o(730120),r=()=>o(506347),i=()=>o(926724),a=()=>o(271896),l=()=>o(226413),s=()=>o(803021),d=()=>o(874459),c=()=>o(956057),p=()=>o(528514),u=()=>o(494616),m=()=>o(922713),f=()=>o(396136),y=()=>o(752778),g=()=>o(255933),v=()=>o(306164),_=()=>o(856466),S=()=>o(126301),h=()=>o(955620),x=()=>o(253335),C=()=>o(110232),w=()=>o(285755),b=()=>o(23151),k=()=>o(757216),I=()=>o(544903),M=()=>o(594546),T=()=>o(487270),A=()=>o(527278),D=()=>o(876822),B=()=>o(826955),R=()=>o(250303),E=()=>o(824462),j=()=>o(984871),O=()=>o(139224),P=()=>o(421654),V=()=>o(636340),W=()=>o(511614),L=()=>o(269299),U=()=>o(663366),F=()=>o(348141);const N="week";function Z(e){var t;const{environment:o,transaction:n,tasksBlockStore:r,sprintsBlockStore:i}=e,a=null===(t=i.getFormat())||void 0===t?void 0:t.collection_pointer,l=r.getFormat().collection_pointer;if(!a||!l)return;const s=B().NW.createChildStore(i,a),d=s.getRole()??"none";if(!(0,p().yY)(d,"editor"))return;s.getAutomationStores().some((e=>e.isCompleteSprintAutomation()))||K({environment:o,transaction:n,sprintCollectionStore:s,taskCollectionStore:B().NW.createChildStore(r,l),sprintSettingsConfig:_().iZ})}function K(e){const{environment:t,sprintSettingsConfig:o,transaction:n,sprintCollectionStore:r,taskCollectionStore:i}=e,a=r.getSpaceId(),l=(0,T().TS)({environment:t,table:u().cv,spaceId:a}),s=(0,T().TS)({environment:t,table:m().Xj,spaceId:a});V().ae({environment:t,table:u().cv,inMemoryRecordCache:r.inMemoryRecordCache,value:{id:l,parent_id:r.id,parent_table:r.table,alive:!0,space_id:a,status:o.autoCompleteSprints?"active":"disabled",trigger:{id:c().Il(),type:"recurrence",recurrence:ne(o)},action_ids:[s]},transaction:n}),P().FH({stores:[r],update:{automation_ids:[...r.getFormat().automation_ids??[],l]},transaction:n}),V().ae({environment:t,table:m().Xj,inMemoryRecordCache:r.inMemoryRecordCache,transaction:n,value:{id:s,parent_id:l,parent_table:u().cv,type:"complete_sprint",alive:!0,space_id:a,config:{sprint_collection:r.getSpaceShardedPointer(),task_collection:i.getSpaceShardedPointer(),complete_sprint_action:o.actionConfig.complete_sprint_action}}})}function q(e){const{environment:t,automationStore:o,transaction:n,newDuration:r,currentSprintBlockStore:i}=e;V().sW({store:o.getTriggerStore().getKeyStore("recurrence"),data:{interval:r},transaction:n}),G({environment:t,transaction:n,automationStore:o,currentSprintBlockStore:i})}function z(e){const{environment:t,automationStore:o,transaction:n,newWeekday:r,currentSprintBlockStore:i}=e;V().sW({store:o.getTriggerStore().getKeyStore("recurrence"),data:{weekdays:[r]},transaction:n}),G({environment:t,transaction:n,automationStore:o,currentSprintBlockStore:i})}function H(e){const{environment:t,actionStore:o,automationStore:n,transaction:r,newAutocompleteStatus:i,currentSprintBlockStore:l}=e;V().sW({store:n,data:{status:i?"active":"disabled"},transaction:r}),G({environment:t,transaction:r,automationStore:n,currentSprintBlockStore:l});const s=n.getParentPointer();if(!s||s.table!==y().vF)return;const d=(0,M().mc)(t),c={automation_id:n.id,automation_actions:[{automation_action_id:o.id,type:"complete_sprint"}],automation_triggers:[{type:"recurrence"}],collection_id:s.id};i?(0,a().Rt)(d,c):(0,a().ai)(d,c)}function G(e){const{automationStore:t,currentSprintBlockStore:o,transaction:r,environment:a}=e;if(!t.isActive())return;const l=t.getRecurrence();if(!l)return;const d=(0,S().Su)(l);if(!d)return;const c=o.getPropertyValue(i().b0.Dates);if(!c)return;const p=(0,h().nai)(c)[0];if(!p||"daterange"!==p.type)return;const u=p.start_date,{start_date:m,end_date:f}=(0,S().DW)({currentSprintStartDate:u,sprintSchedule:d});V().sW({store:t.getTriggerStore().getKeyStore("recurrence"),data:{start_date:(0,s().Jh)(n().ou.fromISO(m).plus({minutes:1}).toJSDate())},transaction:r}),b().xD({store:o,propertyId:i().b0.Dates,transaction:r,environment:a,type:"dateValue",dateValue:{type:"daterange",start_date:u,end_date:f}})}function X(e){const{transaction:t,newRemainingTasksBehavior:o,actionStore:n}=e;V().sW({store:n.getConfigStore(),data:{complete_sprint_action:o},transaction:t})}async function Y(e){var t;const{appTemplatesSetupActions:o,appTemplatesSprintBoardActions:n,appConfigs:a}=await I().vF.load(),{environment:l,collectionContextStore:s,from:d}=e,{currentSpaceViewStore:c}=D().default.state,p=s.collectionStore(),u=null==p?void 0:p.getParentBlockStore(),m=null==u?void 0:u.getParentStore(),y=null==p||null===(t=p.getFormat())||void 0===t?void 0:t.app_config_uri,_=y&&(0,C().YB)(a(),y);if(!p||!u||!m||!c||m.table!==g().bx&&m.table!==f().iU&&m.table!==v().e0||!_)return;const S=u.getFormat().app_id,h=S?await E().callApi({eventName:"getCollectionViewBlocksByAppId",environment:l,data:{spaceId:u.getSpaceId(),appId:S}}):void 0,w="success"===(null==h?void 0:h.type)&&h.data.result.length?h.data.result.map((e=>B().G.createChildStore(m,{table:f().iU,id:e.blockId,spaceId:u.getSpaceId()}))):[u];await oe({environment:l,taskCollectionStore:p,executeFn:()=>{const e=L().createAndCommit({userAction:"sprintSettingsActions.handleTurnOnSprints",environment:l,canUndo:!0,perform:e=>{const t=(0,x().eu)(),r=o.applyTypedFeatures({environment:l,spaceViewStore:c,appParentStore:m,appUri:_.uri,features:[{type:"simple",featureUri:t.uri}],transaction:e,createOrModify:"modify",appCollectionViewBlockStores:w}),a=n.createSprintPage({environment:l,spaceViewStore:c,appParentStore:m,transaction:e,blockStores:r,creationEntryPoint:{type:"sprint_settings"}});if(O().E3({collectionSettingsStore:s.settingsStore}),!a)return;const p=d?{feature:{id:i().Es.TaskToSprintRelation,from:d,type:"notion://projects/tasks_with_sprints_feature"}}:{};return R()._H({environment:l,collectionContextStore:s,from:"view_settings",property:i().Es.TaskToSprintRelation,property_type:"relation",is_suggested_property:!0,...p}),a}});e.serverCommitResult.then((()=>{const t=e.performResult;t&&W().r({environment:l,store:t,pageVisitSource:r().tY.Create})}))}})}async function $(e){const{environment:t,collectionContextStore:o,sprintSettingsContext:n,sprintBoardViewBlockIds:a}=e,{sprintCollectionStore:l,automationContext:s,currentCollectionViewBlockStore:d,sprintCollectionViewBlockStore:c,taskCollectionStore:p,taskCollectionViewBlockStore:u}=n;if(!l||!c||!s)return;const m=u.getSpaceId(),y=[c,...a.map((e=>new(B().G)(t,{id:e,table:f().iU,spaceId:m})))];d.id===u.id?O().E3({collectionSettingsStore:o.settingsStore}):W().r({environment:t,store:u,pageVisitSource:r().tY.LeaveOrRemove});const{automationActions:g}=await w().Sm.automations.load(),{automationStore:v}=s;await oe({environment:t,taskCollectionStore:p,executeFn:()=>{L().createAndCommit({userAction:"sprintSettingsActions.handleTurnOffSprints",environment:t,canUndo:!0,perform:e=>{!function(e){const{transaction:t,blocksToDelete:o,environment:n,taskCollectionStore:r,sprintCollectionStore:a}=e;V().sW({store:a,transaction:t,data:{alive:!1}}),j().E2({environment:n,collectionStore:r,schema:r.getSchema(),property:i().Es.TaskToSprintRelation,transaction:t,permanentlyDelete:!0}),U().y8({environment:n,blocks:o,transaction:t,permanentlyDelete:!0})}({environment:t,transaction:e,blocksToDelete:y,sprintCollectionStore:l,taskCollectionStore:p}),g.disableAutomation({automationStore:v,environment:t,transaction:e}),g.deleteAutomation({automationStore:v,environment:t,transaction:e})}}),R().y9({environment:t,collectionContextStore:o,property_type:"relation",from:"view_settings",property:i().Es.TaskToSprintRelation})}})}function Q(e){const{environment:t,userSettingsStore:o}=e;L().createAndCommit({userAction:"sprintSettingsActions.handleSeenSprintsEngagementBanner",environment:t,canUndo:!0,perform:e=>{F().d2({userSettingsStore:o,data:{seen_sprint_settings_engagement_banner:!0},transaction:e})}})}function J(e){e.settingsStore.setState({open:!0,stack:[{type:"main"},{type:"sprintSettings"}]})}function ee(e){const{environment:t,collectionContextStore:o,currentViewBlockStore:n,taskCollectionViewBlockStore:r}=e,a=o.collectionViewStore();if(!a)return;const l=a.getFormat(),s=a.getRawQuery();L().createAndCommit({userAction:"sprintSettingsActions.handleManageSprintFromThisView",environment:t,canUndo:!0,perform:e=>{if((0,k().i)({collectionViewStore:a,transaction:e,update:{name:A().Z.formatMessage(x().sY.tasksCurrentSprintV2ViewName),query2:{...s,filter:void 0},format:{...l,collection_view_icon:"/icons/playback-play-button_gray.svg",property_filters:x().Jt,app_config_uri:i().g3,hide_linked_collection_name:!0}}}),n.id===r.id){var t;const o=(null===(t=n.getFormat())||void 0===t?void 0:t.app_uri_map)??{},s=l.app_config_uri;s&&delete o[s],P().FH({stores:[r],update:{app_uri_map:{...o,[i().g3]:a.id}},transaction:e})}}})}function te(e){const{environment:t,sprintSettingsContext:o}=e;if(!o)return;const n=o.sprintCollectionStore,r=(null==n?void 0:n.getRole())??"none";n&&(0,p().yY)(r,"editor")&&o.automationContextLoaded&&!o.automationContext&&L().createAndCommit({userAction:"sprintSettingsActions.ensureCompleteSprintAutomation",environment:t,canUndo:!0,perform:e=>{K({environment:t,transaction:e,sprintCollectionStore:n,taskCollectionStore:o.taskCollectionStore,sprintSettingsConfig:_().iZ})}})}async function oe(e){const{executeFn:t,environment:o,taskCollectionStore:n}=e;await async function(e){var t;const{environment:o,taskCollectionStore:n}=e,r=n.getFormat().app_uri_map,a=i().Es.TaskToSprintRelation,s=n.getSchema(),d=(null==r?void 0:r[a])??a,c=s[d];if(!c||!(0,l().p_)(c))return;const p=null===(t=(0,l().j0)(c))||void 0===t?void 0:t.id;if(!p)return;const u=new Set([d]);Object.entries(s).forEach((e=>{var t;let[o,n]=e;n&&(0,l().p_)(n)&&(null===(t=(0,l().j0)(n))||void 0===t?void 0:t.id)===p&&u.add(o)}));const{serverCommitResult:m}=L().createAndCommit({userAction:"sprintSettingsActions.clearSprintRelationDataFromTaskCollection",environment:o,canUndo:!0,perform:e=>{for(const t of u)j().E2({environment:o,transaction:e,permanentlyDelete:!0,collectionStore:n,schema:s,property:t});null==r||delete r[a],r&&P().FH({stores:[n],transaction:e,update:{app_uri_map:r}})}});await m}({environment:o,taskCollectionStore:n}),t()}function ne(e){return{frequency:N,interval:e.recurrenceConfig.interval,weekdays:e.recurrenceConfig.weekdays,start_date:(0,s().Jh)(n().ou.local().set({hour:0,minute:0,second:0,millisecond:0}).toJSDate()),timezone:(0,d().Sv)(),hour:0,minute:0}}},23151:(e,t,o)=>{o.d(t,{Fv:()=>T,JN:()=>w,QG:()=>D,cQ:()=>M,f$:()=>b,fX:()=>I,td:()=>k,xD:()=>A});o(670560),o(267602),o(30005),o(241792);var n=()=>o(730120),r=()=>o(552221),i=()=>o(532850),a=()=>o(803021),l=()=>o(874459),s=()=>o(998411),d=()=>o(752778),c=()=>o(513670),p=()=>o(696459),u=()=>o(250303),m=()=>o(384667),f=()=>o(366257),y=()=>o(332542),g=()=>o(636340),v=()=>o(970105),_=()=>o(887430),S=()=>o(32969),h=()=>o(35982),x=()=>o(826955),C=()=>o(526243);function w(e){const{environment:t,droppedStores:o,duplicate:i,calendarBy:c,transaction:p,collectionContextStore:f}=e,g=n().ou.fromMillis(e.startOfDay);let v=!0;for(const n of o){const t=e.collectionStore?e.collectionStore:(0,_().Bm)({store:n,collectionContextStore:f});if(n.getParentTable()===d().vF||!t){v=!1;break}y().zw({childStore:n,parentStore:t,transaction:p})||(v=!1)}const S=m().Ab({environment:t,droppedStores:o,duplicate:i,transaction:p,collectionStore:e.collectionStore});for(const n of S){const o=e.collectionStore?e.collectionStore:(0,_().Bm)({store:n,collectionContextStore:f});if(!o)continue;const i=o.getMappedProperty(c),d=n.getPropertyStore(i),y=(0,r().G)(d.getValue())||l().Lg((0,s().r)()),S=l().c$(y,(0,s().r)()),h=g.toFormat(l().Iq);let x;if("date"===S.type||"datetime"===S.type)x={...S,start_date:h};else{const e=l().NK(S,(0,s().r)());if(!e.end)return;const t={...S,start_date:h},o=l().NK(t,(0,s().r)()).start.diff(e.start,"days"),n=e.end.plus(o).toFormat(l().Iq);x={...S,start_date:h,end_date:n}}const C=l().c$(x,a().yw(y)||(0,s().r)());m().mp({environment:t,store:n,collectionStore:o,collectionContextStore:f,shouldCoerce:!0,groupsPointer:[],transaction:p,alreadyMovedToCollection:v}),A({environment:t,type:"dateValue",propertyId:i,store:n,transaction:p,dateValue:C}),u().rv({environment:t,collectionContextStore:f,block_id:n.id,property:i,property_type:"date",from:"calendar"})}}function b(e){const{calendarStore:t,direction:o,targetStore:n}=e;t.setState({...t.state,isDragging:!0,targetStore:n,direction:o,temporaryValue:void 0})}function k(e){const{calendarStore:t,x:o,y:i,calendarBy:d}=e,p=t.state;if(p.isDragging){const e=(0,r().G)(p.targetStore.getPropertyStore(d).getValue());if(!e)return;const u=l().c$(e,(0,s().r)()),m=p.temporaryValue||e,f=l().c$(m,(0,s().r)()),y=[];p.dayStoreMap.forEach(((e,t)=>{y.push({store:e,timestamp:t})}));const g=y.find((e=>{let{store:t}=e;const n=S().C.getRectFromStore(t);return Boolean(n&&h().uh(n,o,i))}));let v;if(g){const e=n().ou.fromMillis(g.timestamp),t=e.endOf("day"),o=e.toFormat(l().Iq);if(u){const r=l().NK(u,(0,s().r)());if(p.direction===C().to.Left)if(n().Xp.fromDateTimes(e,t).contains(r.start))v=u;else{let e;e="datetimerange"===u.type||"daterange"===u.type?{...u,start_date:o,end_date:u.end_date}:"datetime"===u.type?{type:"datetimerange",start_date:o,start_time:u.start_time,end_date:u.start_date,end_time:u.start_time,time_zone:u.time_zone,reminder:u.reminder}:{type:"daterange",start_date:o,end_date:u.start_date,reminder:u.reminder};const t=l().NK(e,(0,s().r)());v=!r.end&&t.start>r.start||r.end&&t.start>r.end?f:e}else if(r.end?n().Xp.fromDateTimes(e,t).contains(r.end):n().Xp.fromDateTimes(e,t).contains(r.start))v=u;else{let e;e="date"===u.type?{...u,type:"daterange",end_date:o}:"datetime"===u.type?{...u,type:"datetimerange",end_date:o,end_time:"00:00"}:{...u,end_date:o};const t=l().NK(e,(0,s().r)());v=t.end&&t.end<t.start?f:e}}}if(v&&!c().Xy(f,v)){const e=l().c$(v,a().yw(m)||(0,s().r)());t.setState({...p,temporaryValue:e})}}}function I(e){const{environment:t,calendarStore:o,calendarBy:n,transaction:r}=e,i=o.state;i.isDragging&&i.temporaryValue&&(A({type:"dateValue",environment:t,dateValue:i.temporaryValue,propertyId:n,store:i.targetStore,transaction:r}),o.setState({...o.state,isDragging:!1}))}function M(e){const{calendarStore:t}=e,o=t.state;o.isDragging&&t.setState({...o,isDragging:!1})}function T(e){const{environment:t,store:o,collectionStore:r,collectionContextStore:a,startDayOfWeek:d,transaction:c}=e,p=a.dateRangeStartStore.state,u=(0,s().r)(),f=a.normalizedQueryStore.state;if(!f||!f.calendar_by)return;const y=(null==r?void 0:r.getMappedProperty(f.calendar_by))??f.calendar_by,v=l().gQ(p,d,u),_=v.startOf("month"),S=v.endOf("month"),h=n().ou.now().startOf("day");let x;return x=n().Xp.fromDateTimes(_,S).contains(h)?l().hT(h.valueOf(),u):l().hT(l().em(p,d,u).valueOf(),u),g().sW({store:o.getPropertiesStore(),data:{[y]:i().d7(x)},transaction:c}),m().mp({environment:t,store:o,collectionStore:r,collectionContextStore:a,shouldCoerce:!0,groupsPointer:[],transaction:c}),o}function A(e){const{environment:t,store:o,propertyId:n,transaction:r}=e;let a;"timestamp"===e.type?a=l().hT(e.timestampMs.valueOf(),(0,s().r)()):"dateValue"===e.type?a=e.dateValue:(0,p().t1)(e);const d=o.getPropertyValue(n),c=i().d7(a);g().sW({store:o.getPropertiesStore(),data:{[n]:c},transaction:r}),f().H({environment:t,store:o,dateProperty:{id:n,oldValue:d,newValue:c}})}function D(e){const{environment:t,collectionStore:o,calendarBy:n,store:r,insertStores:i,collectionContextStore:a,transaction:l}=e,s=r.getPropertyStore(n).getValue();for(const d of i)m().mp({environment:t,store:d,collectionStore:o,collectionContextStore:a,shouldCoerce:!0,groupsPointer:[],transaction:l}),v().sO({environment:t,store:d.getPropertyStore(n),value:s,transaction:l});return i.map((e=>x().G.createChildStore(o,e.pointer)))}},504117:(e,t,o)=>{o.d(t,{Um:()=>a,ZP:()=>l,kN:()=>i});o(667294);var n=()=>o(666414),r=o(785893);function i(e){return e?18:60}function a(){return(0,r.jsx)(n().Z,{size:37})}const l=function(e){let{children:t,controlRow:n,bannerText:a,controlRowPaddingTopBottom:l,removeBoxShadow:s,contentPaddingLeftRight:d,controlRowPaddingLeftRight:c,getPaddingTopBottom:p,disableScroller:u,maxWidth:m}=e;const f=(0,o(219727).O7)(),{device:y}=f,g=p?p():y.isMobile?18:36,v=(0,o(846550).yK)((e=>({containerWithScroller:{display:"flex",flexDirection:"column",width:"100%",height:"100%",maxWidth:m??void 0,backgroundColor:e.cardContentBackground},scroller:{flexGrow:1,WebkitOverflowScrolling:"touch",transform:"translateZ(0)",paddingLeft:d??i(y.isMobile),paddingRight:d??i(y.isMobile),paddingTop:a?15:g,paddingBottom:a?22:g},controlRowWithScroller:{flexGrow:0,flexShrink:0,paddingLeft:c??i(y.isMobile),paddingRight:c??i(y.isMobile),paddingTop:l,paddingBottom:l,boxShadow:s?void 0:`0 -1px 0 ${e.regularDividerColor}`},containerWithoutScroller:{paddingLeft:i(y.isMobile),paddingRight:i(y.isMobile)},childrenWithoutScroller:{paddingTop:g,paddingBottom:g},controlRowWithoutScroller:{paddingTop:l,paddingBottom:l,boxShadow:`0 -1px 0 ${e.regularDividerColor}`}})),[m,d,y.isMobile,a,g,c,l,s]);return u?(0,r.jsxs)("div",{style:v.containerWithoutScroller,children:[(0,r.jsx)("div",{style:v.childrenWithoutScroller,children:t}),n&&(0,r.jsx)("div",{style:v.controlRowWithoutScroller,children:n})]}):(0,r.jsxs)("div",{style:v.containerWithScroller,children:[a&&(0,r.jsx)(o(610146).Z,{styleKey:o(500174).v.Blue,isMobile:!1,children:a}),(0,r.jsx)(o(842574).T,{type:o(520849).Z.All,style:v.scroller,children:t}),n&&(0,r.jsx)("div",{style:v.controlRowWithScroller,children:n})]})}},868614:(e,t,o)=>{o.d(t,{Z:()=>r});o(667294);var n=o(785893);const r=function(e){const t=(0,o(846550).Fg)(),{divider:r,large:i,block:a,children:l,hasMarginTop:s,small:d,style:c,smallMarginBottom:p,isCritical:u}=e,m="full"===r;return(0,n.jsx)("div",{style:{borderBottom:m?`1px solid ${t.regularDividerColor}`:0,marginBottom:m?16:p?2:8,marginTop:s?16:0,paddingBottom:m?12:0,fontSize:m?16:i?14:d?12:14,fontWeight:m?o(707513).Ue.medium:400,width:a?"100%":"auto",color:u?o(568017).ZP.red:t.regularTextColor,...c},children:l})}},945634:(e,t,o)=>{o.d(t,{Z:()=>p});o(667294);var n=()=>o(219727),r=()=>o(142735),i=()=>o(846550),a=()=>o(811977),l=()=>o(459805),s=()=>o(589525),d=o(785893);function c(){const e=(0,i().yK)((e=>({icon:{position:"absolute",width:"50%",height:"50%",right:0,bottom:0,fill:"dark"===e.mode?e.regularTextColor:"#3E3C38",stroke:"dark"===e.mode?e.surface.wash:"white",strokeWidth:"dark"===e.mode?"1.85px":"1.5px"}})),[]);return(0,d.jsx)("div",{children:(0,a().Y)(e.icon)})}function p(e){var t;const o=(0,n().O7)(),a=o.device.isMobile,p=(0,r().VK)((()=>{var t,n;if(a)return o.WindowSizeStore.getSafePaddingLeftCSS("number"==typeof(null===(t=e.style)||void 0===t?void 0:t.paddingLeft)?null===(n=e.style)||void 0===n?void 0:n.paddingLeft:10)}),[o.WindowSizeStore,a,null===(t=e.style)||void 0===t?void 0:t.paddingLeft]),u=(0,i().yK)((t=>({wrapper:{...a?{display:"flex",alignItems:"center",width:"100%",minHeight:26,fontSize:16,paddingTop:8,paddingBottom:8,paddingLeft:p,paddingRight:10,userSelect:"none",WebkitUserSelect:"none",boxShadow:void 0,marginBottom:e.shouldShowMobileMarginBottom?12:1}:{display:"flex",alignItems:"center",width:"100%",fontSize:14,minHeight:e.isBottomItem?24:27,height:s().H3,paddingTop:4,paddingBottom:4,...(0,l().MF)()},...e.style},icon:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,width:a?28:22,height:a?24:18,marginRight:8,position:"relative"},right:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,height:"100%",...e.rightStyle},left:{flexShrink:0,flexGrow:0,borderRadius:4,color:t.mediumTextColor,width:a?24:s().MY,height:a?24:s().MY,display:"flex",alignItems:"center",justifyContent:"center",marginRight:e.icon?0:8},children:{flexGrow:1,flexShrink:1,flexBasis:"auto",whiteSpace:"nowrap",minWidth:0,overflow:"hidden",textOverflow:e.right&&!a?"clip":"ellipsis",...e.childrenStyle}})),[a,p,e.shouldShowMobileMarginBottom,e.isBottomItem,e.style,e.rightStyle,e.icon,e.right,e.childrenStyle]);return(0,d.jsxs)("div",{role:e.role,dir:"ltr","aria-current":e["aria-current"],"aria-expanded":e["aria-expanded"],"aria-owns":e["aria-owns"],"aria-labelledby":e["aria-labelledby"],style:u.wrapper,onFocus:e.onFocus,onBlur:e.onBlur,onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,onClick:e.onClick,className:e.className,children:[e.left&&(0,d.jsx)("div",{style:u.left,children:e.left}),e.icon&&(0,d.jsxs)("div",{style:u.icon,children:[e.icon,e.isAlias&&(0,d.jsx)(c,{})]}),(0,d.jsx)("div",{style:u.children,children:e.children}),e.right&&(0,d.jsx)("div",{style:u.right,children:e.right})]})}},512221:(e,t,o)=>{o.d(t,{AW:()=>M,SK:()=>I,mz:()=>k,xB:()=>b});o(267602),o(470928),o(241792),o(667294);var n=()=>o(142735),r=()=>o(846550),i=()=>o(286977),a=()=>o(374289),l=()=>o(788860),s=()=>o(352230),d=()=>o(641506),c=()=>o(128119),p=()=>o(265640),u=()=>o(356042),m=()=>o(827973),f=()=>o(448419),y=()=>o(715139),g=()=>o(312578),v=()=>o(198829),_=()=>o(255577),S=()=>o(661641),h=()=>o(906651),x=()=>o(388284),C=()=>o(750824),w=o(785893);function b(e){const{icon:t,title:o,byline:n}=e,i=(0,r().yK)((()=>({container:{margin:"0 auto",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",gap:8},title:{textAlign:"center"},byline:{textAlign:"center"}})),[]);return(0,w.jsxs)("div",{style:i.container,children:[t,(0,w.jsx)(S().q,{styleName:"Heading-17px/Semibold",customStyles:i.title,children:o}),(0,w.jsx)(S().q,{styleName:"UIRegular-14px/Regular",colorName:"secondary",customStyles:i.byline,children:n})]})}function k(e){const{primaryText:t,primaryAction:o,primaryDisabled:n,secondaryText:i,secondaryAction:a,isLightRed:l,isDarkRed:s,isLoading:d}=e,c=(0,r().yK)((e=>({container:{margin:"0 auto",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-end",gap:8,padding:"0 20px",marginLeft:-20,width:"calc(100% + 40px)"},fullWidth:{width:"100%",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center"},cancelButton:{...C().sM,height:32,color:e.text.secondary}})),[]);return(0,w.jsxs)("div",{style:c.container,children:[l?(0,w.jsx)(u().F,{size:"lg",onClick:o,color:l?"uiRed":void 0,disabled:n,style:c.fullWidth,children:d?(0,w.jsx)(g().Z,{}):t}):(0,w.jsx)(h().Z,{isLarge:!0,onClick:o,disabled:n,style:c.fullWidth,isRed:s,children:d?(0,w.jsx)(g().Z,{}):t}),(0,w.jsx)(p().D,{size:"lg",onClick:a,style:{...c.fullWidth,...c.cancelButton},children:i})]})}function I(e){const{selectedId:t,options:o,onChange:n}=e,d=(0,r().yK)((e=>({container:{display:"flex",flexDirection:"column",gap:8},chevron:{width:12,marginLeft:3,marginRight:3,fill:e.lightIconColor},selectedButton:{width:"100%",margin:0,paddingTop:4,paddingBottom:4,border:`1px solid ${e.outlineButtonBorder}`},selectedCheckmark:{width:14},icon:{alignSelf:"center",marginTop:0,fill:e.icon.primary,height:18,width:18}})),[]);return(0,w.jsxs)("div",{style:d.container,children:[(0,w.jsx)(S().q,{styleName:"UISmall-12px/Medium",colorName:"secondary",children:(0,w.jsx)(l()._H,{id:"orgConsole.modal.dropdown.title",defaultMessage:"Select role"})}),(0,w.jsx)(f().ZP,{popupType:f().Z4.Popup,renderOrigin:e=>{const n=o.find((e=>e.id===t));return n?(0,w.jsx)(m().Z,{...e,title:n.title,caption:n.caption,icon:n.icon({fill:d.icon.fill}),desktopIconStyle:d.icon,disabled:!1,right:(0,a().i)(d.chevron),focused:!1,shouldWrapCaption:!0,buttonStyle:d.selectedButton}):null},placementToOrigin:c().Iw.Bottom,alignmentToOrigin:c().lU.Start,sameWidthAsOrigin:!0,render:e=>{const r=[{key:"options",render:e=>(0,w.jsx)(x().Z,{...e,topBorder:0!==e.index}),items:o.map((o=>{const r=o.id===t;return{key:o.id,render:e=>(0,w.jsx)(m().Z,{...e,title:o.title,caption:o.caption,icon:o.icon({fill:d.icon.fill}),desktopIconStyle:d.icon,right:r?(0,w.jsx)("div",{style:d.selectedCheckmark,children:(0,i().e)()}):void 0,shouldWrapCaption:!0,focused:!1}),action:()=>{n(o.id),e.close()}}}))}];return(0,w.jsx)(v().Z,{menuType:s().o.Popup,children:(0,w.jsx)(_().ZP,{type:_().iW.Vertical,initialFocus:void 0,sections:r})})}})]})}function M(e){const{items:t,selectedIds:o,disabledIds:i,onSelectHeader:a,onSelect:l,titleText:s,headerText:c,headerAction:p}=e,u=(0,r().yK)((e=>({container:{display:"flex",flexDirection:"column",gap:8,marginBottom:4},selectorContainer:{border:`1px solid ${e.stroke.secondary}`,boxShadow:"0px 2px 4px 0px #0000000a",borderRadius:8},checkbox:{display:"flex",justifyContent:"center",alignItems:"flex-start",flexDirection:"column"},headerText:{display:"flex",justifyContent:"center",alignItems:"flex-start",flexDirection:"column"},right:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end",flexDirection:"row"},workspace:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",gap:8},byline:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},bylineWithoutCheckboxes:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},iconContainer:{display:"flex",alignItems:"center",justifyContent:"center",height:28,width:28},textContainer:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",gap:2},selectorHeader:{padding:"4px 12px",borderBottom:`1px solid ${e.stroke.secondary}`,display:"grid",gridTemplateColumns:"24px 1fr 1fr"},selectorHeaderWithAction:{padding:"4px 4px 4px 12px",borderBottom:`1px solid ${e.stroke.secondary}`,display:"grid",gridTemplateColumns:"24px 1fr 1fr"},selectorBody:{paddingInline:12,display:"flex",flexDirection:"column",alignItems:"center",justifyItems:"center",width:"100%",maxHeight:204,overflowX:"hidden",overflowY:"auto"},selectorBodyRow:{display:"grid",gridTemplateColumns:"24px minmax(auto, 50%) 1fr",width:"100%",paddingBlock:8,gap:8,borderTop:`1px solid ${e.stroke.secondary}`}})),[]),m=void 0!==o&&void 0!==i&&l&&a,f=void 0!==i?t.length-i.length:0,g=(0,n().VK)((()=>{if(void 0===o)return!1;let e=0;for(const n of t)o.includes(n.id)&&(e+=1);return 0!==e&&(e===f?0!==f:"partial")}),[t,o,f]);return(0,w.jsxs)("div",{style:u.container,children:[(0,w.jsx)(S().q,{styleName:"UISmall-12px/Medium",colorName:"secondary",children:s}),(0,w.jsxs)("div",{style:u.selectorContainer,children:[(0,w.jsxs)("div",{style:{...p?u.selectorHeaderWithAction:u.selectorHeader,gridTemplateColumns:m?"24px 1fr 1fr":"24px 1fr"},children:[m?(0,w.jsx)("div",{style:u.checkbox,children:(0,w.jsx)(y().Z,{checked:g,size:14,checkSize:10,onClick:a})}):null,(0,w.jsx)(S().q,{styleName:"UISmall-12px/Medium",colorName:"secondary",customStyles:u.headerText,children:c}),(0,w.jsx)("div",{style:u.right,children:p})]}),(0,w.jsx)("div",{style:u.selectorBody,children:t.map(((e,t)=>{let{id:n,icon:r,name:a,caption:s,byline:c}=e;return(0,w.jsxs)("div",{style:{...u.selectorBodyRow,borderTopWidth:0===t?0:1,gridTemplateColumns:m?"24px minmax(auto, 50%) 1fr":"minmax(auto, 50%) 1fr"},children:[m?(0,w.jsx)("div",{style:u.checkbox,children:(0,w.jsx)(y().Z,{checked:o.includes(n)||i.includes(n),size:14,checkSize:10,onClick:()=>l(n),disabled:i.includes(n),style:{opacity:i.includes(n)?.3:1}})}):null,(0,w.jsxs)("div",{style:u.workspace,children:[(0,w.jsx)("div",{style:u.iconContainer,children:r}),(0,w.jsxs)("div",{style:u.textContainer,children:[(0,w.jsx)(S().q,{styleName:"UIRegular-14px/Medium",customStyles:{...(0,d().pd)(1),textOverflow:"ellipsis"},children:a}),s?(0,w.jsx)(S().q,{styleName:"UISmall-12px/Regular",colorName:"secondary",customStyles:{...(0,d().pd)(1),textOverflow:"ellipsis"},children:s}):null]})]}),(0,w.jsx)("div",{style:u.byline,children:c})]},n)}))})]})]})}},368634:(e,t,o)=>{o.d(t,{P:()=>p,Z:()=>u});var n=o(667294),r=()=>o(846550),i=()=>o(303171),a=()=>o(265640),l=()=>o(668001),s=()=>o(661641),d=()=>o(916940),c=o(785893);function p(e){let{headerText:t,mainText:o,bottom:p,onClick:u,isLoading:m,disabled:f}=e;const[y,g]=n.useState(!1),v=(0,r().yK)((e=>({loadingMainText:{width:140,borderRadius:4,height:25},loadingBottom:{width:120,borderRadius:4,height:24},container:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:20,width:"100%",padding:16,borderRadius:d().E.medium,borderWidth:1,borderStyle:"solid",borderColor:e.stroke.secondary,boxShadow:d().X,height:"auto"},containerDark:{background:e.accentColors.translucentGray[30],borderColor:e.stroke.primary},content:{display:"flex",flexDirection:"column",gap:20},textContainer:{display:"flex",flexDirection:"column",gap:8},mainText:{color:e.accentColors.gray[900],fontSize:20},iconButton:{display:"flex",justifyContent:"center",alignItems:"center",opacity:.5,borderRadius:"100%",background:y?e.accentColors.translucentGray[300]:e.accentColors.gray[100],height:20,width:20},icon:{height:20,width:20,padding:4,color:y?e.accentColors.gray[800]:e.icon.primary,transform:"rotate(270deg)"},bottomContainer:{minHeight:28}})),[y]);return(0,c.jsxs)(a().D,{onClick:u,style:v.container,shouldShrink:!0,hoveredStyle:{...v.container,...v.containerDark},pressedStyle:{...v.container,...v.containerDark},onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),disabled:f,children:[(0,c.jsxs)("div",{style:v.content,children:[(0,c.jsxs)("div",{style:v.textContainer,children:[(0,c.jsx)(s().q,{styleName:"UISmall-12px/Regular",colorName:"secondary",children:t}),m?(0,c.jsx)(l().Z,{style:v.loadingMainText}):(0,c.jsx)(s().q,{customStyles:v.mainText,styleName:"UITitle-Medium-20px/Semibold",colorName:"primary",children:o})]}),(0,c.jsx)("div",{style:v.bottomContainer,children:m?(0,c.jsx)(l().Z,{style:v.loadingBottom}):p})]}),!f&&(0,c.jsx)("div",{style:v.iconButton,children:(0,i().A)(v.icon)})]})}const u=p},750824:(e,t,o)=>{o.d(t,{E6:()=>s,mk:()=>d,sM:()=>l});o(667294);var n=()=>o(846550),r=()=>o(568017),i=()=>o(661297),a=o(785893);const l={height:28,paddingLeft:8,paddingRight:8,paddingTop:4,paddingBottom:4,fontWeight:o(707513).Ue.medium},s={opacity:.3};function d(e){const t=(0,n().yK)((t=>({buttonStyle:{...l,...e.disabled&&s,...e.isBlue&&{background:t.outlineBlueButtonHoveredBackground,border:void 0},...e.style},hoverStyle:{background:e.isBlue?r().O9.blueWithAlpha(.1):void 0}})),[e.isBlue,e.style,e.disabled]);return(0,a.jsx)(i().Z,{...e,style:t.buttonStyle,hoveredStyle:t.hoverStyle})}},916940:(e,t,o)=>{o.d(t,{E:()=>n,X:()=>r});const n={mini:3,small:4,default:6,medium:8,large:12,max:16},r="0px 4px 0px -2px #00000005"},669086:(e,t,o)=>{o.d(t,{y:()=>a});var n=()=>o(142735),r=()=>o(255393),i=()=>o(897257);function a(){return(0,n().VK)((()=>{var e;const t=(null===(e=i().subscriptionDataStoreInstance.state)||void 0===e?void 0:e.addOns)??[];return(0,r().de)(t)}),[])}},519563:(e,t,o)=>{o.d(t,{S:()=>i});var n=()=>o(142735),r=()=>o(876822);function i(){return(0,n().VK)((()=>{const{currentSpaceStore:e}=r().default.state;return(null==e?void 0:e.getMemberCountFromPublicSpaceData())||null}),[])}},403587:(e,t,o)=>{o.d(t,{R:()=>d});o(267602),o(916054),o(653476),o(241792);var n=()=>o(142735),r=()=>o(989478),i=()=>o(657120),a=()=>o(826955),l=()=>o(18281),s=()=>o(897257);function d(e){let{spaceStore:t}=e;return(0,n().VK)((()=>{const e=s().subscriptionDataStoreInstance.state;if(!e)return{loading:!0};const o=l().CM(e);if(!o.every((e=>a().U6.createChildStore(t,{table:r().KJ,id:e.userId}).isReady())))return{loading:!0};const n=o.filter(i().nB),d=o.filter(i().FN);return{loading:!1,members:n.map((e=>{let{userId:o}=e;return a().U6.createChildStore(t,{table:r().KJ,id:o})})),guests:d.map((e=>{let{userId:o}=e;return a().U6.createChildStore(t,{table:r().KJ,id:o})}))}}),[t])}},226994:(e,t,o)=>{o.d(t,{Z:()=>s,s:()=>d});var n=()=>o(142735),r=()=>o(989478),i=()=>o(788860),a=()=>o(876822),l=()=>o(826955);function s(e){const t=(0,i().YB)();return(0,n().VK)((()=>{const{currentSpaceStore:o}=a().default.state;if(!o||!e)return;return l().U6.createChildStore(o,{table:r().KJ,id:e}).getDisplayName(t)}),[t,e])}function d(){const e=(0,i().YB)();return(0,n().VK)((()=>{const{currentUserStore:t}=a().default.state,o=null!=t&&t.isDefined()?t.getModel():void 0;return o?o.getDisplayName(e):void 0}),[e])}},356140:(e,t,o)=>{o.d(t,{W:()=>i});var n=()=>o(142735),r=()=>o(876822);function i(){const{currentSpaceStore:e}=(0,n().VK)((()=>r().default.state),[]);return null==e?void 0:e.id}},913011:(e,t,o)=>{o.d(t,{H:()=>p});o(821057);var n=()=>o(792197),r=()=>o(308240),i=()=>o(215134),a=()=>o(6623),l=()=>o(639708),s=()=>o(269299),d=()=>o(655260),c=()=>o(772669);function p(e){let{environment:t,transaction:o,layoutStore:p,position:u,sessionId:m,beforePerformDeleteModule:f}=e;const y=p.getModules();if(!y)throw new Error("[deleteModuleAtPosition] modules by area not found for layout store");const g=(0,i().h7)(y,(e=>e.id===u.moduleId));if(!g)throw new Error("[deleteModuleAtPosition] module to delete not found");const{module:v,position:_}=g;if(!(0,a().Fo)(v))throw new Error("[deleteModuleAtPosition] module to delete is not removeable");var S;(s().createAndCommitOrAppend({environment:t,transaction:o,canUndo:!0,perform(e){!function(e){const{transaction:t,layoutStore:o,moduleLocation:i,moduleToDelete:a,beforePerformDeleteModule:d}=e;d&&d(t);(0,l().Fc)(a)&&(0,c().deleteViewsModuleDependencies)({layoutStore:o,viewsModule:a,transaction:t});if("form_conditional_modules"===i.area){const e=n().CI.removeChildModule({pointer:o.pointer,modulesByArea:o.getModules(),module:a});for(const n of e)s().applyOperation({transaction:t,store:o,operation:n})}else{const e="views_main_tab_modules"===i.area?{area:i.area,viewId:i.viewId}:{area:r().mt[i.area]};s().applyOperation({transaction:t,store:o,operation:n().CI.deleteModuleInArea({...e,pointer:o.pointer,moduleId:a.id})})}}({environment:t,transaction:e,layoutStore:p,moduleLocation:_,moduleToDelete:v,beforePerformDeleteModule:f})},userAction:"pageLayout.deleteActions.deleteModuleAtPosition"}),m)&&d().DZ({environment:t,module:v,sessionId:m,collectionId:null===(S=p.getCollectionModel())||void 0===S?void 0:S.id,layoutId:p.id,context:(0,r().AR)(u.area),area:u.area})}},142730:(e,t,o)=>{o.d(t,{IR:()=>T,L0:()=>D,MF:()=>A,gm:()=>B,iQ:()=>R,m2:()=>k});o(821057),o(492176),o(7961),o(267602),o(653476);var n=()=>o(956057),r=()=>o(530980),i=()=>o(308240),a=()=>o(215134),l=()=>o(667932),s=()=>o(137785),d=()=>o(639708),c=()=>o(483791),p=()=>o(593515),u=()=>o(82937),m=()=>o(497065),f=()=>o(269299),y=()=>o(887430),g=()=>o(487270),v=()=>o(793935),_=()=>o(876822),S=()=>o(482162),h=()=>o(826955),x=()=>o(26796),C=()=>o(913011),w=()=>o(655260),b=()=>o(356117);function k(e){let{environment:t,transaction:o,collectionStore:n,userId:i,modules:a}=e;const s=(0,g().Ii)({environment:t,spaceId:n.getSpaceId(),table:c().Bh}),d=h().t1.createChildStore(n,s),{model:p,operations:[u]}=r().rp4.create({pointer:s,parent:n.pointer,createdByUserId:i,modules:a??(0,l()._P)()});f().applyOperation({transaction:o,store:d,operation:u});const m=r().kj1.setLayout(n.pointer,s);return f().applyOperation({transaction:o,store:n,operation:m}),{model:p,store:d}}function I(e){let t;return e?t=e:S().default.state.open&&S().default.state.targetStore?t=S().default.state.targetStore:_().default.state.mainEditorCurrentBlockStore&&(t=_().default.state.mainEditorCurrentBlockStore),t}function M(e){v().setUpdateExpand({environment:e,isExpanded:!1,from:"keyboard_default",saveDetailsSidebarPreference:!1}),u().xv({environment:e,from:"open_page_layout_editor",preventAnimation:!0})}function T(e){var t,o;let{environment:r,blockStore:i,collectionStore:a,collectionViewStore:l,from:s,initialSelectedModuleType:d}=e;const c=function(e){var t;let o=I(e);if(null!==(t=o)&&void 0!==t&&t.isCollectionView()){const e=(0,y().fm)(o);o=e?e.resultsInViewOrder(1).at(0):void 0}return o}(i),p=window.location.href;M(r);const u=n().Il();x().Z.setState({isOpen:!0,mode:"layout-editor",collectionStore:a,pageStore:c,siteRootBlockStore:void 0,sessionId:u,initialSelectedModuleId:null==c||null===(t=c.getAssociatedCollectionStore())||void 0===t||null===(t=t.getLayoutStore())||void 0===t||null===(t=t.getModel())||void 0===t||null===(t=t.firstRawModuleOfType(d??"titleWithIcon"))||void 0===t?void 0:t.id,urlOnOpen:p}),(0,w().Rt)({environment:r,from:s,context:"layout",sessionId:u,collectionId:null==a?void 0:a.id,existingLayoutId:null==a||null===(o=a.getLayoutStore())||void 0===o?void 0:o.id,collectionViewId:null==l?void 0:l.id})}function A(e){let{environment:t,store:o,siteRootBlockStore:r,from:i}=e;const a=I(o);M(t);const l=n().Il();x().Z.setState({isOpen:!0,mode:"site-settings-editor",collectionStore:void 0,pageStore:a,siteRootBlockStore:r,sessionId:l}),(0,w().Rt)({environment:t,context:"site",from:i,sessionId:l,collectionId:void 0,existingLayoutId:void 0})}function D(e){x().Z.getState().isOpen&&B(e)}function B(e){let{environment:t}=e;const o=x().Z.getState();if(!o.isOpen)throw new Error("Cannot close page layout editor. Page layout editor is not open.");"layout-editor"===o.mode&&o.urlOnOpen&&window.location.href!==o.urlOnOpen&&m().op(t),x().Z.setState({isOpen:!1})}function R(e){var t;let{environment:o,transaction:n,property:r,layoutStore:l}=e;const c=x().Z.getSessionId(),u=null===(t=l.getModel())||void 0===t?void 0:t.getRawModules(),m=l.getCollectionModel();if(!u||!m)return;const f=h().NW.createChildStore(l,m.pointer),y=(0,a()._i)(u,(e=>"titleWithIcon"===e.type));if(y&&(0,d().p9)(y.module)){var g;const{module:e,position:t}=y,a={...e,type:"titleWithIcon",propertyIds:null===(g=e.propertyIds)||void 0===g?void 0:g.filter((e=>e!==r))};(0,b().Uq)({environment:o,sessionId:c,transaction:n,layoutStore:l,position:{area:(0,i().Gc)(t.area),moduleId:e.id},updatedModule:(0,s().V)(a)})}const v=(0,a().MI)(u,(e=>"property"===e.type&&e.propertyId===r));for(const{module:a,position:s}of v){const e=a.id,t=(0,i().Gc)(s.area);(0,C().H)({environment:o,sessionId:c,transaction:n,layoutStore:l,position:{area:t,moduleId:e}})}const _=m.getFormat().collection_page_sections;if(_){const e=_.filter((e=>e.section!==r));p().Do({store:f,pageSectionFormats:e,transaction:n,environment:o})}}},356117:(e,t,o)=>{o.d(t,{Uq:()=>m,Wb:()=>y});o(821057),o(267602),o(470928),o(30005);var n=()=>o(109477),r=()=>o(530980),i=()=>o(308240),a=()=>o(712185),l=()=>o(215134),s=()=>o(667932),d=()=>o(639708),c=()=>o(827370),p=()=>o(421654),u=()=>o(269299);function m(e){let{environment:t,transaction:o,layoutStore:n,position:s,updatedModule:d,sessionId:c}=e;const p=i().mt[s.area],m=n.getRawModules();if("form_conditional_modules"===p){const e=null==m?void 0:m[p];if(!(null==e?void 0:e[s.moduleId]))throw new Error("Unable to find module being updated.");return void u().createAndCommitOrAppend({environment:t,transaction:o,canUndo:!0,perform(e){u().applyOperation({transaction:e,store:n,operation:r().CIp.updateNestedModule(n.pointer,p,(0,a().cm)(d))})},userAction:"BuilderLayoutModules.updateModule"})}if(!m)throw new Error("Unable to find modules");const f=(0,l().mT)(m,(e=>e.id===s.moduleId));if(!f||f.area!==p)throw new Error("Unable to find module being updated.");u().createAndCommitOrAppend({environment:t,transaction:o,canUndo:!0,perform(e){u().applyOperation({transaction:e,store:n,operation:r().CIp.updateModuleInArea({pointer:n.pointer,module:(0,a().cm)(d),..."views_main_tab_modules"===f.area?{area:f.area,viewId:f.viewId}:{area:f.area}})})},userAction:"BuilderLayoutModules.updateModule"})}function f(e){var t,o,n;let{collectionStore:r,layoutStore:i}=e;const a=new Map,l=r.getFormat(),s=[...null===(t=i.getModules())||void 0===t?void 0:t.page_main,...null===(o=i.getModules())||void 0===o?void 0:o.page_details],c=new Map;null===(n=l.property_visibility)||void 0===n||n.forEach((e=>{c.set(e.property,e)})),s.forEach((e=>{if(!(0,d().LP)(e))return(0,d().f)(e)?(a.set(e.propertyId,{property:e.propertyId}),void c.set(e.propertyId,{property:e.propertyId,visibility:"show"})):void 0;e.propertyIds.forEach((e=>{a.set(e,{property:e}),c.set(e,{property:e,visibility:"show"})}))}));const p=r.getNormalizedPropertyGroups();var u;p?p.forEach((e=>{var t;null===(t=e.propertyIds)||void 0===t||t.forEach((e=>{a.has(e)||a.set(e,{property:e})}))})):null===(u=l.collection_page_properties)||void 0===u||u.forEach((e=>{a.has(e.property)||a.set(e.property,e)}));return{propertiesFormat:Array.from(a.values()),propertyVisibility:Array.from(c.values())}}function y(e){let{environment:t,transaction:o,collectionStore:i,layoutStore:a}=e;const{propertiesFormat:l,propertyVisibility:m}=f({collectionStore:i,layoutStore:a});u().createAndCommitOrAppend({environment:t,transaction:o,canUndo:!0,perform(e){const t=a.getBlockChildrenPointers(),o=a.getFormat(),f=a.firstModuleOfType("viewsMain");f&&(0,d().aJ)(f)&&t.find((e=>c().dr.isEqual(e,f.collection_view_block_pointer)))&&u().applyOperation({transaction:e,store:a,operation:r().CIp.removeBlockChild(a.pointer,f.collection_view_block_pointer.id)});const y=null==o?void 0:o.previousViewsMainCollectionViewBlockPointer,g=y&&t.find((e=>c().dr.isEqual(e,y)));g&&u().applyOperation({transaction:e,store:a,operation:r().CIp.removeBlockChild(a.pointer,g.id)}),u().applyOperation({transaction:e,store:a,operation:r().CIp.setModulesByAreas(a.pointer,(0,s()._P)())}),u().applyOperation({transaction:e,store:a,operation:r().CIp.deleteFormat(a.pointer)});const v=i.getFormat(),{page_section_visibility:_}=v;p().FH({stores:[i],update:{property_groups:void 0,collection_page_properties:l,property_visibility:m,..._?{page_section_visibility:n().dN}:void 0},transaction:e})},userAction:"BuilderLayoutModules.resetLayoutToDefault"})}},772669:(e,t,o)=>{o.r(t),o.d(t,{deleteViewsModuleDependencies:()=>a});var n=()=>o(349220),r=()=>o(332542),i=()=>o(826955);function a(e){const{layoutStore:t,viewsModule:o,transaction:a}=e,l=(0,n().TO)(i().G.createChildStore(t,o.collection_view_block_pointer));r().hr({childStore:l,parentStore:t,transaction:a})}},615389:(e,t,o)=>{o.d(t,{O:()=>r});class n extends(()=>o(263184))().default{getInitialState(){}waitUntilLoaded(){return this.waitUntil((()=>Boolean(this.state)))}}const r=new n},438665:(e,t,o)=>{o.d(t,{zL:()=>u,lB:()=>m,ZF:()=>p,DV:()=>g,an:()=>f,n9:()=>v,WV:()=>y});var n=()=>o(799891),r=()=>o(741633);const i={plans_page:["lic_25","lic_50","resurrection_offer","ai_fifty_percent_upgrade"],sidebar_upsell:["lic_25","lic_50"]};var a=()=>o(792409),l=()=>o(824462),s=()=>o(308186),d=()=>o(594546),c=()=>o(876822);async function p(e,t){var o;const{spaceId:n,offerCampaign:r}=t;if(!n||!r||null===(o=c().default.state.currentSpaceStore)||void 0===o||!o.canAdmin())return;const i=await l().callApi({eventName:"getCustomerOffer",environment:e,data:{spaceId:n,offerCampaign:r}});return"failed"!==i.type&&"offer"in i.data&&i.data.offer?i.data.offer:void 0}async function u(e){const{environment:t,spaceId:o,offerCampaign:n,entrypoint:r}=e,i=await l().callApi({eventName:"applyCustomerOffer",environment:t,data:{spaceId:o,offerCampaign:n,entrypoint:r??"unknown"}});if("failed"!==i.type)return i;s().x2(i)}async function m(e,t){const o=await l().callApi({eventName:"applyCustomerOffer",environment:e,data:{...t}});if("failed"!==o.type)return o;s().x2(o)}async function f(e){const{environment:t,spaceId:o,offerCampaign:n}=e;return void 0!==await p(t,{spaceId:o,offerCampaign:n})}async function y(e){var t;const{environment:o,hasReceived:i,offerType:s,newPlan:d,coupon:p}=e,u=null===(t=c().default.state.currentSpaceStore)||void 0===t?void 0:t.getSpaceId();if(!u)return;const m=await l().callApi({eventName:"updateCustomerOffer",environment:o,data:{spaceId:u,hasReceived:i,offerType:s,newPlan:d,coupon:p},headers:(0,r().Bb)({cellId:void 0,spaceId:u})});"failed"===m.type&&n().log({level:"error",from:"offerActions",type:"updateLegacyCustomerOfferFailed",error:(0,a().Ui)(m.error)})}async function g(e,t,o){const n=function(e){if(i.hasOwnProperty(e))return i[e]}(o);if(n)for(const r of n){const o=await p(e,{spaceId:t,offerCampaign:r});if((null==o?void 0:o.campaign)===r)return o}}function v(e){let{environment:t,spaceName:o,offerCampaign:n}=e;if(o)switch(n){case"lic_25":case"lic_50":(0,d().lu)(t,"lic_offer_eligible","lic_offer_eligible",3600,{workspace_name:o,lic_25:"lic_25"===n,lic_50:"lic_50"===n});break;case"resurrection_offer":(0,d().lu)(t,"resurrection_offer_eligible","resurrection_offer_eligible",3600,{workspace_name:o});break;default:return}}},437594:(e,t,o)=>{o.d(t,{Dp:()=>a,iI:()=>l,vS:()=>i});var n=()=>o(677559);const r={DowngradeModal:new(n().Ss)("DowngradeModal",(async()=>Promise.all([o.e(62743),o.e(22467),o.e(80895),o.e(31095)]).then(o.bind(o,541616)))),RemoveAddOnModal:new(n().Ss)("RemoveAddOnModal",(async()=>Promise.all([o.e(62743),o.e(80895),o.e(23055)]).then(o.bind(o,947989)))),DeletePaidWorkspaceModal:new(n().Ss)("DeletePaidWorkspaceModal",(async()=>Promise.all([o.e(62743),o.e(80895),o.e(45632)]).then(o.bind(o,558120))))},i=(0,n().kF)(r.DowngradeModal,(e=>e.DowngradeModal)),a=(0,n().kF)(r.RemoveAddOnModal,(e=>e.RemoveAddOnModal)),l=(0,n().kF)(r.DeletePaidWorkspaceModal,(e=>e.DeletePaidWorkspaceModal))},661769:(e,t,o)=>{o.d(t,{pQ:()=>a().p,eG:()=>l().e,bA:()=>s().b,nL:()=>u,Hy:()=>_,PL:()=>m().P,tw:()=>S().t,h1:()=>h().h});var n=()=>o(219727),r=()=>o(801812),i=()=>o(824462);var a=()=>o(595976),l=()=>o(272353),s=()=>o(366637),d=()=>o(142735),c=()=>o(616433),p=()=>o(214488);function u(e){let{spaceId:t}=e;const o=(0,n().O7)(),r=(0,c().J)();return(0,d().VK)((()=>{if(!t||!r)return;const e=p().Z.getData(o,{spaceId:t});return null==e?void 0:e.billingData}),[o,t,r])}var m=()=>o(258590),f=()=>o(629719),y=()=>o(876822),g=()=>o(18281),v=()=>o(30795);function _(e,t){const o=(0,d().Kw)(e),n=(0,v().V)(o),l=(0,d().VK)((()=>{var e;return null===(e=y().default.state.currentSpaceStore)||void 0===e?void 0:e.id}),[]),s=(0,a().p)({spaceId:l}),c=(0,d().VK)((()=>g().Nf({billingData:s,spaceStore:y().default.state.currentSpaceStore})),[s]),[{value:p}]=(0,r().r5)((()=>i().callApi({eventName:"isEmailEducation",environment:t,data:{}})),[t]);return!!p&&("failed"!==p.type&&(!!p.data.isEligible&&(!!o&&(!!s&&(!Boolean((0,f().a7)(s.subscription,"plan"))&&(c&&1===n))))))}var S=()=>o(76999),h=()=>o(205729)},415339:(e,t,o)=>{o.d(t,{T:()=>i});var n=()=>o(142735),r=()=>o(18281);function i(e){return(0,n().VK)((()=>r().AX(e.state)),[e])}},272353:(e,t,o)=>{o.d(t,{e:()=>a});var n=()=>o(142735),r=()=>o(876822),i=()=>o(18281);function a(e){return(0,n().VK)((()=>i().Nf({billingData:e,spaceStore:r().default.state.currentSpaceStore})),[e])}},366637:(e,t,o)=>{o.d(t,{b:()=>g});var n=o(667294),r=()=>o(219727),i=()=>o(142735),a=()=>o(893146),l=()=>o(381348),s=()=>o(824462),d=()=>o(228772),c=()=>o(345918),p=()=>o(669086),u=()=>o(519563),m=()=>o(876822),f=()=>o(697623),y=()=>o(741380);function g(e){const t=(0,r().O7)(),[o,g]=(0,n.useState)(!1),v=function(e){const t=(0,y().m)("ai_fifty_percent_upgrade"),o=(0,p().y)(),n=(0,u().S)();return(0,i().VK)((()=>{const r=t&&!o&&(0,f().iJ)()&&1===n,i=(0,c().zP)(m().default.state.currentSpaceStore);return Boolean(r&&(!i||"sidebar"!==e||i>=7))}),[t,o,n,e])}(e),_=(0,d().r)(),S=(0,i().VK)((()=>null==_?void 0:_.canAdmin()),[_]),h=(0,i().VK)((()=>null==_?void 0:_.getSpaceId()),[_]);return(0,n.useEffect)((()=>{!async function(){if(v&&h&&S)try{const o=await s().callApi({eventName:"getCustomerOffer",environment:t,data:{spaceId:h,offerCampaign:"ai_fifty_percent_upgrade"}});if("failed"===o.type)return;if("offer"in o.data){var e;const t=(0,a().iQ)(null===(e=o.data)||void 0===e?void 0:e.offer);g((0,l().pp)(t))}}catch(o){return}}()}),[t,v,h,S]),o}},348964:(e,t,o)=>{o.d(t,{f:()=>a});var n=o(667294),r=()=>o(219727),i=()=>o(824462);function a(){const e=(0,r().O7)(),[t,o]=(0,n.useState)();return(0,n.useEffect)((()=>{!async function(){const t=await i().callApi({eventName:"getExternalOrgData",environment:e,data:{}});if("failed"===t.type)return;const n=t.data;o(n)}()}),[e]),t}},741380:(e,t,o)=>{o.d(t,{m:()=>s});var n=o(667294),r=()=>o(219727),i=()=>o(142735),a=()=>o(876822),l=()=>o(438665);function s(e){const t=(0,r().O7)(),[o,s]=(0,n.useState)(),d=(0,i().VK)((()=>{var e;return null===(e=a().default.state.currentSpaceStore)||void 0===e?void 0:e.getSpaceId()}),[]);return(0,n.useEffect)((()=>{!async function(){d&&s(await(0,l().an)({environment:t,spaceId:d,offerCampaign:e}))}()}),[t,d,e]),o}},258590:(e,t,o)=>{o.d(t,{P:()=>i});var n=o(667294),r=()=>o(348964);function i(){const e=(0,r().f)(),[t,o]=(0,n.useState)();return(0,n.useEffect)((()=>{o(!(!e||!("company_employee_count"in e))&&parseInt(e.company_employee_count)>99)}),[e]),t}},76999:(e,t,o)=>{o.d(t,{t:()=>i});var n=()=>o(142735),r=()=>o(18281);function i(e){return(0,n().VK)((()=>r().YK(e.state)),[e])}},205729:(e,t,o)=>{o.d(t,{h:()=>s});var n=o(667294),r=()=>o(219727),i=()=>o(142735),a=()=>o(876822),l=()=>o(254687);function s(){const e=(0,r().O7)(),[t,o]=(0,n.useState)([]),s=(0,i().VK)((()=>{var e;return null===(e=a().default.state.currentSpaceStore)||void 0===e?void 0:e.id}),[]);return(0,n.useEffect)((()=>{(async()=>{if(s){const t=await(0,l().aQ)({environment:e,spaceId:s});o(t)}})()}),[e,s]),t}},550649:(e,t,o)=>{o.d(t,{Z:()=>l});var n=()=>o(629719),r=()=>o(403587),i=()=>o(663773),a=()=>o(595976);function l(e){const t=(0,r().R)({spaceStore:e}),o=(0,a().p)({spaceId:e.id}),l=(0,i().kw)(e.id,null==o?void 0:o.subscription,t.loading?0:t.members.length);return Boolean(!(0,n().zG)(null==o?void 0:o.subscription)&&!(0,n().Rd)(null==o?void 0:o.subscription)&&!(0,n().lx)(null==o?void 0:o.subscription)&&l>0)}},999582:(e,t,o)=>{o.d(t,{Z:()=>i});class n extends(()=>o(263184))().default{getInitialState(){return{}}}const r=new n;o(947115).exposeDebugValue("SpaceWorkflowTemplateInstanceMapStore",r);const i=r},29488:(e,t,o)=>{function n(e){return`${e.table}:${e.id}`}o.d(t,{O:()=>n})},157955:(e,t,o)=>{o.r(t),o.d(t,{DEFAULT_MAX_RECURRENCE_DUPLICATION_PER_TASK:()=>A,MAXIMUM_DAILY_RECURRENCES_IN_PATH:()=>C,MAXIMUM_NESTED_RECURRENCE_LEVEL:()=>x,MAX_RECURRENCE_INTERVAL:()=>g,MAX_RECURRENCE_NUMBER_OF_RUNS:()=>v,RRULE_WEEKDAYS_MAP:()=>y,convertFromUnpersistedRecurrenceConfig:()=>E,convertToUnpersistedRecurrenceConfig:()=>D,getFormattedEndCondition:()=>T,getFormattedNextRecurrenceTime:()=>M,getNewEndTimestamp:()=>B,getNextDateUtc:()=>I,getRecurrenceAfter:()=>b,isRunningBetweenMidnightAnd3AM:()=>k,isValidRecurrenceInterval:()=>_,isValidRecurrenceNumberOfRuns:()=>S,rruleFromRecurrence:()=>h,templateAncestorsViolateRecurrenceNesting:()=>w});o(267602),o(653476),o(241792);var n=()=>o(730120);o(670560);function r(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];if(0===o.length)return e.map((e=>[e]));const i=[];for(const a of e)i.push(...r(o[0],...o.slice(1)).map((e=>[a,...e])));return i}var i=()=>o(696459),a=()=>o(326966),l=()=>o(803021),s=()=>o(646574),d=()=>o(998411),c=()=>o(578292);class p extends(()=>o(484885))().Ci{constructor(e,t){super(e,t)}after(e,t){return super.after(e,t)}}var u=()=>o(494616);const m=(0,o(788860).vU)({dateAtTime:{id:"automations.recurrenceHelpers.dateAtTime",defaultMessage:"{date} at {time}"},dateBetweenMidnightAnd3AM:{id:"automations.recurrenceHelpers.dateBetweenMidnightAnd3AM",defaultMessage:"{date} between 123 AM"},numberEndConditionDescription:{id:"automations.recurrenceHelpers.numberEndConditionDescription",defaultMessage:"{number, plural, one {After {number} run} other {After {number} runs}}"},noEndCondition:{id:"automations.recurrenceHelpers.noEndCondition",defaultMessage:"Never"}}),f={day:p.DAILY,week:p.WEEKLY,month:p.MONTHLY,year:p.YEARLY},y={MO:p.MO,TU:p.TU,WE:p.WE,TH:p.TH,FR:p.FR,SA:p.SA,SU:p.SU},g=99,v=999;function _(e){return(0,a().hj)(e)&&Number.isInteger(e)&&e>0&&e<=g}function S(e){return(0,a().hj)(e)&&Number.isInteger(e)&&e>0&&e<=v}function h(e){const{start_date:t,frequency:o,interval:n,weekdays:a,timezone:s,hour:d,minute:c}=e,u="week"===o&&a?a.map((e=>y[e])):void 0,m={};return(0,i().$K)(e.end_condition)&&("date"===e.end_condition.type?m.until=(0,l().pd)(e.end_condition.end_at):"number"===e.end_condition.type?m.count=e.end_condition.number_of_occurrences:(0,i().t1)(e.end_condition)),"month"===e.frequency&&(0,i().$K)(e.monthly_restriction)&&("monthdays"===e.monthly_restriction.type?m.bymonthday=e.monthly_restriction.monthdays:"weekdays_in_month"===e.monthly_restriction.type?m.byweekday=r(e.monthly_restriction.weekdays,e.monthly_restriction.week_numbers).map((e=>{let[t,o]=e;return y[t].nth(o)})):(0,i().t1)(e.monthly_restriction)),new p({freq:f[o],dtstart:(0,l().pd)(t),interval:n,byweekday:u,tzid:s,byhour:d??0,byminute:c??0,bysecond:0,...m})}const x=1,C=1;function w(e){var t;if(0===e.length)return{violatesConstraint:!1,templateNestingExceedsMaxDepth:!1,ancestorHasDailyTemplate:!1,nestedDepthOfAutomationAncestors:void 0,immediateAncestorRecurrenceType:void 0};const o=e.filter((e=>{var t;return"day"===(null===(t=e.getRecurrence())||void 0===t?void 0:t.frequency)})),n=e.length,r=null===(t=e[0].getRecurrence())||void 0===t?void 0:t.frequency,i=n>x,a=o.length>=C;return{violatesConstraint:i||a,templateNestingExceedsMaxDepth:i,ancestorHasDailyTemplate:a,nestedDepthOfAutomationAncestors:n,immediateAncestorRecurrenceType:r}}function b(e){const{recurrence:t,afterDate:o}=e;if((0,u().nA)(t)){const e=(0,l().kq)(o);return t.start_date>=e?new Date(t.start_date):void 0}{const e=h(t).after((0,l().pd)(o));if(!e)return;return(0,l().YL)(e)}}function k(e){return 0===e.hour||1===e.hour||2===e.hour}function I(e){return h(e).after((0,l().pd)((0,l().Jh)()))||void 0}function M(e){const{recurrence:t,intl:o}=e,r=I(E(t));if(!r)return;const i=k(t),a=n().ou.fromJSDate(r).toUTC().setZone("local",{keepLocalTime:!0}).setLocale((0,c().E2)(o)).setZone(t.timezone),l=(0,s().p6)({date:a,dateFormat:"relative",allowRelativeDates:!0,intl:o,shortenDate:!0});if(i)return o.formatMessage(m.dateBetweenMidnightAnd3AM,{date:l});{let e=a.toLocaleString(n().ou.TIME_SIMPLE);return t.timezone!==(0,d().r)()&&(e+=` ${a.toFormat("ZZZZ")}`),o.formatMessage(m.dateAtTime,{date:l,time:e})}}function T(e,t){return(0,i().$K)(e)?"number"===e.type?t.formatMessage(m.numberEndConditionDescription,{number:e.number_of_occurrences}):"date"===e.type?(0,s().p6)({date:n().ou.fromMillis(e.end_at),dateFormat:"relative",allowRelativeDates:!0,intl:t,shortenDate:!0}):void(0,i().t1)(e):t.formatMessage(m.noEndCondition)}const A=100;function D(e){return{...e,start_date:(0,l().kq)(e.start_date),end_condition:e.end_condition?"number"===e.end_condition.type?e.end_condition:"date"===e.end_condition.type?{type:"date",end_at:(0,l().kq)(e.end_condition.end_at)}:(0,i().t1)(e.end_condition):void 0}}function B(e,t,o){return e.plus(o-t)}function R(e,t){const o=n().ou.fromMillis(t.end_at).set({hour:e.hour??0,minute:e.minute??0});return{type:"date",end_at:(0,l().Jh)(o.toJSDate())}}function E(e){return{...e,start_date:(0,l().Jh)(new Date(e.start_date)),end_condition:e.end_condition?"number"===e.end_condition.type?e.end_condition:"date"===e.end_condition.type?R(e,e.end_condition):(0,i().t1)(e.end_condition):void 0}}},73363:(e,t,o)=>{o.d(t,{M:()=>n});const n=(0,o(827282).CZ)("questionMarkCircled",{default:{loader:()=>o.e(18872).then(o.bind(o,118872))},small:{loader:()=>o.e(95020).then(o.bind(o,295020))},mini:{loader:()=>o.e(51419).then(o.bind(o,651419))},large:{loader:()=>o.e(78727).then(o.bind(o,678727))}})},981219:(e,t,o)=>{o.d(t,{U:()=>n});const n=(0,o(827282).CZ)("xmark",{default:{loader:()=>o.e(71448).then(o.bind(o,471448))},small:{loader:()=>o.e(24056).then(o.bind(o,624056))},mini:{loader:()=>o.e(84500).then(o.bind(o,384500))},large:{loader:()=>o.e(71533).then(o.bind(o,71533))}})},682890:(e,t,o)=>{o.d(t,{M:()=>r});o(667294);var n=o(785893);const r=(0,o(827282).IU)("arrowDown",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M8 1.57715C7.5625 1.57715 7.25488 1.88477 7.25488 2.33594V10.8262L7.30957 12.3027L5.50488 10.2861L3.95312 8.75488C3.82324 8.625 3.63184 8.53613 3.42676 8.53613C3.0166 8.53613 2.70898 8.85059 2.70898 9.26758C2.70898 9.46582 2.78418 9.64355 2.94141 9.80762L7.44629 14.3193C7.59668 14.4697 7.79492 14.5586 8 14.5586C8.20508 14.5586 8.40332 14.4697 8.55371 14.3193L13.0586 9.80762C13.2158 9.64355 13.291 9.46582 13.291 9.26758C13.291 8.85059 12.9902 8.53613 12.5801 8.53613C12.3682 8.53613 12.1836 8.625 12.0469 8.75488L10.4951 10.2861L8.69043 12.2959L8.74512 10.8262V2.33594C8.74512 1.88477 8.44434 1.57715 8 1.57715Z"})})},889919:(e,t,o)=>{o.d(t,{k:()=>r});o(667294);var n=o(785893);const r=(0,o(827282).IU)("arrowRightSmaller",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M15.383 8.352a.877.877 0 01-.274.64l-5.156 5.14a.864.864 0 01-.617.266.831.831 0 01-.602-.234.795.795 0 01-.234-.586c0-.12.02-.232.063-.336a.912.912 0 01.187-.273l1.75-1.766 2.914-2.656.274.5-2.711.156H1.484c-.26 0-.471-.078-.632-.234a.851.851 0 01-.235-.617c0-.256.078-.461.235-.618a.856.856 0 01.632-.242h9.493l2.71.164-.273.508L10.5 5.5 8.75 3.727a.946.946 0 01-.188-.266.917.917 0 01-.062-.344c0-.234.078-.43.234-.586a.831.831 0 01.602-.234.79.79 0 01.328.07c.104.047.203.117.297.211l5.148 5.133a.877.877 0 01.274.64z"})})},254216:(e,t,o)=>{o.d(t,{o:()=>r});o(667294);var n=o(785893);const r=(0,o(827282).IU)("settingsIdentityProvisioning",{viewBox:"0 0 20 20",svg:(0,n.jsx)("path",{d:"M9.952 17.194a.8.8 0 0 1-.219-.04 1.5 1.5 0 0 1-.26-.103 48 48 0 0 1-2.488-1.45q-1.011-.635-1.633-1.237a3.8 3.8 0 0 1-.896-1.299q-.273-.704-.273-1.64V6.257q0-.609.239-.889.246-.287.752-.499.225-.096.636-.253.41-.157.909-.335.498-.185.991-.362.492-.178.895-.315.411-.143.636-.205.171-.04.356-.075.184-.04.355-.04.179 0 .363.033.19.034.355.082a98 98 0 0 1 1.531.54 63 63 0 0 1 1.9.684q.411.15.636.246.513.218.752.5.24.279.24.888v5.168q0 .936-.274 1.64-.273.697-.895 1.306-.615.602-1.634 1.237-1.012.636-2.489 1.443-.136.068-.266.102a.7.7 0 0 1-.219.041m0-1.442a.5.5 0 0 0 .164-.034q.09-.034.233-.123 1.155-.697 1.941-1.197.793-.505 1.265-.957.479-.45.683-.977.205-.533.205-1.292V6.476a.6.6 0 0 0-.047-.267q-.048-.096-.185-.144a64 64 0 0 1-.718-.253l-.84-.3-.869-.315-.813-.294a33 33 0 0 1-.656-.253 2 2 0 0 0-.206-.061.65.65 0 0 0-.314 0 2 2 0 0 0-.198.061q-.274.11-.657.246-.382.137-.82.288a75 75 0 0 0-1.716.615q-.396.143-.697.266-.144.056-.191.144a.6.6 0 0 0-.048.267v4.696q0 .751.205 1.278t.67.978q.471.444 1.258.95.792.506 1.962 1.217.143.089.232.123t.157.034m-.724-2.632a.7.7 0 0 1-.342-.082 1.2 1.2 0 0 1-.294-.26L6.979 10.81a.74.74 0 0 1-.178-.458.6.6 0 0 1 .17-.431.57.57 0 0 1 .425-.185q.157 0 .28.069.129.06.253.225L9.2 11.644l2.7-4.328q.213-.348.534-.348.24 0 .43.157a.5.5 0 0 1 .192.41.6.6 0 0 1-.055.24q-.047.116-.116.218l-3.056 4.778q-.219.35-.601.35Z"})})},163839:(e,t,o)=>{o.d(t,{_:()=>r});o(667294);var n=o(785893);const r=(0,o(827282).IU)("settingsUpgrade",{viewBox:"0 0 20 20",svg:(0,n.jsx)("path",{d:"M9.969 17.938c4.36 0 7.969-3.618 7.969-7.97C17.938 5.61 14.32 2 9.96 2 5.609 2 2 5.61 2 9.969c0 4.351 3.617 7.969 7.969 7.969zm0-1.329a6.609 6.609 0 01-6.633-6.64 6.602 6.602 0 016.625-6.64 6.627 6.627 0 016.648 6.64 6.61 6.61 0 01-6.64 6.64zm0-2.734a.562.562 0 00.586-.586V9.383l-.063-1.656.797.945.922.937a.52.52 0 00.414.172c.32 0 .57-.242.57-.562a.566.566 0 00-.164-.406L10.43 6.219c-.149-.149-.29-.227-.461-.227-.164 0-.297.07-.453.227l-2.61 2.593a.555.555 0 00-.148.407c0 .32.242.562.562.562a.572.572 0 00.414-.172l.93-.937.781-.938-.062 1.649v3.906c0 .344.25.586.586.586z"})})},116223:(e,t,o)=>{o.d(t,{X:()=>r});o(667294);var n=o(785893);const r=(0,o(827282).IU)("verificationCheck",{viewBox:"0 0 6 7",svg:(0,n.jsx)("path",{d:"M2.84245 6.11619C2.71116 6.30644 2.53392 6.40156 2.31072 6.40156C2.20131 6.40156 2.10066 6.37881 2.00875 6.33332C1.92123 6.28782 1.83589 6.21545 1.75274 6.11619L0.150985 4.25515C0.0503282 4.12694 0 3.99874 0 3.87053C0 3.73406 0.04814 3.61826 0.14442 3.52314C0.245077 3.42388 0.365427 3.37425 0.50547 3.37425C0.597374 3.37425 0.680525 3.39286 0.754923 3.43008C0.833698 3.46317 0.912473 3.52934 0.991247 3.6286L2.28446 5.21049L5.00875 1.07896C5.13129 0.892857 5.28446 0.799805 5.46827 0.799805C5.60394 0.799805 5.72648 0.841161 5.83589 0.923874C5.9453 1.00659 6 1.11618 6 1.25266C6 1.32297 5.98249 1.39327 5.94748 1.46358C5.91685 1.52975 5.88184 1.59178 5.84245 1.64968L2.84245 6.11619Z"})})},667932:(e,t,o)=>{o.d(t,{KD:()=>s,_I:()=>d,_P:()=>p,l2:()=>u,x9:()=>c});o(267602),o(653476),o(241792);var n=()=>o(543172),r=()=>o(210349),i=()=>o(639708),a=()=>o(712185);const l={page_main:[{id:"cover",type:"cover"},{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyIds:[]},{id:"properties",type:"properties"},{id:"discussions",type:"discussions"},{id:"editor",type:"editor"}],page_details:[],form_layout_schema:[]},s={page_main:[{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyIds:[]},{id:"editor",type:"editor"}],page_details:[],form_layout_schema:[]},d={page_main:[{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyIds:[]},{id:"editor",type:"editor"},{id:"discussions",type:"discussions"}],page_details:[],form_layout_schema:[]};function c(e){return(0,a().Dl)({modulesByArea:l,collectionSchema:null==e?void 0:e.collectionSchema,collectionFormat:null==e?void 0:e.collectionFormat})}function p(){return{page_layout_schema:(0,a().L0)(l.page_main).map((e=>{if(!(0,i().zP)(e))return(0,r().T)(e)?{...e,id:(0,n().ZP)()}:e})).filter((e=>void 0!==e)),page_info_layout_schema:(0,a().L0)(l.page_details).map((e=>{if(!(0,i().zP)(e))return(0,r().T)(e)?{...e,id:(0,n().ZP)()}:e})).filter((e=>void 0!==e)),form_layout_schema:void 0}}function u(e,t){const o=void 0===t?[{id:(0,n().ZP)(),type:"formQuestion",formQuestionId:e}]:[{id:(0,n().ZP)(),type:"formQuestion",formQuestionId:e},{id:(0,n().ZP)(),type:"formQuestion",formQuestionId:t}];return{page_layout_schema:void 0,page_info_layout_schema:void 0,form_layout_schema:[{id:(0,n().ZP)(),type:"cover"},{id:(0,n().ZP)(),type:"formTitle"},...o,{id:(0,n().ZP)(),type:"formSubmit"}]}}},210349:(e,t,o)=>{o.d(t,{T:()=>a,s:()=>i});const n={normalizedTitleWithIcon:!0,properties:!0,property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,property_geo_point:!0,views:!0,viewsMain:!0,relationsGroup:!0,formQuestion:!0,placeholder:!0,deleted_property:!1,cover:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,transcript:!1,formTitle:!1,formSubmit:!1},r={properties:!0,property:!0,relationsGroup:!0,formQuestion:!0,placeholder:!0,titleWithIcon:!0,cover:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,transcript:!1,formTitle:!1,formSubmit:!1,views:!0,viewsMain:!0,collectionView:!0,collectionViewV2:!0};function i(e,t){return n[e.type]}function a(e){return r[e.type]}},6623:(e,t,o)=>{o.d(t,{Fo:()=>i,m7:()=>a});const n={property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,property_geo_point:!0,deleted_property:!1,relationsGroup:!0,formSubmit:!0,formQuestion:!0,formTitle:!0,placeholder:!0,transcript:!0,cover:!1,normalizedTitleWithIcon:!1,properties:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,views:!0,viewsMain:!1},r={property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,property_geo_point:!0,deleted_property:!1,formSubmit:!1,formQuestion:!1,formTitle:!1,placeholder:!1,transcript:!1,cover:!1,normalizedTitleWithIcon:!1,properties:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,relationsGroup:!0,editor:!1,views:!1,viewsMain:!1};function i(e){return n[e.type]}function a(e){return r[e.type]}},856466:(e,t,o)=>{o.d(t,{$X:()=>a,F_:()=>l,iZ:()=>i});o(267602),o(470928);var n=()=>o(926724),r=()=>o(295617);const i={autoCompleteSprints:!1,actionConfig:{complete_sprint_action:"complete_sprint_and_move_incomplete_tasks_to_next_sprint"},recurrenceConfig:{interval:2,weekdays:["MO"]}};function a(e){const{eventTracker:t,properties:o}=e;t.DO_NOT_USE_commonTrackEvent({eventName:"complete_sprint_action",properties:o})}function l(e,t){var o;return null===(o=t.groups)||void 0===o||null===(o=o.find((t=>t.id===n().nl||(null==t?void 0:t.name)===r().RW||(null==t?void 0:t.name)===e.formatMessage(r().ct.statusGroupNameComplete))))||void 0===o?void 0:o.name}},126301:(e,t,o)=>{o.d(t,{DW:()=>l,IX:()=>a,Su:()=>r,rP:()=>i});var n=()=>o(730120);function r(e){if("week"===e.frequency&&e.weekdays&&1===e.weekdays.length)return{weekday:e.weekdays[0],duration:e.interval}}function i(e){const{currentSprintEndDate:t,sprintSchedule:o}=e;return s({startDate:c({dateToAdjust:n().ou.fromISO(t),weekday:o.weekday,wrapForEqualDays:!0}),duration:o.duration})}function a(e){const{userTimeZone:t,sprintSchedule:o}=e;return s({startDate:n().ou.local({zone:t}),duration:o.duration})}function l(e){const{currentSprintStartDate:t,sprintSchedule:o}=e,r=c({dateToAdjust:n().ou.fromISO(t),weekday:o.weekday,wrapForEqualDays:!1}),{end_date:i}=s({startDate:r,duration:o.duration});let a=n().ou.fromISO(i);const l=n().ou.now().startOf("day");for(;a.diff(l,"days").days<0;)a=a.plus({weeks:1});return{type:"daterange",start_date:a.plus({days:1}).minus({weeks:o.duration}).toISODate(),end_date:a.toISODate()}}function s(e){const{startDate:t,duration:o}=e,n=t.plus({weeks:o}).minus({days:1});return{type:"daterange",start_date:t.toISODate(),end_date:n.toISODate()}}const d={SU:0,MO:1,TU:2,WE:3,TH:4,FR:5,SA:6};function c(e){const{dateToAdjust:t,weekday:o,wrapForEqualDays:n}=e,r=p({currentWeekday:t.weekday%7,nextWeekday:d[o],wrapForEqualDays:n});return t.plus({days:r})}function p(e){const{currentWeekday:t,nextWeekday:o,wrapForEqualDays:n}=e,r="number"==typeof t?t:d[t],i="number"==typeof o?o:d[o];if(r===i)return n?7:0;let a=r,l=0;for(;a!==i;)a===d.SA?a=0:a+=1,l+=1;return l}}}]);