"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[32175],{641481:(e,s,i)=>{i.d(s,{Z:()=>n});i(667294);var t=i(785893);const n=function(e){const s=(0,i(219727).O7)(),n=(0,i(846550).Fg)();return(0,t.jsx)(i(108714).Z,{style:{display:"flex",alignSelf:"stretch",width:36,...e.isRight?{marginRight:-8}:{marginLeft:-8}},external:!0,href:e.href,onClick:()=>i(407391).Fs(s,{from:e.analyticsFrom}),children:(0,t.jsx)(i(154186).Z,{mobileFeedback:!0,style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},children:(0,i(456681).m)({width:18,marginTop:1,fill:n.lightIconColor})})})}},98148:(e,s,i)=>{i.d(s,{B:()=>l,v:()=>a});i(267602),i(30005);var t=()=>i(542487),n=()=>i(18281),o=()=>i(897257),r=()=>i(239482);function a(){const e=o().subscriptionDataStoreInstance.state,s=e?n().CM(e):[],i=new Map;return s.forEach((e=>{i.set(e.userId,e)})),i}function l(e){const{spaceVisibleUserMap:s,blockStore:i,userId:n}=e,o=s.get(n);if(!o||"none"!==o.role)return;if(!o.isTeamGuest)return"guest";const a=r().VP(i),l=null==a?void 0:a.getModel();if(!l)return"guest";return(0,t().s8)({team:l,userId:n})?"team_level_guest":"guest"}},609836:(e,s,i)=>{i.d(s,{b:()=>l});var t=()=>i(219727),n=()=>i(142735),o=()=>i(788860),r=()=>i(345918),a=()=>i(876822);function l(){const e=(0,t().O7)(),s=(0,o().YB)();return(0,n().VK)((()=>{const{currentSpaceStore:i}=a().default.state;return i?(0,r().rn)(e,i):s.formatMessage({defaultMessage:"Untitled workspace",id:"spaceHelpers.getSpaceName.untitledWorkspace.name"})}),[e,s])}},395143:(e,s,i)=>{i.d(s,{w:()=>p});i(667294);var t=i(785893);const n=(0,i(827282).IU)("arrowsConverging",{viewBox:"0 0 16 16",svg:(0,t.jsx)("path",{d:"M4.47949 13.2667C4.27441 13.2667 4.11263 13.2006 3.99414 13.0684C3.88021 12.9408 3.82324 12.7881 3.82324 12.6104C3.82324 12.3552 3.9349 12.1569 4.1582 12.0157L4.70508 11.667C4.94206 11.5075 5.20866 11.2956 5.50488 11.0313C5.80566 10.7624 6.09277 10.4594 6.36621 10.1221C6.64421 9.78488 6.87207 9.42485 7.0498 9.04204C7.22754 8.65923 7.31641 8.27414 7.31641 7.88677V4.46196H8.67676V7.88677C8.67676 8.27414 8.76562 8.65923 8.94336 9.04204C9.12109 9.42485 9.34668 9.78716 9.62012 10.129C9.89355 10.4662 10.1807 10.767 10.4814 11.0313C10.7822 11.2956 11.0511 11.5075 11.2881 11.667L11.835 12.0157C12.0583 12.1569 12.1699 12.3552 12.1699 12.6104C12.1699 12.7972 12.1107 12.9522 11.9922 13.0752C11.8737 13.2028 11.7119 13.2667 11.5068 13.2667C11.3109 13.2667 11.1195 13.2051 10.9326 13.0821L10.5771 12.8428C10.3447 12.6879 10.0941 12.4942 9.8252 12.2618C9.56087 12.0248 9.30339 11.7741 9.05273 11.5098C8.80208 11.2455 8.58333 10.9903 8.39648 10.7442C8.20964 10.4981 8.07975 10.2839 8.00684 10.1016H7.98633C7.91341 10.2839 7.78125 10.5004 7.58984 10.751C7.40299 10.9971 7.18424 11.2523 6.93359 11.5167C6.68294 11.7764 6.42318 12.0248 6.1543 12.2618C5.88997 12.4942 5.64388 12.6879 5.41602 12.8428L5.06055 13.0821C4.8737 13.2051 4.68001 13.2667 4.47949 13.2667ZM6.29102 5.36431C6.02669 5.36431 5.86263 5.28228 5.79883 5.11821C5.73503 4.95415 5.77832 4.76502 5.92871 4.55083L7.5625 2.26079C7.68555 2.08306 7.83138 1.99647 8 2.00103C8.16862 2.00103 8.31445 2.08761 8.4375 2.26079L10.0576 4.55767C10.2126 4.7673 10.2559 4.95415 10.1875 5.11821C10.1237 5.28228 9.96191 5.36431 9.70215 5.36431H6.29102Z"})});var o=()=>i(788860),r=()=>i(707513),a=()=>i(308186),l=()=>i(784234),m=()=>i(269299),d=()=>i(525496),c=()=>i(67961),u=()=>i(877807);async function p(e){const{environment:s,useSudoMode:i,store:p,permissionChanges:g,from:h,shareMenuSessionId:b,isRedesignEnabled:f,parentStore:v}=e,x={type:"restore",permissionChanges:g},y=x.permissionChanges.length>0;(f?!y||(await a().gt({message:(0,u().mX)(x,f),description:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c().Z,{isSmall:!0,isMultiline:!0,children:(0,t.jsx)(o()._H,{id:"restrictedPermissionConfirmationModal.relink.caption",defaultMessage:"The following settings will be restored to match {parentName}",values:{parentName:(0,t.jsx)(d().Z,{store:v,style:{fontWeight:r().Ue.regular},useInvertedColors:!1})}})}),(0,t.jsx)(u().mo,{openState:x})]}),acceptColor:"blue",acceptLabel:(0,u().nH)(x,f),icon:n({height:24,width:24})})).accept:(await a().gt({message:(0,u().mX)(x),acceptLabel:(0,u().nH)(x),cancelLabel:(0,t.jsx)(o()._H,{id:"restrictedPermissionConfirmationModal.actionButton.close",defaultMessage:"Close"}),description:(0,t.jsx)(u().mo,{openState:x})})).accept)&&(p.getPermissionItemsStore().canAdmin()?m().createAndCommit({userAction:"PermissionsRestoreBanner.restoreRestrictedPermissions",environment:s,canUndo:!0,useSudoMode:i,perform:e=>{l().MX({environment:s,store:p,transaction:e,from:h,shareMenuSessionId:b})}}):l().hs({environment:s,store:p,from:h,shareMenuSessionId:b}))}},569849:(e,s,i)=>{i.d(s,{K:()=>m});i(667294);var t=()=>i(788860),n=()=>i(308186),o=()=>i(784234),r=()=>i(269299),a=()=>i(877807),l=i(785893);async function m(e){const{environment:s,useSudoMode:i,store:m}=e,d={type:"restoreTeamPermissions",permissionChanges:[]},{accept:c}=await n().gt({message:(0,a().mX)(d),acceptLabel:(0,a().nH)(d),cancelLabel:(0,l.jsx)(t()._H,{id:"restrictedPermissionConfirmationModal.actionButton.close",defaultMessage:"Close"})});c&&r().createAndCommit({userAction:"PermissionsRestoreBanner.restoreTeamPermissions",environment:s,canUndo:!0,useSudoMode:i,perform:e=>{o().Kh({environment:s,store:m,transaction:e})}})}},343308:(e,s,i)=>{i.d(s,{CC:()=>l,oh:()=>g});i(267602),i(653476),i(241792);var t=()=>i(696459),n=()=>i(930085),o=()=>i(594546),r=()=>i(572623),a=()=>i(807463);function l(e){const{environment:s,internalDomains:i,inviteResults:o,destination:l,metadata:g}=e;0!==o.length&&(function(e){var s;const{addedPermissions:i,environment:t,internalDomains:o,metadata:a,destination:l}=e;if(0===i.length)return;const m=i.map((e=>e.invite.inviteTarget)),d=i.map((e=>e.blockPermissionItem)),u=i.filter(c).filter((e=>void 0!==e.invite.internalDomain)).map((e=>e.inviteeUserId));n().jB(t,{domainType:(0,r().JF)(),internal_domains:o??[],invite_flow_id:a.inviteFlowId,invite_message_length:(null===(s=a.inviteMessage)||void 0===s?void 0:s.length)??0,invite_origin:a.inviteOrigin,invite_targets:m,invitee_ids_with_internal_domain:u,invitee_ids_with_internal_domain_enforced:[],is_onboarding:!1,is_space:!1,permission_items:d,role:l.blockRole,share_menu_session_id:a.shareMenuSessionId})}({addedPermissions:o.filter(u),environment:s,internalDomains:i,destination:l,metadata:g}),function(e){var s;const{createdMembers:i,environment:t,internalDomains:o,metadata:a,destination:l}=e;if(0===i.length)return;const m=i.map((e=>e.invite.inviteTarget)),d=i.map((e=>e.spacePermissionItem)),c=i.filter((e=>void 0!==e.invite.internalDomain)).map((e=>e.inviteeUserId)),u=i.filter((e=>e.wasInternalDomainEnforced)).map((e=>e.inviteeUserId));if(n().jB(t,{domainType:(0,r().JF)(),internal_domains:o??[],invite_flow_id:a.inviteFlowId,invite_message_length:(null===(s=a.inviteMessage)||void 0===s?void 0:s.length)??0,invite_origin:a.inviteOrigin,invite_targets:m,invitee_ids_with_internal_domain:c,invitee_ids_with_internal_domain_enforced:u,is_onboarding:!1,is_space:!0,permission_items:d,role:l.spaceRole,share_menu_session_id:a.shareMenuSessionId}),u.length>0){const e=o?o.map((e=>e.url)):[];n().oI(t,{invite_flow_id:a.inviteFlowId,invite_origin:a.inviteOrigin,user_ids:u,internal_domains:e})}}({createdMembers:o.filter(p),environment:s,internalDomains:i,destination:l,metadata:g}),function(e){const{createdGuestRequests:s,environment:i,destination:o,metadata:r}=e;if(0===s.length)return;const a=s.filter((e=>void 0!==e.invite.internalDomain)).map((e=>{var s;return null===(s=e.invite.invitee)||void 0===s?void 0:s.email})).filter(t().$K);n().zx(i,{internal_guest_enforcement:!1,invite_flow_id:r.inviteFlowId,is_bot:!1,is_internal_domain:a.length>0,invitee_emails_with_internal_domain:a,invitee_emails_with_internal_domain_enforced:[],role:o.blockRole,space_role:o.spaceRole,user_count:s.length})}({createdGuestRequests:o.filter(m),environment:s,destination:l,metadata:g}),function(e){const{createdMemberRequests:s,environment:i,destination:o,metadata:r}=e;if(0===s.length)return;const l=s.filter((e=>void 0!==e.invite.internalDomain)).map((e=>{var s;return null===(s=e.invite.invitee)||void 0===s?void 0:s.email})).filter(t().$K),m=s.filter((e=>e.wasInternalDomainEnforced)).map((e=>{var s;return null===(s=e.invite.invitee)||void 0===s?void 0:s.email})).filter(t().$K);n().d(i,{from:"share_menu",invite_flow_id:r.inviteFlowId,invite_space_role_selection:a().uq.workspace_member,is_bot:!1,is_internal_domain:l.length>0,internal_guest_enforcement:m.length>0,invitee_emails_with_internal_domain:l,invitee_emails_with_internal_domain_enforced:m,role:o.blockRole,space_role:o.spaceRole,user_count:s.length})}({createdMemberRequests:o.filter(d),environment:s,destination:l,metadata:g}))}function m(e){return"createdGuestRequest"===e.type}function d(e){return"createdMemberRequest"===e.type}function c(e){return"addedUserPermission"===e.type}function u(e){return!(!c(e)&&!function(e){return"addedGroupPermission"===e.type}(e))}function p(e){return"createdMember"===e.type}function g(e){let{environment:s,spaceId:i,pageId:t,pageVisibility:n,hasTrustedDomainPermission:r}=e;(0,o().j)({environment:s,event:{eventName:"general_access_menu_open",eventProperties:{spaceId:i,pageId:t,pageVisibility:n,hasTrustedDomainPermission:r}}})}},788504:(e,s,i)=>{i.d(s,{n:()=>r,o:()=>a});var t=()=>i(295334),n=()=>i(333023);var o=()=>i(314169);async function r(e){let{trustedDomainPermission:s,store:i,environment:t,sudoModeStore:r,location:a}=e;const l=i.isRestricted(),m=(0,n().Xz)({permissionItem:s,store:i})&&!l,d=m&&"none"!==s.permissionItem.role&&!l;return await(0,o().L7)({oldPermissionItem:s.permissionItem,newRole:"none",wasInherited:m,environment:t,store:i,sudoModeStore:r,location:a,restrictingVisibility:d})}async function a(e){let{trustedDomainPermission:s,store:i,environment:n,sudoModeStore:r,location:a,fromPermissionWrapper:l}=e;const m="reader",d=(0,t().E9)({permissionItem:s,store:i}),c=s.permissionItem.role===m?"none":m;return await(0,o().L7)({oldPermissionItem:s.permissionItem,newRole:c,wasInherited:d,environment:n,store:i,sudoModeStore:r,location:a,fromPermissionWrapper:l})}},495712:(e,s,i)=>{i.d(s,{Z:()=>j});i(267602),i(470928),i(241792);var t=i(667294),n=()=>i(219727),o=()=>i(142735),r=()=>i(846550),a=()=>i(714230),l=()=>i(801812),m=()=>i(788860),d=()=>i(707513),c=()=>i(824462),u=()=>i(981583),p=()=>i(743790),g=()=>i(73478),h=()=>i(907099),b=()=>i(876822),f=()=>i(779733),v=()=>i(960516),x=()=>i(724902),y=i(785893);function P(e){const{group:s,store:i,groupPermission:t}=e,a=(0,n().O7)(),m=(0,o().VK)((()=>b().default.state.currentSpaceStore),[]),[{value:d}]=(0,l().r5)((async()=>{const e=await c().callApi({eventName:"getSpacePermissionGroupMembers",environment:a,data:{groupIds:[s.group_id],spaceId:s.space_id}});if("success"===e.type){var i;const t=null===(i=e.data.groupUsersMap[s.group_id])||void 0===i?void 0:i.userIds,{limitedUserStores:n}=(0,h().rm)({userIds:t,limit:void 0,spaceStore:m});return n}}),[m,a,s.group_id,s.space_id]),u=(0,r().yK)((e=>({container:{paddingLeft:16}})),[]);return(0,y.jsx)("div",{style:u.container,children:null==d?void 0:d.map((e=>(0,y.jsx)("div",{children:(0,y.jsx)(I,{userStore:e,blockStore:i,groupPermission:t})},e.id)))})}function I(e){const{userStore:s,blockStore:i,groupPermission:t}=e,r=(0,n().O7)(),{isMobile:a}=r.device,l=(0,m().YB)(),d=(0,o().VK)((()=>(0,f().wZ)()),[]),c=(0,o().VK)((()=>s.getDisplayName(l)),[l,s]),p=(0,o().VK)((()=>s.getEmail()),[s]);return(0,y.jsx)(v().ZP,{currentBlockStore:i,permissionItem:{type:"display_only_group_member_permission"},from:t.from,icon:(0,y.jsx)(u().Z,{userStore:s,avatarShouldShowShadow:!1,size:a&&d?v().xF:v().ZG,hasTooltip:!1}),title:c||p,subtitle:p,upgradeButtonName:"permission_groups"})}function S(e){const{group:s}=e,i=(0,m().YB)(),t=(0,h().kF)({intl:i,groupName:s.name});return(0,y.jsx)(m()._H,{defaultMessage:"People in {groupName} have access to the page",values:{groupName:t},id:"blockPermissionsSettings.groupPermission.tooltipV2"})}function _(e){const{group:s}=e,i=(0,m().YB)(),t=(0,h().kF)({intl:i,groupName:s.name});return(0,y.jsx)(p().Y,{group:s,limit:15,noMembersMessage:(0,y.jsx)(g().Z,{imageURL:a().Z.images.tooltips.share.sharedPng,imageWidth:240,imageHeight:120,caption:(0,y.jsx)(m()._H,{defaultMessage:"For all members of the {groupName} group, this page will show up in the <boldtext>Shared</boldtext> section in their sidebar.",values:{boldtext:e=>(0,y.jsx)("span",{style:{fontWeight:d().Ue.bold},children:e}),groupName:t},id:"blockPermissionsSettings.groupPermission.tooltip"})})})}const j=function(e){const{store:s,groupPermission:a,spaceId:l,fromPermissionWrapper:d,disableExpansion:c}=e,{isMobile:u}=(0,n().Fy)(),p=(0,m().YB)(),[g,I]=(0,t.useState)(!1),[j,M]=(0,t.useState)(!1),C=(0,o().VK)((()=>(0,f().wZ)()),[]),{group:w,memberCount:k}=(0,o().VK)((()=>{const{currentSpaceStore:e}=b().default.state;if(!e)return{};return{...i(467806).Z.state.permissionGroupsAndMemberCounts.find((e=>e.group.group_id===a.permissionItem.group_id))}}),[a.permissionItem.group_id]),T=(0,o().VK)((()=>!c&&(!(!w||!k||0===k)&&C)),[c,w,C,k]),R=(0,t.useCallback)((()=>I(!0)),[]),Z=(0,t.useCallback)((()=>I(!1)),[]),N=(0,t.useCallback)((()=>{T&&M(!j)}),[j,T]),V=(0,r().yK)((e=>({mobileChevronIcon:{marginLeft:4,fill:e.icon.secondary,transform:`rotate(${j?90:0}deg)`,transition:"transform 150ms ease"},mobileTitleContainer:{display:"flex",alignItems:"center"}})),[j]);if(!w)return null;const H=(0,h().kF)({intl:p,groupName:w.name}),K=w.icon&&!C&&(0,y.jsx)(i(943620).Z,{disabled:!0,title:H,icon:w.icon?{pointer:{table:"space",id:l},icon:w.icon}:void 0,isEmptyPage:!1,size:18}),D=T?(0,y.jsx)(i(277939).Z,{expanded:j,hovered:g,onClick:N,children:(0,y.jsx)(x().Z,{groupIcon:w.icon,isRedesignEnabled:C,spaceId:l})}):(0,y.jsx)(x().Z,{groupIcon:w.icon,isRedesignEnabled:C,spaceId:l});return(0,y.jsxs)("div",{style:{fontWeight:400},className:i(247724).gGc,children:[(0,y.jsx)(v().ZP,{onMouseEnter:R,onMouseLeave:Z,onClick:T?N:void 0,isCollapsible:T,currentBlockStore:s,permissionItem:a.permissionItem,from:a.from,icon:D,title:(0,y.jsxs)("div",{style:V.mobileTitleContainer,children:[H,T&&u&&(0,y.jsx)("div",{style:V.mobileChevronIcon,children:(0,i(429600).o)({height:12,width:12})})]}),tag:K,ignoreLocalHoverState:e.ignoreLocalHoverState,showInherited:e.showInherited,nonInheritedTooltip:e.tooltip?e.tooltip:C?(0,y.jsx)(S,{group:w}):(0,y.jsx)(_,{group:w}),subtitle:C&&u?(0,y.jsxs)("div",{children:[(0,y.jsx)(m()._H,{defaultMessage:"{numberOfGroupMembers, plural, one {{numberOfGroupMembers} person} other {{numberOfGroupMembers} people}}",id:"blockPermissionsSettings.groupPermission.none",values:{numberOfGroupMembers:k}})," · ",(0,y.jsx)(m()._H,{...(0,i(777814).M)({type:"group_permission",role:a.permissionItem.role,table:"block",isRemovable:!1,isCurrentUser:!1,isRedesignEnabled:C}).label})]}):(0,y.jsxs)("div",{children:[(0,y.jsx)(m()._H,{defaultMessage:"Group",id:"blockPermissionsSettings.groupPermission.label"})," · ",(0,y.jsx)(m()._H,{defaultMessage:"{numberOfGroupMembers, plural, one {{numberOfGroupMembers} person} other {{numberOfGroupMembers} people}}",id:"blockPermissionsSettings.groupPermission.none",values:{numberOfGroupMembers:k}})]}),upgradeButtonName:"group_permission_item",isRemovableOverride:e.isRemovableOverride,fromPermissionWrapper:d,roleItemOverrides:e.roleItemOverrides,menuListItemProps:e.menuListItemProps,...e.permissionItemArgs}),j&&(0,y.jsx)(P,{group:w,store:s,groupPermission:a})]},w.id)}},65404:(e,s,i)=>{i.d(s,{Z:()=>C});i(667294);var t=()=>i(219727),n=()=>i(142735),o=()=>i(846550),r=()=>i(530980),a=()=>i(989478),l=()=>i(499110),m=()=>i(788860),d=()=>i(568017),c=()=>i(909439),u=()=>i(18748),p=()=>i(67961),g=()=>i(981583),h=()=>i(777814),b=()=>i(876822),f=()=>i(779733),v=()=>i(960516),x=()=>i(182494),y=i(785893);function P(e){const{userValue:s,guestLabel:i,isRedesignEnabled:t}=e;return(0,y.jsx)(u().ZP,{title:(0,y.jsx)(S,{userValue:s,guestLabel:i}),caption:(0,y.jsx)(_,{userValue:s,isRedesignEnabled:t}),icon:(0,y.jsx)(I,{userValue:s}),desktopIconStyle:{marginLeft:16}})}function I(e){const{userValue:s}=e,i=(0,t().Fy)().isMobile,r=(0,n().VK)((()=>(0,f().wZ)()),[]),a=(0,o().yK)((()=>({iconPlaceholder:{height:i&&r?v().xF:v().ZG,width:i&&r?v().xF:v().ZG,borderRadius:20}})),[i,r]);return s?(0,y.jsx)(g().Z,{userValue:s,size:i&&r?v().xF:v().ZG}):(0,y.jsx)(j,{style:a.iconPlaceholder})}function S(e){const{userValue:s,guestLabel:i}=e,t=(0,m().YB)(),r=(0,n().VK)((()=>(0,f().wZ)()),[]),a=(0,n().VK)((()=>{const{currentUserStore:e}=b().default.state;return!!e&&(!!s&&e.id===s.id)}),[s]),u=(0,o().yK)((e=>({titlePlaceholder:{height:8,width:81,borderRadius:4},pendingInvitation:{color:d().ZP.PendingInvitationTextColor},titleYouIndicator:{color:r?"dark"===e.mode?e.text.secondary:e.text.tertiary:e.mediumTextColor}})),[r]);if(!s)return(0,y.jsx)(j,{style:u.titlePlaceholder});const g=(0,l().Nz)(t,s);return(0,y.jsx)(y.Fragment,{children:g?(0,y.jsxs)("div",{style:{display:"flex",gap:4},children:[(0,y.jsx)(p().Z,{className:"notranslate",children:a?(0,y.jsx)(m()._H,{id:"cellMemberAvatar.displayName.title",defaultMessage:"{userFullDisplayName} <youIndicatorText>(You)</youIndicatorText>",values:{userFullDisplayName:g,youIndicatorText:e=>(0,y.jsx)("span",{style:u.titleYouIndicator,children:e})}}):g}),i&&(0,y.jsx)(c().b,{labelType:i,shouldUseTabStyle:r})]}):(0,y.jsx)(m()._H,{defaultMessage:"Invitation sent",id:"blockPermissionsSettings.sentInvitation.message"})})}function _(e){const{userValue:s,isRedesignEnabled:i,permissionRole:n}=e,{isMobile:r}=(0,t().Fy)(),a=(0,o().yK)((()=>({subtitlePlaceholder:{height:8,width:139,borderRadius:4,marginTop:10}})),[]);if(i&&r&&n){const e=(0,h().M)({type:"user_permission",role:n,table:"block",isRemovable:!1,isCurrentUser:!1,isRedesignEnabled:i}).label;return(0,y.jsx)(p().Z,{isSmall:!0,children:(0,y.jsx)(m()._H,{...e})})}return null!=s&&s.email?(0,y.jsx)(p().Z,{isSmall:!0,children:s.email}):(0,y.jsx)(j,{style:a.subtitlePlaceholder})}function j(e){const s=(0,o().yK)((s=>({placeholder:{...e.style,background:s.lightDividerColor}})),[e.style]);return(0,y.jsx)("div",{style:s.placeholder})}function M(e){const{userValue:s,permissionItem:i,blockStore:t}=e,n=(0,m().YB)(),o=r().kk5.fromValue(a().KJ,s),l=null==o?void 0:o.getDisplayName(n),d=(0,x().N)({permissionItem:i,targetType:"user",targetName:l,store:t});return d||null}const C=function(e){const{store:s,userPermission:o,spaceVisibleUserMap:r,fromPermissionWrapper:l}=e,m=(0,t().O7)().device.isMobile,d=(0,n().VK)((()=>(0,f().wZ)()),[]),c=(0,n().VK)((()=>i(826955).U6.createChildStore(s,{table:a().KJ,id:o.permissionItem.user_id}).getValue()),[s,o.permissionItem.user_id]),u=(0,n().VK)((()=>{if(null!=c&&c.id)return(0,i(98148).B)({spaceVisibleUserMap:r,userId:c.id,blockStore:s})}),[s,r,c]);return(0,y.jsx)("div",{children:(0,y.jsx)(v().ZP,{currentBlockStore:s,permissionItem:o.permissionItem,from:o.from,ignoreLocalHoverState:e.ignoreLocalHoverState,icon:(0,y.jsx)(I,{userValue:c}),title:(0,y.jsx)(S,{userValue:c,guestLabel:u}),subtitle:(0,y.jsx)(_,{userValue:c,isRedesignEnabled:d,permissionRole:o.permissionItem.role}),selectHeader:d&&m?(0,y.jsx)(P,{userValue:c,guestLabel:u,isRedesignEnabled:d}):void 0,selectFooter:e.selectFooter,showInherited:e.showInherited,upgradeButtonName:"user_permission_item",isRemovableOverride:e.isRemovableOverride,fromPermissionWrapper:l,roleItemOverrides:e.roleItemOverrides,nonInheritedTooltip:d&&!e.tooltip?(0,y.jsx)(M,{userValue:c,permissionItem:o.permissionItem,blockStore:s}):e.tooltip,menuListItemProps:e.menuListItemProps,...e.permissionItemArgs})},o.permissionItem.user_id)}},98774:(e,s,i)=>{i.d(s,{Z:()=>g});var t=i(667294),n=()=>i(219727),o=()=>i(142735),r=()=>i(846550),a=()=>i(641772),l=()=>i(788860),m=()=>i(154186),d=()=>i(67961),c=()=>i(779733),u=()=>i(845465),p=i(785893);function g(e){let{permissions:s}=e;const i=(0,n().O7)().device.isMobile,[g,h]=(0,t.useState)(!1),b=(0,o().VK)((()=>(0,c().wZ)()),[]),f=(0,r().yK)((e=>({button:{width:"100%",display:g?"none":"inline-flex",padding:8,...b&&{alignItems:"center",...(0,u().ZY)({isMobile:i}),width:`calc(100% - ${2*u().gf}px)`,height:48}},icon:{width:14,transform:"rotate(90deg)",fill:e.lightIconColor},list:{display:g?"block":"none"},dotsIconContainer:{display:"flex",alignItems:"center",justifyContent:"center",...b?{width:32,marginRight:(0,u().bY)({isMobile:i})}:{width:36+(0,u().bY)({isMobile:i})}}})),[i,b,g]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(m().Z,{onClick:()=>h(!0),style:f.button,children:[(0,p.jsx)("div",{style:f.dotsIconContainer,children:(0,a().o)(f.icon)}),(0,p.jsx)(d().Z,{isSmall:!b,isSecondaryColor:!0,children:b?(0,p.jsx)(l()._H,{id:"blockPermissionsSettings.permissionsList.expandButtonV2",defaultMessage:"See {count} more",values:{count:s.length}}):(0,p.jsx)(l()._H,{id:"blockPermissionsSettings.permissionsList.expandButton",defaultMessage:"{count} more people",values:{count:s.length}})})]}),(0,p.jsx)("div",{style:f.list,children:s})]})}},995114:(e,s,i)=>{i.d(s,{Z:()=>o});i(667294);var t=()=>i(788860),n=i(785893);const o=function(e){const{store:s}=e,o=(0,i(846550).yK)((e=>({icon:{width:17,height:17,fill:e.mediumIconColor},iconContainer:{backgroundColor:e.lightDividerColor,borderRadius:32}})),[]),r={table:i(396136).iU,blockId:s.id};return(0,n.jsx)(i(960516).ZP,{icon:(0,i(907171).S)(o.icon),iconStyle:o.iconContainer,title:(0,n.jsx)(t()._H,{defaultMessage:"More people may have access",id:"blockPermissionsSettings.permissionItem.hiddenAccess"}),nonInheritedTooltip:(0,n.jsx)(t()._H,{defaultMessage:"This page may be shared with additional people through a parent page or teamspace that you don't have access to",id:"blockPermissionsSettings.hiddenAccess.tooltip"}),permissionRoleSelect:(0,n.jsx)(n.Fragment,{}),currentBlockStore:s,permissionItem:{type:"display_only_hidden_permission"},from:r,upgradeButtonName:"team_permission_item"})}},899018:(e,s,i)=>{i.d(s,{GE:()=>u,Qo:()=>g,S0:()=>p,ZP:()=>h});i(667294);var t=()=>i(219727),n=()=>i(142735),o=()=>i(846550),r=()=>i(788860),a=()=>i(707513),l=()=>i(67961),m=()=>i(779733),d=()=>i(845465),c=i(785893);function u(){return(0,c.jsx)(g,{children:(0,c.jsx)(r()._H,{id:"blockPermissionsSettings.permissionsList.moreAttribution",defaultMessage:"More people with access"})})}function p(){return(0,c.jsx)(g,{children:(0,c.jsx)(r()._H,{id:"blockPermissionsSettings.permissionsList.generalAccessAttribution",defaultMessage:"General access"})})}function g(e){const{children:s}=e,{WindowSizeStore:i}=(0,t().O7)(),{isMobile:r}=(0,t().Fy)(),u=(0,n().VK)((()=>(0,m().wZ)()),[]),{paddingLeft:p,paddingRight:g}=(0,n().VK)((()=>{const e=u?r?0:d().J4:14;return{paddingLeft:i.getSafePaddingLeftCSS(e),paddingRight:i.getSafePaddingRightCSS(e)}}),[i,r,u]),h=(0,o().yK)((e=>({label:{color:e.mediumTextColor,fontWeight:a().Ue.medium,paddingLeft:p,paddingRight:g,paddingTop:8,paddingBottom:u?4:6,overflow:"visible",textWrap:"wrap",...u&&r?{fontSize:15,paddingTop:0,color:e.text.secondary}:{}}})),[r,u,p,g]);return(0,c.jsx)(l().Z,{isSmall:!0,style:h.label,children:s})}const h=function(e){const{store:s}=e,{parentStore:t,canAccessParent:o}=(0,n().VK)((()=>(0,i(333023).HB)({store:s})),[s]);return o?(0,c.jsx)(g,{children:(0,c.jsx)(r()._H,{id:"blockPermissionsSettings.permissionsList.attribution",defaultMessage:"From {attribution}",values:{attribution:(0,c.jsx)(i(447475).q,{navigableParentStore:t})}})}):(0,c.jsx)(g,{children:(0,c.jsx)(r()._H,{id:"blockPermissionsSettings.permissionsList.genericHeader",defaultMessage:"People with access"})})}},447475:(e,s,i)=>{i.d(s,{Z:()=>w,q:()=>T});i(667294);var t=()=>i(219727),n=()=>i(142735),o=()=>i(846550),r=()=>i(506347),a=()=>i(528514),l=()=>i(306164),m=()=>i(788860),d=()=>i(696459),c=()=>i(707513),u=()=>i(465755),p=()=>i(729775),g=()=>i(384241),h=()=>i(777346),b=()=>i(654133),f=()=>i(67961),v=()=>i(429725),x=()=>i(239482),y=()=>i(395143),P=()=>i(569849),I=()=>i(270895),S=()=>i(998901),_=()=>i(826955),j=()=>i(44556),M=()=>i(681832),C=i(785893);function w(e){const{showRestoreButton:s,store:i,type:r,sudoModeStore:a}=e,l=(0,t().O7)(),{isMobile:m}=(0,t().Fy)(),d=(0,n().VK)((()=>x().uJ(i)[1]),[i]),u=(0,n().VK)((()=>({paddingLeft:l.WindowSizeStore.getSafePaddingLeftCSS(14),paddingRight:l.WindowSizeStore.getSafePaddingLeftCSS(14)})),[l]),p=(0,o().yK)((e=>({container:{display:"flex",minHeight:20,flexDirection:"row",alignItems:"center",paddingTop:8,paddingBottom:6,paddingLeft:u.paddingLeft,paddingRight:u.paddingRight},banner:{display:"flex",flexDirection:"row",width:"100%",fontSize:12},icon:{width:16,fill:e.mediumIconColor},iconContainer:{width:20,height:20,display:"flex",justifyContent:"center",alignItems:"center",marginRight:5},messageContainer:{display:"flex",flexDirection:"column"},label:{display:"inline",marginLeft:m?14:0,color:m?"#CF8807":e.mediumTextColor,fontWeight:m?c().Ue.regular:c().Ue.medium,marginRight:6,lineHeight:"20px"},buttonContainer:{marginLeft:-5},divider:{opacity:"75%"},mobileContainer:{borderRadius:4,height:34,marginLeft:14,marginRight:14,marginTop:5,marginBottom:5,paddingRight:9,display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:"rgba(246, 192, 80, 0.26)"}})),[m,u]);return m?(0,C.jsxs)("div",{style:p.mobileContainer,children:[(0,C.jsx)(f().Z,{isMultiline:!0,isSmall:!0,style:p.label,children:(0,C.jsx)(R,{type:r,navigableParentStore:d,showRestoreButton:s})}),s&&(0,C.jsx)(k,{store:i,type:r})]}):(0,C.jsx)("div",{style:p.container,children:(0,C.jsxs)("div",{style:p.banner,children:[(0,C.jsx)("div",{style:p.iconContainer,children:Z[r](p.icon)}),(0,C.jsxs)("div",{children:[(0,C.jsx)(f().Z,{isMultiline:!0,isSmall:!0,isSecondaryColor:!0,style:p.label,children:(0,C.jsx)(R,{type:r,navigableParentStore:d,showRestoreButton:s})}),s&&(0,C.jsx)("span",{style:p.buttonContainer,children:(0,C.jsx)(k,{store:i,type:r,sudoModeStore:a})})]})]})})}function k(e){const{type:s,store:i,sudoModeStore:r}=e,{isMobile:l}=(0,t().Fy)(),u=(0,n().VK)((()=>!!r&&r.shouldSaveTransactionWithSudoMode(i)),[i,r]),p=(0,o().yK)((e=>({button:{color:l?"#CF8807":e.regularTextColor,fontWeight:c().Ue.medium},tooltip:{width:210,whiteSpace:"initial"}})),[l]),g=(0,t().O7)();if("restore-team"===s){const e=async()=>{await(0,P().K)({environment:g,useSudoMode:u,store:i})};return(0,C.jsx)(b().Z,{style:p.tooltip,placement:S().Placement.Bottom,renderTooltip:()=>(0,C.jsx)(m()._H,{defaultMessage:"Reset page permissions to match default teamspace permissions",id:"permissionsRestoreBanner.tooltip.teamPermissions"}),render:s=>(0,C.jsx)("span",{...s,children:(0,C.jsx)(h().Z,{style:p.button,onClick:e,children:(0,C.jsx)(m()._H,{id:"permissionsRestoreBanner.button.teamPermissions",defaultMessage:"Reset"})})})})}if("unrestrict"===s){const e=async()=>{if(!i.isDefined())return;const e=i.getPermissionItems(),s=x().uJ(i)[1];if(!s)return;const t=(0,a().Wo)(x().fJ(s)),n=(0,a().Xr)(i.getModel(),e,t);await(0,y().w)({environment:g,useSudoMode:u,store:i,permissionChanges:n,from:void 0,shareMenuSessionId:M().default.state.sessionId,isRedesignEnabled:!1,parentStore:s})};return(0,C.jsx)(h().Z,{style:p.button,onClick:e,children:(0,C.jsx)(m()._H,{id:"permissionsRestoreBanner.button.restrictedPermissions",defaultMessage:"Restore"})})}(0,d().t1)(s)}function T(e){const{navigableParentStore:s,maxLength:i,showUnderline:a}=e,{isMobile:m}=(0,t().Fy)(),d=(0,t().O7)(),c=(0,o().yK)((e=>({linkBox:{color:e.mediumTextColor},title:{display:"inline"}})),[]),h=(0,n().VK)((()=>{if(s instanceof _().G)return(0,v().ZP)({store:s,fullyQualified:!1,pageVisitSource:r().tY.ShareMenu})}),[s]);if(!s)return null;const b=m&&s.table===l().e0;return(0,C.jsx)(p().Z,{disabled:b,style:b?void 0:c.linkBox,underline:a&&!b,inline:!0,onClick:s.table===l().e0?()=>{s.table===l().e0&&j().RF({environment:d,teamId:s.id,tab:I().a.Members,from:"permission_item"}),u().z(d,{store:s,option:"view",from:"share_menu"})}:void 0,href:h,children:(0,C.jsx)(g().Z,{shouldWrap:!0,maxLength:i,store:s,style:c.title})})}function R(e){const{type:s,navigableParentStore:i,showRestoreButton:n}=e,{isMobile:o}=(0,t().Fy)(),r=(0,C.jsx)(T,{navigableParentStore:i,maxLength:o||!n?void 0:30,showUnderline:!0});switch(s){case"restore-team":return(0,C.jsx)(m()._H,{id:"pageShareMenu.restoreTeamPermissionsBanner.label",defaultMessage:"Page access is different from {linkBoxWithPageTitle}.",values:{linkBoxWithPageTitle:r}});case"unrestrict":return o?(0,C.jsx)(m()._H,{id:"pageShareMenu.restrictedAccessBanner.mobileLabel",defaultMessage:"Page access is restricted to people below.",values:{linkBoxWithPageTitle:r}}):(0,C.jsx)(m()._H,{id:"pageShareMenu.restrictedAccessBanner.label",defaultMessage:"Access restricted. May not be shared with everyone from {linkBoxWithPageTitle}.",values:{linkBoxWithPageTitle:r}});default:(0,d().t1)(s)}}const Z={unrestrict:i(717956).B,"restore-team":i(409873).D}},417235:(e,s,i)=>{i.d(s,{Z:()=>ie});var t=i(667294),n=()=>i(219727),o=()=>i(142735),r=()=>i(421797),a=()=>i(779733),l=()=>i(333023),m=()=>i(846550),d=()=>i(506347),c=()=>i(528514),u=()=>i(788860),p=()=>i(465755),g=()=>i(729775),h=()=>i(943620),b=()=>i(384241),f=()=>i(471645),v=()=>i(67961),x=()=>i(429725),y=()=>i(239482),P=()=>i(270895),I=()=>i(826955),S=()=>i(44556),_=()=>i(314169),j=()=>i(395143),M=()=>i(845465),C=()=>i(681832),w=i(785893);function k(e){const{store:s,sudoModeStore:i}=e,a=(0,n().O7)(),{isMobile:l}=(0,n().Fy)(),d=(0,o().VK)((()=>function(e){const{store:s,environment:i}=e;return r().xDy([r().zzA,r().ffD(r().uY7)])({environment:i,blocks:[s],publicEditMode:void 0})}({store:s,environment:a})),[s,a]),u=(0,o().VK)((()=>s.isRestricted()),[s]),p=(0,o().VK)((()=>y().uJ(s)[1]),[s]),g=(0,o().VK)((()=>(0,c().Wo)(y().fJ(p))),[p]),h=(0,t.useCallback)((async()=>{const e=!!i&&i.shouldSaveTransactionWithSudoMode(s);if(s.isDefined()&&p)if(u){const i=s.getPermissionItems(),t=(0,c().Xr)(s.getModel(),i,g);await(0,j().w)({environment:a,useSudoMode:e,store:s,permissionChanges:t,from:"inheritance_banner",shareMenuSessionId:C().default.state.sessionId,isRedesignEnabled:!0,parentStore:p})}else await(0,_().qq)({environment:a,useSudoMode:e,store:s,permissionItem:void 0,fromPermissionWrapper:"inheritance_banner",isRedesignEnabled:!0,shouldInherit:!1})}),[a,i,s,u,p,g]),b=(0,m().yK)((e=>({container:{...(0,M().S2)({theme:e,inheritanceBannerEnabled:!0,isMobile:l}),paddingLeft:12,display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",gap:8},labelContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-start"},rightContainer:{flexShrink:0}})),[l]);return!d&&u?null:p?g.length<2?null:(0,w.jsxs)("div",{style:b.container,children:[(0,w.jsx)("div",{style:b.labelContainer,children:(0,w.jsx)(v().Z,{isMultiline:!0,isSmall:!0,children:(0,w.jsx)(T,{store:s,navigableParentStore:p,showToggle:d})})}),d&&(0,w.jsx)("div",{style:b.rightContainer,children:(0,w.jsx)(f().Z,{on:!u,onClick:h})})]}):null}function T(e){let{store:s,navigableParentStore:i,showToggle:t}=e;const r=(0,n().O7)(),a=(0,o().VK)((()=>{if(i instanceof I().G)return(0,x().ZP)({store:i,fullyQualified:!1,pageVisitSource:d().tY.ShareMenu})}),[i]),l=(0,o().VK)((()=>i.getIcon()),[i]),c=(0,m().yK)((e=>({recordContainer:{display:"inline",alignItems:"center"},title:{display:"inline"},recordIcon:{display:"inline-block",marginRight:2,verticalAlign:"text-bottom"}})),[]),f=(0,w.jsxs)("div",{style:c.recordContainer,children:[(0,w.jsx)(h().Z,{disabled:!0,icon:l,size:14,isEmptyPage:!1,style:c.recordIcon}),(0,w.jsx)(g().Z,{inline:!0,underline:!0,onClick:()=>{i instanceof I().zX&&(S().RF({environment:r,teamId:i.id,tab:P().a.Members,from:"share_menu"}),p().z(r,{store:i,option:"view",from:"share_menu"}))},href:a,style:c.recordContainer,children:(0,w.jsx)(b().Z,{shouldWrap:!0,store:i,style:c.title})})]});return t?(0,w.jsx)(u()._H,{id:"pageShareMenu.inheritingFromParentPageBanner.switchLabel",defaultMessage:"Share with everyone who has access to {parentPageTitle}",values:{parentPageTitle:f}}):(0,w.jsx)(u()._H,{id:"pageShareMenu.inheritingFromParentPageBanner.readOnlyLabel",defaultMessage:"Shared with everyone who has access to {parentPageTitle}",values:{parentPageTitle:f}})}var R=()=>i(447475),Z=(i(267602),i(653476),()=>i(60836)),N=()=>i(159253),V=()=>i(513602),H=()=>i(544573),K=()=>i(306164),D=()=>i(696459),B=()=>i(707513),L=()=>i(154186),A=()=>i(827973),O=()=>i(448419),W=()=>i(1910),U=()=>i(198829),E=()=>i(255577),F=()=>i(388284),z=()=>i(352230),G=()=>i(641506),q=()=>i(998901),Y=()=>i(569849);const X=14;function $(e){const{showRestoreButton:s,store:i,type:t,sudoModeStore:r}=e,a=(0,n().O7)(),{isMobile:l}=(0,n().Fy)(),d=(0,o().VK)((()=>y().uJ(i)[1]),[i]),c=(0,o().VK)((()=>i.canAdmin()),[i]),u=(0,m().yK)((e=>({banner:{...(0,M().S2)({theme:e,inheritanceBannerEnabled:!1,isMobile:l}),display:"flex",flexDirection:"row",alignItems:"flex-start",gap:8},content:{display:"flex",alignItems:"flex-start",gap:2,flex:"1 0 0"},label:{fontSize:(0,G().yv)(a,"UIRegular"),lineHeight:"20px",color:e.text.secondary,flex:"1 0 0",paddingLeft:4},icon:{height:16,width:16,color:e.icon.secondary},iconContainer:{paddingTop:2,height:20,width:20,display:"flex",alignItems:"center",justifyContent:"center"}})),[a,l]);return c?l?(0,w.jsxs)("div",{style:u.banner,children:[(0,w.jsxs)("div",{style:u.content,children:["restricted"===t&&(0,w.jsx)("div",{style:u.iconContainer,children:(0,Z().Z)(u.icon)}),(0,w.jsx)(v().Z,{style:u.label,isMultiline:!0,children:(0,w.jsx)(J,{type:t,navigableParentStore:d,showRestoreButton:s,store:i})})]}),s&&(0,w.jsx)(Q,{type:t,store:i,sudoModeStore:r})]}):(0,w.jsxs)("div",{style:u.banner,children:[(0,w.jsxs)("div",{style:u.content,children:["restricted"===t&&(0,w.jsx)("div",{style:u.iconContainer,children:(0,Z().Z)(u.icon)}),(0,w.jsx)(v().Z,{style:u.label,isMultiline:!0,children:(0,w.jsx)(J,{store:i,type:t,navigableParentStore:d,showRestoreButton:s})})]}),s&&(0,w.jsx)(Q,{type:t,store:i,sudoModeStore:r})]}):null}function J(e){const{store:s,type:i,navigableParentStore:t}=e,r=(0,n().O7)(),a=(0,o().VK)((()=>{if(t instanceof I().G)return(0,x().ZP)({store:t,fullyQualified:!1,pageVisitSource:d().tY.ShareMenu})}),[t]),l=(0,o().VK)((()=>t instanceof I().zX),[t]),c=(0,o().VK)((()=>t.getIcon()),[t]),f=(0,o().VK)((()=>s.isCollectionView()?"database":"page"),[s]),v=(0,m().yK)((e=>({recordContainer:{display:"inline",alignItems:"center",gap:2,marginLeft:2},title:{display:"inline"},recordIcon:{display:"inline-block",marginRight:2,verticalAlign:"text-bottom"}})),[]),y=t instanceof I().zX?(0,w.jsx)(g().Z,{inline:!0,underline:!0,onClick:()=>{S().RF({environment:r,teamId:t.id,tab:P().a.Members,from:"permission_item"}),p().z(r,{store:t,option:"view",from:"share_menu"})},children:(0,w.jsx)(b().Z,{shouldWrap:!0,maxLength:30,store:t,style:v.title})}):(0,w.jsxs)("div",{style:v.recordContainer,children:[c&&(0,w.jsx)(h().Z,{disabled:!0,icon:c,size:14,isEmptyPage:!1,style:v.recordIcon}),(0,w.jsx)(g().Z,{inline:!0,href:a,style:v.recordContainer,children:(0,w.jsx)(b().Z,{shouldWrap:!1,maxLength:30,store:t,style:v.title,underline:!0})})]});switch(i){case"elevated":return l?"database"===f?(0,w.jsx)(u()._H,{id:"pageShareMenu.restoreTeamspacePermissionsBannerDatabase.label",defaultMessage:"Share settings on this database differ from the {teamspaceTitle} teamspace default",values:{teamspaceTitle:y}}):(0,w.jsx)(u()._H,{id:"pageShareMenu.restoreTeamspacePermissionsBanner.label",defaultMessage:"Share settings on this page differ from the {teamspaceTitle} teamspace default",values:{teamspaceTitle:y}}):"database"===f?(0,w.jsx)(u()._H,{id:"pageShareMenu.restoreParentPagePermissionsBannerDatabase.label",defaultMessage:"Share settings on this database differ from the parent page {parentPageTitle}",values:{parentPageTitle:y}}):(0,w.jsx)(u()._H,{id:"pageShareMenu.restoreParentPagePermissionsBanner.label",defaultMessage:"Share settings on this page differ from the parent page {parentPageTitle}",values:{parentPageTitle:y}});case"restricted":return l?"database"===f?(0,w.jsx)(u()._H,{id:"pageShareMenu.restrictedAccessFromTeamspaceBannerDatabase.label",defaultMessage:"Share settings on this database are unlinked from the {teamspaceTitle} teamspace default",values:{teamspaceTitle:y}}):(0,w.jsx)(u()._H,{id:"pageShareMenu.restrictedAccessFromTeamspaceBanner.label",defaultMessage:"Share settings on this page are unlinked from the {teamspaceTitle} teamspace default",values:{teamspaceTitle:y}}):"database"===f?(0,w.jsx)(u()._H,{id:"pageShareMenu.restrictedAccessFromParentPageBannerDatabase.label",defaultMessage:"Share settings on this database are unlinked from the parent page {parentPageTitle}",values:{parentPageTitle:y}}):(0,w.jsx)(u()._H,{id:"pageShareMenu.restrictedAccessFromParentPageBanner.label",defaultMessage:"Share settings on this page are unlinked from the parent page {parentPageTitle}",values:{parentPageTitle:y}});default:(0,D().t1)(i)}}function Q(e){const{type:s,store:i,sudoModeStore:t}=e,r=(0,n().O7)(),{isMobile:a}=(0,n().Fy)(),l=(0,u().YB)(),g=(0,o().VK)((()=>!!t&&t.shouldSaveTransactionWithSudoMode(i)),[i,t]),h=(0,o().VK)((()=>(0,y().uJ)(i)[1]),[i]),b=h.table===K().e0,f=(0,o().VK)((()=>{if(h instanceof I().G)return(0,x().ZP)({store:h,fullyQualified:!1,pageVisitSource:d().tY.ShareMenu})}),[h]),v=(0,m().yK)((e=>({popupContainer:{minWidth:265},icon:{fill:e.icon.secondary,height:16,width:16},mobileRestoreButton:{fontSize:(0,G().yv)(r,"UIRegular"),fontWeight:B().Ue.medium,flexShrink:0,borderRadius:4,paddingLeft:4,paddingRight:4,color:e.text.uiBluePrimary}})),[r]),_=[b?{key:"showTeamSettings",render:e=>(0,w.jsx)(A().Z,{...e,icon:(0,H().m)({height:X,width:X}),title:(0,w.jsx)(u()._H,{id:"pageShareMenu.restoreParentPagePermissionsBanner.viewDefaults.label",defaultMessage:"View defaults"})}),action:()=>{h.table===K().e0&&(S().RF({environment:r,teamId:h.id,tab:P().a.Members,from:"permission_item"}),p().z(r,{store:h,option:"view",from:"share_menu"}))}}:f?{key:"showParentPageSettings",render:e=>(0,w.jsx)(A().Z,{...e,icon:(0,H().m)({height:X,width:X}),title:(0,w.jsx)(u()._H,{id:"pageShareMenu.restoreParentPagePermissionsBanner.viewDefaults.label",defaultMessage:"View defaults"}),href:f}),action:()=>{}}:void 0,{key:"restore",action:async()=>{if("elevated"===s)await(0,Y().K)({environment:r,useSudoMode:g,store:i});else if("restricted"===s){if(!i.isDefined())return;const e=i.getPermissionItems(),s=y().uJ(i)[1];if(!s)return;const t=(0,c().Wo)(y().fJ(s)),n=(0,c().Xr)(i.getModel(),e,t);await(0,j().w)({environment:r,useSudoMode:g,store:i,permissionChanges:n,from:"unlinked_banner",shareMenuSessionId:C().default.state.sessionId,isRedesignEnabled:!0,parentStore:s})}else(0,D().t1)(s)},render:e=>(0,w.jsx)(A().Z,{...e,title:(0,w.jsx)(u()._H,{id:"pageShareMenu.restoreParentPagePermissionsBanner.restoreSettings.label",defaultMessage:"Restore settings"}),icon:(0,V().u)({height:X,width:X})})}].filter(D().$K),M=[{key:"all",render:e=>(0,w.jsx)(F().Z,{...e}),items:_}];return a?(0,w.jsx)(L().Z,{style:v.mobileRestoreButton,onClick:async()=>{if("elevated"===s)await(0,Y().K)({environment:r,useSudoMode:g,store:i});else if("restricted"===s){if(!i.isDefined())return;const e=i.getPermissionItems(),s=y().uJ(i)[1];if(!s)return;const t=(0,c().Wo)(y().fJ(s)),n=(0,c().Xr)(i.getModel(),e,t);await(0,j().w)({environment:r,useSudoMode:g,store:i,permissionChanges:n,from:"unlinked_banner",shareMenuSessionId:C().default.state.sessionId,isRedesignEnabled:!0,parentStore:s})}else(0,D().t1)(s)},children:(0,w.jsx)(u()._H,{defaultMessage:"Restore",id:"pageShareMenu.restoreParentPagePermissionsBanner.restore.mobile.label"})}):(0,w.jsx)(O().ZP,{render:()=>(0,w.jsx)(U().Z,{menuType:z().o.Popup,children:(0,w.jsx)(E().ZP,{type:E().iW.Vertical,sections:M,initialFocus:void 0})}),renderOrigin:e=>(0,w.jsx)(W().Z,{icon:N().O,iconStyle:v.icon,ariaLabel:l.formatMessage({id:"pageShareMenu.restorePagePermissionsBanner.restoreOptionsButton.label",defaultMessage:"See restore permissions options"}),...e}),popupType:O().Z4.Popup,placementToOrigin:q().Placement.Bottom,alignmentToOrigin:q().Alignment.End})}function ee(e){const{store:s}=e,i=(0,n().O7)(),t=(0,o().VK)((()=>function(e){const{store:s,environment:i}=e;return r().or([r().zzA,r().xDy([r().c2G,r().ffD(r().zzA)])])({environment:i,blocks:[s],publicEditMode:void 0})}({store:s,environment:i})),[s,i]);return(0,o().VK)((()=>(0,a().wZ)()),[])?(0,w.jsx)($,{type:"restricted",showRestoreButton:t,store:s,sudoModeStore:e.sudoModeStore}):(0,w.jsx)(R().Z,{type:"unrestrict",showRestoreButton:t,store:s,sudoModeStore:e.sudoModeStore})}function se(e){const{store:s}=e,i=(0,o().VK)((()=>(0,l().Np)({store:s})),[s]),t=(0,o().VK)((()=>(0,a().wZ)()),[]);return i?t?(0,w.jsx)($,{type:"elevated",showRestoreButton:!1,store:s,sudoModeStore:e.sudoModeStore}):(0,w.jsx)(R().Z,{type:"restore-team",showRestoreButton:!1,store:s,sudoModeStore:e.sudoModeStore}):null}const ie=function(e){const{store:s,showRestrictedPermissionBanner:i,showPermissionInheritanceBanner:t}=e,{canAccessParent:n}=(0,o().VK)((()=>(0,l().HB)({store:s})),[s]);return n?t?(0,w.jsx)(k,{store:s,sudoModeStore:e.sudoModeStore}):i?(0,w.jsx)(ee,{store:s,sudoModeStore:e.sudoModeStore}):(0,w.jsx)(se,{store:s,sudoModeStore:e.sudoModeStore}):null}},82541:(e,s,i)=>{i.d(s,{Z:()=>q});var t=i(667294),n=()=>i(219727),o=()=>i(142735),r=()=>i(846550),a=()=>i(779733),l=(i(267602),i(470928),()=>i(374289)),m=()=>i(788860),d=()=>i(707513),c=()=>i(448419),u=()=>i(661297),p=()=>i(654133),g=()=>i(480089),h=()=>i(609836),b=()=>i(998901),f=()=>i(876822),v=()=>i(529048),x=()=>i(128119),y=()=>i(112157),P=()=>i(444600),I=()=>i(721657),S=i(785893);const _=16;function j(e){const{store:s,spacePermission:i}=e,n=(0,o().VK)((()=>s.canAdmin()),[s]),j=(0,g().cR)(s),M=(0,g().xb)(s),C=(0,h().b)(),w=(0,o().VK)((()=>(0,a().wZ)()),[]),k=(0,o().VK)((()=>(0,a().LY)()),[]),T=(0,y().b)(i.permissionItem,k),R=(0,y().b)(i.permissionItem,!1),Z=(0,o().VK)((()=>{const e=f().default.state.currentSpaceStore;return null!=e&&e.isDefined()?e:null}),[]),N=(0,o().qz)(void 0,v().Z),V=(0,t.useRef)(null),H=(0,I().ji)(w,k),K=(0,r().yK)((e=>({chevron:{width:12,marginLeft:4,fill:e.mediumIconColor},popup:{overflow:"visible",width:"100%",minWidth:430},button:{justifyContent:"center",borderRadius:32,height:32,color:e.mediumTextColor,paddingLeft:12,maxWidth:380},title:{...d().Yu},icon:{fill:e.mediumTextColor,width:_}})),[]);return Z?(0,S.jsx)(c().ZP,{buttonPopupStore:N,popupType:c().Z4.Popup,popupWrapStyle:K.popup,renderOrigin:e=>{const s=H.find((e=>e.key===T));return s?(0,S.jsx)(p().Z,{placement:b().Placement.Bottom,alignment:b().Alignment.Start,disableTooltip:n&&!j&&!M,renderTooltip:()=>n?j?(0,S.jsx)(m()._H,{defaultMessage:"Restore page from trash to change the privacy setting",id:"linkSharingPill.disabledTooltip.message.pageInTrash"}):M?(0,S.jsx)(m()._H,{defaultMessage:"Resolve pending edits to change the privacy setting",id:"linkSharingPill.disabledTooltip.message.hasAIEdits"}):void 0:(0,S.jsx)(m()._H,{defaultMessage:"You must have full access to change the privacy setting",id:"linkSharingPill.disabledTooltip.message"}),render:i=>(0,S.jsxs)(u().Z,{...e,ref:V,style:K.button,icon:e=>s.icon({isShareMenuRedesignEnabled:w,spaceStore:Z,style:e,teamspaceIconSize:_}),iconStyle:K.icon,disabled:!n||j||M,disabledFeedback:!0,...i,children:[(0,S.jsx)("div",{style:K.title,children:s.title({type:"shortened",spaceName:C,isShareMenuRedesignEnabled:w,visibility:R,isSearchableToggleEnabled:k})}),n&&(0,l().i)(K.chevron)]})}):null},placementToOrigin:x().Iw.Bottom,alignmentToOrigin:x().lU.Start,sameWidthAsOrigin:!0,render:s=>(0,S.jsx)(P().t,{...e,parentCloseCallback:()=>s.close(),trustedDomainPermission:e.trustedDomainPermission})}):null}var M=()=>i(165940),C=()=>i(628370),w=()=>i(265640),k=()=>i(67961);function T(e){const{store:s,spacePermission:i}=e,n=(0,o().VK)((()=>(0,a().wZ)()),[]),d=(0,o().VK)((()=>(0,a().LY)()),[]),c=(0,y().b)(i.permissionItem,d),u=(0,y().b)(i.permissionItem,!1),p=(0,I().ji)(n,d),b=(0,o().VK)((()=>s.canAdmin()),[s]),v=(0,g().cR)(s),x=(0,g().xb)(s),_=(0,h().b)(),j=(0,o().VK)((()=>{const e=f().default.state.currentSpaceStore;return null!=e&&e.isDefined()?e:null}),[]),[T,R]=(0,t.useState)(!1),Z=(0,r().yK)((s=>({chevron:{width:12,fill:s.mediumIconColor,marginLeft:"auto"},button:{height:42,color:s.mediumTextColor,marginBottom:8,padding:"0 6px",marginLeft:-6,marginRight:-6,width:"100%"},icon:{fill:s.regularIconColor,width:32,height:32,backgroundColor:s.lightDividerColor,padding:6,borderRadius:4,marginRight:12},animation:{maxHeight:e.showTrustedDomainPermission?250:220},enterAnimation:{maxHeight:0},exitAnimation:{maxHeight:0},container:{overflow:"hidden"}})),[e.showTrustedDomainPermission]),N=p.find((e=>e.key===c));return N&&j?(0,S.jsxs)("div",{style:Z.container,children:[(0,S.jsxs)(w().D,{style:Z.button,icon:e=>N.icon({style:e,spaceStore:j,isShareMenuRedesignEnabled:n,teamspaceIconSize:32}),iconStyle:Z.icon,disabled:!b||v||x,disabledFeedback:!0,onClick:()=>R(!T),children:[(0,S.jsxs)("div",{children:[(0,S.jsx)(k().Z,{isSmall:!0,children:(0,S.jsx)(m()._H,{id:"linkSharingPill.visibilityMobileTitle",defaultMessage:"Page visibility"})}),(0,S.jsx)(k().Z,{children:N.title({type:"shortened",spaceName:_,isShareMenuRedesignEnabled:n,visibility:u,isSearchableToggleEnabled:d})})]}),b&&(T?(0,l().i)(Z.chevron):(0,M().R)(Z.chevron))]}),(0,S.jsx)(C().Z,{visible:T,animate:Z.animation,initial:Z.enterAnimation,exit:Z.exitAnimation,children:(0,S.jsx)(P().t,{...e,parentCloseCallback:()=>R(!1)})})]}):null}var R=()=>i(506347),Z=()=>i(237874),N=()=>i(933868),V=()=>i(448768),H=()=>i(959137),K=()=>i(906651),D=()=>i(205228),B=()=>i(594546),L=()=>i(429725);function A(e){const s=(0,n().O7)(),{device:t,WindowSizeStore:a}=s,l=(0,o().VK)((()=>({left:a.getSafePaddingLeftCSS(8),right:a.getSafePaddingRightCSS(12)})),[a]),d=(0,r().yK)((e=>({button:{display:"flex",alignItems:"center",width:t.isMobile?"100%":void 0,height:t.isMobile?44:32,paddingTop:t.isMobile?12:4,paddingBottom:t.isMobile?12:4,paddingLeft:l.left,paddingRight:l.right},helpIcon:{width:t.isMobile?16:14,height:t.isMobile?16:14,fill:t.isMobile?e.mediumIconColor:e.lightIconColor}})),[t.isMobile,l]);return(0,S.jsx)(i(108714).Z,{href:(0,i(148126).UY)("guides.sharing"),onClick:()=>i(407391).Fs(s,{from:"sharing"}),style:{width:t.isMobile?"100%":void 0},external:!0,children:(0,S.jsxs)(w().D,{mobileFeedback:t.isMobile,size:"sm",style:{...d.button,...e.style},disabled:Boolean(e.disableHover),children:[(0,S.jsx)("div",{style:{marginLeft:t.isMobile?2:0,marginRight:t.isMobile?8:6},children:(0,i(456681).m)(d.helpIcon)}),(0,S.jsx)(k().Z,{isMobile:t.isMobile,isSecondaryColor:!t.isMobile,children:(0,S.jsx)(m()._H,{defaultMessage:"Learn about sharing",id:"blockPermissionsSettings.learnAboutSharing.prompt"})})]})})}A.displayName="LearnAboutSharingLink";const O=A;function W(e){const{store:s,buttonPopupStore:i,events:t}=e,l=(0,n().O7)(),{device:c,mobileNative:u}=l,p=c.isMobile,g=(0,o().VK)((()=>(0,a().wZ)()),[]),h=(0,r().yK)((e=>({button:{flex:1,height:36,minHeight:36,...g?{borderRadius:12,marginTop:12}:{},...g&&p?{minHeight:48,fontSize:d().JB.UIRegular.mobile}:{}}})),[g,p]);return(0,S.jsx)(K().Z,{onClick:()=>{var e;c.isMobileNative?function(e){const{store:s,mobileNative:i}=e,t=(0,V().u5)({schemeUrl:(0,L().ZP)({store:s,pageVisitSource:R().tY.CopyLink}),baseUrl:D().default.domainBaseUrl});i&&i.share(t)}({store:s,mobileNative:u}):F({store:s,buttonPopupStore:i,environment:l});const t=null===(e=s.getCollectionStore())||void 0===e?void 0:e.id,n=s.getParentCollectionIdUpToTwoLevels();G(l,{collection_id:t,parent_collection_id:n})},style:h.button,...t,children:c.isMobileNative?(0,S.jsx)(m()._H,{id:"pageShareMenu.shareLinkButton.label",defaultMessage:"Share link"}):(0,S.jsx)(m()._H,{id:"pageShareMenu.copyLinkButton.label",defaultMessage:"Copy link"})})}function U(e){const{store:s,buttonPopupStore:i,events:t,trustedDomainPermissionItem:l}=e,d=(0,n().O7)(),c=(0,o().VK)((()=>(0,a().wZ)()),[]),p=(0,r().yK)((e=>({button:{height:24,paddingLeft:8,paddingRight:8,color:e.regularTextColor,marginLeft:"auto"},icon:{width:14,height:14,fill:c?e.mediumIconColor:e.regularIconColor,marginLeft:0,marginRight:6},label:{color:e.regularTextColor},redesignButton:{paddingLeft:10,paddingRight:12,paddingTop:6,paddingBottom:6,color:e.regularTextColor,justifyContent:"center",borderRadius:6}})),[c]);return c?(0,S.jsxs)(u().Z,{onClick:()=>{var e;F({store:s,buttonPopupStore:i,environment:d,keepPopupOpen:!0});const t=null===(e=s.getCollectionStore())||void 0===e?void 0:e.id,n=s.getParentCollectionIdUpToTwoLevels();G(d,{collection_id:t,parent_collection_id:n,trusted_domain_permission_role:l.role})},style:p.redesignButton,...t,children:[(0,Z().N)(p.icon),(0,S.jsx)(k().Z,{style:p.label,children:(0,S.jsx)(m()._H,{id:"blockPermissionsSettings.copyLinkButtonV2.label",defaultMessage:"Copy link"})})]}):(0,S.jsxs)(w().D,{size:"sm",onClick:()=>{var e;F({store:s,buttonPopupStore:i,environment:d});const t=null===(e=s.getCollectionStore())||void 0===e?void 0:e.id,n=s.getParentCollectionIdUpToTwoLevels();G(d,{collection_id:t,parent_collection_id:n,trusted_domain_permission_role:l.role})},style:p.button,...t,children:[(0,Z().N)(p.icon),(0,S.jsx)(k().Z,{isSmall:!0,style:p.label,children:(0,S.jsx)(m()._H,{id:"blockPermissionsSettings.copyLinkButton.label",defaultMessage:"Copy link"})})]})}function E(e){const{calculatedPermissions:s,isRedesignEnabled:i,spaceName:t}=e,n=s.mostPermissivePublicItem.permissionItem;if((0,N().YX)(n.role))return(0,S.jsx)(m()._H,{defaultMessage:"This page has public link access, so anyone with the link will be able to view the page.",id:"blockPermissionsSettings.publicLinkInfo.tooltip"});const o=s.mostPermissiveSpaceItem.permissionItem;return(0,N().YX)(o.role)?i&&t?(0,S.jsx)(m()._H,{defaultMessage:"Anyone at {spaceName} can access with this link",id:"blockPermissionsSettings.workspacePermissions.tooltipV2",values:{spaceName:t}}):(0,S.jsx)(m()._H,{defaultMessage:"This page has workspace access, so anyone in the workspace will be able to view the link.",id:"blockPermissionsSettings.workspacePermissions.tooltip"}):s.permissionItemsCount>1?i?(0,S.jsx)(m()._H,{defaultMessage:"Only people invited to this page can access with this link",id:"blockPermissionsSettings.userPermissions.tooltipV2"}):(0,S.jsx)(m()._H,{defaultMessage:"Only you and other invited members and guests will be able to view the link.",id:"blockPermissionsSettings.userPermissions.tooltip"}):(0,S.jsx)(m()._H,{defaultMessage:"Only you can access this page, so the link will only work for you.",id:"blockPermissionsSettings.privatePermissions.tooltip"})}async function F(e){const{store:s,buttonPopupStore:i,environment:t,keepPopupOpen:n}=e,o=(0,L().ZP)({store:s,pageVisitSource:R().tY.CopyLink}),r=await H().F.clipboardActions.load();await r.copyString({environment:t,stringValue:o,copiedMessage:r.clipboardMessages.copiedLinkToClipboard}),i&&!n&&i.setState({open:!1})}const z=function(e){const{store:s,buttonPopupStore:i,calculatedPermissions:t}=e,{device:l}=(0,n().O7)(),m=(0,h().b)(),d=(0,o().VK)((()=>(0,a().wZ)()),[]),c=(0,r().yK)((()=>({tooltip:{width:280}})),[]);return(0,S.jsxs)(S.Fragment,{children:[d&&!l.isMobile&&(0,S.jsx)(O,{}),(0,S.jsx)(p().Z,{delayThreshold:d?500:0,placement:b().Placement.Bottom,renderTooltip:()=>(0,S.jsx)(E,{calculatedPermissions:t,isRedesignEnabled:d,spaceName:m}),textWrap:!0,style:c.tooltip,render:e=>l.isMobile?(0,S.jsx)(W,{store:s,buttonPopupStore:i,events:e}):(0,S.jsx)(U,{store:s,buttonPopupStore:i,events:e,trustedDomainPermissionItem:t.mostPermissiveTrustedDomainItem.permissionItem})})]})};function G(e,s){B().K4(e,"copy_link_from_permissions_setting",s)}const q=function(e){const{isMobile:s}=(0,n().Fy)(),t=(0,o().VK)((()=>(0,a().wZ)()),[]),l=(0,r().yK)((e=>({container:{display:"flex",alignItems:s?"normal":"center",flexDirection:s?"column":"row",justifyContent:"space-between",padding:t?s?"16px 20px 20px":"12px 12px":"8px 14px",...t?{borderTop:s?`0.5px solid ${e.stroke.primary}`:`1px solid ${e.stroke.secondary}`,marginTop:s?0:"8px"}:{boxShadow:`0 -1px 0 ${e.regularDividerColor}`}}})),[s,t]),{mostPermissiveSpaceItem:m,mostPermissiveTrustedDomainItem:d,showTrustedDomainPermission:c,showRestrictedPermissionBanner:u}=e.calculatedPermissions;return(0,S.jsx)("div",{style:l.container,children:s?t?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(i(388944).X,{store:e.store,calculatedPermissions:e.calculatedPermissions,permissionItemArgs:e.permissionItemArgs}),(0,S.jsx)(z,{store:e.store,buttonPopupStore:e.buttonPopupStore,calculatedPermissions:e.calculatedPermissions})]}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(T,{store:e.store,sudoModeStore:e.permissionItemArgs.sudoModeStore,location:e.permissionItemArgs.location,spacePermission:m,isRestricted:u,showTrustedDomainPermission:c,trustedDomainPermission:d,permissionItemArgs:e.permissionItemArgs}),(0,S.jsx)(z,{store:e.store,buttonPopupStore:e.buttonPopupStore,calculatedPermissions:e.calculatedPermissions})]}):t?(0,S.jsx)(z,{store:e.store,buttonPopupStore:e.buttonPopupStore,calculatedPermissions:e.calculatedPermissions}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(j,{store:e.store,sudoModeStore:e.permissionItemArgs.sudoModeStore,location:e.permissionItemArgs.location,spacePermission:m,isRestricted:u,showTrustedDomainPermission:e.calculatedPermissions.showTrustedDomainPermission,trustedDomainPermission:e.calculatedPermissions.mostPermissiveTrustedDomainItem,permissionItemArgs:e.permissionItemArgs}),(0,S.jsx)(z,{store:e.store,buttonPopupStore:e.buttonPopupStore,calculatedPermissions:e.calculatedPermissions})]})})}},17571:(e,s,i)=>{i.d(s,{W:()=>f});var t=i(667294),n=()=>i(219727),o=()=>i(142735),r=()=>i(846550),a=()=>i(81979),l=()=>i(788860),m=()=>i(912732),d=()=>i(265640),c=()=>i(641506),u=()=>i(681832),p=()=>i(960516),g=i(785893);function h(e){let{}=e;const s=(0,n().O7)(),{device:o}=s,a=(0,t.useCallback)((()=>{u().default.update((e=>({...e,tab:u().XF.Publish,display:u().wV.Publish})))}),[]),m=(0,r().yK)((e=>({container:{padding:12,backgroundColor:e.sidebarSecondaryBackground,boxShadow:`0 -1px 0 ${e.regularDividerColor}`,marginTop:o.isMobile?28:1},link:{textDecoration:"underline",display:"inline"}})),[o.isMobile]);return(0,g.jsx)(i(67961).Z,{style:m.container,isMultiline:!0,isSmall:!0,children:(0,g.jsx)(l()._H,{id:"publicItemFooter.caption",defaultMessage:"Anyone on the web can access this published page · <link>Site settings</link>",values:{link:e=>(0,g.jsx)(i(108714).Z,{style:m.link,onClick:a,children:e})}})})}const b=t.memo(h);function f(e){let{store:s,publicPermissionItem:i,permissionItemArgs:a}=e;const h=(0,n().O7)(),[f,x]=(0,t.useState)(!1),y=(0,o().VK)((()=>s.canAdmin()),[s]),P=(0,t.useCallback)((()=>{u().default.update((e=>({...e,tab:u().XF.Publish,display:u().wV.Publish})))}),[]),I=(0,t.useCallback)((()=>{const e=!1===f;x(!f),e&&m().dS(h,{share_menu_session_id:u().default.state.sessionId,type:"public_link"})}),[h,f,x]),S=(0,r().yK)((e=>({link:{textDecoration:"underline",fontSize:(0,c().yv)(h,"UISmall"),color:e.text.secondary,paddingTop:0,paddingBottom:0,height:20,paddingLeft:4,paddingRight:4,marginTop:-4,marginLeft:-4,overflow:"hidden"},linkUILabelStyle:{overflow:"unset"}})),[h]);return(0,g.jsx)(p().ZP,{currentBlockStore:s,permissionItem:i.permissionItem,from:i.from,nonInheritedTooltip:(0,g.jsx)(l()._H,{id:"publicLinkPermissionItem.tooltip",defaultMessage:"Anyone on the web can access this published page"}),icon:(0,g.jsx)(v,{}),title:(0,g.jsx)(l()._H,{defaultMessage:"Anyone with published link",id:"publicLinkPermissionItem.title"}),subtitle:(0,g.jsx)(d().D,{style:S.link,onClick:P,children:y?(0,g.jsx)(l()._H,{defaultMessage:"Edit site settings",id:"publicLinkPermissionItem.manageSettings"}):(0,g.jsx)(l()._H,{defaultMessage:"View site settings",id:"publicLinkPermissionItem.viewSettings"})}),selectFooter:(0,g.jsx)(b,{}),subtitleStyle:S.linkUILabelStyle,onClick:I,upgradeButtonName:"public_permission_item",...a})}function v(){const e=(0,r().yK)((e=>({backgroundContainer:{background:e.regularDividerColor,width:32,height:32,borderRadius:4,display:"flex",justifyContent:"center",alignItems:"center"},globeIcon:{width:22,fill:e.icon.secondary}})),[]);return(0,g.jsx)("div",{style:e.backgroundContainer,children:(0,a().o)(e.globeIcon)})}},331404:(e,s,i)=>{i.d(s,{Z:()=>U});var t=i(667294),n=()=>i(219727),o=()=>i(142735),r=()=>i(846550),a=()=>i(41158),l=()=>i(237874),m=()=>i(667067),d=()=>i(149310),c=()=>i(933868),u=()=>i(788860),p=()=>i(696459),g=()=>i(777814),h=()=>i(827973),b=()=>i(471645),f=i(785893);function v(e){const{permissionItem:s,onToggle:i,focused:t}=e,a=(0,u().YB)(),{isMobile:l}=(0,n().Fy)(),m=(0,o().VK)((()=>!!s&&!Boolean(s.unlisted_timestamp)),[s]),d=(0,r().yK)((e=>({visibilityToggle:{display:"flex",alignItems:"start",justifyContent:"space-between",marginLeft:12,paddingLeft:4},buttonMenuItemStyleMobile:{backgroundColor:e.surface.elevated,paddingTop:12,paddingBottom:12,marginRight:12,borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:e.stroke.secondary,width:"100%"}})),[]),c=a.formatMessage({id:"spacePermissionItem.visibilityPicker.unlistedToggle",defaultMessage:"Hide in search"});return(0,f.jsx)("div",{children:(0,f.jsx)(h().Z,{onClick:i,focused:t,style:l?d.buttonMenuItemStyleMobile:{},title:c,shouldWrapTitle:!0,right:(0,f.jsx)("div",{style:l?{}:d.visibilityToggle,children:(0,f.jsx)(b().Z,{disabled:!1,on:!m,onClick:i})})})})}var x=()=>i(247724),y=()=>i(345918),P=()=>i(466970),I=()=>i(876822),S=()=>i(30795),_=()=>i(897257),j=()=>i(295334),M=()=>i(779733),C=()=>i(333023),w=()=>i(967092),k=()=>i(527278),T=()=>i(998901);const R=new(a().D)({key:"spacePermissionRedesignCallout",namespace:d().$p,important:!0,trackingType:"necessary"}),Z=(0,u().vU)({calloutTitle:{defaultMessage:"Simpler sharing and access control",id:"spacePermissionVisibilityPicker.calloutTitle"},calloutBody:{defaultMessage:"Share pages faster with streamlined audience options and granular control to hide in search",id:"spacePermissionVisibilityPicker.calloutBody"}}),N=t.memo((function(e){let{store:s,spacePermission:a,showTrustedDomainPermission:l,trustedDomainPermission:m,isRestricted:d,permissionItemArgs:c,hideHoverStyles:u,buttonPopupStore:p,isDisplayOnly:g,handleSpacePermissionChange:h,title:b}=e;const v=(0,n().O7)().device.isMobile,x=(0,i(480089).cR)(s),y=(0,o().VK)((()=>(0,M().wZ)()),[]),I=(0,o().VK)((()=>(0,M().LY)()),[]),S=(0,P().E)("share_menu_redesign_callout"),_=(0,o().VK)((()=>s.canAdmin()),[s]),j=!_||g||x,[C,N]=(0,t.useState)(!1);(0,t.useEffect)((()=>{y&&I&&S&&(R.getState()||(N(!0),R.setState(!0)))}),[y,I,S]);const V=(0,i(560847).R)((()=>p.setState({...p.state,open:!0})),[p],i(949842).Af.PermissionItemClick),H=(0,r().yK)((e=>({origin:{display:"flex",alignItems:"center",justifyContent:"center",paddingLeft:6,marginLeft:-6,height:void 0,paddingTop:4,paddingBottom:4,maxWidth:250},icon:{width:10,marginLeft:4,fill:e.mediumIconColor,display:"inline"},privacyMenu:{...!v&&{width:330,borderRadius:10},...v&&{maxWidth:"100%"}},title:{fontSize:14,whiteSpace:"normal"},mobileButton:{whiteSpace:"normal",marginBottom:4,height:void 0}})),[v]);return j?(0,f.jsx)("div",{style:H.title,children:b}):(0,f.jsx)(i(448419).ZP,{renderOrigin:e=>v?(0,f.jsx)("div",{style:H.title,...e,children:(0,f.jsxs)("div",{style:H.mobileButton,children:[b,(0,i(429600).o)(H.icon)]})}):(0,f.jsxs)(i(265640).D,{style:H.origin,hoveredStyle:u?{background:"unset"}:void 0,pressedStyle:u?{background:"unset"}:void 0,disabled:j,...e,children:[(0,f.jsx)(i(469203).s,{children:b}),_?(0,i(414294).E)(H.icon):null]}),disabled:j,onClick:V,buttonPopupStore:p,style:H.privacyMenu,alignmentToOrigin:T().Alignment.Start,popupType:v?w().kQ.BottomSheet:w().kQ.Popup,render:e=>a?(0,f.jsx)(w().ZP,{popupType:w().kQ.Popup,open:C,placementToOrigin:T().Placement.Left,enableOutsideClickDismiss:!0,onDismiss:()=>{N(!1)},originGap:4,render:()=>(0,f.jsx)(i(513471).U,{title:k().Z.formatMessage(Z.calloutTitle),body:k().Z.formatMessage(Z.calloutBody),onDismiss:()=>{N(!1)}}),origin:(0,f.jsx)(i(444600).t,{store:s,spacePermission:a,parentCloseCallback:e.close,showTrustedDomainPermission:l,trustedDomainPermission:m,isRestricted:d,sudoModeStore:c.sudoModeStore,location:c.location,permissionItemArgs:c,handleSpacePermissionChange:h})}):null})}));var V=()=>i(960516),H=()=>i(998306),K=()=>i(269089);function D(e){let{visibility:s,spaceStore:i}=e;const t=(0,n().O7)(),r=(0,o().VK)((()=>(0,y().rn)(t,i)),[t,i]),a=(0,o().VK)((()=>(0,M().wZ)()),[]),l=(0,o().VK)((()=>(0,M().LY)()),[]);switch(s){case"private":return(0,f.jsx)(u()._H,{id:"spacePermissionVisibilityPicker.private",defaultMessage:"Only people invited"});case"unlisted":return l?(0,f.jsx)(u()._H,{id:"blockPermissionsSettings.permissionItem.workspaceAccessNew.unlisted",defaultMessage:"Everyone at {spaceName} with the link",values:{spaceName:r}}):a?(0,f.jsx)(u()._H,{id:"linkSharingPill.visibilityTitle.anyoneWithLinkV2",defaultMessage:"Anyone at {spaceName} with the link",values:{spaceName:r}}):(0,f.jsx)(u()._H,{id:"linkSharingPill.visibilityTitle.anyoneWithLink",defaultMessage:"Anyone with link at {spaceName}",values:{spaceName:r}});case"open":case"open_unlisted_hybrid":return(0,f.jsx)(u()._H,{defaultMessage:"Everyone at {workspaceName}",id:"blockPermissionsSettings.permissionItem.workspaceAccessNew",values:{workspaceName:r}});default:(0,p().t1)(s)}}const B=new(a().D)({key:"shareMenuRoleSelectCalloutCount",namespace:d().$p,important:!0,trackingType:"necessary"});function L(e){let{visibility:s,spaceStore:i,isRedesignEnabled:t,isSearchableToggleEnabled:n,isMobile:o}=e;const a=(0,r().yK)((e=>({lockIcon:{width:o&&t?24:18,height:o&&t?24:18},linkIcon:{width:17,height:17,...t?void 0:{fill:e.mediumIconColor}},linkIconContainer:{backgroundColor:e.lightDividerColor,borderRadius:32}})),[o,t]);return"private"===s?t?(0,f.jsx)(H().Z,{type:"square",iconType:"function",iconFn:m().Q,iconStyle:a.lockIcon,isMobile:o}):(0,f.jsx)(K().Z,{store:i}):"unlisted"===s?n?(0,f.jsx)(K().Z,{store:i}):t?(0,f.jsx)(H().Z,{type:"square",iconType:"function",iconFn:l().N,iconStyle:a.linkIcon,isMobile:o}):(0,l().N)(a.linkIcon):"open"===s||"open_unlisted_hybrid"===s?(0,f.jsx)(K().Z,{store:i}):void(0,p().t1)(s)}function A(e){let{store:s,spacePermission:i,showTrustedDomainPermission:t,trustedDomainPermission:r,isRestricted:a,permissionItemArgs:l,fromPermissionWrapper:m,buttonPopupStore:d,visibility:c,isRedesignEnabled:p,spaceStore:g,hideHoverStyles:h,isDisplayOnly:b,handleSpacePermissionChange:v}=e;const x=(0,n().O7)(),P=(0,o().VK)((()=>(0,y().rn)(x,g)),[x,g]);return p?(0,f.jsx)(N,{store:s,spacePermission:i,showTrustedDomainPermission:t,trustedDomainPermission:r,isRestricted:a,permissionItemArgs:l,fromPermissionWrapper:m,buttonPopupStore:d,hideHoverStyles:h,isDisplayOnly:b,handleSpacePermissionChange:v,title:(0,f.jsx)(D,{visibility:c,spaceStore:g})}):"unlisted"===c?(0,f.jsx)(u()._H,{defaultMessage:"Members with the link",id:"blockPermissionsSettings.permissionItem.linkAccess"}):(0,f.jsx)(u()._H,{defaultMessage:"Everyone at {workspaceName}",id:"blockPermissionsSettings.permissionItem.workspaceAccessNew",values:{workspaceName:P}})}function O(){const e=(0,o().Kw)(_().subscriptionDataStoreInstance),s=(0,S().V)(e);return(0,f.jsx)(u()._H,{defaultMessage:"{numberOfWorkspaceMembers, plural, one {{numberOfWorkspaceMembers} person} other {{numberOfWorkspaceMembers} people}}",id:"blockPermissionsSettings.spacePermission.none",values:{numberOfWorkspaceMembers:s}})}function W(){return(0,f.jsx)(u()._H,{defaultMessage:"Applies to all members in your workspace.",id:"blockPermissionsSettings.spacePermission.tooltip"})}const U=function(e){var s;let{showTrustedDomainPermission:a,trustedDomainPermission:l,isRestricted:m,...d}=e;const{store:p,spacePermission:h,fromPermissionWrapper:b}=d,S=(0,n().O7)(),_=S.device.isMobile,w=(0,o().VK)((()=>(0,M().wZ)()),[]),k=(0,o().VK)((()=>(0,M().LY)()),[]),T=(0,P().E)("share_menu_role_select_callout"),R=(0,o().qz)(void 0,i(529048).Z),Z=c().tx(h.permissionItem)&&"none"!==h.permissionItem.role,N=(0,j().ab)(h),H=(0,c().YX)((null==l?void 0:l.permissionItem.role)??"none"),K=(0,c().YX)((null===(s=d.publicPermission)||void 0===s?void 0:s.permissionItem.role)??"none"),D=(0,o().VK)((()=>I().default.state.currentSpaceStore),[]),U=(0,o().VK)((()=>{const e=I().default.state.currentSpaceStore;return null==e||!e.isDefined()}),[]),E=(0,o().VK)((()=>{const e=I().default.state.currentSpaceStore;return!!e&&(0,y().Cx)(e)}),[]),F=(0,o().VK)((()=>(0,C().RY)()),[]),z=(0,o().VK)((()=>!!D&&p.isTopLevelWorkspacePage(D.id)),[p,D]),G=(0,o().VK)((()=>{const e=(0,C().bQ)({store:p});return e?(0,i(112157).b)(e):"private"}),[p]),q=!F&&a&&H&&!K,Y=(0,t.useCallback)((e=>{"none"===e&&H&&l&&(0,i(788504).n)({trustedDomainPermission:l,store:p,environment:S,sudoModeStore:d.permissionItemArgs.sudoModeStore,location:d.permissionItemArgs.location})}),[S,H,d.permissionItemArgs.location,d.permissionItemArgs.sudoModeStore,p,l]),X=(0,o().VK)((()=>B.getState()??0),[]),[$,J]=(0,t.useState)(!1),Q=(0,t.useCallback)((e=>{let{before:s,after:i}=e;if(!w||!k||!T)return;let t=!1;const n=(0,j().ab)(s),o=(0,j().ab)(i);"private"===n&&"private"!==o&&X<3&&(t=!0,B.setState(X+1)),J(t)}),[X,w,k,T]),ee=(0,t.useCallback)((()=>{w&&R.setState({open:!0})}),[w,R]),se=(0,t.useCallback)((async()=>{const e=h.permissionItem,s=(0,i(513670).Xh)(e);let t;"unlisted"===("open"===N?"unlisted":"open")?(s.unlisted_timestamp=Date.now(),t="open"===G):(delete s.unlisted_timestamp,t=!1);const n=h.from,o=n.table===i(396136).iU?n.blockId:n.teamId,r=!(n.table===p.table&&o===p.id);t=t&&!z&&!m,await(0,i(314169).iK)({oldPermissionItem:e,newPermissionItem:s,wasInherited:r,environment:S,store:p,restrictingVisibility:t,sudoModeStore:d.permissionItemArgs.sudoModeStore,location:d.permissionItemArgs.location})}),[S,h,z,d.permissionItemArgs,N,p,m,G]),ie=(0,r().yK)((e=>({container:{width:"100%"},lockIcon:{width:18,height:18},linkIcon:{width:17,height:17,...w?void 0:{fill:e.mediumIconColor}},preRedesignLinkIconContainer:{backgroundColor:e.lightDividerColor,borderRadius:32}})),[w]),te=(0,t.useMemo)((()=>k?[{role:"none",prefixItem:{key:"can-find-in-search-toggle",render:e=>(0,f.jsx)("div",{...e,children:(0,f.jsx)(v,{permissionItem:h.permissionItem,onToggle:se,focused:e.focused})}),action:()=>{}}}]:[]),[h,se,k]),ne="private"===N&&w;return D?U?E&&w?(0,f.jsx)("div",{style:ie.container,className:Z?void 0:x().afv,children:(0,f.jsx)(V().ZP,{currentBlockStore:p,permissionItem:h.permissionItem,from:h.from,icon:(0,f.jsx)(L,{visibility:N,spaceStore:D,isRedesignEnabled:w,isSearchableToggleEnabled:k,isMobile:S.device.isMobile}),iconStyle:w||"unlisted"!==N?void 0:ie.preRedesignLinkIconContainer,title:(0,f.jsx)(A,{store:p,spaceStore:D,spacePermission:h,showTrustedDomainPermission:a,trustedDomainPermission:l,isRestricted:!0,permissionItemArgs:d.permissionItemArgs,fromPermissionWrapper:b,buttonPopupStore:R,visibility:N,isRedesignEnabled:w,hideHoverStyles:ne,isDisplayOnly:!0,handleSpacePermissionChange:Q}),subtitle:_&&!ne?(0,f.jsx)(u()._H,{...(0,g().M)({type:"space_permission",role:h.permissionItem.role,table:"block",isRemovable:!1,isCurrentUser:!1,isRedesignEnabled:w}).label}):void 0,upgradeButtonName:"space_permission_item",fromPermissionWrapper:b,isRemovableOverride:!0,hideRoleSelectButton:ne,renderTitleWithoutUILabelWrapper:w,...d.permissionItemArgs,shouldDisable:!0})}):null:(0,f.jsxs)("div",{style:ie.container,className:Z?void 0:x().afv,children:[(0,f.jsx)(V().ZP,{currentBlockStore:p,permissionItem:h.permissionItem,from:h.from,icon:(0,f.jsx)(L,{visibility:N,spaceStore:D,isRedesignEnabled:w,isSearchableToggleEnabled:k,isMobile:S.device.isMobile}),iconStyle:w||"unlisted"!==N?void 0:ie.preRedesignLinkIconContainer,title:(0,f.jsx)(A,{store:p,spaceStore:D,spacePermission:h,showTrustedDomainPermission:a,trustedDomainPermission:l,isRestricted:m,permissionItemArgs:d.permissionItemArgs,fromPermissionWrapper:b,buttonPopupStore:R,visibility:N,isRedesignEnabled:w,hideHoverStyles:ne,isDisplayOnly:d.permissionItemArgs.shouldDisable??!1,handleSpacePermissionChange:Q}),selectHeader:w&&_?(0,f.jsx)(i(18748).ZP,{title:(0,f.jsx)(A,{store:p,spaceStore:D,spacePermission:h,showTrustedDomainPermission:a,trustedDomainPermission:l,isRestricted:m,permissionItemArgs:d.permissionItemArgs,fromPermissionWrapper:b,buttonPopupStore:R,visibility:N,isRedesignEnabled:w,hideHoverStyles:ne,isDisplayOnly:!0,handleSpacePermissionChange:Q}),icon:(0,f.jsx)(L,{visibility:N,spaceStore:D,isRedesignEnabled:w,isSearchableToggleEnabled:k,isMobile:S.device.isMobile}),desktopIconStyle:{marginLeft:16}}):void 0,onClick:w?ee:void 0,nonInheritedTooltip:w||"open"!==N||_?void 0:(0,f.jsx)(W,{}),subtitle:w||"unlisted"===N?w&&_&&!ne?(0,f.jsx)(u()._H,{...(0,g().M)({type:"space_permission",role:h.permissionItem.role,table:"block",isRemovable:!1,isCurrentUser:!1,isRedesignEnabled:w}).label}):void 0:(0,f.jsx)(O,{}),upgradeButtonName:"space_permission_item",fromPermissionWrapper:b,onChangeSuccess:Y,isRemovableOverride:!0,hideRoleSelectButton:ne,renderTitleWithoutUILabelWrapper:w,roleItemOverrides:te,openRoleSelectMenuOnRender:$,...d.permissionItemArgs}),q&&(0,f.jsx)(i(511829).Z,{store:d.store,trustedDomainPermission:l,permissionItemArgs:d.permissionItemArgs,fromPermissionWrapper:b,renderStyle:"permissionItem"})]}):null}},564256:(e,s,i)=>{i.d(s,{Z:()=>u});i(667294);var t=()=>i(142735),n=()=>i(846550),o=()=>i(890085),r=()=>i(788860),a=()=>i(960516),l=i(785893);function m(e){const{teamName:s,isCompact:i}=e;return i?(0,l.jsx)(r()._H,{defaultMessage:"Teamspace guests",id:"blockPermissionsSettings.permissionItem.teamGuestAccess.compact"}):s?(0,l.jsx)(r()._H,{defaultMessage:"Teamspace guests of {teamName}",id:"blockPermissionsSettings.permissionItem.teamGuestAccess",values:{teamName:s}}):(0,l.jsx)(r()._H,{id:"blockPermissionsSettings.permissionItem.teamspaceGuestsTeamName.hidden",defaultMessage:"Teamspace guests of a private teamspace"})}function d(e){let{teamGuestsCount:s,isCompact:i,isRedesignEnabled:t}=e;return i&&!t||0===s?null:(0,l.jsx)(r()._H,{defaultMessage:"{membersCount, plural, one {{membersCount} person} other {{membersCount} people}}",id:"blockPermissionsSettings.teamGuestPermission.subtitle",values:{membersCount:s}})}function c(e){const{teamName:s}=e,i=(0,n().yK)((()=>({tooltip:{whiteSpace:"normal",maxWidth:240}})),[]);return s?(0,l.jsx)("div",{style:i.tooltip,children:(0,l.jsx)(r()._H,{defaultMessage:"Applies to all teamspace guests of {teamName}.",values:{teamName:s},id:"blockPermissionsSettings.teamGuestPermission.tooltip"})}):null}const u=function(e){let{store:s,blockTeamGuestPermission:r,isExternalTeam:u,fromPermissionWrapper:p,teamGuestsCount:g,permissionItemArgs:h}=e;const{isMobile:b}=(0,i(219727).Fy)(),f=(0,t().VK)((()=>(0,i(779733).wZ)()),[]),{permissionItem:v}=r,x=(0,t().VK)((()=>i(876822).default.state.currentSpaceStore),[]),y=(0,t().VK)((()=>{var e;return i(933868).bm(v)?v.team_id:null===(e=i(239482).VP(s))||void 0===e?void 0:e.id}),[v,s]),{teamStore:P,teamIsDefined:I,teamName:S,teamIcon:_}=(0,t().VK)((()=>{if(!x||!y)return{};const e=i(826955).zX.createChildStore(x,{table:i(306164).e0,id:y,spaceId:x.id});return null!=e&&e.isDefined()?{teamStore:e,teamIsDefined:null==e?void 0:e.isDefined(),teamName:e.getName(),teamIcon:e.getIcon()}:{}}),[x,y]),j=(0,t().VK)((()=>{if(g)return g;if(void 0!==P){const e=(0,i(91502).oT)(P);if(void 0!==e)return e.memberCountWithGuests-e.memberCount}}),[P,g]),M=!u,C=(0,n().yK)((()=>({container:{width:"100%"}})),[]);if(!P)return null;const w=_&&o().V2(_.icon)?o().mk(_.icon):"gray",k=_?{..._,icon:`/icons/user-circle_${w}.svg`}:void 0;return(0,l.jsx)("div",{style:C.container,className:i(247724).YHn,children:(0,l.jsx)(a().ZP,{isCompact:M,currentBlockStore:s,permissionItem:v,icon:f?(0,l.jsx)(i(98991).Z,{size:b&&f?a().xF:a().ZG}):I?(0,l.jsx)(i(383694).p,{disabled:!0,store:P,size:b&&f?a().xF:a().ZG,icon:k}):(0,i(594968).x)(),title:(0,l.jsx)(m,{teamName:S,isCompact:M}),nonInheritedTooltip:(0,l.jsx)(c,{teamName:S}),from:r.from,subtitle:I&&(0,l.jsx)(d,{teamGuestsCount:j??0,isCompact:M,isRedesignEnabled:f}),upgradeButtonName:"team_permission_item",fromPermissionWrapper:p,...h})})}},302656:(e,s,i)=>{i.d(s,{Z:()=>g});i(667294);var t=()=>i(219727),n=()=>i(142735),o=()=>i(846550),r=()=>i(306164),a=()=>i(788860),l=()=>i(777814),m=()=>i(960516),d=i(785893);function c(e){let{teamName:s,isCompact:i,isRedesignEnabled:t}=e;return i&&t?(0,d.jsx)(a()._H,{defaultMessage:"Members",id:"blockPermissionsSettings.permissionItem.teamAccessV3"}):i&&s?(0,d.jsx)(a()._H,{defaultMessage:"Teamspace members",id:"blockPermissionsSettings.permissionItem.teamAccessV2"}):s?(0,d.jsx)(a()._H,{defaultMessage:"Members of {teamName}",id:"blockPermissionsSettings.permissionItem.teamAccess",values:{teamName:s}}):(0,d.jsx)(a()._H,{id:"blockPermissionsSettings.permissionItem.membersTeamName.hidden",defaultMessage:"Members of a private teamspace"})}function u(e){let{isCompact:s,membersCount:i,isRedesignEnabled:n,permissionItem:o}=e;const{isMobile:m}=(0,t().Fy)();return s&&!n||0===i?null:m&&n&&o?(0,d.jsxs)("div",{children:[(0,d.jsx)(a()._H,{defaultMessage:"{membersCount, plural, one {{membersCount} person} other {{membersCount} people}}",id:"blockPermissionsSettings.teamMembersPermission.subtitle",values:{membersCount:i}})," · ",(0,d.jsx)(a()._H,{...(0,l().M)({type:o.type,role:o.role,table:r().e0,isRemovable:!1,isCurrentUser:!1,isRedesignEnabled:!0}).label})]}):(0,d.jsx)(a()._H,{defaultMessage:"{membersCount, plural, one {{membersCount} person} other {{membersCount} people}}",id:"blockPermissionsSettings.teamMembersPermission.subtitle",values:{membersCount:i}})}function p(e){const{teamName:s}=e,i=(0,o().yK)((()=>({tooltip:{whiteSpace:"normal",maxWidth:240}})),[]);return s?(0,d.jsx)("div",{style:i.tooltip,children:(0,d.jsx)(a()._H,{defaultMessage:"Applies to all owners and members of {teamName}.",values:{teamName:s},id:"blockPermissionsSettings.teamPermission.tooltip"})}):null}const g=function(e){let{store:s,blockTeamPermission:a,isExternalTeam:l,fromPermissionWrapper:g,teamMembersCount:h,permissionItemArgs:b}=e;const{isMobile:f}=(0,t().Fy)(),v=(0,n().VK)((()=>(0,i(779733).wZ)()),[]),{permissionItem:x}=a,y=(0,n().VK)((()=>i(876822).default.state.currentSpaceStore),[]),P=(0,n().VK)((()=>{var e;return i(933868).zU(x)?x.team_id:null===(e=i(239482).VP(s))||void 0===e?void 0:e.id}),[x,s]),{teamStore:I,teamIsDefined:S,teamName:_}=(0,n().VK)((()=>{if(!y||!P)return{};const e=i(826955).zX.createChildStore(y,{table:r().e0,id:P,spaceId:y.id});return{teamStore:e,teamIsDefined:null==e?void 0:e.isDefined(),teamName:null==e?void 0:e.getName()}}),[y,P]),j=!l,M=(0,n().VK)((()=>{return h||(void 0!==I?null===(e=(0,i(91502).oT)(I))||void 0===e?void 0:e.memberCount:void 0);var e}),[I,h]),C=(0,o().yK)((()=>({container:{width:"100%"}})),[]);return I?(0,d.jsx)("div",{style:C.container,className:i(247724).YHn,children:(0,d.jsx)(m().ZP,{isCompact:j,currentBlockStore:s,permissionItem:a.permissionItem,from:a.from,icon:v?(0,d.jsx)(i(98991).Z,{size:f&&v?m().xF:m().ZG}):S?(0,d.jsx)(i(383694).p,{disabled:!0,store:I,size:f&&v?m().xF:m().ZG}):(0,i(594968).x)(),title:(0,d.jsx)(c,{teamName:_,isCompact:j,isRedesignEnabled:v}),nonInheritedTooltip:(0,d.jsx)(p,{teamName:(0,d.jsx)(i(525496).Z,{store:I,useInvertedColors:!0})}),subtitle:S&&(0,d.jsx)(u,{membersCount:M??0,isCompact:j,isRedesignEnabled:v,permissionItem:a.permissionItem}),upgradeButtonName:"team_permission_item",fromPermissionWrapper:g,...b})}):null}},874977:(e,s,i)=>{i.d(s,{Z:()=>x});i(241792),i(667294);var t=()=>i(219727),n=()=>i(142735),o=()=>i(846550),r=()=>i(594968),a=()=>i(306164),l=()=>i(989478),m=()=>i(788860),d=()=>i(777814),c=()=>i(826955),u=()=>i(634015),p=()=>i(960516),g=i(785893);function h(e){const{store:s,teamOwners:i,teamStore:t,teamName:n}=e;if(n){const e=i.map((e=>c().U6.createChildStore(s,{table:l().KJ,id:e})));return(0,g.jsx)(u().n,{teamStore:t,ownerStores:e})}return(0,r().x)()}function b(e){let{teamName:s,isCompact:i,isRedesignEnabled:t}=e;return i&&t?(0,g.jsx)(m()._H,{defaultMessage:"Owners",id:"blockPermissionsSettings.permissionItem.teamOwnerAccessV3"}):i&&s?(0,g.jsx)(m()._H,{defaultMessage:"Teamspace owners",id:"blockPermissionsSettings.permissionItem.teamOwnerAccessV2",values:{teamName:s}}):s?(0,g.jsx)(m()._H,{defaultMessage:"Owners of {teamName}",id:"blockPermissionsSettings.permissionItem.teamOwnerAccess",values:{teamName:s}}):(0,g.jsx)(m()._H,{id:"blockPermissionsSettings.permissionItem.teamName.hidden",defaultMessage:"Owners of a private teamspace"})}function f(e){let{teamOwnersCount:s,isCompact:i,isRedesignEnabled:n,permissionItem:o}=e;const{isMobile:r}=(0,t().Fy)();return i&&!n||0===s?null:r&&n&&o?(0,g.jsxs)("div",{children:[(0,g.jsx)(m()._H,{defaultMessage:"{teamOwnersCount, plural, one {{teamOwnersCount} person} other {{teamOwnersCount} people}}",id:"blockPermissionsSettings.teamOwnerPermission.subtitle",values:{teamOwnersCount:s}})," · ",(0,g.jsx)(m()._H,{...(0,d().M)({type:o.type,role:o.role,table:a().e0,isRemovable:!1,isCurrentUser:!1,isRedesignEnabled:!0}).label})]}):(0,g.jsx)(m()._H,{defaultMessage:"{teamOwnersCount, plural, one {{teamOwnersCount} person} other {{teamOwnersCount} people}}",id:"blockPermissionsSettings.teamOwnerPermission.subtitle",values:{teamOwnersCount:s}})}function v(e){const{teamName:s}=e,i=(0,o().yK)((()=>({tooltip:{whiteSpace:"normal",maxWidth:240}})),[]);return s?(0,g.jsx)("div",{style:i.tooltip,children:(0,g.jsx)(m()._H,{defaultMessage:"Applies to all owners of {teamName}",values:{teamName:s},id:"blockPermissionsSettings.teamOwnerPermission.tooltip"})}):null}const x=function(e){let{store:s,blockTeamOwnerPermission:r,isExternalTeam:l,fromPermissionWrapper:m,teamOwnersCount:d,permissionItemArgs:u}=e;const{isMobile:x}=(0,t().Fy)(),y=(0,n().VK)((()=>(0,i(779733).wZ)()),[]),{permissionItem:P}=r,I=(0,n().VK)((()=>i(876822).default.state.currentSpaceStore),[]),S=(0,n().VK)((()=>{var e;return i(933868).LW(P)?P.team_id:null===(e=i(239482).VP(s))||void 0===e?void 0:e.id}),[P,s]),{teamStore:_,teamName:j,teamOwners:M}=(0,n().VK)((()=>{if(!I||!S)return{undefined:void 0};const e=c().zX.createChildStore(I,{table:a().e0,id:S,spaceId:I.id});return{teamStore:e,teamName:e.getName(),teamOwners:e.getOwnerUserIds()}}),[I,S]),C=!l,w=(0,n().VK)((()=>{return d||(void 0!==_?null===(e=(0,i(91502).oT)(_))||void 0===e?void 0:e.ownerCount:void 0);var e}),[_,d]),k=(0,o().yK)((()=>({container:{width:"100%"}})),[]);return _?(0,g.jsx)("div",{style:k.container,className:i(247724).ZmO,children:(0,g.jsx)(p().ZP,{isCompact:C,currentBlockStore:s,permissionItem:r.permissionItem,from:r.from,icon:y?(0,g.jsx)(i(98991).Z,{size:x&&y?p().xF:p().ZG}):(0,g.jsx)(h,{store:s,teamName:j,teamStore:_,teamOwners:M}),title:(0,g.jsx)(b,{teamName:j,isCompact:C,isRedesignEnabled:y}),nonInheritedTooltip:(0,g.jsx)(v,{teamName:(0,g.jsx)(i(525496).Z,{store:_,useInvertedColors:!0})}),subtitle:(0,g.jsx)(f,{teamOwnersCount:w??0,isCompact:C,isRedesignEnabled:y,permissionItem:r.permissionItem}),upgradeButtonName:"team_owner_permission_item",fromPermissionWrapper:m,...u})}):null}},564735:(e,s,i)=>{i.d(s,{Z:()=>p});var t=i(667294),n=()=>i(219727),o=()=>i(142735),r=()=>i(846550),a=()=>i(788860),l=()=>i(668001),m=()=>i(777814),d=i(785893);function c(e){let{teamName:s,isRedesignEnabled:i}=e;return s?i?(0,d.jsx)(a()._H,{defaultMessage:"People in {teamName}",id:"blockPermissionsSettings.permissionItem.teamspaceAccessV2",values:{teamName:s}}):(0,d.jsx)(a()._H,{defaultMessage:"Everyone at {teamName}",id:"blockPermissionsSettings.permissionItem.teamspaceAccess",values:{teamName:s}}):i?(0,d.jsx)(a()._H,{defaultMessage:"People in a private teamspace",id:"blockPermissionsSettings.permissionItem.teamspace.hiddenV2"}):(0,d.jsx)(a()._H,{defaultMessage:"Everyone at a private teamspace",id:"blockPermissionsSettings.permissionItem.teamspace.hidden"})}function u(e){let{membersCount:s,isRedesignEnabled:i,teamPermissionItem:t}=e;const{isMobile:o}=(0,n().Fy)(),c=(0,r().yK)((e=>({container:{display:"flex",alignItems:"center",gap:2}})),[]),u=s?(0,d.jsx)("div",{children:(0,d.jsx)(a()._H,{defaultMessage:"{membersCount, plural, one {{membersCount} person} other {{membersCount} people}}",id:"blockPermissionsSettings.teamPermission.memberCount.subtitle",values:{membersCount:s}})}):(0,d.jsxs)("div",{style:c.container,children:[(0,d.jsx)(l().Z,{style:{height:12,width:14,borderRadius:4,marginRight:2,marginLeft:2}}),(0,d.jsx)(a()._H,{defaultMessage:"people",id:"blockPermissionsSettings.teamPermission.subtitle.people",values:{membersCount:s}})]});return i?o?(0,d.jsxs)("div",{style:c.container,children:[u,t&&(0,d.jsxs)(d.Fragment,{children:[" · ",(0,d.jsx)(a()._H,{...(0,m().M)({type:t.type,role:t.role,table:"block",isRemovable:!1,isCurrentUser:!1,isRedesignEnabled:!0}).label})]})]}):(0,d.jsxs)("div",{style:c.container,children:[(0,d.jsx)(a()._H,{defaultMessage:"Teamspace",id:"blockPermissionsSettings.teamPermission.subtitle.teamspace"})," · ",u]}):u}const p=function(e){let{store:s,blockTeamMemberPermission:l,blockTeamOwnerPermission:p,blockTeamGuestPermission:g,permissionItemArgs:h}=e;const b=(0,n().O7)(),f=b.device.isMobile,[v,x]=(0,t.useState)(!1),[y,P]=(0,t.useState)(!1),{permissionItem:I}=l,S=(0,o().VK)((()=>i(876822).default.state.currentSpaceStore),[]),_=(0,o().VK)((()=>(0,i(779733).wZ)()),[]),j=(0,o().VK)((()=>{var e;return i(933868).zU(I)?I.team_id:null===(e=i(239482).VP(s))||void 0===e?void 0:e.id}),[I,s]),M=p.permissionItem.role,C=I.role,w={type:"display_only_overview_permission",role:M===C?C:"none"===C||"none"===M?"limited":"access"},{teamStore:k,teamIsDefined:T,teamName:R}=(0,o().VK)((()=>{if(!S||!j)return{undefined:void 0};const e=i(826955).zX.createChildStore(S,{table:i(306164).e0,id:j,spaceId:S.id});return{teamStore:e,teamIsDefined:null==e?void 0:e.isDefined(),teamName:null==e?void 0:e.getName()}}),[S,j]),Z=(0,o().VK)((()=>{if(void 0!==k)return(0,i(91502).oT)(k)}),[k]),{membersCount:N,totalMembersAndGuestsCount:V,ownersCount:H,teamGuestsCount:K}=void 0!==Z?{membersCount:Z.memberCount,totalMembersAndGuestsCount:Z.memberCountWithGuests,ownersCount:Z.ownerCount,teamGuestsCount:Z.memberCountWithGuests-Z.memberCount}:{membersCount:0,totalMembersAndGuestsCount:void 0,ownersCount:0,teamGuestsCount:0},D=(0,o().VK)((()=>{if(!S)return!1;return!S.getDisableTeamGuests()&&((null==k||!k.isDefault())&&(0,i(286338).F$)())}),[S,k]),B=(0,t.useCallback)((()=>x(!0)),[]),L=(0,t.useCallback)((()=>x(!1)),[]),A=(0,t.useCallback)((()=>{const e=!1===y;if(P(!y),e){if(!k)return;i(912732).dS(b,{share_menu_session_id:i(681832).default.state.sessionId,type:"team",team_id:k.id})}}),[b,y,P,k]),O=(0,r().yK)((e=>({icon:{width:10,marginLeft:4,fill:e.lightIconColor},teamPermissionsContainer:{paddingLeft:16,display:y?"block":"none"},roleButton:{marginRight:-8,color:e.mediumTextColor,fontSize:(0,i(845465).fV)({environment:b,isRedesignEnabled:_})},mobileTitleContainer:{display:"flex",alignItems:"center"},mobileTextContainer:{dislay:"block",overflow:"hidden"},mobileChevronIcon:{marginLeft:4,fill:e.icon.secondary,transform:`rotate(${y?90:0}deg)`,transition:"transform 150ms ease"}})),[y,b,_]),W=_?null:(0,i(165940).R)(O.icon);if(!k)return null;const U=T?(0,d.jsx)(i(269089).Z,{store:k}):(0,i(594968).x)(),E=_?(0,d.jsx)(i(277939).Z,{expanded:y,hovered:v,onClick:A,children:U}):U;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i(960516).ZP,{currentBlockStore:s,permissionItem:w,from:l.from,onMouseEnter:B,onMouseLeave:L,icon:E,title:f&&_?(0,d.jsxs)("div",{style:O.mobileTitleContainer,children:[(0,d.jsx)("div",{style:O.mobileTextContainer,children:(0,d.jsx)(c,{teamName:R,isRedesignEnabled:_})}),(0,d.jsx)("div",{style:O.mobileChevronIcon,children:(0,i(429600).o)({height:12,width:12})})]}):(0,d.jsx)(c,{teamName:R,isRedesignEnabled:_}),subtitle:T&&(0,d.jsx)(u,{membersCount:V,isRedesignEnabled:_,teamPermissionItem:w}),nonInheritedTooltip:_?(0,d.jsx)(a()._H,{id:"TeamPermissionItem.access",defaultMessage:"People in the {inlineIconAndName} teamspace",values:{inlineIconAndName:(0,d.jsx)(i(525496).Z,{store:k,useInvertedColors:!0})}}):null,upgradeButtonName:"team_permission_item",onClick:A,permissionRoleSelect:y?W:(0,d.jsx)(m().d,{type:w.type,role:w.role,icon:i(78615).P,disabled:!0,buttonStyle:O.roleButton,table:i(396136).iU,isCurrentUser:!1,from:"shareMenu"}),isCollapsible:!0,...h}),(0,d.jsxs)("div",{style:O.teamPermissionsContainer,children:[p&&(0,d.jsx)(i(874977).Z,{store:s,permissionItemArgs:h,blockTeamOwnerPermission:p,teamOwnersCount:H,fromPermissionWrapper:"expandable_permission"}),l&&(0,d.jsx)(i(302656).Z,{store:s,permissionItemArgs:h,blockTeamPermission:l,teamMembersCount:N,fromPermissionWrapper:"expandable_permission"}),D&&g&&(0,d.jsx)(i(564256).Z,{store:s,permissionItemArgs:h,blockTeamGuestPermission:g,teamGuestsCount:K,fromPermissionWrapper:"expandable_permission"})]})]})}},444600:(e,s,i)=>{i.d(s,{t:()=>N});i(267602),i(653476),i(241792);var t=i(667294),n=()=>i(219727),o=()=>i(142735),r=()=>i(846550),a=()=>i(235605),l=()=>i(933868),m=()=>i(396136),d=()=>i(788860),c=()=>i(696459),u=()=>i(707513),p=()=>i(827973),g=()=>i(198829),h=()=>i(255577),b=()=>i(388284),f=()=>i(67961),v=()=>i(352230),x=()=>i(609836),y=()=>i(876822),P=()=>i(469203),I=()=>i(428241),S=()=>i(314169),_=()=>i(343308),j=()=>i(788504),M=()=>i(112157),C=()=>i(779733),w=()=>i(333023),k=()=>i(511829),T=()=>i(721657),R=i(785893);const Z=[{key:"trustedDomain",title:()=>{},caption:()=>{},icon:()=>{}}];function N(e){const{store:s,spacePermission:i,sudoModeStore:N,location:H,isRestricted:K,trustedDomainPermission:D,parentCloseCallback:B,handleSpacePermissionChange:L}=e,A=(0,n().O7)(),{isMobile:O,isTablet:W}=(0,n().Fy)(),U=(0,o().VK)((()=>(0,C().wZ)()),[]),E=(0,o().VK)((()=>(0,C().LY)()),[]),F=(0,o().VK)((()=>y().default.state.currentSpaceStore),[]),z=(0,M().b)(i.permissionItem,E),G=(0,M().b)(i.permissionItem,!1),q=i.from,Y=q.table===m().iU?q.blockId:q.teamId,X=!(q.table===s.table&&Y===s.id),$=(0,o().VK)((()=>{const{currentSpaceStore:e}=y().default.state;return!!e&&s.isTopLevelWorkspacePage(e.id)}),[s]),J=(0,x().b)(),Q=(0,o().VK)((()=>{const e=w().bQ({store:s});return e?(0,M().b)(e):"private"}),[s]),ee=(0,l().YX)((null==D?void 0:D.permissionItem.role)??"none"),se=(0,I().u)(),ie=(0,o().VK)((()=>(0,w().Lc)({trustedDomainsStore:se})),[se]),te=(0,T().ji)(U,E);(0,t.useEffect)((()=>{null!=F&&F.id&&_().oh({environment:A,spaceId:F.id,pageId:s.id,pageVisibility:G,hasTrustedDomainPermission:ee})}),[null==F?void 0:F.id,s.id,G,ee,A]);const ne=(0,o().VK)((()=>(0,w().RY)()),[]),oe=ie&&D&&!ee&&!ne?[...te,...Z]:te,re=(0,t.useCallback)((async()=>{let e=G;"private"===G&&(e="open");const t=i.permissionItem,n=V(t,G,e);await(0,S().L7)({oldPermissionItem:t,newRole:n,wasInherited:X,environment:A,store:s,sudoModeStore:N,location:H,restrictingVisibility:!1}),B()}),[A,X,H,B,G,i.permissionItem,s,N]),ae=(0,r().yK)((e=>{const s={width:14,fill:O?e.regularIconColor:U?e.regularTextColor:e.mediumTextColor};return{icon:{fill:O?e.regularIconColor:U?e.regularTextColor:e.mediumTextColor,width:T().rn},iconContainer:{marginLeft:O?13:U?8:9,...U?{marginRight:6}:{alignSelf:"center"},...E?{alignSelf:"center"}:{}},hiddencheckmark:{...s,visibility:"hidden"},selectedCheckmark:{...s,visibility:"visible"},checkmarkContainer:{...U?{marginRight:6,marginLeft:2}:{marginLeft:12}},selectedTitle:U?{}:{fontWeight:u().Ue.semibold},mobileScroller:{...U?{background:e.surface.wash}:{border:`1px solid ${e.regularDividerColor}`,borderRadius:8,marginBottom:24}},mobileButton:{paddingTop:8,paddingBottom:8},mobileButtonDivider:{borderBottom:`1px solid ${e.regularDividerColor}`},caption:{whiteSpace:"normal"},sectionMenuItem:{...U&&!O?{paddingTop:4,paddingBottom:4}:{},...U&&O?{overflow:"hidden",background:e.buttonBackground,borderRadius:12,marginLeft:16,marginRight:16,marginBottom:16,borderWidth:1,borderStyle:"solid",borderColor:e.stroke.secondary,padding:void 0}:{}},menuList:{...U&&O?{width:"100%",margin:"0 auto"}:{}},header:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",background:e.surface.wash,paddingTop:12,paddingBottom:20},headerLabel:{fontSize:16,fontWeight:u().Ue.semibold}}}),[O,U,E]);return F?(0,R.jsx)(g().Z,{menuType:v().o.Popup,disableScroller:!0,scrollerStyle:O?ae.mobileScroller:{},height:O&&U?W?"100%":"50vh":void 0,minWidth:O&&U?"100%":void 0,maxWidth:O&&U?"100%":void 0,maxHeight:O&&U?"100%":void 0,header:O&&U?(0,R.jsx)("div",{style:ae.header,children:(0,R.jsx)(f().Z,{style:ae.headerLabel,children:(0,R.jsx)(d()._H,{defaultMessage:"General access",id:"PermissionRoleSelect.Header.GeneralAccess"})})}):void 0,children:(0,R.jsx)(h().ZP,{type:h().iW.Vertical,initialFocus:void 0,style:O&&U?ae.menuList:void 0,sections:[{key:"visibilityOptions",render:e=>(0,R.jsx)(b().Z,{...e,disableDesktopPadding:O,style:ae.sectionMenuItem}),items:oe.map(((t,n)=>{const o=t.key;if("trustedDomain"===o)return D?{key:"trusted_domain_item",action:async()=>{},render:s=>(0,R.jsx)(k().Z,{store:e.store,trustedDomainPermission:D,permissionItemArgs:e.permissionItemArgs,renderStyle:"permissionSelectOption",selectTrustedDomainHandler:re,menuListItemProps:s})}:void 0;const r=function(e,s){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e===s)return!0;if(i&&("unlisted"===e&&"open"===s||"open"===e&&"unlisted"===s))return!0;return!1}(z,o,E),l=r?ae.selectedCheckmark:ae.hiddencheckmark,m=n!==T().Ri.length-1,d={...U?{minHeight:28}:{},...O?ae.mobileButton:{},...O&&m?ae.mobileButtonDivider:{},...U&&m&&!O&&{marginBottom:2}},u=t.caption({isShareMenuRedesignEnabled:U});return{key:o,render:e=>(0,R.jsx)(p().Z,{title:U?(0,R.jsx)(f().Z,{isMultiline:!0,children:t.title({spaceName:J,isShareMenuRedesignEnabled:!0,type:"full",visibility:G,isSearchableToggleEnabled:E})}):(0,R.jsx)(P().s,{tooltipStyle:{maxWidth:200},children:t.title({spaceName:J,isShareMenuRedesignEnabled:!1,type:"full"})}),caption:E?void 0:(0,R.jsx)(f().Z,{isSmall:!0,isMultiline:!0,style:ae.caption,children:u}),icon:t.icon({style:ae.icon,spaceStore:F,isShareMenuRedesignEnabled:U,teamspaceIconSize:20}),desktopIconStyle:ae.iconContainer,titleStyle:r&&!O?ae.selectedTitle:void 0,right:(0,a().k)(l),rightStyle:ae.checkmarkContainer,buttonStyle:{borderRadius:6},style:d,shouldWrapTitle:U,...e}),action:async()=>{if(r)return;const e=i.permissionItem,t={type:"space_permission",role:V(e,G,o)};"unlisted"===o&&(t.unlisted_timestamp=Date.now());const n=function(e,s){if(e===s)return!1;switch(s){case"open":case"open_unlisted_hybrid":return!1;case"unlisted":return"open"===e;case"private":return!0;default:(0,c().t1)(s)}}(Q,o)&&!K&&!$,a=await(0,S().iK)({oldPermissionItem:e,newPermissionItem:t,wasInherited:X,environment:A,store:s,sudoModeStore:N,location:H,restrictingVisibility:n,trustedDomainsLoggingData:{trustedDomainsPointers:null==se?void 0:se.state.trustedDomainPointers,hasTrustedDomainPermission:ee,isTrustedDomainItemEnabled:ie}});a&&L&&L({before:e,after:t}),a&&D&&("private"===o&&ee&&(0,j().n)({trustedDomainPermission:D,store:s,environment:A,sudoModeStore:N,location:H}),!ne||"private"!==G||"open"!==o&&"unlisted"!==o||ee||(0,j().o)({trustedDomainPermission:D,store:s,environment:A,sudoModeStore:N,location:H})),B()}}})).filter(c().$K)}]})}):null}function V(e,s,i){return"private"===i?"none":"private"===s?"editor":e.role}},721657:(e,s,i)=>{i.d(s,{rn:()=>a,ji:()=>m,Ri:()=>l});i(267602),i(653476),i(667294);var t=i(785893);const n=(0,i(827282).IU)("openPage",{viewBox:"0 0 17 16",svg:(0,t.jsx)("path",{d:"M0.454102 14.1143V2.02832C0.454102 1.26953 0.891602 0.78418 1.58887 0.78418H9.7373C10.4346 0.78418 10.8721 1.26953 10.8721 2.02832V14.1143C10.8721 14.873 10.4346 15.3584 9.7373 15.3584H1.58887C0.891602 15.3584 0.454102 14.873 0.454102 14.1143ZM3.07227 4.45508C3.07227 4.63281 3.18164 4.74902 3.35254 4.74902H4.71973C4.89062 4.74902 5.01367 4.63281 5.01367 4.45508V3.12891C5.01367 2.95801 4.89062 2.83496 4.71973 2.83496H3.35254C3.18164 2.83496 3.07227 2.95801 3.07227 3.12891V4.45508ZM6.37402 4.45508C6.37402 4.63281 6.4834 4.74902 6.66113 4.74902H8.02148C8.19238 4.74902 8.31543 4.63281 8.31543 4.45508V3.12891C8.31543 2.95801 8.19238 2.83496 8.02148 2.83496H6.66113C6.4834 2.83496 6.37402 2.95801 6.37402 3.12891V4.45508ZM11.4736 15.3584C11.6992 14.9893 11.8086 14.5723 11.8086 14.1143V4.14746H15.418C16.1084 4.14746 16.5459 4.63281 16.5459 5.3916V14.1143C16.5459 14.873 16.1084 15.3584 15.418 15.3584H11.4736ZM3.07227 7.24414C3.07227 7.42188 3.18164 7.53809 3.35254 7.53809H4.71973C4.89062 7.53809 5.01367 7.42188 5.01367 7.24414V5.91797C5.01367 5.74707 4.89062 5.62402 4.71973 5.62402H3.35254C3.18164 5.62402 3.07227 5.74707 3.07227 5.91797V7.24414ZM6.37402 7.24414C6.37402 7.42188 6.4834 7.53809 6.66113 7.53809H8.02148C8.19238 7.53809 8.31543 7.42188 8.31543 7.24414V5.91797C8.31543 5.74707 8.19238 5.62402 8.02148 5.62402H6.66113C6.4834 5.62402 6.37402 5.74707 6.37402 5.91797V7.24414ZM13.3604 7.60645C13.3604 7.75 13.4492 7.85254 13.5996 7.85254H14.7344C14.8779 7.85254 14.9736 7.75 14.9736 7.60645V6.5127C14.9736 6.36914 14.8779 6.27344 14.7344 6.27344H13.5996C13.4492 6.27344 13.3604 6.36914 13.3604 6.5127V7.60645ZM3.07227 10.0332C3.07227 10.2041 3.18164 10.3271 3.35254 10.3271H4.71973C4.89062 10.3271 5.01367 10.2041 5.01367 10.0332V8.70703C5.01367 8.5293 4.89062 8.41309 4.71973 8.41309H3.35254C3.18164 8.41309 3.07227 8.5293 3.07227 8.70703V10.0332ZM6.37402 10.0332C6.37402 10.2041 6.4834 10.3271 6.66113 10.3271H8.02148C8.19238 10.3271 8.31543 10.2041 8.31543 10.0332V8.70703C8.31543 8.5293 8.19238 8.41309 8.02148 8.41309H6.66113C6.4834 8.41309 6.37402 8.5293 6.37402 8.70703V10.0332ZM13.3604 10.2998C13.3604 10.4434 13.4492 10.5391 13.5996 10.5391H14.7344C14.8779 10.5391 14.9736 10.4434 14.9736 10.2998V9.20605C14.9736 9.0625 14.8779 8.9668 14.7344 8.9668H13.5996C13.4492 8.9668 13.3604 9.0625 13.3604 9.20605V10.2998ZM3.29785 14.2578H8.08984V12.0361C8.08984 11.7217 7.88477 11.5166 7.57031 11.5166H3.81738C3.50293 11.5166 3.29785 11.7217 3.29785 12.0361V14.2578ZM13.3604 12.9932C13.3604 13.1367 13.4492 13.2324 13.5996 13.2324H14.7344C14.8779 13.2324 14.9736 13.1367 14.9736 12.9932V11.8994C14.9736 11.7559 14.8779 11.6533 14.7344 11.6533H13.5996C13.4492 11.6533 13.3604 11.7559 13.3604 11.8994V12.9932Z"})});var o=()=>i(788860),r=()=>i(383694);const a=16,l=[{key:"private",title:e=>{let{isShareMenuRedesignEnabled:s,type:i}=e;return s&&"full"===i?(0,t.jsx)(o()._H,{id:"linkSharingPill.visibilityTitle.inviteOnlyFullLength",defaultMessage:"Only people invited"}):(0,t.jsx)(o()._H,{id:"linkSharingPill.visibilityTitle.inviteOnly",defaultMessage:"Invite only"})},caption:()=>(0,t.jsx)(o()._H,{id:"linkSharingPill.visibilityCaption.inviteOnly",defaultMessage:"Only you and people invited can access"}),icon:e=>{let{style:s,isShareMenuRedesignEnabled:t}=e;return(0,i(667067).Q)(t?{...s,marginTop:1}:s)}},{key:"unlisted",title:e=>{let{spaceName:s,isShareMenuRedesignEnabled:i}=e;return i?(0,t.jsx)(o()._H,{id:"linkSharingPill.visibilityTitle.anyoneWithLinkRedesign",defaultMessage:"Anyone at {spaceName} with the link",values:{spaceName:s}}):(0,t.jsx)(o()._H,{id:"linkSharingPill.visibilityTitle.anyoneWithLink",defaultMessage:"Anyone with link at {spaceName}",values:{spaceName:s}})},caption:e=>{let{isShareMenuRedesignEnabled:s}=e;return s?(0,t.jsx)(o()._H,{id:"linkSharingPill.visibilityCaption.anyoneWithLinkRedesign",defaultMessage:"Workspace members can access with the link"}):(0,t.jsx)(o()._H,{id:"linkSharingPill.visibilityCaption.anyoneWithLink",defaultMessage:"People invited and workspace members with link can access"})},icon:e=>{let{style:s,isShareMenuRedesignEnabled:t}=e;return(0,i(237874).N)(t?{...s,marginTop:1}:s)}},{key:"open",title:e=>{let{spaceName:s}=e;return(0,t.jsx)(o()._H,{id:"linkSharingPill.visibilityTitle.everyoneInWorkspace",defaultMessage:"Everyone at {spaceName}",values:{spaceName:s}})},caption:e=>{let{isShareMenuRedesignEnabled:s}=e;return s?(0,t.jsx)(o()._H,{id:"linkSharingPill.visibilityCaption.everyoneInWorkspaceV2",defaultMessage:"Workspace members can access and discover in search"}):(0,t.jsx)(o()._H,{id:"linkSharingPill.visibilityCaption.everyoneInWorkspace",defaultMessage:"All workspace members can search and access"})},icon:e=>{let{style:s,isShareMenuRedesignEnabled:i,spaceStore:o,teamspaceIconSize:l}=e;return i?(0,t.jsx)(r().p,{disabled:!0,store:o,size:l,style:{marginLeft:(a-l)/2,marginRight:(a-l)/2}}):n(s)}},{key:"open_unlisted_hybrid",title:e=>{let{spaceName:s,visibility:i}=e;return"unlisted"===i?(0,t.jsx)(o()._H,{id:"blockPermissionsSettings.permissionItem.workspaceAccessNew.unlisted",defaultMessage:"Everyone at {spaceName} with the link",values:{spaceName:s}}):(0,t.jsx)(o()._H,{id:"linkSharingPill.visibilityTitle.everyoneInWorkspace",defaultMessage:"Everyone at {spaceName}",values:{spaceName:s}})},caption:()=>{},icon:e=>{let{spaceStore:s,teamspaceIconSize:i}=e;return(0,t.jsx)(r().p,{disabled:!0,store:s,size:i,style:{marginLeft:(a-i)/2,marginRight:(a-i)/2}})}}];function m(e,s){return l.filter((i=>{let{key:t}=i;return e&&s?"private"===t||"open_unlisted_hybrid"===t:"private"===t||"open"===t||"unlisted"===t}))}},277939:(e,s,i)=>{i.d(s,{Z:()=>r});var t=i(667294),n=i(785893);function o(e){let{onClick:s,hovered:o,expanded:r,children:a}=e;const l=(0,i(219727).Fy)().isMobile,[m,d]=t.useState(!1),c=(0,t.useCallback)((()=>d(!0)),[]),u=(0,t.useCallback)((()=>d(!1)),[]),p=(0,i(846550).yK)((e=>{const s=(0,i(845465).lw)({theme:e,size:26,useLargeBorderRadius:!0,useLightBackgroundColor:!0}),t={position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",top:"auto",left:"auto",opacity:o?1:0,transition:"opacity 150ms ease, background 150ms ease",...s,width:24,height:24,borderRadius:4};return{container:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},chevronIconContainer:{background:"unset"},chevronButton:{...t,background:"unset"},chevronContainerHovered:{...t,background:s.background},childrenContainer:{opacity:o?0:1,transition:"opacity 200ms"},chevronIconInnerContainer:{background:"unset",height:24,width:24,borderRadius:4},chevronIcon:{transform:`rotate(${r?90:0}deg)`,transition:"transform 150ms ease",width:16,height:16}}}),[r,o]);return l?(0,n.jsx)(n.Fragment,{children:a}):(0,n.jsxs)("div",{style:p.container,onMouseEnter:c,onMouseLeave:u,children:[(0,n.jsx)(i(154186).Z,{disabled:!1,style:m?p.chevronContainerHovered:p.chevronButton,onClick:s,children:(0,n.jsx)(i(998306).Z,{type:"square",iconType:"function",iconFn:i(429600).o,containerStyle:p.chevronIconInnerContainer,iconStyle:p.chevronIcon,isMobile:l})}),(0,n.jsx)("div",{style:p.childrenContainer,children:a})]})}const r=t.memo(o)},724902:(e,s,i)=>{i.d(s,{Z:()=>l});var t=i(667294),n=()=>i(960516),o=()=>i(998306),r=i(785893);function a(e){let{groupIcon:s,isRedesignEnabled:t,spaceId:a}=e;const{isMobile:l}=(0,i(219727).Fy)(),m=(0,i(846550).yK)((e=>({icon:{fill:e.icon.secondary}})),[]);return s&&t&&a?(0,r.jsx)(o().Z,{type:"circle",iconType:"recordIcon",icon:{icon:s,pointer:{table:i(255933).bx,id:a}},isMobile:l}):t?(0,r.jsx)(o().Z,{type:"circle",iconType:"function",iconFn:i(491630).C,iconStyle:m.icon,isMobile:l}):(0,r.jsx)(i(98991).Z,{size:l&&t?n().xF:n().ZG})}const l=t.memo(a)},154187:(e,s,i)=>{i.d(s,{g:()=>g});i(267602),i(470928);var t=i(667294),n=()=>i(219727),o=()=>i(142735),r=()=>i(306164),a=()=>i(788860),l=()=>i(696459),m=()=>i(140303),d=()=>i(876822),c=()=>i(467806),u=()=>i(826955),p=i(785893);function g(e){let{permissionItem:s}=e;const i=(0,n().O7)(),{organizationOwnerRecordCache:g}=(0,t.useContext)(m().V),h=(0,o().VK)((()=>d().default.state.currentSpaceStore),[]),b=(0,o().VK)((()=>null==h?void 0:h.getName()),[h]),f=(0,o().VK)((()=>{var e;if("group_permission"!==s.type)return;const i=s.group_id;return null===(e=c().Z.state.permissionGroupsAndMemberCounts.find((e=>e.group.group_id===i)))||void 0===e?void 0:e.group.name}),[s]),v=(0,o().VK)((()=>{if("explicit_team_permission"!==s.type&&"explicit_team_owner_permission"!==s.type)return;const e=s.team_id;return new(u().zX)(i,{id:e,table:r().e0},{inMemoryRecordCache:g}).getName()}),[s,i,g]);switch(s.type){case"space_permission":return h?(0,p.jsx)(a()._H,{id:"searchTargetPermissionItem.spacePermission",defaultMessage:"{name} workspace",values:{name:b}}):null;case"explicit_team_permission":case"team_permission":return(0,p.jsx)(a()._H,{id:"searchTargetPermissionItem.teamPermission",defaultMessage:"{name} teamspace",values:{name:v}});case"team_owner_permission":case"explicit_team_owner_permission":return(0,p.jsx)(a()._H,{id:"searchTargetPermissionItem.teamOwnersPermission",defaultMessage:"{name} teamspace",values:{name:v}});case"explicit_team_guest_permission":return(0,p.jsx)(a()._H,{id:"searchTargetPermissionItem.teamGuestsPermission",defaultMessage:"Team guests"});case"group_permission":return f?(0,p.jsx)(a()._H,{id:"searchTargetPermissionItem.groupPermission",defaultMessage:"{groupName} group",values:{groupName:f}}):(0,p.jsx)(a()._H,{id:"searchTargetPermissionItem.groupPermissionWithoutName",defaultMessage:"Group"});case"user_permission":case"bot_permission":case"exclusive_user_permission":case"public_permission":case"deleted_permission":case"restricted_permission":case"trusted_domain_permission":return null;default:return(0,l().P)(s),null}}},388944:(e,s,i)=>{i.d(s,{X:()=>he,Z:()=>ye});i(122556),i(582845),i(250570),i(533019),i(721473),i(788208),i(22624),i(267602),i(916054),i(653476),i(470928),i(30005),i(241792);var t=i(667294),n=()=>i(219727),o=()=>i(142735),r=()=>i(846550),a=()=>i(801812),l=()=>i(741633),m=()=>i(933868),d=()=>i(396136),c=()=>i(989478),u=()=>i(499110),p=()=>i(788860),g=()=>i(513670),h=()=>i(912732),b=()=>i(824462),f=()=>i(98148),v=()=>i(122479),x=()=>i(907099),y=()=>i(333264),P=()=>i(591914),I=()=>i(520849),S=()=>i(876822),_=()=>i(467806),j=()=>i(826955),M=()=>i(845465),C=()=>i(681832),w=()=>i(495712),k=()=>i(65404),T=()=>i(98774),R=()=>i(81979),Z=()=>i(956931),N=()=>i(777814),V=()=>i(247724),H=()=>i(314169),K=()=>i(960516),D=()=>i(998306),B=i(785893);const L={type:"public_permission",role:"none",is_public_share_link:!1};function A(e){const{store:s,publicPermission:i,permissionItemArgs:a,fromPermissionWrapper:l}=e,{permissionItem:c,from:u}=i,{location:p,sudoModeStore:h}=a,b=(0,n().O7)(),f=(0,o().VK)((()=>(0,Z().K)(c)),[c])?c:{...c,...L},v=(0,t.useCallback)((async e=>{const i=(u.table===d().iU?u.blockId:u.teamId)!==s.id;if("string"!=typeof e||!(e in m().xm))return!1;const t=function(e,s){const i=(0,g().d9)(e);i.role=s;const{is_site:t}=i,n="none"===s;return n?t?{...i,role:"reader",is_public_share_link:!1}:{...i,is_public_share_link:!1}:{...i,is_public_share_link:!0}}(c,e);return await(0,H().iK)({environment:b,store:s,oldPermissionItem:c,newPermissionItem:t,wasInherited:i,location:p,sudoModeStore:h})}),[b,s,c,u,p,h]),x=(0,r().yK)((()=>({container:{width:"100%"}})),[]),y=(0,o().VK)((()=>!b.currentUser.isLoggedIn()),[b.currentUser]);return(0,B.jsx)("div",{style:x.container,className:V().afv,children:(0,B.jsx)(K().ZP,{currentBlockStore:s,permissionItem:f,from:u,shouldDisable:y,fromPermissionWrapper:l,onChange:v,icon:(0,B.jsx)(O,{}),title:(0,B.jsx)(W,{}),subtitle:(0,B.jsx)(U,{role:c.role}),upgradeButtonName:"public_share_link_item",isRemovableOverride:!0,renderTitleWithoutUILabelWrapper:!0,...a})})}function O(){const e=(0,n().O7)().device.isMobile,s=(0,r().yK)((()=>({container:{width:"100%"},globeIcon:{width:e?24:18,height:e?24:18}})),[e]);return(0,B.jsx)(D().Z,{type:"square",iconType:"function",iconFn:R().o,iconStyle:s.globeIcon,isMobile:e})}function W(){const e=(0,r().yK)((()=>({title:{fontSize:14,whiteSpace:"normal"}})),[]);return(0,B.jsx)("div",{style:e.title,children:(0,B.jsx)(p()._H,{defaultMessage:"Anyone on the web with the link",id:"publicShareLinkItem.permissionItem.title"})})}function U(e){const{role:s}=e;return(0,n().O7)().device.isMobile?(0,B.jsx)(p()._H,{...(0,N().M)({type:"public_permission",role:s,table:"block",isRemovable:!1,isCurrentUser:!1,isRedesignEnabled:!0,isPublicShareLink:!0}).label}):null}var E=()=>i(17571),F=()=>i(331404);function z(e){const{store:s,spacePermission:i,showSpacePermission:t,trustedDomainPermission:n,showTrustedDomainPermission:o,publicPermission:r,showSitePublicPermission:a,showPublicShareLinkPermission:l,permissionItemArgs:m,isRestricted:d}=e;return(0,B.jsxs)(B.Fragment,{children:[t&&(0,B.jsx)(F().Z,{store:s,spacePermission:i,publicPermission:r,trustedDomainPermission:n,showTrustedDomainPermission:o,permissionItemArgs:m,fromPermissionWrapper:"permission_list",isRestricted:d}),l&&(0,B.jsx)(A,{store:s,publicPermission:r,permissionItemArgs:m,fromPermissionWrapper:"permission_list"}),a&&r&&(0,B.jsx)(E().W,{store:s,publicPermissionItem:r,permissionItemArgs:m})]})}var G=()=>i(899018),q=()=>i(564256),Y=()=>i(302656),X=()=>i(874977),$=()=>i(564735),J=()=>i(943620),Q=()=>i(384241),ee=()=>i(239482);function se(e){let{currentPageStore:s,isExpanded:a,numberOfPeopleInvited:l,inheritedPermissionRole:m,permissionItemArgs:c,onToggle:u}=e;const g=(0,n().O7)(),h=g.device.isMobile,b=(0,o().VK)((()=>(0,ee().uJ)(s)[1]),[s]),[f,v]=t.useState(!1),x=(0,o().VK)((()=>{const e=(0,ee().uJ)(s)[1];if(e instanceof j().zX)return{icon:(0,B.jsx)(i(383694).p,{disabled:!0,store:e,size:h?K().xF:K().ZG}),title:e.getName()};if(e instanceof j().G){if("page"===e.getType()){const s=e.isEmptyPage();return{icon:(0,B.jsx)(J().Z,{disabled:!0,icon:e.getIcon(),size:20,isEmptyPage:s}),title:(0,B.jsx)(Q().Z,{shouldWrap:!0,store:e}),fromTable:d().iU,fromId:e.id}}return"collection_view"===e.getType()||"collection_view_page"===e.getType()?{icon:(0,B.jsx)(J().Z,{disabled:!0,icon:e.getIcon(),size:20,isEmptyPage:e.isDefined()}),title:(0,B.jsx)(Q().Z,{shouldWrap:!0,store:e}),fromTable:d().iU,fromId:e.id}:void 0}}),[s,h]),y=(0,t.useCallback)((()=>v(!0)),[]),P=(0,t.useCallback)((()=>v(!1)),[]),I=(0,r().yK)((e=>({chevronIcon:{width:10,marginLeft:4,fill:e.lightIconColor},mobileTitleContainer:{display:"flex",alignItems:"center"},mobileTextContainer:{dislay:"block",overflow:"hidden"},mobileChevronIcon:{marginLeft:4,fill:e.icon.secondary,transform:`rotate(${a?90:0}deg)`,transition:"transform 150ms ease"},roleButton:{marginRight:-8,color:e.mediumTextColor,fontSize:(0,M().fV)({environment:g,isRedesignEnabled:!0})},selectContainer:{opacity:a?0:1},loadingSubtitleContainer:{display:"flex",alignItems:"center"},placeholderSubtitle:{height:12,width:14,borderRadius:4,marginRight:2}})),[g,a]),S={type:"display_only_inherited_permission",role:m??"access"};return x?(0,B.jsx)(K().ZP,{icon:x.icon&&(0,B.jsx)(i(277939).Z,{onClick:u,expanded:a,hovered:f,children:(0,B.jsx)(D().Z,{type:"circle",iconType:"element",element:x.icon,isMobile:h})}),currentBlockStore:s,permissionItem:S,onMouseEnter:y,onMouseLeave:P,from:{table:d().iU,blockId:x.fromId?x.fromId:s.id},title:h?(0,B.jsxs)("div",{style:I.mobileTitleContainer,children:[(0,B.jsx)("div",{style:I.mobileTextContainer,children:(0,B.jsx)(p()._H,{id:"permissionsListV2.inheritedPermissions",defaultMessage:"People invited to {title}",values:{title:x.title}})}),(0,B.jsx)("div",{style:I.mobileChevronIcon,children:(0,i(429600).o)({height:12,width:12})})]}):(0,B.jsx)(p()._H,{id:"permissionsListV2.inheritedPermissions",defaultMessage:"People invited to {title}",values:{title:x.title}}),subtitle:l?(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(p()._H,{id:"inheritedPermissionItem.numberOfPeopleInvited",defaultMessage:"{numberOfPeopleInvited, plural, one {{numberOfPeopleInvited} person} other {{numberOfPeopleInvited} people}}",values:{numberOfPeopleInvited:l}}),h&&(0,B.jsxs)(B.Fragment,{children:[" · ",(0,B.jsx)(p()._H,{...(0,N().M)({type:S.type,role:S.role,table:"block",isRemovable:!1,isCurrentUser:!1,isRedesignEnabled:!0}).label})]})]}):(0,B.jsxs)("div",{style:I.loadingSubtitleContainer,children:[(0,B.jsx)(i(668001).Z,{style:I.placeholderSubtitle}),(0,B.jsx)(p()._H,{id:"inheritedPermissionItem.subtitle.people",defaultMessage:"people",values:{numberOfPeopleInvited:l}}),h&&(0,B.jsxs)(B.Fragment,{children:[" · ",(0,B.jsx)(p()._H,{...(0,N().M)({type:S.type,role:S.role,table:"block",isRemovable:!1,isCurrentUser:!1,isRedesignEnabled:!0}).label})]})]}),inheritedTooltip:l&&l>0?(0,B.jsx)(p()._H,{id:"inheritedPermissionItem.numberOfPeopleInvited.tooltip",defaultMessage:"{numberOfPeopleInvited, plural, one {{numberOfPeopleInvited} person has } other {{numberOfPeopleInvited} people have}} access through the parent page {inlineIconAndName}",values:{numberOfPeopleInvited:l,inlineIconAndName:(0,B.jsx)(i(525496).Z,{store:b,useInvertedColors:!0})}}):null,upgradeButtonName:"team_permission_item",onClick:u,permissionRoleSelect:(0,B.jsx)("div",{style:I.selectContainer,children:(0,B.jsx)(N().d,{type:S.type,role:S.role,icon:i(78615).P,disabled:!0,buttonStyle:I.roleButton,table:d().iU,isCurrentUser:!1,from:"shareMenu"})}),isCollapsible:!0,...c}):null}const ie=t.memo(se);var te=()=>i(732811),ne=()=>i(696459),oe=()=>i(707513),re=()=>i(265640),ae=()=>i(67961),le=()=>i(466970);const me=(0,p().vU)({commenter:{id:"permissionsLevelBanner.commenter.labelV2",defaultMessage:"You can only comment on this page"},reader:{id:"permissionsLevelBanner.reader.labelV2",defaultMessage:"You can only view this page"}});function de(e){let{store:s,role:i}=e;const o=(0,n().O7)(),{isMobile:a}=(0,n().Fy)(),[l,m]=(0,t.useState)("noRequest"),d=(0,le().E)("share_menu_inheritance_banner");(0,te().K)((()=>{h().hY(o,{share_menu_session_id:C().default.state.sessionId,role:i})}));const c=(0,r().yK)((e=>({container:{...(0,M().S2)({theme:e,inheritanceBannerEnabled:d,isMobile:a}),display:"flex",alignItems:"center",justifyContent:"space-between"},bannerBodyContainer:{display:"flex",alignItems:"center"},bannerLabel:{display:"flex"},pendingAccessRequestLabel:{color:e.lightTextColor},accessRequestLabel:{color:e.text.uiBluePrimary},accessRequestButton:{display:"flex",alignItems:"center",justifyContent:"center",fontWeight:oe().Ue.medium,flexShrink:0,borderRadius:4,paddingLeft:6,paddingRight:6,margin:-4,height:24}})),[a,d]),u=(0,t.useCallback)((async()=>{var e;if("reader"!==i&&"comment_only"!==i)return;const t=await b().callApi({eventName:"requestAccess",environment:o,data:{type:"current-actor-to-block",block:{id:s.id,spaceId:s.getSpaceId()},attributes:{origin_type:"share_menu",add_permissions_on_approval:!1,role:"read_and_write",existing_permissions:i},message:void 0}});"success"===t.type&&t.data.request?(m("requested"),h().dU(o,{request_access_type:"page",previous_access_level:i,requested_access_level:"read_and_write",requestId:t.data.requestId})):"failed"===t.type&&"UserRateLimitResponse"===(null===(e=t.body)||void 0===e?void 0:e.name)&&m("rateLimited")}),[o,i,s]),g=function(e){switch(e){case"comment_only":return me.commenter;case"reader":return me.reader;case"editor":case"read_and_write":case"none":case"membership_admin":case"content_only_editor":return null;default:(0,ne().t1)(e)}}(i);return g?(0,B.jsxs)("div",{style:c.container,children:[(0,B.jsx)("div",{style:c.bannerBodyContainer,children:(0,B.jsx)(ae().Z,{style:c.bannerLabel,isMultiline:!0,isSmall:d,children:(0,B.jsx)(p()._H,{...g})})}),(0,B.jsx)(re().D,{isBlue:!0,style:c.accessRequestButton,onClick:u,disabled:"noRequest"!==l,children:(0,B.jsx)(ae().Z,{isSmall:d,style:"noRequest"===l?c.accessRequestLabel:c.pendingAccessRequestLabel,children:"requested"===l?(0,B.jsx)(p()._H,{defaultMessage:"Requested edit access",id:"permissionsLevelBanner.requestPermission.accessRequestedV2"}):"rateLimited"===l?(0,B.jsx)(p()._H,{defaultMessage:"Try again later",id:"permissionsLevelBanner.requestPermission.rateLimited"}):(0,B.jsx)(p()._H,{defaultMessage:"Request edit access",id:"permissionsLevelBanner.requestPermission.requestEdit"})})})]}):null}var ce=()=>i(487780);function ue(e){let{dividerType:s,scrollerStore:i}=e;const n=(0,o().VK)((()=>(null==i?void 0:i.state.elementRef)??{current:null}),[i]),a=(0,y().Lw)(n),l=(0,y().j)(n),m=(0,y().$0)(n),d=(0,t.useMemo)((()=>{if("top"===s)return l>0;return Math.ceil(l+m+10)<Math.floor(a)}),[s,m,a,l]),c=(0,r().yK)((e=>({divider:{opacity:d?1:0,height:1,borderTop:`1px solid ${e.regularDividerColor}`,padding:"0px 16px",transition:"opacity 200ms",margin:"0px 16px"}})),[d]);return(0,B.jsx)("div",{style:c.divider})}function pe(e){let{store:s,calculatedPermissions:i,permissionItemArgs:t}=e;const{showTeamPermission:n,mostPermissiveAncestorTeamGuestItem:o,mostPermissiveAncestorTeamMemberItem:r,mostPermissiveAncestorTeamOwnerItem:a,pagePermissionUIModel:l}=i;return(0,B.jsxs)(B.Fragment,{children:[n&&a&&r&&(0,B.jsx)($().Z,{store:s,blockTeamOwnerPermission:a,blockTeamMemberPermission:r,blockTeamGuestPermission:o,permissionItemArgs:t}),fe({store:s,mostPermissiveTeamPermissions:l.mostPermissiveTeamPermissions,permissionItemArgs:t})]})}function ge(e){const{store:s,permissionItemArgs:i,inheritedPagePermissions:o}=e,l=(0,n().O7)(),[m,d]=t.useState(!1),{mostPermissiveGroupPermissions:c,mostPermissiveUserPermissions:u}=o,p=function(e){var s,i;const{mostPermissiveGroupPermissions:t,mostPermissiveUserPermissions:n}=e;let o="access";const r=(null===(s=n[0])||void 0===s?void 0:s.permissionItem.role)||(null===(i=t[0])||void 0===i?void 0:i.permissionItem.role)||"access",a=!(n.length>0)||n.every((e=>e.permissionItem.role===r)),l=!(t.length>0)||t.every((e=>e.permissionItem.role===r));a&&l&&(o=r);return o}(o),[{value:g}]=(0,a().r5)((async()=>{const e=S().default.state.currentSpaceStore;return e?await async function(e){let{environment:s,mostPermissiveUserPermissions:i,mostPermissiveGroupPermissions:t,spaceStore:n}=e;const o=new Set;for(const{permissionItem:a}of i)o.add(a.user_id);const r=new Set;for(const{permissionItem:a}of t)r.add(a.group_id);if(r.size>0){const e=await b().callApi({eventName:"getSpacePermissionGroupMembers",environment:s,data:{groupIds:Array.from(r),spaceId:n.id}});if("success"===e.type)for(const[,{userIds:s}]of Object.entries(e.data.groupUsersMap)){const e=s.filter((e=>{var s;return null===(s=(0,P()._P)(n,e))||void 0===s?void 0:s.isMember()}));for(const s of e)o.add(s)}}return o.size}({environment:l,mostPermissiveUserPermissions:u,mostPermissiveGroupPermissions:c,spaceStore:e}):0}),[l,c,u]),f=xe(o),v=(0,r().yK)((()=>({inheritedPagePermissionsContainer:f?{paddingLeft:M().w5}:{}})),[f]);return(0,B.jsxs)(B.Fragment,{children:[f&&(0,B.jsx)(ie,{currentPageStore:s,isExpanded:m,onToggle:()=>{d((e=>!e)),h().dS(l,{share_menu_session_id:C().default.state.sessionId,type:"inherited_page"})},numberOfPeopleInvited:g??0,inheritedPermissionRole:p,permissionItemArgs:i}),m&&(0,B.jsx)("div",{style:v.inheritedPagePermissionsContainer,children:(0,B.jsx)(be,{store:s,pagePermissions:o,numberPermissionsAlreadyRendered:0,permissionItemArgs:i,forceExpanded:!0,isInherited:!0})})]})}function he(e){let{store:s,calculatedPermissions:i,permissionItemArgs:t}=e;const{showSpacePermission:n,mostPermissiveTrustedDomainItem:o,mostPermissiveSpaceItem:r,mostPermissivePublicItem:a,showSitePublicPermission:l,showPublicShareLinkPermission:m,showTrustedDomainPermission:d,showRestrictedPermissionBanner:c}=i;return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(G().S0,{}),(0,B.jsx)(z,{store:s,spacePermission:r,showSpacePermission:n,publicPermission:a,showSitePublicPermission:l,showPublicShareLinkPermission:m,trustedDomainPermission:o,showTrustedDomainPermission:d,permissionItemArgs:t,fromPermissionWrapper:"permission_list",isRestricted:c})]})}function be(e){const s=(0,p().YB)(),i=(0,o().VK)((()=>{const e=S().default.state.currentSpaceStore;return null!=e&&e.isDefined()?e.id:""}),[]),t=(0,n().O7)(),r=t.currentUser.id,{store:m,pagePermissions:d,numberPermissionsAlreadyRendered:h,permissionItemArgs:y,forceExpanded:P,isInherited:I}=e,{showUserPermissions:M,mostPermissiveGroupPermissions:C,mostPermissiveUserPermissions:R}=d,Z=(0,o().VK)((()=>(0,f().v)()),[]),[{value:N}]=(0,a().r5)((async()=>{const e=await b().callApi({eventName:"getSpacePermissionGroupIdsContainingMembers",environment:t,data:{spaceId:i,userIds:R.map((e=>e.permissionItem.user_id))},headers:(0,l().Bb)({cellId:void 0,spaceId:i})});return"success"===e.type?e.data.userToGroupMap:{}}),[t,i,R],{debugName:"userToPermissionGroupIds",debounce:300,throttle:1e3}),V=(0,o().VK)((()=>{const e=M?function(e){const{mostPermissiveUserPermissions:s,spaceVisibleUserMap:i,userToPermissionGroupIds:t}=e,n={};return s.forEach((s=>{const o=(0,v().uY)({userId:s.permissionItem.user_id,store:e.store,userPermissionGroupIds:new Set((null==t?void 0:t[s.permissionItem.user_id])??[])}),r=j().U6.createChildStore(e.store,{table:c().KJ,id:s.permissionItem.user_id}),a=r.getModel();let l;r.isReady()&&a&&(l=(0,u().Nz)(e.intl,a)),n[s.permissionItem.user_id]=(0,B.jsx)(k().Z,{store:e.store,userPermission:s,selectFooter:(0,B.jsx)(ce().Ez,{targetName:l,targetType:"user",mostPermissivePermissions:o}),showInherited:!1,permissionItemArgs:e.permissionItemArgs,spaceVisibleUserMap:i,fromPermissionWrapper:"permission_list"},s.permissionItem.user_id)})),n}({store:m,mostPermissiveUserPermissions:R,permissionItemArgs:y,spaceVisibleUserMap:Z,userToPermissionGroupIds:N??{},intl:s}):{};return g().oA(Object.keys(e).map((i=>{const t=j().U6.createChildStore(m,{table:c().KJ,id:i}),n=t.getModel();if(t.isReady()&&n)return{title:(0,u().Nz)(s,n),isSelfPermission:Boolean(r)&&t.id===r,permissionItem:e[i]}})))}),[M,m,R,y,Z,s,r,N]),H=(0,o().VK)((()=>{const e=i?function(e){const{spaceId:s,mostPermissiveGroupPermissions:i,isInherited:t}=e,n={},o=new Set(_().Z.state.permissionGroupsAndMemberCounts.map((e=>e.group.group_id)));return i.forEach((i=>{const r=i.permissionItem.group_id;o.has(r)&&(n[r]=(0,B.jsx)(w().Z,{store:e.store,groupPermission:i,spaceId:s,showInherited:!1,permissionItemArgs:e.permissionItemArgs,fromPermissionWrapper:"permission_list",disableExpansion:t}))})),n}({store:m,spaceId:i,mostPermissiveGroupPermissions:C,permissionItemArgs:y,isInherited:I}):{};return Object.keys(e).map((i=>{const t=_().Z.state.permissionGroupsAndMemberCounts.find((e=>e.group.group_id===i));return{title:t?(0,x().kF)({intl:s,groupName:t.group.name}):"",isSelfPermission:!1,permissionItem:e[i]}}))}),[s,I,C,y,i,m]);V.sort(((e,s)=>e.isSelfPermission?-1:s.isSelfPermission?1:e.title.localeCompare(s.title))),H.sort(((e,s)=>e.title.localeCompare(s.title)));const K=[...V,...H].map((e=>{let{permissionItem:s}=e;return s})),D=K.length;if(0===D)return null;const L=Math.max(4,7-h);return!P&&D>L?(0,B.jsxs)(B.Fragment,{children:[K.slice(0,2),(0,B.jsx)(T().Z,{permissions:K.slice(2)})]}):(0,B.jsx)(B.Fragment,{children:K})}function fe(e){const{store:s,mostPermissiveTeamPermissions:i,permissionItemArgs:t}=e;return i.map((e=>m().LW(e.permissionItem)?(0,B.jsx)(X().Z,{store:s,blockTeamOwnerPermission:e,isExternalTeam:!0,permissionItemArgs:t,fromPermissionWrapper:"permission_list"},`${e.permissionItem.team_id}.owner`):m().bm(e.permissionItem)?(0,B.jsx)(q().Z,{store:s,blockTeamGuestPermission:e,isExternalTeam:!0,permissionItemArgs:t,fromPermissionWrapper:"permission_list"},`${e.permissionItem.team_id}.teamGuest`):(0,B.jsx)(Y().Z,{store:s,blockTeamPermission:e,isExternalTeam:!0,permissionItemArgs:t,fromPermissionWrapper:"permission_list"},`${e.permissionItem.team_id}.member`)))}function ve(e,s){return e.from.table===d().iU&&e.from.blockId===s.id}function xe(e){return e.mostPermissiveUserPermissions.length>0||e.mostPermissiveGroupPermissions.length>0}const ye=function(e){const s=(0,n().O7)(),{device:a}=s,l=a.isMobile,{store:d,permissionItemArgs:c,calculatedPermissions:u,showPermissionInheritanceBanner:p}=e,{sudoModeStore:b}=c,f=(0,o().qz)(void 0,i(561280).Z),{pagePermissionUIModel:x,showRestrictedPermissionBanner:y,showSpacePermission:P,showSitePublicPermission:S,showTeamPermission:_}=u,{inheritedPermissions:j,pagePermissions:M}=function(e){let{store:s,pagePermissionUIModel:i,currentUserId:t}=e;const{mostPermissiveGroupPermissions:n,mostPermissiveTeamPermissions:o,mostPermissiveUserPermissions:r}=i,[a,l]=g().uK(n,(e=>ve(e,s))),[m,d]=g().uK(r,(e=>ve(e,s)||e.permissionItem.user_id===t)),c={...i,mostPermissiveGroupPermissions:l,mostPermissiveTeamPermissions:[],mostPermissiveUserPermissions:d},u={...i,mostPermissiveGroupPermissions:a,mostPermissiveTeamPermissions:o,mostPermissiveUserPermissions:m};return{inheritedPermissions:c,pagePermissions:u}}({store:d,pagePermissionUIModel:x,currentUserId:s.currentUser.id}),C=xe(M),w=xe(j),k=(0,o().VK)((()=>!(0,i(333023).gi)({store:d})),[d]),T=a.isMobile?I().Z.None:I().Z.Y,R=(0,r().yK)((()=>({scroller:{paddingBottom:10,paddingLeft:l?20:0,paddingRight:l?20:0}})),[l]);(0,t.useEffect)((()=>{h().oE({environment:s,calculatedPermissions:u})}),[]);const Z=Number(P)+Number(S),N=Z+Number(_)+Number(w),V=(0,o().VK)((()=>e.showFooter??!a.isMobile??!0),[a.isMobile,e.showFooter]),H=(0,o().VK)((()=>{const e=(0,i(718959).B7)(s);if(!e)return;const t=(0,v().Dt)({userId:e.id,store:d}).role;return t&&(0,m().iC)(t)?t:void 0}),[s,d]),K=(0,o().VK)((()=>d.getSpaceId()),[d]),D=(0,i(815277).VX)({name:"block_read_and_write_role",spaceId:K,userId:s.currentUser.id}),L=(0,o().VK)((()=>!(!H||"none"===H)&&(D&&!m().J5(H))),[H,D]);return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(ue,{dividerType:"top",scrollerStore:f}),(0,B.jsxs)(i(842574).T,{type:T,style:R.scroller,store:f,children:[L&&H?(0,B.jsx)(de,{store:d,role:H}):(0,B.jsx)(i(417235).Z,{store:d,showRestrictedPermissionBanner:y,showPermissionInheritanceBanner:p,sudoModeStore:b}),C&&(0,B.jsx)(be,{store:d,pagePermissions:M,numberPermissionsAlreadyRendered:N,permissionItemArgs:c,forceExpanded:!(w||u.showTeamPermission)}),w&&(0,B.jsx)(ge,{store:d,inheritedPagePermissions:j,permissionItemArgs:c}),(0,B.jsx)(pe,{store:d,calculatedPermissions:u,permissionItemArgs:c}),k&&(0,B.jsx)(i(995114).Z,{store:d})]}),(0,B.jsx)(ue,{dividerType:"bottom",scrollerStore:f}),Z>0&&!a.isMobile&&(0,B.jsx)(he,{store:d,calculatedPermissions:u,permissionItemArgs:c}),V&&(0,B.jsx)(i(82541).Z,{store:d,buttonPopupStore:e.buttonPopupStore,calculatedPermissions:u,permissionItemArgs:c})]})}},487780:(e,s,i)=>{i.d(s,{Ez:()=>C,ZP:()=>R});i(267602),i(653476);var t=i(667294),n=()=>i(142735),o=()=>i(846550),r=()=>i(528514),a=()=>i(933868),l=()=>i(396136),m=()=>i(989478),d=()=>i(788860),c=()=>i(696459),u=()=>i(666414),p=()=>i(67961),g=()=>i(527278),h=()=>i(876822),b=()=>i(826955),f=()=>i(495712),v=()=>i(65404),x=()=>i(154187),y=()=>i(182494),P=i(785893);function I(e){let{blockStore:s,permissionItem:i,inviteTarget:t,mostPermissivePermissions:n,spaceVisibleUserMap:o,permissionItemArgs:r,...a}=e;return"group"===t.type?(0,P.jsx)(_,{inviteTarget:t,blockStore:s,permissionItem:i,mostPermissivePermissions:n,permissionItemArgs:r,menuListItemProps:a}):"existingUser"===t.type?(0,P.jsx)(S,{inviteTarget:t,blockStore:s,permissionItem:i,mostPermissivePermissions:n,permissionItemArgs:r,spaceVisibleUserMap:o,menuListItemProps:a}):((0,c().P)(t),null)}function S(e){let{inviteTarget:s,blockStore:i,permissionItem:t,mostPermissivePermissions:o,spaceVisibleUserMap:r,permissionItemArgs:a,menuListItemProps:c}=e;const u=(0,d().YB)(),p=(0,n().VK)((()=>b().U6.createChildStore(i,{table:m().KJ,id:s.value.id}).getDisplayName(u)||void 0),[i,u,s]),g=(0,y().N)({permissionItem:t,targetType:"user",targetName:p,store:i}),h="user_permission"===(null==o?void 0:o[0].permissionItem.type)?o[0]:{from:{table:l().iU,blockId:i.id},permissionItem:{role:t.role,type:"user_permission",user_id:s.value.id}};return(0,P.jsx)(v().Z,{store:i,userPermission:h,showInherited:!1,selectFooter:(0,P.jsx)(C,{targetName:p,targetType:"user",mostPermissivePermissions:o}),spaceVisibleUserMap:r,permissionItemArgs:a,tooltip:g,menuListItemProps:c})}function _(e){let{inviteTarget:s,blockStore:i,permissionItem:t,mostPermissivePermissions:o,permissionItemArgs:m,menuListItemProps:d}=e;const u=(0,n().VK)((()=>{var e;return null===(e=h().default.state.currentSpaceStore)||void 0===e?void 0:e.id}),[]),p=s.value.name,g=(0,y().N)({permissionItem:t,targetType:"group",targetName:p,store:i}),b=(0,n().VK)((()=>function(e){var s;let{targetType:i,targetName:t,mostPermissivePermissions:n}=e;const o=null==n||null===(s=n.filter("user"===i?w:k))||void 0===s?void 0:s[0];if(!o)return[];const l=(0,a().iC)(o.permissionItem.role)?o.permissionItem.role:"none";if("none"===l)return[];return j.map((e=>{if((0,r().z4)(e,l))return;return{role:e,disabledInfo:{isDisabled:!0,disabledMessage:(0,P.jsx)(T,{targetType:i,permissionItem:o.permissionItem,targetName:t})}}})).filter(c().$K)}({targetType:"group",targetName:p,mostPermissivePermissions:o})),[o,p]),v="group_permission"===(null==o?void 0:o[0].permissionItem.type)?o[0]:{from:{table:l().iU,blockId:i.id},permissionItem:{role:t.role,type:"group_permission",group_id:s.value.group_id}};return u?(0,P.jsx)(f().Z,{store:i,groupPermission:v,spaceId:u,showInherited:!1,isRemovableOverride:!0,permissionItemArgs:m,tooltip:g,roleItemOverrides:b,menuListItemProps:d}):null}const j=["none","reader","comment_only","content_only_editor","read_and_write","membership_admin","editor"],M={none:g().Z.formatMessage(r().mq.noAccessDescription),reader:g().Z.formatMessage(r().mq.canReadDescription),comment_only:g().Z.formatMessage(r().mq.canCommentDescription),content_only_editor:g().Z.formatMessage(r().mq.canEditContentDescription),read_and_write:g().Z.formatMessage(r().mq.canEditDescription),membership_admin:g().Z.formatMessage(r().mq.membershipAdminDescription),editor:g().Z.formatMessage(r().mq.fullAccessDescription)};function C(e){var s;let{targetType:i,targetName:t,mostPermissivePermissions:n}=e;const l=(0,o().yK)((e=>({divider:{color:`${e.regularDividerColor}`},label:{marginLeft:12,marginRight:12,paddingTop:8,paddingBottom:8}})),[]),m=null==n||null===(s=n.filter("user"===i?w:k))||void 0===s?void 0:s[0];if(!m)return null;const c=(0,a().iC)(m.permissionItem.role)?m.permissionItem:void 0;if(!c||!c.role||"string"!=typeof c.role||"none"===c.role)return null;const h=M[c.role]||g().Z.formatMessage(r().mq.defaultAccessLabel);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(u().Z,{dividerColor:l.divider.color,size:1}),(0,P.jsx)(p().Z,{style:l.label,isSmall:!0,isMultiline:!0,children:(0,P.jsx)(d()._H,{id:"permissionsItem.generalAccess",defaultMessage:"{userName} will still have {accessLevel} from the {permissionItemName}",values:{permissionItemName:(0,P.jsx)(x().g,{permissionItem:c}),userName:t,accessLevel:h}})})]})}function w(e){switch(e.permissionItem.type){case"space_permission":case"team_permission":case"team_owner_permission":case"explicit_team_permission":case"explicit_team_owner_permission":case"explicit_team_guest_permission":case"group_permission":return!0;case"bot_permission":case"deleted_permission":case"exclusive_user_permission":case"public_permission":case"restricted_permission":case"trusted_domain_permission":case"user_permission":return!1;default:return(0,c().P)(e.permissionItem),!1}}function k(e){switch(e.permissionItem.type){case"space_permission":case"team_permission":case"team_owner_permission":case"explicit_team_permission":case"explicit_team_owner_permission":case"explicit_team_guest_permission":return!0;case"group_permission":case"bot_permission":case"deleted_permission":case"exclusive_user_permission":case"public_permission":case"restricted_permission":case"trusted_domain_permission":case"user_permission":return!1;default:return(0,c().P)(e.permissionItem),!1}}function T(e){let{permissionItem:s,targetType:i,targetName:t}=e;return t&&"user"===i?(0,P.jsx)(d()._H,{id:"searchTargetPermissionItem.disabledMessage",defaultMessage:"To restrict {targetUserName}’s access, modify the “{permissionItemName}” setting on this page",values:{targetUserName:t,permissionItemName:(0,P.jsx)(x().g,{permissionItem:s})}}):t&&"group"===i?(0,P.jsx)(d()._H,{id:"searchTargetPermissionItem.disabledMessageForGroup",defaultMessage:"To restrict the {targetGroupName} group’s access, modify the “{permissionItemName}” setting on this page",values:{targetGroupName:t,permissionItemName:(0,P.jsx)(x().g,{permissionItem:s})}}):(0,P.jsx)(d()._H,{id:"searchTargetPermissionItem.disabledMessageWithoutName",defaultMessage:"To restrict access, modify the “{permissionItemName}” setting on this page",values:{permissionItemName:(0,P.jsx)(x().g,{permissionItem:s})}})}const R=t.memo(I)},269089:(e,s,i)=>{i.d(s,{Z:()=>l});var t=i(667294),n=()=>i(142735),o=()=>i(960516),r=i(785893);function a(e){let{store:s}=e;const t=(0,i(219727).O7)(),a=t.device.isMobile,l=(0,n().VK)((()=>(0,i(779733).wZ)()),[]),m=(0,n().VK)((()=>{var e,n;return s instanceof i(826955).H2?null===(e=(0,i(345918).Wd)(t,s))||void 0===e?void 0:e.icon:null===(n=s.getIcon())||void 0===n?void 0:n.icon}),[t,s]),d=(0,i(846550).yK)((e=>({teamOrSpaceIcon:(0,i(845465).lw)({theme:e,size:a&&l?o().xF:o().ZG,useLargeBorderRadius:l,useLightBackgroundColor:l,icon:m}),iconBoxStyles:l?{color:e.mediumIconColor}:{}})),[m,a,l]),{innerEmojiOrFlatIconSize:c,innerInitialSize:u}=function(e){let{isRedesignEnabled:s,baseSize:i}=e;return s?{innerEmojiOrFlatIconSize:.65*i,innerInitialSize:.75*i}:{innerEmojiOrFlatIconSize:.78*i,innerInitialSize:i}}({isRedesignEnabled:l,baseSize:a&&l?o().xF:o().ZG});return(0,r.jsx)(i(383694).p,{disabled:!0,store:s,size:a&&l?o().xF:o().ZG,iconContainerStyles:d.teamOrSpaceIcon,iconBoxStyles:d.iconBoxStyles,innerEmojiOrFlatIconSize:c,innerInitialSize:u})}const l=t.memo(a)},182494:(e,s,i)=>{i.d(s,{N:()=>b});i(267602),i(470928),i(667294);var t=()=>i(142735),n=()=>i(846550),o=()=>i(306164),r=()=>i(788860),a=()=>i(696459),l=()=>i(707513),m=()=>i(384241),d=()=>i(239482),c=()=>i(467806),u=()=>i(826955),p=()=>i(383694),g=()=>i(154187),h=i(785893);function b(e){let{permissionItem:s,targetType:i,targetName:b,store:f}=e;const v=(0,n().yK)((()=>({groupOrTeamName:{fontWeight:l().Ue.bold}})),[]),x=(0,t().VK)((()=>{var e;if("group_permission"!==s.type)return;const i=null===(e=c().Z.state.permissionGroupsAndMemberCounts.find((e=>e.group.group_id===s.group_id)))||void 0===e?void 0:e.group.name;return i?(0,h.jsx)("span",{style:v.groupOrTeamName,children:i}):void 0}),[s,v.groupOrTeamName]),y=(0,t().VK)((()=>{var e;if("team_permission"!==s.type&&"explicit_team_permission"!==s.type&&"team_owner_permission"!==s.type&&"explicit_team_owner_permission"!==s.type&&"explicit_team_guest_permission"!==s.type)return;const i="team_permission"===s.type||"team_owner_permission"===s.type?null===(e=(0,d().VP)(f))||void 0===e?void 0:e.id:s.team_id;if(!i)return;const t=u().zX.createChildStore(f,{table:o().e0,id:i,spaceId:f.getSpaceId()});return(0,h.jsxs)("span",{style:{...v.groupOrTeamName,display:"inline-flex",gap:4},children:[(0,h.jsx)(p().p,{store:t,size:14,style:{margin:1}}),(0,h.jsx)(m().Z,{store:t,shouldWrap:!0})]})}),[s,f,v.groupOrTeamName]);if("none"===s.role)return;const P=(0,h.jsx)(r()._H,{id:"searchTargetPermissionItem.accessReasonTooltip.withoutUserName",defaultMessage:"Access is from the “{permissionItemName}”",values:{permissionItemName:(0,h.jsx)(g().g,{permissionItem:s})}});if("group"===i&&"group_permission"===s.type)return b?(0,h.jsx)(r()._H,{id:"searchTargetPermissionItem.accessReasonTooltip.groupWithGroupName",defaultMessage:"The {targetGroupName} group has access to this page",values:{targetGroupName:b}}):(0,h.jsx)(r()._H,{id:"searchTargetPermissionItem.accessReasonTooltip.groupWithoutGroupName",defaultMessage:"This group has access to this page"});if("user"===i&&("user_permission"===s.type||"exclusive_user_permission"===s.type))return b?(0,h.jsx)(r()._H,{id:"searchTargetPermissionItem.accessReasonTooltip.userWithUserName",defaultMessage:"{targetUserName} has access to this page",values:{targetUserName:b}}):void 0;switch(s.type){case"space_permission":return b&&"user"===i?(0,h.jsx)(r()._H,{id:"searchTargetPermissionItem.accessReasonTooltip.spaceWithUserName",defaultMessage:"{targetUserName} has access from the “{permissionItemName}” setting on this page",values:{targetUserName:b,permissionItemName:(0,h.jsx)(g().g,{permissionItem:s})}}):b&&"group"===i?(0,h.jsx)(r()._H,{id:"searchTargetPermissionItem.accessReasonTooltip.spaceWithGroupName",defaultMessage:"The {targetGroupName} group has access from the “{permissionItemName}” setting on this page",values:{targetGroupName:b,permissionItemName:(0,h.jsx)(g().g,{permissionItem:s})}}):P;case"team_permission":case"explicit_team_permission":return"user"===i&&b&&y?(0,h.jsx)(r()._H,{id:"searchTargetPermissionItem.accessReasonTooltip.member.teamWithUserName",defaultMessage:"{targetUserName} has access as a member of the {teamspaceName} teamspace",values:{targetUserName:b,teamspaceName:y}}):"group"===i&&b&&y?(0,h.jsx)(r()._H,{id:"searchTargetPermissionItem.accessReasonTooltip.group.teamWithUserName",defaultMessage:"The {targetGroupName} group has access from the {teamspaceName} teamspace",values:{targetGroupName:b,teamspaceName:y}}):P;case"team_owner_permission":case"explicit_team_owner_permission":return"user"===i&&b&&y?(0,h.jsx)(r()._H,{id:"searchTargetPermissionItem.accessReasonTooltip.owner.teamWithUserName",defaultMessage:"{targetUserName} has access as an owner of the {teamspaceName} teamspace",values:{targetUserName:b,teamspaceName:y}}):"group"===i&&b&&y?(0,h.jsx)(r()._H,{id:"searchTargetPermissionItem.accessReasonTooltip.group.teamWithUserName",defaultMessage:"The {targetGroupName} group has access from the {teamspaceName} teamspace",values:{targetGroupName:b,teamspaceName:y}}):P;case"explicit_team_guest_permission":return b&&y?(0,h.jsx)(r()._H,{id:"searchTargetPermissionItem.accessReasonTooltip.guest.teamWithUserName",defaultMessage:"{targetUserName} has access as a guest of the {teamspaceName} teamspace",values:{targetUserName:b,teamspaceName:y}}):P;case"group_permission":return b&&x?(0,h.jsx)(r()._H,{id:"searchTargetPermissionItem.accessReasonTooltip.groupWithUserName",defaultMessage:"{targetUserName} has access as a member of the {groupName} group",values:{targetUserName:b,groupName:x}}):P;case"user_permission":case"exclusive_user_permission":return b?(0,h.jsx)(r()._H,{id:"searchTargetPermissionItem.accessReasonTooltip.userWithUserName",defaultMessage:"{targetUserName} has access to this page",values:{targetUserName:b}}):void 0;case"bot_permission":case"deleted_permission":case"public_permission":case"restricted_permission":case"trusted_domain_permission":return;default:return void(0,a().P)(s)}}},511829:(e,s,i)=>{i.d(s,{Z:()=>b});var t=i(667294),n=()=>i(219727),o=()=>i(142735),r=i(785893);const a=(0,i(827282).IU)("peopleSquare",{viewBox:"0 0 14 18",svg:(0,r.jsx)("g",{children:(0,r.jsx)("path",{d:"M3.151 17.172c-.738 0-1.296-.19-1.674-.567-.379-.374-.568-.926-.568-1.655V7.212c0-.734.19-1.288.568-1.661.378-.374.936-.56 1.674-.56h7.698c.733 0 1.29.186 1.668.56.382.373.574.927.574 1.66v7.74c0 .724-.182 1.275-.547 1.654-.365.378-.873.567-1.524.567H3.15zm.082-1.347h7.698a.756.756 0 00.58-.253c.156-.164.233-.412.233-.745V7.321c0-.328-.086-.574-.26-.738-.168-.169-.41-.253-.724-.253H3.233c-.319 0-.562.084-.731.253-.164.164-.246.41-.246.738v7.506c0 .333.082.581.246.745.169.169.412.253.731.253zM2.42 3.91c.045-.328.157-.58.335-.759.182-.177.456-.266.82-.266h6.795c.365 0 .636.089.814.266.182.178.298.431.348.76H2.42zm1.176-1.99c.018-.309.118-.544.3-.703.183-.16.438-.24.766-.24h4.621c.333 0 .588.08.766.24.182.16.285.394.307.704h-6.76zm2.85 14.103a.392.392 0 01-.328-.177c-.086-.114-.13-.283-.13-.506 0-.274.073-.554.219-.841.146-.287.356-.554.629-.8.278-.246.61-.444.998-.595a3.561 3.561 0 011.32-.232c.615 0 1.15.119 1.606.355.456.237.813.531 1.073.882.26.356.408.711.444 1.067a.98.98 0 01-.088.41.668.668 0 01-.301.314c-.142.082-.338.123-.588.123H6.446zm2.707-3.937c-.273 0-.524-.073-.752-.219a1.735 1.735 0 01-.553-.595 1.727 1.727 0 01-.205-.84c0-.306.068-.581.205-.828.136-.246.319-.44.547-.58a1.4 1.4 0 01.758-.22c.27 0 .518.071.745.213.228.14.41.335.547.58.142.242.212.518.212.828 0 .31-.068.59-.205.84a1.655 1.655 0 01-.547.602 1.367 1.367 0 01-.752.219zm-4.327.772c.274 0 .527.03.759.09.232.054.44.136.622.245a3.209 3.209 0 00-.759.985 2.647 2.647 0 00-.266 1.148c0 .255.047.488.143.697H2.898c-.319 0-.544-.086-.676-.26a1.054 1.054 0 01-.192-.642c.01-.355.132-.706.37-1.053.236-.346.562-.633.977-.861.42-.232.902-.349 1.45-.349zm0-.683c-.355 0-.663-.14-.923-.417a1.47 1.47 0 01-.39-1.032 1.353 1.353 0 01.39-1.005c.265-.274.572-.41.923-.41.356 0 .663.136.923.41.26.269.39.601.39.998 0 .41-.13.756-.39 1.039-.26.278-.567.417-.923.417z"})})});var l=()=>i(788860),m=()=>i(18748),d=()=>i(67961),c=()=>i(949842),u=()=>i(998306);function p(e){let{store:s,trustedDomainPermission:d,fromPermissionWrapper:p,permissionItemArgs:b,renderStyle:f,menuListItemProps:v,selectTrustedDomainHandler:x}=e;const y=(0,n().O7)(),P=y.device.isMobile,{isPhone:I,isTablet:S}=(0,n().Fy)(),_=(0,i(609836).b)(),j=(0,o().VK)((()=>(0,i(779733).wZ)()),[]),M=(0,o().VK)((()=>i(876822).default.state.currentSpaceStore),[]),C=(0,i(428241).u)(),{workspaceTrustedDomain:w,numberOfTrustedDomains:k}=(0,o().VK)((()=>{if(C){var e;const s=(null===(e=C.getForSpace(M))||void 0===e?void 0:e.enabledTrustedEmailDomains)??[];return{workspaceTrustedDomain:s.length>0?s[0]:"",numberOfTrustedDomains:s.length}}return{workspaceTrustedDomain:"",numberOfTrustedDomains:0}}),[M,C]),T=(0,t.useCallback)((async e=>{await(0,c().Jx)({event:e,context:c().Af.ToggleTrustedDomainPermission,callback:async()=>{await(0,i(788504).o)({trustedDomainPermission:d,store:s,environment:y,sudoModeStore:b.sudoModeStore,location:b.location,fromPermissionWrapper:p})}})}),[d,s,y,b,p]),R=(0,i(846550).yK)((e=>({container:I?{background:e.popoverBackground}:{},icon:{width:24,height:24,...!j&&{fill:e.mediumIconColor}},iconContainer:j?{}:{backgroundColor:e.lightDividerColor,borderRadius:32},menuItemContainer:{...!I&&{paddingTop:m().rl,paddingBottom:m().rl}},menuIcon:{height:16,width:16,fill:e.icon.secondary},menuIconContainer:{marginLeft:P?13:j?6:9,...j?{marginRight:6}:{alignSelf:"center"}},menuItemToggleStyle:{marginTop:4,marginRight:I||S?10:6,alignSelf:"baseline"},menuItemText:{lineHeight:"unset",...I&&{paddingTop:m().bR,paddingBottom:m().bR},color:e.text.primary}})),[P,I,j,S]),Z=(0,r.jsx)(g,{workspaceTrustedDomain:w,numberOfTrustedDomains:k,renderStyle:f,spaceName:_}),N=(0,r.jsx)(h,{workspaceTrustedDomain:w,numberOfTrustedDomains:k});return"permissionSelectOption"===f?(0,r.jsx)("div",{style:R.container,children:(0,r.jsx)(i(827973).Z,{...v,title:Z,caption:N,buttonStyle:R.menuItemContainer,shouldWrapTitle:!0,shouldWrapCaption:!0,style:R.menuItemText,icon:a({...R.menuIcon}),desktopIconStyle:R.menuIconContainer,onClick:async e=>{await(async e=>{"permissionSelectOption"===f&&await T(e)})(e)},badge:(0,r.jsx)(i(447832).Z,{})})}):(0,r.jsx)(i(960516).ZP,{upgradeButtonName:"trusted_domain_item",currentBlockStore:s,permissionItem:d.permissionItem,from:d.from,icon:j?(0,r.jsx)(u().Z,{type:"square",iconType:"function",iconFn:a,iconStyle:R.icon,isMobile:P}):a(R.icon),iconStyle:R.iconContainer,title:Z,selectHeader:j&&P?(0,r.jsx)(m().ZP,{title:Z,icon:(0,r.jsx)(u().Z,{type:"square",iconType:"function",iconFn:i(698072).M,iconStyle:R.icon,isMobile:P}),desktopIconStyle:{marginLeft:16}}):void 0,nonInheritedTooltip:void 0,subtitle:P&&j?(0,r.jsx)(l()._H,{...(0,i(777814).M)({type:"trusted_domain_permission",role:d.permissionItem.role,table:"block",isRemovable:!1,isCurrentUser:!1,isRedesignEnabled:j}).label}):void 0,fromPermissionWrapper:p,isRemovableOverride:!0,...b})}function g(e){let{workspaceTrustedDomain:s,numberOfTrustedDomains:i,renderStyle:t,spaceName:n}=e;return"permissionItem"===t?s&&1===i?(0,r.jsx)(l()._H,{id:"trustedDomainItem.titleWithSpecificDomain.label",defaultMessage:"People with a {workspaceTrustedDomain} email address",values:{workspaceTrustedDomain:s}}):(0,r.jsx)(l()._H,{id:"trustedDomainItem.titleWhenNoSpecificDomain",defaultMessage:"People with a trusted email address",values:{workspaceTrustedDomain:s}}):s&&1===i?(0,r.jsx)(l()._H,{id:"trustedDomainItem.titleWithSpecificDomain.mobileLabel",defaultMessage:"Everyone with a {workspaceTrustedDomain} email address",values:{spaceName:n,workspaceTrustedDomain:s}}):(0,r.jsx)(l()._H,{id:"trustedDomainItem.titleWithSpecificDomain",defaultMessage:"Everyone with a trusted email address",values:{spaceName:n}})}function h(e){let{workspaceTrustedDomain:s,numberOfTrustedDomains:i}=e;return s&&1===i?(0,r.jsx)(d().Z,{isSmall:!0,isMultiline:!0,style:{whiteSpace:"normal"},children:(0,r.jsx)(l()._H,{id:"trustedDomainItem.captionWithSpecificDomain.label",defaultMessage:"Workspace members and people with a {workspaceTrustedDomain} email address can access",values:{workspaceTrustedDomain:s}})}):(0,r.jsx)(d().Z,{isSmall:!0,isMultiline:!0,style:{whiteSpace:"normal"},children:(0,r.jsx)(l()._H,{id:"trustedDomainItem.captionWhenNoSpecificDomain",defaultMessage:"Workspace members and People with a trusted email address can access",values:{workspaceTrustedDomain:s}})})}const b=t.memo(p)},112157:(e,s,i)=>{function t(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"none"===e.role?"private":s?"open_unlisted_hybrid":e.unlisted_timestamp?"unlisted":"open"}i.d(s,{b:()=>t})},634015:(e,s,i)=>{i.d(s,{n:()=>p});i(667294);var t=()=>i(142735),n=()=>i(846550),o=()=>i(499110),r=()=>i(788860),a=()=>i(943620),l=()=>i(981583),m=()=>i(960516),d=i(785893);const c=i(838983).Kt,u=16;function p(e){let{ownerStores:s,teamStore:i,isSmall:o=!1}=e;const r=o?c:m().ZG,l=o?10:u,p=(0,n().yK)((e=>({container:{position:"relative",width:r,height:r},teamBadge:{position:"absolute",bottom:-5,right:-3,background:e.modalBackground,padding:.75,borderRadius:"0.25em"}})),[r]),{teamName:h,teamIcon:b}=(0,t().VK)((()=>({teamName:i.getName(),teamIcon:i.getIcon()})),[i]),f=e=>(0,d.jsx)(a().Z,{disabled:!0,title:h,icon:b,isEmptyPage:!1,size:e});return 0===s.length?f(r):(0,d.jsxs)("div",{style:p.container,children:[(0,d.jsx)(g,{isSmall:o,store:s[0]}),(0,d.jsx)("div",{style:p.teamBadge,children:f(l)})]})}function g(e){let{store:s,isSmall:i=!1,style:u={}}=e;const p=(0,r().YB)(),g=i?c:m().ZG,h=(0,n().yK)((e=>({icon:{width:g,height:g,borderRadius:g,boxShadow:e.avatarBoxShadow,...u}})),[g,u]),b=(0,t().VK)((()=>null!=s&&s.isDefined()?(0,o().Nz)(p,null==s?void 0:s.getModel()):void 0),[p,s]),f=b?(0,d.jsx)(l().Z,{avatarShouldShowShadow:!0,userStore:s,size:g}):(0,d.jsx)(a().Z,{bucket:"public",disabled:!0,isEmptyPage:!1,title:b,size:g,icon:void 0});return(0,d.jsx)("div",{style:h.icon,children:f})}},53484:(e,s,i)=>{i.d(s,{z:()=>r});i(667294);var t=()=>i(846550),n=()=>i(707513),o=i(785893);function r(e){let{title:s,subtitle:i,style:r}=e;const a=(0,t().yK)((e=>({base:{width:"100%"},title:{fontWeight:n().Ue.medium,color:e.regularTextColor,fontSize:14},subtitle:{fontWeight:n().Ue.regular,color:e.mediumTextColor,fontSize:12}})),[]);return(0,o.jsxs)("div",{style:{...a.base,...r},children:[(0,o.jsx)("div",{style:a.title,children:s}),i&&(0,o.jsx)("div",{style:a.subtitle,children:i})]})}},838983:(e,s,i)=>{i.d(s,{Kt:()=>c,MQ:()=>d,Ph:()=>u,oM:()=>m});i(241792);var t=i(667294),n=()=>i(846550),o=()=>i(265640),r=()=>i(666414),a=()=>i(53484),l=i(785893);const m=15,d=8,c=20;function u(e){const s=(0,n().yK)((()=>({button:{height:"auto",paddingLeft:0,paddingRight:0,display:"flex"},title:{marginBottom:10}})),[]);return Boolean(e.onClick)?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a().z,{title:e.title,style:s.title}),(0,l.jsx)(o().D,{onClick:e.onClick,style:s.button,children:(0,l.jsx)(p,{...e})})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a().z,{title:e.title,style:s.title}),(0,l.jsx)(p,{...e})]})}function p(e){let{title:s,rows:i,hideDividers:o=!1,itemStyle:a,onClick:c}=e;const u=(0,n().yK)((e=>({container:{border:`1px solid ${e.regularDividerColor}`,borderRadius:4,width:"100%"},list:{listStyle:"none",padding:0,margin:0},listItem:{marginLeft:m,marginRight:m,paddingTop:d,paddingBottom:d,...a},divider:{marginLeft:m,marginRight:m,borderColor:`${e.regularDividerColor}`}})),[a]);return(0,l.jsx)("div",{style:{...u.container},children:(0,l.jsx)("ul",{style:u.list,children:i.map(((e,s)=>(0,l.jsxs)(t.Fragment,{children:[!o&&s>0&&(0,l.jsx)(r().Z,{size:1,innerStyle:u.divider}),(0,l.jsx)("li",{style:u.listItem,children:e},s)]},s)))})})}},907171:(e,s,i)=>{i.d(s,{S:()=>n});i(667294);var t=i(785893);const n=(0,i(827282).IU)("personBadgeQuestionMark",{viewBox:"0 0 15 14",svg:(0,t.jsx)("path",{d:"M12.4551 5.41699C12.8037 5.41699 13.0088 5.19824 13.0088 4.93164V4.84961C13.0088 4.45996 13.2344 4.2207 13.7061 3.90625C14.3691 3.46875 14.8408 3.07227 14.8408 2.25195C14.8408 1.11719 13.8291 0.501953 12.667 0.501953C11.498 0.501953 10.7256 1.0625 10.5342 1.69141C10.5 1.80078 10.4795 1.91016 10.4795 2.02637C10.4795 2.33398 10.7188 2.49805 10.9443 2.49805C11.1836 2.49805 11.3271 2.38867 11.4502 2.22461L11.5732 2.06055C11.8125 1.66406 12.1748 1.43164 12.626 1.43164C13.248 1.43164 13.6514 1.78711 13.6514 2.30664C13.6514 2.77148 13.3643 2.99707 12.7695 3.41406C12.2773 3.75586 11.915 4.11816 11.915 4.78809V4.87695C11.915 5.23242 12.1064 5.41699 12.4551 5.41699ZM5.79004 6.99609C7.25293 6.99609 8.52441 5.68359 8.52441 3.97461C8.52441 2.28613 7.25293 1.03516 5.79004 1.03516C4.32715 1.03516 3.05566 2.31348 3.05566 3.98828C3.05566 5.68359 4.32031 6.99609 5.79004 6.99609ZM12.4414 7.4541C12.8379 7.4541 13.1797 7.13965 13.1797 6.74316C13.1797 6.34668 12.8447 6.03223 12.4414 6.03223C12.0381 6.03223 11.7031 6.35352 11.7031 6.74316C11.7031 7.13281 12.0449 7.4541 12.4414 7.4541ZM1.20312 13.3262H10.3701C11.1016 13.3262 11.5391 12.9844 11.5391 12.417C11.5391 10.6533 9.33105 8.21973 5.7832 8.21973C2.24219 8.21973 0.0341797 10.6533 0.0341797 12.417C0.0341797 12.9844 0.47168 13.3262 1.20312 13.3262Z"})})},544573:(e,s,i)=>{i.d(s,{m:()=>n});i(667294);var t=i(785893);const n=(0,i(827282).IU)("sliders",{viewBox:"0 0 16 13",svg:(0,t.jsx)("g",{children:(0,t.jsx)("path",{d:"M10.536 12.066c-.323 0-.62-.08-.889-.239a1.826 1.826 0 01-.635-.642 1.674 1.674 0 01-.24-.882c0-.32.08-.61.24-.875.16-.27.371-.483.635-.643.27-.16.566-.24.89-.24.318 0 .61.08.874.24.269.16.483.374.643.643.16.264.239.556.239.875 0 .323-.08.617-.24.882a1.803 1.803 0 01-.642.642 1.66 1.66 0 01-.875.24zm0-.922a.8.8 0 00.588-.24.818.818 0 00.246-.601.796.796 0 00-.246-.595.799.799 0 00-.588-.24.83.83 0 00-.601.24.807.807 0 00-.24.595c0 .237.08.437.24.601a.83.83 0 00.601.24zm-1.169-1.49v1.298h-7.78a.625.625 0 01-.457-.191.637.637 0 01-.185-.458c0-.178.062-.33.185-.458a.625.625 0 01.458-.192h7.78zm5.059 0c.168 0 .314.063.437.19a.64.64 0 01.185.459.64.64 0 01-.185.458.588.588 0 01-.437.191h-2.653V9.653h2.653zM5.539 7.807c-.324 0-.62-.08-.889-.24a1.846 1.846 0 01-.635-.635 1.697 1.697 0 01-.24-.882c0-.324.08-.618.24-.882.16-.269.371-.483.635-.643.27-.16.565-.239.89-.239.318 0 .61.08.874.24.269.159.483.373.643.642.16.264.239.558.239.882 0 .319-.08.613-.24.882a1.817 1.817 0 01-.642.635c-.264.16-.556.24-.875.24zm0-.923a.822.822 0 00.834-.834.816.816 0 00-.834-.841.816.816 0 00-.84.84c0 .233.079.431.239.596a.83.83 0 00.601.239zm-3.978-1.49h2.761v1.298H1.561a.59.59 0 01-.431-.184.637.637 0 01-.185-.458c0-.183.062-.337.185-.465a.58.58 0 01.43-.191zm12.837 0a.61.61 0 01.458.19.633.633 0 01.192.466c0 .178-.064.33-.192.458a.622.622 0 01-.458.184h-7.71V5.395h7.71zm-3.862-1.846c-.323 0-.62-.08-.889-.24a1.845 1.845 0 01-.635-.635 1.697 1.697 0 01-.24-.882c0-.324.08-.618.24-.882.16-.269.371-.483.635-.642.27-.16.566-.24.89-.24.318 0 .61.08.874.24.269.16.483.373.643.642.16.264.239.558.239.882 0 .319-.08.613-.24.882a1.828 1.828 0 01-.642.636c-.264.16-.556.239-.875.239zm0-.923a.788.788 0 00.588-.246.81.81 0 00.246-.595.796.796 0 00-.246-.595.788.788 0 00-.588-.246.818.818 0 00-.601.246.807.807 0 00-.24.595c0 .233.08.43.24.595a.818.818 0 00.601.246zM9.401 1.143V2.44H1.588a.625.625 0 01-.458-.191.637.637 0 01-.185-.458c0-.178.062-.33.185-.458a.625.625 0 01.458-.191H9.4zm5.025 0c.168 0 .314.063.437.191s.185.28.185.458-.062.33-.185.458a.588.588 0 01-.437.191H11.69V1.143h2.735z"})})})},956931:(e,s,i)=>{function t(e){return"none"!==e.role&&Boolean(e.is_public_share_link)}i.d(s,{K:()=>t})}}]);