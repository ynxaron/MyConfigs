"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[96960],{673893:(e,t,i)=>{i.d(t,{EQ:()=>l,PT:()=>d});i(821057);var o=i(667294),n=()=>i(846550),a=()=>i(985551),s=i(785893);const r=(0,o.createContext)({screenWidthType:"desktop",isMobileWidth:!1,isLowResolutionTabletWidth:!1,isDesktopWidth:!1,isTabletWidth:!1});function l(){const e=(0,o.useContext)(r);if(!e)throw new Error("ScreenWidthContext not found. Please make sure this is used within a ScreenWidthContext.Provider.");return e}function d(e){const{children:t,mobileUpperBound:i=550,lowResolutionTabletUpperBound:l=720,tabletUpperBound:d=1024,throttle:c=0}=e,p=(0,o.useRef)(null),u=(0,n().yK)((()=>({sizeObserverContainer:{width:"100%",height:0,position:"absolute"}})),[]),[m,h]=(0,o.useState)("desktop"),f=(0,o.useCallback)((e=>{e.state.width<=i?h("mobile"):e.state.width>i&&e.state.width<=l?h("lowResolutionTablet"):e.state.width>l&&e.state.width<=d?h("tablet"):h("desktop")}),[i,l,d]);(0,a().I)(p,f,c);const b="mobile"===m,g="desktop"===m,v="tablet"===m,y="lowResolutionTablet"===m,C=o.useMemo((()=>({screenWidthType:m,isMobileWidth:b,isLowResolutionTabletWidth:y,isDesktopWidth:g,isTabletWidth:v})),[m,b,y,g,v]);return(0,s.jsxs)(r.Provider,{value:C,children:[(0,s.jsx)("div",{ref:p,style:u.sizeObserverContainer}),t]})}r.displayName="ScreenWidthContext"},985551:(e,t,i)=>{i.d(t,{I:()=>a});i(821057);var o=i(667294),n=()=>i(200936);function a(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,o.useEffect)((()=>{const o=new(n().E)({throttleMs:i});if(!e.current)throw new Error("ref.current is null");return o.observe(e.current),o.rect.addListener(t),()=>{o.destroy()}}),[t])}},240703:(e,t,i)=>{i.d(t,{s:()=>o});const o=(0,i(788860).vU)({postsCollectionViewPageTitle:{id:"posts.collectionViewPage.title",defaultMessage:"Posts"},postsCollectionTitle:{id:"posts.collection.title",defaultMessage:"Posts DB"},postHeadingName:{id:"posts.collection.headingName",defaultMessage:"Subject"},deleteDraftTooltip:{id:"posts.deleteDraftTooltip",defaultMessage:"Delete draft"},fullScreenTooltip:{id:"posts.fullScreenTooltip",defaultMessage:"Full screen"}})},736924:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Y});var o=i(667294),n=()=>i(219727),a=()=>i(142735),s=()=>i(846550),r=()=>i(506347),l=()=>i(519454),d=()=>i(88829),c=()=>i(788860),p=()=>i(707513),u=()=>i(418216),m=()=>i(47443),h=()=>i(497065),f=()=>i(963310),b=()=>i(265640),g=()=>i(842574),v=()=>i(205228),y=()=>i(673893),C=()=>i(309797),S=()=>i(857719),_=()=>i(193741),w=()=>i(619393),x=()=>i(752778),T=()=>i(269299),V=()=>i(826955),k=()=>i(481529);var I=()=>i(396136),M=()=>i(321394),j=()=>i(139978),R=()=>i(342792),P=()=>i(543172),U=()=>i(636340),K=()=>i(561933),W=()=>i(240703);function H(e){const{environment:t,channelStore:i,parentStore:n}=e,s=(0,c().YB)(),r=(0,a().VK)((()=>null==n?void 0:n.canEdit()),[n]),l=(0,a().VK)((()=>null==i?void 0:i.getSpaceId()),[i]),d=i&&l&&{id:i.id,table:x().vF,spaceId:l},p=n&&d&&V().NW.createChildStore(n,d),u=(0,a().VK)((()=>i&&i.isReady()&&!i.isDefined()&&i.canEdit()&&r),[i,r]),m=(0,a().VK)((()=>p&&p.isReady()&&!p.isDefined()&&p.canEdit()&&r),[p,r]);return(0,o.useEffect)((()=>{i&&n&&p&&(u&&T().createAndCommit({userAction:"channelActions.useGetOrCreateChannel",environment:t,canUndo:!0,perform:e=>{!function(e){const{transaction:t,parent:i,channelStore:o}=e,n=k().op.update({pointer:o.pointer,path:[],args:{id:o.id,parent_id:i.id,parent_table:i.table,space_id:i.spaceId}});T().applyOperation({store:o,operation:n,transaction:t})}({transaction:e,parent:n.pointer,channelStore:i})}}),m&&T().createAndCommit({userAction:"channelActions.useGetOrCreateCollection",environment:t,canUndo:!0,perform:e=>{!function(e){const{transaction:t,channelStore:i,collectionStore:o,intl:n}=e,a=i.pointer,s=a.spaceId,r=a.id,l=r,d=r,c=(0,P().ZP)(),p=k().op.update({pointer:{id:r,table:x().vF,spaceId:s},path:[],args:{id:l,space_id:s,name:[[n.formatMessage(W().s.postsCollectionTitle)]],schema:{title:{type:"title",name:n.formatMessage(W().s.postHeadingName)},[(0,P().ZP)()]:{type:"created_by",name:K().SO.created_by},[c]:{type:"created_time",name:K().SO.created_time}},parent_id:d,parent_table:I().iU,alive:!0,version:0}}),u=(0,R().ZP)();T().applyOperation({store:o,operation:p,transaction:t});const m={id:u,table:j().np,spaceId:s},h={id:d,table:I().iU,spaceId:s},f=k().op.update({pointer:m,path:[],args:{id:u,version:5,type:"feed",parent_id:d,parent_table:I().iU,space_id:s,alive:!0,name:void 0,query2:{sort:[{property:c,direction:"descending"}]},format:{hide_linked_collection_name:!0,inline_collection_first_load_limit:{type:"load_limit",limit:10},collection_pointer:{table:x().vF,id:l,spaceId:s}}}}),b=V().G.createChildStore(i,h),g=V().Xr.createChildStore(b,m);T().applyOperation({store:g,operation:f,transaction:t});const v=k().op.update({pointer:b.pointer,path:[],args:{id:d,type:"collection_view_page",version:1,alive:!0,parent_id:r,parent_table:M().ZP,space_id:s,view_ids:[u],properties:{title:[[n.formatMessage(W().s.postsCollectionViewPageTitle)]]}}});T().applyOperation({store:b,operation:v,transaction:t}),U().sW({store:b.getFormatStore(),data:{collection_pointer:{table:x().vF,id:l,spaceId:s}},transaction:t})}({transaction:e,collectionStore:p,channelStore:i,intl:s})}}))}),[u,m,t,n,i,p,s]),i}var B=()=>i(142589),L=()=>i(520849),N=()=>i(876822),E=()=>i(245015),F=()=>i(84285);var O=()=>i(178025),D=()=>i(34910),A=()=>i(383694),Z=i(785893);const z="b79a9d6f4d9f4e4da2a5c29c31435321",G="160b35e6e67f80659fed000ce430be38";function Y(e){const{teamId:t}=e,[i,x]=o.useState(void 0),T=(0,n().O7)(),k=(0,n().Fy)(),I=(0,a().VK)((()=>N().default.state.currentSpaceStore),[]),M=(0,a().VK)((()=>{if(I)return V().t1.createChildStore(I,{table:"team",id:t,spaceId:I.id})}),[I,t]),j=(0,a().VK)((()=>null==M?void 0:M.getChannelStore()),[M]),R=(0,a().VK)((()=>(0,B().U)({isMobileNative:T.device.isMobileNative,disableExposureLogging:!0})),[T]);H({environment:T,channelStore:j,parentStore:M});const P=(0,a().VK)((()=>null==M?void 0:M.getName()),[M]),{canViewPosts:U}=(0,O().K)({teamStore:M}),K=(0,C().n1)("team-home"),W=(0,a().VK)((()=>{if(!I||!j)return;const e=V().t1.createUniqueRootStore(T,{table:"block",id:j.id,spaceId:I.id});return e.isCollectionView()?e:void 0}),[T,I,j]),Y=(0,o.useCallback)((()=>{if(!I)return;const e=V().t1.createChildStore(I,{table:"block",id:z,spaceId:I.id});m()._c({environment:T,store:e,collectionViewId:G,pageVisitSource:r().tY.TeamHomePage})}),[I,T]),q=(0,o.useCallback)((()=>{h().c4({environment:T,url:`/team/${t}/join`})}),[T,t]);(0,o.useEffect)((()=>{(null==I?void 0:I.isReady())&&(null==M?void 0:M.isReady())&&!U&&q()}),[U,I,q,M]),(0,o.useEffect)((()=>{W&&function(e){const{teamId:t,collectionViewIds:i}=e,{teamHomeCollectionViewIdsKey:o}=(0,F().C)(t);E().Z.set(o,i)}({teamId:t,collectionViewIds:W.getCollectionViewIds()})}),[W,t]);const X=(0,a().VK)((()=>{const e=null==i?void 0:i.isLoadedStore.state,t=Boolean(null==i?void 0:i.collectionStoresStore.state.length);return Boolean(e&&t)}),[i]);(0,o.useEffect)((()=>{u().measurePageRenderMetrics({environment:T,isHomePage:!1,isEditable:!1,isWikiHome:!1,isPageWithCustomLayout:!1})}),[]),(0,_().G)({firstMountToReadyMetricName:"team_home.feed.first_mount_to_ready",pageOriginToReadyMetricName:"team_home.feed.page_origin_to_ready",isReady:X,homeType:"team"});const J=(0,w().t)(),Q=(0,s().yK)((e=>({pageContainer:{display:"flex",flexDirection:"column",order:d().Z.appCursorListener.teamHome,width:"100%"},teamHome:{position:"relative",cursor:"default"},pageLayout:{paddingBottom:K},scroller:{height:"100dvh"},container:{display:"flex",flexDirection:"column",gap:16,paddingTop:k.isMobile?24:40,paddingLeft:0},feedHeader:{display:"flex",alignItems:"center",gap:8,paddingBottom:24},teamIconAndName:{display:"flex",alignItems:"center",gap:12},teamName:{fontSize:30,fontWeight:p().Ue.semibold},flex:{flex:1},collectionViewContainer:{...k.isMobile?{marginLeft:-22,marginRight:-22}:{display:"contents"}},leaveFeedbackButton:{fontSize:15,fontWeight:p().Ue.medium,width:"fit-content",paddingLeft:12,paddingRight:12,borderRadius:14,background:k.isMobile?e.accentColors.gray[75]:e.accentColors.gray[30]}})),[K,k.isMobile]);if(!R)return null;const $=!M,ee=(v().default.isLocalhost||!1)&&!$,te=T.device.isMobile;return(0,Z.jsx)("div",{style:Q.pageContainer,children:(0,Z.jsx)(g().T,{type:L().Z.Y,style:Q.scroller,className:"home-content",children:(0,Z.jsx)(S().Xg,{type:te?"home-phone":"team-home",style:Q.teamHome,gap:J,children:(0,Z.jsx)(y().PT,{lowResolutionTabletUpperBound:980,tabletUpperBound:1190,throttle:100,children:(0,Z.jsxs)(S().Pb,{style:Q.pageLayout,children:[(0,Z.jsxs)("div",{style:Q.container,children:[ee&&k.isMobile&&(0,Z.jsx)(b().D,{icon:l().R,isGray:!0,onClick:Y,style:Q.leaveFeedbackButton,children:(0,Z.jsx)(c()._H,{defaultMessage:"Feedback",id:"TeamHome.feedback.label"})}),$?(0,Z.jsx)(D().O2,{}):(0,Z.jsxs)("div",{style:Q.feedHeader,children:[(0,Z.jsxs)("div",{style:Q.teamIconAndName,children:[M&&(0,Z.jsx)(A().p,{store:M,size:40}),(0,Z.jsx)("div",{style:Q.teamName,children:P})]}),(0,Z.jsx)("div",{style:Q.flex}),ee&&!k.isMobile&&(0,Z.jsx)(b().D,{icon:l().R,isGray:!0,onClick:Y,style:Q.leaveFeedbackButton,children:(0,Z.jsx)(c()._H,{defaultMessage:"Feedback",id:"TeamHome.feedback.label"})})]})]}),!X&&(0,Z.jsx)(D().a3,{hasComposer:!0}),(0,Z.jsx)("div",{style:Q.collectionViewContainer,children:W&&(0,Z.jsx)(f().DZ,{store:W,disabled:!1,isFullScreen:!0,headerActionsBehavior:"hidden",hideViewTabBar:!0,viewId:W.id,overrideViewType:"feed",setCollectionContextStore:x})})]})})})})})}},178025:(e,t,i)=>{i.d(t,{K:()=>s});var o=()=>i(219727),n=()=>i(142735),a=()=>i(619779);function s(e){const{teamStore:t}=e,i=(0,o().O7)(),s=(0,n().VK)((()=>a().Z.state.spacePermissionGroupIds),[]),r=(0,n().VK)((()=>{if(t&&i.currentUser.id)return t.getTeamRoleForUser(i.currentUser.id,s)}),[t,i.currentUser.id,s]),l=(0,n().VK)((()=>!!t&&"open"===t.getTeamAccessLevel()),[t]),d="none"===r||!r,c=!d;return{isTeamMember:c,canViewPosts:c||l,canJoinTeam:d&&l}}},519454:(e,t,i)=>{i.d(t,{R:()=>n});i(667294);var o=i(785893);const n=(0,i(827282).IU)("pencil",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M3.926 13.307H14.11c.183 0 .34-.066.472-.199a.644.644 0 00.198-.471.652.652 0 00-.198-.479.644.644 0 00-.472-.198H5.272l-1.346 1.347zm-.704-.636l7.683-7.684-1.312-1.319-7.69 7.684-.67 1.606c-.037.1-.017.191.06.273.083.082.174.105.274.069l1.655-.63zm8.34-8.326l.738-.732c.182-.187.278-.376.287-.567.009-.192-.068-.374-.232-.547l-.267-.267c-.169-.168-.351-.246-.547-.232-.196.014-.385.11-.567.287l-.739.732 1.327 1.326z"})})},88829:(e,t,i)=>{i.d(t,{Z:()=>o});const o={appCursorListener:{sidebar:1,secondarySidebar:2,editor:3,aiChat:3,marketplace:3,teamHome:3}}}}]);