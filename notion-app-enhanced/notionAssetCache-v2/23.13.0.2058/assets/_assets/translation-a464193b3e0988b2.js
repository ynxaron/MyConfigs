"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[63283,33705,36751],{758210:(e,a,s)=>{s.d(a,{B:()=>f});var n=s(667294),t=()=>s(142735),i=()=>s(565630),g=()=>s(219727),o=()=>s(594546),r=()=>s(358122),l=()=>s(234478);function u(e){const{pageStore:a,enabled:s}=e,t=(0,g().O7)(),i=(0,l().w)({pageStore:a,enabled:s}),u=(0,r().J)();return(0,n.useEffect)((()=>{i&&i!==u&&function(e){let{environment:a,detectedLanguage:s,suggestedLanguage:n}=e;(0,o().j)({environment:a,event:{eventName:"suggested_page_translation",eventProperties:{detected_language:s,suggested_language:n}}})}({environment:t,detectedLanguage:i,suggestedLanguage:u})}),[i,u,t]),i&&i!==u?{detectedPageLanguage:i,suggestedPageTranslationLanguage:u}:{detectedPageLanguage:void 0,suggestedPageTranslationLanguage:void 0}}var d=()=>s(876822),c=()=>s(524434),m=()=>s(279386);function f(e){const a=(0,t().VK)((()=>{var a;return null===(a=m().MT.getStateForBlock(e.id))||void 0===a?void 0:a.mode}),[e]),s=(0,t().VK)((()=>c().KR.isFullPageTranslateEnabled()),[]),g=(0,t().VK)((()=>{const e=d().default.state.currentUserSettingsStore;return!!e&&void 0===e.getSettingsStore().getKeyStore("ai_page_translation_dismissed_at").getValue()}),[]),o=s&&g,{detectedPageLanguage:r,suggestedPageTranslationLanguage:l}=u({pageStore:e,enabled:o}),[f,b]=(0,n.useState)(!1);(0,i().D9)(e.id)!==e.id&&f&&b(!1);return{suggestTranslation:Boolean(!f&&o&&l&&(void 0===a||"default"===a)),detectedPageLanguage:r,suggestedPageTranslationLanguage:l,setTranslationSuggestionDismissed:b}}},442531:(e,a,s)=>{s.d(a,{HZ:()=>t,YD:()=>g,_7:()=>i,io:()=>n});const n=new(s(677559).Ss)("framer-motion",(async()=>await Promise.all([s.e(37358),s.e(7312),s.e(99464)]).then(s.bind(s,70194))));function t(e){return e.useAnimate()}function i(e){return e.useAnimation()}function g(e){for(var a=arguments.length,s=new Array(a>1?a-1:0),n=1;n<a;n++)s[n-1]=arguments[n];return e.useInView(...s)}},993996:(e,a,s)=>{s.r(a),s.d(a,{MobileTopbarAmbientSuggestTranslateRenderer:()=>j,TopbarAmbientSuggestTranslateButton:()=>B,TranslateBanner:()=>C().TranslateBanner});var n=s(667294),t=()=>s(219727),i=()=>s(142735),g=()=>s(846550),o=()=>s(825350),r=()=>s(205248),l=()=>s(235605),u=()=>s(697466),d=()=>s(788860),c=()=>s(696459),m=()=>s(676922),f=()=>s(348141),b=()=>s(154186),p=()=>s(1910),M=()=>s(442531),h=()=>s(594546),P=()=>s(45909),k=()=>s(677559),v=()=>s(590972),S=()=>s(880885),L=()=>s(725751),T=s(785893);const w=(0,d().vU)({translateToLabel:{defaultMessage:"Translate to {language}",id:"topbar.ambientSuggestTranslate.label"},dismissLabel:{defaultMessage:"Dismiss translation suggestion",id:"topbar.ambientSuggestTranslate.dismiss"},acceptSuggestionLabel:{defaultMessage:"Stop showing translation suggestions.",id:"topbar.ambientSuggestTranslate.accept"},dismissSuggestionLabel:{defaultMessage:"Dismiss translation suggestion for this page, but keep suggesting translations.",id:"topbar.ambientSuggestTranslate.dismissSuggestionLabel"}});function B(e){const{value:a}=(0,k().XJ)(M().io),[s,t]=n.useState("suggesting");return a?"suggesting"===s?(0,T.jsx)(D,{...e,framerMotion:a,showDismissForeverMessage:()=>{t("dismissing")}}):"dismissing"===s?(0,T.jsx)(x,{suggestedPageTranslationLanguage:e.suggestedPageTranslationLanguage,detectedPageLanguage:e.detectedPageLanguage,store:e.store,onDismiss:()=>{e.setTranslationSuggestionDismissed(),t("suggesting")}}):(0,c().t1)(s):null}function D(e){let{store:a,isVisible:s,compact:l,framerMotion:f,suggestedPageTranslationLanguage:M,detectedPageLanguage:h,setTranslationSuggestionDismissed:k,showDismissForeverMessage:S}=e;const{AnimatePresence:B,motion:D}=f,x=(0,t().O7)(),C=(0,d().YB)(),y=(0,u().i)(C),j=(0,i().VK)((()=>Boolean(L().default.state.isShowingTabBar)),[]),_=(0,i().VK)((()=>v().default.state.expanded),[]),E=(0,g().yK)((e=>({button:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:256,color:e.text.uiBluePrimary,gap:2,height:28,background:e.accentColors.uiBlue[100],...(0,P().X)({noDrag:x.device.isElectron&&!j})},hoveredButton:{background:e.accentColors.uiBlue[200]},pressedButton:{background:e.accentColors.uiBlue[300]},translateIcon:{height:18,width:18,marginLeft:9,marginRight:3},text:{fontSize:14,lineHeight:1.428},closeIcon:{height:14,width:14,fill:e.text.uiBlueSecondary},dismissIconContainer:{borderRadius:14,marginRight:2,marginTop:2,marginBottom:2}})),[x.device.isElectron,j]),I=(0,n.useCallback)((()=>{m().V8({pageStore:a,environment:x}),m().LI({pageStore:a,targetLanguage:M,sourceLanguage:h,environment:x,triggeredFrom:"ambient_suggestion"}),k()}),[x,a,h,M,k]),F=(0,n.useRef)(null);return(0,T.jsx)(B,{children:s&&(0,T.jsx)(D.div,{ref:F,initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.1},children:(0,T.jsxs)(b().Z,{style:E.button,hoveredStyle:E.hoveredButton,pressedStyle:E.pressedButton,onClick:I,ariaLabel:C.formatMessage(w.translateToLabel,{language:(0,c().qg)(y,M)?y[M].name:"Unknown language"}),children:[(0,o().Q)(E.translateIcon),(0,T.jsx)(B,{initial:_,children:!l&&!_&&(0,c().qg)(y,M)&&(0,T.jsx)(D.div,{initial:{width:0},exit:{width:0},animate:{width:"auto"},transition:{duration:.1},style:E.text,children:(0,T.jsx)(d()._H,{...w.translateToLabel,values:{language:y[M].name}})})}),(0,T.jsx)(p().Z,{style:E.dismissIconContainer,icon:r().D,iconStyle:E.closeIcon,onClick:S,ariaLabel:C.formatMessage(w.dismissLabel)})]},"button")})})}function x(e){const{store:a,suggestedPageTranslationLanguage:s,detectedPageLanguage:i,onDismiss:o}=e,u=(0,d().YB)(),c=(0,t().O7)(),m=(0,n.useCallback)((()=>{o(),S().H.setState(!0),f().jh(c),(0,h().j)({environment:c,event:{eventName:"click_dismiss_translation_suggestion_forever",eventProperties:{source_language:i,suggested_language:s,page_id:a.id}}})}),[o,c,a,i,s]),b=(0,g().yK)((e=>({wrapper:{display:"flex",alignItems:"center",color:e.mediumTextColor,fontSize:14,lineHeight:1.428,gap:4},iconContainer:{borderRadius:14,marginRight:2,marginTop:2,marginBottom:2},checkIcon:{height:13,width:13,fill:e.lightIconColor},closeIcon:{height:14,width:14,fill:e.lightIconColor}})),[]);return(0,T.jsxs)("div",{style:b.wrapper,children:[(0,T.jsx)(d()._H,{defaultMessage:"Stop showing translation suggestions?",id:"topbar.ambientSuggestTranslate.dismissConfirmation"}),(0,T.jsx)(p().Z,{style:b.iconContainer,icon:l().k,iconStyle:b.checkIcon,onClick:m,ariaLabel:u.formatMessage(w.acceptSuggestionLabel)}),(0,T.jsx)(p().Z,{style:b.iconContainer,icon:r().D,iconStyle:b.closeIcon,onClick:o,ariaLabel:u.formatMessage(w.dismissSuggestionLabel)})]})}var C=()=>s(704562),y=()=>s(758210);function j(e){let{blockStore:a}=e;const{suggestTranslation:s,suggestedPageTranslationLanguage:i,detectedPageLanguage:g,setTranslationSuggestionDismissed:o}=(0,y().B)(a),r=(0,t().O7)();return(0,n.useEffect)((()=>{s&&(m().V8({pageStore:a,environment:r,status:"suggest_translation",sourceLanguage:g,targetLanguage:i}),o(!0))}),[a,r,s,g,i,o]),null}},697466:(e,a,s)=>{function n(e){return{"en-US":{label:"English",caption:e.formatMessage({defaultMessage:"English (US)",id:"languagePicker.captions.englishUS"})},"de-DE":{label:"Deutsch",caption:e.formatMessage({defaultMessage:"German",id:"languagePicker.captions.germanDE"})},"ko-KR":{label:"í•œêµ­ì–´",caption:e.formatMessage({defaultMessage:"Korean",id:"languagePicker.captions.koreanKo"})},"zh-CN":{label:"ç®€ä½“ä¸­æ–‡",caption:e.formatMessage({defaultMessage:"Simplified Chinese",id:"languagePicker.captions.chineseS"})},"zh-TW":{label:"ç¹é«”ä¸­æ–‡",caption:e.formatMessage({defaultMessage:"Traditional Chinese",id:"languagePicker.captions.chineseT"})},"ja-JP":{label:"æ—¥æœ¬èªž",caption:e.formatMessage({defaultMessage:"Japanese",id:"languagePicker.captions.japaneseJa"})},"es-ES":{label:"EspaÃ±ol (EspaÃ±a)",caption:e.formatMessage({defaultMessage:"Spanish (Spain)",id:"languagePicker.captions.spanishEs"})},"es-LA":{label:"EspaÃ±ol (LatinoamÃ©rica)",caption:e.formatMessage({defaultMessage:"Spanish (Latin America)",id:"languagePicker.captions.spanishLatam"})},"pt-BR":{label:"PortuguÃªs (Brasil)",caption:e.formatMessage({defaultMessage:"Portuguese (Brazil)",id:"languagePicker.captions.portugueseBr"})},"fr-FR":{label:"FranÃ§ais (France)",caption:e.formatMessage({defaultMessage:"French",id:"languagePicker.captions.frenchFr"})},"da-DK":{label:"Dansk",caption:e.formatMessage({defaultMessage:"Danish",id:"languagePicker.captions.danishDk"})},"fi-FI":{label:"Suomi",caption:e.formatMessage({defaultMessage:"Finnish",id:"languagePicker.captions.finnishFi"})},"nb-NO":{label:"Norsk",caption:e.formatMessage({defaultMessage:"Norwegian",id:"languagePicker.captions.norwegianNo"})},"nl-NL":{label:"Nederlands",caption:e.formatMessage({defaultMessage:"Dutch",id:"languagePicker.captions.dutchNl"})},"sv-SE":{label:"Svenska",caption:e.formatMessage({defaultMessage:"Swedish",id:"languagePicker.captions.swedishSe"})},pseudo:{label:"ðŸ¤¡PseudolocaleðŸ¤¡",caption:e.formatMessage({defaultMessage:"Pseudolocale",id:"languagePicker.captions.pseudolocale"})}}}function t(e){return{en:{name:e.formatMessage({defaultMessage:"English",id:"languagePicker.name.english"}),abbreviation:e.formatMessage({defaultMessage:"EN",id:"languagePicker.abbreviation.english"})},de:{name:e.formatMessage({defaultMessage:"German",id:"languagePicker.name.german"}),abbreviation:e.formatMessage({defaultMessage:"DE",id:"languagePicker.abbreviation.german"})},ko:{name:e.formatMessage({defaultMessage:"Korean",id:"languagePicker.name.korean"}),abbreviation:e.formatMessage({defaultMessage:"KO",id:"languagePicker.abbreviation.korean"})},zh:{name:e.formatMessage({defaultMessage:"Chinese",id:"languagePicker.name.chinese"}),abbreviation:e.formatMessage({defaultMessage:"ZH",id:"languagePicker.abbreviation.chinese"})},ja:{name:e.formatMessage({defaultMessage:"Japanese",id:"languagePicker.name.japanese"}),abbreviation:e.formatMessage({defaultMessage:"JA",id:"languagePicker.abbreviation.japanese"})},es:{name:e.formatMessage({defaultMessage:"Spanish",id:"languagePicker.name.spanish"}),abbreviation:e.formatMessage({defaultMessage:"ES",id:"languagePicker.abbreviation.spanish"})},pt:{name:e.formatMessage({defaultMessage:"Portuguese",id:"languagePicker.name.portuguese"}),abbreviation:e.formatMessage({defaultMessage:"PT",id:"languagePicker.abbreviation.portuguese"})},fr:{name:e.formatMessage({defaultMessage:"French",id:"languagePicker.name.french"}),abbreviation:e.formatMessage({defaultMessage:"FR",id:"languagePicker.abbreviation.french"})},da:{name:e.formatMessage({defaultMessage:"Danish",id:"languagePicker.name.danish"}),abbreviation:e.formatMessage({defaultMessage:"DA",id:"languagePicker.abbreviation.danish"})},fi:{name:e.formatMessage({defaultMessage:"Finnish",id:"languagePicker.name.finnish"}),abbreviation:e.formatMessage({defaultMessage:"FI",id:"languagePicker.abbreviation.finnish"})},nb:{name:e.formatMessage({defaultMessage:"Norwegian",id:"languagePicker.name.norwegian"}),abbreviation:e.formatMessage({defaultMessage:"NB",id:"languagePicker.abbreviation.norwegian"})},nl:{name:e.formatMessage({defaultMessage:"Dutch",id:"languagePicker.name.dutch"}),abbreviation:e.formatMessage({defaultMessage:"NL",id:"languagePicker.abbreviation.dutch"})},sv:{name:e.formatMessage({defaultMessage:"Swedish",id:"languagePicker.name.swedish"}),abbreviation:e.formatMessage({defaultMessage:"SV",id:"languagePicker.abbreviation.swedish"})}}}s.d(a,{i:()=>t,t:()=>n})}}]);