"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[24149],{961780:(t,n,e)=>{e.d(n,{e:()=>s});e(667294);var i=()=>e(846550),o=()=>e(429600),l=()=>e(382850),r=()=>e(568017),a=()=>e(312578),c=e(785893);function s(t){const{isConnecting:n,isIntegrationAuthenticated:e,hideChevronIcon:s}=t,d=(0,i().yK)((t=>({circleCheck:{height:14,width:14,color:r().ZP.blue,fill:r().ZP.blue},chevron:{height:12,width:12},loadingSpinner:{marginLeft:6}})),[]);return n?(0,c.jsx)(a().Z,{legacySize:14,style:d.loadingSpinner}):(0,c.jsxs)(c.Fragment,{children:[e&&(0,l().r)(d.circleCheck),!s&&(0,o().o)(d.chevron)]})}},81223:(t,n,e)=>{e.r(n),e.d(n,{GoogleImportContactsButton:()=>_});e(267602),e(653476),e(470928);var i=e(667294),o=()=>e(219727),l=()=>e(142735),r=()=>e(235484),a=()=>e(839002),c=()=>e(855741),s=()=>e(758112),d=()=>e(824462),u=()=>e(388915),h=()=>e(265640),g=()=>e(961780),v=()=>e(842576),f=()=>e(876822),p=()=>e(138912),C=e(785893);function _(t){const{onClickAuthenticated:n,buttonLabel:e,inviteOrigin:_,flowId:m,from:y,hideChevronIcon:x,containerStyle:w,buttonStyle:I,loadContacts:b}=t,S=(0,o().O7)(),[k,j]=i.useState(!1),A=(0,l().VK)((()=>f().default.state.currentSpaceStore),[]),T=(0,l().VK)((()=>{const t=null==A?void 0:A.getBotSettingsStore().getValue();return"approved_only"!==(null==t?void 0:t.integration_restrictions)||Boolean((null==t?void 0:t.integration_approval_statuses)&&t.integration_approval_statuses[r().lT])}),[A]),V=(0,l().VK)((()=>p().default.integrations.state.find((t=>t.id===r().lT))),[]),K=(0,l().VK)((()=>p().default.externalAuthentications.state.filter((t=>t.integration_id===r().lT))),[]),B=(0,v().ph)();return A&&T?(0,C.jsx)("div",{style:w,children:(0,C.jsx)(h().D,{style:I,onClick:async()=>{0===K.length?await async function(t){const{from:e,loadContacts:i}=t,o=S.currentUser.id;if(!V||!A||!o)return;try{var l;j(!0),s()._e(S,{origin:_,from:e,invite_flow_id:m});const t=await u().hM({environment:S,integration:V,spaceId:A.id,from:e});if(c().x.isFail(t))return void s().Xu(S,{origin:_,from:e,invite_flow_id:m,is_success:!1});const o=null===(l=t.value.externalAuthentication)||void 0===l?void 0:l.parent_id;if(!o)return;s().Xu(S,{origin:_,from:e,invite_flow_id:m,is_success:!0}),i&&await Promise.race([d().callApi({eventName:"loadContacts",environment:S,data:{botId:o,spaceId:A.id,integrationId:V.id,importContactType:"google"}}),(0,a().Vs)(2e3)]),null==n||n()}finally{j(!1)}}({from:y,loadContacts:b}):K.length>0&&(null==n||n())},children:(0,C.jsxs)("div",{style:B.labelContainer,children:[e,(0,C.jsx)(g().e,{isConnecting:k,isIntegrationAuthenticated:K.length>0,hideChevronIcon:x})]})})}):null}},382850:(t,n,e)=>{e.d(n,{r:()=>o});e(667294);var i=e(785893);const o=(0,e(827282).IU)("circleCheckFilled",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M8 16c4.377 0 8-3.631 8-8 0-4.376-3.631-8-8.008-8C3.624 0 0 3.624 0 8c0 4.369 3.631 8 8 8zm-.886-4.165c-.267 0-.487-.11-.69-.384l-1.97-2.416a.852.852 0 01-.187-.51c0-.352.274-.643.627-.643.228 0 .4.07.596.33l1.592 2.055 3.35-5.38c.148-.236.352-.362.556-.362.345 0 .667.236.667.604 0 .173-.102.353-.196.518l-3.686 5.804c-.165.259-.393.384-.66.384z"})})}}]);