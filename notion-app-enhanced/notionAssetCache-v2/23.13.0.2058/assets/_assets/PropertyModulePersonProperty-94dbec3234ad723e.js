"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[72001],{788899:(e,t,o)=>{o.d(t,{Tp:()=>y,cn:()=>u,fg:()=>p,l0:()=>c});o(667294);var r=()=>o(219727),l=()=>o(573357),n=()=>o(198829),s=()=>o(18748),a=()=>o(470386),i=()=>o(352230),d=o(785893);const u=8,c=8,p=32,m={height:p+u-2,paddingTop:u-2};function y(e){let{title:t,helpButton:o,onCancel:s,desktopMinWidth:u,desktopMaxWidth:c,desktopWidth:p,children:m}=e;const{device:y}=(0,r().O7)();return(0,d.jsx)(l().Z,{capture:!0,allowEsc:!0,allowUndo:!0,render:e=>{let r;return r=y.isMobile?{menuType:i().o.Modal,title:t,right:(0,d.jsx)(a().DoneMenuText,{}),onClickRight:s,...e}:{menuType:i().o.Popup,...u&&{minWidth:u},...c&&{maxWidth:c},...p&&{width:p},...e},(0,d.jsx)(n().Z,{...r,header:t&&(0,d.jsx)(h,{title:t,helpButton:o}),children:m})}})}function h(e){let{title:t,helpButton:o}=e;return(0,r().O7)().device.isMobile?null:(0,d.jsx)(s().ZP,{style:m,title:t,right:o})}},292612:(e,t,o)=>{o.d(t,{Z:()=>n});var r=o(667294),l=o(785893);const n=r.forwardRef((function(e,t){const r=(0,o(846550).yK)((t=>({base:{color:e.isBlue?o(568017).ZP.blue:t.mediumTextColor},disabled:{cursor:"not-allowed"},buttonMenuItem:{...e.style,...e.disabled?{cursor:"not-allowed"}:{}}})),[e.disabled,e.isBlue,e.style]),{color:n}=r.base;return(0,l.jsx)(o(827973).Z,{ref:t,...e,title:(0,l.jsx)("div",{style:{color:n,fill:n},children:e.title}),icon:(0,l.jsx)(o(882292).Z,{icon:o(159732).R,styles:{fill:n}}),style:r.buttonMenuItem})}))},951877:(e,t,o)=>{o.d(t,{L:()=>d,N:()=>u});o(667294);var r=()=>o(219727),l=()=>o(846550),n=()=>o(766933),s=()=>o(561933),a=()=>o(827973),i=o(785893);let d=function(e){return e[e.Name=0]="Name",e[e.Type=1]="Type",e}({});function u(e){const{propertySchema:t,format:o,locked:u}=e,c=(0,l().Fg)(),p=(0,r().O7)(),{name:m,type:y,icon:h}=t,x=o===d.Name?m:s().SO[y];return(0,i.jsx)(a().Z,{title:x,icon:(0,i.jsx)(n().ZP,{icon:h,type:y,size:p.device.isMobile?18:16,theme:c,style:{fill:c.regularIconColor,marginLeft:6,marginRight:2}}),disabled:u,...e})}},360197:(e,t,o)=>{o.d(t,{Z:()=>y});o(267602),o(653476),o(241792),o(228244);var r=o.n(o(443261)),l=o(667294),n=()=>o(226413),s=()=>o(532850),a=()=>o(788860),i=()=>o(513670),d=()=>o(352230),u=()=>o(255577),c=()=>o(388284),p=()=>o(951877),m=o(785893);const y=function(e){let{selectedProperty:t,onAccept:y,schema:h,onClose:x,allowProperty:g,isRelationProperty:f}=e;const b=(0,o(219727).O7)(),j=(0,a().YB)(),[v,S]=(0,l.useState)("");let k=Object.keys(h);const w=k.some(o(15607).w);k=i().MR(k,(e=>{const t=(0,s().Qm)({schema:h,property:e});return t?t.name:""}));const M=w?n().bf:n().iw;if(k=i().zu(k,M),k.unshift(M),g&&(k=k.filter((e=>{const t=(0,s().Qm)({schema:h,property:e});return t&&g(t)}))),v){let e=k.map((e=>{const t=(0,s().Qm)({schema:h,property:e});return t&&t.name}));e=r().filter(v,e).map((e=>{let{original:t}=e;return t})),k=k.filter((t=>{const o=(0,s().Qm)({schema:h,property:t});return o&&o.name&&e.includes(o.name)}))}const C=v||k.length>o(347577).nt,Z=i().oA(k.map((e=>{const o=(0,s().Qm)({schema:h,property:e});if(!o)return null;return{key:e,render:r=>(0,m.jsx)(p().N,{...r,propertySchema:o,format:p().L.Name,checkState:e===t}),action:()=>y(e)}}))),P=[{key:0,render:e=>(0,m.jsx)(c().Z,{...e}),items:Z}],{device:_}=b,N=C?(0,m.jsx)(c().Z,{isInput:!0,children:(0,m.jsx)(o(740046).ZP,{focus:!_.isMobile||void 0,focusAfterAnimation:!0,value:v,onChange:e=>S(e.target.value),placeholder:f?j.formatMessage({defaultMessage:"Search for a relation property…",id:"propertySelectMenu.searchForProperty.relation.placeholder"}):j.formatMessage({defaultMessage:"Search for a property…",id:"propertySelectMenu.searchForProperty.default.placeholder"})})}):null;let R;return R=_.isMobile?{menuType:d().o.Modal,title:f?j.formatMessage({defaultMessage:"Relation property",id:"propertySelectMenu.mobileMenu.relationProperty.header"}):j.formatMessage({defaultMessage:"Property",id:"propertySelectMenu.mobileMenu.property.header"}),right:(0,m.jsx)(o(470386).CancelMenuText,{}),onClickRight:x,header:N}:{menuType:d().o.Popup,width:280,maxHeight:480,header:N},(0,m.jsx)(o(198829).Z,{...R,children:0===Z.length?(0,m.jsx)(c().Z,{children:(0,m.jsx)(o(838367).Z,{title:(0,m.jsx)(a()._H,{defaultMessage:"No results",id:"propertySelectMenu.search.noResults.title"})})}):(0,m.jsx)(u().ZP,{type:u().iW.Vertical,sections:P,onAccept:x,initialFocus:v.length>0?0:void 0})})}},697475:(e,t,o)=>{o.d(t,{Z:()=>s});o(667294);var r=()=>o(788860),l=()=>o(951877),n=o(785893);const s=function(e){const t=(0,o(219727).O7)(),{device:s}=t;if(s.isMobile)return e.propertySchema?(0,n.jsx)(l().N,{propertySchema:e.propertySchema,onClick:e.onClick,focused:!1,format:l().L.Name,showExtensionArrow:!e.disabled}):(0,n.jsx)(o(827973).Z,{focused:!1,title:(0,n.jsx)(r()._H,{defaultMessage:"Property",id:"database.mobileFilterAndSortMenu.property.buttonMenuItem.label"})});{const t=e.propertySchema&&(0,n.jsx)(o(899316).ZP,{propertySchema:e.propertySchema,showIcon:!0,style:{lineHeight:1.4}}),l=(0,n.jsx)(r()._H,{defaultMessage:"Property",id:"database.filterAndSortMenu.propertyButton.label"});return(0,n.jsx)(o(960647).Z,{title:t,placeholder:l,onClick:e.onClick,disabled:e.disabled,disableMargins:e.disableMargins,desktopStyle:e.textWrapperStyle})}}},523516:(e,t,o)=>{o.d(t,{X:()=>m,Z:()=>h});var r=o(667294),l=()=>o(219727),n=()=>o(142735),s=()=>o(816512),a=()=>o(788860),i=()=>o(998901),d=()=>o(661641),u=()=>o(981583),c=o(785893);const p=r.forwardRef(((e,t)=>{const{actor:r,userTitle:d,defaultUserTitle:p="name_only",defaultUserCaption:h,useEmailAsTooltip:x,tooltip:g,tooltipPlacement:f,hoveredStyle:b,disabledFeedback:j,customUserTitleStyles:v}=e,S=(0,l().O7)(),k=(0,a().YB)(),w=(0,n().VK)((()=>r.asActor&&r.asActor.getDisplayName(k)),[r,k]),{email:M,showEmail:C}=(0,n().VK)((()=>{const e=r.asActor&&r.isUser()?r.email:void 0;return{email:e,showEmail:w!==e}}),[r,w]),Z=x&&M?M:g;let P=20;S.device.isMobile&&(P=24),"email"===h&&(P=32);const _=("name_and_email"===p||"name_and_email_unless_right"===p&&!Boolean(e.right))&&void 0===h?(0,c.jsx)(y,{actor:null==r?void 0:r.asActor,customStyles:v}):(0,c.jsx)(m,{bold:"name_only_semibold"===p,customStyles:v,actor:null==r?void 0:r.asActor}),N=d??_,R="email"===h&&C?M:void 0;let A;return(0,s().YU)(r)?A=(0,c.jsx)(o(634760).Z,{botValue:null==r?void 0:r.asActor,size:P}):(0,s().$S)(r)?A=(0,c.jsx)(u().Z,{userValue:null==r?void 0:r.asActor,size:P}):(0,s().Iq)(r)?A=(0,c.jsx)(u().Z,{userValue:void 0,size:P}):(0,o(696459).t1)(r),(0,c.jsx)(o(654133).Z,{placement:f??i().Placement.Bottom,alignment:i().Alignment.Start,textWrap:!0,render:r=>(0,c.jsx)(o(827973).Z,{...(0,o(164079).Z)(r,e),icon:A,title:N,disabledFeedback:j,className:"notranslate",right:e.right,ref:t,hoveredStyle:b,caption:R}),disableTooltip:!Z,renderTooltip:()=>Z})}));function m(e){const{actor:t,bold:o,customStyles:r}=e,s=(0,l().O7)(),i=(0,a().YB)(),u=(0,n().VK)((()=>t&&t.id===s.currentUser.id),[s,t]),p=(0,n().VK)((()=>t&&t.getDisplayName(i)),[t,i]),m=o?"UIRegular-14px/Semibold":"UIRegular-14px/Regular";return u?(0,c.jsx)(a()._H,{id:"UserMenuItem.fullName.authorLabel",defaultMessage:"<author>{fullName}</author> <you>(You)</you>",values:{author:e=>(0,c.jsx)(d().q,{as:"span",styleName:m,customStyles:r,children:e}),fullName:p,you:e=>(0,c.jsx)(d().q,{as:"span",colorName:"secondary",styleName:"UIRegular-14px/Regular",customStyles:r,children:e})}}):p?(0,c.jsx)(d().q,{styleName:m,customStyles:r,children:p}):(0,c.jsx)(d().q,{styleName:m,customStyles:r,children:(0,c.jsx)(a()._H,{id:"UserMenuItem.fullName.unknownAuthorLabel",defaultMessage:"Unknown author"})})}function y(e){const{actor:t,customStyles:o}=e,r=(0,a().YB)(),l=(0,n().VK)((()=>t&&t.getDisplayName(r)),[t,r]),{email:s,showEmail:i}=(0,n().VK)((()=>{const e=t&&t.asActor&&t.isUser()?t.email:void 0;return{email:e,showEmail:l!==e}}),[t,l]);return l?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(d().q,{styleName:"UIRegular-14px/Semibold",customStyles:o,children:l}),i&&(0,c.jsx)(d().q,{styleName:"UIRegular-14px/Regular",customStyles:o,children:s})]}):(0,c.jsx)(d().q,{styleName:"UIRegular-14px/Semibold",customStyles:o,children:(0,c.jsx)(a()._H,{id:"UserMenuItem.fullName.unknownAuthorLabel",defaultMessage:"Unknown author"})})}p.displayName="UserMenuItem";const h=p},840541:(e,t,o)=>{o.r(t),o.d(t,{PersonPropertyModule:()=>K});o(670560),o(122556),o(582845),o(250570),o(533019),o(721473),o(788208),o(22624),o(267602),o(653476),o(241792);var r=o(667294),l=()=>o(219727),n=()=>o(142735),s=()=>o(846550),a=()=>o(816512),i=()=>o(801812),d=()=>o(328714),u=()=>o(989478),c=()=>o(955620),p=()=>o(788860),m=()=>o(513670),y=()=>o(696459),h=()=>o(707513),x=()=>o(326966),g=()=>o(589024),f=()=>o(949842),b=()=>o(352230),j=()=>o(644248),v=()=>o(828946),S=()=>o(998901),k=()=>o(253368),w=()=>o(682518),M=()=>o(168003),C=()=>o(96778),Z=()=>o(154186),P=()=>o(827973),_=()=>o(448419),N=()=>o(1910),R=()=>o(740046),A=()=>o(312578),T=()=>o(198829),V=()=>o(255577),B=()=>o(838367),O=()=>o(388284),U=()=>o(67961),I=()=>o(523516),W=o(785893);const K=r.memo((function(e){let{property:t,store:l,propertyValues:n,propertySchema:a,module:i,format:d}=e;const[u,c]=(0,o(407544).e)(),m=(0,o(291848).w)(),g={style:"large"};(0,o(639708).xV)(i)&&i.style&&(g.style=i.style);const f="large"===g.style?200:164,b=(0,r.useMemo)((()=>Math.floor((c+4)/(f+4))),[f,c]),j="person"===(null==a?void 0:a.type)&&((0,y().$K)(a.limit)&&0===n.length||(0,x().z4)(a.limit)),[v,S]=(0,r.useState)(!1),k=1===b?8:5,w=Math.max(1,k*b-(j?1:0)),M=(0,s().yK)((e=>({showAllFewerButton:{borderRadius:6,padding:"2px 8px",marginTop:4,display:"inline-flex",flexWrap:"nowrap",gap:4,color:e.mediumTextColor,fontWeight:h().Ue.medium,fontSize:14,alignItems:"center",justifyContent:"start"}})),[]),C=(0,W.jsx)(Z().Z,{onClick:()=>S(!v),style:M.showAllFewerButton,children:v?(0,W.jsx)(p()._H,{id:"PersonPropertySectionValues.showMoreButton.text",defaultMessage:"Show fewer"}):(0,W.jsx)(p()._H,{id:"PersonPropertySectionValues.showFewerButton.text",defaultMessage:"Show more"})}),P=n.length>0;return(0,W.jsxs)("div",{ref:u,children:[(0,W.jsx)(o(857719).a3,{minWidth:P?f:void 0,style:{gridGap:4,marginTop:P&&!m?4:0},children:(0,W.jsx)(F,{values:n,blockStore:l,propertyId:t,propertySchema:a,itemsShownPerRow:b,showAddButton:j,limit:v?void 0:w,setShowingAllValues:S,renderOptions:g,format:d})}),n.length>w&&C]})}));function F(e){let{values:t,blockStore:s,propertyId:i,propertySchema:d,itemsShownPerRow:u,showAddButton:p,limit:h,setShowingAllValues:g,renderOptions:f,format:b}=e;const j=(0,l().O7)(),v=(0,l().Fy)(),{collectionContextStore:k}=(0,r.useContext)(C().OU),w=(0,r.useCallback)((function(e){o(269299).createAndCommit({userAction:"PersonPropertyModule.updateValue",environment:j,canUndo:!0,perform:t=>{const r=o(532850).BY(e);o(970105).sO({environment:j,store:s.getPropertyStore(i),value:r,transaction:t})}});const t=s.getAssociatedCollectionStore();k&&d&&t&&o(250303).rv({environment:j,collectionContextStore:k,block_id:s.id,property:i,property_type:null==d?void 0:d.type,from:"property_module",collection_id:t.id,isFromBulkActionsToolbar:!1,value_count:e.length})}),[s,k,j,i,d]),M=(0,r.useCallback)((function(e){w(t.filter((t=>(0,a().Wk)(e)?(0,c().D4X)(t)||e.id!==t.id:e!==t)))}),[w,t]),P=(0,r.useCallback)((function(e){w([...t,e])}),[w,t]),N=(0,r.useCallback)((function(e){w([e])}),[w]),[R,A]=(0,r.useState)(""),T=(0,r.useMemo)((()=>new(o(529048).Z)),[]),V=t.length&&t.length<=u-1?(0,m().w6)(u-t.length-1).map((e=>(0,W.jsx)("div",{},e))):[],B=(0,n().VK)((()=>s.isTemplate()),[s]),O=(0,n().VK)((()=>s.canEdit()&&!s.isNonEditableState()),[s]);if((0,x().z4)(d))return null;if("created_by"===(null==d?void 0:d.type)||"last_edited_by"===(null==d?void 0:d.type))return(0,W.jsx)(z,{personValues:t,disabled:!0,onRemove:m().ZT,renderOptions:f,propertySchema:d});const U=h?t.slice(0,h):t;return O?(0,W.jsxs)(W.Fragment,{children:[(0,y().$K)(d.limit)?(0,W.jsx)(_().ZP,{buttonPopupStore:T,alignmentToOrigin:S().Alignment.Start,onClose:()=>{A("")},popupType:v.isMobile?_().Z4.SlideUp:_().Z4.Popup,renderOrigin:e=>(0,W.jsx)(Z().Z,{...e,children:(0,W.jsx)(z,{personValues:t,onRemove:M,disabled:!O,renderOptions:f,propertySchema:d})}),render:()=>(0,W.jsx)($,{query:R,setQuery:A,current:t,onAdd:e=>{N(e),T.setState({open:!1})},inTemplate:B,limit:d.limit,format:b})}):(0,W.jsx)(z,{personValues:U,onRemove:M,disabled:!O,renderOptions:f,propertySchema:d}),p?(0,W.jsx)(H,{renderOptions:f,isEmpty:!t.length,menu:(0,W.jsx)($,{query:R,setQuery:A,current:t,onAdd:P,inTemplate:B,limit:d.limit,format:b}),onClose:()=>{A(""),g(!1)},onClick:()=>{(0,y().$K)(h)&&g(!0)}}):null,V]}):(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(z,{personValues:U,disabled:!0,onRemove:m().ZT,renderOptions:f,propertySchema:d}),V]})}const H=r.memo((function(e){let{menu:t,onClick:n,onClose:a,renderOptions:i,isEmpty:d}=e;const u=(0,l().Fy)(),c=(0,s().yK)((e=>({button:{borderRadius:6,padding:"5px 0 5px 4px",display:"flex",flexWrap:"nowrap",gap:4,color:e.text.tertiary,fontSize:14,alignItems:"center"},buttonBorder:{padding:"large"===i.style?11:5,borderRadius:9999,border:`1px solid ${e.stroke.secondary}`},icon:{color:e.icon.tertiary}})),[i.style]),{baseStyles:m}=(0,r.useContext)(C().OU);return(0,W.jsx)(_().ZP,{alignmentToOrigin:S().Alignment.Start,onClick:n,onClose:a,popupType:u.isMobile?_().Z4.SlideUp:_().Z4.Popup,renderOrigin:e=>(0,W.jsx)(Z().Z,{...e,style:d?m.emptyButtonStyle:c.button,testId:"person_property_module__add_button",children:d?(0,W.jsx)(M().T$,{}):(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)("div",{style:c.buttonBorder,children:(0,o(159732).R)({width:12,...c.icon})}),(0,W.jsx)(p()._H,{id:"personProperty.addPersonButtonText",defaultMessage:"Add person"})]})}),render:()=>t})}));function $(e){let{query:t,setQuery:o,onAdd:s,current:d,inTemplate:h,limit:x,format:f}=e;const j=(0,l().Fy)(),S=(0,p().YB)(),M=function(e){let{query:t}=e;const o=(0,l().O7)(),r=(0,p().YB)(),[n]=(0,i().r5)((async()=>{const e=await v().x.searchActions.load(),{users:l}=await e.searchSpaceActors({environment:o,query:t,membersOnly:!1,userLocale:r.locale});return l.map((e=>(0,a().LU)({table:u().KJ,value:e})))}),[o,t,r.locale]);return n}({query:t}),C=(0,r.useMemo)((()=>new Set(d.map((e=>{if((0,a().Wk)(e))return e.id})).filter(y().$K))),[d]),Z=(0,r.useCallback)((e=>e.filter((e=>!C.has(e.id)))),[C]),_=(0,W.jsx)(O().Z,{isInput:!0,style:{padding:8},children:(0,W.jsx)(R().ZP,{customElementAttributes:{"data-testid":"person_property_module__search_input"},textWrapperStyle:{margin:0},inputOuterStyle:{margin:j.isMobile?"0 16px":void 0},focus:!j.isMobile||void 0,focusAfterAnimation:!0,value:t||"",onChange:e=>o(e.target.value),placeholder:S.formatMessage({id:"personPropertySectionValues.search.placeholder",defaultMessage:"Search for a person..."})})}),N=c().s8k.filter((e=>!d.includes(e))),U={key:"shortcuts",items:N.length>0?N.map((e=>({key:`relative_person_shortcut_${e}`,action:()=>{},render:t=>(0,W.jsx)(P().Z,{...t,title:(0,W.jsx)(w().w,{templateVariableType:e}),inline:!0,onClick:()=>{s(e)}})}))):[{key:"no_template_variables",action:()=>{},render:e=>(0,W.jsx)(B().Z,{...e,style:{margin:"2px 0px 2px 6px",fontSize:12},title:(0,W.jsx)(p()._H,{id:"database.personPropertyMenu.noShorcuts.message",defaultMessage:"No shortcuts"})})}],render:e=>(0,W.jsx)(O().Z,{...e,title:"Shortcuts"})},[K,F]=(0,r.useMemo)((()=>{const e=[];let t;if("pending"===M.status||"idle"===M.status)e.push({key:"loading",action:()=>{},render:e=>(0,W.jsx)(B().Z,{...e,title:(0,W.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,W.jsx)(A().Z,{})})})});else if("resolved"===M.status){const r=Z(M.value??[]);t=r.length>0?0:void 0,0===r.length?e.push({key:"no_results",action:()=>{},render:e=>(0,W.jsx)(B().Z,{...e,title:(0,W.jsx)(p()._H,{id:"PersonPropertySectionValues.searchMenu.noResults",defaultMessage:"No results."})})}):e.push(...r.map((e=>({key:e.id,action:()=>{s(e.pointer),o("")},render:t=>(0,W.jsx)(I().Z,{...t,actor:(0,a().dp)(e)})}))))}else"rejected"===M.status?e.push({key:"no_results",action:()=>{},render:e=>(0,W.jsx)(B().Z,{...e,title:(0,W.jsx)(p()._H,{id:"PersonPropertySectionValues.searchMenu.somethingWentWrong",defaultMessage:"Something went wrong."})})}):(0,y().t1)(M);return[e,t]}),[s,Z,o,M]),H=(0,n().VK)((()=>{if(!(0,g().xE)(f))return(0,k().$)(x)}),[f,x]);return(0,W.jsx)(T().Z,{menuType:j.isMobile?b().o.ActionSheet:b().o.Popup,header:_,width:275,maxHeight:400,minWidth:275,children:(0,W.jsx)(V().ZP,{type:V().iW.Vertical,sections:(0,m().oA)([h?U:void 0,{key:"results",items:K.slice(0,20),render:e=>(0,W.jsx)(O().Z,{...e,title:H})}]),initialFocus:F})})}const z=r.memo((function(e){let{personValues:t,onRemove:o,disabled:l,renderOptions:n,propertySchema:s}=e;const i=(0,r.useCallback)((e=>{"person"===s.type&&s.limit||(0,f().ZP)({event:e,context:f().Af.EditorClick,callback:m().ZT})}),[s]);return 0===t.length&&l?(0,W.jsx)("div",{style:{fontSize:14,paddingLeft:6},children:(0,W.jsx)(M().T$,{})}):(0,W.jsx)(W.Fragment,{children:t.map((e=>(0,a().Wk)(e)?(0,W.jsx)(L,{actorPointer:e,handleRemove:o,disabled:l,renderOptions:n,onClick:i},e.id):(0,c().D4X)(e)?(0,W.jsx)(E,{value:e,handleRemove:o,disabled:l},`template_variable_${e}`):void(0,y().t1)(e)))})})),E=r.memo((function(e){let{value:t,handleRemove:r,disabled:l}=e;const[n,a]=(0,j().C)(),i=(0,s().yK)((e=>({actorName:{fontWeight:h().Ue.regular,color:e.blueColor,lineHeight:1.1},uiToken:{display:"flex",gap:10,alignItems:"center",background:a&&!l?e.outlineBlueButtonPressedBackground:e.outlineBlueButtonHoveredBackground,color:e.blueColor,justifyContent:"space-between",position:"relative",padding:"5px 28px 5px 5px",borderRadius:4},avatar:{borderRadius:6,display:"flex",flexWrap:"nowrap",gap:4,fontSize:14,alignItems:"center"},avatarBorder:{padding:8,borderRadius:9999,background:e.accentColors.uiBlue[a&&!l?100:200],color:e.accentColors.uiBlue[600]}})),[l,a]);return(0,W.jsxs)("div",{ref:n,style:i.uiToken,children:[(0,W.jsx)("div",{style:i.avatar,children:(0,W.jsx)("div",{style:i.avatarBorder,children:(0,o(730388).f)({width:14})})}),(0,W.jsx)("div",{style:{display:"flex",gap:4,flexGrow:1},children:(0,W.jsx)(U().Z,{className:"notranslate",style:i.actorName,isMultiline:!0,children:(0,W.jsx)(p()._H,{id:"PropertyModulePersonTemplateVariableValue.templateVariables.text.me",defaultMessage:"Person who{br}duplicated page",values:{br:(0,W.jsx)("br",{})}})})}),a&&!l?(0,W.jsx)(N().Z,{icon:d().U,ariaLabel:"Close",style:{position:"absolute",right:4,top:"50%",transform:"translateY(-50%)",width:20,height:20},iconStyle:{width:11},onClick:()=>r(t)}):null]})})),L=r.memo((function(e){let{actorPointer:t,handleRemove:l,disabled:i,renderOptions:u,onClick:c}=e;const m=(0,p().YB)(),{store:y}=(0,r.useContext)(C().OU),x="large"===u.style?36:24,g="large"===u.style?10:4,f=(0,n().VK)((()=>{const e=null==y?void 0:y.getRecordModel;if(e)return(0,a().Hl)({pointer:t,getRecordModel:e})}),[t,null==y?void 0:y.getRecordModel]),b=null==f?void 0:f.asActor,v=(0,n().VK)((()=>null==b?void 0:b.getDisplayName(m)),[b,m]),[S,k]=(0,j().C)(),w=(0,s().yK)((e=>({actorName:{fontWeight:h().Ue.medium},container:{display:"flex",gap:g,alignItems:"center",justifyContent:"space-between",position:"relative",padding:"5px 28px 5px 5px",borderRadius:4,background:k&&!i?e.buttonHoveredBackground:void 0}})),[g,i,k]),M=(0,n().VK)((()=>null!=b&&b.isUser()?(0,W.jsx)(o(981583).Z,{userValue:b,size:x}):null!=b&&b.isBot()?(0,W.jsx)(o(634760).Z,{botValue:b,size:x}):null),[x,b]);return(0,W.jsxs)("div",{ref:S,onClick:c,style:w.container,children:[M,(0,W.jsx)("div",{style:{display:"flex",gap:4,flexGrow:1,...h().Yu},children:(0,W.jsx)(U().Z,{className:"notranslate",style:w.actorName,showTooltipWhenTruncated:!0,children:v})}),k&&!i?(0,W.jsx)(N().Z,{icon:d().U,ariaLabel:m.formatMessage({id:"PropertyModulePersonValue.removeUser.ariaLabel",defaultMessage:"Remove {name}"},{name:v}),style:{position:"absolute",right:4,top:"50%",transform:"translateY(-50%)",width:20,height:20},iconStyle:{width:11},onClick:()=>l(t)}):null]})}))},857719:(e,t,o)=>{o.d(t,{J7:()=>k,Nx:()=>b,Pb:()=>f,Vc:()=>p,Vw:()=>j,Xg:()=>c,a3:()=>w,uI:()=>M,us:()=>x,w3:()=>m});o(241792);var r=o.n(o(294184)),l=o(667294),n=()=>o(846550),s=()=>o(696459),a=()=>o(802911),i=()=>o(78078),d=()=>o(521635),u=o(785893);const c=l.forwardRef((function(e,t){const{children:l,type:n,gap:s,withBottomPadding:a,style:i,onMouseDown:c,onClick:p,onDoubleClick:m,onContextMenu:y}=e,h=(0,o(309797).n1)(n),x=(0,o(142735).VK)((()=>d().Z.getPanelState("peek").isOpen&&"static_sidebar"===d().Z.getPanelState("peek").displayStyle),[]);return(0,u.jsx)("div",{className:r()("layout",{"layout-wide":"wide"===n,"layout-wide-right-margin-expanded":"wide-right-margin-expanded"===n,"layout-side-peek":"side-peek"===n,"layout-center-peek":"center-peek"===n&&!x,"layout-center-peek-with-layout-panel":"center-peek"===n&&x,"layout-home":"home"===n,"layout-home-phone":"home-phone"===n,"layout-home-redesign-desktop":"home-redesign-desktop"===n,"layout-form":"form"===n,"layout-form-viewer":"form-viewer"===n,"layout-form-viewer-embed":"form-viewer-embed"===n,"layout-phone":"phone"===n,"layout-tablet":"tablet"===n,"layout-template-preview":"template-preview"===n,"layout-chat":"chat"===n,"layout-layout-editor":"layout-editor"===n,"layout-layout-editor-wide":"layout-editor-wide"===n,"layout-layout-editor-narrow":"layout-editor-narrow"===n,"layout-marketplace":"marketplace"===n,"layout-marketplace-mobile":"marketplace-mobile"===n,"layout-team-home":"team-home"===n,"layout-team-home-mobile":"team-home-mobile"===n,"layout-create-post":"create-post"===n}),style:{paddingBottom:a?h:void 0,gap:s,...i},ref:t,onMouseDown:c,onClick:p,onDoubleClick:m,onContextMenu:y,children:l})})),p="layout-content",m="layout-full",y="layout-margin-right",h="layout-nested-grid",x="hide-scrollbar",g="layout-column",f=l.forwardRef((function(e,t){return(0,u.jsx)("div",{className:r()(p,e.className),style:e.style,ref:t,children:e.children})}));function b(e){return(0,u.jsx)("div",{className:m,style:e.style,children:e.children})}function j(e){return(0,u.jsx)("div",{className:y,style:{...e.style,pointerEvents:"none"},children:e.children})}const v=(0,l.forwardRef)((function(e,t){return(0,u.jsx)("div",{className:r()(h,e.className),onClick:e.onClick,style:e.style,role:e.role,id:e.id,"aria-labelledby":e["aria-labelledby"],ref:t,children:e.children})}));function S(e){return"left-aligned"===e?"flex-start":"centered"===e?"center":"right-tabs"===e?"flex-end":void(0,s().t1)(e)}function k(e){const{items:t,style:o,index:r,setIndex:s,title:d}=e,c=(0,l.useRef)([]),p="centered"===o||"right-tabs"===o,m=(0,n().yK)((e=>({icon:{width:16,height:16,fill:"currentColor"},label:{fontSize:14,fontWeight:600},header:"right-tabs"===o?{display:"flex",justifyContent:"space-between",alignItems:"baseline"}:{},tablist:"right-tabs"===o?{display:"flex"}:{},tab:p?{cursor:"pointer",border:"none",padding:"6px 12px",borderRadius:20,color:e.text.secondary,background:"none"}:{cursor:"pointer",border:"none",borderBottom:"2px solid",borderColor:"transparent",padding:"6px 8px 12px",color:e.text.secondary,background:"none"},tabSelected:p?{color:e.text.primary,background:e.tint.regular}:{color:e.text.primary,borderColor:e.regularTextColor}})),[p,o]),y=(0,l.useId)(),h=(0,l.useCallback)((e=>`${y}-tab-${e}`),[y]),x=(0,l.useCallback)((e=>`${y}-tabpanel-${e}`),[y]),g=(0,l.useCallback)((e=>{let o;var l;("ArrowLeft"===e.key?(e.preventDefault(),o=(r+t.length-1)%t.length):"ArrowRight"===e.key&&(e.preventDefault(),o=(r+1)%t.length),void 0!==o)&&(s(o),null===(l=c.current[o])||void 0===l||l.focus())}),[r,s,t.length]);return(0,u.jsx)(a().Z,{name:"PageLayoutTabs",children:(0,u.jsxs)(v,{children:[(0,u.jsx)(f,{children:(0,u.jsxs)("div",{style:m.header,children:["right-tabs"===o&&d,(0,u.jsx)("div",{role:"tablist",style:m.tablist,children:(0,u.jsx)(i().X2,{justifyContent:S(o),children:t.map(((e,t)=>{var o;return(0,u.jsx)("button",{ref:e=>{e&&(c.current[t]=e)},id:h(t),role:"tab","aria-controls":x(t),"aria-selected":t===r,tabIndex:t===r?void 0:-1,onKeyDown:g,style:{...m.tab,...t===r&&m.tabSelected},onClick:e=>{e.stopPropagation(),s(t)},children:(0,u.jsxs)(i().X2,{gap:4,alignItems:"center",children:[null===(o=e.icon)||void 0===o?void 0:o.call(e,m.icon),e.label&&(0,u.jsx)("div",{style:m.label,children:e.label})]})},e.key)}))})})]})}),(0,u.jsx)(v,{id:x(r),role:"tabpanel","aria-labelledby":h(r),children:t[r]?t[r].children:null})]})})}function w(e){return(0,u.jsx)("div",{className:r()(g,e.className),style:{"--min-column-width":e.minWidth?`${e.minWidth}px`:"100%",...e.style},children:e.children})}function M(e){return(0,u.jsxs)(w,{minWidth:e.minWidth,className:e.className,style:e.style,children:[e.left,e.right]})}},291848:(e,t,o)=>{o.d(t,{w:()=>n});var r=()=>o(142735),l=()=>o(26796);function n(){return(0,r().VK)((()=>l().Z.state.isOpen),[])}}}]);