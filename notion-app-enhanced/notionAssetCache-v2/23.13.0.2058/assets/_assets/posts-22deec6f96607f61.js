(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[66287],{942834:(e,t,o)=>{"use strict";o.d(t,{k:()=>a});var n=()=>o(431143),r=()=>o(253502),i=()=>o(636340),s=()=>o(269299);function a(e){const{environment:t,key:o,selectedKey:a,following:l,followSettings:c,navigableBlockId:d,userId:u,spaceId:p,from:m}=e;s().createAndCommit({userAction:"UpdateSidebarFollowControl.setFollowing",environment:e.environment,canUndo:!1,perform:t=>{i().Ue({environment:e.environment,table:n().t0,args:{following:l,followSettings:c,navigableBlockId:d,userId:u,spaceId:p},inMemoryRecordCache:e.environment.defaultRecordCache.inMemoryRecordCache,transaction:t})}}),l?r().RJ(t,{from:"page_updates"}):r().ub(t,{from:"page_updates"}),a!==o&&r().kL(t,{from:m,navigableBlockId:d,oldSetting:a,newSetting:o})}},128178:(e,t,o)=>{"use strict";o.d(t,{I:()=>i,O:()=>r});var n=()=>o(132329);function r(e){const{cursors:t,rootStore:o}=e,r={};for(const n of t)for(const e of n.stack)for(const t of e)r[t.id]=t.index;n().default.setLimitParents(o,r)}function i(e){n().default.removeLimitParents(e.rootStore)}},839821:(e,t,o)=>{"use strict";o.d(t,{j:()=>p});var n=()=>o(685472),r=()=>o(774985),i=()=>o(308186),s=()=>o(421654),a=()=>o(762478),l=()=>o(269299),c=()=>o(109757);const d=1500,u=(0,o(788860).vU)({pageCover:{defaultMessage:"Page cover",id:"pageCover.title"},fileTypeCaption:{defaultMessage:"Images wider than {idealImageWidth} pixels work best.",id:"pageCover.fileType.caption"},uploadFailed:{defaultMessage:"Upload failed",id:"pageCover.errorDialogMessage.uploadFailed"},embedTitle:{defaultMessage:"Link",id:"pageCover.embedType.title"},embedPlaceholder:{defaultMessage:"Paste an image linkâ€¦",id:"pageCover.embedType.placeholder"},embedCaption:{defaultMessage:"Works with any image from the web.",id:"pageCover.embedType.caption"},embedSubmit:{defaultMessage:"Submit",id:"pageCover.embedType.buttonText"}});function p(e){let{environment:t,intl:o,store:n,rect:r}=e;a().$(t,{originGap:3,originRect:r,isSmallWidth:!1,popupWidth:540,maxHeight:485,title:o.formatMessage(u.pageCover),onDelete:()=>{!function(e){let{environment:t,store:o}=e;a().Z(),l().createAndCommit({userAction:"PageCover.handleDelete",environment:t,canUndo:!0,perform:e=>{s().MF({store:o,transaction:e})}})}({environment:t,store:n})},currentTab:"gallery",tabs:[{type:"gallery",onChange:e=>{let{url:o,position:r}=e;g({environment:t,store:n,url:o,position:r})}},{type:"file",fileUpload:!1,imageUpload:!0,videoUpload:!1,caption:o.formatMessage(u.fileTypeCaption,{idealImageWidth:d}),onUpload:e=>{a().Z(),c().cT({environment:t,file:e[0],bucket:"secure",record:n.pointer,onStart:f,onProgress:h,onComplete:e=>{var o;o={environment:t,store:n,url:e},m({...o,position:.5})},onError:()=>{i().UW(o.formatMessage(u.uploadFailed))}})}},{type:"embed",title:o.formatMessage(u.embedTitle),inputPlaceholder:o.formatMessage(u.embedPlaceholder),caption:o.formatMessage(u.embedCaption),buttonText:o.formatMessage(u.embedSubmit),onChange:e=>{var o;o={environment:t,store:n,url:e},m({...o,position:.5}),a().Z()}},{type:"unsplash",onChange:e=>{let{url:o,position:r}=e;g({environment:t,store:n,url:o,position:r})}}]})}async function m(e){const{environment:t,store:o,url:i,position:a}=e,{serverCommitResult:c}=l().createAndCommit({userAction:"PageCover.updatePageCover",environment:t,canUndo:!0,perform:e=>{s().fs({store:o,url:i,position:a||.5,transaction:e})}});await c,r().Z.state.loadingMode===n().NS&&r().Z.setState({loadingMode:n().EP,dataURL:r().Z.state.dataURL,uploadProgress:100})}function g(e){m(e),e.environment.device.isMobile&&a().Z()}function f(e){const{file:t,name:o,size:i}=e;if(a().Z(),r().Z.setState({loadingMode:n().SS,file:t,name:o,size:i}),t instanceof File&&t.type.indexOf("image")>=0){const e=new FileReader;e.onload=e=>{r().Z.state.loadingMode===n().SS&&r().Z.setState({...r().Z.state,uploadProgress:0,loadingMode:n().NS,dataURL:e.target.result})},e.readAsDataURL(t)}}function h(e){const{progressPercent:t}=e;r().Z.state.loadingMode===n().NS&&r().Z.setState({...r().Z.state,uploadProgress:t})}},745096:(e,t,o)=>{"use strict";o.d(t,{Z:()=>N});o(821057),o(267602),o(653476),o(470928),o(749411);var n=o.n(o(467266)),r=o(667294),i=()=>o(504008),s=()=>o(492788),a=()=>o(219727),l=()=>o(142735),c=()=>o(926724),d=()=>o(156642),u=()=>o(565630),p=()=>o(741633),m=()=>o(217465),g=()=>o(81954),f=()=>o(680146),h=()=>o(720866),S=()=>o(513670),v=()=>o(839002),C=()=>o(342792),y=()=>o(696459),b=()=>o(418216),x=()=>o(128178),w=()=>o(853686),k=()=>o(401411),I=()=>o(143346),M=()=>o(203927),j=()=>o(824462);var T=()=>o(423402),P=()=>o(600785),R=()=>o(148976),_=()=>o(111599),V=()=>o(275200),L=()=>o(391995),Z=()=>o(113501),B=()=>o(32969),A=()=>o(658096),K=()=>o(876822),D=()=>o(804217),H=()=>o(749826),U=()=>o(688789),F=()=>o(601952),E=()=>o(842918),O=()=>o(822851);let z=!1;function N(e){return function(e){!function(e){const{pageStore:t,store:o}=e,{initialRequestCompleted:n,error:i}=(0,l().VK)((()=>({initialRequestCompleted:o.state.initialRequestCompleted,error:o.state.error})),[o]);(0,r.useEffect)((()=>{if(n&&!i)return Z().Z.trackPage(t),()=>{Z().Z.untrackPage(t)}}),[n,i,t])}(e);const{isCollectionInPage:t,updateIsCollectionInPage:o}=function(){const e=(0,a().O7)(),[t,o]=(0,r.useState)(!1),n=(0,r.useCallback)((o=>{var n;const{page:r,recordMap:i,inMemoryRecordCache:s}=o;if(t)return!0;const a=null===(n=s.getRecord({pointer:{table:"block",id:r.id,spaceId:r.spaceId},userId:e.currentUser.id}))||void 0===n?void 0:n.value;if(a)for(const e of i.getByTable("block")){var l,c,d;if(("collection_view"===(null===(l=e.value)||void 0===l||null===(l=l.value)||void 0===l?void 0:l.type)||"collection_view_page"===(null===(c=e.value)||void 0===c||null===(c=c.value)||void 0===c?void 0:c.type))&&a.parent_id!==(null===(d=e.value)||void 0===d||null===(d=d.value)||void 0===d?void 0:d.collection_id))return!0}return!1}),[e,t]);return{isCollectionInPage:t,updateIsCollectionInPage:(0,r.useCallback)((e=>{o(n(e))}),[n])}}(),n=(0,r.useRef)(null);(function(e){const{store:t,pageStore:o}=e,n=(0,a().O7)(),{loading:c,endOfResultsReached:d,initialRequestCompleted:u,error:g}=(0,l().VK)((()=>({loading:t.state.loading,endOfResultsReached:t.state.endOfResultsReached,initialRequestCompleted:t.state.initialRequestCompleted,error:t.state.error})),[t]),f=W(e),S=function(e){const{initialChunkSize:t,pageStore:o}=e,n=(0,a().O7)(),i=(0,a().Fy)(),s=q(e),l=J(e),c=W(e);return(0,r.useCallback)((async()=>{const e={page:{id:o.id,spaceId:o.getSpaceId()},limit:t,cursor:{stack:[]},verticalColumns:i.isMobile};try{return{firstPageChunkResult:await s({request:e,mode:"inMemoryOnly",isFirstChunk:!0})}}catch(g){}const r=function(e){const{pageId:t}=e,o=window.__serverSidePrefetchData;if(o&&(delete window.__serverSidePrefetchData,o.pageId===t)){const e=m().RecordMapWithRole.create(o.recordMap);return{source:"server",cursors:o.cursors,recordMap:e}}}({pageId:o.id});if(r)return{firstPageChunkResult:r};const a=$(e),d=a?n.prefetchCache.getPrefetchStatus(a):void 0,u=Boolean(n.defaultRecordCache.persistedRecordCache)&&"success"!==d,f=new AbortController,h=new AbortController,S=[...u?[s({request:e,mode:i.isAndroid?"inMemoryAndDiskCache":"inMemoryAndDiskCacheWithInexactPreload",isFirstChunk:!0,abortSignal:f.signal})]:[],l({request:e,headers:(0,p().Bb)({recordId:o.id,spaceId:o.getSpaceId()}),abortSignal:h.signal})];c.concurrentlyWithAsyncRequests();const v=await Promise.any(S);return"local"===v.source?h.abort():"remote"===v.source||"remoteV2"===v.source||"server"===v.source?f.abort():(0,y().t1)(v),{firstPageChunkResult:v}}),[c,i.isMobile,i.isAndroid,n.defaultRecordCache.persistedRecordCache,n.prefetchCache,t,s,l,o])}(e),C=function(e){const{pageStore:t,incrementChunkSize:o}=e,n=(0,a().Fy)(),i=q(e),s=J(e),l=W(e);return(0,r.useCallback)((async e=>{const{firstPageChunkResult:r}=e,a=e=>(Y(e)?e.cursors:[e.cursor]).filter((e=>e.stack.length>0));let c=a(r);for(;c.length>0;){c=(await v().qd(c,10,(async e=>{const a={page:{id:t.id,spaceId:t.getSpaceId()},limit:o,cursor:e,verticalColumns:n.isMobile};let c;try{c="local"===r.source?await i({request:a,mode:"inMemoryAndDiskCache",isFirstChunk:!1}):await s({request:a,headers:(0,p().Bb)({cellId:"cellId"in e?e.cellId:void 0})})}catch(g){c=Y(r)?{source:"remoteV2",cursors:[],recordMap:m().RecordMapWithRole.create({})}:{source:r.source,cursor:{stack:[]},recordMap:m().RecordMapWithRole.create({})}}return l.afterEachChunk(c),c}))).flatMap((e=>a(e)))}}),[l,n.isMobile,o,i,s,t])}(e);if(c||d||u&&g)return;async function x(){let e;t.setState({...t.state,loading:!0}),E().Z.markRequestFirstChunkStart(),F().default.state.initialRenderCompleted||b().setSubMetric({name:"render_end_to_await_page_chunk_start",startTime:e=>{var t;return null===(t=e.render_start_to_render_end)||void 0===t?void 0:t.endTime},endTime:performance.now()});try{e=(await S()).firstPageChunkResult}catch(g){return void I(g)}if(!F().default.state.initialRenderCompleted){b().setSubMetric({name:"await_page_chunk_start_to_await_page_chunk_end",startTime:e=>{var t;return null===(t=e.render_end_to_await_page_chunk_start)||void 0===t?void 0:t.endTime},endTime:performance.now()});const t=n.prefetchCache;b().updateMetricData({page_chunk_source:e.source,page_chunk_prefetch:"server"===e.source?{type:"hit-server"}:t.getPrefetchAnalytic(`loadCachedPageChunk(${o.id})`)})}E().Z.markRequestFirstChunkEnd(e.source),w(),H().default.checkGate({gateName:"load_page_flush"})?await s().default.flush():await s().default.afterNextFlush(),f.afterEachChunk(e);const r=C({firstPageChunkResult:e});try{await r}catch(g){return void I(g)}k(),f.afterAllChunks()}function w(){t.setState({...t.state,initialRequestCompleted:!0})}function k(){t.setState({initialRequestCompleted:!0,ready:!0,loading:!1,endOfResultsReached:!0,error:void 0})}function I(e){t.setState({ready:!0,initialRequestCompleted:!0,loading:!1,endOfResultsReached:!1,error:(0,h().t)(e)})}i().Z.withListenerIgnored((()=>{x()}))})({...e,updateIsCollectionInPage:o,scrollerRef:n}),function(e){const{store:t,scrollToBlockIds:o,onReady:n,onDone:i,pageStore:a}=e;(0,r.useEffect)((()=>{let e;const r=S().IH((()=>{o&&n&&(e=async function(e,t){e&&await M().Nz(t,e)}(o,a))})),l=S().IH((()=>{n&&s().default.afterNextFlush((()=>{s().default.afterNextFlush((async()=>{if(e){const t=performance.now();await(0,v().aM)(e,5e3),F().default.state.initialRenderCompleted||b().updateMetricData({scroll_to_blocks_wait_time:performance.now()-t})}n()}))}))})),c=S().IH((()=>{null==i||i()})),d=()=>{t.state.loading&&r(),t.state.ready&&l(),(t.state.endOfResultsReached||t.state.error)&&c()};return t.addListener(d),()=>{t.removeListener(d)}}),[i,n,a,o,t])}(e),function(e){const{store:t}=e,o=(0,l().VK)((()=>t.state.error),[t]),n=(0,l().VK)((()=>D().default.state.online),[]),i=(0,u().D9)(n),s=void 0!==i&&(n&&!i);(0,r.useEffect)((()=>{s&&o&&t.reset()}),[s,t,o])}(e),function(){const e=(0,a().O7)(),t=(0,l().VK)((()=>{var e;return null===(e=K().default.state.mainEditorCurrentBlockStore)||void 0===e?void 0:e.id}),[]),o=(0,l().VK)((()=>K().default.state.currentUserRootStore),[]),n=(0,l().VK)((()=>D().default.state.online),[]),i=(0,u().D9)(n),s=void 0!==i&&(n&&!i);(0,r.useEffect)((()=>{async function n(){const{route:n}=e.RouterStore.state,r=await k().XB({environment:e,request:{...n,type:"block-space",blockId:t,spaceId:"spaceId"in n?n.spaceId:void 0,slug:"slug"in n?n.slug:void 0,spaceDomain:"spaceDomain"in n?n.spaceDomain:void 0,requestedOnPublicDomain:"requestedOnPublicDomain"in n?n.requestedOnPublicDomain:void 0,isBot:!1}});if("failed"===r.type)return;const i=r.data;if(A().default.setState({publicPageData:i}),i.spaceId&&o){const e=o.getSpaceViewStores().find((e=>e.getSpaceId()===i.spaceId));e&&K().default.setState({...K().default.state,currentSpaceStore:e.getSpaceStore(),currentSpaceViewStore:e})}}s&&t&&n()}),[s,e,t,o])}();const{store:c}=e;return{...(0,l().VK)((()=>({ready:c.state.ready,error:c.state.error,initialRequestCompleted:c.state.initialRequestCompleted,endOfResultsReached:c.state.endOfResultsReached})),[c]),isCollectionInPage:t,scrollerRef:n}}({...e,store:(0,l().qz)(e.store,O().Z)})}function J(e){const{pageStore:t}=e,o=(0,a().O7)();return(0,r.useCallback)((async e=>{const{request:n,headers:r,abortSignal:i}=e,s=_().e9(t),a=await _().HI({environment:o,request:{...n,...s?{omitExistingRecordVersions:s}:{}},abortSignal:i,prefetchCacheKey:$(n),headers:r});if(null!=i&&i.aborted)throw new Error("Abort signal received");if("success"===a.type){const e=m().RecordMapWithRole.create(a.data.recordMap),t=a.data;return"cursors"in t?{recordMap:e,cursors:t.cursors,source:"remoteV2"}:{recordMap:e,cursor:t.cursor,source:"remote"}}throw f().rn(a.error,{from:"useLoadRemotePageChunk",type:"pageLoadingError",data:{pageId:t.id,miscDataToConvertToString:{offline:a.offline,status:a.status,body:a.body}}}),new Error("No successful load result found.")}),[o,t])}function q(e){const{pageStore:t}=e,o=(0,a().O7)();return(0,r.useCallback)((async e=>{const{request:n,mode:r,isFirstChunk:i,abortSignal:s}=e,a=await L().A.measure("localLoadPageChunk",n.page.id,(()=>_().fV({mode:r,environment:o,request:n,isFirstChunk:i,abortSignal:s})));if(null!=s&&s.aborted)throw new Error("Abort signal received");const l=m().RecordMapWithRole.create(a.recordMap);return I().fL({environment:o,inMemoryRecordCache:t.inMemoryRecordCache,recordMap:l,debugSource:"PageLoadingContainer.performLocalLoadPageChunk"}),{source:"local",cursor:a.cursor,recordMap:l}}),[o,t])}function W(e){const{pageStore:t,store:o,scrollToDiscussionId:n,scrollerRef:i,scrollToPosition:l,scrollToBlockIds:u,updateIsCollectionInPage:p,pageVisitStore:m,disableSideEffects:g}=e,f=(0,a().O7)(),h=(0,r.useCallback)((()=>{g||(H().default.checkGate({gateName:"fetch_backlinks_after_page_load"})||G({environment:f,blockPointer:t.pointer}),w().Ri(f,{blockStore:t,pageVisitStore:m,incremental:!1}).catch((()=>{})))}),[g,f,t,m]),v=(0,r.useCallback)((e=>{if(g)return;const r=Y(e)?e.cursors:[e.cursor];var a,c;0===(a=r).length||1===a.length&&(!(c=a[0])||0===c.stack.length)||s().default.afterNextFlush((()=>{if(o.state.ready)return;const e=!n||(t=n,Boolean((0,P()._)({discussionId:t})));var t;const r=!0===function(e){const{scrollerRef:t,scrollToPosition:o}=e;if(null===t.current)return;const n=(0,V().VW)(t.current);return!n||!S().hj(o)||o<=n.scrollHeight-n.clientHeight}({scrollerRef:i,scrollToPosition:l})&&function(e){return!e||B().C.findSelectablesFromIds(e).length===e.length}(u)&&e;r&&o.setState({...o.state,ready:!0})})),p({page:{id:t.id,spaceId:t.getSpaceId()},recordMap:e.recordMap,inMemoryRecordCache:t.inMemoryRecordCache}),f.currentUser.isLoggedIn()&&(U().default.addFromRecordMapWithRole(e.recordMap),U().default.isEmpty()||T().dY({environment:f})),x().O({rootStore:t,cursors:r})}),[g,f,t,u,n,l,i,o,p]),C=(0,r.useCallback)((()=>{if(!g&&(H().default.checkGate({gateName:"fetch_backlinks_after_page_load"})&&"personal_home_page"!==t.getType()&&G({environment:f,blockPointer:t.pointer}),f.currentUser.isLoggedIn())){const e=t.getFormat(),o=t.getType();(0,R().K6)()&&o&&(0,d().dM)(o)&&((null==e?void 0:e.app_config_uri)===c().NB||(null==e?void 0:e.app_config_uri)===c().Aw)&&async function(e,t){await j().callApi({eventName:"resyncJiraCollection",environment:e,data:{pagePointer:t}})}(f,t.pointer)}}),[g,f,t]);return(0,r.useMemo)((()=>({concurrentlyWithAsyncRequests:h,afterEachChunk:v,afterAllChunks:C})),[h,v,C])}async function G(e){const{blockPointer:t,environment:o}=e;o.LocalBacklinkStore.initializeBacklinks({block:{id:t.id,spaceId:(0,g().J)(t.spaceId)},currentUserId:o.currentUser.id,environment:o});try{await o.LocalBacklinkStore.awaitLoaded(t.id)}catch(n){}}function Y(e){return"remoteV2"===e.source||"server"===e.source}function $(e){if(function(e){return!e.cursor||0===e.cursor.stack.length}(e))return`loadCachedPageChunk(${e.page.id})`;{const t=(0,C().Ul)(n()(e.cursor));return`loadCachedPageChunk(${e.page.id})-${t}`}}(0,o(947115).exposeDebugValue)("toggleLogLocalPageLoadFailures",(()=>{z=!z,console.info(z?"Local page load error logging enabled":"Local page load error logging disabled")}))},662753:(e,t,o)=>{"use strict";o.d(t,{Z:()=>p});o(267602),o(653476);var n=o(667294),r=()=>o(492788),i=()=>o(142735),s=()=>o(336860),a=()=>o(840521),l=()=>o(513670),c=()=>o(543172),d=(o(122556),o(582845),o(250570),o(533019),o(721473),o(788208),o(22624),()=>o(608352));function u(e){const{reducerId:t,instanceId:o,reducer:n,collectionContextStore:r,groupsPointer:i}=e,s=r.reducersStore.state,a=s[t];let c,u;if(i&&i.length>0&&(c=(0,d().KW)(i)),n){if(u={instanceIds:l().jj([...(null==a?void 0:a.instanceIds)||[],o]),reducer:n},c){r.reducerDependencies.has(c)||r.reducerDependencies.set(c,new Set);const e=r.reducerDependencies.get(c);null==e||e.add(t)}}else{if(c){const e=r.reducerDependencies.get(c);e&&(e.delete(t),0===e.size&&r.reducerDependencies.delete(c))}const e=l().zu((null==a?void 0:a.instanceIds)||[],o);u=a&&e.length>0?{instanceIds:e,reducer:a.reducer}:void 0}l().Xy(a,u)||r.reducersStore.setState({...s,[t]:u})}function p(e){const{id:t,reducer:o,collectionContextStore:d,groupsPointer:p,debounceWait:m}=e,g=(0,i().VK)((()=>p),[p],{useDeepEqual:!0}),f=(0,i().VK)((()=>o),[o],{useDeepEqual:!0}),h=(0,i().VK)((()=>d.collectionViewStore()),[d]),S=(0,i().VK)((()=>d.normalizedFormatStore.state.collection_pointer),[d.normalizedFormatStore]),v=(0,i().VK)((()=>{var e;return null==h||null===(e=h.getFormatStore())||void 0===e?void 0:e.getKeyStore("collection_view_source").getValue()}),[h]),C=(0,n.useRef)(!1),y=(0,a().g)(),[b,x]=(0,n.useReducer)(((e,t)=>l().Xy(e,t)?e:t),void 0),w=(0,n.useCallback)((()=>{const e=d.localResultStore.state,o=d.remoteResultStore.state,n=e&&"reducer"===e.type?e.reducerResults[t]:void 0,r=o&&"reducer"===o.type?o.reducerResults[t]:void 0;return function(e){const{reducerId:t,localReducerResult:o,remoteReducerResult:n,collectionContextStore:r,reducer:i}=e,a=r.reducersStore.state,c=r.remoteResultStore.state,d=r.isClientModeEnabledStore.state;if(d)return o;if("aggregation"===i.type||"groups"===i.type){const e=r.isCreatingNewChartCollectionStore.state,n=null==c?void 0:c.reducerResults[t],s=r.wasCreatedThisSessionStore.state;if(e&&s){const e=Boolean(n&&"groups"===n.type&&("v2"===n.version?n.hasMore:0!==n.total)),t=Boolean(n&&"aggregation"===n.type&&"number"===n.aggregationResult.type&&0!==n.aggregationResult.value);return(e||t)&&r.isCreatingNewChartCollectionStore.setState(!1),o}if(n)return n;const d=Boolean(c&&"reducer"===c.type&&l().sE(c.reducerResults,((e,t)=>{const o=a[t];if(!o)return!1;const n="groups"===i.type?void 0:i.filter;return Boolean("results"===o.reducer.type&&!o.reducer.searchQuery&&"results"===e.type&&e.hasMore&&l().Xy(n,o.reducer.filter))})));return d?o:n}if("results"===i.type){var u;const e=r.wasCreatedThisSessionStore.state,i=Boolean(c&&"reducer"===c.type&&c.reducerResults[t]),a=null===(u=r.collectionViewStore())||void 0===u?void 0:u.getCollectionSource(),l=(0,s().WW)(a)||(0,s().v7)(a);if((i||e)&&!l&&o&&"results"===o.type){return{...o,hasMore:n&&"results"===n.type?n.hasMore:o.hasMore}}return n}}({reducerId:t,collectionContextStore:d,reducer:f,localReducerResult:n,remoteReducerResult:r})}),[d,f,t]),k=(0,n.useCallback)((()=>{C.current=!1,y.current||x(w())}),[w,y]),I=(0,n.useCallback)((()=>{C.current||(C.current=!0,r().default.afterNextFlush(k))}),[k]),[M]=(0,n.useState)((()=>(0,c().ZP)()));return(0,n.useEffect)((()=>{const e=m?(0,l().Ds)(I,m,{leading:!0}):I;return d.remoteResultStore.addListener(I),d.localResultStore.addListener(e),()=>{d.remoteResultStore.removeListener(I),d.localResultStore.removeListener(e)}}),[d,I,m]),(0,n.useEffect)((()=>(u({reducerId:t,instanceId:M,reducer:f,collectionContextStore:d,groupsPointer:g}),()=>{u({reducerId:t,instanceId:M,reducer:void 0,collectionContextStore:d,groupsPointer:g})})),[d,h,S,v,g,f,t,M]),(0,n.useEffect)((()=>{I()}),[]),(0,n.useEffect)((()=>(d.timingTracker.mountCollectionReducerRequest(t,f.type),()=>{d.timingTracker.unmountCollectionReducerRequest(t)})),[d,t,f]),b}},197950:(e,t,o)=>{"use strict";o.d(t,{q:()=>k});o(667294);var n=()=>o(142735),r=()=>o(846550),i=()=>o(135796),s=o(785893);const a=(0,o(827282).IU)("suggestionExtraSmall",{viewBox:"0 0 10 9",svg:(0,s.jsxs)("g",{children:[(0,s.jsx)("path",{d:"M5.175 4.745l-.906.339c-.07.027-.14.012-.205-.045-.064-.057-.08-.127-.048-.212l.342-.899L7.492.798l.814.813-3.131 3.134zm3.4-3.397L7.76.53l.359-.352A.617.617 0 018.48.005a.364.364 0 01.33.105l.14.14c.1.105.145.226.134.365a.596.596 0 01-.168.366l-.341.366z"}),(0,s.jsx)("path",{d:"M4.91 1.962L5.969.906H2.704c-.354 0-.66.072-.92.216-.26.14-.46.341-.601.601-.142.26-.212.566-.212.92v2.754c0 .354.074.66.222.92.148.26.345.461.591.605.249.141.524.212.827.212h.25v.694c0 .214.056.382.167.506a.603.603 0 00.465.184.84.84 0 00.383-.092c.125-.06.27-.16.434-.301l1.138-.991h1.846c.353 0 .66-.07.92-.212.26-.144.46-.345.6-.605a1.89 1.89 0 00.213-.92V2.643c0-.114-.007-.223-.022-.327l-.433.443-.601.602V5.32c0 .253-.064.442-.192.567-.125.126-.314.188-.567.188h-1.85a.757.757 0 00-.307.051.962.962 0 00-.256.192L3.743 7.349v-.926c0-.125-.031-.214-.093-.267a.372.372 0 00-.256-.082h-.608c-.251 0-.44-.062-.568-.188-.125-.125-.188-.314-.188-.567V2.72c0-.253.063-.442.188-.567.128-.128.317-.192.568-.192H4.91z"})]})});var l=()=>o(161002),c=()=>o(788860),d=()=>o(707513),u=()=>o(729775),p=()=>o(946563),m=()=>o(654133),g=()=>o(67961),f=()=>o(46335),h=()=>o(193739),S=()=>o(286338),v=()=>o(176691),C=()=>o(998901),y=()=>o(826955),b=()=>o(383694),x=()=>o(444851),w=()=>o(472675);function k(e){let{lastEditedTime:t,createdTime:o,discussionLocation:i,isResolved:f,isSuggestionComment:v,teamStore:k,authorStore:j}=e;const T=(0,c().YB)(),P=(0,n().VK)((()=>(0,S().y3)()),[]),R=(0,n().VK)((()=>j.getDisplayName(T)),[j,T]),_=(0,n().VK)((()=>null==k?void 0:k.getName()),[k]),V=x().IX,L=function(e){let{discussionLocation:t,avatarSize:o}=e;return(0,r().yK)((e=>({avatar:{marginTop:0,marginRight:2,userSelect:"none"},avatarSuggestionBadgeWrapper:{position:"absolute",right:-2,bottom:-4},avatarSuggestionBadge:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:100,background:"light"===e.mode?"#fff":"#000",width:16,height:16,border:`1px solid ${e.accentColors.uiBlue[200]}`,fill:e.accentColors.uiBlue[600]},avatarSuggestionBadgeBacking:{position:"absolute",width:"100%",height:"100%",borderRadius:100,background:e.accentColors.uiBlue[100]},in:{color:e.text.secondary},timestamp:{flexBasis:"comment_unfurl"!==t?140:void 0,whiteSpace:"normal",flexGrow:"updates_sidebar"===t||"comment_unfurl"===t?void 0:1,display:"inline",color:e.text.tertiary},userRow:{display:"flex",flexDirection:"row",alignItems:"center",userSelect:"none",fontSize:14,gap:6},user:{display:"flex",alignItems:"center",gap:6},placeholder:{height:8,width:81,borderRadius:6,background:e.lightDividerColor},commentAuthorPlaceholder:{marginRight:2,marginTop:"comment_unfurl"===t?14:2,height:o,width:o,borderRadius:20,flexShrink:0},teamIconAndName:{display:"flex",alignItems:"center",gap:5},linkBox:{borderRadius:4,padding:4,marginInline:-4},author:{fontWeight:d().Ue.medium,whiteSpace:"normal",flexShrink:0},teamName:{fontWeight:d().Ue.medium,lineHeight:1.3,borderBottom:`1px solid ${e.darkDividerColor}`}})),[o,t])}({discussionLocation:i,avatarSize:V});if(!o)return null;const Z=t&&t>o+5e3;return(0,s.jsxs)("div",{style:L.userRow,children:[(0,s.jsx)(m().Z,{disableTooltip:!P,renderTooltip:()=>j&&j instanceof y().U6?(0,s.jsx)(h().J,{userStore:j}):null,placement:C().Placement.Top,originGap:20,alignment:C().Alignment.Start,render:e=>(0,s.jsxs)("div",{...e,style:L.user,children:[v?(0,s.jsxs)("div",{style:{position:"relative"},children:[(0,s.jsx)(w().S,{authorStore:j,avatarSize:V,avatarStyle:L.avatar,placeholderStyle:L.commentAuthorPlaceholder}),(0,s.jsx)("div",{style:L.avatarSuggestionBadgeWrapper,children:(0,s.jsxs)("div",{style:L.avatarSuggestionBadge,children:[a({height:8.5}),(0,s.jsx)("div",{style:L.avatarSuggestionBadgeBacking})]})})]}):(0,s.jsx)(w().S,{hasTooltip:!P,authorStore:j,avatarSize:V,avatarStyle:L.avatar,placeholderStyle:L.commentAuthorPlaceholder}),(0,s.jsx)("div",{style:L.author,children:R||(0,s.jsx)("span",{style:L.placeholder})})]}),allowHover:!0,closeDelay:800,isLightBackground:!0}),k&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{style:L.in,children:(0,s.jsx)(c()._H,{id:"posts.post.inPreposition",defaultMessage:" in "})}),(0,s.jsx)(u().Z,{style:L.linkBox,href:(0,l().y)({teamId:k.id}),children:(0,s.jsxs)("div",{style:L.teamIconAndName,children:[(0,s.jsx)(b().p,{size:14,store:k,disabled:!1}),(0,s.jsx)("span",{style:L.teamName,children:_})]})})]}),(0,s.jsx)(g().Z,{isSmall:!0,isSecondaryColor:!0,isMultiline:!0,style:L.timestamp,children:Z?(0,s.jsx)(M,{createdTime:o,lastEditedTime:t}):(0,s.jsx)(I,{createdTime:o})}),"comment_unfurl"===i&&f&&(0,s.jsx)("div",{style:{display:"inline-flex"},children:(0,s.jsx)(p().Z,{children:(0,s.jsx)(c()._H,{id:"comment.unfurl.resolvedStatus",defaultMessage:"Resolved"})})})]})}function I(e){const{createdTime:t}=e;return(0,s.jsx)(f().Z,{text:(0,v().IS)(t,{useUltraCompactFormat:!0}),tooltipText:(0,v().uy)(t),icon:i().C})}function M(e){const{createdTime:t,lastEditedTime:o}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f().Z,{text:(0,v().IS)(t,{useUltraCompactFormat:!0}),tooltipText:(0,s.jsx)(c()._H,{defaultMessage:"Created {absoluteCreatedTime}",id:"comment.createdAtTime.label",values:{absoluteCreatedTime:(0,v().uy)(t)}}),icon:i().C})," ",(0,s.jsx)(f().Z,{text:(0,s.jsx)(c()._H,{defaultMessage:"(edited)",id:"comment.editedAtIndicator"}),tooltipText:(0,s.jsx)(c()._H,{defaultMessage:"Last edited {absoluteLastEditedTime}",id:"comment.editedAtTime.label",values:{absoluteLastEditedTime:(0,v().uy)(o)}}),icon:i().C})]})}},472675:(e,t,o)=>{"use strict";o.d(t,{S:()=>m});o(667294);var n=()=>o(142735),r=()=>o(846550),i=()=>o(934158),s=()=>o(696056),a=()=>o(989478),l=()=>o(696459),c=()=>o(634760),d=()=>o(981583),u=()=>o(871953),p=o(785893);function m(e){let{authorStore:t,avatarSize:o,avatarStyle:m,hasTooltip:g=!0}=e;const f=(0,n().VK)((()=>(0,u().TL)(t)),[t]),h=(0,r().yK)((e=>({placeholder:{width:o,height:o,background:e.lightDividerColor,borderRadius:o/2,flexShrink:0,...m}})),[o,m]);return f.asActor?f.table===a().KJ?(0,p.jsx)(d().Z,{hasTooltip:g,userValue:f.asActor,style:m,size:o,avatarShouldShowShadow:!1}):f.table===s().cZ?(0,p.jsx)(c().Z,{botValue:f,size:o,style:m}):f.table===i().y0?(0,p.jsx)("div",{style:h.placeholder}):void(0,l().t1)(f):(0,p.jsx)("div",{style:h.placeholder})}},83447:(e,t,o)=>{"use strict";o.d(t,{Z:()=>l});o(667294);var n=()=>o(846550),r=()=>o(721543),i=()=>o(788860),s=()=>o(654133),a=o(785893);function l(e){const{onClick:t}=e,o=(0,n().yK)((e=>({moreCommentsWrapper:{position:"absolute",display:"flex",justifyContent:"center",alignItems:"flex-start",zIndex:1,left:0,right:0,height:30,background:`linear-gradient(to bottom, ${e.contentBackgroundTransparent} 0px, ${e.selectedMarginDiscussionBackground} 30px`,marginTop:-28},tooltip:{...(0,s().J)(e,!1),cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",marginTop:-4,borderRadius:6,padding:"4px 10px 4px 8px"}})),[]),l=(0,n().Fg)();return(0,a.jsx)("div",{style:o.moreCommentsWrapper,children:(0,a.jsxs)("div",{style:o.tooltip,onClick:t,children:[(0,a.jsx)("div",{style:{marginRight:5},children:(0,r().K)({fill:l.regularInvertedTextColor,height:12,width:12})}),(0,a.jsx)(i()._H,{defaultMessage:"See more",id:"discussion.moreMessageTooltip"})]})})}},444851:(e,t,o)=>{"use strict";o.d(t,{En:()=>n,IX:()=>s,Ky:()=>l,_e:()=>a,aH:()=>d,bd:()=>u,fT:()=>c,n4:()=>m,rb:()=>i,tD:()=>r,vi:()=>g,yx:()=>p});const n=8,r=10,i=8,s=24,a=6,l=1.5,c=(s-l)/2,d=s+a,u=`calc(100% + ${i+(n-a)-d}px)`,p=s+8,m=-16;function g(e){return"margin_comments"===e?12:"comment_unfurl"===e?14:16}},775316:(e,t,o)=>{"use strict";o.d(t,{J:()=>g,ZP:()=>f});o(667294);var n=()=>o(142735),r=()=>o(506347),i=()=>o(788860),s=()=>o(491927),a=()=>o(384667),l=()=>o(47443),c=()=>o(879952),d=()=>o(718959),u=()=>o(949842),p=()=>o(154186),m=o(785893);const g=33;const f=function(e){const{style:t,iconStyle:g,store:f,format:S,collectionContextStore:v,groupsPointer:C,incrementLimitsInRelatedGroups:y,isFullScreen:b}=e,x=(0,o(219727).O7)(),w=(0,n().VK)((()=>v.groupsStore.getGroupState(C)),[v,C]),k=(0,n().VK)((()=>(0,o(57649).$t)({collectionContextStore:v,groupsPointer:C})),[v,C]),I=(0,n().Kw)(v.isInHomeWidgetStore),M=(0,o(846550).yK)((e=>({homeContainer:{display:"flex",alignItems:"center",justifyContent:"center"},button:{display:"flex",alignItems:"center",justifyContent:"center",height:30,borderRadius:6,whiteSpace:"break-spaces",fontSize:14,...I?{textAlign:"center",width:"fit-content",marginLeft:12,marginBottom:0,padding:4}:{},...t},loadingContainer:{marginTop:1,marginLeft:8,marginRight:8},icon:{...h(e),...g},text:{color:e.lightTextColor,width:"100%",fontSize:I?14:void 0},hoveredStyle:{...k?{background:e.whiteButtonBackground}:{}}})),[I,t,k,g]),j=(0,n().VK)((()=>f.canEdit()),[f]);return w?I?(0,m.jsx)("div",{style:M.homeContainer,children:(0,m.jsx)(p().Z,{onClick:e=>function(e,t,o){const n=e.metaKey||e.ctrlKey?"tab":void 0,i=(0,d().qG)(o.id)?r().tY.PersonalHomeTileTasks:r().tY.PersonalHomeTileCustomDb;l()._c({environment:t,store:o,pageVisitSource:i,openInNew:n})}(e,x,f),onMouseDown:u().$0,style:M.button,children:(0,m.jsx)("div",{style:M.text,children:(0,m.jsx)(i()._H,{id:"database.viewAllButtonTitle",defaultMessage:"View all"})})})}):(0,m.jsxs)(p().Z,{onClick:e=>function(e,t,o,n,r,i){const l=o.groupsStore.getGroupState(n);if(!l)return;const d=l.reducerResultStore.state;(0,u().Wi)(e),c().ZH({environment:t}),d&&a().ID({collectionContextStore:o,environment:t,incrementLimitArgs:{isFullScreen:i,currentResultCount:d.blockIds.length,groupsPointer:l.groupsPointer,incrementLimitsInRelatedGroups:r}});s().uD(t)}(e,x,v,C,y,b),onMouseDown:u().$0,disabled:k,hoveredStyle:M.hoveredStyle,style:M.button,children:[(0,o(682890).M)(M.icon),(0,m.jsx)("div",{style:M.text,children:(0,m.jsx)(i()._H,{id:"database.loadMoreButtonTitle",defaultMessage:"Load more"})}),k?(0,m.jsx)("div",{style:M.loadingContainer,children:(0,m.jsx)(o(312578).Z,{size:"sm"})}):j&&(0,m.jsx)(o(269932).Z,{collectionContextStore:v,format:S})]}):null};function h(e){return{width:14,height:14,marginLeft:4,marginRight:6,fill:e.lightIconColor}}},269932:(e,t,o)=>{"use strict";o.d(t,{Z:()=>S});o(667294);var n=()=>o(219727),r=()=>o(109477),i=()=>o(250303),s=()=>o(421654),a=()=>o(269299),l=()=>o(448419),c=()=>o(967092),d=(o(241792),()=>o(788860)),u=()=>o(513670),p=()=>o(352230),m=()=>o(255577),g=o(785893);const f=(0,d().XN)((function(e){const{limit:t}=e;return(0,g.jsx)(d()._H,{defaultMessage:"{limit} pages",values:{limit:t.limit},id:"database.FirstLoadLimitSelectOption.limitPagesTitle"})}));const h=(0,d().XN)((function(e){const t=(0,n().O7)(),{device:i}=t,{currentLimit:s,onAccept:a,onClose:l,showTitle:c}=e,h=[{key:0,render:e=>(0,g.jsx)(o(388284).Z,{enableActionSheetTitle:!0,title:c&&(0,g.jsx)(d()._H,{defaultMessage:"Show on first load",id:"database.firstLoadLimitSelectMenu.firstLoadLimitSetting"}),...e}),items:u().oA(r().jk.map(((e,t)=>{const n={key:t,render:t=>(0,g.jsx)(o(827973).Z,{...t,disabled:!1,title:(0,g.jsx)(f,{limit:e}),checkState:u().Xy(s,e)}),action:()=>a(e)};return n})))}];let S;return S=i.isMobile?{menuType:p().o.ActionSheet}:{menuType:p().o.Popup,width:200},(0,g.jsx)(o(198829).Z,{...S,children:(0,g.jsx)(m().ZP,{type:m().iW.Vertical,sections:h,onAccept:l,initialFocus:void 0})})}));const S=function(e){let{format:t,collectionContextStore:r}=e;const i=(0,n().O7)(),{device:s}=i;return(0,g.jsx)(l().ZP,{popupType:s.isMobile?c().kQ.SlideUp:c().kQ.Popup,renderOrigin:e=>(0,g.jsx)(o(1910).Z,{icon:o(641772).o,style:{marginLeft:4,marginRight:4},...e}),alignmentToOrigin:l().vR.End,placementToOrigin:l().pO.Bottom,originGap:8,render:e=>(0,g.jsx)(C,{parent:e,format:t,collectionContextStore:r})})};function v(e){return(0,r().rx)(e.inline_collection_first_load_limit,Boolean(e.collection_group_by))}function C(e){let{parent:t,format:o,collectionContextStore:r}=e;const l=(0,n().O7)();return(0,g.jsx)(h,{currentLimit:v(o),onAccept:e=>function(e,t,o){const n=t.collectionViewStore();if(!n)return;n.getType()&&(a().createAndCommit({userAction:"FirstLoadLimitActionButton.handleFirstLoadLimitAccept",environment:o,canUndo:!0,perform:t=>{s().FH({stores:[n],update:{inline_collection_first_load_limit:e},transaction:t})}}),t.groupsStore.resetAllLimits(),i().wd({environment:o,collectionContextStore:t,action:"set_first_load_limit"}))}(e,r,l),onClose:t.close,showTitle:!0})}},46335:(e,t,o)=>{"use strict";o.d(t,{Z:()=>l});o(667294);var n=()=>o(846550),r=()=>o(707513),i=()=>o(998901),s=()=>o(654133),a=o(785893);function l(e){let{text:t,tooltipText:o,icon:l}=e;const c=(0,n().yK)((e=>({icon:{height:"1em",width:"1em",marginRight:"0.25em",fill:e.mediumIconColor,marginBottom:"0.1em"},tooltip:{background:e.contentBackground,boxShadow:e.shadowSM},container:{display:"flex",alignItems:"center",fontWeight:r().Ue.regular,color:e.mediumTextColor,fontSize:r().JB.UISmall.desktop,textAlign:"center"},text:{display:"inline"}})),[]);return(0,a.jsx)(s().Z,{style:c.tooltip,render:e=>(0,a.jsx)("div",{style:c.text,...e,children:t}),renderTooltip:()=>(0,a.jsxs)("div",{style:c.container,children:[l(c.icon),(0,a.jsx)("div",{children:o})]}),alignment:i().Alignment.Start,placement:i().Placement.Bottom})}},193739:(e,t,o)=>{"use strict";o.d(t,{J:()=>k});o(241792),o(667294);var n=()=>o(142735),r=()=>o(846550),i=()=>o(135796),s=()=>o(890598),a=()=>o(995867),l=()=>o(578292),c=()=>o(788860),d=()=>o(696459),u=()=>o(707513),p=()=>o(286338),m=()=>o(219727),g=()=>o(801812),f=()=>o(824462),h=()=>o(876822);var S=()=>o(591914),v=()=>o(668001),C=()=>o(661297),y=()=>o(67961),b=()=>o(981583),x=()=>o(251932),w=o(785893);function k(e){let{userStore:t}=e;const o=(0,c().YB)(),d=(0,n().VK)((()=>{var e;const o=h().default.state.currentSpaceStore;if(o)return null===(e=(0,S().VK)(o,t.id))||void 0===e?void 0:e.getMembershipType()}),[t]),k=(0,n().VK)((()=>(0,p().y3)()),[]),j=(0,n().VK)((()=>t.id),[t]),{value:T,isLoading:P}=function(e){let{userId:t}=e;const o=(0,m().O7)(),r=(0,n().VK)((()=>{var e;return null===(e=h().default.state.currentSpaceStore)||void 0===e?void 0:e.id}),[]),[{status:i,error:s,value:a}]=(0,g().r5)((async()=>{if(!r)return;const e=await f().callApi({eventName:"getExtendedUserProfile",environment:o,data:{userId:t,spaceId:r}});if("failed"===e.type)throw e.error;if(e){const t=e.data.permissionGroups??[];return{timeZone:e.data.timeZone,permissionGroups:t}}}),[o,t,r]);return void 0===r?{isLoading:!0,error:void 0,value:void 0}:{isLoading:"pending"===i,error:s,value:a}}({userId:j}),{timeZone:R,permissionGroups:_}=(0,n().VK)((()=>T??{timeZone:void 0,permissionGroups:[]}),[T]),V=function(e){return e.sort(((e,t)=>e.memberCount-t.memberCount)).map((e=>e.name))}(_),{name:L,email:Z}=(0,n().VK)((()=>({name:t.getFullName(o),email:t.getEmail()})),[t,o]),B=(0,n().VK)((()=>t.isDefined()),[t]),A=(0,r().yK)((e=>({card:{minWidth:280,height:126,padding:12},bio:{display:"inline-flex",alignItems:"center",gap:12,flexGrow:1,width:0},bioRight:{overflow:"hidden",width:"100%"},actionButton:{width:"100%",height:28,fontWeight:u().Ue.medium},profileTitle:{fontWeight:u().Ue.semibold},profileSubtitle:{...u().Yu},loadingShimmer:{height:16,borderRadius:6,animation:"500ms ease-in fadein"}})),[]);return B&&k?(0,w.jsx)("div",{style:A.card,children:(0,w.jsxs)(x().Ht,{gap:16,children:[(0,w.jsx)(x().gq,{children:(0,w.jsxs)("div",{style:A.bio,children:[(0,w.jsx)(b().Z,{userStore:t,size:56}),(0,w.jsxs)(x().Ht,{gap:3,style:A.bioRight,children:[(0,w.jsx)(y().Z,{style:A.profileTitle,children:L}),P?(0,w.jsx)(v().Z,{style:A.loadingShimmer}):V.length>0?(0,w.jsx)(y().Z,{isSmall:!0,style:A.profileSubtitle,children:(0,a().Z)(V.slice(0,3),(e=>(0,w.jsx)(I,{index:e},e)))}):d?(0,w.jsx)(y().Z,{isSmall:!0,style:A.profileSubtitle,children:(0,w.jsx)(M,{membershipType:d})}):null,P?(0,w.jsx)(v().Z,{style:A.loadingShimmer}):R?(0,w.jsx)(y().Z,{isSmall:!0,isSecondaryColor:!0,style:A.profileSubtitle,children:(0,w.jsx)(c()._H,{id:"personHoverCard.userInfo.timeZone",defaultMessage:"{time} local time",values:{time:(new Date).toLocaleTimeString((0,l().E2)(o),{timeZone:R,hour:"2-digit",minute:"2-digit",hour12:!0})}})}):null]})]})}),(0,w.jsxs)(x().gq,{gap:12,children:[(0,w.jsx)(C().Z,{style:A.actionButton,onClick:()=>{window.open(`mailto:${Z}`,"_blank")},icon:s().h,children:(0,w.jsx)(y().Z,{children:(0,w.jsx)(c()._H,{id:"personHoverCard.actionButtons.email",defaultMessage:"Email"})})}),(0,w.jsx)(C().Z,{style:A.actionButton,onClick:()=>{window.open(`https://calendar.notion.so/meet-with/${Z}`,"_blank")},icon:i().C,children:(0,w.jsx)(c()._H,{id:"personHoverCard.actionButtons.schedule",defaultMessage:"Schedule"})})]})]})}):null}function I(e){let{index:t}=e;return(0,w.jsx)("span",{style:{whiteSpace:"pre"},children:(0,w.jsx)(c()._H,{defaultMessage:", ",id:"personHoverCard.userInfo.groupSeparatorValue"})},t)}function M(e){switch(e.membershipType){case"none":return(0,w.jsx)(c()._H,{id:"personHoverCard.memberStatus.none",defaultMessage:"Deactivated"});case"page_guest":return(0,w.jsx)(c()._H,{id:"personHoverCard.memberStatus.guest",defaultMessage:"Guest"});case"member":return(0,w.jsx)(c()._H,{id:"personHoverCard.memberStatus.member",defaultMessage:"Member"});case"membership_admin":return(0,w.jsx)(c()._H,{id:"personHoverCard.memberStatus.admin",defaultMessage:"Admin"});case"owner":return(0,w.jsx)(c()._H,{id:"personHoverCard.memberStatus.owner",defaultMessage:"Workspace Owner"});default:(0,d().t1)(e.membershipType)}}},972544:(e,t,o)=>{"use strict";o.d(t,{S:()=>i,Z:()=>a});var n=o(667294),r=o(785893);const i=8;function s(e,t){let{isSelected:n}=e;const{radioButtonStyle:s,dotStyle:a}=(0,o(846550).yK)((e=>({radioButtonStyle:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:16,height:16,borderRadius:16,marginRight:i,background:n?e.blueColor:e.whiteButtonBackground,border:n?"none":`1px solid ${e.radioButtonBorder}`,transition:"background 100ms ease-out"},dotStyle:{width:6,height:6,borderRadius:6,background:e.regularInvertedTextColor,transition:"opacity 100ms ease-out",opacity:n?1:0}})),[n]);return(0,r.jsx)("div",{ref:t,style:s,children:(0,r.jsx)("div",{style:a})})}const a=n.forwardRef(s)},986286:(e,t,o)=>{"use strict";o.d(t,{FW:()=>l,Pe:()=>d,Re:()=>u,Rs:()=>p,YW:()=>a,ht:()=>m,lM:()=>c,rM:()=>g,vK:()=>s,yY:()=>f});var n=()=>o(677559);const r={JiraSyncInfoPopup:new(n().Ss)("JiraSyncInfoPopup",(async()=>await Promise.all([o.e(52774),o.e(57023)]).then(o.bind(o,453110)))),ImproveJiraSyncPopup:new(n().Ss)("ImproveJiraSyncPopup",(async()=>await Promise.all([o.e(52774),o.e(81263)]).then(o.bind(o,931329)))),JiraDCAuthModal:new(n().Ss)("JiraDCAuthModal",(async()=>await o.e(40205).then(o.bind(o,253458)))),ExternalImportAndSyncIndicator:new(n().Ss)("ExternalImportAndSyncIndicator",(async()=>await o.e(47433).then(o.bind(o,635604)))),JiraSyncedAllProjectsTooltip:new(n().Ss)("JiraSyncedAllProjectsTooltip",(async()=>await Promise.all([o.e(62743),o.e(75433)]).then(o.bind(o,205959)))),JiraSyncedAllIssuesTooltip:new(n().Ss)("JiraSyncedAllIssuesTooltip",(async()=>await Promise.all([o.e(62743),o.e(75433)]).then(o.bind(o,205959)))),JiraSyncedDatabaseViewsAndFiltersTooltip:new(n().Ss)("JiraSyncedDatabaseViewsAndFiltersTooltip",(async()=>await Promise.all([o.e(62743),o.e(75433)]).then(o.bind(o,205959)))),JiraSyncSourceTooltip:new(n().Ss)("JiraSyncSourceTooltip",(async()=>await Promise.all([o.e(62743),o.e(75433)]).then(o.bind(o,205959)))),JiraSyncedSettingsToSetupProjectsAndIssuesTooltip:new(n().Ss)("JiraSyncedSettingsToSetupProjectsAndIssuesTooltip",(async()=>await Promise.all([o.e(62743),o.e(75433)]).then(o.bind(o,205959))))},i={JiraSyncTeamSpaceModal:new(n().Ss)("JiraSyncTeamSpaceModal",(async()=>Promise.all([o.e(62743),o.e(94568)]).then(o.bind(o,860619))))},s=(0,n().kF)(i.JiraSyncTeamSpaceModal,(e=>e.default)),a=(0,n().kF)(r.JiraSyncedAllProjectsTooltip,(e=>e.JiraSyncedAllProjectsTooltip)),l=(0,n().kF)(r.JiraDCAuthModal,(e=>e.default)),c=(0,n().kF)(r.JiraSyncedAllIssuesTooltip,(e=>e.JiraSyncedAllIssuesTooltip)),d=(0,n().kF)(r.JiraSyncedDatabaseViewsAndFiltersTooltip,(e=>e.JiraSyncedDatabaseViewsAndFiltersTooltip)),u=(0,n().kF)(r.JiraSyncedSettingsToSetupProjectsAndIssuesTooltip,(e=>e.JiraSyncedSettingsToSetupProjectsAndIssuesTooltip)),p=(0,n().kF)(r.JiraSyncSourceTooltip,(e=>e.JiraSyncSourceTooltip)),m=(0,n().kF)(r.JiraSyncInfoPopup,(e=>e.JiraSyncInfoPopup)),g=(0,n().kF)(r.ImproveJiraSyncPopup,(e=>e.ImproveJiraSyncPopup)),f=(0,n().kF)(r.ExternalImportAndSyncIndicator,(e=>e.ExternalImportAndSyncIndicator));(0,o(827282).CZ)("jira",{default:{loader:()=>o.e(7061).then(o.bind(o,207061)),size:20},small:{loader:()=>o.e(7061).then(o.bind(o,207061)),size:16},mini:{loader:()=>o.e(7061).then(o.bind(o,207061)),size:14},large:{loader:()=>o.e(7061).then(o.bind(o,207061)),size:24}})},946735:(e,t,o)=>{"use strict";o.d(t,{Dr:()=>s,Jt:()=>a,Su:()=>i});var n=()=>o(677559);const r={pageVerification:new(n().Ss)("pageVerification",(()=>Promise.all([o.e(62743),o.e(44832),o.e(55253)]).then(o.bind(o,711296)))),pageVerificationBadge:new(n().Ss)("pageVerificationBadge",(()=>Promise.all([o.e(62743),o.e(44832),o.e(11189),o.e(53335),o.e(46616),o.e(61171),o.e(63502),o.e(99590),o.e(81917),o.e(10553),o.e(22371),o.e(77679),o.e(64153)]).then(o.bind(o,776864)))),pageVerificationMenuRenderer:new(n().Ss)("pageVerificationMenuRenderer",(()=>Promise.all([o.e(62743),o.e(44832),o.e(11189),o.e(53335),o.e(46616),o.e(61171),o.e(63502),o.e(99590),o.e(81917),o.e(10553),o.e(22371),o.e(77679),o.e(71e3)]).then(o.bind(o,852586))))},i=(0,n().kF)(r.pageVerification,(e=>e.PageAddVerificationButton)),s=(0,n().kF)(r.pageVerificationBadge,(e=>e.PageVerificationBadge)),a=(0,n().kF)(r.pageVerificationMenuRenderer,(e=>e.PageVerificationMenuRenderer))},125659:(e,t,o)=>{"use strict";o.d(t,{DK:()=>c,L1:()=>a,Y$:()=>l,cu:()=>s});o(821057);var n=o(667294);const r="collectionContextStore",i=(0,o(949744).Q)({displayName:r,legacyContextKey:r,modernContextDefaultValue:void 0}),s=i.context,a=i.Provider;function l(){const e=n.useContext(s);if(void 0===e)throw new Error(`No context provided: ${r}`);return e}function c(){return n.useContext(s)}},521412:(e,t,o)=>{"use strict";o.d(t,{X:()=>n});const n=new(o(677559).Ss)("pageCovers",(async()=>o.e(1642).then(o.bind(o,832783))))},871953:(e,t,o)=>{"use strict";o.d(t,{TL:()=>u,nc:()=>d,ue:()=>c});var n=()=>o(816512),r=()=>o(934158),i=()=>o(696056),s=()=>o(989478),a=()=>o(696459),l=()=>o(826955);function c(e){const{parentStore:t,pointer:o}=e,r=(0,l().Kv)(t,o).getValue();if(r)return(0,n().LU)({table:o.table,value:r})}function d(e){const{parentStore:t,pointer:o}=e;return o.table===i().cZ?l().Qx.createChildStore(t,o):o.table===s().KJ?l().U6.createChildStore(t,o):o.table===r().y0?l().fg.createChildStore(t,o):void(0,a().t1)(o)}function u(e){return e.table===i().cZ?(0,n().ON)(e.getValue()):e.table===s().KJ?(0,n().m3)(e.getValue()):e.table===r().y0?(0,n().I4)(e.getValue()):void(0,a().t1)(e)}},761936:(e,t,o)=>{"use strict";o.d(t,{L:()=>d});var n=()=>o(642240),r=()=>o(338530);const i={ko:()=>o.e(60692).then(o.bind(o,299435)),es:()=>o.e(20883).then(o.bind(o,960142)),de:()=>o.e(83224).then(o.bind(o,299606)),fr:()=>o.e(85038).then(o.bind(o,604240)),pt:()=>o.e(72138).then(o.bind(o,515748)),zh:()=>o.e(17835).then(o.bind(o,240169)),ja:()=>o.e(96377).then(o.bind(o,770488)),da:()=>o.e(57677).then(o.bind(o,317410)),fi:()=>o.e(66970).then(o.bind(o,266265)),nb:()=>o.e(93031).then(o.bind(o,189761)),nl:()=>o.e(62579).then(o.bind(o,360701)),sv:()=>o.e(60382).then(o.bind(o,575660))};let s=!1,a=!1;async function l(e){for(const[o,r]of Object.entries(e.emojiLocaleKeywords)){var t;n().Q4[o]={...n().Q4[o],keywords:[...r,...(null===(t=n().Q4[o])||void 0===t?void 0:t.keywords)||[]]}}await r().Z.waitUntilLoaded(),r().Z.update((t=>{let{emojiByName:o,...n}=t;return{...n,emojiByName:{...o,...e.emojiByName}}}))}async function c(){if(s)return;const[e]=o(146947).locale.split("-");e in i&&(await l(await i[e]()),s=!0)}const d=(0,o(924665).Z)((async()=>{await async function(){a||(await l(await o.e(83552).then(o.bind(o,716373))),a=!0)}(),await c()}))},981697:(e,t,o)=>{"use strict";o.d(t,{Z:()=>i});var n=o(667294),r=()=>o(219727);function i(e){const t=(0,r().O7)(),{onLongPress:o,hapticsEnabled:i=!0,timeout:s=300}=e,a=(0,n.useCallback)((()=>{var e,n,r;i&&(null!==(e=t.mobileNative)&&void 0!==e&&e.buzz?t.mobileNative.buzz():null===(n=(r=window.navigator).vibrate)||void 0===n||n.call(r,20));o()}),[t.mobileNative,i,o]),l=(0,n.useRef)(),c=(0,n.useRef)(0),d=(0,n.useRef)(0),u=(0,n.useCallback)((()=>clearTimeout(l.current)),[]);(0,n.useEffect)((()=>u),[u]);return{onTouchStart:(0,n.useCallback)((()=>{clearTimeout(l.current),l.current=setTimeout(a,s)}),[s,a]),onTouchMove:(0,n.useCallback)((e=>{const t=e.touches[0].clientX,o=e.touches[0].clientY;(Math.abs(t-c.current)>50||Math.abs(o-d.current)>50)&&clearTimeout(l.current)}),[]),onTouchEnd:u,onTouchCancel:u}}},603332:(e,t,o)=>{"use strict";o.d(t,{Z:()=>i});var n=()=>o(431143),r=()=>o(696459);function i(e,t){switch(e){case"all":return{following:!0,followSettings:{...(0,n().yI)({explicitly_set_by_user:!0}),feed_setting:t}};case"important":return{following:!0,followSettings:{...(0,n().GC)({explicitly_set_by_user:!0}),feed_setting:t}};case"comments":return{following:!0,followSettings:{...(0,n().r$)({explicitly_set_by_user:!0}),feed_setting:t}};case"none":return{following:!1,followSettings:{...(0,n().vU)({explicitly_set_by_user:!0}),feed_setting:t}};default:(0,r().t1)(e)}}},45334:(e,t,o)=>{"use strict";o.d(t,{b:()=>h});o(670560),o(429830),o(267602),o(241792),o(228244);var n=()=>o(481529),r=()=>o(728670),i=()=>o(528514),s=()=>o(933868),a=()=>o(255933),l=()=>o(421654),c=()=>o(332542),d=()=>o(269299),u=()=>o(205228),p=()=>o(872308),m=()=>o(774172),g=()=>o(20825),f=()=>o(594546);function h(e){const{environment:t,draftPostStore:o,onSubmitPost:s}=e,h=t.currentUser.id;o&&h&&(o.isPublishedPost()||(function(e){const{environment:t,postStore:o}=e;d().createAndCommit({environment:t,perform:e=>(o.getContentStores().toReversed().some((t=>{if(!(0,m().y)(t))return!0;c().hr({childStore:t,parentStore:o,transaction:e})})),o),userAction:"PostChannel.trimPostDraft",canUndo:!1})}({environment:t,postStore:o}),function(e){const{environment:t,blockToDuplicateStore:o,userId:s}=e;if(!o.isDefined())return;const m=(0,r().DW)(o.getParentPointer(),o.getRecordModel),g=(0,i().Wo)(m).map((e=>({...e,role:S(e.role,"comment_only")})));g.push({type:"restricted_permission"}),g.push({type:"user_permission",user_id:s,role:"editor"}),d().createAndCommit({environment:t,perform:e=>{const[[r],i]=p().duplicateBlock({environment:t,stores:[o],addCopyName:!1,transaction:e,deepCopyTransclusionContainers:!1,resolveTemplateVariables:!1,targetSpaceId:o.getSpaceId(),baseUrl:u().default.domainBaseUrl,publicDomainName:u().default.publicDomainName,preferDuplicateLocation:"local",createActivities:!0});return d().applyOperation({store:r,operation:n().op.update({pointer:r.pointer,path:[],args:{alive:!0,parent_id:o.getParentId(),parent_table:o.getParentTable(),permissions:g,created_time:Date.now(),last_edited_time:Date.now()}}),transaction:e}),l().FH({stores:[r],update:{draft_status:"published"},transaction:e}),d().applyOperation({store:o,operation:n().op.update({pointer:o.pointer,path:[],args:{alive:!1}}),transaction:e}),e.postSubmitCallbacks.push((()=>i.then((()=>d().createAndCommit({environment:t,perform:e=>(l().FH({stores:[r],update:{draft_status:"published"},transaction:e}),c().zo({blockStore:o,transaction:e}),d().applyOperation({store:o,operation:n().op.update({pointer:o.pointer,path:[],args:{parent_id:o.getSpaceId(),parent_table:a().bx,permissions:[{type:"restricted_permission"}]}}),transaction:e}),o),userAction:"PostChannel.cleanupDraft",canUndo:!1}))))),r},userAction:"PostChannel.publishDraft",canUndo:!1}).performResult}({environment:t,blockToDuplicateStore:o,userId:h}),null==s||s(),g().Z.setState({isOpen:!1}),function(e,t){(0,f().j)({environment:e,event:{eventName:"post_created",eventProperties:t}})}(t,{block_id:o.id,parent_collection_id:o.getParentId()})))}function S(e,t){if(!e)return e;const o="string"==typeof e&&e in s().xm?s().xm[e]:void 0;if(!o)return e;return o>s().xm[t]?t:e}},424629:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(667294),r=()=>o(788860),i=o(785893);function s(e){const t=(0,o(142735).VK)((()=>{if(!e.postStore)return 0;const t=(0,o(239482).tM)(e.postStore);return t?null==t?void 0:t.getRawMembership().length:0}),[e.postStore]);return(0,i.jsx)(o(708518).Z,{open:e.isOpen,onDismiss:e.onDismiss,render:()=>(0,i.jsx)(o(543631).ZP,{icon:o(396820).D,title:(0,i.jsx)(r()._H,{id:"posts.confirmMentionEveryoneModal.title",defaultMessage:"Notify {sizeOfTeam} people?",values:{sizeOfTeam:t}}),subtitle:(0,i.jsx)(r()._H,{id:"posts.confirmMentionEveryoneModal.subtitle",defaultMessage:"Using @everyone notifies everyone in the teamspace. Are you sure you want to send this?"}),confirmText:(0,i.jsx)(r()._H,{id:"posts.confirmMentionEveryoneModal.confirmText",defaultMessage:"Send"}),cancelText:(0,i.jsx)(r()._H,{id:"posts.confirmMentionEveryoneModal.cancelText",defaultMessage:"Edit message"}),confirmTextStyle:"red",radioOptions:[],onDismiss:e.onDismiss,onConfirm:e.onConfirm})})}const a=n.memo(s)},572538:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>Ct});o(670560),o(267602),o(653476),o(470928),o(731107);var n=o(667294),r=()=>o(219727),i=()=>o(142735),s=()=>o(846550),a=()=>o(801812),l=()=>o(933868),c=()=>o(824462),d=()=>o(282662),u=()=>o(636340),p=()=>o(269299),m=()=>o(887430),g=()=>o(662753),f=()=>o(775316),h=()=>o(718959),S=()=>o(876822),v=()=>o(826955),C=()=>o(34910),y=()=>o(139978),b=()=>o(306164),x=()=>o(332542),w=()=>o(903609),k=()=>o(6333);function I(e){const{environment:t,selectedStore:o,currentSpaceViewStore:n,collectionContextStore:r,postStore:i}=e,s=r.collectionViewStore(),a=r.collectionStore(),l=r.collectionViewBlockStore();if(!s||!l||!n)return;const c=o.table===b().e0?o.id:void 0,d=S().default.state.currentSpaceStore;if(!d)return;const u=null==o?void 0:o.getChannelStore();if(!u)return;const m=k().RecordStores.createUniqueRootStore(t,{table:"block",id:null==u?void 0:u.id,spaceId:d.id}),g=null==m?void 0:m.getCollectionStore();p().createAndCommit({environment:t,userAction:"PersonalHomeFeedTab.setCollectionViewSourceTeamId",canUndo:!0,perform:e=>{g&&(i&&x().zw({childStore:i,parentStore:g,transaction:e}),p().applyOperation({store:s,operation:{pointer:{id:s.id,table:y().np},path:["format","collection_view_source","teamId"],command:"set",args:c},transaction:e}),(0,w().y)({environment:t,collectionViewBlockStore:l,collectionViewStore:s,collectionStore:a,collectionContextStore:r,isFullScreen:!1,isRootChild:!1,isInPeekRenderer:!1,viewsModuleContext:void 0,forceLocalQueryCollection:!1}))}})}var M=()=>o(466970),j=()=>o(178025),T=()=>o(45334),P=()=>o(774172),R=()=>o(620358),_=()=>o(424629),V=(o(916054),()=>o(506347)),L=()=>o(955620),Z=()=>o(788860),B=()=>o(513670),A=()=>o(696459),K=()=>o(707513),D=()=>o(497065),H=()=>o(106502),U=()=>o(1910),F=()=>o(94967),E=()=>o(906651),O=()=>o(842574),z=()=>o(654133),N=()=>o(778447),J=()=>o(299519),q=()=>o(982855),W=()=>o(520849),G=()=>o(311562),Y=()=>o(855249),$=()=>o(240703);const X={padding:20,paddingBottom:12},Q=1;function ee(e){let{isPhone:t,theme:o,borderOnly:n}=e;if("dark"===o.mode)return o.homeShadow.card.hovered;o.mode;const r=function(e){let{mode:t,isPhone:o}=e;switch(t){case"dark":return 0;case"light":return Q;default:return(0,A().P)(t),0}}({mode:o.mode,isPhone:t});return(0,B().oA)([n||t?void 0:"0 12px 32px rgba(0, 0, 0, 0.02)",`0 0 0 ${r}px rgba(0, 0, 0, 0.05)`]).join(", ")}function te(e){const{isPhone:t,theme:o,borderOnly:n}=e;return{unhoveredBoxShadow:ee({isPhone:t,theme:o,borderOnly:n}),hoveredBoxShadow:"light"===o.mode?["0 12px 32px rgba(0, 0, 0, 0.03)","0 0 0 1px rgba(0, 0, 0, 0.085)"].join(", "):"rgba(255, 255, 255, 0.1) 0px 0px 0px 1px inset"}}var oe=()=>o(429725);function ne(e){return function(e){const{blockStore:t,pageVisitSource:o}=e;return(0,i().VK)((()=>(0,oe().ZP)({store:t,openInCenterPeek:!0,peekViewBlockId:t.id,pageVisitSource:o})),[t,o])}({blockStore:e,pageVisitSource:V().tY.PeekOpen})}var re=()=>o(20825),ie=(o(30005),()=>o(374289)),se=()=>o(154186),ae=()=>o(827973),le=()=>o(397540),ce=()=>o(641506),de=()=>o(383694),ue=o(785893);const pe=4;function me(e){let{collectionContextStore:t,postStore:o,subscribedUserTeamStores:s}=e;const a=(0,r().O7)(),{currentSpaceViewStore:l,currentSpaceStore:c}=(0,i().VK)((()=>{const{currentSpaceViewStore:e,currentSpaceStore:t}=S().default.state;return{currentSpaceViewStore:e,currentSpaceStore:t}}),[]),d=(0,i().VK)((()=>t.collectionViewStore()),[t]),u=(0,i().VK)((()=>{if(!c)return;const e=null==d?void 0:d.getCollectionSource();if("typed"===(null==e?void 0:e.type)){const t=e.teamId;return t?s.find((e=>e.id===t)):s[0]}}),[s,c,d]),p=(0,n.useCallback)((e=>{I({environment:a,currentSpaceViewStore:l,selectedStore:e,collectionContextStore:t,postStore:o})}),[a,t,l,o]),m=(0,i().VK)((()=>{if(!c)return{};const e={};return e[c.id]=null==c?void 0:c.getName(),s.forEach((t=>{e[t.id]=t.getName()})),e}),[c,s]);return l&&c&&u?(0,ue.jsx)(le().Z,{items:s,getKey:e=>e.id,selectedItem:u,onSelect:p,renderItem:e=>{const t=e.value;return(0,ue.jsx)(ae().Z,{...e,title:m[t.id],icon:(0,ue.jsx)(de().p,{store:t,size:16,disabled:!0})})},renderOrigin:e=>(0,ue.jsx)(ge,{...e,selectedStore:u}),width:300}):null}function ge(e){const t=(0,r().O7)(),{device:o}=t,{selectedStore:n,...i}=e,a=(0,s().yK)((e=>({dropdownButton:{padding:"6px 8px",color:e.text.secondary,fontSize:(0,ce().yv)(t,"UISmall"),display:"inline-flex",justifyContent:"end",alignItems:"center",borderRadius:pe},dropdownIcon:{width:10,marginLeft:4,fill:e.lightIconColor},dropdownText:{display:"inline-flex",alignItems:"center",fontWeight:K().Ue.medium,overflow:"hidden"}})),[t]);return(0,ue.jsxs)(se().Z,{mobileFeedback:o.isMobile,style:a.dropdownButton,...i,children:[(0,ue.jsx)("div",{style:a.dropdownText,children:(0,ue.jsx)(fe,{selectedStore:n})}),(0,ie().i)(a.dropdownIcon)]})}function fe(e){let{selectedStore:t}=e;const o=(0,i().VK)((()=>null==t?void 0:t.getName()),[t]),n=(0,s().yK)((()=>({icon:{marginLeft:4,marginRight:4},teamName:{...K().Yu}})),[]),r=(0,ue.jsx)(de().p,{store:t,size:16,disabled:!0,style:n.icon});return o?(0,ue.jsx)(Z()._H,{id:"postsComposer.teamDropdownTitle.withTeamName",defaultMessage:"In {teamIcon} {teamName}",values:{teamIcon:r,teamName:(0,ue.jsx)("div",{style:n.teamName,children:o})}}):(0,ue.jsx)(Z()._H,{id:"postsComposer.teamDropdownTitle.withoutTeamName",defaultMessage:"In your teamspace"})}function he(e){const{teamStore:t,postStore:o,isEditing:r,composerStyle:i,onSubmit:s,createDraft:a,discardDraft:l,setComposerStyle:c,collectionContextStore:d,subscribedUserTeamStores:u}=e,[p,m]=(0,n.useState)(o);(0,n.useEffect)((()=>{(null==o?void 0:o.id)!==(null==p?void 0:p.id)&&m(o)}),[o,null==p?void 0:p.id]);const g=be(p),f=(0,n.useCallback)((e=>{r?re().Z.reset():(null==c||c("preview"),(e.deleteNonEmptyDraft||g)&&(m(void 0),l()))}),[r,c,g,l,m]);switch(i){case"preview":return(0,ue.jsx)(ve,{teamStore:t,postStore:p,setComposerStyle:c,createDraft:a});case"inline":return p?(0,ue.jsx)(ye,{postStore:p,setComposerStyle:c,onSubmit:s,onDismiss:f,collectionContextStore:d,subscribedUserTeamStores:u}):null;default:(0,A().t1)(i)}}function Se(e){const{teamStore:t,postStore:a,setComposerStyle:l,createDraft:c}=e,d=(0,r().O7)(),u=(0,r().Fy)(),[p,m]=(0,n.useState)(!1),g=(0,i().VK)((()=>S().default.state.currentSpaceStore),[]),f=(0,i().VK)((()=>S().default.state.currentUserStore),[]),h=be(a),{canJoinTeam:v}=(0,j().K)({teamStore:t}),C=(0,n.useCallback)((()=>m(!0)),[]),y=(0,n.useCallback)((()=>m(!1)),[]),b=(0,n.useCallback)((()=>{if(!v)if(u.isMobile){var e;const t=a??c(),o=null==t||null===(e=t.getModel())||void 0===e?void 0:e.getRenderUrl({getRecordModel:t.getRecordModel,pageVisitSource:V().tY.TeamHomePage});o&&D().c4({environment:d,url:o})}else a||c(),null==l||l("inline")}),[c,u.isMobile,d,a,l,v]),x=(0,n.useCallback)((async()=>{g&&t&&await o(44556).um({environment:d,teamStore:t,currentSpaceStore:g,from:"team_home",andNavigateToTeamHome:!1})}),[g,d,t]),w=(0,s().yK)((e=>{const{unhoveredBoxShadow:t,hoveredBoxShadow:o}=te({isPhone:u.isPhone,theme:e}),n="dark"===e.mode;return{container:{cursor:"pointer",display:"flex",flexDirection:"row",alignItems:"center",gap:6,paddingTop:12,paddingBottom:12,paddingLeft:20,paddingRight:20,borderRadius:12,boxShadow:p?o:t,background:n?e.surface.wash:e.surface.page},previewContent:{display:"flex",flexDirection:"row",alignItems:"center",gap:12},joinIcon:{fill:e.icon.secondary},joinButton:{color:e.text.secondary}}}),[u.isPhone,p]);return(0,ue.jsxs)("div",{style:w.container,onMouseEnter:C,onMouseLeave:y,onClick:b,children:[(0,ue.jsx)(o(981583).Z,{userStore:f,size:24,avatarShouldShowShadow:!1}),(0,ue.jsx)(xe,{postStore:a}),v&&(0,ue.jsx)(o(265640).D,{icon:o(336533).L,iconStyle:w.joinIcon,style:w.joinButton,size:"lg",onClick:x,children:(0,ue.jsx)(Z()._H,{id:"posts.postComposer.joinTeam",defaultMessage:"Join"})}),(0,ue.jsx)(z().Z,{disableTooltip:!v,renderTooltip:()=>(0,ue.jsx)(Z()._H,{id:"posts.postButton.disabledTooltip",defaultMessage:"Join the teamspace to post"}),placement:o(998901).Placement.Top,render:e=>(0,ue.jsx)(E().Z,{isLarge:!0,disabled:v,...e,children:h?(0,ue.jsx)(Z()._H,{id:"posts.postButton.label",defaultMessage:"Post"}):(0,ue.jsx)(Z()._H,{id:"posts.postButton.resume",defaultMessage:"Resume post"})})})]})}const ve=n.memo(Se);function Ce(e){const{postStore:t,onSubmit:i,onDismiss:a,collectionContextStore:l,subscribedUserTeamStores:c}=e,d=(0,r().Fy)(),[u,p]=(0,n.useState)(!1),m=be(t),g=(0,n.useCallback)((()=>p(!0)),[]),f=(0,n.useCallback)((()=>p(!1)),[]),h=ne(t),S=(0,Z().YB)(),v=(0,s().yK)((e=>{const{unhoveredBoxShadow:t,hoveredBoxShadow:o}=te({isPhone:d.isPhone,theme:e}),n="dark"===e.mode;return{container:{display:"flex",flexDirection:"column",gap:16,padding:24,borderRadius:12,boxShadow:u?o:t,background:n?e.surface.wash:e.surface.page,zIndex:1},scroller:{margin:-24,pointerEvents:"none",...X},fullScreenIconButton:{position:"absolute",right:m?24:54},closeIconButton:{position:"absolute",right:24},title:{marginRight:42,pointerEvents:"auto"},footer:{display:"flex",gap:8,justifyContent:"flex-end",alignItems:"center",zIndex:2},fullScreenIcon:{height:14,width:14}}}),[d.isPhone,u,m]);return t?(0,ue.jsxs)("div",{style:v.container,onMouseEnter:g,onMouseLeave:f,children:[(0,ue.jsx)(U().Z,{style:v.fullScreenIconButton,ariaLabel:S.formatMessage($().s.fullScreenTooltip),icon:o(899337).c,iconStyle:v.fullScreenIcon,href:h}),!m&&(0,ue.jsx)(z().Z,{renderTooltip:()=>S.formatMessage($().s.deleteDraftTooltip),render:e=>(0,ue.jsx)(U().Z,{style:v.closeIconButton,ariaLabel:S.formatMessage($().s.deleteDraftTooltip),icon:o(328714).U,iconStyle:{height:16,width:16},onClick:()=>a({deleteNonEmptyDraft:!0}),...e})}),(0,ue.jsx)(we,{postStore:t,pageViewBlockContext:G().S.DraftPostInInlineComposer,showSelectableHoverMenuOverlay:!1,scrollerStyle:v.scroller,titleStyle:v.title,children:(0,ue.jsxs)("div",{style:v.footer,children:[l&&(0,ue.jsx)(me,{collectionContextStore:l,postStore:t,subscribedUserTeamStores:c}),(0,ue.jsx)(E().Z,{onClick:i,disabled:m,isLarge:!0,children:(0,ue.jsx)(Z()._H,{id:"posts.postButton.label",defaultMessage:"Post"})})]})})]}):null}const ye=n.memo(Ce);function be(e){return(0,i().VK)((()=>!e||!!e.isEmptyTitle()&&e.getContentStores().every((e=>(0,P().y)(e)))),[e])}function xe(e){const{postStore:t}=e,o=(0,r().Fy)(),n=(0,s().yK)((e=>({text:{fontSize:14,color:e.text.quaternary,flexGrow:1,flexShrink:1,...K().Yu}})),[]),a=be(t),l=(0,i().VK)((()=>{if(a)return o.isMobile?(0,ue.jsx)(Z()._H,{id:"posts.createPostButton.placeholder",defaultMessage:"Share an update..."}):(0,ue.jsx)(Z()._H,{id:"posts.createPostButton.placeholderFull",defaultMessage:"Share an update, @mention your team..."});let e=L().QaF((null==t?void 0:t.getTitleValue())??[]);const n=(null==t?void 0:t.getContentStores())??[];for(const t of n){const o=L().QaF(t.getTitleValue());if(o.length>0&&(e+=` ${o}`),e.length>300)break}return e}),[a,t,o.isMobile]);return(0,ue.jsx)("div",{style:n.text,children:l})}function we(e){const{postStore:t,pageViewBlockContext:o,showSelectableHoverMenuOverlay:n,children:r,scrollerStyle:s,titleStyle:a}=e,l=(0,Z().YB)(),c=(0,i().VK)((()=>(0,q().GD)(void 0)),[]);return(0,ue.jsxs)(F().Z,{debugName:"PostContentInput",capture:!0,onCommandEnter:B().yR,children:[(0,ue.jsx)(J().Z,{store:t,isDefaultContainer:!0,isRootContainer:!0,render:e=>{let{selectableEvents:r,selectableHoverMenuOverlay:i}=e;return(0,ue.jsxs)(O().T,{type:W().Z.Y,style:s,store:Y().Z,...r,children:[n&&i,(0,ue.jsx)(N().ZP,{context:o,store:t,paddingBottom:20,titleStyle:a,disabled:!1,disableTopControls:!0,titlePlaceholder:l.formatMessage($().s.postHeadingName)}),c&&(0,ue.jsx)(H().GC,{scrollerStore:Y().Z})]})}}),r]})}o(241792);var ke=()=>o(271839),Ie=()=>o(81954),Me=()=>o(438793),je=()=>o(853686),Te=()=>o(745096),Pe=()=>o(197950),Re=()=>o(83447),_e=()=>o(138196),Ve=()=>o(448419),Le=()=>o(108714),Ze=()=>o(98275),Be=()=>o(623498),Ae=()=>o(85307),Ke=()=>o(965865),De=()=>o(12512),He=()=>o(239482),Ue=()=>o(981697),Fe=()=>o(76225),Ee=()=>o(293936),Oe=()=>o(69890),ze=()=>o(394480),Ne=()=>o(337621),Je=()=>o(641772),qe=()=>o(237874),We=()=>o(519454),Ge=()=>o(78652),Ye=()=>o(95886),$e=()=>o(491927),Xe=()=>o(959137),Qe=()=>o(942834),et=()=>o(663366),tt=()=>o(825270),ot=()=>o(198829),nt=()=>o(255577),rt=()=>o(388284),it=()=>o(67961),st=()=>o(141735),at=()=>o(352230),lt=()=>o(677559),ct=()=>o(603332);const dt=(0,Z().vU)({addReaction:{id:"postActions.react.tooltip",defaultMessage:"React"},moreActions:{id:"postActions.more.tooltip",defaultMessage:"More actions"}});function ut(e){const{show:t,blockStore:o}=e,n=(0,r().O7)(),{value:i}=(0,lt().XJ)(st().F.formulas),a=(0,r().Fy)(),l=(0,Z().YB)(),c=(0,s().yK)((e=>({container:{position:"absolute",zIndex:1,right:16,opacity:t?1:0,transition:"opacity 100ms ease-out",display:"flex",padding:"2px",boxShadow:"0px 2px 12px 0px rgba(29, 27, 22, 0.06)",borderWidth:1,borderStyle:"solid",borderColor:e.stroke.secondary,borderRadius:6,backgroundColor:e.buttonGroupBackground,gap:1},moreMenuIcon:{height:16,width:16},reactIcon:{width:21,height:21,fill:e.icon.secondary}})),[t]),d=(0,Fe().aE)();return(0,ue.jsxs)("div",{style:c.container,children:[(0,ue.jsx)(z().Z,{renderTooltip:()=>(0,ue.jsx)(Z()._H,{...dt.addReaction}),render:e=>(0,ue.jsx)(U().Z,{ariaLabel:l.formatMessage(dt.addReaction),hasBackground:!1,showShadow:!1,icon:()=>(0,Ge().V)(c.reactIcon),onClick:e=>{(0,tt().t)({environment:n,blockStore:o,rect:e.currentTarget.getBoundingClientRect(),skipOpeningDiscussionOnSubmit:!0,formulasModule:i})},...e})}),(0,ue.jsx)(Ve().ZP,{style:d.popup,popupType:a.isMobile?Ve().Z4.SlideUp:Ve().Z4.Popup,placementToOrigin:Ve().pO.Right,stopClickPropagation:!0,renderOrigin:e=>(0,ue.jsx)(z().Z,{renderTooltip:()=>(0,ue.jsx)(Z()._H,{...dt.moreActions}),render:t=>(0,ue.jsx)(U().Z,{...e,...t,hasBackground:!1,showShadow:!1,icon:Je().o,ariaLabel:l.formatMessage(dt.moreActions)})}),render:e=>(0,ue.jsx)(pt,{blockStore:o,closeMenu:e.close})})]})}function pt(e){const{blockStore:t,closeMenu:o}=e,n=(0,r().O7)(),a=(0,r().Fy)(),{value:l}=(0,lt().XJ)(st().F.formulas),c=ne(t),d=function(e){return(0,i().VK)((()=>(0,oe().ZP)({store:e,peekViewBlockId:e.id,pageVisitSource:V().tY.CopyLink})),[e])}(t),u=(0,i().VK)((()=>{var e;return"all"===(null===(e=t.getFollowStore())||void 0===e||null===(e=e.getFollowSettings())||void 0===e?void 0:e.comments)}),[t]),m=(0,i().VK)((()=>[...a.isPhone&&t.canComment()?["addReaction"]:[],"copyLink","toggleNotifications",...t.canEdit()?["edit","delete"]:[]]),[t,a.isPhone]),g=(0,s().yK)((()=>({icon:{height:16,width:16}})),[]),f=(0,Fe().aE)(),h=m.map(((e,r)=>{const i=r===m.length-1&&a.isMobile;switch(e){case"addReaction":return{key:e,render:e=>(0,ue.jsx)(ae().Z,{...e,icon:(0,Ge().V)(g.icon),style:{...f.buttonMenuItem,...i&&f.transparentButtonMenuItemBorder},pressedStyle:f.buttonMenuItemPressed,titleStyle:f.title,title:(0,ue.jsx)(Z()._H,{id:"postActions.addReaction.button",defaultMessage:"React"}),onClick:e=>{(0,tt().t)({environment:n,blockStore:t,rect:e.currentTarget.getBoundingClientRect(),skipOpeningDiscussionOnSubmit:!0,formulasModule:l}),o()}}),action:()=>{}};case"copyLink":return{key:e,render:e=>(0,ue.jsx)(ae().Z,{...e,icon:(0,qe().N)(g.icon),style:{...f.buttonMenuItem,...i&&f.transparentButtonMenuItemBorder},pressedStyle:f.buttonMenuItemPressed,titleStyle:f.title,title:(0,ue.jsx)(Z()._H,{id:"postActions.copyLink.button",defaultMessage:"Copy link"})}),action:async()=>{const e=await Xe().F.clipboardActions.load();d&&e.copyString({environment:n,stringValue:d,copiedMessage:e.clipboardMessages.copiedLinkToClipboard})}};case"toggleNotifications":return{key:e,render:e=>u?(0,ue.jsx)(ae().Z,{...e,icon:(0,Ne().j)(g.icon),style:{...f.buttonMenuItem,...i&&f.transparentButtonMenuItemBorder},pressedStyle:f.buttonMenuItemPressed,titleStyle:f.title,title:(0,ue.jsx)(Z()._H,{id:"postActions.disableNotifications.button",defaultMessage:"Turn off reply notifications"})}):(0,ue.jsx)(ae().Z,{...e,icon:(0,ze().t)(g.icon),style:{...f.buttonMenuItem,...i&&f.transparentButtonMenuItemBorder},pressedStyle:f.buttonMenuItemPressed,titleStyle:f.title,title:(0,ue.jsx)(Z()._H,{id:"postActions.enableNotifications.button",defaultMessage:"Get notifications for replies"})}),action:()=>{const e=t.getModel(),{currentUserStore:o}=S().default.state;if(!e||!o)return;const{following:r,followSettings:i}=(0,ct().Z)(u?"none":"comments");Qe().k({environment:n,followSettings:i,following:r,navigableBlockId:t.id,userId:o.id,spaceId:t.getSpaceId(),key:"comments",selectedKey:"comments",from:"more_menu"})}};case"edit":return{key:e,render:e=>(0,ue.jsx)(ae().Z,{...e,icon:(0,We().R)(g.icon),style:{...f.buttonMenuItem,...i&&f.transparentButtonMenuItemBorder},pressedStyle:f.buttonMenuItemPressed,titleStyle:f.title,title:(0,ue.jsx)(Z()._H,{id:"postActions.edit.button",defaultMessage:"Edit"})}),action:()=>c&&D().c4({environment:n,url:c})};case"delete":return{key:e,render:e=>(0,ue.jsx)(ae().Z,{...e,icon:(0,Ye().y)(g.icon),isRedOnHover:!0,style:{...f.buttonMenuItem,...i&&f.transparentButtonMenuItemBorder},pressedStyle:f.buttonMenuItemPressed,titleStyle:f.title,title:(0,ue.jsx)(Z()._H,{id:"postActions.delete.button",defaultMessage:"Delete"})}),action:()=>{p().createAndCommit({userAction:"PostActions.delete",environment:n,canUndo:!0,perform:e=>{et().y8({environment:n,blocks:[t],transaction:e}),e.postSubmitCallbacks.push((e=>{e||$e().dh(n,{analyticsName:"delete",from:"block_more_menu",block_id:t.id,block_type:t.getType(),collection_id:t.getParentId()})}))}})}}}})).filter(A().$K);return(0,ue.jsx)(ot().Z,{menuType:at().o.Popup,height:a.isMobile?"50vh":void 0,minWidth:250,maxWidth:a.isMobile?"100vw":void 0,scrollerStyle:f.menuScroller,header:a.isMobile&&(0,ue.jsx)(it().Z,{style:f.header,children:(0,ue.jsx)(Z()._H,{id:"postActions.moreActions",defaultMessage:"More actions"})}),children:(0,ue.jsx)(nt().ZP,{type:nt().iW.Vertical,initialFocus:void 0,onAccept:o,sections:[{key:0,render:e=>(0,ue.jsx)(rt().Z,{...e,style:f.sectionMenuItem}),items:h}]})})}const mt=6,gt=600;function ft(e){const{store:t,inUnifiedFeed:o}=e,a=(0,r().O7)(),l=(0,r().Fy)(),c=l.isPhone,[d,u]=(0,n.useState)(!1),[p,m]=(0,n.useState)(!1),[g,f]=(0,n.useState)(!1),h=(0,n.useRef)(null),C=(0,n.useRef)(null),y=(0,Ue().Z)({onLongPress:()=>{var e;return null===(e=C.current)||void 0===e?void 0:e.setOpen(!0)}}),b=(0,i().VK)((()=>t.getTitleStore()),[t]),x=(0,i().VK)((()=>t.getContentStore()),[t]),w=(0,i().VK)((()=>t.getCreatedByStore()),[t]),k=(0,i().VK)((()=>({lastEditedTime:t.getLastEditedTime(),createdTime:t.getCreatedTime()})),[t]),I=(0,i().VK)((()=>{const e=S().default.state.mainEditorCurrentBlockStore;return o&&e?(0,oe().ZP)({store:e,peekViewBlockId:t.id,peekMode:"c",fullyQualified:!1,pageVisitSource:V().tY.LinkInPage}):(0,oe().ZP)({store:t,fullyQualified:!1,pageVisitSource:V().tY.LinkInPage})}),[t,o]),M=(0,i().VK)((()=>!t.isEmptyTitle()),[t]),j=(0,i().VK)((()=>(0,He().VP)(t)),[t]),{pageVisitStore:T,presenceStore:P}=(0,Oe().c)({store:t,environment:a,postContext:G().S.PostInFeed}),{ready:R}=(0,Te().Z)({pageStore:t,pageVisitStore:T,initialChunkSize:30,incrementChunkSize:30,disableSideEffects:!0}),_=(0,n.useCallback)((async()=>{const e=a.currentUser.id;if(!R||!e)return;const o=(0,ke().Pv)({parent_id:t.id,user_id:e}),n=(0,v().Kv)(t,{table:ke().UI,id:o,spaceId:(0,Ie().J)(t.pointer.spaceId)});await n.load();n.getKeyStore("visited_at").getValue()||(je().UX(a,{blockStore:t,fromPageRefresh:!1,pageVisitStore:T,timestamp:Date.now()}),Me().PB(a,{query:"",page_id:t.id,is_peek:!1,peek_mode:void 0,is_feed:!0,type:"page",page_visit_id:o,previous_page_visit_id:void 0}))}),[a,T,R,t]);(0,n.useEffect)((()=>{if(!h.current)return;const e=new IntersectionObserver((e=>{let[t]=e;t.isIntersecting&&_()}),{threshold:1});return e.observe(h.current),()=>e.disconnect()}),[h,_]);const L=(0,n.useCallback)((()=>f(!0)),[]),Z=(0,n.useCallback)((()=>f(!1)),[]),B=(0,n.useCallback)((e=>{const t=(null==e?void 0:e.height)??0;m(t>=gt&&!d)}),[d]),A=(0,n.useCallback)((()=>{u(!0),_()}),[u,_]),D=(0,s().yK)((e=>{const{unhoveredBoxShadow:t,hoveredBoxShadow:o}=te({isPhone:c,theme:e}),n="dark"===e.mode;return{container:{position:"relative",...X,borderRadius:"12px",boxShadow:g?o:t,background:n?e.surface.wash:e.surface.page},postParentPage:{display:"inline-block",marginLeft:-5,marginRight:-4},postSubject:{fontSize:26,fontWeight:K().Ue.semibold,...l.isMobile&&{fontSize:24,lineHeight:"130%"}},authorRow:{marginTop:10,marginBottom:6},postContent:{fontSize:l.isMobile?16:14,overflowY:"hidden",maxHeight:d?void 0:gt,position:"relative"},commentContainer:{display:"flex",gap:mt,alignItems:"center",paddingTop:12},commentPlaceholder:{fontSize:14,color:e.text.tertiary},postIsReadCheckpoint:{position:"absolute",bottom:0,right:0,width:"100%"}}}),[d,g,c,l.isMobile]),H=(0,Fe().aE)(),U=(0,i().VK)((()=>(0,_e().Z)({environment:a,store:t,pageViewBlockStore:void 0})),[a,t]);return w?(0,ue.jsx)(Ve().ZP,{ref:C,style:H.popup,popupType:l.isMobile?Ve().Z4.SlideUp:Ve().Z4.Popup,stopClickPropagation:!0,render:e=>(0,ue.jsx)(pt,{blockStore:t,closeMenu:e.close}),renderOrigin:()=>(0,ue.jsxs)("div",{style:D.container,onMouseEnter:L,onMouseLeave:Z,...y,children:[!l.isPhone&&(0,ue.jsx)(ut,{show:g,blockStore:t}),(0,ue.jsxs)("div",{children:[b&&M&&(0,ue.jsx)(Le().Z,{href:I,children:(0,ue.jsx)(Be().Z,{style:D.postSubject,store:b,disabled:!0,disableEquationInteraction:!0,disableComment:!0,inPageFind:De().B3.none},t.id)}),(0,ue.jsx)("div",{style:D.authorRow,children:(0,ue.jsx)(Pe().q,{createdTime:k.createdTime,lastEditedTime:k.lastEditedTime,authorStore:w,teamStore:o?j:void 0})})]}),(0,ue.jsx)(Ke().n4,{onSizeChange:B,children:(0,ue.jsxs)("div",{style:{position:"relative"},children:[(0,ue.jsx)("div",{style:D.postContent,children:(0,ue.jsx)(Ae().J.Provider,{value:!0,children:(0,ue.jsx)(Ze().Z,{store:x,forceIsInsideMarginCollapseContainer:!0,disabled:!0,disableHoverMenu:!0,disableCommentMenu:!0})})}),p&&!d&&(0,ue.jsx)(Re().Z,{onClick:A}),!p&&(0,ue.jsx)("div",{ref:h,style:D.postIsReadCheckpoint})]})}),(0,ue.jsx)("div",{style:D.commentContainer,children:(0,ue.jsx)(Ee().s,{store:t,pageDiscussionsRenderState:U,wrapper:e=>(0,ue.jsx)("div",{style:{width:"100%"},children:e}),collapsed:!0,discussionLocation:"post_discussion",pageVisitStore:T,presenceStore:P})})]})}):null}function ht(e){const{posts:t,inUnifiedFeed:o}=e;return(0,ue.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:24},children:t.map((e=>(0,ue.jsx)(ft,{store:e,inUnifiedFeed:o},e.id)))})}function St(e){const{posts:t,draftPostStore:o,createDraft:a,composerStyle:l,setComposerStyle:c,inUnifiedFeed:d,canWritePosts:m,teamStore:g,collectionContextStore:f,subscribedUserTeamStores:h}=e,S=(0,r().O7)(),{canJoinTeam:v}=(0,j().K)({teamStore:g}),C=(0,i().VK)((()=>R().Z.state.isOpen),[]),y=(0,n.useCallback)((()=>{T().b({environment:S,draftPostStore:o}),null==c||c("preview")}),[o,S,c]),b=(0,n.useCallback)((()=>{o&&(0,P().g)(o)?R().Z.setState({isOpen:!0}):y()}),[o,y]),x=(0,n.useCallback)((()=>{o&&p().createAndCommit({environment:S,perform:e=>{u().sW({store:o,data:{alive:!1,permissions:[]},transaction:e})},userAction:"PostChannel.discardDraft",canUndo:!1})}),[o,S]),w=(0,s().yK)((()=>({container:{display:"flex",flexDirection:"column",gap:16,paddingTop:2,paddingLeft:0}})),[]);(0,n.useEffect)((()=>{var e;null===(e=S.mobileNative)||void 0===e||e.markTransitionReady({type:"team_home"})}),[S.mobileNative]);const k=(0,M().E)("unified_feed_composer"),I=d&&k&&h.length>0||!d&&(m||v);return(0,ue.jsxs)("div",{style:w.container,children:[I&&(0,ue.jsx)(he,{collectionContextStore:f,teamStore:g,postStore:o,isEditing:!1,onSubmit:b,createDraft:a,discardDraft:x,composerStyle:l,setComposerStyle:c,subscribedUserTeamStores:h}),(0,ue.jsx)(ht,{posts:t,inUnifiedFeed:d}),(0,ue.jsx)(_().Z,{postStore:o,isOpen:C,onDismiss:()=>R().Z.setState({isOpen:!1}),onConfirm:()=>{R().Z.setState({isOpen:!1}),y()}})]})}const vt=[];function Ct(e){const{collectionViewStore:t,collectionContextStore:o,paddingLeft:y,paddingRight:b}=e,[x,w]=(0,n.useState)("preview"),k=(0,r().O7)(),M=(0,i().VK)((()=>{var e;return null===(e=(0,h().B7)(k))||void 0===e?void 0:e.id}),[k]),j=(0,i().VK)((()=>t.getCollectionStore()),[t]),T=(0,i().VK)((()=>o.collectionViewBlockStore()),[o]),P=(0,i().VK)((()=>null==T?void 0:T.getParentStore()),[T]),R=(0,i().VK)((()=>o.groupsStore.getGroupState(vt)),[o]),_={type:"results",filter:{operator:"and",filters:[]},limit:(0,i().VK)((()=>{var e;return(null==R||null===(e=R.currentLimit)||void 0===e?void 0:e.state)??10}),[null==R?void 0:R.currentLimit])},V=(0,g().Z)({id:"default_posts_collection_key",reducer:_,collectionContextStore:o,groupsPointer:vt}),[L,Z]=(0,n.useState)(!1);(0,n.useEffect)((()=>{null==R||R.reducerResultStore.setState(V),V&&Z(!0)}),[V,null==R?void 0:R.reducerResultStore]);const{draftPosts:B,allPosts:A}=(0,i().VK)((()=>{if(null==R||!R.resultsStore||!L)return{draftPosts:void 0,allPosts:void 0};return((null==R?void 0:R.resultsStore.state)??[]).reduce(((e,t)=>{t.uiLocation.removeParent();const o=t.getModel();return"draft"===(null==o?void 0:o.getDraftStatus())?e.draftPosts.push(t):e.allPosts.push(t),e}),{draftPosts:[],allPosts:[]})}),[null==R?void 0:R.resultsStore,L]),K=(0,i().VK)((()=>m().VM({collectionContextStore:o,reducerResult:V,isFullScreen:!1})),[o,V]),D=(0,i().VK)((()=>T?(0,ue.jsx)(f().ZP,{groupsPointer:vt,store:T,collectionContextStore:o,format:t.getFormat(),isFullScreen:o.isFullScreenStore.state,incrementLimitsInRelatedGroups:!1}):void 0),[T,o,t]),H=(0,i().VK)((()=>Boolean(M)&&(l().J5((null==j?void 0:j.getRole())??"none")??!1)),[M,j]),U=void 0===j,F=(0,i().VK)((()=>{if(!(P instanceof v().b4))return;const e=P.getTeamId(),t=S().default.state.currentSpaceStore;return t&&e?v().t1.createChildStore(t,{table:"team",id:e,spaceId:t.id}):void 0}),[P]),E=(0,i().Kw)(o.isLoadedStore),{currentSpaceViewStore:O,currentSpaceStore:z}=(0,i().VK)((()=>({currentSpaceViewStore:S().default.state.currentSpaceViewStore,currentSpaceStore:S().default.state.currentSpaceStore})),[]),[{value:N}]=(0,a().r5)((async()=>{if(!z)return{subscribedTeamIds:void 0,unsubscribedTeamIds:void 0};const e=await c().callApi({eventName:"getSubscribedAndUnsubscribedTeams",environment:k,data:{spaceId:z.id}});if("failed"===e.type)throw e.error;return"success"===e.type?{subscribedTeamIds:e.data.subscribedTeamIds,unsubscribedTeamIds:e.data.unsubscribedTeamIds}:e}),[z,k]),{subscribedTeamIds:J,unsubscribedTeamIds:q}=N??{subscribedTeamIds:void 0,unsubscribedTeamIds:void 0},W=(0,i().VK)((()=>{if(!O||!J)return[];const e=null==O?void 0:O.getTeamsStores();return null==e?void 0:e.filter((e=>null==J?void 0:J.includes(e.id)))}),[O,J]),G=(0,i().VK)((()=>{const e=t.getCollectionSource();if("typed"===(null==e?void 0:e.type))return e.teamId}),[t]);(0,n.useEffect)((()=>{if(W&&G&&q&&0!==q.length&&J&&0!==J.length&&q.includes(G)){const e=W[0];e&&I({environment:k,collectionContextStore:o,currentSpaceViewStore:O,selectedStore:e,postStore:void 0})}}),[q,G,k,o,O,J,W]);const Y=(0,i().VK)((()=>{const e=t.getCollectionSource();if("typed"===(null==e?void 0:e.type)){var o;return(null==e?void 0:e.teamId)??(null==W||null===(o=W[0])||void 0===o?void 0:o.id)}}),[t,W]),$=null==W?void 0:W.find((e=>e.id===Y)),X=(0,i().VK)((()=>null==$?void 0:$.getChannelStore()),[$]),Q=(0,i().VK)((()=>{if(B){if(U){return B.find((e=>e.getPostTeamId()===(null==X?void 0:X.id)))}return B[0]}}),[B,X,U]),ee=(0,i().VK)((()=>{if(!z||!X)return;const e=v().t1.createUniqueRootStore(k,{table:"block",id:X.id,spaceId:z.id});return e.isCollectionView()?e:void 0}),[k,z,X]),te=(0,i().VK)((()=>null==ee?void 0:ee.getCollectionStore()),[ee]),oe=(0,n.useCallback)((()=>{const e=null==P?void 0:P.getSpaceId();let t=j;if(U&&(t=te),!M||!e||!t||!H&&!U)return;return p().createAndCommit({environment:k,perform:e=>{const o=u().j4({environment:k,transaction:e,type:"page",inMemoryRecordCache:k.defaultRecordCache.inMemoryRecordCache,permissions:[{role:"editor",type:"user_permission",user_id:M},{type:"restricted_permission"}]});u().sW({store:o,transaction:e,data:{alive:!0,parent_id:t.id,parent_table:t.table}}),u().sW({store:o.getFormatStore(),transaction:e,data:{draft_status:"draft"}});const n=u().j4({environment:k,transaction:e,type:"text",inMemoryRecordCache:k.defaultRecordCache.inMemoryRecordCache}),r=v().G.createChildStore(o,n.pointer);return u().sW({store:r,transaction:e,data:{alive:!0,parent_id:o.id,parent_table:o.table}}),d().R3({parentStore:o.getContentStore(),appendStore:r,transaction:e}),o},userAction:"PostChannel.createEmptyPostStore",canUndo:!1}).performResult}),[P,k,j,H,M,te,U]),ne=(0,s().yK)((()=>({padding:{paddingLeft:y,paddingRight:b},loadMore:{paddingTop:24,paddingBottom:24}})),[y,b]);return(0,ue.jsx)("div",{style:ne.padding,children:E&&void 0!==A&&P?(0,ue.jsxs)(ue.Fragment,{children:[(0,ue.jsx)(St,{collectionContextStore:U?o:void 0,posts:A,draftPostStore:Q,composerStyle:x,setComposerStyle:w,createDraft:oe,inUnifiedFeed:U,canWritePosts:H,teamStore:F,subscribedUserTeamStores:W}),K&&(0,ue.jsx)("div",{style:ne.loadMore,children:D})]}):(0,ue.jsx)(C().a3,{hasComposer:!0})})}},240703:(e,t,o)=>{"use strict";o.d(t,{s:()=>n});const n=(0,o(788860).vU)({postsCollectionViewPageTitle:{id:"posts.collectionViewPage.title",defaultMessage:"Posts"},postsCollectionTitle:{id:"posts.collection.title",defaultMessage:"Posts DB"},postHeadingName:{id:"posts.collection.headingName",defaultMessage:"Subject"},deleteDraftTooltip:{id:"posts.deleteDraftTooltip",defaultMessage:"Delete draft"},fullScreenTooltip:{id:"posts.fullScreenTooltip",defaultMessage:"Full screen"}})},774172:(e,t,o)=>{"use strict";o.d(t,{g:()=>i,y:()=>r});o(267602),o(749411);var n=()=>o(955620);function r(e){return!e.isTransclusionType()&&!e.isCollectionView()&&!e.hasContent()&&e.isEmptyTitle()}function i(e){const t=(0,n().y2U)(e.getTitleValue()),o=e.getContentStores().flatMap((e=>(0,n().y2U)(e.getTitleValue())));return t.length>0||o&&o.length>0}},620358:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});class n extends(()=>o(263184))().default{getInitialState(){return{isOpen:!1}}}const r=new n},20825:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});class n extends(()=>o(263184))().default{getInitialState(){return{isOpen:!1,blockStore:void 0}}}const r=new n},585742:(e,t,o)=>{"use strict";o.d(t,{W:()=>r});class n extends(()=>o(442))().Z{}const r=new n},685472:(e,t,o)=>{"use strict";o.d(t,{EP:()=>i,LU:()=>s,NS:()=>r,SS:()=>n,ZP:()=>l});const n="loadingLocalImage",r="uploading",i="downloading",s="loaded";class a extends(()=>o(263184))().default{getInitialState(){return{loadingMode:s}}}const l=a},774985:(e,t,o)=>{"use strict";o.d(t,{Z:()=>n});const n=new(o(685472).ZP)},178025:(e,t,o)=>{"use strict";o.d(t,{K:()=>s});var n=()=>o(219727),r=()=>o(142735),i=()=>o(619779);function s(e){const{teamStore:t}=e,o=(0,n().O7)(),s=(0,r().VK)((()=>i().Z.state.spacePermissionGroupIds),[]),a=(0,r().VK)((()=>{if(t&&o.currentUser.id)return t.getTeamRoleForUser(o.currentUser.id,s)}),[t,o.currentUser.id,s]),l=(0,r().VK)((()=>!!t&&"open"===t.getTeamAccessLevel()),[t]),c="none"===a||!a,d=!c;return{isTeamMember:d,canViewPosts:d||l,canJoinTeam:c&&l}}},924665:(e,t,o)=>{"use strict";function n(e){let t,o,n;return async function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t?(n=i,o||(o=t.then((()=>(o=void 0,t=e(...n),t))),o)):(t=e(...i),t)}}o.d(t,{Z:()=>n})},383499:(e,t,o)=>{"use strict";o.d(t,{P:()=>r});o(667294);var n=o(785893);const r=(0,o(827282).IU)("addPageCover",{viewBox:"0 0 14 14",svg:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 0a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm0 12h10L8.5 5.5l-2 4-2-1.5L2 12z"})})},682890:(e,t,o)=>{"use strict";o.d(t,{M:()=>r});o(667294);var n=o(785893);const r=(0,o(827282).IU)("arrowDown",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M8 1.57715C7.5625 1.57715 7.25488 1.88477 7.25488 2.33594V10.8262L7.30957 12.3027L5.50488 10.2861L3.95312 8.75488C3.82324 8.625 3.63184 8.53613 3.42676 8.53613C3.0166 8.53613 2.70898 8.85059 2.70898 9.26758C2.70898 9.46582 2.78418 9.64355 2.94141 9.80762L7.44629 14.3193C7.59668 14.4697 7.79492 14.5586 8 14.5586C8.20508 14.5586 8.40332 14.4697 8.55371 14.3193L13.0586 9.80762C13.2158 9.64355 13.291 9.46582 13.291 9.26758C13.291 8.85059 12.9902 8.53613 12.5801 8.53613C12.3682 8.53613 12.1836 8.625 12.0469 8.75488L10.4951 10.2861L8.69043 12.2959L8.74512 10.8262V2.33594C8.74512 1.88477 8.44434 1.57715 8 1.57715Z"})})},721543:(e,t,o)=>{"use strict";o.d(t,{K:()=>r});o(667294);var n=o(785893);const r=(0,o(827282).IU)("arrowDownSmall",{viewBox:"0 0 12 12",svg:(0,n.jsx)("path",{d:"M5.99756 0.850098C5.53564 0.850098 5.21875 1.17236 5.21875 1.65576V7.61768L5.27246 8.7832L4.19287 7.53711L2.98438 6.33398C2.84473 6.18896 2.66211 6.09229 2.42578 6.09229C2.00684 6.09229 1.68994 6.40381 1.68994 6.84424C1.68994 7.04834 1.77051 7.23633 1.93164 7.40283L5.42285 10.8994C5.56787 11.0498 5.78809 11.1357 5.99756 11.1357C6.2124 11.1357 6.42725 11.0498 6.57227 10.8994L10.0688 7.40283C10.23 7.23633 10.3105 7.04834 10.3105 6.84424C10.3105 6.40381 9.99365 6.09229 9.57471 6.09229C9.34375 6.09229 9.16113 6.18896 9.01611 6.33398L7.80762 7.53711L6.72803 8.7832L6.77637 7.61768V1.65576C6.77637 1.17236 6.46484 0.850098 5.99756 0.850098Z"})})},394480:(e,t,o)=>{"use strict";o.d(t,{t:()=>r});o(667294);var n=o(785893);const r=(0,o(827282).IU)("bell",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M1.36914 11.7627C1.36914 12.3369 1.80664 12.7266 2.51074 12.7266H5.32031C5.38184 14.0322 6.44824 15.2285 8 15.2285C9.55176 15.2285 10.6182 14.0391 10.6797 12.7266H13.4893C14.2002 12.7266 14.6309 12.3369 14.6309 11.7627C14.6309 11.0381 13.9678 10.416 13.3457 9.81445C12.8672 9.34277 12.751 8.39941 12.6621 7.46289C12.5732 4.87207 11.8213 3.14258 10.0371 2.49316C9.77734 1.59082 9.01855 0.900391 8 0.900391C6.98145 0.900391 6.22266 1.59082 5.96289 2.49316C4.17871 3.14258 3.42676 4.87207 3.33789 7.46289C3.24902 8.39941 3.13965 9.34277 2.6543 9.81445C2.03906 10.416 1.36914 11.0381 1.36914 11.7627ZM3.00293 11.4756V11.3936C3.18066 11.1953 3.57715 10.833 3.91211 10.4434C4.38379 9.90332 4.60254 8.92578 4.6709 7.62695C4.75293 4.85156 5.60059 3.92871 6.70801 3.62793C6.87207 3.58691 6.96777 3.50488 6.98145 3.32031C7.01562 2.62305 7.39844 2.1582 8 2.1582C8.60156 2.1582 8.99121 2.62305 9.01855 3.32031C9.03223 3.50488 9.12793 3.58691 9.29883 3.62793C10.3994 3.92871 11.2539 4.85156 11.3291 7.62695C11.3975 8.92578 11.623 9.90332 12.0879 10.4434C12.4297 10.833 12.8125 11.1953 12.9834 11.3936V11.4756H3.00293ZM6.6123 12.7266H9.3877C9.33984 13.5811 8.7793 14.1348 8 14.1348C7.22754 14.1348 6.66699 13.5811 6.6123 12.7266Z"})})},337621:(e,t,o)=>{"use strict";o.d(t,{j:()=>r});o(667294);var n=o(785893);const r=(0,o(827282).IU)("bellDisabled",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M7 15.2285C6.48047 15.2285 6.02246 15.11 5.62598 14.873C5.23405 14.6406 4.92188 14.333 4.68945 13.9502C4.46159 13.5719 4.33854 13.1618 4.32031 12.7197H1.51074C1.15072 12.7197 0.868164 12.6331 0.663086 12.46C0.462565 12.2822 0.362305 12.0475 0.362305 11.7559C0.362305 11.5143 0.426107 11.2842 0.553711 11.0654C0.681315 10.8421 0.843099 10.6279 1.03906 10.4229C1.23958 10.2178 1.44466 10.015 1.6543 9.81445C1.8138 9.65951 1.93685 9.45671 2.02344 9.20605C2.11003 8.9554 2.17611 8.67969 2.22168 8.37891C2.26725 8.07812 2.30371 7.77051 2.33105 7.45605C2.34017 7.08691 2.36296 6.73828 2.39941 6.41016C2.44043 6.08203 2.49512 5.77669 2.56348 5.49414L3.73926 6.66992C3.71647 6.8431 3.69596 7.02539 3.67773 7.2168C3.66406 7.4082 3.65495 7.60872 3.65039 7.81836C3.63216 8.12826 3.60482 8.41536 3.56836 8.67969C3.5319 8.94401 3.48405 9.18555 3.4248 9.4043C3.36556 9.62305 3.29264 9.81901 3.20605 9.99219C3.12402 10.1654 3.02604 10.3158 2.91211 10.4434C2.80273 10.571 2.68652 10.6963 2.56348 10.8193C2.44499 10.9378 2.33561 11.0472 2.23535 11.1475C2.13965 11.2477 2.06217 11.3275 2.00293 11.3867V11.4688H8.54492L10.0078 12.9385H9.64551C9.59538 13.3532 9.45182 13.7337 9.21484 14.0801C8.98242 14.4264 8.6748 14.7044 8.29199 14.9141C7.91374 15.1237 7.48307 15.2285 7 15.2285ZM7 14.1348C7.38737 14.1348 7.70866 14.0072 7.96387 13.752C8.21908 13.4967 8.35807 13.1527 8.38086 12.7197H5.6123C5.63965 13.1527 5.78092 13.4967 6.03613 13.752C6.29134 14.0072 6.61263 14.1348 7 14.1348ZM4.01953 2.99902C4.15625 2.89421 4.30208 2.7985 4.45703 2.71191C4.61654 2.62533 4.78516 2.55241 4.96289 2.49316C5.09049 2.04199 5.33431 1.66374 5.69434 1.3584C6.05436 1.05306 6.48958 0.900391 7 0.900391C7.50586 0.900391 7.9388 1.05306 8.29883 1.3584C8.65885 1.66374 8.90495 2.04199 9.03711 2.49316C9.9349 2.81673 10.5889 3.41146 10.999 4.27734C11.4137 5.14323 11.6416 6.2666 11.6826 7.64746C11.7008 7.9209 11.7282 8.17383 11.7646 8.40625C11.8011 8.63411 11.849 8.84603 11.9082 9.04199C11.972 9.2334 12.0518 9.41113 12.1475 9.5752C12.2477 9.73926 12.3685 9.89648 12.5098 10.0469C12.7786 10.3021 13.0293 10.5664 13.2617 10.8398C13.4941 11.1133 13.6104 11.4027 13.6104 11.708C13.6104 11.9587 13.5329 12.166 13.3779 12.3301L10.6641 9.55469C10.5911 9.39518 10.5342 9.22884 10.4932 9.05566C10.4567 8.87793 10.4271 8.68424 10.4043 8.47461C10.3815 8.26497 10.361 8.03027 10.3428 7.77051C10.3245 6.80892 10.222 6.04557 10.0352 5.48047C9.84831 4.91081 9.60449 4.4847 9.30371 4.20215C9.00293 3.9196 8.66569 3.72819 8.29199 3.62793C8.20996 3.6097 8.14616 3.5778 8.10059 3.53223C8.05501 3.4821 8.02767 3.41146 8.01855 3.32031C8.00033 2.97396 7.90007 2.69368 7.71777 2.47949C7.54004 2.2653 7.30078 2.1582 7 2.1582C6.69922 2.1582 6.45768 2.2653 6.27539 2.47949C6.0931 2.69368 5.99284 2.97396 5.97461 3.32031C5.97005 3.41146 5.94271 3.4821 5.89258 3.53223C5.84701 3.5778 5.78548 3.6097 5.70801 3.62793C5.57585 3.66439 5.44824 3.70996 5.3252 3.76465C5.20671 3.81934 5.09277 3.88542 4.9834 3.96289L4.01953 2.99902ZM0.615234 2.35645C0.514974 2.25163 0.464844 2.12402 0.464844 1.97363C0.464844 1.81868 0.514974 1.6888 0.615234 1.58398C0.724609 1.47917 0.854492 1.42676 1.00488 1.42676C1.15983 1.42676 1.28971 1.47917 1.39453 1.58398L13.8086 13.9912C13.9134 14.096 13.9658 14.2236 13.9658 14.374C13.9658 14.5244 13.9134 14.6543 13.8086 14.7637C13.7038 14.8685 13.5739 14.9209 13.4189 14.9209C13.2686 14.9209 13.141 14.8685 13.0361 14.7637L0.615234 2.35645Z"})})},666669:(e,t,o)=>{"use strict";o.d(t,{z:()=>r});o(667294);var n=o(785893);const r=(0,o(827282).IU)("collectionDescriptionSmall",{viewBox:"0 0 14 14",svg:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 4.667C6.69049 4.667 6.39366 4.54405 6.17481 4.32519C5.95595 4.10634 5.833 3.80951 5.833 3.5C5.833 3.19049 5.95595 2.89366 6.17481 2.67481C6.39366 2.45595 6.69049 2.333 7 2.333C7.30951 2.333 7.60634 2.45595 7.82519 2.67481C8.04405 2.89366 8.167 3.19049 8.167 3.5C8.167 3.80951 8.04405 4.10634 7.82519 4.32519C7.60634 4.54405 7.30951 4.667 7 4.667V4.667ZM8 11C8 11.2652 7.89464 11.5196 7.70711 11.7071C7.51957 11.8946 7.26522 12 7 12C6.73478 12 6.48043 11.8946 6.29289 11.7071C6.10536 11.5196 6 11.2652 6 11V7C6 6.73478 6.10536 6.48043 6.29289 6.29289C6.48043 6.10536 6.73478 6 7 6C7.26522 6 7.51957 6.10536 7.70711 6.29289C7.89464 6.48043 8 6.73478 8 7V11ZM7 0C5.14348 0 3.36301 0.737498 2.05025 2.05025C0.737498 3.36301 0 5.14348 0 7C0 8.85652 0.737498 10.637 2.05025 11.9497C3.36301 13.2625 5.14348 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.14348 13.2625 3.36301 11.9497 2.05025C10.637 0.737498 8.85652 0 7 0V0Z"})})},336533:(e,t,o)=>{"use strict";o.d(t,{L:()=>r});o(667294);var n=o(785893);const r=(0,o(827282).IU)("exitDoor",{viewBox:"0 0 20 20",svg:(0,n.jsx)("path",{d:"M4.121 17.468q-1.1 0-1.661-.568-.56-.567-.56-1.674V4.91q0-1.101.56-1.668.56-.574 1.661-.574h7.28q1.101 0 1.662.574.56.567.56 1.668v3.2h-1.34V4.998q0-.479-.246-.731-.246-.26-.745-.26H4.237q-.498 0-.745.26-.246.252-.246.731v10.145q0 .472.246.724.247.253.745.253h7.055q.5 0 .745-.253.246-.252.246-.724V12.02h1.34v3.206q0 1.107-.56 1.674-.561.568-1.662.568zm4.41-6.775a.6.6 0 0 1-.438-.184.6.6 0 0 1-.185-.444q0-.26.185-.445a.59.59 0 0 1 .437-.191h6.884l1.019.054-.506-.423-1.012-.964a.54.54 0 0 1-.191-.431q0-.233.15-.396a.51.51 0 0 1 .396-.165.55.55 0 0 1 .404.185l2.215 2.297a.7.7 0 0 1 .164.24.62.62 0 0 1 0 .478.8.8 0 0 1-.164.239l-2.215 2.297a.56.56 0 0 1-.403.178.51.51 0 0 1-.397-.165.6.6 0 0 1-.15-.403q0-.253.191-.424l1.012-.957.506-.424-1.019.048H8.53Z"})})},899337:(e,t,o)=>{"use strict";o.d(t,{c:()=>r});o(667294);var n=o(785893);const r=(0,o(827282).IU)("expandFullPage",{viewBox:"0 0 14 14",svg:(0,n.jsx)("path",{d:"M1.16211 6.20312C0.947917 6.20312 0.770182 6.13249 0.628906 5.99121C0.48763 5.84538 0.416992 5.66764 0.416992 5.45801V1.71191C0.416992 1.32454 0.524089 1.02376 0.738281 0.80957C0.957031 0.59082 1.26237 0.481445 1.6543 0.481445H5.44141C5.66016 0.481445 5.83789 0.552083 5.97461 0.693359C6.11589 0.834635 6.18652 1.01237 6.18652 1.22656C6.18652 1.44531 6.11589 1.62533 5.97461 1.7666C5.83333 1.90332 5.6556 1.97168 5.44141 1.97168H4.91504L2.76172 1.82812L4.43652 3.4209L6.41895 5.38965C6.4873 5.46257 6.53971 5.54688 6.57617 5.64258C6.61719 5.73372 6.6377 5.83171 6.6377 5.93652C6.6377 6.16439 6.5625 6.34896 6.41211 6.49023C6.26628 6.63151 6.07715 6.70215 5.84473 6.70215C5.63965 6.70215 5.46647 6.63151 5.3252 6.49023L3.35645 4.50098L1.76367 2.82617L1.90723 4.97266V5.45801C1.90723 5.6722 1.83659 5.84993 1.69531 5.99121C1.55859 6.13249 1.38086 6.20312 1.16211 6.20312ZM8.55176 13.6543C8.33757 13.6543 8.15755 13.5837 8.01172 13.4424C7.87044 13.3011 7.7998 13.1234 7.7998 12.9092C7.7998 12.695 7.87044 12.5173 8.01172 12.376C8.15755 12.2347 8.33757 12.1641 8.55176 12.1641H9.07812L11.2383 12.3076L9.5498 10.7148L7.58105 8.74609C7.50358 8.67318 7.44434 8.59115 7.40332 8.5C7.36686 8.4043 7.34863 8.30404 7.34863 8.19922C7.34863 7.97135 7.42383 7.78678 7.57422 7.64551C7.72461 7.50423 7.91374 7.43359 8.1416 7.43359C8.35579 7.43359 8.53125 7.50423 8.66797 7.64551L10.6299 9.62793L12.2295 11.3096L12.0859 9.16309V8.67773C12.0859 8.46354 12.1566 8.28581 12.2979 8.14453C12.4391 8.00326 12.6146 7.93262 12.8242 7.93262C13.0384 7.93262 13.2161 8.00326 13.3574 8.14453C13.5033 8.28581 13.5762 8.46354 13.5762 8.67773V12.417C13.5762 12.8089 13.4668 13.112 13.248 13.3262C13.0339 13.5449 12.7308 13.6543 12.3389 13.6543H8.55176Z"})})},1723:(e,t,o)=>{"use strict";o.d(t,{l:()=>r});o(667294);var n=o(785893);const r=(0,o(827282).IU)("import",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M13.291 14.5723C13.291 14.1484 12.9902 13.834 12.5732 13.834H8.06836C8.24609 13.8203 8.42383 13.7314 8.56055 13.5947L13.0586 9.08301C13.2158 8.91895 13.291 8.74121 13.291 8.54297C13.291 8.12598 12.9902 7.81836 12.5801 7.81836C12.3682 7.81836 12.1836 7.90039 12.0469 8.03711L10.4951 9.56836L8.69043 11.585L8.75195 10.1084V1.61133C8.75195 1.16016 8.44434 0.852539 8 0.852539C7.5625 0.852539 7.25488 1.16016 7.25488 1.61133V10.1084L7.30957 11.5781L5.50488 9.56836L3.95312 8.03711C3.82324 7.90039 3.63184 7.81836 3.42676 7.81836C3.0166 7.81836 2.70898 8.12598 2.70898 8.54297C2.70898 8.74121 2.78418 8.91895 2.94141 9.08301L7.44629 13.5947C7.58301 13.7314 7.75391 13.8203 7.93848 13.834H3.44043C3.0166 13.834 2.70898 14.1484 2.70898 14.5723C2.70898 14.9893 3.0166 15.3037 3.44043 15.3037H12.5732C12.9902 15.3037 13.291 14.9893 13.291 14.5723Z"})})},890598:(e,t,o)=>{"use strict";o.d(t,{h:()=>r});o(667294);var n=o(785893);const r=(0,o(827282).IU)("mailRound",{viewBox:"0 0 17 12",svg:(0,n.jsx)("path",{d:"M3.09961 11.9639H14.1055C15.3359 11.9639 16.0469 11.2529 16.0469 9.84473V2.29785C16.0469 0.896484 15.3291 0.185547 13.9004 0.185547H2.89453C1.66406 0.185547 0.953125 0.889648 0.953125 2.29785V9.84473C0.953125 11.2598 1.6709 11.9639 3.09961 11.9639ZM7.68652 6.41992L2.52539 1.32715C2.67578 1.26562 2.85352 1.23145 3.05859 1.23145H13.9414C14.1533 1.23145 14.3379 1.26562 14.4883 1.33398L9.34082 6.41992C9.04688 6.71387 8.78027 6.84375 8.51367 6.84375C8.24023 6.84375 7.97363 6.70703 7.68652 6.41992ZM1.99902 9.84473V2.29785C1.99902 2.24316 1.99902 2.27051 1.99902 2.22266L5.92969 6.08496L2.00586 9.96094C1.99902 9.92676 1.99902 9.88574 1.99902 9.84473ZM15.001 2.30469V9.85156C15.001 9.87891 15.001 9.91309 15.001 9.94043L11.0977 6.08496L15.001 2.24316C15.001 2.30469 15.001 2.30469 15.001 2.30469ZM3.05859 10.918C2.86719 10.918 2.70312 10.8906 2.55957 10.8291L6.64746 6.78906L7.0918 7.22656C7.57031 7.69824 8.02832 7.89648 8.51367 7.89648C8.99219 7.89648 9.45703 7.69824 9.93555 7.22656L10.3799 6.78906L14.4609 10.8223C14.3105 10.8906 14.1396 10.918 13.9414 10.918H3.05859Z"})})},396820:(e,t,o)=>{"use strict";o.d(t,{D:()=>r});o(667294);var n=o(785893);const r=(0,o(827282).IU)("megaphone",{viewBox:"0 0 64 64",svg:(0,n.jsx)("path",{d:"m54,10v40h-4l-20-10h-4l4,16h-10l-4-16c-4.94,0-8-3.06-8-8v-4c0-4.94,3.06-8,8-8h14l20-10h4Z"})})},519454:(e,t,o)=>{"use strict";o.d(t,{R:()=>r});o(667294);var n=o(785893);const r=(0,o(827282).IU)("pencil",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M3.926 13.307H14.11c.183 0 .34-.066.472-.199a.644.644 0 00.198-.471.652.652 0 00-.198-.479.644.644 0 00-.472-.198H5.272l-1.346 1.347zm-.704-.636l7.683-7.684-1.312-1.319-7.69 7.684-.67 1.606c-.037.1-.017.191.06.273.083.082.174.105.274.069l1.655-.63zm8.34-8.326l.738-.732c.182-.187.278-.376.287-.567.009-.192-.068-.374-.232-.547l-.267-.267c-.169-.168-.351-.246-.547-.232-.196.014-.385.11-.567.287l-.739.732 1.327 1.326z"})})},899548:(e,t,o)=>{"use strict";o.d(t,{R:()=>r});o(667294);var n=o(785893);const r=(0,o(827282).IU)("search",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M.281 6.438c0-.875.164-1.696.492-2.461a6.484 6.484 0 011.375-2.032A6.237 6.237 0 016.64.078 6.2 6.2 0 019.11.57c.77.328 1.447.787 2.03 1.375a6.374 6.374 0 011.368 2.032c.333.765.5 1.586.5 2.46 0 .688-.107 1.342-.32 1.961a6.28 6.28 0 01-.868 1.696l3.563 3.578c.11.104.19.226.242.367.057.14.086.29.086.445 0 .22-.05.417-.149.594a1.122 1.122 0 01-1 .57c-.156 0-.307-.028-.453-.086a1.058 1.058 0 01-.382-.25l-3.586-3.585c-.5.333-1.047.596-1.641.789a6.089 6.089 0 01-1.86.28 6.237 6.237 0 01-2.468-.491 6.4 6.4 0 01-2.024-1.367A6.509 6.509 0 01.773 8.913a6.256 6.256 0 01-.492-2.476zm1.664 0c0 .65.12 1.26.36 1.828a4.775 4.775 0 001.015 1.5c.433.427.933.763 1.5 1.007a4.548 4.548 0 001.82.368c.652 0 1.261-.123 1.829-.368a4.747 4.747 0 002.508-2.507 4.567 4.567 0 00.367-1.829c0-.645-.123-1.252-.367-1.82a4.776 4.776 0 00-1.016-1.5A4.578 4.578 0 008.469 2.11a4.567 4.567 0 00-1.828-.367c-.646 0-1.253.123-1.82.367a4.667 4.667 0 00-1.5 1.008c-.433.432-.772.932-1.016 1.5a4.633 4.633 0 00-.36 1.82z"})})},400939:e=>{var t=/[a-zA-Z0-9_\u0392-\u03c9\u00c0-\u00ff\u0600-\u06ff]+|[\u4e00-\u9fff\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g;e.exports=function(e){var o=e.match(t),n=0;if(!o)return 0;for(var r=0;r<o.length;r++)o[r].charCodeAt(0)>=19968?n+=o[r].length:n+=1;return n}},429830:(e,t,o)=>{"use strict";var n=o(79989),r=o(826166),i=o(165290),s=o(87370),a=Array;n({target:"Array",proto:!0},{toReversed:function(){return r(i(this),a)}}),s("toReversed")}}]);