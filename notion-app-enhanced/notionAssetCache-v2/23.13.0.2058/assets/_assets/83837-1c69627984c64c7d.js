"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[83837],{136343:(e,t,i)=>{i.d(t,{O:()=>$});var o=()=>i(146947),n=()=>i(743359),s=()=>i(321160),r=()=>i(728670),a=()=>i(955620),l=()=>i(661727),d=()=>i(513670),c=()=>i(707513),g=()=>i(205228),u=()=>i(527278),p=()=>i(239482),h=()=>i(436094),m=()=>i(95718),y=()=>i(421654),x=()=>i(269299),f=()=>i(109757);const S=630,C=1200,b=(0,i(568017).gh)({theme:"light"}),j=240,v="white",k=200,w=96,B=150,I=184,Z=100,R=145,T=23,M=347,H=24,L=100,P=100,E=100,_="black",K=96,A=68,U=b.text.tertiary,V=40,z=(0,i(788860).vU)({builtWithNotion:{id:"socialMediaPreview.madeWithNotion",defaultMessage:"Made with Notion"}}),W='"Apple Color Emoji","Segoe UI Emoji",NotoColorEmoji,"Noto Color Emoji","Segoe UI Symbol","Android Emoji",EmojiSymbols';function O(e){return new Promise(((t,i)=>{const o=new Image;o.onload=()=>t(o),o.onerror=i,o.crossOrigin="anonymous",o.src=e}))}function F(e,t){return`${c().Ue.bold} ${t}px ${c().pe({pageFont:e,locale:o().locale})}`}function D(e){const t=c().Ue.medium,i=c().pe({pageFont:e,locale:o().locale});return`${t} ${V}px ${i}`}function N(e){let{context:t,text:i,font:o,color:n,x:s,y:r}=e;t.font=o,t.textAlign="left",t.textBaseline="top",t.fillStyle=n,t.fillText(i,s,r)}async function $(e){var t;let{store:i,environment:o}=e;if(i.pathIsDead()||!(0,r().$t)(p().fJ(i))||(0,m().Eo)(i)||i.inMemoryRecordCache.recordHasOverride({pointer:i.pointer,userId:o.currentUser.id}))return;const c=a().QaF(i.getTitleValue())||"",V=null===(t=i.getIcon())||void 0===t?void 0:t.icon,$=function(e,t){var i;const o=null===(i=t.getCover())||void 0===i?void 0:i.cover;if(o)return n().EK({url:o,width:C,permissionRecord:t.pointer,stripGoogleIconQuery:!0,baseUrl:g().default.domainBaseUrl,fullyQualified:!1,userId:e.currentUser.id})}(o,i),q=i.getFormat(),G=new OffscreenCanvas(C,S),Q=G.getContext("2d"),[Y,X]=function(e,t){const i=document.createElement("div");i.style.width="auto",i.style.position="absolute",i.style.whiteSpace="nowrap",i.style.font=F(t,K),i.style.top="110vh",i.innerText=e;const o=C-L-P,n=document.body;if(n.appendChild(i),i.clientWidth<o)return n.removeChild(i),[e,K];if(i.style.font=F(t,A),i.clientWidth<o)return n.removeChild(i),[e,A];let s=e;for(;i.clientWidth>o;)s=s.substring(0,s.length-1),i.innerText=`${s}…`;return n.removeChild(i),[`${s}…`,A]}(c,q.page_font),J=F(q.page_font,X),ee=M+(V?T:0),te=ee+H+X;if(Q){!function(e){e.fillStyle=v,e.fillRect(0,0,C,S)}(Q),await async function(e){let{context:t,coverImageUrl:i,icon:o,coverPosition:n=.5}=e;if(i){const e=await O(i),o=e.width*(j/C),s=((0,d().hj)(n)?1-n:.5)*(e.height-o);t.drawImage(e,0,s,e.width,o,0,0,C,j)}else{const e=(0,h().O)({icon:o,theme:b}),i=e?(0,l().Fq)(e,.1):b.home.cards.coverPhoto.base;t.fillStyle=i,t.fillRect(0,0,C,j),t.fillStyle="rgb(0,0,0,1)"}}({context:Q,coverImageUrl:$,icon:V,coverPosition:q.page_cover_position}),await async function(e){let{context:t,store:i,icon:o}=e;if(o)if((0,s().Z)(o))t.font=`${k}px ${W}`,t.textAlign="left",t.textBaseline="top",t.fillText(o,w,B);else{const e=n().EK({url:o,baseUrl:g().default.domainBaseUrl,fullyQualified:!0,permissionRecord:i.pointer,width:I,userId:void 0}),s=await O(e);t.drawImage(s,Z,R,I,I)}}({context:Q,store:i,icon:V}),N({context:Q,text:Y,font:J,color:_,x:L,y:ee}),N({context:Q,text:u().Z.formatMessage(z.builtWithNotion),font:D(q.page_font),color:U,x:E,y:te});const e=await G.convertToBlob();!function(e){let{store:t,file:i,environment:o}=e;f().cT({environment:o,file:i,bucket:"secure",record:t.pointer,onComplete:e=>{x().createAndCommit({userAction:"SocialMediaPreviewImageUploadStore.updateSocialMediaPreviewImage",environment:o,canUndo:!1,perform:i=>{y().eO({store:t,url:e,transaction:i})}})},retryWhenOffline:!0})}({store:i,environment:o,file:new File([e],"SocialMediaPreviewImage.png",{type:"image/png"})})}}},579217:(e,t,i)=>{i.d(t,{_:()=>s,s:()=>n});var o=()=>i(677559);const n=(0,o().kF)(new(o().Ss)("UniversalQnaModals",(async()=>await Promise.all([i.e(62743),i.e(37358),i.e(7312),i.e(31189),i.e(69343),i.e(2933),i.e(7678),i.e(20919),i.e(52435),i.e(75066),i.e(37317),i.e(78517),i.e(93843),i.e(58183)]).then(i.bind(i,960872)))),(e=>e.UniversalQnaModals)),s=(0,o().kF)(new(o().Ss)("SlackConnectionOptions",(async()=>await i.e(16982).then(i.bind(i,945272)))),(e=>e.SlackConnectionOptions))},436094:(e,t,i)=>{i.d(t,{O:()=>r});i(122556),i(582845),i(250570),i(533019),i(721473),i(788208),i(22624);var o=()=>i(890085),n=()=>i(321160),s=()=>i(338530);function r(e){let{icon:t,theme:i}=e;if(t)return(0,n().Z)(t)?s().Z.state.emojiByColorProcessed[t]:(0,o().V2)(t)?function(e){var t;let{uri:i,theme:n}=e;const s=null===(t=i.match(/\/icons\/[\w\-]*_(.+)\.svg/))||void 0===t?void 0:t[1];if(!function(e){if(!e)return!1;return a.has(e)}(s))return;return o().Lr[n.mode][s]}({uri:t,theme:i}):void 0}const a=new Set((0,i(696459).Yd)(o().Lr.light))},339858:(e,t,i)=>{i.d(t,{Z:()=>r});var o=()=>i(846550),n=()=>i(968061),s=()=>i(467526);function r(e){const{style:t}=e,i=(0,o().Fg)(),r=(0,o().yK)((e=>({notionLogo:{height:14,width:14,fill:e.icon.primary,...t}})),[t]);return"light"===i.mode?(0,n().h)(r.notionLogo):(0,s().N)(r.notionLogo)}},838250:(e,t,i)=>{i.d(t,{Z:()=>y});i(667294);var o=()=>i(219727),n=()=>i(142735),s=()=>i(846550),r=i(785893);const a=(0,i(827282).IU)("windowsControls",{viewBox:"0 0 51 9",svg:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("rect",{width:"6",height:".75",x:"1.5",y:"4.625",rx:".375"}),(0,r.jsx)("path",{d:"M22.875 1.25c-.621 0-1.125.504-1.125 1.125v5.25c0 .621.504 1.125 1.125 1.125h5.25c.621 0 1.125-.504 1.125-1.125v-5.25c0-.621-.504-1.125-1.125-1.125h-5.25Zm0 .75h5.25c.207 0 .375.168.375.375v5.25a.375.375 0 0 1-.375.375h-5.25a.375.375 0 0 1-.375-.375v-5.25c0-.207.168-.375.375-.375ZM43.566 2.162l.044-.052a.375.375 0 0 1 .478-.043l.052.043 2.36 2.36 2.36-2.36a.375.375 0 0 1 .53.53L47.03 5l2.36 2.36c.13.13.145.332.044.478l-.044.052a.375.375 0 0 1-.478.044l-.052-.044-2.36-2.36-2.36 2.36a.375.375 0 1 1-.53-.53L45.97 5l-2.36-2.36a.375.375 0 0 1-.044-.478l.044-.052-.044.052Z"})]})});var l=()=>i(943620),d=()=>i(251932),c=()=>i(663132),g=()=>i(759160),u=()=>i(339858);const p={small:4,regular:8},h={small:{height:22,paddingLeft:8,paddingRight:10},regular:{height:42,paddingTop:10,paddingLeft:20,paddingRight:20,paddingBottom:8}},m={small:{height:28,paddingLeft:8,paddingRight:12},regular:{paddingTop:12,paddingLeft:16,paddingRight:16,paddingBottom:2}};function y(e){const{isMac:t}=(0,o().Fy)();return t?(0,r.jsx)(x,{...e}):(0,r.jsx)(S,{...e})}function x(e){const{store:t,siteRootBlockStore:i,size:o,location:n,showAddressBar:a}=e,l=p[o??"regular"],c=(0,s().yK)((e=>({container:{borderTopRightRadius:6,borderTopLeftRadius:6,backgroundColor:"publish_preview"===n?e.accentColors.gray[75]:"transparent",...h[o??"regular"]},contentContainer:{flex:1}})),[n,o]),g=a&&t&&i;return(0,r.jsxs)(d().gq,{alignItems:"center",gap:l,style:c.container,children:[(0,r.jsx)(f,{size:o}),g&&(0,r.jsx)(d().gq,{justifyContent:"center",alignItems:"center",style:c.contentContainer,children:(0,r.jsx)(b,{store:t,siteRootBlockStore:i})})]})}function f(e){const{size:t}=e,i=(0,s().yK)((e=>{const i="small"===t?6:10;return{circle:{borderRadius:"50%",height:i,width:i,background:e.icon.quaternary}}}),[t]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:i.circle}),(0,r.jsx)("div",{style:i.circle}),(0,r.jsx)("div",{style:i.circle})]})}function S(e){const{store:t,siteRootBlockStore:i,size:o,location:n,showAddressBar:a}=e,l=p[o??"regular"],c=(0,s().yK)((e=>({container:{width:"100%",borderTopRightRadius:6,borderTopLeftRadius:6,backgroundColor:"publish_preview"===n?e.sitesPagePreviewWindowsChromeBar:"transparent",...m[o??"regular"]},buttonContainer:{paddingLeft:6,fontSize:12},windowsButtons:{paddingRight:2}})),[n,o]),g=a&&t&&i;return(0,r.jsxs)(d().gq,{alignItems:"center",justifyContent:g?"center":"flex-end",gap:l,style:c.container,children:[g&&(0,r.jsx)(b,{store:t,siteRootBlockStore:i}),(0,r.jsx)(C,{size:o,style:c.windowsButtons})]})}function C(e){const{size:t,style:i}=e,o=(0,s().yK)((e=>({icon:{height:"small"===t?9:24,width:"small"===t?51:70,color:e.icon.tertiary}})),[t]);return(0,r.jsx)("div",{style:i,children:a(o.icon)})}function b(e){const{store:t,siteRootBlockStore:i}=e,{isMac:a}=(0,o().Fy)(),{icon:p,isEmptyPage:h,publicDomainName:m}=(0,n().VK)((()=>{const e=g().Z.getState().faviconUrl;let o;const n=i.getSiteStore(),s=c().Co({spaceStore:t.getSpaceStore(),domainId:null==n?void 0:n.getDomainId()});return o=e?{pointer:i.pointer,icon:e}:t.getIcon(),{icon:o,isEmptyPage:t.isEmptyPage(),publicDomainName:s}}),[t,i]),y=(0,s().yK)((e=>({container:{paddingLeft:a?120:12,paddingRight:a?120:12,paddingTop:4,paddingBottom:4,background:e.contentBackground,borderRadius:a?16:20,border:`1px solid ${e.stroke.secondary}`,width:a?"auto":"100%",color:e.text.secondary,fontSize:12}})),[a]),x=p?(0,r.jsx)(l().Z,{disabled:!0,icon:p,isEmptyPage:h,disableShrinking:!0,size:16,emojiSize:16,style:{marginRight:4}}):(0,r.jsx)(u().Z,{});return(0,r.jsxs)(d().gq,{alignItems:"center",gap:4,style:y.container,children:[a&&x,m]})}},492077:(e,t,i)=>{i.d(t,{C:()=>s});var o=i(667294),n=i(785893);const s=o.forwardRef(((e,t)=>{const o=(0,i(846550).yK)((t=>({buttonStyle:{paddingLeft:8,paddingRight:8,paddingTop:2,paddingBottom:2,width:"100%",marginLeft:0,background:"transparent"},menuItemStyle:{gap:6,background:"transparent"},innerContainer:{marginLeft:0,paddingLeft:0,minWidth:"auto",color:e.disabled?t.text.secondary:void 0,background:"transparent"},desktopIconStyle:{margin:0},rightStyle:{display:"flex",alignItems:"center",gap:6,color:t.text.secondary,margin:0,...e.rightStyle}})),[e.disabled,e.rightStyle]);return(0,n.jsx)(i(827973).Z,{role:"button",...e,ref:t,style:o.menuItemStyle,buttonStyle:o.buttonStyle,textWrapperStyle:o.innerContainer,desktopIconStyle:o.desktopIconStyle,rightStyle:o.rightStyle})}));s.displayName="SiteSettingButtonMenuItem"},860675:(e,t,i)=>{i.d(t,{Z:()=>S});i(670560),i(267602),i(30005),i(667294);var o=()=>i(142735),n=()=>i(846550),s=()=>i(44037),r=()=>i(159253),a=()=>i(968061),l=()=>i(467526),d=()=>i(519454),c=()=>i(899548),g=()=>i(858233),u=()=>i(396136),p=()=>i(788860),h=()=>i(707513),m=()=>i(943620),y=()=>i(384241),x=()=>i(826955),f=i(785893);function S(e){const{spaceStore:t,keys:i,size:o,showCustomHeaderPages:a,left:l,style:u}=e,p=(0,n().yK)((e=>{const t=j(o),i=function(e){return"small"===e?10:16}(o);return{topbarContainer:{display:"flex",alignItems:"center",marginLeft:8,marginRight:12,...u},actionsContainer:{display:"flex",flexDirection:"row",gap:i,alignItems:"center"},icon:{height:t,width:t,fill:e.icon.primary},searchIcon:{height:t-2,width:t-2,fill:e.icon.primary}}}),[o,u]),h=[];return i.forEach((e=>{"duplicate"===e?h.push((0,f.jsx)("div",{children:(0,s().a)(p.icon)},"duplicate")):"comment"===e?h.push((0,f.jsx)("div",{children:(0,g().o)(p.icon)},"comment")):"edit"===e?h.push((0,f.jsx)("div",{children:(0,d().R)(p.icon)},"edit")):"more"===e?h.push((0,f.jsx)("div",{children:(0,r().O)(p.icon)},"more")):"search"===e?h.push((0,f.jsx)("div",{children:(0,c().R)(p.searchIcon)},"search")):"signUpOrLogIn"===e?h.push((0,f.jsx)(C,{size:o},"signUpOrLogIn")):t&&a&&h.push((0,f.jsx)(b,{spaceStore:t,blockId:e},e))})),(0,f.jsxs)("div",{style:p.topbarContainer,children:[l,(0,f.jsx)("div",{style:{flex:1}}),(0,f.jsx)("div",{style:p.actionsContainer,children:h})]})}function C(e){const{size:t}=e,i=(0,n().yK)((e=>{const i=j(t),o=function(e){return"small"===e?{paddingTop:2,paddingBottom:2,paddingLeft:6,paddingRight:6}:"large"===e?{paddingTop:4,paddingBottom:4,paddingLeft:10,paddingRight:10}:{paddingTop:4,paddingBottom:4,paddingLeft:8,paddingRight:8}}(t);return{signUpContainer:{display:"flex",alignItems:"center",gap:4,border:`1px solid ${e.darkDividerColor}`,borderRadius:4,fontSize:v(t),fontWeight:h().Ue.medium,whiteSpace:"nowrap",...o},icon:{height:i-2,width:i-2,fill:e.icon.primary}}}),[t]),o=(0,n().Fg)();return(0,f.jsxs)("div",{style:i.signUpContainer,children:[(0,f.jsx)(p()._H,{defaultMessage:"Made with",id:"publishSiteSettings.topbar.madeWithPreview"}),"light"===o.mode?(0,a().h)(i.icon):(0,l().N)(i.icon)]})}function b(e){const{spaceStore:t,blockId:i}=e,{store:s,icon:r,isEmptyPage:a}=(0,o().VK)((()=>{const e=x().G.createChildStore(t,{table:u().iU,id:i});return{store:e,icon:e.getIcon(),isEmptyPage:e.isEmptyPage()}}),[t,i]),l=(0,n().yK)((()=>({container:{display:"flex",alignItems:"center",gap:4},pageTitle:{fontSize:14,wordBreak:"break-word",marginRight:4}})),[]);return(0,f.jsxs)("div",{style:l.container,children:[r&&(0,f.jsx)(m().Z,{icon:r,store:s,disabled:!0,size:14,isEmptyPage:a,emojiSize:20,style:{marginRight:4}}),(0,f.jsx)(y().Z,{store:s,style:l.pageTitle,maxLength:24})]})}function j(e){return"small"===e?12:16}function v(e){return"small"===e?9:"large"===e?14:12}},591917:(e,t,i)=>{i.r(t),i.d(t,{SITE_SETTINGS_TOOLTIP_WIDTH:()=>bt,SiteSettingsLayoutEditor:()=>jt});var o=i.n(i(294184)),n=i(667294),s=()=>i(340335),r=()=>i(219727),a=()=>i(142735),l=()=>i(846550),d=()=>i(328714),c=()=>i(456681),g=()=>i(467171),u=()=>i(492522),p=()=>i(788860),h=()=>i(707513),m=()=>i(76254),y=()=>i(265640),x=()=>i(906651),f=()=>i(384241),S=()=>i(842574),C=()=>i(654133),b=()=>i(251932),j=()=>i(778447),v=()=>i(247724),k=()=>i(832924),w=()=>i(142730),B=()=>i(26796),I=()=>i(998901),Z=()=>i(520849),R=()=>i(725751),T=()=>i(311562),M=()=>i(815277),H=()=>i(998470),L=()=>i(566245),P=()=>i(772084),E=()=>i(759160),_=()=>i(838250),K=()=>i(860675),A=(i(267602),i(653476),()=>i(943620)),U=()=>i(239482),V=()=>i(826955),z=i(785893);function W(e){const{store:t,siteRootBlockStore:i}=e,{rootStore:o,showEllipsis:n}=function(e,t){return(0,a().VK)((()=>{let i=!1;const o=U().uJ(e).filter((e=>!(e instanceof V().zX)&&(!i&&(e instanceof V().G?(i=e.id===t.id,!0):void 0))));return{rootStore:o[o.length-1].id===e.id?void 0:o[o.length-1],showEllipsis:o.length>2}}),[e,t])}(t,i),s=(0,l().yK)((e=>({ellipsis:{color:e.text.secondary}})),[]),r=n?(0,z.jsx)("span",{style:s.ellipsis,children:"/ ... /"}):o?(0,z.jsx)("span",{style:s.ellipsis,children:"/"}):null;return(0,z.jsxs)(b().gq,{gap:4,children:[o&&(0,z.jsx)(O,{store:o}),r,(0,z.jsx)(O,{store:t})]})}function O(e){const{store:t}=e,{icon:i,isEmptyPage:o}=(0,a().VK)((()=>({icon:t.getIcon(),isEmptyPage:t.isEmptyPage()})),[t]),n=(0,l().yK)((e=>({container:{display:"flex",alignItems:"center",gap:6,color:e.text.secondary,fontSize:14,lineHeight:1.42},title:{maxWidth:240}})),[]);return(0,z.jsxs)("div",{style:n.container,children:[i&&(0,z.jsx)(A().Z,{disabled:!0,icon:i,isEmptyPage:o,disableShrinking:!0,size:16,emojiSize:16,style:{marginRight:4}}),(0,z.jsx)(f().Z,{style:n.title,shouldWrap:!1,maxLines:1,store:t})]})}var F=()=>i(703256),D=()=>i(1910),N=()=>i(385337),$=()=>i(568017),q=()=>i(513670),G=()=>i(291198),Q=()=>i(94967),Y=()=>i(67961);const X=/^[A-Za-z0-9]+$/;function J(e){const{disabled:t}=e,[i,o]=(0,n.useState)(!1),[s,r]=(0,n.useState)(!1),d=(0,a().VK)((()=>E().Z.getState().googleAnalyticsId),[]),[c,g]=(0,n.useState)(d),u=(0,l().yK)((e=>({container:{display:"flex",gap:24,marginLeft:8,marginRight:8},description:{color:e.text.secondary},inputGroup:{gap:6},inputLabel:{fontWeight:h().Ue.medium,fontSize:12,lineHeight:1.2,color:e.text.secondary},inputContainer:{background:t?e.surface.wash:e.surface.page,borderRadius:4,boxShadow:s?"0px 0px 0px 1px #2383E2 inset, 0px 0px 0px 2px rgba(35, 131, 226, 0.35)":`${e.regularDividerColor} 0px 0px 0px 1px inset`,height:28,padding:8,fontWeight:h().Ue.regular,fontSize:14,lineHeight:1.3,color:e.text.secondary},input:{marginLeft:-6,paddingLeft:0,color:e.text.primary},connectButton:{display:"flex",justifyContent:"center",alignItems:"center",gap:8,padding:4,background:e.tint.uiBlue,fontSize:14,color:e.text.uiBluePrimary,borderRadius:6},connectButtonHover:{background:e.tint.uiBlueHover},errorContainer:{fontSize:12,width:"100%",color:$().ZP.red}})),[s,t]);return(0,z.jsxs)(b().Ht,{style:u.container,children:[(0,z.jsx)(Y().Z,{isSmall:!0,isMultiline:!0,style:u.description,children:(0,z.jsx)(p()._H,{id:"siteSettingsEditor.googleAnalytics.description",defaultMessage:"Add your Google Analytics measurement ID and publish changes to start tracking your site"})}),(0,z.jsxs)(b().Ht,{style:u.inputGroup,children:[(0,z.jsx)("div",{style:u.inputLabel,children:(0,z.jsx)(p()._H,{id:"siteSettingsEditor.googleAnalytics.inputLabel",defaultMessage:"Measurement ID"})}),(0,z.jsx)(Q().Z,{debugName:"InputMenuItem",capture:!0,onUntab:q().yR,onTab:q().yR,onSelectAll:q().yR,onRedo:q().yR,onUndo:q().yR,onToggleBold:q().yR,onToggleItalics:q().yR,onToggleCode:q().yR,onCut:q().yR,onCopy:q().yR,onPaste:q().yR,onKeypress:q().yR,onLeft:q().yR,onRight:q().yR,onDelete:q().yR,onBackspace:q().yR,children:(0,z.jsx)(G().Z,{type:"text",style:u.inputContainer,inputStyle:u.input,value:c,onChange:e=>{const t=e.target.value;if(t){const e=X.test(t);g(t),o(!e),e&&H().gx(t)}else g(void 0),H().gx(t)},format:G().B.Transparent,onFocus:()=>r(!0),onBlur:()=>r(!1),left:"G-",disabled:t})}),i&&(0,z.jsx)("div",{style:u.errorContainer,children:(0,z.jsx)(p()._H,{id:"siteSettingsEditor.googleAnalytics.validationError",defaultMessage:"Only alphanumeric characters allowed"})})]})]})}var ee=()=>i(827282);const te=(0,ee().IU)("breadcrumb",{viewBox:"0 0 14 12",svg:(0,z.jsx)("path",{d:"M9.813 11.33c-.395 0-.637-.241-.637-.578 0-.1.018-.2.035-.265l2.69-9.263c.113-.378.313-.555.668-.555.377 0 .63.242.63.602a.875.875 0 0 1-.029.242l-2.702 9.299c-.106.348-.313.519-.655.519ZM7.283 9.252a.888.888 0 0 1-.899-.9c0-.499.393-.899.9-.899.499 0 .892.4.892.9 0 .505-.393.899-.893.899ZM4.491 9.252a.888.888 0 0 1-.899-.9c0-.499.393-.899.9-.899.499 0 .892.4.892.9 0 .505-.393.899-.893.899ZM1.7 9.252a.888.888 0 0 1-.9-.9c0-.499.394-.898.9-.898.499 0 .892.4.892.899 0 .505-.393.899-.893.899Z"})});var ie=()=>i(255577),oe=()=>i(388284),ne=()=>i(471645),se=()=>i(164079),re=()=>i(836416),ae=()=>i(492077),le=()=>i(982421),de=()=>i(396136),ce=()=>i(119891),ge=()=>i(159732),ue=()=>i(154186),pe=(i(241792),()=>i(801812)),he=()=>i(899548),me=()=>i(312578),ye=()=>i(967092),xe=()=>i(231219),fe=()=>i(104088);const Se=10;function Ce(e){const{siteRootBlockStore:t,onSelection:i,onResetInput:o}=e,[s,r]=(0,n.useState)(""),[a,d]=(0,n.useState)(!1),c=(0,l().yK)((()=>({resultsPopup:{width:264}})),[]),g=(0,n.useCallback)((e=>{i(e),d(!1),r("")}),[i,d]),u=(0,n.useCallback)((()=>{d(!1)}),[d]),p=(0,n.useCallback)((()=>{a||o()}),[a,o]);return(0,z.jsx)(ye().ZP,{alignmentToOrigin:I().Alignment.Start,origin:(0,z.jsx)(be,{query:s,setQuery:r,setShowResults:d,onBlurInput:p}),originGap:3,open:a,popupType:fe().k.Popup,style:c.resultsPopup,render:()=>(0,z.jsx)(je,{siteRootBlockStore:t,query:s,onSelection:g}),onDismiss:u})}function be(e){const{query:t,setQuery:i,setShowResults:o,onBlurInput:s}=e,r=(0,p().YB)(),a=(0,l().yK)((e=>({input:{display:"flex",flex:1,paddingLeft:4,marginTop:8,marginLeft:8,marginRight:8,fontSize:14,width:"auto"},icon:{fill:e.icon.tertiary,width:14,height:14,marginLeft:4}})),[]),d=(0,n.useCallback)((e=>{i(e.target.value),o(!0)}),[i,o]),c=(0,n.useCallback)((()=>{o(!0)}),[o]),g=(0,n.useCallback)((e=>{"Escape"===e.key&&(s(),o(!1))}),[s,o]);return(0,z.jsx)(G().Z,{type:"text",focusInitial:!0,disabled:!1,onChange:d,onFocus:c,onBlur:s,onKeyDown:g,style:a.input,value:t,left:(0,he().R)(a.icon),placeholder:r.formatMessage({id:"sites.siteHeaderSearchInput.placeholder",defaultMessage:"Select a page"})})}function je(e){const{siteRootBlockStore:t,query:i,onSelection:o}=e,n=(0,r().O7)(),s=(0,a().VK)((()=>t.getSpaceStore()),[t]),d=(0,a().VK)((()=>E().Z.getState().customHeaderBlockIds),[]),c=(0,l().yK)((()=>({loadingSpinner:{textAlign:"center",visibility:"visible",display:"inline",marginLeft:8}})),[]),[{value:g,status:u}]=(0,pe().r5)((()=>H().yr({environment:n,spaceStore:t.getSpaceStore(),query:i,siteRootBlockId:t.id})),[n,i,t]),h=(0,a().VK)((()=>{if(!s)return[];if("idle"===u||"pending"===u)return[{key:"sites-search-results",render:e=>(0,z.jsx)(oe().Z,{...e}),items:[{key:"sites-loading-search-results",render:()=>(0,z.jsx)(me().Z,{style:c.loadingSpinner}),action:()=>{}}]}];const e=(null==g?void 0:g.results)||[];if((!e||0===e.length)&&i.length>0)return[{key:"sites-no-results",render:e=>(0,z.jsx)(oe().Z,{...e}),items:[{key:"sites-no-results",render:()=>(0,z.jsx)(Y().Z,{isSmall:!0,style:{paddingLeft:8,paddingTop:4,paddingBottom:4},children:(0,z.jsx)(p()._H,{id:"siteSettingsEditor.siteHeaderSearchInput.noResults",defaultMessage:"No pages found"})}),action:()=>{}}]}];const n=(0,q().oA)(e.map((e=>{if(d.includes(e.id))return;if(e.id===t.id)return;const i=V().G.createChildStore(s,{table:de().iU,id:e.id});return{key:i.id,render:e=>(0,z.jsx)(xe().Z,{store:i,hidePath:!0,...e}),action:()=>{o(i.id)}}})));return 0===n.length?[ve(!1)]:""===i?n.length>=Se?[{key:"sites-suggested-search-results",render:e=>(0,z.jsx)(oe().Z,{...e}),items:n.splice(0,Se)}]:[{key:"sites-suggested-search-results",render:e=>(0,z.jsx)(oe().Z,{...e}),items:n.splice(0,Se)},ve(!0)]:[{key:"sites-search-results",render:e=>(0,z.jsx)(oe().Z,{...e}),items:n}]}),[s,g,d,t,o,c,u,i]);return(0,z.jsx)(ie().ZP,{type:ie().iW.Vertical,sections:h,initialFocus:void 0})}function ve(e){return{key:"sites-exhausted-results",render:t=>(0,z.jsx)(oe().Z,{...t,topBorder:e}),items:[{key:"sites-exhausted-results",render:()=>(0,z.jsx)(Y().Z,{isSmall:!0,isMultiline:!0,style:{paddingLeft:8,paddingTop:4,paddingBottom:4},children:(0,z.jsx)(p()._H,{id:"siteSettingsEditor.siteHeaderSearchInput.noNewResults",defaultMessage:"When you have other published pages on this site, they will appear here"})}),action:()=>{}}]}}function ke(e){const{siteRootBlockStore:t,disabled:i,customHeaderBlocks:o}=e,[s,r]=(0,n.useState)(!1),a=(0,l().yK)((e=>({button:{display:"flex",justifyContent:"center",alignItems:"center",gap:8,marginTop:8,marginLeft:8,marginRight:8,padding:4,background:e.tint.uiBlue,fontSize:14,color:i?e.text.uiBlueTertiary:e.text.uiBluePrimary,borderRadius:6},hoverContainer:{background:e.tint.uiBlueHover},addIcon:{height:14,width:14,fill:i?e.text.uiBlueTertiary:e.text.uiBluePrimary}})),[i]);return s?(0,z.jsx)(Ce,{siteRootBlockStore:t,onSelection:e=>{H().Hl(e),r(!1)},onResetInput:()=>r(!1)}):(0,z.jsx)(C().Z,{renderTooltip:()=>(0,z.jsx)(p()._H,{id:"siteSettingsEditor.header.addLinkToPageDisabledTooltip",defaultMessage:"Maximum {maximumLinks} page shortcuts",values:{maximumLinks:we}}),disableTooltip:o.length<we,render:e=>(0,z.jsxs)(ue().Z,{...e,disabled:i||o.length>=we,onClick:()=>r(!0),style:a.button,hoveredStyle:a.hoverContainer,children:[(0,ge().R)(a.addIcon),(0,z.jsx)(p()._H,{id:"siteSettingsEditor.header.addLinkToPage",defaultMessage:"Add page"})]}),placement:I().Placement.Bottom,alignment:I().Alignment.Center,textWrap:!0})}const we=5,Be=(0,p().vU)({removeCustomHeaderPage:{id:"siteSettingsEditor.headerCustomBlockNav.removeTitle",defaultMessage:"Remove linked page"},tooltipMessage:{defaultMessage:"Add up to {maximumLinks} pages in the header",id:"siteSettingsEditor.header.addLinkToPagesHelp"}});function Ie(){const e=(0,l().yK)((e=>({helpIcon:{marginLeft:4,marginTop:1,width:14,height:14,color:e.icon.tertiary,cursor:"default"},secondary:{color:e.text.secondary}})),[]),t={maximumLinks:we};return(0,z.jsx)(C().Z,{renderTooltip:()=>(0,z.jsx)(p()._H,{...Be.tooltipMessage,values:t}),render:t=>(0,z.jsx)("div",{...t,children:(0,c().m)(e.helpIcon)}),placement:I().Placement.Bottom,alignment:I().Alignment.Center})}function Ze(e){const{siteRootBlockStore:t,disabled:i}=e,o=(0,a().VK)((()=>t.getSpaceStore()),[t]),s=(0,a().VK)((()=>E().Z.state.customHeaderBlockIds),[]),r=(0,n.useCallback)((e=>{E().Z.setState({...E().Z.state,customHeaderBlockIds:e})}),[]),d=(0,l().yK)((e=>({container:{flex:1},title:{fontWeight:h().Ue.semibold,marginBottom:8,marginLeft:8,marginRight:8,display:"flex"},description:{color:e.text.secondary,paddingBottom:4,marginLeft:8,marginRight:8}})),[]);return(0,z.jsxs)("div",{style:d.container,children:[(0,z.jsxs)(Y().Z,{isSmall:!0,style:d.title,children:[(0,z.jsx)(p()._H,{id:"siteSettingsEditor.customHeader.title",defaultMessage:"Navigation"}),(0,z.jsx)(Ie,{})]}),(0,z.jsx)(Y().Z,{isSmall:!0,isMultiline:!0,style:d.description,children:(0,z.jsx)(p()._H,{id:"siteSettingsEditor.customHeader.description",defaultMessage:"Allow users to easily navigate to other pages on this site"})}),(0,z.jsx)(ce().ZP,{direction:"vertical",keys:s,renderKey:e=>function(e,t,i){return t?(0,z.jsx)(Re,{blockId:e,spaceStore:t,disabled:i},e):null}(e,o,i),onDrop:r,disableHorizontalEdgeScroll:!1,style:{marginTop:8},disabled:i}),(0,z.jsx)(ke,{siteRootBlockStore:t,disabled:i,customHeaderBlocks:s})]})}function Re(e){const{blockId:t,spaceStore:i,disabled:o}=e,s=(0,p().YB)(),{store:r,icon:c,isEmptyPage:g}=(0,a().VK)((()=>{const e=V().G.createChildStore(i,{table:de().iU,id:t});return{store:e,icon:e.getIcon(),isEmptyPage:e.isEmptyPage()}}),[i,t]),[u,h]=(0,n.useState)(!1),m=(0,n.useCallback)((()=>{h(!0)}),[]),y=(0,n.useCallback)((()=>{h(!1)}),[]),x=(0,l().yK)((e=>({container:{display:"flex",flex:1,minWidth:"100%",gap:8,alignItems:"center",justifyContent:"center",paddingLeft:6,paddingRight:6,paddingTop:4,paddingBottom:4,fontSize:14},hoverContainer:{background:e.buttonHoveredBackground,borderRadius:4},emptyPageIcon:{height:18,width:18,fill:e.accentColors.gray[500]},pageTitle:{wordBreak:"break-word"},closeIcon:{height:12,width:12,fill:e.icon.secondary},dragIcon:{height:12,width:12,color:e.icon.secondary},filler:{flex:1}})),[]),S=u?{...x.container,...x.hoverContainer}:x.container;return(0,z.jsxs)("div",{style:S,onMouseEnter:m,onMouseLeave:y,children:[(0,le().D)(x.dragIcon),c&&(0,z.jsx)(A().Z,{icon:c,store:r,disabled:!0,size:14,isEmptyPage:g,emojiSize:14,style:{marginTop:1}}),(0,z.jsx)(Y().Z,{style:x.filler,children:(0,z.jsx)(f().Z,{store:r,style:x.pageTitle})}),!o&&(0,z.jsx)(D().Z,{icon:d().U,iconStyle:x.closeIcon,onClick:()=>H().Au(t),ariaLabel:s.formatMessage(Be.removeCustomHeaderPage),disabled:o})]})}function Te(e){const{siteRootBlockStore:t,disabled:i}=e,o=(0,l().yK)((()=>({container:{paddingTop:0,paddingBottom:0,gap:0}})),[]),n=(0,q().oA)([{key:0,render:e=>(0,z.jsx)(oe().Z,{style:o.container,...e}),items:Me({siteRootBlockStore:t,disabled:i})}]);return(0,z.jsxs)(b().Ht,{gap:24,children:[(0,z.jsx)(ie().ZP,{type:ie().iW.Vertical,sections:n,initialFocus:void 0,resetFocusOnMouseOut:!0,resetInitialFocusOnSectionChangeAlways:!0}),(0,z.jsx)(Ze,{siteRootBlockStore:t,disabled:i})]})}function Me(e){const{siteRootBlockStore:t,disabled:i}=e;return(0,q().oA)([{key:"breadcrumbSetting",render:e=>(0,z.jsx)(He,{...e,disabled:i}),action:()=>{H().t(!E().Z.state.hideBreadcrumbs)}},{key:"searchSetting",render:e=>(0,z.jsx)(Le,{...e,disabled:i}),action:()=>{H().c7(!E().Z.state.hideSearch)}},{key:"duplicateAsTemplateSetting",render:e=>(0,z.jsx)(re().Z,{...e,disabled:i,value:E().Z.state.enableDuplicateAsTemplate}),action:()=>{H().y_(!E().Z.state.enableDuplicateAsTemplate)}},{key:"watermarkSetting",render:e=>(0,z.jsx)(Pe,{...e,disabled:i,siteRootBlockStore:t}),action:()=>{H().H2(!E().Z.state.hideWatermark)}}])}const He=n.forwardRef(((e,t)=>{const{disabled:i}=e,o=(0,a().VK)((()=>!E().Z.state.hideBreadcrumbs),[]),n=(0,l().yK)((e=>({icon:{margin:0,height:16,width:16,fill:e.icon.secondary}})),[]);return(0,z.jsx)(C().Z,{renderTooltip:()=>(0,z.jsx)(p()._H,{id:"siteSettingsEditor.headerBreadcrumbsSetting.tooltip",defaultMessage:"Show page breadcrumbs on the top left section of the header"}),disableTooltip:!1,render:s=>(0,z.jsx)(ae().C,{...(0,se().Z)(e,s),ref:t,title:(0,z.jsx)(p()._H,{defaultMessage:"Breadcrumbs",id:"siteSettingsEditor.headerBreadcrumbsSetting.title"}),icon:te(n.icon),right:(0,z.jsx)(ne().Z,{...e,on:o,disabled:i})}),placement:I().Placement.Bottom,alignment:I().Alignment.Center,textWrap:!0,style:{maxWidth:bt}})}));He.displayName="BreadcrumbSetting";const Le=n.forwardRef(((e,t)=>{const{disabled:o}=e,n=(0,a().VK)((()=>!E().Z.state.hideSearch),[]),s=(0,l().yK)((e=>({icon:{margin:0,height:16,width:16,fill:e.icon.secondary}})),[]);return(0,z.jsx)(C().Z,{renderTooltip:()=>(0,z.jsx)(p()._H,{id:"siteSettingsEditor.headerSearchSetting.tooltip",defaultMessage:"Allow users to search for content on your site"}),disableTooltip:!1,render:r=>(0,z.jsx)(ae().C,{...(0,se().Z)(e,r),ref:t,title:(0,z.jsx)(p()._H,{defaultMessage:"Search",id:"siteSettingsEditor.headerSearchSetting.title"}),icon:(0,i(129150).p)(s.icon),right:(0,z.jsx)(ne().Z,{...e,on:n,disabled:o})})})}));Le.displayName="SearchSetting";const Pe=n.forwardRef(((e,t)=>{const{siteRootBlockStore:o,disabled:n}=e,s=(0,a().VK)((()=>!E().Z.state.hideWatermark),[]),r=(0,a().VK)((()=>{var e;const t=null===(e=o.getSiteStore())||void 0===e?void 0:e.getDomainId(),n=i(663132).Nc(o.getSpaceStore(),t);return"custom"===(null==n?void 0:n.getDomainType())}),[o]),d=(0,l().yK)((e=>({icon:{margin:0,height:16,width:16,fill:e.icon.secondary}})),[]);return(0,z.jsx)(C().Z,{renderTooltip:()=>r?(0,z.jsx)(p()._H,{id:"siteSettingsEditor.headerWatermarkSetting.tooltip",defaultMessage:"Show 'Built with Notion' button"}):(0,z.jsx)(p()._H,{id:"siteSettingsEditor.headerWatermarkSetting.disabledTooltip",defaultMessage:"Disable Notion watermark on sites published on custom domains"}),disableTooltip:!1,render:o=>(0,z.jsx)("div",{...o,children:(0,z.jsx)(ae().C,{...(0,se().Z)(e,o),disabled:n||!r,ref:t,title:(0,z.jsx)(p()._H,{defaultMessage:"Notion watermark",id:"siteSettingsEditor.headerWatermarkSetting.title"}),icon:(0,i(968061).h)(d.icon),right:(0,z.jsx)(ne().Z,{...e,on:s,disabled:n||!r})})}),placement:I().Placement.Bottom,alignment:I().Alignment.Center,textWrap:!0,style:{maxWidth:bt}})}));Pe.displayName="WatermarkSetting";var Ee=()=>i(466970);i(670560);const _e=(0,ee().IU)("arrowUpLine",{viewBox:"0 0 16 16",svg:(0,z.jsx)("path",{d:"M13.2944 7.53857C13.2944 7.74821 13.2261 7.92139 13.0894 8.05811C12.9526 8.19482 12.7817 8.26318 12.5767 8.26318C12.4718 8.26318 12.3739 8.24495 12.2827 8.2085C12.1916 8.16748 12.1118 8.11279 12.0435 8.04443L10.4917 6.51318L8.21533 3.97705L8.6665 3.75146L8.74854 5.97998V14.4702C8.74854 14.6935 8.6779 14.8758 8.53662 15.0171C8.3999 15.1584 8.22217 15.229 8.00342 15.229C7.78011 15.229 7.59782 15.1584 7.45654 15.0171C7.31982 14.8758 7.25146 14.6935 7.25146 14.4702V5.97998L7.3335 3.75146L7.7915 3.97705L5.5083 6.51318L3.95654 8.04443C3.88818 8.11279 3.80843 8.16748 3.71729 8.2085C3.62614 8.24495 3.52816 8.26318 3.42334 8.26318C3.21826 8.26318 3.04736 8.19482 2.91064 8.05811C2.77393 7.92139 2.70557 7.74821 2.70557 7.53857C2.70557 7.33805 2.78304 7.15804 2.93799 6.99854L7.44287 2.48682C7.52035 2.40479 7.60693 2.34554 7.70264 2.30908C7.79834 2.26807 7.8986 2.24756 8.00342 2.24756C8.10368 2.24756 8.20166 2.26807 8.29736 2.30908C8.39762 2.34554 8.48421 2.40479 8.55713 2.48682L13.062 6.99854C13.217 7.15804 13.2944 7.33805 13.2944 7.53857ZM13.2944 1.50928C13.2944 1.71891 13.2261 1.89437 13.0894 2.03564C12.9526 2.17692 12.7817 2.24756 12.5767 2.24756H3.43701C3.22282 2.24756 3.04736 2.17692 2.91064 2.03564C2.77393 1.89437 2.70557 1.71891 2.70557 1.50928C2.70557 1.29964 2.77393 1.12419 2.91064 0.98291C3.04736 0.841634 3.22282 0.770996 3.43701 0.770996H12.5767C12.7817 0.770996 12.9526 0.841634 13.0894 0.98291C13.2261 1.12419 13.2944 1.29964 13.2944 1.50928Z"})});var Ke=()=>i(429600),Ae=()=>i(235605),Ue=()=>i(308186),Ve=()=>i(827973),ze=()=>i(448419),We=()=>i(198829),Oe=()=>i(661297),Fe=()=>i(607967),De=()=>i(527278),Ne=()=>i(352230),$e=()=>i(128119),qe=()=>i(965014),Ge=()=>i(339858);const Qe=(0,p().vU)({uploadError:{defaultMessage:"Failed to upload favicon",id:"publishSiteSettings.favicon.uploadError"}});function Ye(e,t){const{blockStore:o,siteRootBlockStore:n}=e,s=(0,r().Fy)(),{icon:d,isEmptyPage:c}=(0,a().VK)((()=>({icon:o.getIcon(),isEmptyPage:o.isEmptyPage()})),[o]),g=(0,l().yK)((e=>({chevronIcon:{height:12,width:12,fill:e.icon.tertiary,transform:"rotate(90deg)"}})),[]),u=(0,a().VK)((()=>!n.canAdmin()),[n]),h=(0,a().VK)((()=>E().Z.state.faviconUrl),[]);return(0,z.jsx)(i(838003).Z,{...e,disabled:u||e.disabled,popupType:s.isMobile?ze().Z4.SlideUp:ze().Z4.Popup,renderOrigin:i=>(0,z.jsx)(ae().C,{...(0,se().Z)(e,i),ref:t,title:(0,z.jsx)(p()._H,{defaultMessage:"Favicon",id:"publishSiteSettings.favicon.settingTitle"}),right:(0,z.jsxs)(z.Fragment,{children:[h?(0,z.jsx)(A().Z,{disabled:!0,icon:{icon:h,pointer:n.pointer},isEmptyPage:c,disableShrinking:!0,size:16,emojiSize:16}):d?(0,z.jsx)(A().Z,{disabled:!0,icon:d,isEmptyPage:!1,disableShrinking:!0,size:16,emojiSize:16}):(0,z.jsx)(Ge().Z,{}),(0,Ke().o)(g.chevronIcon)]})}),alignmentToOrigin:$e().lU.End,placementToOrigin:$e().Iw.Bottom,render:e=>(0,z.jsx)(Xe,{blockStore:o,siteRootBlockStore:n,onClose:()=>{e.close()}})})}function Xe(e){const{blockStore:t,siteRootBlockStore:i,onClose:o}=e,{spaceId:n,userId:s}=(0,a().VK)((()=>({spaceId:t.getSpaceId(),userId:t.userId})),[t]),{icon:d,isEmptyPage:c}=(0,a().VK)((()=>({icon:t.getIcon(),isEmptyPage:t.isEmptyPage()})),[t]),g=(0,a().VK)((()=>E().Z.state.faviconUrl),[]),{uploadFile:u,isUploading:m}=function(e){const t=(0,r().O7)();return(0,Fe().FL)({environment:t,bucket:"secure",record:e.pointer,onSuccess:e=>{H().QP(e)},onError:e=>{Ue().UW(e.message??De().Z.formatMessage(Qe.uploadError))}})}(i),y=(0,M().oo)({name:"custom_image_upload_favicon",spaceId:n,userId:s}),x=null==y?void 0:y.upsell,f=(0,l().yK)((e=>({icon:{height:16,width:16,fill:e.icon.secondary},checkIcon:{height:12,width:12,fill:e.icon.secondary},uploadButtonStyle:{width:"auto",height:32,borderRadius:6,marginTop:8,marginLeft:10,marginRight:10,display:"flex",..."dark"===e.mode&&{border:`1px solid ${e.darkTextColor}`}},uploadButtonHoveredStyle:{background:e.buttonHoveredBackground},uploadCaptionStyle:{fontSize:12,lineHeight:1.25,color:e.text.secondary,fontWeight:h().Ue.regular,textAlign:"center"}})),[]),S=(0,r().O7)(),C=[];if(d?C.push({key:"default",action:()=>{H().QP(null),o()},render:e=>(0,z.jsx)(Ve().Z,{...e,title:(0,z.jsx)(p()._H,{defaultMessage:"Page icon",id:"publishSiteSettings.faviconPageIcon.title"}),left:(0,z.jsx)(A().Z,{disabled:!0,icon:d,isEmptyPage:c,disableShrinking:!0,size:16,emojiSize:16,style:{marginRight:4}}),right:!g&&!m&&(0,Ae().k)(f.checkIcon)})}):C.push({key:"notion-logo",action:()=>{H().QP(null),o()},render:e=>(0,z.jsx)(Ve().Z,{...e,title:(0,z.jsx)(p()._H,{defaultMessage:"Notion logo",id:"publishSiteSettings.notionLogo.title"}),left:(0,z.jsx)(Ge().Z,{style:{marginRight:4}}),right:!g&&!m&&(0,Ae().k)(f.checkIcon)})}),m||g){const e=m?(0,z.jsx)(me().Z,{style:{marginLeft:2}}):g?(0,z.jsx)(A().Z,{disabled:!0,icon:{icon:g,pointer:i.pointer},isEmptyPage:!1,disableShrinking:!0,size:16,emojiSize:16}):_e(f.icon);C.push({key:"custom",action:()=>{},render:t=>(0,z.jsx)(Ve().Z,{...t,disabled:!0,title:(0,z.jsx)(p()._H,{defaultMessage:"Custom",id:"publishSiteSettings.faviconCustom.title"}),icon:e,right:(0,Ae().k)(f.icon)})})}"available"===(null==y?void 0:y.type)&&(C.push({key:"uploadFile",action:async()=>{await u()},render:e=>(0,z.jsx)(Oe().Z,{...e,style:f.uploadButtonStyle,hoveredStyle:f.uploadButtonHoveredStyle,children:(0,z.jsx)(p()._H,{defaultMessage:"Upload image",id:"publishSiteSettings.favicon.uploadTitle"})})}),C.push({key:"uploadFileCaption",action:()=>{},render:e=>(0,z.jsx)(Ve().Z,{...e,disabled:!0,title:(0,z.jsx)(p()._H,{defaultMessage:"Recommended size is 32 x 32",id:"publishSiteSettings.favicon.uploadCaption"}),textWrapperStyle:f.uploadCaptionStyle})}));const b=[{key:"favicon",render:e=>(0,z.jsx)(oe().Z,{...e}),items:C}];return x&&"product"===x.type&&b.push({key:"upgrade-for-favicon",render:e=>(0,z.jsx)(oe().Z,{...e,topBorder:!0}),items:[{key:"upsell",action:()=>{null!=y&&y.upsell&&qe().y(S,{from:"site_favicon",upsell:x})},render:e=>(0,z.jsx)(Ve().Z,{...e,focused:e.focused,title:(0,z.jsxs)("div",{style:{display:"flex",gap:6},children:[(0,z.jsx)(p()._H,{defaultMessage:"Upload custom favicons",id:"publishSiteSettings.favicon.upgrade"}),(0,z.jsx)(N().R,{upsell:x,analyticsName:"site_favicon"})]})})}]}),(0,z.jsx)(We().Z,{menuType:Ne().o.Popup,width:276,children:(0,z.jsx)(ie().ZP,{type:ie().iW.Vertical,initialFocus:void 0,sections:b})})}const Je=n.forwardRef(Ye);function et(e,t){const i=(0,a().VK)((()=>E().Z.getState().googleAnalyticsId),[]),o=(0,l().yK)((e=>({chevronIcon:{height:12,width:12,fill:e.icon.tertiary},rightStyle:{gap:4}})),[]);return(0,z.jsx)(ae().C,{...e,ref:t,title:(0,z.jsx)(p()._H,{defaultMessage:"Google Analytics",id:"publishSiteSettings.googleAnalytics.settingTitle"}),right:(0,z.jsxs)(z.Fragment,{children:[i?(0,z.jsx)(p()._H,{defaultMessage:"Added",id:"publishSiteSettings.googleAnalytics.customValue"}):(0,z.jsx)(p()._H,{defaultMessage:"Off",id:"publishSiteSettings.googleAnalytics.defaultValue"}),(0,Ke().o)(o.chevronIcon)]}),rightStyle:o.rightStyle})}const tt=n.forwardRef(et);function it(e,t){const i=(0,a().VK)((()=>E().Z.state.hideBreadcrumbs||E().Z.state.hideSearch||E().Z.state.hideWatermark||!1===E().Z.state.enableDuplicateAsTemplate||E().Z.state.customHeaderBlockIds.length>0),[]),o=(0,l().yK)((e=>({valueContainer:{display:"flex",alignItems:"center",gap:4,color:e.text.secondary},icon:{height:12,width:12,fill:e.icon.tertiary}})),[]);return(0,z.jsx)(ae().C,{...e,ref:t,title:(0,z.jsx)(p()._H,{defaultMessage:"Header",id:"publishSiteSettings.header.settingTitle"}),right:(0,z.jsxs)("div",{style:o.valueContainer,children:[i?(0,z.jsx)(p()._H,{defaultMessage:"Custom",id:"publishSiteSettings.header.customValue"}):(0,z.jsx)(p()._H,{defaultMessage:"Default",id:"publishSiteSettings.header.defaultValue"}),(0,Ke().o)(o.icon)]})})}const ot=n.forwardRef(it);var nt=()=>i(18748);const st=(0,p().vU)({uploadError:{defaultMessage:"Failed to upload s preview image",id:"publishSiteSettings.linkPreview.uploadError"}}),rt=n.forwardRef(((e,t)=>{const{blockStore:o,siteRootBlockStore:s,focused:d,disabled:c}=e,g=(0,r().O7)(),u=(0,a().VK)((()=>E().Z.state.previewImageUrl),[]),m=(0,a().VK)((()=>{if(o.isReady())return o.getFormat().social_media_image_preview_url}),[o]),y=!!u;(0,n.useEffect)((()=>{o.isReady()&&!m&&i(136343).O({environment:g,store:o})}),[g,o,m]);const x=(0,n.useCallback)((e=>{H().f$(e)}),[]),{uploadFile:f,isUploading:S}=(0,Fe().FL)({onError:e=>{Ue().UW(e.message??De().Z.formatMessage(st.uploadError))},onSuccess:x,environment:g,bucket:"secure",record:s.pointer}),C=(0,l().yK)((e=>({container:{padding:0,marginTop:4,marginBottom:24},imageContainer:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:8,marginLeft:8,marginRight:8,background:e.surface.elevated,border:`1px solid ${e.stroke.primary}`,borderRadius:6},title:{lineHeight:1.2,marginTop:0,marginBottom:8,paddingLeft:8,color:e.text.secondary,fontWeight:h().Ue.medium,fontSize:12},buttonContainer:{position:"relative",background:"transparent"},buttonRow:{position:"absolute",right:16,top:-130,background:e.surface.elevated,borderRadius:4,boxShadow:e.shadowSM},button:{padding:6,fontSize:12,lineHeight:1.25,fontWeight:h().Ue.medium,color:e.text.secondary,background:e.surface.elevated},resetButton:{borderTopLeftRadius:4,borderBottomLeftRadius:4,borderRight:`1px solid ${e.stroke.secondary}`},uploadButton:{borderTopRightRadius:4,borderBottomRightRadius:4,...!y&&{borderTopLeftRadius:4,borderBottomLeftRadius:4}}})),[y]);return(0,z.jsx)(nt().ZP,{...e,ref:t,title:(0,z.jsxs)(b().gq,{children:[(0,z.jsx)(p()._H,{id:"publishSite.linkPreview.title",defaultMessage:"Share preview"}),(0,z.jsx)(lt,{})]}),titleStyle:C.title,style:C.container,itemMarginLeft:0,itemMarginRight:0,body:(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("div",{style:C.imageContainer,children:(0,z.jsx)(at,{blockStore:u?s:o,url:S?void 0:u??m})}),d&&!c&&!S&&(0,z.jsx)("div",{style:C.buttonContainer,children:(0,z.jsxs)(b().gq,{style:C.buttonRow,children:[y&&(0,z.jsx)(ue().Z,{style:{...C.button,...C.resetButton},onClick:()=>x(null),disabled:c,children:(0,z.jsx)(p()._H,{id:"publishSite.linkPreview.resetImage",defaultMessage:"Reset"})}),(0,z.jsx)(ue().Z,{style:{...C.button,...C.uploadButton},onClick:f,disabled:c,children:(0,z.jsx)(p()._H,{id:"publishSite.linkPreview.uploadImage",defaultMessage:"Upload image"})})]})})]})})}));function at(e){const{blockStore:t,url:o}=e,s=(0,a().VK)((()=>t.pointer),[t]),[r,d]=(0,n.useState)(!1),c=(0,l().yK)((()=>({image:{height:136,width:"100%",borderRadius:5},spinner:{display:"flex",justifyContent:"center",alignItems:"center",height:136}})),[]);return o?(0,z.jsx)(i(135499).Z,{url:o,isAuthenticated:!0,permissionRecord:s,width:240,onFinishedLoadingProxyUrl:()=>d(!0),render:(e,t)=>t&&r?(0,z.jsx)(i(518242).ZP,{style:c.image,src:t,loading:"lazy"}):(0,z.jsx)(me().Z,{legacySize:136,style:c.spinner})}):(0,z.jsx)("div",{style:{...c.spinner,width:"100%"},children:(0,z.jsx)(me().Z,{})})}function lt(){const e=(0,l().yK)((e=>({helpIcon:{marginLeft:4,marginTop:1,width:14,height:14,color:e.icon.tertiary,cursor:"default"}})),[]);return(0,z.jsx)(C().Z,{renderTooltip:()=>(0,z.jsx)(p()._H,{id:"publishSiteSettings.linkPreview.tooltip",defaultMessage:"The preview image of your site link when you share on social media, such as X and LinkedIn"}),render:t=>(0,z.jsx)("div",{...t,children:(0,c().m)(e.helpIcon)}),placement:I().Placement.Bottom,alignment:I().Alignment.Center,textWrap:!0,style:{width:bt}})}function dt(e,t){const{enableQna:i}=e;return(0,z.jsx)(C().Z,{renderTooltip:()=>(0,z.jsx)(p()._H,{id:"siteSettingsEditor.headerQnASetting.tooltip",defaultMessage:"Allow users to chat with AI about content on your site"}),disableTooltip:!1,render:o=>(0,z.jsx)(ae().C,{...(0,se().Z)(e,o),ref:t,title:(0,z.jsx)(p()._H,{id:"siteSettingsEditor.initialSettings.enableQna",defaultMessage:"Enable QnA"}),right:(0,z.jsx)(ne().Z,{...e,on:i})}),placement:I().Placement.Bottom,alignment:I().Alignment.Center,textWrap:!0,style:{maxWidth:bt}})}rt.displayName="PreviewImageSetting";const ct=n.forwardRef(dt),gt=(0,ee().IU)("themeDark",{viewBox:"0 0 18 19",svg:(0,z.jsx)("path",{d:"M13.8779 11.9844C14.2178 11.9844 14.5518 11.9668 14.8799 11.9316C15.2139 11.8906 15.5273 11.8379 15.8203 11.7734C16.1191 11.7031 16.3799 11.6182 16.6025 11.5186C16.7314 11.4658 16.8398 11.4307 16.9277 11.4131C17.0215 11.3955 17.1123 11.3867 17.2002 11.3867C17.376 11.3867 17.5342 11.4512 17.6748 11.5801C17.8213 11.709 17.8945 11.8848 17.8945 12.1074C17.8945 12.1719 17.8828 12.2598 17.8594 12.3711C17.8418 12.4824 17.8037 12.6055 17.7451 12.7402C17.2646 13.8418 16.6084 14.791 15.7764 15.5879C14.9502 16.3906 13.9893 17.0059 12.8936 17.4336C11.7979 17.8672 10.6172 18.084 9.35156 18.084C8.00977 18.084 6.77637 17.8525 5.65137 17.3896C4.52637 16.9326 3.54785 16.291 2.71582 15.4648C1.88965 14.6328 1.24805 13.6543 0.791016 12.5293C0.333984 11.4043 0.105469 10.1709 0.105469 8.8291C0.105469 7.59277 0.342773 6.41211 0.817383 5.28711C1.29199 4.15625 1.94824 3.16309 2.78613 2.30762C3.62988 1.44629 4.59961 0.792969 5.69531 0.347656C5.83594 0.289062 5.95312 0.250977 6.04688 0.233398C6.14648 0.209961 6.22266 0.198242 6.27539 0.198242C6.50391 0.198242 6.68848 0.277344 6.8291 0.435547C6.96973 0.59375 7.04004 0.766602 7.04004 0.954102C7.04004 1.05957 7.02539 1.16211 6.99609 1.26172C6.97266 1.35547 6.92285 1.47266 6.84668 1.61328C6.68262 1.92969 6.55078 2.35742 6.45117 2.89648C6.35742 3.43555 6.31055 4.02734 6.31055 4.67188C6.31055 6.17773 6.61816 7.47852 7.2334 8.57422C7.84863 9.66406 8.72168 10.5049 9.85254 11.0967C10.9834 11.6885 12.3252 11.9844 13.8779 11.9844ZM1.80176 8.77637C1.80176 9.88379 1.98926 10.9004 2.36426 11.8262C2.73926 12.752 3.2666 13.5576 3.94629 14.2432C4.63184 14.9229 5.4375 15.4502 6.36328 15.8252C7.28906 16.2061 8.2998 16.3965 9.39551 16.3965C10.251 16.3965 11.0713 16.2705 11.8564 16.0186C12.6475 15.7666 13.3623 15.4033 14.001 14.9287C14.6455 14.4541 15.1816 13.8887 15.6094 13.2324C15.3047 13.3438 14.9854 13.4229 14.6514 13.4697C14.3232 13.5166 13.9688 13.54 13.5879 13.54C11.7422 13.54 10.1572 13.1943 8.83301 12.5029C7.51465 11.8057 6.50098 10.8096 5.79199 9.51465C5.08887 8.21973 4.7373 6.66992 4.7373 4.86523C4.7373 4.43164 4.7666 4.01855 4.8252 3.62598C4.88965 3.22754 4.98047 2.84961 5.09766 2.49219C4.41797 2.94922 3.83203 3.50879 3.33984 4.1709C2.84766 4.83301 2.4668 5.55957 2.19727 6.35059C1.93359 7.1416 1.80176 7.9502 1.80176 8.77637Z"})}),ut=(0,ee().IU)("themeLight",{viewBox:"0 0 20 21",svg:(0,z.jsx)("path",{d:"M10 14.874C9.34961 14.874 8.74023 14.751 8.17188 14.5049C7.60352 14.2588 7.09961 13.9189 6.66016 13.4854C6.22656 13.0518 5.88672 12.5508 5.64062 11.9824C5.40039 11.4082 5.28027 10.7988 5.28027 10.1543C5.28027 9.50391 5.40039 8.89453 5.64062 8.32617C5.88672 7.75195 6.22656 7.24805 6.66016 6.81445C7.09961 6.38086 7.60352 6.04102 8.17188 5.79492C8.74023 5.54883 9.34961 5.42578 10 5.42578C10.6445 5.42578 11.251 5.54883 11.8193 5.79492C12.3877 6.04102 12.8887 6.38086 13.3223 6.81445C13.7617 7.24805 14.1016 7.75195 14.3418 8.32617C14.5879 8.89453 14.7109 9.50391 14.7109 10.1543C14.7109 10.7988 14.5879 11.4082 14.3418 11.9824C14.1016 12.5508 13.7617 13.0518 13.3223 13.4854C12.8887 13.9189 12.3877 14.2588 11.8193 14.5049C11.251 14.751 10.6445 14.874 10 14.874ZM10 13.0283C10.5215 13.0283 10.999 12.8994 11.4326 12.6416C11.8662 12.3779 12.2119 12.0293 12.4697 11.5957C12.7334 11.1562 12.8652 10.6758 12.8652 10.1543C12.8652 9.63281 12.7334 9.15527 12.4697 8.72168C12.2119 8.28223 11.8662 7.93066 11.4326 7.66699C10.999 7.40332 10.5215 7.27148 10 7.27148C9.47266 7.27148 8.99219 7.40332 8.55859 7.66699C8.125 7.93066 7.77637 8.28223 7.5127 8.72168C7.25488 9.15527 7.12598 9.63281 7.12598 10.1543C7.12598 10.6758 7.25488 11.1562 7.5127 11.5957C7.77637 12.0293 8.125 12.3779 8.55859 12.6416C8.99219 12.8994 9.47266 13.0283 10 13.0283ZM10 3.87891C9.73633 3.87891 9.50781 3.78516 9.31445 3.59766C9.12695 3.4043 9.0332 3.17578 9.0332 2.91211V1.13672C9.0332 0.873047 9.12695 0.644531 9.31445 0.451172C9.50781 0.257812 9.73633 0.161133 10 0.161133C10.2637 0.161133 10.4893 0.257812 10.6768 0.451172C10.8701 0.644531 10.9668 0.873047 10.9668 1.13672V2.91211C10.9668 3.17578 10.8701 3.4043 10.6768 3.59766C10.4893 3.78516 10.2637 3.87891 10 3.87891ZM14.4297 5.74219C14.248 5.55469 14.1543 5.32617 14.1484 5.05664C14.1484 4.78711 14.2393 4.56152 14.4209 4.37988L15.6953 3.10547C15.877 2.92383 16.1025 2.83301 16.3721 2.83301C16.6416 2.82715 16.8672 2.91504 17.0488 3.09668C17.2363 3.28418 17.3301 3.51563 17.3301 3.79102C17.3359 4.06055 17.2451 4.28613 17.0576 4.46777L15.8008 5.7334C15.6133 5.9209 15.3848 6.01465 15.1152 6.01465C14.8457 6.01465 14.6172 5.92383 14.4297 5.74219ZM16.2666 10.1543C16.2666 9.89062 16.3604 9.66504 16.5479 9.47754C16.7412 9.28418 16.9697 9.1875 17.2334 9.1875H19.0176C19.2754 9.1875 19.498 9.28418 19.6855 9.47754C19.8789 9.66504 19.9756 9.89062 19.9756 10.1543C19.9756 10.4121 19.8789 10.6377 19.6855 10.8311C19.498 11.0186 19.2754 11.1123 19.0176 11.1123H17.2334C16.9697 11.1123 16.7412 11.0186 16.5479 10.8311C16.3604 10.6377 16.2666 10.4121 16.2666 10.1543ZM14.4209 14.584C14.6084 14.4023 14.8369 14.3115 15.1064 14.3115C15.376 14.3057 15.6016 14.3936 15.7832 14.5752L17.0576 15.8408C17.2451 16.0283 17.3389 16.2539 17.3389 16.5176C17.3389 16.7871 17.248 17.0156 17.0664 17.2031C16.8789 17.3789 16.6504 17.4697 16.3809 17.4756C16.1113 17.4814 15.8857 17.3936 15.7041 17.2119L14.4297 15.9375C14.248 15.7559 14.1543 15.5332 14.1484 15.2695C14.1484 15 14.2393 14.7715 14.4209 14.584ZM10 16.4297C10.2637 16.4297 10.4893 16.5234 10.6768 16.7109C10.8701 16.9043 10.9668 17.1299 10.9668 17.3877V19.1719C10.9668 19.4355 10.8701 19.6611 10.6768 19.8486C10.4893 20.042 10.2637 20.1387 10 20.1387C9.73633 20.1387 9.50781 20.042 9.31445 19.8486C9.12695 19.6611 9.0332 19.4355 9.0332 19.1719V17.3877C9.0332 17.1299 9.12695 16.9043 9.31445 16.7109C9.50781 16.5234 9.73633 16.4297 10 16.4297ZM5.5791 14.584C5.75488 14.7715 5.83984 15 5.83398 15.2695C5.83398 15.5332 5.74316 15.7559 5.56152 15.9375L4.2959 17.2119C4.1084 17.3877 3.87988 17.4727 3.61035 17.4668C3.34082 17.4668 3.1123 17.376 2.9248 17.1943C2.74316 17.0068 2.65234 16.7783 2.65234 16.5088C2.6582 16.2451 2.75488 16.0195 2.94238 15.832L4.20801 14.5752C4.38965 14.3936 4.61523 14.3057 4.88477 14.3115C5.16016 14.3115 5.3916 14.4023 5.5791 14.584ZM3.7334 10.1543C3.7334 10.4121 3.63672 10.6377 3.44336 10.8311C3.25586 11.0186 3.02734 11.1123 2.75781 11.1123H0.982422C0.724609 11.1123 0.499023 11.0186 0.305664 10.8311C0.118164 10.6377 0.0244141 10.4121 0.0244141 10.1543C0.0244141 9.89062 0.118164 9.66504 0.305664 9.47754C0.499023 9.28418 0.724609 9.1875 0.982422 9.1875H2.75781C3.02734 9.1875 3.25586 9.28418 3.44336 9.47754C3.63672 9.66504 3.7334 9.89062 3.7334 10.1543ZM5.56152 5.74219C5.37402 5.92383 5.14551 6.01465 4.87598 6.01465C4.60645 6.00879 4.38086 5.91504 4.19922 5.7334L2.93359 4.45898C2.75781 4.2832 2.66992 4.06055 2.66992 3.79102C2.66992 3.51563 2.76367 3.28418 2.95117 3.09668C3.13281 2.91504 3.3584 2.82715 3.62793 2.83301C3.89746 2.83301 4.12598 2.92383 4.31348 3.10547L5.5791 4.37988C5.75488 4.56152 5.83984 4.79004 5.83398 5.06543C5.83398 5.33496 5.74316 5.56055 5.56152 5.74219Z"})}),pt=(0,ee().IU)("themeSystem",{viewBox:"0 0 26 16",svg:(0,z.jsx)("path",{d:"M0.0537109 14.3945C0.0537109 14.084 0.162109 13.8203 0.378906 13.6035C0.595703 13.3809 0.859375 13.2695 1.16992 13.2695H3.0332V2.90723C3.0332 2.22754 3.2207 1.70898 3.5957 1.35156C3.9707 0.994141 4.48633 0.81543 5.14258 0.81543H20.8486C21.5342 0.81543 22.0557 0.994141 22.4131 1.35156C22.7764 1.70898 22.958 2.22754 22.958 2.90723V13.2695H24.8213C25.1318 13.2695 25.3955 13.3809 25.6123 13.6035C25.8291 13.8203 25.9375 14.084 25.9375 14.3945C25.9375 14.6992 25.8291 14.9629 25.6123 15.1855C25.3955 15.4082 25.1318 15.5195 24.8213 15.5195H1.16992C0.859375 15.5195 0.595703 15.4082 0.378906 15.1855C0.162109 14.9629 0.0537109 14.6992 0.0537109 14.3945ZM4.75586 13.2695H21.2354V3.36426C21.2354 3.08301 21.165 2.875 21.0244 2.74023C20.8896 2.60547 20.6875 2.53809 20.418 2.53809H5.57324C5.30371 2.53809 5.09863 2.60547 4.95801 2.74023C4.82324 2.875 4.75586 3.08301 4.75586 3.36426V13.2695Z"})});const ht={available:["system","light","dark"],appearance:{system:{label:(0,z.jsx)(p()._H,{id:"themeSetting.system.label",defaultMessage:"System"}),icon:{function:pt,size:24}},light:{label:(0,z.jsx)(p()._H,{id:"themeSetting.light.label",defaultMessage:"Light"}),icon:{function:ut,size:22}},dark:{label:(0,z.jsx)(p()._H,{id:"themeSetting.dark.label",defaultMessage:"Dark"}),icon:{function:gt,size:20}}}},mt=n.forwardRef(((e,t)=>{const{disabled:o}=e,s=(0,a().VK)((()=>E().Z.state.theme??"light"),[]),r=(0,l().yK)((e=>({container:{padding:0,marginBottom:24},innerContainer:{marginLeft:0,marginRight:0,display:"flex",flexDirection:"column",gap:1},title:{lineHeight:1.2,marginTop:0,marginBottom:8,paddingLeft:8,color:e.text.secondary,fontWeight:h().Ue.medium,fontSize:12},cardContainer:{marginTop:0}})),[]),d=(0,n.useCallback)((e=>{H().xz(e)}),[]);return(0,z.jsx)(nt().ZP,{...e,ref:t,title:(0,z.jsx)(p()._H,{id:"themeSetting.title",defaultMessage:"Theme"}),titleStyle:r.title,style:r.container,textWrapperStyle:r.innerContainer,body:(0,z.jsx)(i(411094).Z,{disabled:Boolean(o),options:ht,selectedOption:s,onOptionSelected:d,height:"short"}),bodyStyle:r.cardContainer})}));function yt(e){const{store:t,siteRootBlockStore:i,disabled:o}=e,n=(0,Ee().E)("enable_public_qna"),s=(0,a().VK)((()=>Boolean(E().Z.state.enableQna)),[]),r=(0,l().yK)((()=>({container:{paddingTop:0,paddingBottom:0,gap:0}})),[]),d=(0,q().oA)([{key:"previewImageSetting",render:e=>(0,z.jsx)(rt,{...e,disabled:o,blockStore:t,siteRootBlockStore:i}),action:()=>{}},{key:"themeSetting",render:e=>(0,z.jsx)(mt,{disabled:o,...e}),action:()=>{}},{key:"faviconSetting",render:e=>(0,z.jsx)(Je,{...e,blockStore:t,siteRootBlockStore:i}),action:()=>{}},{key:"headerSetting",render:e=>(0,z.jsx)(ot,{...e}),action:()=>{H().dU("header")}},{key:"googleAnalyticsSetting",render:e=>(0,z.jsx)(tt,{...e}),action:()=>{H().dU("google_analytics")}},n&&{key:"qnaSetting",render:e=>(0,z.jsx)(ct,{...e,disabled:o,enableQna:s,onClick:()=>(0,H().KD)(!s)}),action:()=>{(0,H().KD)(!s)}}]),c=(0,q().oA)([{key:0,render:e=>(0,z.jsx)(oe().Z,{style:r.container,...e}),items:d}]);return(0,z.jsx)(ie().ZP,{type:ie().iW.Vertical,sections:c,initialFocus:void 0,resetFocusOnMouseOut:!0,resetInitialFocusOnSectionChangeAlways:!0})}mt.displayName="ThemeSetting";const xt=312,ft=(0,p().vU)({goBack:{id:"siteSettingsEditor.setting.back",defaultMessage:"Go back"},initialSettingsTitle:{id:"siteSettingsEditor.sidebar.title",defaultMessage:"Settings"},initialSettingsSubTitle:{id:"siteSettingsEditor.sidebar.subtitle",defaultMessage:"Unlock full customization"},headerSettingsTitle:{id:"siteSettingsEditor.header.title",defaultMessage:"Header"},googleSettingsTitle:{id:"siteSettingsEditor.googleAnalytics.title",defaultMessage:"Google Analytics"}});function St(e){const{store:t,siteRootBlockStore:i}=e,{spaceId:o,userId:n}=(0,a().VK)((()=>({spaceId:t.getSpaceId(),userId:t.userId})),[t]),s=(0,M().oo)({name:"custom_public_sites_layout",spaceId:o,userId:n}),r=null==s?void 0:s.upsell,d=(0,a().VK)((()=>!i.canAdmin()||Boolean(r)),[i,r]),c=(0,a().VK)((()=>E().Z.getState().settingOpen),[]),g=(0,l().yK)((()=>({container:{minWidth:xt,width:xt},sidebarContainer:{flex:1,paddingLeft:16,paddingRight:16}})),[]);let u;return u="header"===c?(0,z.jsx)(Ct,{upsell:r,title:ft.headerSettingsTitle,subtitle:ft.initialSettingsSubTitle,content:(0,z.jsx)(Te,{siteRootBlockStore:i,disabled:d}),showGoBack:!0}):"google_analytics"===c?(0,z.jsx)(Ct,{upsell:r,title:ft.googleSettingsTitle,subtitle:ft.initialSettingsSubTitle,content:(0,z.jsx)(J,{disabled:d}),showGoBack:!0}):(0,z.jsx)(Ct,{upsell:r,title:ft.initialSettingsTitle,subtitle:ft.initialSettingsSubTitle,content:(0,z.jsx)(yt,{store:t,siteRootBlockStore:i,disabled:d}),showGoBack:!1}),(0,z.jsx)(b().Ht,{style:g.container,children:(0,z.jsx)(b().Ht,{gap:8,style:g.sidebarContainer,children:u})})}function Ct(e){const{title:t,subtitle:i,content:o,showGoBack:n,upsell:s}=e,r=(0,p().YB)(),a=(0,l().yK)((e=>({sidebarContainer:{flex:1},titleContainer:{fontWeight:h().Ue.semibold,fontSize:17,lineHeight:1.3,marginTop:16,marginBottom:28,marginLeft:n?4:8,marginRight:n?0:8,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",gap:4},subtitleContainer:{display:"flex",paddingRight:16,alignItems:"center",gap:6,flex:1,paddingLeft:n?4:0},subtitleText:{color:e.text.secondary,fontSize:12,fontWeight:400,lineHeight:"16px"},icon:{fill:e.icon.tertiary,transform:"rotate(90deg)"}})),[n]);return(0,z.jsxs)(b().Ht,{style:a.sidebarContainer,children:[(0,z.jsxs)(b().gq,{gap:8,style:a.titleContainer,children:[(0,z.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[n&&(0,z.jsx)(D().Z,{icon:F().N,style:{width:20,height:20},iconStyle:a.icon,ariaLabel:r.formatMessage(ft.goBack),onClick:H().AB}),(0,z.jsx)(p()._H,{...t})]}),s&&"product"===s.type&&(0,z.jsxs)("div",{style:a.subtitleContainer,children:[(0,z.jsx)("div",{style:a.subtitleText,children:(0,z.jsx)(p()._H,{...i})}),(0,z.jsx)("div",{children:(0,z.jsx)(N().R,{upsell:s,analyticsName:"customize_site_settings"})})]})]}),o]})}const bt=220;function jt(){const e=(0,r().O7)(),t=(0,l().yK)((e=>({container:{width:"100%",background:e.sitesBuilderBackground},bodyContainer:{paddingLeft:24,height:"100%"}})),[]),i=(0,a().VK)((()=>{const t=E().Z.state.theme??"light";return"system"===t?m().vn(e):t}),[e]),o=(0,a().VK)((()=>B().Z.getState()),[B().Z]);if(!o.isOpen||"site-settings-editor"!==o.mode)return null;const{pageStore:n,siteRootBlockStore:d}=o;return n?(0,z.jsxs)(b().Ht,{style:t.container,children:[(0,z.jsx)(vt,{store:n,siteRootBlockStore:d}),(0,z.jsxs)(b().gq,{style:t.bodyContainer,children:[(0,z.jsx)(s().z,{value:{mode:i},children:(0,z.jsx)(kt,{store:n,siteRootBlockStore:d})}),(0,z.jsx)(St,{store:n,siteRootBlockStore:d})]})]}):null}function vt(e){const{store:t,siteRootBlockStore:i}=e,[s,u]=(0,n.useState)(!1),m=(0,r().O7)(),{isElectronMac:S,isElectronWindows:j}=m.device,k=(0,a().VK)((()=>!S&&!j||R().default.state.isShowingTabBar),[S,j]),B=(0,a().VK)((()=>(0,g().R6)(S)),[S]),{spaceId:Z,userId:T}=(0,a().VK)((()=>({spaceId:t.getSpaceId(),userId:t.userId})),[t]),P=(0,M().VX)({name:"custom_public_sites_layout",spaceId:Z,userId:T}),_=(0,a().VK)((()=>{var e;if(P)return!1;const t=E().Z.getState();return(null===(e=t.permissionItem)||void 0===e?void 0:e.allow_duplicate)===t.enableDuplicateAsTemplate}),[P]),K=(0,l().yK)((e=>({container:{padding:"12px 24px 12px 24px"},topbarPlaceholder:{minHeight:B,background:e.onboardingPreviewBackground,borderBottom:`1px solid ${e.stroke.secondary}`},globeIcon:{height:14,width:14,color:e.blueColor},title:{fontSize:14,fontWeight:h().Ue.semibold},helpIcon:{width:14,height:14,color:e.icon.tertiary}})),[B]),A=(0,n.useCallback)((()=>{H().AB(),w().gm({environment:m}),(0,L().Cx)(m)}),[m]),U=(0,n.useCallback)((async()=>{u(!0),await H().YU({environment:m,store:t,siteRootBlockStore:i}),u(!1),A()}),[m,t,i,A]);return(0,z.jsxs)(z.Fragment,{children:[!k&&(0,z.jsx)("div",{style:K.topbarPlaceholder,className:o()({[v().lIT]:!0,[v().pMC]:!0})}),(0,z.jsxs)(b().gq,{style:K.container,alignItems:"center",justifyContent:"space-between",children:[(0,z.jsx)(y().D,{onClick:A,icon:d().U,size:"lg",children:(0,z.jsx)(p()._H,{id:"siteSettingsEditor.topbar.cancel",defaultMessage:"Cancel"})}),(0,z.jsxs)(b().gq,{justifyContent:"center",alignItems:"center",gap:4,children:[(0,z.jsx)(f().Z,{shouldWrap:!1,maxLines:1,store:i,style:K.title}),(0,z.jsx)(C().Z,{renderTooltip:()=>(0,z.jsx)(p()._H,{id:"siteSettingsEditor.topbar.caption",defaultMessage:"Changes will apply to all pages within this site"}),render:e=>(0,z.jsx)("div",{...e,children:(0,c().m)(K.helpIcon)})})]}),(0,z.jsx)(C().Z,{disableTooltip:!_,renderTooltip:()=>(0,z.jsx)(p()._H,{defaultMessage:"Upgrade to unlock full customization",id:"siteSettingsEditor.topbar.publishTooltip"}),render:e=>(0,z.jsx)(x().Z,{...e,onClick:U,isLarge:!0,disabled:_,isLoading:s,children:(0,z.jsx)(p()._H,{id:"siteSettingsEditor.topbar.publish",defaultMessage:"Publish changes"})}),placement:I().Placement.Bottom,alignment:I().Alignment.Center})]})]})}function kt(e){const{store:t,siteRootBlockStore:i}=e,[o,s]=(0,n.useState)(!1),r=(0,n.useCallback)((()=>{s(!0)}),[]),d=(0,n.useCallback)((()=>{s(!1)}),[]),c=(0,a().VK)((()=>i.getSpaceStore()),[i]),{isHeaderSettingOpen:g,showBreadcrumbs:u,headerItemKeys:p}=(0,a().VK)((()=>{const e=E().Z.getState();return{isHeaderSettingOpen:"header"===e.settingOpen,showBreadcrumbs:!e.hideBreadcrumbs,headerItemKeys:e.permissionItem?P().pZ(e.permissionItem,!1!==e.enableDuplicateAsTemplate,e.hideSearch,e.hideWatermark,e.customHeaderBlockIds):[]}}),[]),h=o||g,m="light"===(0,l().Fg)().mode?v().MsS:v().Xj_,y=(0,l().yK)((e=>({container:{height:"100%",background:e.contentBackground,color:e.regularTextColor,flexGrow:3,borderRadius:"12px 12px 0 0",boxShadow:e.shadowSM,cursor:"default",borderBottom:0,overflow:"hidden"},topBarContainer:{marginTop:2,marginBottom:10,marginLeft:12,marginRight:12,paddingTop:12,paddingBottom:12,paddingLeft:8,paddingRight:8,boxShadow:Bt({isThick:h,colorInHex:g?e.blueColor:e.stroke.uiBlueSecondary}),transition:"box-shadow 0.3s",borderRadius:12,cursor:"pointer"},bodyContainer:{height:"100%",paddingTop:150,textAlign:"center"}})),[h,g]);return(0,z.jsxs)("div",{style:y.container,className:m,children:[(0,z.jsx)(_().Z,{store:t,siteRootBlockStore:i,location:"site_builder_preview",showAddressBar:!0}),(0,z.jsx)("div",{style:y.topBarContainer,onMouseEnter:r,onMouseLeave:d,onClick:()=>H().dU("header"),children:(0,z.jsx)(K().Z,{spaceStore:c,keys:p,size:"large",showCustomHeaderPages:!0,left:u&&(0,z.jsx)(W,{store:t,siteRootBlockStore:i}),style:{minHeight:31}})}),(0,z.jsx)(wt,{store:t})]})}function wt(e){const{store:t}=e,i=(0,l().yK)((()=>({pagePreview:{cursor:"default"},overlay:{position:"absolute",width:"100% ",height:"100%",top:204,right:280,cursor:"default",zIndex:u().mJ}})),[]),o=(0,n.useCallback)((e=>{k().default.PageScroller=e}),[]);return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(S().T,{ref:o,type:Z().Z.Y,style:{flex:1,height:"100%",overflowY:"auto"},children:(0,z.jsx)(j().ZP,{context:T().S.SitePreview,style:i.pagePreview,store:t,paddingBottom:0,disabled:!0})}),(0,z.jsx)("div",{style:i.overlay,onClick:()=>H().AB()})]})}function Bt(e){let{isThick:t,colorInHex:i}=e;return t?`0px 0px 0px 1.5px ${i}, inset 0px 0px 0px 1.5px ${i}`:`0px 0px 0px 0px ${i}, inset 0px 0px 0px 1px ${i}`}},836416:(e,t,i)=>{i.d(t,{Z:()=>l});var o=i(667294),n=()=>i(788860),s=()=>i(998901),r=i(785893);function a(e,t){const{value:o}=e,a=!1!==o,l=(0,i(142735).VK)((()=>{var e;return Boolean((null===(e=i(876822).default.state.currentSpaceStore)||void 0===e?void 0:e.getDisableMoveToSpace())&&!a)}),[a]),d=(0,i(846550).yK)((e=>({icon:{margin:0,height:16,width:16,fill:e.icon.secondary}})),[]);return(0,r.jsx)(i(654133).Z,{renderTooltip:()=>l?(0,r.jsx)(n()._H,{id:"publishSiteSettings.duplicateAsTemplate.moveToSpaceDisabledTooltip",defaultMessage:"Move to space is disabled for this workspace"}):(0,r.jsx)(n()._H,{id:"publishSiteSettings.duplicateAsTemplate.tooltip",defaultMessage:"Allow others to duplicate your page"}),render:o=>(0,r.jsx)(i(492077).C,{...(0,i(164079).Z)(e,o),ref:t,title:(0,r.jsx)(n()._H,{defaultMessage:"Duplicate as template",id:"publishSiteSettings.duplicateAsTemplate.settingTitle"}),icon:(0,i(44037).a)(d.icon),right:(0,r.jsx)(i(471645).Z,{...e,on:a,disabled:e.disabled||l})}),placement:s().Placement.Bottom,alignment:s().Alignment.Center,textWrap:!0,style:{maxWidth:i(591917).SITE_SETTINGS_TOOLTIP_WIDTH}})}const l=o.forwardRef(a)},974442:(e,t,i)=>{i.d(t,{Z:()=>o});const o=i(263184).default.createValue({open:!1},{name:"ConfirmOverwriteModalStore"})},994875:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});class o extends(()=>i(263184))().default{getInitialState(){return{discussionIdToExpansionStartPointMap:{}}}}const n=new o},129150:(e,t,i)=>{i.d(t,{p:()=>n});i(667294);var o=i(785893);const n=(0,i(827282).IU)("contentSearch",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M0.25293 5.82031C0.25293 8.88965 2.74805 11.3848 5.81738 11.3848C6.95898 11.3848 8.00488 11.0361 8.87988 10.4414L12.0244 13.5859C12.2158 13.7842 12.4824 13.873 12.749 13.873C13.3301 13.873 13.7471 13.4355 13.7471 12.8682C13.7471 12.5947 13.6514 12.3418 13.4668 12.1504L10.3428 9.01953C10.9922 8.12402 11.3818 7.0166 11.3818 5.82031C11.3818 2.75098 8.88672 0.255859 5.81738 0.255859C2.74805 0.255859 0.25293 2.75098 0.25293 5.82031ZM1.70215 5.82031C1.70215 3.55078 3.54102 1.70508 5.81738 1.70508C8.08691 1.70508 9.93262 3.55078 9.93262 5.82031C9.93262 8.08984 8.08691 9.93555 5.81738 9.93555C3.54102 9.93555 1.70215 8.08984 1.70215 5.82031Z"})})}}]);