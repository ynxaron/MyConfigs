"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[46596],{127369:()=>{},61738:(e,t,i)=>{i.d(t,{Z:()=>l});i(667294);var n=()=>i(219727),a=()=>i(846550),s=()=>i(374289),o=()=>i(154186),r=i(785893);function l(e){const{icon:t,title:i,on:l,disabled:d,hasDiff:c,wrapStyle:m,innerStyle:u,hideChevron:p}=e,g=(0,n().O7)(),h=(0,a().yK)((e=>{const t=g.device.isMobile;return{filterPill:{fontSize:14,display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",borderRadius:32,height:t?28:24,lineHeight:t?"28px":"24px",padding:"0 8px",border:`1px solid ${e.outlineButtonBorder}`,color:e.mediumTextColor,...l&&{color:e.blueColor,border:`1px solid ${e.filterPillBorder}`,background:e.filterPillBackground},...d&&{color:e.text.uiBlueTertiary,border:`1px solid ${e.text.uiBlueTertiary}`,background:e.filterPillBackground},...u},hovered:l?{background:e.outlineBlueButtonHoveredBackground}:{},pressed:l?{background:e.outlineBlueButtonPressedBackground}:{},chevron:{width:10,marginLeft:4,marginTop:1,fill:d?e.text.uiBlueTertiary:l?e.blueColor:e.lightIconColor},diffDot:{position:"absolute",top:-2,right:-2,background:"dark"===e.mode?e.accentColors.orange[500]:e.accentColors.orange[300],border:`1px solid ${e.contentBackground}`,width:9,height:9,borderRadius:9}}}),[d,g.device.isMobile,u,l]);return(0,r.jsxs)("div",{style:{borderRadius:14,marginRight:6,display:"inline-flex",...c&&{position:"relative"},...m},children:[(0,r.jsxs)(o().Z,{disabled:d,style:h.filterPill,hoveredStyle:h.hovered,pressedStyle:h.pressed,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onClick:e.onClick,onDoubleClick:e.onDoubleClick,children:[t,i,!p&&(0,s().i)(h.chevron)]}),c&&(0,r.jsx)("div",{style:h.diffDot})]})}},787721:(e,t,i)=>{i.r(t),i.d(t,{Section:()=>E,adminHeaderStyle:()=>U,adminItemStyle:()=>I,adminStyle:()=>P,adminWarningTextStyle:()=>M,adminWrapStyle:()=>D,default:()=>Z});i(122556),i(582845),i(250570),i(533019),i(721473),i(788208),i(22624),i(267602),i(653476),i(241792);var n=i(667294),a=()=>i(940782),s=()=>i(219727),o=()=>i(142735),r=()=>i(476179),l=()=>i(370668),d=()=>i(899548),c=()=>i(836273),m=()=>i(568017),u=()=>i(513670),p=()=>i(707513),g=()=>i(832054),h=()=>i(497065),f=()=>i(718959),S=()=>i(59407),y=()=>i(322231),v=()=>i(978947),x=()=>i(167810),k=()=>i(150848),b=()=>i(320744),C=()=>i(730621),j=()=>i(291198),R=()=>i(729775),w=()=>i(661297),B=()=>i(837600),A=i(785893);const I={width:500,padding:18,margin:8,border:`1px solid ${m().Vx().outlineButtonBorder}`,background:"white",position:"relative"},P={display:"flex",flexWrap:"wrap"},D={height:"100vh",overflow:"auto",background:m().Vx().surface.wash,padding:8},U={fontWeight:p().Ue.bold,fontSize:36},M={fontWeight:p().Ue.bold,color:"red"},E=(0,n.forwardRef)((function(e,t){const{title:i,children:n,id:a}=e;return!n||Array.isArray(n)&&!n.length?null:(0,A.jsxs)("div",{ref:t,id:a,style:{...P,marginTop:12,marginBottom:12,width:"100%"},children:[(0,A.jsx)("div",{style:{...U,width:"100%",marginLeft:I.margin},children:i}),n]})}));function Z(){const e=(0,s().O7)(),t=(0,o().qz)(void 0,x().Z),[i,Z]=(0,o().VK)((()=>{const t=(0,f().B7)(e);return[null==t?void 0:t.isDefined(),null==t?void 0:t.getEmail()]}),[e]);(0,y().Z)(t);const{apiOwnershipMap:F,currentUserPermissions:T,fetchPermissionsErrored:V}=(0,o().VK)((()=>{const{apiOwnershipMap:e,currentUserPermissions:i,fetchPermissionsErrored:n}=t.state;return{apiOwnershipMap:e,currentUserPermissions:i,fetchPermissionsErrored:n}}),[t]),[O,G]=(0,n.useState)(""),[L,N]=(0,n.useState)(!1),[z,H]=(0,n.useState)(""),K=(0,n.useCallback)((e=>{G(e.target.value)}),[G]),W=(0,n.useCallback)((()=>{N((e=>!e))}),[N]),q=(0,n.useMemo)((()=>{const e=O.toLowerCase();if(!(e.length<=1))try{return new RegExp(e,"i")}catch(t){return void console.error(`Can't filter with invalid regex "${e}"`,t)}}),[O]),_=(0,n.useRef)(null),$=(0,n.useRef)(null),Q=(0,n.useMemo)((()=>({find:n.createRef(),findAdminLogs:n.createRef(),pricing:n.createRef(),subscriptions:n.createRef(),recovery:n.createRef(),security:n.createRef(),saml:n.createRef(),contentModeration:n.createRef(),rateLimits:n.createRef(),experiments:n.createRef(),utilities:n.createRef(),integrations:n.createRef(),marketing:n.createRef(),domainClaim:n.createRef(),workspaceConsolidation:n.createRef(),ai:n.createRef(),calendar:n.createRef(),homeDigestEmail:n.createRef(),search:n.createRef(),marketplace:n.createRef()})),[]),Y=(0,n.useMemo)((()=>Object.fromEntries(r().KC.map((e=>[e,()=>{N(!0),H(e)}])))),[N]);(0,n.useEffect)((()=>{if(z){const e=Q[z];null!=e&&e.current&&(e.current.scrollIntoView(),H(""))}}),[z,H,Q]);const J=(0,n.useCallback)((()=>{g().B(e)}),[e]),X=(0,n.useCallback)((t=>{var i;(0,S().Z)(e,t,"command+/")&&(t.preventDefault(),G(""),null===(i=_.current)||void 0===i||i.focus())}),[e,_]);(0,n.useEffect)((()=>(window.addEventListener("keydown",X),()=>{window.removeEventListener("keydown",X)})),[X]);const ee=(0,n.useMemo)((()=>(void 0!==T?b().Fr:[]).filter((e=>(void 0===e.productionOnly||e.productionOnly)&&(void 0===e.localOnly||!1))).filter((e=>void 0===T||L||void 0!==q||T.has(e.apiName)))),[L,q,T]),te=(0,n.useMemo)((()=>void 0!==q?ee.filter((e=>(0,b().H2)(e,q))):ee),[ee,q]),ie=(0,o().VK)((()=>new Set(v().Z.state||[])),[]),ne=te.filter((e=>ie.has(e.apiName))).map((e=>{const t=F?F[e.apiName]:void 0;return(0,A.jsx)(k().Z,{style:I,api:e,owner:t,hasPermission:T?T.has(e.apiName):void 0},e.apiName)})),ae=(0,A.jsx)(E,{id:"favorites",title:"â­ Favorites",children:ne},"favorites");let se=!0;const oe=r().KC.map((e=>{const t=r()._c[e],i=new Set(t.tools),n=te.filter((e=>i.has(e.apiName))).map((e=>{const t=se?$:void 0,i=F?F[e.apiName]:void 0;return se=!1,(0,A.jsx)(k().Z,{style:I,ref:t,api:e,owner:i,hasPermission:T?T.has(e.apiName):void 0},e.apiName)}));return(0,A.jsx)(E,{id:e,title:r()._c[e].title,children:n,ref:Q[e]},e)}));return(0,A.jsx)(B().Z,{title:"Notion Admin Mode",children:(0,A.jsxs)("div",{style:D,children:[(0,A.jsxs)("div",{style:P,children:[(0,A.jsxs)("div",{style:I,children:[(0,A.jsxs)("div",{style:U,children:["Notion Admin Mode"," ",void 0]}),(0,A.jsxs)("div",{style:{marginBottom:12},children:[(0,A.jsx)(R().Z,{href:"https://dev.notion.so/notion/Use-Admin-Mode-05f1e0ad9aa749a4b3dc07410b499465",external:!0,inline:!0,underline:!0,children:"Click here"})," ","to learn more about how to use Admin Mode."]}),(0,A.jsxs)("div",{style:{display:"flex"},children:[!i&&(0,A.jsx)("div",{style:M,children:(0,A.jsx)(R().Z,{innerStyle:{textDecoration:"underline"},href:c()._j.login,children:"Please log in."})}),i&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("div",{style:{flex:1},children:["Currently Logged in as: ",Z]}),(0,A.jsx)(w().Z,{onClick:J,style:{height:"auto"},children:"Log Out"})]})]}),T&&(0,A.jsx)("div",{style:{display:"flex",marginTop:10},children:(0,A.jsxs)(w().Z,{onClick:W,style:{height:"auto"},children:[L?"Hide":"Show"," tools without access"]})}),V&&(0,A.jsx)("div",{style:M,children:"You do not have access to Admin Mode. If logging out and back in doesn't work, get help in the #trust-safety-ask Slack channel."}),!V&&i&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("hr",{}),(0,A.jsx)(C().Z,{permissionsSet:T})]}),(0,A.jsxs)(w().Z,{onClick:()=>{h().c4({environment:e,url:"/"})},style:{marginTop:12,display:"flex",alignItems:"center"},children:[(0,l().V)({width:12,height:12,marginRight:12}),"Navigate to user workspace"]})]}),!V&&i&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("div",{style:I,children:[(0,A.jsx)("div",{style:{fontWeight:p().Ue.bold,fontSize:18,marginBottom:6},children:"Go to (cmd-/)"}),(0,A.jsx)("div",{style:{marginBottom:14,display:"flex"},children:(0,A.jsx)(j().Z,{showClearButton:!0,placeholder:"Filter, then press enter to jump",ref:_,focusInitial:!0,value:O,onChange:K,left:(0,d().R)({width:14,height:14,marginRight:6,flexGrow:0,flexShrink:0,fill:m().Vx().mediumIconColor}),onSubmit:()=>{$.current&&$.current.focus()}})}),r().KC.map((e=>(0,A.jsx)("div",{style:{marginTop:6},children:(0,A.jsx)(R().Z,{onClick:Y[e],underline:!0,children:r()._c[e].title})},e)))]}),ae,oe,te.length<ee.length&&(0,A.jsxs)("div",{style:{opacity:.7,width:"100%",color:m().Vx().lightIconColor,margin:8,fontStyle:"italic"},children:[ee.length-te.length,' hidden. To show all, press Cmd-/ or click "Clear" above.',(0,A.jsx)("br",{}),u().UP(["Hi, spam duplicate","Your hair is looking so nice today!",'"The faster we are at getting botter, the faster we get botter" - Doug EngelBot',"You're doing a great job, keep it up!!","Computing for everyone","Remember to take a stretch break every once in a while"])]})]})]}),(0,A.jsx)(a().Ix,{hideProgressBar:!0,autoClose:1500,transition:a().Mi})]})})}},150848:(e,t,i)=>{i.d(t,{Z:()=>Z});i(821057),i(670560),i(122556),i(582845),i(250570),i(533019),i(721473),i(788208),i(22624),i(267602),i(30005),i(241792),i(731107),i(398858),i(461318),i(33228);var n=i(667294),a=()=>i(219727),s=()=>i(142735),o=()=>i(476179),r=()=>i(568017),l=()=>i(513670),d=()=>i(342792),c=()=>i(696459),m=()=>i(824462),u=()=>i(528918),p=()=>i(109757);class g extends(()=>i(263184))().default{getInitialState(){return{inputValues:{}}}}const h=g;var f=()=>i(978947),S=()=>i(320744),y=()=>i(649416),v=()=>i(291198),x=()=>i(312578),k=()=>i(708518),b=()=>i(661297),C=()=>i(67961),j=i(785893);const R={fontWeight:i(707513).Ue.bold,fontSize:20,display:"flex",alignItems:"center",marginBottom:6},w={background:"#F2F2F2",color:"#AAA"},B={width:"calc(100% - 120px)",height:"calc(100% - 120px)",padding:24,fontSize:"1.2em",overflow:"scroll"},A={fontSize:10,position:"absolute",bottom:7,right:20},I="__undefined",P={...["userId","spaceId","blockId","pageId","integrationId","spaceId","fileId","teamId","collectionId","botId"].reduce(((e,t)=>({[t]:S().b9,[`${t}s`]:S().uy,...e})),{}),...["userEmail","fromEmail","toEmail"].reduce(((e,t)=>({[t]:S().cL,[`${t}s`]:S().VX,...e})),{}),domain:S().Ic,domains:S().EJ,supportTicketLink:S().ZT};function D(e){const{fieldName:t,acceptMultiple:i,store:s}=e,[o,l]=(0,n.useState)((()=>({isUploading:!1,errorMessage:void 0,uploadedFileUrls:[]}))),d=(0,a().O7)();return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(b().Z,{size:"lg",style:{width:"fit-content",backgroundColor:"white"},onClick:()=>{p().cR({multiple:!!i,environment:d,onStart:()=>{l({...o,isUploading:!0,errorMessage:void 0,uploadedFileUrls:[]})},bucket:"public",onError:e=>{l({isUploading:!1,errorMessage:e.message,uploadedFileUrls:[]})},onComplete:e=>{l({isUploading:!1,errorMessage:void 0,uploadedFileUrls:e}),s.setState({response:void 0,inputValues:{...s.state.inputValues,[t]:i?e:e[0]}})},accept:"image/*"})},children:[i?"Upload images":"Upload image",o.isUploading&&(0,j.jsx)(x().Z,{style:{marginLeft:4}})]}),o.uploadedFileUrls&&(0,j.jsx)("div",{children:o.uploadedFileUrls.join(",")}),o.errorMessage&&(0,j.jsx)("div",{style:{color:r().ZP.red,display:"inline-flex",marginLeft:8},children:o.errorMessage})]})}const U=(0,i(788860).vU)({loading:{id:"adminAPIRequest.loadingMessage",defaultMessage:"Loadingâ€¦"}}),M=n.forwardRef((function(e,t){const{api:o,owner:r,defaultParams:d,hasPermission:c,showByDefault:m,singleRecordMode:u}=e,{apiName:p,displayName:g,schema:S,description:v,emoji:k,isDestructive:B}=o,I=(0,n.useRef)(null),P=(0,n.useRef)(null),D=(0,s().qz)(void 0,h),U=(0,a().O7)();(0,i(732811).K)((()=>{N(e,D)})),(0,n.useEffect)((()=>{O(m,u)&&K(U,o,D)}),[]),(0,n.useImperativeHandle)(t,(()=>({focus:()=>{var e;null===(e=I.current)||void 0===e||e.focus()}})),[]);const M=(0,n.useCallback)((()=>{K(U,o,D)}),[U,o,D]),Z=(0,s().VK)((()=>-1!==(f().Z.getState()||[]).indexOf(p)),[p]),F=Z?"â­":"â˜†",T=(0,j.jsx)("a",{onClick:()=>function(e){const t=f().Z.getState()||[],i=t.indexOf(e.apiName);-1===i?t.push(e.apiName):t.splice(i,1);f().Z.setState(t)}(o),style:{cursor:"pointer"},children:(0,j.jsx)(y().Z,{size:18,emoji:F})}),G=Z||!1!==c,L=(0,j.jsx)(i(654133).Z,{renderTooltip:()=>(0,j.jsxs)("div",{style:{width:320,whiteSpace:"normal"},children:["You do not have permission to ",(0,j.jsx)("i",{children:o.apiName}),". To receive temporary access, please follow"," ",(0,j.jsx)(i(108714).Z,{href:"https://dev.notion.so/notion/Admin-Mode-Request-Temporary-Access-3e1c84d2859d4061a18046d49eda6086?pvs=4",external:!0,style:{textDecoration:"underline"},children:"these instructions."})]}),render:e=>(0,j.jsx)("div",{...e,children:(0,j.jsx)("span",{title:"No permission",children:(0,j.jsx)(y().Z,{size:18,emoji:"ðŸš«",alt:"No permission"})})}),closeDelay:1e3,allowHover:!0}),{confirmationResponse:z,response:H}=(0,s().Kw)(D),_={...e.style,...!1===c?w:{}};return(0,j.jsxs)("div",{style:_,children:[(0,j.jsxs)("div",{style:R,children:[(0,j.jsx)(y().Z,{size:24,emoji:k}),(0,j.jsx)("span",{style:{marginLeft:4},children:g||l().fl(p.replace(/^(admin)/,""))}),(0,j.jsx)("span",{style:{flexGrow:1}}),G&&T,!1===c&&L]}),v&&(0,j.jsx)(C().Z,{isSmall:!0,isMultiline:!0,children:v}),!O(m,u)&&(0,j.jsxs)(j.Fragment,{children:[Object.entries(S).map(((e,t)=>{let[i,n]=e;return d&&d[i]?void 0:(0,j.jsx)(E,{schema:n,keyProp:i,index:t,firstInputRef:I,fileInputRef:P,handleSubmitClick:M,hasPermission:c,store:D},i)})),(0,j.jsx)(b().Z,{style:{marginTop:8,marginBottom:8},size:"lg",onClick:M,color:B?"uiRed":void 0,disabled:!1===c,children:"Submit"})]}),O(m,u)&&!H&&(0,j.jsxs)("div",{children:[(0,j.jsx)(x().Z,{legacySize:18}),"Loading ..."]}),(0,j.jsx)(V,{response:z}),(0,j.jsx)(W,{api:o,store:D,response:z}),(0,j.jsx)(V,{response:H}),(0,j.jsx)(q,{adminAPIRequestProps:e,store:D,response:H}),r&&(0,j.jsx)("div",{style:A,children:r&&(0,j.jsxs)("span",{children:["Owned by"," ",(0,j.jsx)("a",{href:`https://notion.slack.com/app_redirect?channel=${r.slackChannel}`,children:r.teamName})]})})]})}));function E(e){const{schema:t,keyProp:a,index:o,firstInputRef:r,fileInputRef:d,handleSubmitClick:m,hasPermission:u,store:p}=e,g=(0,s().VK)((()=>p.state.inputValues[a]),[p,a]),h=0===o?r:void 0,[f,y]=(0,n.useState)("");let x;if(t.type===S().It.String)x=(0,j.jsx)(v().Z,{ref:h,value:"string"==typeof g?g:"",placeholder:G(a,t),showClearButton:!0,onChange:e=>{p.setState({response:void 0,inputValues:{...p.state.inputValues,[a]:e.target.value}})},onSubmit:m,onClearButtonClick:()=>{p.setState({response:void 0,inputValues:{...p.state.inputValues,[a]:void 0}})},disabled:!1===u});else if(t.type===S().It.Number){const e="float"===t.numberType?parseFloat:parseInt;x=(0,j.jsx)(v().Z,{ref:h,type:"number",value:"number"==typeof g?g.toString():"",onChange:t=>{p.setState({response:void 0,inputValues:{...p.state.inputValues,[a]:e(t.target.value)}})},onSubmit:m,disabled:!1===u})}else if(t.type===S().It.Options){const e=[I,...t.options],n={menuTitle:a,items:e,selectedItem:g,onSelect:e=>{p.setState({response:void 0,inputValues:{...p.state.inputValues,[a]:e===I?void 0:e}})},getKey:e=>e,renderItem:e=>(0,j.jsx)(i(827973).Z,{...e,title:e.value===I?"Empty":e.value}),renderOrigin:e=>(0,j.jsx)(b().Z,{size:"lg",style:{marginBottom:8},...e,children:g||"Empty"}),width:300,disabled:!1===u};x=(0,j.jsx)(i(397540).Z,{...n})}else if(t.type===S().It.Boolean)x=(0,j.jsx)(i(715139).Z,{checked:Boolean(g),size:20,onClick:e=>{p.setState({response:void 0,inputValues:{...p.state.inputValues,[a]:!Boolean(g)}})},disabled:!1===u});else if(t.type===S().It.Csv)x=(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(b().Z,{size:"lg",onClick:()=>{var e;null==d||null===(e=d.current)||void 0===e||e.click()},style:{marginRight:10},children:"Upload"}),f,(0,j.jsx)("input",{ref:d,style:{display:"none"},type:"file",name:t.name||"csv file",onChange:e=>async function(e,t,i,n){const a=t.target.files;if(null==a||!a.length)return;const s=a[0],o=await s.text();n(s.name),i.setState({response:void 0,inputValues:{...i.state.inputValues,[e]:o}})}(a,e,p,y),disabled:!1===u})]});else if(t.type===S().It.Image||t.type===S().It.Images){const e=t.type===S().It.Images;x=(0,j.jsx)(D,{fieldName:a,acceptMultiple:e,store:p})}else if(t.type===S().It.Timezone)x=(0,j.jsx)(i(91253).X,{enableRecents:!0,currentValue:void 0,renderOrigin:e=>(0,j.jsx)(b().Z,{...e,children:g}),onSelect:e=>{p.setState({response:void 0,inputValues:{...p.state.inputValues,[a]:e}})}});else if(t.type===S().It.Multiselect){const e=t.options.map(((e,t)=>({key:String(t),value:e.value,title:e.displayName,caption:e.value}))),n=g,s=t.defaultValue??[],o=Array.isArray(n)?n:s,r=o.length>0?`${o.length} selected`:"Empty";x=(0,j.jsx)(i(167393).F,{pillTitle:r,pillIcon:i(702491).V,setSelectedItems:e=>{p.setState({inputValues:{...p.state.inputValues,[a]:e}})},selectedItems:o,items:e})}else t.type===S().It.Section?x=(0,j.jsx)(i(839415).V,{sections:[{key:a,title:t.name??l().fl(a),content:(0,c().qP)(t.components).map((e=>{let[t,i]=e;return(0,j.jsx)(E,{schema:i,keyProp:t,index:o,firstInputRef:r,fileInputRef:d,handleSubmitClick:m,hasPermission:u,store:p},t)}))}]}):(0,c().t1)(t);return(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{style:{marginTop:12,marginBottom:4},children:t.type!==S().It.Section&&l().fl(a)}),t.comment&&(0,j.jsx)(C().Z,{isSmall:!0,isMultiline:!0,style:{marginTop:4,marginBottom:8},children:t.comment}),x]},a)}const Z=M;function F(e){if(t=e,Boolean("success"===t.type&&Array.isArray(null===(i=t.data)||void 0===i?void 0:i.rows)&&(null===(n=t.data)||void 0===n?void 0:n.rows.length)>0&&"string"==typeof(null===(a=t.data)||void 0===a?void 0:a.filename))){const{filename:t,rows:i}=e.data,n=Array.from(i.reduce(((e,t)=>(Object.keys(t).forEach((t=>e.add(t))),e)),new Set)),a=[n];for(const e of i){const t=new Array(n.length);for(let i=0;i<t.length;i++){const a=n[i];t[i]=e[a]}a.push(t)}const s=a.map((e=>e.join(","))).join("\n"),o=new Blob([s],{type:"data:text/csv"}),r=window.URL.createObjectURL(o),l=document.createElement("a");return l.download=t,l.href=r,l.click(),!0}var t,i,n,a;return!1}function T(e,t){const i={},n=new Map;(0,c().qP)(t).forEach((e=>{let[t,i]=e;i.type===S().It.Section?(0,c().qP)(i.components).forEach((e=>{let[t,i]=e;n.set(t,i)})):n.set(String(t),i)}));for(const a of Object.keys(e)){const t=e[a];n.get(a)&&(l().HD(t)&&d().qn(t.trim())?i[a]=d().wr(t.trim()):i[a]=t)}return i}function V(e){var t;let{response:n}=e;if(!n)return null;if("success"===n.type)return null;const a=(0,i(709344).p)(n),s="admin_tool_insufficient_permissions"===(null===(t=n.body)||void 0===t||null===(t=t.clientData)||void 0===t?void 0:t.type),o={color:r().ZP.red,display:"inline-block",marginLeft:8};return 401!==n.status||s?(0,j.jsx)("div",{style:o,children:a}):(0,j.jsxs)("div",{style:o,children:[a," Likely fixed by"," ",(0,j.jsx)(i(729775).Z,{innerStyle:{textDecoration:"underline"},href:i(836273)._j.login,children:"signing in."})]})}function O(e,t){return e&&t}function G(e,t){return void 0!==t.placeholder?t.placeholder:(0,c().qg)(P,e)?P[e]:void 0}function L(e){return(0,c().qg)(o().Hj,e.apiName)?o().Hj[e.apiName]:void 0}function N(e,t){const{defaultParams:i}=e,n={};for(const a of Object.keys(e.api.schema)){const t=e.api.schema[a];i&&i[a]?n[a]=i[a]:t&&void 0!==t.defaultValue?n[a]=t.defaultValue:n[a]=void 0}t.setState({inputValues:n})}function z(e,t,i){const{schema:n}=t,{inputValues:a}=i.state,s=L(t);if(!s)throw new Error("Should not have gotten here without a confirmationApi");const o=T(a,n);u().j({message:U.loading}),m().callApi({eventName:s,environment:e,data:o}).then((e=>{u().x(),F(e),i.setState({...i.state,confirmationResponse:e})}))}function H(e,t,i){const{apiName:n,schema:a}=t,{inputValues:s}=i.state,o=T(s,a);u().j({message:U.loading}),m().callApi({eventName:n,environment:e,data:o}).then((e=>{u().x(),F(e)||i.setState({...i.state,confirmationResponse:void 0,response:e})}))}function K(e,t,i){L(t)?z(e,t,i):H(e,t,i)}function W(e){let{response:t,api:s,store:o}=e;const r=(0,a().O7)(),l=(0,n.useCallback)((()=>H(r,s,o)),[r,s,o]),d=(0,n.useCallback)((()=>function(e){e.setState({inputValues:e.state.inputValues})}(o)),[o]);return t&&"success"===t.type?(0,j.jsx)(k().Z,{open:!0,innerStyle:B,onDismiss:d,transitionAppearance:"none",render:()=>(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(C().Z,{isSmall:!0,isMultiline:!0,style:{marginBottom:8},children:"Does this information about the action you're about to take look good to you? Hit Confirm if it does. Cancel if not."}),(0,j.jsx)(i(231038).K,{data:t.data}),(0,j.jsx)(b().Z,{style:{marginTop:8,marginBottom:8},size:"lg",onClick:l,children:"Confirm"}),(0,j.jsx)(b().Z,{style:{marginTop:8,marginBottom:8,marginLeft:8},size:"lg",onClick:d,children:"Cancel"})]})}):null}function q(e){let{response:t,adminAPIRequestProps:s,store:o}=e;const{api:r,singleRecordMode:l,showByDefault:d}=s,c=(0,a().O7)(),m=(0,n.useCallback)((()=>function(e,t,i){if(!i.state.response)return;"failed"===i.state.response.type||e.isReadOnly?i.setState({inputValues:i.state.inputValues}):N(t,i)}(r,s,o)),[r,s,o]);if(!t||"success"!==t.type)return null;const u=r.customResponseRenderer?(0,j.jsx)(r.customResponseRenderer,{data:t.data,environment:c,singleRecordMode:l}):(0,j.jsx)(i(457203).Z,{data:t.data});return O(d,l)?u:(0,j.jsx)(k().Z,{open:Boolean(t&&"success"===t.type),innerStyle:B,onDismiss:m,transitionAppearance:"none",render:()=>u})}},972544:(e,t,i)=>{i.d(t,{S:()=>s,Z:()=>r});var n=i(667294),a=i(785893);const s=8;function o(e,t){let{isSelected:n}=e;const{radioButtonStyle:o,dotStyle:r}=(0,i(846550).yK)((e=>({radioButtonStyle:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:16,height:16,borderRadius:16,marginRight:s,background:n?e.blueColor:e.whiteButtonBackground,border:n?"none":`1px solid ${e.radioButtonBorder}`,transition:"background 100ms ease-out"},dotStyle:{width:6,height:6,borderRadius:6,background:e.regularInvertedTextColor,transition:"opacity 100ms ease-out",opacity:n?1:0}})),[n]);return(0,a.jsx)("div",{ref:t,style:o,children:(0,a.jsx)("div",{style:r})})}const r=n.forwardRef(o)},390561:(e,t,i)=>{i.d(t,{Z:()=>a});i(667294);var n=i(785893);const a=function(e){const t={desktopTitleStyle:{marginBottom:4},marginAfter:{marginBottom:16}},{title:a,marginAfter:s,desktopStyle:o,desktopTitleStyle:r,...l}=e,d=(s||o)&&{...s&&t.marginAfter,...o},c=r?{...t.desktopTitleStyle,...r}:t.desktopTitleStyle;return(0,n.jsx)(i(388284).Z,{isTitleUppercase:!0,disableDesktopPadding:!0,enableActionSheetTitle:!0,desktopStyle:d,desktopTitleStyle:c,shouldShowBottomDivider:!1,title:a,...l})}},322231:(e,t,i)=>{i.d(t,{Z:()=>l});i(122556),i(582845),i(250570),i(533019),i(721473),i(788208),i(22624);var n=()=>i(219727),a=()=>i(142735),s=()=>i(801812),o=()=>i(824462),r=()=>i(718959);function l(e){const t=(0,n().O7)(),i=(0,a().VK)((()=>{const e=(0,r().B7)(t);return null==e?void 0:e.isDefined()}),[t]);(0,s().r5)((async()=>{if(!i||void 0!==e.state.currentUserPermissions)return;const n=await o().callApi({eventName:"adminGetCurrentUserPermissions",environment:t,data:{}});if("failed"===n.type)e.setState({...e.state,fetchPermissionsErrored:!0});else{const t=n.data.permissions?new Set(n.data.permissions):void 0;e.setState({...e.state,currentUserPermissions:t,fetchPermissionsErrored:!1})}}),[i,e,t]),(0,s().r5)((async()=>{if(!i||!e||void 0!==e.state.apiOwnershipMap)return;const n=await o().callApi({eventName:"adminGetOwnership",environment:t,data:{}});"failed"===n.type||n&&e.setState({...e.state,apiOwnershipMap:n.data})}),[i,e,t])}},978947:(e,t,i)=>{i.d(t,{Z:()=>n});const n=new(i(41158).D)({key:"adminFavoriteToolsSetting",namespace:i(149310).$p,important:!1,trackingType:"preference"})},167810:(e,t,i)=>{i.d(t,{Z:()=>a});class n extends(()=>i(263184))().default{getInitialState(){return{apiOwnershipMap:void 0,currentUserPermissions:void 0,fetchPermissionsErrored:!1}}}const a=n},476179:(e,t,i)=>{i.d(t,{Hj:()=>s,KC:()=>a,_c:()=>n});const n={find:{title:"Find user and workspace information",tools:["adminSearchUsers","adminSearchSpaces","adminSearchBlocks","adminSearchBlockBySlug","adminSearchTeams","adminSearchCollections","adminSearchCollectionViews","adminSearchForUsersInSpaces","adminGetDataAccessConsent","adminSearchPermanentlyDeletedPages","adminSearchSpaceActivity","adminGetPublicPages","adminGetPublicForms","adminGetPublicDomainStatus","adminGetBulkSpaceIdsByDomain","adminGetBulkSpaceIdsByEmail","adminGetBulkUserIdsByEmail","isEmailEducation","adminGetSpaceMembershipUpdates","adminGetProcessedSpaceMembershipUpdates","adminFlushSpaceMembershipUpdates","adminGetBillingDataInformation","adminFindDeletedUser","adminCountWordsInPage","adminReadBlockPermissions","adminGetAutomationsForRecordId","adminGetAutomationRecurrenceStatus","adminSearchOrganizations"]},findAdminLogs:{title:"Find Admin logs",tools:["getUserAdminApiLog","getAdminHistory","getSpaceAdminApiLog","getBlockAdminApiLog"]},pricing:{title:"Pricing and credits",tools:["adminAllowlistCreditDomain","adminCancelSubscription","adminReleaseSubscriptionSchedule","adminDowngradeFraudSubscription","getBillingHistory","adminGetUserBillingInformation","adminBulkApplyPromotionCodes","adminBulkUpgradeEduPlusUser","adminBulkCreateTimedTrials","allowEducationEmails","adminRemoveAllowedEducationEmails","getPromoCode","adminBulkAddPromotionCodes","adminPartnerStackFixMissingProductKeys","adminBulkAddEduUniversitiesAndDomains","adminSyncBillingState","adminGetSubscriptionBannerState","adminGetUnrepresentableState","adminSetHighWaterMark","listPrices"]},subscriptions:{title:"Subscriptions",tools:["adminUpdateSubscription","adminGetOrCreateStripeCustomer","adminUpdateAddOnSubscription","adminSetSalesAssistedSubscriptionBanner","adminCheckDomainEligibleForSalesAssisted","adminSetSelfServeEnterpriseEligibility","adminBulkSetSalesAssistedSubscriptionBanner","adminGetSubscriptionBannerHistory","adminEmployeeSubscriptionUpdate","adminMonetizationTaskRunnerEnqueue","adminTriggerSubscriptionAuditor","adminRefundInvoice"]},recovery:{title:"Recovery",tools:["adminRemoveSpaceUsersAndTransferContent","recoverSpace","recoverUser","adminRecoverMfa","adminDeleteUserPasskeys","adminChangeEmail","adminSwapUserEmails","adminSwapUserDomains","adminModifyBlock","adminRestoreBlock","adminSetSpaceDomain","adminSetDefaultPublicDomain","adminViewDeletedCollectionProperties","adminRestoreDeletedCollectionProperties","adminRestoreDeletedGuestPermissions","adminMergeUsers","adminRecoverUserContentInSpace","adminReviveBlocksOnPage","adminRestoreDeletedOrganization"]},security:{title:"Security",tools:["adminSearchAuditLog","adminDisableReverifyForUser","adminAddPublicEmailDomains","adminDeleteSpaces","adminResetAccounts","adminDeleteUser","revokeUserTokens","adminBlockApiBots","adminRevokeBotToken","adminDeleteFileFromS3","adminBlockEmailDomain","adminBanUser","adminBulkBanUsers","adminBypassEmailReputationChecks","adminAddPreservedSpaces","adminRemovePreservedSpaces"]},saml:{title:"SAML and Organization",tools:["adminGetSamlConfig","adminGetSpacesForAllowedEmailDomain","adminUpdateSamlConfig","adminUpdateOrganizationSpaces","adminPrimaryWorkspaceChange","adminEditTrustedDomains"]},contentModeration:{title:"Content Moderation",tools:["adminSetPageContentClassification","adminSetDisableSpacePublicAccess","adminReportCSAMContent"]},rateLimits:{title:"Rate limits",tools:["adminGetRateLimits","adminResetRateLimits"]},experiments:{title:"Experiments",tools:["adminGetStatsigExperiment","adminGetStatsigFeatureGate","adminCheckStatsigSegment","adminUpdateStatsigSegmentIds","adminGetClientExperiments","adminViewExperiments","adminUpdateExperiment"]},utilities:{title:"Utilities",tools:["adminSearchUserAdminToolRoles","adminCopyPageBetweenEnvironments","disableUserAnalytics","adminEditBlockPermissions","adminEditSpacePermissions","adminBulkRemoveSpaceGuests","adminOverridePremiumFeatureAvailability","adminGetPremiumFeatureAvailabilities","adminOverrideInternalDomains","adminEditTeamMembership","adminUpdateTeamMember","adminUpdateUserSettings","adminShowCustomerInvoice","adminGetBulkIds","adminAddLinkPreviewToSpace","adminQueryCollectionReplay","adminGetSpaceIdsForDeletionDate","adminFindOrphanedBlocks","adminClearFreeChartsForSpace","adminGetFreeChartsForSpace","adminUpdateWorkspaceFreeze","adminCreateWorkspaceInRegion"]},integrations:{title:"Integrations",tools:["adminGetIntegrationData","adminGetSlackIntegrationData","adminUpdateIntegrationData","adminGetSyncedDatabaseData","adminForceResyncExternalObjects","adminRemoveChildFromExternalCollection","adminJoinSpacesForOauthRedirect","adminGetWorkspaceWebhookSubscriptions","adminSearchBots","adminListIntegrationWebhookSubscriptions"]},marketing:{title:"Marketing",tools:["adminCreateMarketingRoute","adminBulkSetStartupReferralPartners"]},domainClaim:{title:"Domain Claim (Management)",tools:["adminGetDomainManagementSettings","adminIsSpaceDomainClaimEligible","adminGetDomainClaimEligibleSpaces","adminClaimAndUpgradeForSalesAssisted","adminDelayClaimSpaceDeletion"]},workspaceConsolidation:{title:"Workspace Consolidation",tools:["adminCancelSpaceConsolidation","adminRunSpaceConsolidation"]},ai:{title:"Notion AI",tools:["adminUpdateNotionAIAvailabilityForSpace","adminAddZeroRetentionSpace","adminCheckHIPAAComplianceStatus","adminOnboardAISlackQnA","adminOptOutNotionAIDataSharing","adminIsWorkspaceInQnA","adminQnACheckIndexingStatus","adminSetAssistantEnabledForSpaces","adminSearchAsUser"]},calendar:{title:"Notion Calendar",tools:["adminUpdateNotionCalendarAvailableForSpace"]},homeDigestEmail:{title:"Digest email powered by Home",tools:["adminScheduleHomeDigestEmail"]},marketplace:{title:"Marketplace",tools:["adminGetTemplateCreator","adminSetCreatorStripeOnboardingStatus","adminReviewMarketplaceRefund","adminCreateMarketplaceRefund","adminGetMarketplaceAcquisitionsForUser","adminIssueMarketplaceRefund","adminCreateOrUpdateMarketplaceCoupon","adminGetMarketplaceCoupon"]}},a=Object.keys(n),s={adminRestoreBlock:"adminDescribeDeletedBlockPermissions",adminRestoreDeletedGuestPermissions:"adminDescribeRestoreDeletedGuestPermissions",adminReviveBlocksOnPage:"adminDescribeBlocksOnPageToRevive",adminDeleteSpaces:"adminDescribeSpacesToDelete",adminResetAccounts:"adminDescribeAccountsToReset",adminDeleteFileFromS3:"adminDescribeDeleteFileFromS3",adminEditSpacePermissions:"adminDescribeEditSpacePermission",adminRunSpaceConsolidation:"adminDescribeRunSpaceConsolidation"};Object.values(s)},370668:(e,t,i)=>{i.d(t,{V:()=>a});i(667294);var n=i(785893);const a=(0,i(827282).IU)("arrowLeft",{viewBox:"0 0 30 30",svg:(0,n.jsx)("polygon",{points:"29 14 4.813 14 13.406 5.406 12 4 1 15 12 26 13.406 24.594 4.813 16 29 16"})})},702491:(e,t,i)=>{i.d(t,{V:()=>a});i(667294);var n=i(785893);const a=(0,i(827282).IU)("checkboxSquareChecked",{viewBox:"0 0 14 14",svg:(0,n.jsx)("path",{d:"M2.85742 13.4561H11.1357C12.6123 13.4561 13.3779 12.6904 13.3779 11.2344V2.91504C13.3779 1.45215 12.6123 0.693359 11.1357 0.693359H2.85742C1.38086 0.693359 0.615234 1.45215 0.615234 2.91504V11.2344C0.615234 12.6973 1.38086 13.4561 2.85742 13.4561ZM2.93945 12.1162C2.30371 12.1162 1.95508 11.7812 1.95508 11.1182V3.02441C1.95508 2.36133 2.30371 2.0332 2.93945 2.0332H11.0537C11.6826 2.0332 12.0381 2.36133 12.0381 3.02441V11.1182C12.0381 11.7812 11.6826 12.1162 11.0537 12.1162H2.93945ZM6.26855 10.3115C6.51465 10.3115 6.72656 10.1885 6.87012 9.96973L9.92578 5.19141C10.0146 5.04785 10.0967 4.88379 10.0967 4.72656C10.0967 4.3916 9.7959 4.16602 9.47461 4.16602C9.26953 4.16602 9.08496 4.27539 8.94141 4.50781L6.24121 8.8418L4.96973 7.22168C4.80566 7.00977 4.6416 6.93457 4.43652 6.93457C4.10156 6.93457 3.8418 7.20117 3.8418 7.54297C3.8418 7.70703 3.90332 7.85742 4.01953 8.00098L5.63281 9.96973C5.81738 10.209 6.01562 10.3115 6.26855 10.3115Z"})})}}]);