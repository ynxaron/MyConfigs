"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[41589],{155056:(e,t,n)=>{n.d(t,{TX:()=>x,jf:()=>b,pj:()=>v,qc:()=>f});n(667294);var o=()=>n(506347),i=()=>n(836273),r=()=>n(788860),a=()=>n(594546),s=()=>n(718959),l=()=>n(429725),d=()=>n(890324),c=()=>n(438793),u=()=>n(308186),g=()=>n(401411),p=()=>n(579358),h=()=>n(497065),m=n(785893);async function b(e){c().T3(e,{variant:"open_notion"}),c().eb(e,{target:"open_notion"}),await p().yF(e,{utmContent:"topbar_cta",nextRoute:i()._j.root})}function f(e,t){const{RouterStore:n}=e,a=n.state.route,p=s().np();if(c().u_(e),"page"===a.name&&a.requestedOnPublicDomain&&p){const t=(0,l().ZP)({store:p,preferPublicLink:!1,pageVisitSource:o().tY.EditPublicPage,disableSlug:!0,embedded:!1});h().navigateOnBaseUrl({environment:e,url:t,openInNewTab:a.embedded})}else e.currentUser.isLoggedIn()?u().vC({showCancel:!0,keepFocus:!1,message:(0,m.jsx)(r()._H,{defaultMessage:"When you start editing, your name, email and photo may become visible to anyone who can view the page.",id:"action.startPublicEditDialog.message"}),items:[{label:(0,m.jsx)(r()._H,{defaultMessage:"Continue",id:"action.startPublicEditDialog.continueLabel"}),color:"blue",onAccept(){d().Z.setState({editing:!0,commenting:!0})}}]}):(g().Hr({currentUserId:e.currentUser.id,blockId:t}),h().navigateOnBaseUrl({environment:e,url:i()._j.login}))}function x(e,t){const{RouterStore:n}=e,r=n.state.route,a=s().np();if(c().WT(e),"page"===r.name&&r.requestedOnPublicDomain&&a){const t=(0,l().ZP)({store:a,preferPublicLink:!1,pageVisitSource:o().tY.CommentPublicPage,disableSlug:!0,embedded:!1});h().navigateOnBaseUrl({environment:e,url:t,openInNewTab:r.embedded})}else g().Hr({currentUserId:e.currentUser.id,blockId:t}),h().navigateOnBaseUrl({environment:e,url:i()._j.login})}function v(e,t){(0,a().j)({environment:e,event:{eventName:"report_form_clicked",eventProperties:{form_id:t}}}),h().navigateOnBaseUrl({environment:e,url:i()._j.reportInappropriateForm})}},672178:(e,t,n)=>{n.d(t,{b:()=>i});var o=()=>n(594546);function i(e){let{environment:t,source:n,sourceData:i,formId:r}=e;(0,o().j)({environment:t,event:{eventName:"forms_growth_click",eventProperties:{source:n,source_data:i,form_id:r}}})}},541589:(e,t,n)=>{n.d(t,{G:()=>p,r:()=>g});var o=()=>n(142735),i=()=>n(846550),r=()=>n(718959),a=()=>n(280056),s=()=>n(589525),l=()=>n(297861),d=()=>n(505121),c=()=>n(749826),u=()=>n(382736);function g(e){const{environment:t,rightEdgeDistance:n,isInPeekRenderer:a}=e,l=e.width??36,c=(0,o().VK)((()=>(0,s().ll)(t,a)-(0,s().vJ)(t)),[t,a]),g=(0,o().VK)((()=>p(t,16+d().Z.state)),[t]),h=(0,o().VK)((()=>n+d().Z.state),[n]),m=(0,o().VK)((()=>r().tu.state?0:1),[]),{roundButtonStyle:b}=(0,i().yK)((e=>({roundButtonStyle:{position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",background:e.whiteButtonBackground,bottom:g,right:h,width:l,height:l,borderRadius:"100%",fontSize:20,boxShadow:e.shadowSM,opacity:m,transform:`translateX(-${c}px) translateZ(0)`,transition:`\n\t\t\t\t\topacity ${u().n}ms,\n\t\t\t\t\tcolor ${u().n}ms,\n\t\t\t\t\ttransform 200ms\n\t\t\t\t`}})),[c,g,h,l,m]);return b}function p(e,t){const n=c().default.checkGate({gateName:"tablet_refresh_gate"}),o=e.device.isMobileNative&&!n,i=(0,l().Y)("supportsNativeBottomBar"),r=o&&!i;return e.WindowSizeStore.getSafePaddingBottomCSS(t+(r?a().VG:0))}},981476:(e,t,n)=>{n.d(t,{Z:()=>b});n(667294);var o=()=>n(219727),i=()=>n(641772),r=()=>n(159253),a=()=>n(449148),s=()=>n(788860),l=()=>n(491927),d=()=>n(879952),c=()=>n(677559);const u=new(c().Ss)("publicTopbarMoreMenu",(async()=>await Promise.all([n.e(62743),n.e(52774),n.e(44832),n.e(39938),n.e(84885),n.e(90698),n.e(37358),n.e(7312),n.e(5242),n.e(31189),n.e(90424),n.e(69343),n.e(81580),n.e(84325),n.e(2933),n.e(94556),n.e(78701),n.e(38804),n.e(17100),n.e(4387),n.e(11189),n.e(53329),n.e(71896),n.e(72586),n.e(53335),n.e(46616),n.e(54940),n.e(20224),n.e(46546),n.e(98721),n.e(50471),n.e(49498),n.e(2971),n.e(20634),n.e(91253),n.e(63707),n.e(61171),n.e(4014),n.e(63502),n.e(7678),n.e(5006),n.e(20919),n.e(75377),n.e(99590),n.e(52435),n.e(69437),n.e(81063),n.e(75066),n.e(81917),n.e(88128),n.e(97934),n.e(37317),n.e(91e3),n.e(18162),n.e(91752),n.e(78517),n.e(99537),n.e(80730),n.e(11770),n.e(83962),n.e(62084),n.e(79289),n.e(21862),n.e(41589),n.e(71641),n.e(23006),n.e(72646),n.e(10553),n.e(74879),n.e(67601),n.e(37239),n.e(40692),n.e(20683),n.e(22467),n.e(27039),n.e(97083),n.e(52065),n.e(18534),n.e(39179),n.e(77555),n.e(38632),n.e(78856),n.e(19592),n.e(47559),n.e(22371),n.e(73230),n.e(25911),n.e(54843),n.e(76540),n.e(22337),n.e(93536),n.e(53936),n.e(23721),n.e(32175),n.e(66283),n.e(22154),n.e(58586)]).then(n.bind(n,956530)))),g=(0,c().kF)(u,(e=>e.PublicTopbarMoreMenu));var p=()=>n(154186),h=()=>n(448419),m=n(785893);const b=function(e){let{buttonPopupStore:t,isSiteTopbar:n,store:i}=e;const r=(0,o().O7)(),a=(0,o().MO)();return(0,m.jsx)(h().ZP,{popupType:a?h().Z4.SlideUp:h().Z4.Popup,buttonPopupStore:t,renderOrigin:e=>(0,m.jsx)(x,{buttonPopupEvents:e,isSiteTopbar:Boolean(n)}),onClick:()=>v(r),render:()=>(0,m.jsx)(g,{blockStore:i,onDismiss:()=>v(r)}),originGap:8})};function f(e){const{device:t}=e;return t.isMobile?{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",marginLeft:8,marginRight:8}:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:28,borderRadius:4}}function x(e){let{buttonPopupEvents:t,isSiteTopbar:n}=e;const l=(0,s().YB)(),d=(0,o().O7)(),{device:c}=d,u=c.isMobile;return(0,m.jsx)(p().Z,{ariaLabel:l.formatMessage({id:"publicTopbarMoreButton.ariaLabel",defaultMessage:"More actions"}),style:f(d),mobileFeedback:c.isMobile,...t,children:n?u?(0,a()._)({width:16,height:16}):(0,r().O)({width:18,height:18}):(0,i().o)({width:18,height:18})})}function v(e){d().ZH({environment:e}),l().Fj(e)}},611038:(e,t,n)=>{n.d(t,{Z:()=>I});var o=n(667294),i=()=>n(219727),r=()=>n(142735),a=()=>n(846550),s=()=>n(38761),l=()=>n(127513),d=n(785893);const c=(0,n(827282).IU)("plusRounded",{viewBox:"0 0 24 24",svg:(0,d.jsx)("path",{d:"M5.46094 11.8594C5.46094 12.1042 5.54688 12.3125 5.71875 12.4844C5.89062 12.651 6.09635 12.7344 6.33594 12.7344H11.125V17.5312C11.125 17.7656 11.2109 17.9688 11.3828 18.1406C11.5547 18.3125 11.7604 18.3984 12 18.3984C12.2448 18.3984 12.4531 18.3125 12.625 18.1406C12.7969 17.9688 12.8828 17.7656 12.8828 17.5312V12.7344H17.6641C17.9036 12.7344 18.1094 12.651 18.2812 12.4844C18.4531 12.3125 18.5391 12.1042 18.5391 11.8594C18.5391 11.6198 18.4531 11.4141 18.2812 11.2422C18.1094 11.0651 17.9036 10.9766 17.6641 10.9766H12.8828V6.19531C12.8828 5.95573 12.7969 5.75 12.625 5.57812C12.4531 5.40625 12.2448 5.32031 12 5.32031C11.7604 5.32031 11.5547 5.40625 11.3828 5.57812C11.2109 5.75 11.125 5.95573 11.125 6.19531V10.9766H6.33594C6.09635 10.9766 5.89062 11.0651 5.71875 11.2422C5.54688 11.4141 5.46094 11.6198 5.46094 11.8594Z"})});var u=()=>n(788860),g=()=>n(381140),p=()=>n(231077),h=()=>n(497065),m=()=>n(71410),b=()=>n(148126),f=()=>n(772529),x=()=>n(170210),v=()=>n(920719),y=()=>n(998901),S=()=>n(876822),w=()=>n(725751),j=()=>n(255810),C=()=>n(1910),k=()=>n(64260),P=()=>n(654133);const M=(0,u().vU)({newTabButton:{id:"desktopTopbarBrowserHistoryButton.newTabButton.label",defaultMessage:"New tab"},goBackButton:{id:"desktopTopbarBrowserHistoryButtons.goBackButton.label",defaultMessage:"Go back"},goForwardButton:{id:"desktopTopbarBrowserHistoryButton.goForwardButton.label",defaultMessage:"Go forward"}}),I=function(e){let{showPlusButton:t=!0}=e;const o=(0,r().VK)((()=>n(482162).default.isCenterPeekOpen()),[]);return(0,d.jsx)(n(967092).ZP,{style:{background:"transparent",borderRadius:0,boxShadow:"none"},origin:(0,d.jsx)(Z,{showPlusButton:t}),render:()=>(0,d.jsx)(Z,{showPlusButton:t}),placementToOrigin:y().Placement.Center,alignmentToOrigin:y().Alignment.Center,open:o,disableMouseCapture:!0,preventCaptureEsc:!0,preventScaleTransition:!0,preventOpacityTransition:!0,popupType:n(104088).k.Popup})};function T(){const e=(0,u().YB)(),t=(0,r().VK)((()=>w().default.state.isTabPositionSupported),[]);return(0,d.jsx)(P().Z,{renderTooltip:()=>(0,d.jsxs)("div",{style:{display:"flex"},children:[e.formatMessage(M.newTabButton),(0,d.jsx)(k().Z,{name:"newTab",style:{opacity:.5,marginLeft:4}})]}),placement:y().Placement.Bottom,alignment:y().Alignment.Center,originGap:6,render:n=>(0,d.jsx)(C().Z,{ariaLabel:e.formatMessage(M.newTabButton),icon:e=>c({...e,width:"24px",height:"24px"}),isDarkIconColor:!0,className:"notion-new-tab-button",style:{position:"relative"},onClick:()=>p().newTab(t),...n})})}function B(e){let{isNavigationHistorySupported:t}=e;const n=(0,u().YB)(),r=(0,i().O7)(),a=(0,o.useCallback)((e=>(0,s().I)({...e,width:"16px",height:"16px"})),[]),l=!(0,b().tx)("back");return(0,d.jsx)(P().Z,{renderTooltip:()=>(0,d.jsxs)("div",{style:{display:"flex"},children:[n.formatMessage(M.goBackButton),(0,d.jsx)(k().Z,{name:"goBack",style:{opacity:.5,marginLeft:4}})]}),placement:y().Placement.Bottom,alignment:y().Alignment.Center,originGap:6,render:e=>(0,d.jsx)(C().Z,{ariaLabel:n.formatMessage(M.goBackButton),icon:a,isDarkIconColor:!0,className:"notion-history-back-button",disabled:l,style:{position:"relative",width:24,height:24,marginRight:4},onClick:e=>function(e,t,n){var o;g().ME(t,{type:"back"});const i=e.metaKey||e.ctrlKey,r=null===(o=w().default.state.preferences)||void 0===o?void 0:o.isPinnedTabNewTabEnabled,a=j().default.state.currentTab.isPinned;n&&i?p().handleBackMetaClick():r&&a?p().handleBackPinnedClick():h().op(t)}(e,r,t),onContextMenu:e=>{!l&&t&&p().handleTabHistoryMenu("back",e.clientX,e.clientY)},...e})})}function _(e){let{isNavigationHistorySupported:t}=e;const n=(0,u().YB)(),r=(0,i().O7)(),a=(0,o.useCallback)((e=>(0,l().r)({...e,width:"16px",height:"16px"})),[]),s=!(0,b().tx)("forward");return(0,d.jsx)(P().Z,{renderTooltip:()=>(0,d.jsxs)("div",{style:{display:"flex"},children:[n.formatMessage(M.goForwardButton),(0,d.jsx)(k().Z,{name:"goForward",style:{opacity:.5,marginLeft:4}})]}),placement:y().Placement.Bottom,alignment:y().Alignment.Center,originGap:6,render:e=>(0,d.jsx)(C().Z,{ariaLabel:n.formatMessage(M.goForwardButton),icon:a,isDarkIconColor:!0,className:"notion-history-forward-button",disabled:s,style:{position:"relative",width:24,height:24,marginRight:4},onClick:e=>function(e,t,n){var o;g().ME(t,{type:"forward"});const i=e.metaKey||e.ctrlKey,r=null===(o=w().default.state.preferences)||void 0===o?void 0:o.isPinnedTabNewTabEnabled,a=j().default.state.currentTab.isPinned;n&&i?p().handleForwardMetaClick():r&&a?p().handleForwardPinnedClick():h().eH()}(e,r,t),onContextMenu:e=>{!s&&t&&p().handleTabHistoryMenu("forward",e.clientX,e.clientY)},...e})})}function Z(e){let{showPlusButton:t}=e;const n=(0,r().VK)((()=>{var e;return(null===(e=w().default.state.preferences)||void 0===e?void 0:e.isNavigationHistoryEnabled)&&w().default.state.isNavigationHistorySupported}),[]),o=(0,r().VK)((()=>{const{mainEditorCurrentBlockStore:e}=S().default.state;return(0,f().WE)(e)}),[]),i=(0,r().Kw)(v().Z),s=(0,a().yK)((e=>({container:{position:"relative",display:"flex",flexShrink:0,...o&&{padding:2,marginLeft:-2,marginRight:2}},homeBackground:{position:"absolute",top:0,left:0,right:0,bottom:0,opacity:i?0:1,...(0,x().Er)({isPhone:!1,theme:e,buttonState:"base"}),width:"100%",height:"100%",borderRadius:6,transition:"opacity 0.2s"}})),[i,o]);return(0,d.jsx)(m().Z,{capture:!0,render:e=>(0,d.jsxs)("div",{style:s.container,...e,children:[o&&(0,d.jsx)("div",{style:s.homeBackground}),(0,d.jsx)(B,{isNavigationHistorySupported:n}),(0,d.jsx)(_,{isNavigationHistorySupported:n}),t&&(0,d.jsx)(T,{})]})})}},382736:(e,t,n)=>{n.d(t,{n:()=>Te().nk,Z:()=>Tt});n(267602),n(228244);var o=n(667294),i=()=>n(219727),r=()=>n(142735),a=()=>n(679387),s=()=>n(550345),l=()=>n(718959),d=()=>n(247724),c=()=>n(949842),u=()=>n(466970),g=()=>n(846550),p=()=>n(416593),h=()=>n(299519),m=()=>n(611038),b=()=>n(71064),f=()=>n(265456),x=()=>n(728363),v=()=>n(508853),y=()=>n(45909),S=()=>n(105649),w=()=>n(589525),j=()=>n(183211),C=()=>n(725751),k=()=>n(697606),P=()=>n(170210),M=()=>n(681819),I=n(785893);const T=function(e){const t=(0,i().O7)(),n=(0,r().VK)((()=>k().Z.state.isHovered),[]),o=(0,r().VK)((()=>C().default.state.isShowingTabBar),[]),a=(0,r().VK)((()=>C().default.state.zoomFactor),[]),s=(0,r().VK)((()=>S().default.isPanelPinnedState()),[]),d=(0,r().VK)((()=>j().Z.state.isFullScreen),[]),c=(0,r().VK)((()=>(0,w().in)(t)),[t]),u=(0,r().VK)((()=>(0,l().h1)(t)),[t]),m=(0,r().VK)((()=>e.store.hasCover()),[e.store]),v=(0,g().yK)((e=>({container:{...x().zb({environment:t,isShowingTabBar:Boolean(o),shouldShowSidebar:u.shouldShowSidebar,isSidebarExpanded:c,isSecondarySidebarVisible:s,isBrowserFullScreen:d,isFloatingPersonalHomeTopbar:m,zoom:a||p().lO}),...m?{display:"flex",alignItems:"flex-start",paddingTop:12,opacity:n?1:0,transition:"opacity 0.2s ease"}:{}},divider:{flexGrow:1,flexShrink:1}})),[u.shouldShowSidebar,t,m,d,n,o,c,a,s]);return(0,I.jsx)(h().Z,{store:e.store,disableRectangularSelection:!0,disableEditNearestBlock:!0,render:()=>(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{style:v.container,onClick:e.handleClickTopbar,onMouseDown:e.handleMouseDown,onDoubleClick:f().wq,onMouseEnter:()=>k().Z.setState({isHovered:!0}),onMouseLeave:()=>k().Z.setState({isHovered:!1}),children:[(0,I.jsx)(B,{store:e.store,showSidebarButton:Boolean(e.showSidebarButton)}),!e.isInvalidPage&&(0,I.jsx)(b().Z,{}),(0,I.jsx)("div",{style:v.divider}),(0,I.jsx)(_,{store:e.store,showSidebarButton:Boolean(e.showSidebarButton),isInvalidPage:e.isInvalidPage})]}),m&&(0,I.jsx)("div",{onMouseEnter:()=>k().Z.setState({isHovered:!0}),style:{pointerEvents:"none"}})]})})};function B(e){const t=(0,i().O7)(),n=(0,i().MO)(),o=(0,i().Fy)(),a=(0,r().VK)((()=>e.store.hasCover()),[e.store]),s=(0,r().VK)((()=>C().default.state.isShowingTabBar),[]),l=(0,r().VK)((()=>{const e=(0,w().in)(t);return s||e}),[t,s]),d=(0,g().yK)((e=>({noDragArea:{...(0,y().X)({noDrag:o.isElectronMac}),width:150,height:"100%"},electronButtonWrapper:{...(0,P().Er)({theme:e,isPhone:n,buttonState:"base"}),width:"fit-content",paddingLeft:2,paddingRight:2}})),[o.isElectronMac,n]);return a?o.isElectron?l?null:(0,I.jsx)("div",{style:d.noDragArea,children:(0,I.jsxs)("div",{style:d.electronButtonWrapper,children:[e.showSidebarButton&&(0,I.jsx)(v().o,{}),!s&&(0,I.jsx)(m().Z,{})]})}):(0,I.jsx)(I.Fragment,{children:e.showSidebarButton&&(0,I.jsx)(v().o,{isFloatingButton:!0})}):(0,I.jsxs)(I.Fragment,{children:[e.showSidebarButton&&(0,I.jsx)(v().o,{}),o.isElectron&&!s&&(0,I.jsx)(m().Z,{})]})}function _(e){const t=(0,i().Fy)(),n=(0,r().VK)((()=>e.store.hasCover()),[e.store]),o=(0,g().yK)((()=>({noDragArea:{...(0,y().X)({noDrag:t.isElectronMac}),width:150,height:"100%",display:"flex",justifyContent:"flex-end"}})),[t.isElectronMac]);return n&&t.isElectron?(0,I.jsx)("div",{style:o.noDragArea,children:(0,I.jsx)(M().E,{store:e.store,isInvalidPage:e.isInvalidPage})}):(0,I.jsx)(M().E,{store:e.store,isInvalidPage:e.isInvalidPage})}var Z=()=>n(677559);const L=new(Z().Ss)("PublicSharingTopbar",(()=>Promise.all([n.e(62743),n.e(4611)]).then(n.bind(n,845723)))),V=(0,Z().kF)(L,(e=>e.PublicSharingTopbar));var E=()=>n(291335),K=()=>n(658096),H=()=>n(876822),R=()=>n(749826),F=()=>n(826955),O=()=>n(922003),D=()=>n(853516),U=()=>n(527308);function A(e){const t=(0,i().Fy)(),n=(0,r().VK)((()=>C().default.state.isShowingTabBar),[]),o=(0,g().yK)((e=>({container:{display:"flex",flexGrow:1,fontSize:14}})),[]);return(0,I.jsxs)("div",{style:o.container,children:[e.showSidebarButton&&(0,I.jsx)(v().o,{}),t.isElectron&&!n&&(0,I.jsx)(m().Z,{}),(0,I.jsx)(D().Yo,{store:e.teamStore,showDivider:!1,maxWidth:160})]})}function N(e){const{isPhone:t}=(0,i().Fy)(),n=(0,g().yK)((()=>({container:{display:"flex"}})),[]);return(0,I.jsxs)("div",{style:n.container,children:[!t&&(0,I.jsx)(O().hx,{teamStore:e.teamStore}),(0,I.jsx)(U().o,{teamStore:e.teamStore})]})}const z=function(e){const t=(0,i().O7)(),n=(0,r().VK)((()=>C().default.state.isShowingTabBar),[]),o=(0,r().VK)((()=>C().default.state.zoomFactor),[]),a=(0,r().VK)((()=>S().default.isPanelPinnedState()),[]),s=(0,r().VK)((()=>j().Z.state.isFullScreen),[]),d=(0,r().VK)((()=>(0,w().in)(t)),[t]),c=(0,r().VK)((()=>(0,l().h1)(t)),[t]),u=(0,g().yK)((e=>({container:{...x().zb({environment:t,isShowingTabBar:Boolean(n),shouldShowSidebar:c.shouldShowSidebar,isSidebarExpanded:d,isSecondarySidebarVisible:a,isBrowserFullScreen:s,zoom:o||p().lO})},divider:{flexGrow:1,flexShrink:1}})),[c.shouldShowSidebar,t,s,n,d,o,a]);return(0,I.jsx)(h().Z,{store:e.teamStore,disableRectangularSelection:!0,disableEditNearestBlock:!0,render:()=>(0,I.jsxs)("div",{style:u.container,onDoubleClick:f().wq,onMouseEnter:()=>k().Z.setState({isHovered:!0}),onMouseLeave:()=>k().Z.setState({isHovered:!1}),children:[(0,I.jsx)(A,{teamStore:e.teamStore,showSidebarButton:Boolean(e.showSidebarButton)}),(0,I.jsx)(b().Z,{}),(0,I.jsx)("div",{style:u.divider}),(0,I.jsx)(N,{teamStore:e.teamStore})]})})},W={LoggedOutAppBanner:new(Z().Ss)("LoggedOutAppBanner",(()=>n.e(84200).then(n.bind(n,801769))))},G=(0,Z().kF)(W.LoggedOutAppBanner,(e=>e.LoggedOutAppBanner));var Y=()=>n(801812),$=()=>n(968061),q=()=>n(628229),X=()=>n(491040),Q=()=>n(396136),J=()=>n(788860),ee=()=>n(438793),te=()=>n(824462),ne=()=>n(291338),oe=()=>n(155056),ie=()=>n(497065),re=()=>n(205228),ae=()=>n(122479),se=()=>n(148126),le=()=>n(720029),de=()=>n(374469),ce=()=>n(265640),ue=()=>n(108714),ge=()=>n(906651),pe=()=>n(981476),he=()=>n(657320),me=()=>n(506347),be=()=>n(54193),fe=()=>n(836273),xe=()=>n(308186),ve=()=>n(401411),ye=()=>n(278275),Se=()=>n(429725),we=()=>n(772327),je=()=>n(728757),Ce=()=>n(291550),ke=()=>n(279174),Pe=()=>n(890324),Me=()=>n(384241),Ie=()=>n(714468),Te=()=>n(596986),Be=()=>n(119239),_e=()=>n(519454),Ze=()=>n(698763),Le=()=>n(716228),Ve=()=>n(644248),Ee=()=>n(793935),Ke=()=>n(590972),He=()=>n(279386),Re=()=>n(661297),Fe=(n(653476),n(241792),()=>n(728670)),Oe=()=>n(729775),De=()=>n(239482),Ue=()=>n(772084),Ae=()=>n(943620);function Ne(e){const{store:t}=e,n=(0,r().VK)((()=>t.getSpaceStore()),[t]),o=(0,r().VK)((()=>{var e;if(!n)return[];const o=Ue().gR(t),i=null==o||null===(e=o.getSiteStore())||void 0===e||null===(e=e.getHeader())||void 0===e?void 0:e.customItems;return i?i.filter((e=>"block"===e.type)):[]}),[t,n]);return n&&o&&0!==o.length?(0,I.jsx)("div",{style:{display:"flex"},children:o.map((e=>(0,I.jsx)(ze,{spaceStore:n,blockId:e.blockId},e.blockId)))}):null}function ze(e){const{spaceStore:t,blockId:n}=e,{store:o,icon:i,isEmptyPage:a,url:s,isReady:l,hasPublicAccess:d}=(0,r().VK)((()=>{const e=F().G.createChildStore(t,{table:Q().iU,id:n}),o=(0,Se().ZP)({store:e,preferPublicLink:!0,pageVisitSource:me().tY.SiteCustomHeader}),i=(0,De().fJ)(e),r=(0,Fe().$t)(i);return{store:e,icon:e.getIcon(),isEmptyPage:e.isEmptyPage(),url:o,isReady:e.isReady(),hasPublicAccess:r}}),[t,n]),c=(0,g().yK)((e=>({container:{display:"flex",alignItems:"center",gap:4,padding:4,borderRadius:4},pageTitle:{fontSize:14,wordBreak:"break-word",marginRight:4}})),[]);return d&&l?(0,I.jsxs)(Oe().Z,{href:s,style:c.container,children:[i&&(0,I.jsx)(Ae().Z,{icon:i,store:o,disabled:!0,size:14,isEmptyPage:a,emojiSize:20}),(0,I.jsx)(Me().Z,{store:o,style:c.pageTitle,maxLength:30})]}):null}var We=()=>n(467526),Ge=()=>n(579358),Ye=()=>n(741636);const $e={width:18,height:18,marginRight:6};function qe(e){const t=(0,g().Fg)(),n=(0,i().O7)(),{device:o}=n,{store:r,isInvalidPage:a}=e;return o.isMobile||a?null:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(pe().Z,{store:r,buttonPopupStore:de().Z}),(0,I.jsx)("div",{style:x().DG(t)}),(0,I.jsx)(Xe,{store:r})]})}function Xe(e){const{store:t}=e,n=(0,i().O7)(),a=Boolean(n.currentUser.isLoggedIn()||n.publicDomainUserId),s=(0,r().VK)((()=>{const{publicPageData:e}=K().default.state;return null==e?void 0:e.isDLSViewer}),[]),l=(0,g().Fg)(),d=(0,r().VK)((()=>Ue().pq(t)),[t]),c=(0,o.useCallback)((async()=>{ee().T3(n,{variant:"open_notion"});const{currentUserRootStore:e}=H().default.state,t=null==e?void 0:e.getSpaceViewStores();if(s&&(!t||0===t.length))return void(await(0,Ye().I1)(n,{type:"create-or-join",source:"topbar"}));const o=s?fe()._j.home:fe()._j.root;await Ge().yF(n,{utmContent:"topbar_cta",nextRoute:o})}),[n,s]),u=(0,o.useCallback)((async()=>{ee().T3(n,{variant:"try_notion"}),await Ge().yF(n,{utmContent:"topbar_cta",nextRoute:fe()._j.signup})}),[n]);return d?null:a?(0,I.jsxs)(ce().D,{onClick:c,children:["light"===l.mode?(0,$().h)($e):(0,We().N)($e),(0,I.jsx)(J()._H,{defaultMessage:"Open Notion",id:"topbar.publicPage.cta.label.open"})]}):(0,I.jsxs)(ce().D,{onClick:u,children:["light"===l.mode?(0,$().h)($e):(0,We().N)($e),(0,I.jsx)(J()._H,{defaultMessage:"Try Notion",id:"topbar.publicPage.cta.label.try"})]})}var Qe=()=>n(577521),Je=()=>n(899548);const et={width:14,height:14};function tt(e){const{store:t,style:n,showTitle:o,onClick:i}=e,a=function(e){return(0,r().VK)((()=>Ue().iZ(e)),[e])}(t);return a?null:(0,I.jsxs)(ce().D,{onClick:i,children:[(0,Je().R)({...et,...n}),o&&(0,I.jsx)(J()._H,{defaultMessage:"Search",id:"topbar.publicPage.searchButton.label"})]})}const nt={width:14,height:14,marginRight:6};function ot(e){const{store:t,isInvalidPage:n,forkPageRef:a,onDuplicatePageButtonClick:s,onEditButtonClick:l,onCommentButtonClick:d,onSearchButtonClick:c}=e,u=(0,i().O7)(),p=(0,J().YB)(),[h,m]=(0,Ve().C)(),b=(0,r().VK)((()=>(0,f().Lt)()),[]),x=(0,r().VK)((()=>!b&&t.canEdit()&&!Pe().Z.state.editing),[t,b]),v=(0,r().VK)((()=>!b&&!u.currentUser.isLoggedIn()&&t.canComment()&&!t.canEdit()),[u,t,b]),y=(0,r().VK)((()=>(0,ae().S4)(t)),[t]),S=(0,r().VK)((()=>Ke().default.state.width),[]),j=(0,r().VK)((()=>(0,w().Sx)(u)),[u]),C=(0,r().VK)((()=>j&&(Ke().default.state.mouseEntered||m)),[j,m]),k=(0,Te().Q4)(),P=(0,g().yK)((()=>({container:{display:"flex",width:j?S:void 0,justifyContent:"space-between",paddingLeft:k},rightButtons:{display:"flex"}})),[j,S,k]),M=(0,o.useCallback)((()=>{(0,Ee().setUpdateExpand)({environment:u,isExpanded:!1,from:"topbar",saveDetailsSidebarPreference:!0})}),[u]),T=(0,r().VK)((()=>{var e;return null===(e=He().MT.getStateForBlock(t.id))||void 0===e?void 0:e.mode}),[t.id]);return(0,I.jsxs)("div",{style:P.container,ref:h,children:[(0,I.jsx)(Qe().C,{isVisible:C,icon:Be().t,caption:p.formatMessage({defaultMessage:"Close panel",id:"defaultPublicTopbar.updateSidebarUnexpandButton.closePanel.tooltip"}),onClick:M,keyboardShortcutName:"toggleUpdateSidebar"}),(0,I.jsxs)("div",{style:P.rightButtons,children:["suggest"===T&&(0,I.jsx)("div",{style:{marginRight:8,padding:"0 8px"},children:(0,I.jsx)(Le().B,{store:t,isVisible:"suggest"===T,compact:!1})}),(0,I.jsx)(Ne,{store:t}),x&&(0,I.jsxs)(Re().Z,{onClick:l,style:{marginRight:8,padding:"0 8px"},children:[(0,_e().R)(nt),(0,I.jsx)(J()._H,{id:"topbar.publicPage.edit",defaultMessage:"Edit"})]}),!u.currentUser.isLoggedIn()&&v&&(0,I.jsxs)(Re().Z,{onClick:d,style:{marginRight:8,padding:"0 8px"},children:[(0,Ze().s)(nt),(0,I.jsx)(J()._H,{id:"topbar.publicPage.comment",defaultMessage:"Comment"})]}),(0,I.jsx)(tt,{store:t,style:nt,showTitle:!0,onClick:c}),y&&(0,I.jsx)(ce().D,{ref:a,onClick:s,children:(0,I.jsx)(J()._H,{defaultMessage:"Duplicate",id:"topbar.publicPage.duplicateButton.label"})}),(0,I.jsx)(qe,{store:t,isInvalidPage:n})]})]})}var it=()=>n(998901),rt=()=>n(654133);function at(e){const{iconStyle:t,store:n}=e,o=(0,i().O7)(),a=(0,r().VK)((()=>n.canComment()),[n]),s=(0,r().VK)((()=>Pe().Z.state.commenting),[]),l=(0,r().VK)((()=>(0,f().Lt)()),[]);return!a||s||l?null:(0,I.jsx)(rt().Z,{renderTooltip:()=>(0,I.jsx)(J()._H,{id:"topbar.publicPage.commentButton.tooltip",defaultMessage:"Comment"}),placement:it().Placement.Bottom,alignment:it().Alignment.Center,originGap:6,render:e=>(0,I.jsx)(ce().D,{...e,onClick:()=>oe().TX(o,n.id),children:(0,Ze().s)(t)})})}function st(e){const{iconStyle:t,store:n}=e,o=(0,i().O7)(),a=(0,r().VK)((()=>n.canEdit()),[n]),s=(0,r().VK)((()=>Pe().Z.state.editing),[]),l=(0,r().VK)((()=>(0,f().Lt)()),[]);return!a||s||l?null:(0,I.jsx)(rt().Z,{renderTooltip:()=>(0,I.jsx)(J()._H,{id:"topbar.publicPage.editButton.tooltip",defaultMessage:"Edit"}),placement:it().Placement.Bottom,alignment:it().Alignment.Center,originGap:6,render:e=>(0,I.jsx)(ce().D,{...e,onClick:()=>oe().qc(o,n.id),children:(0,_e().R)(t)})})}const lt=o.forwardRef((function(e,t){const{iconStyle:o,onClick:i}=e;return(0,I.jsx)(rt().Z,{renderTooltip:()=>(0,I.jsx)("div",{style:{display:"flex"},children:(0,I.jsx)(J()._H,{id:"topbar.publicPage.duplicateButton.tooltip",defaultMessage:"Duplicate"})}),placement:it().Placement.Bottom,alignment:it().Alignment.Center,originGap:6,render:e=>(0,I.jsx)(ce().D,{onClick:i,ref:t,...e,children:(0,n(44037).a)(o)})})}));var dt=()=>n(767628);function ct(e){const t=(0,i().O7)(),{device:n}=t,a=(0,J().YB)(),{store:s,isInvalidPage:l,iconStyle:d,onSearchButtonClick:c,forkPageRef:u,onDuplicatePageButtonClick:p}=e,[h,m]=(0,Ve().C)(),b=(0,r().VK)((()=>le().Z.isActiveDemo()),[]),f=(0,r().VK)((()=>(0,ae().S4)(s)),[s]),x=(0,r().VK)((()=>Ke().default.state.width),[]),v=(0,r().VK)((()=>(0,w().Sx)(t)),[t]),y=(0,r().VK)((()=>v&&(Ke().default.state.mouseEntered||m)),[v,m]),S=(0,Te().Q4)(),j=(0,g().yK)((()=>({container:{display:"flex",width:v?x:void 0,justifyContent:"space-between",paddingLeft:S},rightButtons:{display:"flex"}})),[v,x,S]),C=(0,o.useCallback)((()=>{(0,Ee().setUpdateExpand)({environment:t,isExpanded:!1,from:"topbar",saveDetailsSidebarPreference:!0})}),[t]);return(0,I.jsxs)("div",{style:j.container,ref:h,children:[(0,I.jsx)(Qe().C,{isVisible:y,icon:Be().t,caption:a.formatMessage({defaultMessage:"Close panel",id:"unauthedPublicTopbar.updateSidebarUnexpandButton.closePanel.tooltip"}),onClick:C,keyboardShortcutName:"toggleUpdateSidebar"}),(0,I.jsxs)("div",{style:j.rightButtons,children:[(0,I.jsx)(Ne,{store:s}),(0,I.jsx)(tt,{store:s,onClick:c}),!b&&(0,I.jsxs)(I.Fragment,{children:[f&&(0,I.jsx)(lt,{ref:u,onClick:p,iconStyle:d}),(0,I.jsx)(at,{store:s,iconStyle:d}),(0,I.jsx)(st,{store:s,iconStyle:d}),!n.isMobile&&!l&&(0,I.jsx)(pe().Z,{store:s,buttonPopupStore:de().Z,isSiteTopbar:!0}),(0,I.jsx)(dt().Q,{store:s})]})]})]})}const ut={width:15,height:15};function gt(e){const{store:t,isInvalidPage:n,isElectron:a}=e,s=(0,i().O7)(),l=(0,he().l)(),{isShowingTabBar:d}=(0,r().Kw)(C().default),c=(0,r().qz)(void 0,Ce().Z),u=(0,r().qz)(void 0,ke().Z),g=Boolean(s.currentUser.isLoggedIn()||s.publicDomainUserId),p=(0,Te().xJ)({shouldRenderTemplateGalleryTopbar:!1}),h=(0,r().VK)((()=>t.isFormBlock()),[t]),m=(0,r().VK)((()=>{const e=s.RouterStore.state.route;return!!(0,be().FK)(e)||Boolean(t.getIsFormClosed()||t.pathIsDead())}),[s,t]),b=(0,o.useRef)(!1);(0,o.useEffect)((()=>{const{RouterStore:e}=s,n=e.state.route,{publicPageData:o}=K().default.state;f().DK({store:t,environment:s})&&t.canComment()&&!t.canEdit()&&"page"===n.name&&!n.requestedOnPublicDomain&&f().cE(t,s)&&null!=o&&o.requireLogin?Pe().Z.setState({commenting:!0,editing:!1}):!f().DK({store:t,environment:s})||!t.canEdit()||"page"!==n.name||Pe().Z.state.editing||Pe().Z.state.commenting||n.shouldDuplicate||n.requestedOnPublicDomain||!f().cE(t,s)||b.current||null==o||!o.requireLogin||(b.current=!0,pt(s,t,l))}),[s,t,l]);const x=(0,o.useCallback)((()=>{ve().Hr({currentUserId:s.currentUser.id,blockId:t.id}),ht(s,l)||ie().navigateOnBaseUrl({environment:s,url:fe()._j.login})}),[s,t,l]),v=(0,o.useCallback)((()=>ye().UT({environment:s,analyticsFrom:"public-page-topbar",isPublicPageSearch:!0})),[s]),y=(0,o.useRef)(null),S=(0,o.useCallback)((()=>{var e;const n=null===(e=y.current)||void 0===e?void 0:e.getBoundingClientRect();ne().S({environment:s,store:t,originRect:n})}),[s,t,y]),w=(0,o.useCallback)((()=>{pt(s,t,l)}),[s,t,l]);return(0,I.jsxs)("div",{style:p,onDoubleClick:f().wq,children:[h&&!m&&(0,I.jsx)(Me().Z,{store:t,removeIfEmpty:!0,style:{fontSize:14}}),(0,I.jsx)(we()._,{loginModalStore:c,loginStore:u,title:(0,I.jsx)(je().Z,{}),isSignup:!0}),Ie().Z({isElectron:a,isShowingTabBar:d}),!h&&Ie().Y({store:t,isInvalidPage:n}),(0,I.jsx)("div",{style:{flexGrow:1,flexShrink:1}}),g?(0,I.jsx)(ot,{store:t,isInvalidPage:n,onEditButtonClick:w,onCommentButtonClick:x,onSearchButtonClick:v,forkPageRef:y,onDuplicatePageButtonClick:S}):(0,I.jsx)(ct,{store:t,isInvalidPage:n,iconStyle:ut,forkPageRef:y,onDuplicatePageButtonClick:S,onSearchButtonClick:v})]})}function pt(e,t,n){ht(e,n)||(e.currentUser.isLoggedIn()?xe().vC({showCancel:!0,keepFocus:!1,message:(0,I.jsx)(J()._H,{defaultMessage:"When you start editing, your name, email and photo may become visible to anyone who can view the page.",id:"topbar.startPublicEditDialog.message"}),items:[{label:(0,I.jsx)(J()._H,{defaultMessage:"Continue",id:"topbar.startPublicEditDialog.continueLabel"}),color:"blue",onAccept(){Pe().Z.setState({editing:!0,commenting:!0})}}]}):(ve().Hr({currentUserId:e.currentUser.id,blockId:t.id}),ie().navigateOnBaseUrl({environment:e,url:fe()._j.login})))}function ht(e,t){const{RouterStore:n}=e,o=n.state.route,i=null==t?void 0:t.pageStore;if("page"===o.name&&o.requestedOnPublicDomain&&i){const t=(0,Se().ZP)({store:i,preferPublicLink:!1,pageVisitSource:me().tY.EditPublicPage});return ie().navigateOnBaseUrl({environment:e,url:t}),!0}return!1}function mt(e){const{blockStore:t,isInvalidPage:n}=e,r=(0,i().O7)(),a=(0,Te().xJ)({shouldRenderTemplateGalleryTopbar:!0}),s=(0,g().yK)((()=>({breadcrumb:x().Fy(),icon:{width:14,height:14,marginRight:6}})),[]),l=(0,o.useCallback)((()=>{ye().UT({environment:r,analyticsFrom:"public-page-topbar",isPublicPageSearch:!0})}),[r]);return(0,I.jsxs)("div",{style:a,onDoubleClick:f().wq,children:[!n&&(0,I.jsx)(D().l2,{store:t,style:s.breadcrumb,maxAncestorCount:2,ancestorMaxWidth:160,currentPageMaxWidth:240,showCurrentPageControls:!0,isMobile:!1}),(0,I.jsx)("div",{style:{flexGrow:1,flexShrink:1}}),(0,I.jsxs)(ce().D,{onClick:l,children:[(0,Je().R)(s.icon),(0,I.jsx)(J()._H,{defaultMessage:"Search",id:"topbar.publicPage.searchButton.label"})]})]})}var bt=()=>n(49489);function ft(e){var t,n,a;const{blockStore:s,isInvalidPage:l,isElectron:d}=e,c=(0,i().O7)(),u=(0,r().VK)((()=>K().default.state.publicPageData),[]),p=null==u||null===(t=u.template)||void 0===t?void 0:t.blockId,h=(0,o.useMemo)((()=>p?new(F().G)(c,{table:Q().iU,id:p}):void 0),[p,c]),m=null==u||null===(n=u.template)||void 0===n?void 0:n.listingId,b=(0,r().VK)((()=>{var e;return R().default.getConfigKey("marketplace_public_purchase_url_optout","usernames").includes((null==u||null===(e=u.template)||void 0===e?void 0:e.creator.username)??"")}),[null==u||null===(a=u.template)||void 0===a?void 0:a.creator.username]),[x]=(0,Y().r5)((async()=>{if(m){const e=await te().callApi({eventName:"getMarketplacePurchaseRoute",environment:c,data:{marketplaceListingId:m}});if("success"===e.type&&e.data.success){if(b&&"checkout"===e.data.type)return null;if("free"===e.data.type||"checkout"===e.data.type)return e.data.url}return null}}),[c,m,b]),y="resolved"===x.status,S=x.value,w=(0,r().VK)((()=>h&&(0,ae().S4)(h)),[h]),[j,C]=(0,o.useState)(!1),k=(0,Te().xJ)({shouldRenderTemplateGalleryTopbar:!0}),P=(0,g().yK)((e=>({borderBottom:{borderBottom:`1px solid ${e.lightDividerColor}`},topbarContents:{display:"flex",alignItems:"center"},notionLogoStyle:{width:20,height:20},templatesIcon:{width:20,height:20,marginRight:4,marginTop:2},templateGalleryButton:{display:"flex",alignItems:"center",fontSize:15,fontWeight:600},centerText:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",overflow:"hidden",textWrap:"nowrap"},templateNameText:{fontSize:13.5,fontWeight:600},templateCreatorText:{fontSize:12,color:e.lightTextColor},templateCreatorLink:{fontSize:12,color:e.lightTextColor,cursor:"pointer"},publicTopbarMoreButton:{marginRight:8}})),[]),M=(0,r().VK)((()=>le().Z.getState().isActive),[]),T=(0,r().VK)((()=>{const e=(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(ce().D,{disabled:M,onClick:async()=>{M||await oe().jf(c)},"aria-disabled":M,children:(0,$().h)(P.notionLogoStyle)}),(0,I.jsx)(bt().Z,{})]});return(0,se().Sr)(c)?E().sidebarExpandedStore.state?null:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(v().o,{}),e]}):e}),[c,P.notionLogoStyle,M]),B=(0,o.useCallback)((()=>{S?ie().navigateOnBaseUrl({environment:c,url:S,extraSearchParams:{from:"public_page"}}):ne().S({environment:c,store:s,originRect:void 0})}),[c,s,S]);if(!u||!u.template||!h)return(0,I.jsx)(gt,{store:s,isInvalidPage:l,isElectron:d});const _=(0,I.jsx)("a",{href:`${re().default.domainBaseUrl}/@${u.template.creator.username}`,target:"_blank",style:P.templateCreatorLink,onClick:()=>{var e;ee().eb(c,{target:"creator",slug:null===(e=u.template)||void 0===e?void 0:e.creator.username})},children:u.template.creator.name});return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{style:{...k,...P.borderBottom},onDoubleClick:f().wq,children:[(0,I.jsxs)("div",{style:P.topbarContents,children:[T,!M&&(0,I.jsx)(ue().Z,{href:(0,se().UY)("templateGallery"),external:!0,children:(0,I.jsxs)(ce().D,{style:P.templateGalleryButton,onMouseEnter:()=>C(!0),onMouseLeave:()=>C(!1),onClick:()=>{ee().eb(c,{target:"gallery"})},children:[j?(0,X().U)(P.templatesIcon):(0,q().s)(P.templatesIcon),(0,I.jsx)(J()._H,{defaultMessage:"Templates",id:"templateGalleryPublicPageTopbar.templatesButton.label"})]})})]}),!M&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{style:P.centerText,children:[(0,I.jsx)(ue().Z,{href:`${(0,se().UY)("templateGallery")}/${u.template.slug}`,style:P.templateNameText,external:!0,onClick:()=>{var e;ee().eb(c,{target:"template",slug:null===(e=u.template)||void 0===e?void 0:e.slug})},children:u.template.name}),(0,I.jsx)("div",{style:P.templateCreatorText,children:(0,I.jsx)(J()._H,{defaultMessage:"Template by {templateCreatorNameWithLink}",id:"templateGalleryPublicPageTopbar.templateName.subtitle",values:{templateCreatorNameWithLink:_}})})]}),(0,I.jsxs)("div",{style:P.topbarContents,children:[(0,I.jsx)("div",{style:P.publicTopbarMoreButton,children:(0,I.jsx)(pe().Z,{store:s,buttonPopupStore:de().Z})}),w&&y&&(0,I.jsx)(ge().Z,{onClick:B,children:(0,I.jsx)(J()._H,{defaultMessage:"Start with this template",id:"templateGalleryPublicPageTopbar.duplicateButton.label"})})]})]})]}),(0,I.jsx)(mt,{blockStore:s,isInvalidPage:l})]})}var xt=()=>n(90065),vt=()=>n(779733),yt=()=>n(342267),St=()=>n(396439),wt=()=>n(986520),jt=()=>n(946735);const Ct=new(Z().Ss)("topbarActionButtons",(()=>Promise.all([n.e(62743),n.e(44832),n.e(34004),n.e(57710)]).then(n.bind(n,234004)))),kt=(0,Z().kF)(Ct,(e=>e.TopbarActionButtons));var Pt=()=>n(451102),Mt=()=>n(730764);function It(e){const{store:t,isInvalidPage:n,isElectron:o,showSidebarButton:l,hideActionButtons:d,shouldRenderTemplateGalleryTopbar:c,handleClickTopbar:g,handleMouseDown:p}=e,m=(0,i().O7)(),{isMobile:y}=m.device,S=(0,u().E)("inline_error_boundary"),w=(0,r().VK)((()=>t.isFormBlock()),[t]),j=(0,r().VK)((()=>(0,vt().E1)()),[]),k=(0,r().VK)((()=>(0,ae().eV)(m,t)),[m,t]),{isShowingTabBar:P}=(0,r().Kw)(C().default),M=(0,r().VK)((()=>t.canEditCollection()),[t]),T=(0,r().VK)((()=>t.isRestricted()),[t]),B=(0,r().VK)((()=>(0,xt().$v)({blockStore:t})),[t]),_=(0,r().VK)((()=>t.isPost()&&!t.isPublishedPost()),[t]),Z=(0,Te().xJ)({shouldRenderTemplateGalleryTopbar:c}),L=(0,r().VK)((()=>t.getIcon()),[t]),V=y?24:20;return(0,I.jsx)(h().Z,{store:t,disableRectangularSelection:!0,disableEditNearestBlock:!0,render:()=>(0,I.jsxs)("div",{style:Z,onClick:g,onMouseDown:p,onDoubleClick:f().wq,children:[l&&(0,I.jsx)(v().o,{}),Ie().Z({isElectron:o,isShowingTabBar:P}),(0,I.jsxs)(a().T,{disabled:!S,from:"DefaultTopbar.Left",fallback:e=>{let{errorId:t}=e;return(0,I.jsx)(s().H,{errorId:t,iconSize:20})},children:[!n&&!w&&(0,I.jsx)(D().l2,{store:t,style:x().Fy(),maxAncestorCount:2,ancestorMaxWidth:160,currentPageMaxWidth:240,showCurrentPageControls:!0,isMobile:!1}),w&&(0,I.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,I.jsx)(St().Z,{size:6}),Boolean(L)&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Ae().Z,{disabled:!0,icon:L,isEmptyPage:!1,size:V,emojiSize:V,largeIcon:!0}),(0,I.jsx)(St().Z,{size:6})]}),(0,I.jsx)(Me().Z,{store:t,removeIfEmpty:!0,style:{fontSize:14,paddingLeft:0}}),(0,I.jsx)(St().Z,{size:8})]}),M&&(0,I.jsx)(wt().Z,{store:t},t.id),B&&(0,I.jsx)(jt().Dr,{blockStore:t}),T&&!j&&(0,I.jsx)(Pt().Z,{style:{marginRight:10},onClick:()=>{yt().Z.setState({open:!0})}}),!n&&(0,I.jsx)(b().Z,{})]}),(0,I.jsx)("div",{style:{flexGrow:1,flexShrink:1}}),(0,I.jsxs)(a().T,{disabled:!S,from:"DefaultTopbar.Right",fallback:e=>{let{errorId:t}=e;return(0,I.jsx)(s().H,{errorId:t,iconSize:20})},children:[!y&&!k&&!d&&(0,I.jsx)(kt,{store:t,isInvalidPage:n}),_&&(0,I.jsx)(Mt().n,{store:t})]})]})})}const Tt=o.forwardRef((function(e,t){const o=(0,i().O7)(),{device:c}=o,{store:g}=e,p=(0,u().E)("inline_error_boundary"),h=(0,n(733285)._)({store:g}),m=(0,r().VK)((()=>n(218689).C.state.banners.some((e=>"LoggedOutAppBanner"===e.id))),[]),b=(0,r().VK)((()=>j().Z.state.isFullScreen),[]),x=(0,r().VK)((()=>(0,w().in)(o)),[o]),v=(0,r().VK)((()=>l().h1(o).shouldShowSidebar),[o]),y=(0,r().Kw)(E().sidebarElectronMousePeekStore),{isShowingTabBar:k}=(0,r().Kw)(C().default),P=(0,r().VK)((()=>S().default.isVisible()),[]),M=y&&k&&v&&!x&&!P,T=c.isElectron&&!k&&!b?`${d().lIT} ${d().pMC}`:d().lIT,B=(0,Te().O$)({store:g,shouldRenderTemplateGalleryTopbar:h,isBrowserFullScreen:b});return(0,I.jsxs)("header",{style:B.header,ref:t,children:[(0,I.jsxs)("div",{style:B.container,className:T,onFocus:f().Iw,onBlur:f().u1,children:[m&&(0,I.jsx)(G,{}),(0,I.jsx)(a().T,{disabled:!p,from:"Topbar",fallback:e=>{let{errorId:t}=e;return(0,I.jsx)("div",{className:d().lIT,style:{display:"flex",justifyContent:"flex-end",alignItems:"center",width:"100%",height:(0,n(467171).R6)(c.isElectronMac),maxWidth:"100vw",paddingRight:8},children:(0,I.jsx)(s().H,{errorId:t,iconSize:20})})},children:(0,I.jsx)(_t,{...e,shouldRenderTemplateGalleryTopbar:h})})]}),(0,I.jsx)(n(188407).t,{banners:e.banners,isMobile:!1,isInPeekRenderer:!1}),M&&(0,I.jsx)(n(356294).o,{style:B.electronTopbarSidebarMousePeekArea})]})}));function Bt(e){let{store:t,isInvalidPage:n,isElectron:o}=e;const{isShowingTabBar:i}=(0,r().Kw)(C().default),a=(0,Te().xJ)({shouldRenderTemplateGalleryTopbar:!1});return(0,I.jsxs)("div",{style:a,onDoubleClick:f().wq,children:[Ie().Z({isElectron:o,isShowingTabBar:i}),Ie().Y({store:t,isInvalidPage:n}),(0,I.jsx)("div",{style:{flexGrow:1,flexShrink:1}}),(0,I.jsx)(qe,{store:t,isInvalidPage:n})]})}function _t(e){let{shouldRenderTemplateGalleryTopbar:t,store:a,routerState:s,isInvalidPage:l,isElectron:d,showSidebarButton:u,hideActionButtons:g}=e;const p=(0,i().O7)(),h=(0,o.useRef)(0),m=(0,o.useRef)(0),b=(0,o.useCallback)((()=>{h.current=window.screenX,m.current=window.screenY}),[]),x=(0,o.useCallback)((e=>{const t=window.screenX,o=window.screenY;h.current===t&&m.current===o&&(e.target===e.currentTarget&&n(990966).clear({environment:p}),(0,c().ZP)({event:e,context:c().Af.EditorClick,callback:()=>{n(82937).E5(p)}}))}),[p]),{isPersonalHome:v,isTeamHome:y,isBrowsePage:S,teamStore:w,shouldRenderPublicPageTopbar:j,shouldRenderTrustDomainPageTopbar:C,shouldRenderAWTLPageTopbar:k}=(0,r().VK)((()=>{const e=H().default.state.currentSpaceStore,t=!p.currentUser.isLoggedIn();if(!a){return{isTeamHome:!0,isPersonalHome:!1,teamStore:e&&F().t1.createChildStore(e,{table:"team",id:s.route.teamId,spaceId:e.id}),shouldRenderPublicPageTopbar:!1,shouldRenderTrustDomainPageTopbar:!1}}const{publicPageData:o}=K().default.state,i=f().cE(a,p),r=H().default.state.currentUserRootStore&&(null==o?void 0:o.spaceId)&&!(0,n(322538).A)({userRootStore:H().default.state.currentUserRootStore,spaceId:null==o?void 0:o.spaceId}),l=!!i&&(0,n(547046).C)();return{isPersonalHome:(0,n(772529).WE)(a),isBrowsePage:(0,n(566332).iU)(p),isTeamHome:!1,teamStore:void 0,shouldRenderPublicPageTopbar:i&&!l,shouldRenderAWTLPageTopbar:l&&(t||r),shouldRenderTrustDomainPageTopbar:null==o?void 0:o.isDLSViewer}}),[s.route,a,p]),P=(0,r().VK)((()=>f().DK({store:a,environment:p})),[a,p]),M=(0,r().VK)((()=>"sidebar"===R().default.getEligibleGroup({experimentId:"sharing_logged_out_view_awtl",defaultGroup:"control"})),[]);return P?S?null:a&&k?(0,I.jsx)(V,{showSidebarButton:u&&M,store:a,isInvalidPage:l,isElectron:d}):j&&a?t?(0,I.jsx)(ft,{blockStore:a,isInvalidPage:l,isElectron:d}):(0,I.jsx)(gt,{store:a,isInvalidPage:l,isElectron:d}):C&&a?(0,I.jsx)(Bt,{store:a,isInvalidPage:l,isElectron:d}):v&&a?(0,I.jsx)(T,{store:a,isInvalidPage:l,showSidebarButton:u,handleClickTopbar:x,handleMouseDown:b}):y&&w?(0,I.jsx)(z,{teamStore:w,showSidebarButton:u}):a?(0,I.jsx)(It,{store:a,isInvalidPage:l,isElectron:d,showSidebarButton:u,hideActionButtons:g,shouldRenderTemplateGalleryTopbar:t,handleClickTopbar:x,handleMouseDown:b}):null:null}},71064:(e,t,n)=>{n.d(t,{Z:()=>F});var o=n(667294),i=()=>n(629013),r=()=>n(219727),a=()=>n(142735),s=()=>n(846550),l=()=>n(666669),d=()=>n(996106),c=()=>n(788860),u=()=>n(540520),g=()=>n(308186),p=()=>n(40484),h=()=>n(45909),m=()=>n(59407),b=()=>n(352230),f=()=>n(506348),x=()=>n(804217),v=()=>n(725751),y=()=>n(764189),S=()=>n(207947),w=()=>n(922622),j=()=>n(568017),C=()=>n(176691),k=n(785893);function P(e){const t=(0,S().f)(500);if(e.device.isMobile)return(0,w().l)({width:24,height:"100%"});if("SpaceFrozenError"===e.error.retryReason)return(0,k.jsx)(c()._H,{defaultMessage:"Your workspace is frozen, sync is paused.",id:"connectionErrorIndicator.label.spaceFrozen"});if(void 0===e.error.approximateBackoffDelayEndTime)return(0,k.jsx)(c()._H,{defaultMessage:"Something's not right.",id:"connectionErrorIndicator.label.shortMessage"});const n=Math.floor((e.error.approximateBackoffDelayEndTime-t)/1e3);return n>0?(0,k.jsx)(c()._H,{defaultMessage:"Something's not right. Retrying in {numberOfSeconds}s…",values:{numberOfSeconds:n},id:"connectionErrorIndicator.label.retryingInSeconds"}):(0,k.jsx)(c()._H,{defaultMessage:"Something's not right. Retrying…",id:"connectionErrorIndicator.label.retrying"})}function M(e){(0,S().f)(1e4);const{startTime:t}=e,n=(0,C().IS)(t),i=(0,r().O7)();return(0,o.useEffect)((()=>{u().ap(i,{errorSinceMs:Date.now()-t})}),[i,t]),"SpaceFrozenError"===e.retryReason?(0,k.jsx)(c()._H,{defaultMessage:"{sinceSomeTimeAgo}: saving was paused because your workspace is frozen. We'll try again once your workspace is unfrozen.",values:{sinceSomeTimeAgo:n},id:"connectionErrorIndicator.details.spaceFrozen"}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(c()._H,{defaultMessage:"{sinceSomeTimeAgo}, an error occurred saving your changes. We'll try again soon.",values:{sinceSomeTimeAgo:n},id:"connectionErrorIndicator.details.message"}),e.retryReason?(0,k.jsx)("div",{style:{marginTop:8,fontSize:12,color:j().ZP.whiteWithAlpha(.7),fontStyle:"italic"},children:(0,k.jsx)(c()._H,{defaultMessage:"Debug info: {debugInfo}",values:{debugInfo:e.retryReason},id:"connectionErrorIndicator.details.debugInfo"})}):void 0]})}var I=()=>n(265640),T=()=>n(448419),B=()=>n(312578),_=()=>n(198829),Z=()=>n(654133);function L(e){return(0,k.jsx)(c()._H,{defaultMessage:"You can no longer make edits: {errorMessage} {usageInfoMessage}",id:"connectionState.errorIndicator.cannotMakeEdits.detailedMessage",values:{errorMessage:e.errorMessage,usageInfoMessage:e.usageInfoMessage}})}function V(e){const t=(0,s().Fg)(),n=(0,r().O7)(),i=(0,l().z)({marginLeft:6,width:14,height:14,fill:e.errorStateStyle.color}),a="transactionQueue"===e.type?e.message:void 0,d="lowStorage"===e.type?e.estimate:void 0;return(0,o.useEffect)((()=>{"transactionQueue"===e.type?u().sI(n,{message:a}):"connection"===e.type?u().SL(n):"lowStorage"===e.type&&u().zQ(n,{estimate:d})}),[e.type,a,d,n]),(0,o.useEffect)((()=>{a&&g().Hr((0,k.jsx)(L,{errorMessage:a}))}),[a]),n.device.isMobile?(0,k.jsx)(T().ZP,{popupType:T().Z4.SlideUp,renderOrigin:t=>(0,k.jsx)(I().D,{style:e.errorStateStyle,...t,children:e.indicatorText||i}),render:n=>{let{close:o}=n;return(0,k.jsx)(_().Z,{menuType:b().o.ActionSheet,children:(0,k.jsx)("div",{style:{padding:15,background:t.errorText,color:"white"},onClick:o,children:e.detailsText})})}}):(0,k.jsx)(Z().Z,{renderTooltip:()=>(0,k.jsx)("div",{style:{width:320,whiteSpace:"normal"},children:e.detailsText}),render:t=>(0,k.jsxs)("div",{style:e.errorStateStyle,...t,children:[e.indicatorText,i]})})}function E(e){let{showLoadingSpinner:t}=e;const n=(0,r().O7)(),o=(0,a().VK)((()=>{var e;return null===(e=n.mobileNative)||void 0===e?void 0:e.supportsNativeHomeOnPhone()}),[n]);return(0,k.jsx)("div",{style:{display:"flex",alignItems:"center",height:"100%",marginLeft:"auto",paddingLeft:!o||t?4:0,paddingRight:!o||t?8:0,visibility:t?"visible":"hidden"},children:(!o||t)&&(0,k.jsx)(B().Z,{legacySize:18})})}function K(e){return{display:"flex",alignItems:"center",marginRight:e?0:18,fontSize:e?12:14}}function H(e){let{isOnline:t,showLoadingSpinner:n}=e;const o=(0,c().YB)(),i=(0,r().Fy)(),l=(0,a().VK)((()=>Boolean(v().default.state.isShowingTabBar)),[]),d=(0,s().yK)((e=>({offlineBadge:{...(0,h().X)({noDrag:i.isElectron&&!l}),display:"flex",alignItems:"center",padding:"0px 6px",height:i.isMobile?20:24,borderRadius:4,marginRight:i.isMobile?4:18,whiteSpace:"nowrap",fontSize:i.isMobile?12:14,color:e.mediumTextColor,border:`1px solid ${e.darkDividerColor}`},loadingState:{...(0,h().X)({noDrag:i.isElectron&&!l}),...K(i.isMobile),color:e.lightTextColor}})),[i,l]);return t?n?(0,k.jsx)(Z().Z,{renderTooltip:()=>(0,k.jsx)(c()._H,{defaultMessage:"{percent} complete.",id:"connectionState.savePercentangeIndicator.tooltip",values:{percent:y().default.percentComplete(o)}}),render:e=>(0,k.jsxs)("div",{style:d.loadingState,...e,children:[(0,k.jsx)(B().Z,{style:{margin:4,marginRight:8}}),(0,k.jsx)(c()._H,{defaultMessage:"Saving…",id:"connectionState.saving.message"})]})}):null:(0,k.jsx)(Z().Z,{renderTooltip:()=>(0,k.jsx)("div",{style:{width:200},children:(0,k.jsx)(c()._H,{defaultMessage:"{numberOfEdits, plural, one {You have {numberOfEdits} edit that will be synced next time you are online.} other {You have {numberOfEdits} edits that will be synced next time you are online.}}",id:"connectionState.offlineBadge.tooltip",values:{numberOfEdits:y().default.state.totalPending}})}),textWrap:!0,render:e=>(0,k.jsx)("div",{style:d.offlineBadge,...e,children:(0,k.jsx)(c()._H,{defaultMessage:"Offline",id:"connectionState.offlineBadge.label"})})})}function R(){const e=(0,r().Fy)(),t=(0,a().VK)((()=>y().default.state.transactionQueueError),[]),n=(0,a().VK)((()=>y().default.state.storageUsageEstimate),[]),i=(0,c().YB)(),l=(0,a().VK)((()=>Boolean(v().default.state.isShowingTabBar)),[]),u=(0,s().yK)((t=>({errorState:{...(0,h().X)({noDrag:e.isElectron&&!l}),...K(e.isMobile),whiteSpace:"nowrap",color:t.errorText}})),[e,l]),g=(0,a().VK)((()=>(0,p().L)()),[]),m=()=>{if(n){const e=n.usage/n.quota;return(0,k.jsx)(c()._H,{defaultMessage:"Notion is using {percentageOfStorageBytesUsed} of its available storage on your device ({usedNumberOfBytes} of {totalNumberOfBytes}).",id:"connectionState.errorIndicator.possibleLostEdits.detailedMessagePart1",values:{usedNumberOfBytes:(0,d().uf)(n.usage,"bytes",i),totalNumberOfBytes:(0,d().uf)(n.quota,"bytes",i),percentageOfStorageBytesUsed:i.formatNumber(e,{style:"percent",maximumFractionDigits:2})}})}};if(t){const e=(0,k.jsx)(c()._H,{defaultMessage:"Cannot save changes",id:"connectionState.errorIndicator.cannotSaveChanges.message"}),n=(0,k.jsx)(L,{errorMessage:t.message,usageInfoMessage:m()});return(0,k.jsx)(V,{type:"transactionQueue",message:t.message,indicatorText:e,detailsText:n,errorStateStyle:u.errorState})}if(void 0!==n&&!(0,f().mn)(n)){const t=e.isBrowser?(0,k.jsx)(c()._H,{defaultMessage:"Low browser storage",id:"connectionState.errorIndicator.lowStorageOnWebApp.message"}):e.isMobileNative?(0,k.jsx)(c()._H,{defaultMessage:"Low app storage",id:"connectionState.errorIndicator.lowStorageOnMobileApp.message"}):(0,k.jsx)(c()._H,{defaultMessage:"Low disk space",id:"connectionState.errorIndicator.lowStorageOnDesktopApp.message"});return(0,k.jsx)(V,{type:"lowStorage",estimate:n,indicatorText:t,detailsText:(0,k.jsxs)(o.Fragment,{children:[m()," ",(0,k.jsx)(c()._H,{id:"connectionState.errorIndicator.possibleLostEdits.detailedMessagePart2",defaultMessage:"You may lose changes made while offline. Try closing and re-opening your app, and contact support if that doesn’t fix the issue."})]}),errorStateStyle:u.errorState})}return g?(0,k.jsx)(V,{type:"connection",indicatorText:(0,k.jsx)(P,{error:g,device:e}),detailsText:(0,k.jsx)(M,{...g}),errorStateStyle:u.errorState}):null}const F=function(){const e=(0,a().VK)((()=>x().default.state.online),[]),t=(0,a().VK)((()=>!y().n.state),[]),n=function(){const e=(0,o.useRef)(!1),[t,n]=(0,o.useState)(!1),r=(0,i().v)((()=>{x().default.state.syncing&&!e.current&&(e.current=!0,n(!0))}),8e3),a=(0,i().v)((()=>{e.current&&!x().default.state.syncing&&(e.current=!1,n(!1))}),200);return(0,o.useEffect)((()=>(x().default.addListener(r),x().default.addListener(a),()=>{x().default.removeListener(r),x().default.removeListener(a)})),[r,a]),e.current}(),s=function(e,t){const n=(0,r().O7)(),[i,a]=(0,o.useState)(!1),s=(0,o.useCallback)((o=>{(0,m().Z)(n,o,"command+s")&&(o.preventDefault(),e&&!i&&t&&(a(!0),setTimeout((()=>{a(!1)}),500)))}),[n,i,t,e]);return(0,o.useEffect)((()=>(window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)})),[s]),i}(e,t),l=(0,r().Fy)(),d=(0,a().VK)((()=>!(0,p().n)()),[]),c=(s||n)&&t&&d;return(0,k.jsxs)(k.Fragment,{children:[l.isMobile?(0,k.jsx)(E,{showLoadingSpinner:c}):(0,k.jsx)(H,{isOnline:e,showLoadingSpinner:c}),(0,k.jsx)(R,{})]})}},451102:(e,t,n)=>{n.d(t,{Z:()=>r});n(667294);var o=()=>n(788860),i=n(785893);const r=function(e){const t=(0,n(846550).Fg)(),r=(0,n(219727).O7)(),{device:a}=r;return(0,i.jsx)(n(654133).Z,{placement:n(998901).Placement.Bottom,renderTooltip:()=>(0,i.jsxs)("div",{style:{textAlign:"center"},children:[(0,i.jsx)(o()._H,{defaultMessage:"Access restricted from parent page",id:"blockAuthorInfo.restrictedBadge.infoText"}),(0,i.jsx)("br",{}),(0,i.jsx)("span",{style:{color:t.mediumInvertedTextColor},children:(0,i.jsx)(o()._H,{defaultMessage:"Click to view access",id:"blockAuthorInfo.restrictedBadge.clickText"})})]}),render:r=>(0,i.jsxs)(n(265640).D,{onClick:e.onClick,style:{marginRight:a.isMobile?4:2,color:t.lightTextColor,fill:t.lightIconColor},...r,children:[(0,n(717956).B)({width:20,marginRight:4,fill:t.lightIconColor}),(0,i.jsx)("div",{style:{color:t.lightTextColor,fontSize:a.isMobile?16:14,lineHeight:a.isAndroid?1.5:1,whiteSpace:"nowrap"},children:(0,i.jsx)(o()._H,{id:"blockAuthorInfo.restrictedBadge",defaultMessage:"Restricted"})})]})})}},356294:(e,t,n)=>{n.d(t,{o:()=>s});n(667294);var o=()=>n(949842),i=()=>n(793935),r=()=>n(291335),a=n(785893);function s(e){let{children:t,style:n}=e;const s=e=>{(0,o().ZP)({event:e,context:o().Af.SidebarMouseMove,callback:()=>{const t=e.currentTarget.getBoundingClientRect();r().sidebarMousePeekXStore.setState(t.right),i().open({fromElectron:!1})}})};return(0,a.jsx)("div",{onMouseEnter:s,onMouseMove:s,style:n,children:t})}},730764:(e,t,n)=>{n.d(t,{n:()=>i});var o=()=>n(677559);const i=(0,o().kF)(new(o().Ss)("topbar",(()=>Promise.all([n.e(62743),n.e(28407)]).then(n.bind(n,801142)))),(e=>e.TopbarSubmitPostButton))},767628:(e,t,n)=>{n.d(t,{Q:()=>S});var o=n(667294),i=()=>n(219727),r=()=>n(732811),a=()=>n(142735),s=()=>n(846550),l=()=>n(968061),d=()=>n(467526),c=()=>n(54193),u=()=>n(836273),g=()=>n(788860),p=()=>n(824462),h=()=>n(672178),m=()=>n(772084),b=()=>n(661297),f=()=>n(265456),x=n(785893);const v={width:14,height:14},y={width:14,height:14,marginLeft:6};function S(e){const{store:t}=e,n=(0,i().O7)(),[S,w]=(0,o.useState)(!1),j=n.device.isMobile,C=(0,s().Fg)(),k=j?v:y,{isForm:P,formId:M,spaceId:I}=(0,a().VK)((()=>({isForm:t.isFormBlock(),formId:t.id,spaceId:t.getSpaceId()})),[t]),T=(0,a().VK)((()=>{const e=n.RouterStore.state.route;return(0,c().FK)(e)}),[n]),B=(0,a().VK)((()=>P?S&&m().pq(t):m().pq(t)),[t,P,S]);(0,r().K)((async()=>{var e;if(!P)return;const o=n.currentUser.id,i=await p().callApi({eventName:"getFormData",environment:n,data:{formId:t.id,spaceId:t.getSpaceId()},userId:o});"failed"!==i.type&&w((null===(e=i.data.additionalFeatures)||void 0===e?void 0:e.customization)??!1)}));const _=(0,o.useCallback)((async()=>{P?((0,h().b)({environment:n,source:"public_topbar_cta",sourceData:"Made with Notion",formId:M}),await f().tf({environment:n,route:u()._j.signup,formId:M,spaceId:I,openInNewTab:T})):await f().Uo({environment:n,route:u()._j.signup,openInNewTab:T})}),[P,n,M,I,T]);return B?null:(0,x.jsxs)(b().Z,{style:{padding:j?"0 8px":"0 10px",marginLeft:8},onClick:_,children:[!j&&(0,x.jsx)(g()._H,{defaultMessage:"Made with",id:"topbar.publicPage.cta.label.madeWithNotion"}),"light"===C.mode?(0,l().h)(k):(0,d().N)(k)]})}},265456:(e,t,n)=>{n.d(t,{$d:()=>B,DK:()=>v,Iw:()=>k,Kh:()=>I,Kr:()=>M,Lt:()=>S,Tg:()=>T,Uo:()=>w,cE:()=>y,tf:()=>j,u1:()=>P,wq:()=>C});var o=()=>n(474788),i=()=>n(846550),r=()=>n(836273),a=()=>n(989478),s=()=>n(438793),l=()=>n(231077),d=()=>n(579358),c=()=>n(205228),u=()=>n(949842),g=()=>n(122479),p=()=>n(852465),h=()=>n(876822),m=()=>n(725751),b=()=>n(749826),f=()=>n(826955),x=()=>n(406012);function v(e){const{store:t,environment:n}=e,o=h().default.state.currentSpaceStore,i=!t||(0,p().Oh)(t),{id:r}=n.currentUser,s=r&&o?f().U6.createChildStore(o,{table:a().KJ,id:r}):void 0,l=!s||s.isReady();return i&&l}function y(e,t){return!c().default.isAdminMode&&(0,g().eV)(t,e)}function S(){return b().default.checkGate({gateName:"sites_deprecate_edit_and_comment_top_bar"})}r()._j.signup,r()._j.product;async function w(e){const{environment:t,route:n,openInNewTab:o}=e;s().T3(t,{variant:"made_with_notion"}),await d().yF(t,{utmContent:"topbar_cta",nextRoute:n,openInNewTab:o})}async function j(e){const{environment:t,route:n,formId:o,spaceId:i,openInNewTab:r}=e;s().T3(t,{variant:"made_with_notion"}),await d().k1(t,{utmContent:"topbar_cta",nextRoute:n,formId:o,spaceId:i,openInNewTab:r})}function C(e){e.target!==e.currentTarget||m().default.state.isShowingTabBar||(0,u().ZP)({event:e,context:u().Af.EditorDoubleClick,callback:l().toggleMaximized})}function k(e){const t=e.target;t instanceof HTMLElement&&(0,o().E)(t)&&x().Z.setState(!0)}function P(){x().Z.setState(!1)}function M(){return{mobile_horizon1_quick_capture:(0,i().yK)((e=>B(e)),[]),mobile_horizon1_quick_capture_circle_icons:(0,i().yK)((e=>T(e)),[])}}function I(e){return{mobile_horizon1_quick_capture:B(e),mobile_horizon1_quick_capture_circle_icons:T(e)}}function T(e){return{iconContainer:{background:e.tint.regular,color:e.icon.secondary,display:"inline-flex",justifyContent:"center",alignItems:"center",marginRight:8,borderRadius:16,width:32,height:32},iconStyle:{height:16,width:16,fill:e.icon.secondary}}}function B(e){return{iconContainer:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",marginRight:14,color:e.icon.secondary,width:26},iconStyle:{height:26,width:26,fill:e.icon.primary}}}},714468:(e,t,n)=>{n.d(t,{Y:()=>l,Z:()=>s});n(667294);var o=()=>n(853516),i=()=>n(611038),r=()=>n(728363),a=n(785893);function s(e){const{isElectron:t,isShowingTabBar:n}=e;return t&&!n&&(0,a.jsx)(i().Z,{})}function l(e){const{store:t,isInvalidPage:n}=e;return!n&&(0,a.jsx)(o().l2,{store:t,style:(0,r().Fy)(),maxAncestorCount:2,ancestorMaxWidth:160,currentPageMaxWidth:240,showCurrentPageControls:!0,isMobile:!1})}},728363:(e,t,n)=>{n.d(t,{DG:()=>s,Fy:()=>r,zb:()=>a});var o=()=>n(416593),i=()=>n(467171);function r(){return{height:"100%",flexGrow:0,marginRight:8,fontSize:14,minWidth:0}}function a(e){let{environment:t,isShowingTabBar:n,shouldShowSidebar:r,isSidebarExpanded:a,isSecondarySidebarVisible:s,isBrowserFullScreen:l,shouldRenderTemplateGalleryTopbar:d,allowOverflow:c,isFloatingPersonalHomeTopbar:u,zoom:g}=e;const{device:p}=t,h=p.isElectronMac&&(!r||!a&&!s)&&!l&&!n,m=p.isElectronWindows&&!n,b=m&&(!r||!a&&!s);let f=i().R6(p.isElectronMac);return d?f=i().TT:u&&(f=i().Aj),{display:"flex",justifyContent:"space-between",alignItems:"center",overflow:c?"visible":"hidden",height:f,paddingLeft:h?(0,o().XW)(g):b?46:p.isMobile?4:12,paddingRight:m?(0,o().RO)(g)+4:p.isMobile?4:10}}function s(e){return{flex:"none",width:1,height:16,marginLeft:8,marginRight:8,background:e.darkDividerColor}}},733285:(e,t,n)=>{n.d(t,{_:()=>l});var o=()=>n(219727),i=()=>n(142735),r=()=>n(148126),a=()=>n(658096),s=()=>n(265456);function l(e){const{store:t}=e,n=(0,o().O7)();return(0,i().VK)((()=>{if(!t)return!1;const{device:e}=n;if(e.isMobile||!(0,r().Sr)(n))return!1;if(!(0,s().cE)(t,n))return!1;const{publicPageData:o}=a().default.state;return!(null==o||!o.template)}),[n,t])}},596986:(e,t,n)=>{n.d(t,{F_:()=>j,O$:()=>w,Q4:()=>y,nk:()=>v,xJ:()=>S,xN:()=>C});var o=n(667294),i=()=>n(219727),r=()=>n(142735),a=()=>n(846550),s=()=>n(416593),l=()=>n(467171),d=()=>n(492522),c=()=>n(718959),u=()=>n(772529),g=()=>n(123145),p=()=>n(105649),h=()=>n(589525),m=()=>n(183211),b=()=>n(725751),f=()=>n(9599);const x=10,v=700;function y(){const{isMobile:e,isElectronWindows:t}=(0,i().Fy)(),{isShowingTabBar:n,zoomFactor:a}=(0,r().VK)((()=>({isShowingTabBar:Boolean(b().default.state.isShowingTabBar),zoomFactor:b().default.state.zoomFactor||s().lO})),[]),l=t&&!n;return(0,o.useMemo)((()=>l?(0,s().RO)(a)+4:e?4:x),[e,l,a])}function S(e){let{isFloatingPersonalHomeTopbar:t,shouldRenderTemplateGalleryTopbar:n}=e;const a=(0,i().O7)(),{isShowingTabBar:d,zoomFactor:u}=(0,r().Kw)(b().default),g=(0,r().VK)((()=>c().h1(a).shouldShowSidebar),[a]),f=(0,r().VK)((()=>(0,h().in)(a)),[a]),x=(0,r().VK)((()=>p().default.isPanelPinnedState()),[]),v=(0,r().VK)((()=>m().Z.state.isFullScreen),[]),{device:y}=a,S=u||s().lO,w=y.isElectronMac&&(!g||!f&&!x)&&!v&&!d,j=y.isElectronWindows&&!d,C=j&&(!g||!f&&!x);let k=l().R6(y.isElectronMac);n?k=l().TT:t&&(k=l().Aj);return(0,o.useMemo)((()=>({display:"flex",justifyContent:"space-between",alignItems:"center",overflow:"hidden",height:k,paddingLeft:w?(0,s().XW)(S):C?46:y.isMobile?4:12,paddingRight:j?(0,s().RO)(S)+4:y.isMobile?4:10})),[k,w,S,C,y.isMobile,j])}function w(e){let{store:t,shouldRenderTemplateGalleryTopbar:n,isBrowserFullScreen:o}=e;const p=(0,i().O7)(),m=(0,i().Fy)(),x=(0,i().MO)(),y=(0,r().VK)((()=>(0,u().WE)(t)&&0===f().Z.state.banners.length),[t]);let S=l().R6(m.isElectronMac);n&&(S=2*l().TT);const w=(0,r().VK)((()=>g().VV()),[]),j=(0,r().Kw)(c().tu),{zoomFactor:C}=(0,r().Kw)(b().default),k=(0,h().vF)(p),P=l().Pv(m.isElectronMac,o,C||s().lO);return(0,a().yK)((e=>({header:{background:y&&!x?"transparent":e.contentBackground,maxWidth:"100vw",zIndex:d().lI,WebkitUserSelect:"none",userSelect:"none"},container:{width:`calc(100% - ${w}px)`,maxWidth:"100vw",height:S,opacity:j?0:1,transition:`\n\t\t\t\t\t\topacity ${v}ms,\n\t\t\t\t\t\tcolor ${v}ms\n\t\t\t\t\t`,position:"relative",left:w},electronTopbarSidebarMousePeekArea:{position:"absolute",top:0,width:`${P}px`,height:`${k}px`}})),[y,x,w,j,S,P,k])}function j(e){return{iconButton:{width:34,height:28,marginRight:2},icon:{height:20,width:20,fill:e.regularIconColor}}}function C(){return(0,a().yK)(j,[])}},188407:(e,t,n)=>{n.d(t,{t:()=>r});var o=()=>n(677559);const i=new(o().Ss)("BannersRenderer",(async()=>Promise.all([n.e(62743),n.e(84885),n.e(5242),n.e(46546),n.e(91253),n.e(4014),n.e(75377),n.e(18162),n.e(67601),n.e(58548),n.e(41455),n.e(28682),n.e(77654),n.e(82472),n.e(48364),n.e(80317),n.e(5054)]).then(n.bind(n,938564)))),r=(0,o().kF)(i,(e=>e.BannersRenderer))},508853:(e,t,n)=>{n.d(t,{o:()=>r});var o=()=>n(677559);const i=new(o().Ss)("topbarSidebarButton",(async()=>await n.e(37206).then(n.bind(n,157106)))),r=(0,o().kF)(i,(e=>e.TopbarSidebarButton))},716228:(e,t,n)=>{n.d(t,{B:()=>r});var o=()=>n(677559);const i=new(o().Ss)("topbarStopSuggestModeButton",(async()=>await Promise.all([n.e(62743),n.e(52774),n.e(44832),n.e(39938),n.e(84885),n.e(90698),n.e(37358),n.e(7312),n.e(5242),n.e(31189),n.e(90424),n.e(69343),n.e(81580),n.e(84325),n.e(2933),n.e(94556),n.e(78701),n.e(38804),n.e(17100),n.e(4387),n.e(11189),n.e(53329),n.e(71896),n.e(72586),n.e(53335),n.e(46616),n.e(54940),n.e(20224),n.e(46546),n.e(98721),n.e(50471),n.e(49498),n.e(2971),n.e(20634),n.e(91253),n.e(63707),n.e(61171),n.e(4014),n.e(63502),n.e(7678),n.e(5006),n.e(20919),n.e(75377),n.e(99590),n.e(52435),n.e(69437),n.e(81063),n.e(75066),n.e(81917),n.e(88128),n.e(97934),n.e(37317),n.e(91e3),n.e(18162),n.e(91752),n.e(78517),n.e(99537),n.e(80730),n.e(11770),n.e(83962),n.e(62084),n.e(79289),n.e(21862),n.e(41589),n.e(71641),n.e(23006),n.e(72646),n.e(10553),n.e(74879),n.e(67601),n.e(37239),n.e(40692),n.e(20683),n.e(22467),n.e(27039),n.e(97083),n.e(52065),n.e(18534),n.e(39179),n.e(77555),n.e(38632),n.e(78856),n.e(19592),n.e(47559),n.e(22371),n.e(73230),n.e(25911),n.e(54843),n.e(76540),n.e(22337),n.e(93536),n.e(53936),n.e(23721),n.e(32175),n.e(66283),n.e(22154),n.e(58586)]).then(n.bind(n,496669)))),r=(0,o().kF)(i,(e=>e.TopbarStopSuggestModeButton))},550345:(e,t,n)=>{n.d(t,{H:()=>u});n(667294);var o=()=>n(311988),i=()=>n(603692),r=()=>n(654133),a=()=>n(998901),s=()=>n(638533),l=n(785893);function d(e){let{iconGroup:t,children:n,iconSize:o,errorId:d}=e;return(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:4,fontSize:10},children:[(0,l.jsx)(r().Z,{placement:a().Placement.Top,renderTooltip:()=>n,render:e=>(0,l.jsx)("div",{...e,children:(0,l.jsx)(i().y,{iconGroup:t,variantName:"default",colorName:"uiRedPrimary",overrideSize:()=>o})})}),d&&["dev","local"].includes("production")&&(0,l.jsx)(s().s,{errorId:d,showLink:!0})]})}var c=()=>n(62952);function u(e){const{iconSize:t,errorId:n}=e;return(0,l.jsx)(d,{iconGroup:o().x,iconSize:t,errorId:n,children:(0,l.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:(0,l.jsx)(c().M,{})})})}},566332:(e,t,n)=>{n.d(t,{cm:()=>c,iU:()=>d,ww:()=>g});n(241792);var o=()=>n(396136),i=()=>n(139978),r=()=>n(255933),a=()=>n(955620),s=()=>n(876822);const l="10";function d(e){var t;const n=s().default.state.currentSpaceStore;if(!n)return!1;const o=n.getSpaceId(),i=e.currentUser.id;if(!i)return!1;return c(i,e.idCreator.getSpaceIdCreatorSync(o))===(null===(t=s().default.state.mainEditorCurrentBlockStore)||void 0===t?void 0:t.id)}function c(e,t){return t.deterministicIdInSavedSpace(o().iU,`${e}:${t.getSpaceId()}:browse-v${l}:collectionViewBlock`)}function u(e,t,n){return t.deterministicIdInSavedSpace(i().np,`${e}:${t.getSpaceId()}:browse-v${l}:collectionView:${n}`)}function g(e){const{userId:t,spaceIdCreator:n}=e,i=n.getSpaceId(),s=c(t,n),l=function(e){const{userId:t,spaceIdCreator:n}=e,i=n.getSpaceId(),r=c(t,n),a={id:u(t,n,"createdByMe"),version:1,alive:!0,space_id:i,parent_table:o().iU,parent_id:r,name:"Created by me",type:"list",format:{collection_view_source:{type:"createdByMe",spaceId:i},hide_linked_collection_name:!0,collection_peek_mode:"side_peek",list_properties:[{property:"title",visible:!0},{property:"created_time",visible:!0},{property:"created_by",visible:!1},{property:"last_edited_by",visible:!1},{property:"last_edited_time",visible:!1},{property:"last_visited_time",visible:!1}],collection_group_by:{groupBy:"relative",hideEmptyGroups:!0,property:"created_time",sort:{type:"descending"},type:"created_time"}}},s={id:u(t,n,"recents"),version:1,alive:!0,space_id:i,parent_table:o().iU,parent_id:r,name:"Recents",type:"gallery",format:{collection_view_source:{type:"recents",spaceId:i},gallery_cover:{type:"page_cover"},gallery_properties:[{property:"title",visible:!0},{property:"created_by",visible:!0},{property:"created_time",visible:!0},{property:"last_edited_by",visible:!1},{property:"last_edited_time",visible:!1},{property:"last_visited_time",visible:!1}],hide_linked_collection_name:!0,collection_peek_mode:"side_peek"}},l={id:u(t,n,"mentionsMe"),version:1,alive:!0,space_id:i,parent_table:o().iU,parent_id:r,name:"Mentions me",type:"list",format:{collection_view_source:{type:"mentionsMe",spaceId:i},hide_linked_collection_name:!0,collection_peek_mode:"side_peek"}};return{createdByMeView:a,recentsView:s,mentionsMeView:l}}({userId:t,spaceIdCreator:n}),d=Object.values(l);return{block:{id:s,version:1,alive:!0,type:"collection_view_page",space_id:i,parent_table:r().bx,parent_id:i,permissions:[{type:"exclusive_user_permission",user_id:t,role:"read_and_write"}],properties:{title:(0,a().TPx)("Browse")},view_ids:d.map((e=>e.id))},collectionViews:d}}},728757:(e,t,n)=>{n.d(t,{Z:()=>c});n(667294);var o=()=>n(142735),i=()=>n(846550),r=()=>n(788860),a=()=>n(707513),s=()=>n(680887),l=()=>n(594723),d=n(785893);function c(e){let{isUpworkSignup:t,isPerfmarkTrialSignup:n}=e;const c=(0,i().Fg)(),u=(0,o().VK)((()=>(0,s().d)()),[]),g=(0,o().VK)((()=>(0,l().$O)()),[]),p=(0,l().qr)(),h=t?(0,d.jsx)(r()._H,{id:"signupPage.upwork.title",defaultMessage:"Try Notion Plus, on us"}):n?(0,d.jsx)(r()._H,{id:"signupPage.perfmarkTrial.title",defaultMessage:"Start your free Notion Plus trial"}):u?(0,d.jsx)(r()._H,{id:"signupPage.formResponse.title",defaultMessage:"Sign up to see a copy of your form response"}):g?(0,d.jsx)(r()._H,{id:"signupPage.mail.title",defaultMessage:"Welcome to Notion Mail"}):p?(0,d.jsx)(r()._H,{id:"signupPage.calendar.title",defaultMessage:"Welcome to Notion Calendar"}):(0,d.jsx)(r()._H,{id:"signupPage.revamped.title",defaultMessage:"Think it. Make it."}),m=t?(0,d.jsx)(r()._H,{id:"signupPage.upwork.signInText",defaultMessage:"Sign up to get started"}):n?(0,d.jsx)(r()._H,{id:"signupPage.smbTrial.signInText",defaultMessage:"No credit card required"}):u?void 0:(0,d.jsx)(r()._H,{id:"signupPage.revamped.signInText",defaultMessage:"Create your Notion account"});return(0,d.jsxs)("div",{style:{display:"flex",flexDirection:"column",textAlign:"left",fontWeight:a().Ue.semibold,fontSize:22,letterSpacing:"-0.264px",lineHeight:"26px",width:320},children:[(0,d.jsx)("div",{children:h}),(0,d.jsx)("div",{style:{color:c.text.tertiary},children:m})]})}},681819:(e,t,n)=>{n.d(t,{E:()=>X});n(670560);var o=n(667294),i=()=>n(219727),r=()=>n(142735),a=()=>n(846550),s=()=>n(383499),l=()=>n(429600),d=()=>n(641772),c=()=>n(682547),u=()=>n(456681),g=()=>n(947387),p=()=>n(934935),h=()=>n(229010),m=()=>n(788860),b=()=>n(839821),f=()=>n(752127),x=()=>n(154186),v=()=>n(827973),y=()=>n(448419),S=()=>n(838003),w=()=>n(198829),j=()=>n(255577),C=()=>n(388284),k=()=>n(352230),P=()=>n(164079),M=()=>n(148126),I=()=>n(91502),T=()=>n(466970),B=()=>n(998901),_=()=>n(876822),Z=()=>n(595976),L=()=>n(548919),V=()=>n(701814),E=()=>n(182946),K=()=>n(21062),H=()=>n(343931),R=()=>n(384334),F=()=>n(170210);const O=(0,m().vU)({showHideWidgetsTitle:{id:"HomeTopbarActionButtons.showHideWidgets",defaultMessage:"Show/hide widgets"}});n(267602),n(653476),n(241792);var D=()=>n(286977),U=()=>n(140798),A=()=>n(45909),N=n(785893);const z={greeting:{key:"greeting",label:(0,N.jsx)(m()._H,{id:"HomeFeaturesMenu.greeting.label",defaultMessage:"Greeting"}),defaultValue:!0},tasks:{key:"tasks",label:(0,N.jsx)(m()._H,{id:"HomeFeaturesMenu.tasks.label",defaultMessage:"My Tasks"})},custom_db:{key:"custom_db",label:(0,N.jsx)(m()._H,{id:"HomeFeaturesMenu.customDb.label",defaultMessage:"Database Views"})},tips:{key:"tips",label:(0,N.jsx)(m()._H,{id:"HomeFeaturesMenu.tips.label",defaultMessage:"Learn"})},templates:{key:"templates",label:(0,N.jsx)(m()._H,{id:"HomeFeaturesMenu.templates.label",defaultMessage:"Featured Templates"}),shouldShow:e=>{let{device:t}=e;return!t.isMobile}},calendar:{key:"calendar",label:(0,N.jsx)(m()._H,{id:"HomeFeaturesMenu.calendar.label",defaultMessage:"Upcoming Events"}),shouldShow:e=>{let{device:t,spaceStore:o}=e;return(0,n(546438).W)({isPhone:t.isPhone,spaceStore:o})}}},W=["greeting","calendar","tasks","custom_db","tips","templates"];function G(e){let{parent:t}=e;const s=(0,i().O7)(),l=(0,m().YB)(),d=(0,i().Fy)(),c=(0,r().VK)((()=>_().default.state.currentSpaceStore),[]),u=(0,r().VK)((()=>W.map((e=>z[e])).filter((e=>{var t;return(null===(t=e.shouldShow)||void 0===t?void 0:t.call(e,{device:d,spaceStore:c}))??!0}))),[d,c]),{isPhone:g,isElectron:p}=(0,i().Fy)(),h=(0,r().VK)((()=>_().default.state.currentSpaceViewStore),[]),b=(0,r().VK)((()=>(0,n(662062).q)(h)),[h]),f=(0,o.useCallback)((e=>{h&&U().aG({environment:s,currentSpaceViewStore:h,feature:e,from:"home_more_menu"})}),[h,s]),x=(0,a().yK)((e=>({selectedOptionCheck:{width:g?16:14},icon:{width:20,height:20}})),[g]);let y;y=g?{menuType:k().o.Modal,title:l.formatMessage(O.showHideWidgetsTitle),right:(0,N.jsx)(m()._H,{defaultMessage:"Done",id:"settingItem.buttonPopup.done.label"}),onClickRight:t.close}:{menuType:k().o.Popup,width:200};const S=[{key:"settings-item-section",render:e=>(0,N.jsx)(C().Z,{...e}),items:u.map((e=>{let{key:t,label:n}=e;return{key:t,action:()=>f(t),render:e=>(0,N.jsx)(v().Z,{...e,title:n,shouldWrapCaption:!0,right:Boolean(b[t])?(0,N.jsx)("div",{style:x.selectedOptionCheck,children:(0,D().e)()}):void 0})}}))}];return(0,N.jsx)(w().Z,{...y,children:(0,N.jsx)(j().ZP,{style:(0,A().X)({noDrag:p}),type:j().iW.Vertical,sections:S.filter(n(696459).$K),initialFocus:void 0})})}const Y=o.memo(G);function $(e){let{onClose:t}=e;const s=(0,i().O7)(),l=(0,r().VK)((()=>(0,n(138390).o)()),[]),{isPhone:d,isElectron:c}=(0,i().Fy)(),u=(0,r().VK)((()=>{var e,t;return(0,n(345918).g4)(s,{space:null===(e=_().default.state.currentSpaceStore)||void 0===e?void 0:e.getModel(),spaceView:null===(t=_().default.state.currentSpaceViewStore)||void 0===t?void 0:t.getModel()})}),[s]),g=(0,o.useCallback)((e=>{const o=u;U().N({userAction:"userHomeActions.setPersonalHomeAsLandingPage",environment:s,option:e,from:"home_more_menu"}),n(102182).d4({item:{label:(0,N.jsx)(m()._H,{defaultMessage:"Updated default landing page",id:"openOnStartMenu.snackbar.updatedDefaultLandingPage"})},undoFunc:()=>U().N({userAction:"userHomeActions.setPersonalHomeAsLandingPage.undo",environment:s,option:o,from:"home_toast_undo_button"})}),t("selectedOption")}),[u,s,t]),p=(0,a().yK)((e=>({selectedOptionCheck:{width:d?16:14},icon:{width:20,height:20}})),[d]);let h;h=d?{menuType:k().o.Modal,title:(0,N.jsx)(m()._H,{id:"openOnStartMenuSetting.title",defaultMessage:"Open on start"}),right:(0,N.jsx)(m()._H,{defaultMessage:"Done",id:"settingItem.buttonPopup.done.label"}),onClickRight:()=>t("clickedDone")}:{menuType:k().o.Popup,width:250,onClickOutside:()=>t("clickedOutside")};const b=[{key:"settings-item-section",render:e=>(0,N.jsx)(C().Z,{...e}),items:l.map((e=>{let{key:t,label:n,renderIcon:o}=e;return{key:t,action:()=>g(t),render:e=>(0,N.jsx)(v().Z,{...e,title:n,icon:o(p.icon),shouldWrapCaption:!0,right:u===t?(0,N.jsx)("div",{style:p.selectedOptionCheck,children:(0,D().e)()}):void 0})}}))}];return(0,N.jsx)(w().Z,{...h,children:(0,N.jsx)(j().ZP,{style:(0,A().X)({noDrag:c}),type:j().iW.Vertical,sections:b,initialFocus:void 0})})}const q=o.memo($);function X(e){const t=(0,i().O7)(),n=(0,m().YB)(),s=(0,i().MO)(),{isElectronWindows:l}=t.device,c=(0,T().E)("home_cover_photo"),u=(0,r().VK)((()=>c&&e.store.hasCover()),[c,e.store]),p=(0,r().VK)((()=>{var e;return null===(e=_().default.state.currentSpaceStore)||void 0===e?void 0:e.getSpaceId()}),[]),h=(0,Z().p)({spaceId:p}),b=(0,E().Cf)(h),f=(0,o.useCallback)((()=>(0,R().lj)({environment:t})),[t]),v=(0,a().yK)((e=>({dotsIcon:{width:u?12:18,height:u?12:18,fill:e.regularIconColor},moreIconPhone:{width:26},pencilIcon:{width:20,height:20,padding:2},trialBadgeWrapper:{marginRight:6},button:s?{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",paddingLeft:8,paddingRight:8,marginRight:2,...u?(0,F().Er)({theme:e,isPhone:s,buttonState:"base"}):{}}:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:28,borderRadius:4,...u?(0,F().Er)({theme:e,isPhone:s,buttonState:"base"}):{}},buttonHovered:u?(0,F().Er)({theme:e,isPhone:s,buttonState:"hovered"}):{},buttonPressed:u?(0,F().Er)({theme:e,isPhone:s,buttonState:"pressed"}):{},moreButtonStyle:s?{}:{width:250,maxHeight:"80vh"}})),[u,s]);return e.isInvalidPage?null:(0,N.jsxs)(N.Fragment,{children:[b?(0,N.jsx)("div",{style:v.trialBadgeWrapper,children:(0,N.jsx)(V().z,{onClick:()=>(0,L().D)({openedFrom:"home_badge"})})}):null,(0,N.jsx)(y().ZP,{popupType:s?y().Z4.SlideUp:y().Z4.Popup,renderOrigin:e=>(0,N.jsx)(K().N,{step:"home_topbar_action_button",isFullWidth:!1,children:(0,N.jsx)(x().Z,{ariaLabel:n.formatMessage({id:"homeTopbarActionButtons.moreButton.ariaLabel",defaultMessage:"Open menu"}),style:v.button,hoveredStyle:v.buttonHovered,pressedStyle:v.buttonPressed,mobileFeedback:s,...(0,P().Z)(e,{onClick:f}),children:s?(0,g().I)(v.moreIconPhone):(0,d().o)(v.dotsIcon)})}),render:e=>(0,N.jsx)(Q,{mainMenuParent:e,hasCover:u,allowCover:c}),originGap:l?12:4,forceInitialInbound:!0,style:v.moreButtonStyle})]})}function Q(e){let{mainMenuParent:t,hasCover:n,allowCover:o}=e;const{isPhone:d,isElectron:g}=(0,i().Fy)(),x=(0,i().O7)(),T=(0,m().YB)(),Z=(0,r().VK)((()=>_().default.state.mainEditorCurrentBlockStore),[]),L=(0,r().VK)((()=>(0,I().QI)("dev_only")),[]),V=(0,M().UY)("guides.sidebarHome"),E=(0,a().yK)((e=>{const t=(0,F().$K)(e);return{coverPhotoIcon:{width:18,height:18,padding:2,marginLeft:1,marginRight:1},pageIcon:{width:20,height:20,padding:2},messageIcon:{width:20,height:20,padding:2},repeatIconStyle:{width:15,height:15,marginLeft:3,marginRight:2},chevronRightIcon:{width:14,height:14,fill:e.lightIconColor},eyeIcon:{width:20,height:20},helpIconStyle:{width:16,height:16,fill:t.icon,marginLeft:2,marginRight:2},helpMenuItem:{color:t.text}}}),[]),K=[{key:"changeDefaultPage",render:e=>(0,N.jsx)(S().Z,{...e,stopClickPropagation:!0,popupType:d?y().Z4.SlideUp:y().Z4.Popup,render:e=>(0,N.jsx)(q,{onClose:n=>(e=>{let{immediateParent:n,closeMainParent:o}=e;n.close(),o&&t.close()})({immediateParent:e,closeMainParent:"selectedOption"===n})}),placementToOrigin:B().Placement.Left,renderOrigin:t=>(0,N.jsx)(v().Z,{...(0,P().Z)(e,t),icon:(0,p().S)(E.pageIcon),right:(0,l().o)(E.chevronRightIcon),title:g?(0,N.jsx)(m()._H,{id:"HomeTopbarActionButtons.changeStartPage.desktop",defaultMessage:"Change default page"}):(0,N.jsx)(m()._H,{id:"HomeTopbarActionButtons.changeStartPage",defaultMessage:"Change default start page"})}),onClose:()=>{t.close()}}),action:()=>{}},{key:"showHideTiles",render:e=>(0,N.jsx)(S().Z,{...e,stopClickPropagation:!0,popupType:d?y().Z4.SlideUp:y().Z4.Popup,render:e=>(0,N.jsx)(Y,{parent:e}),placementToOrigin:B().Placement.Left,renderOrigin:t=>(0,N.jsx)(v().Z,{...(0,P().Z)(e,t),icon:(0,c().N)(E.eyeIcon),right:(0,l().o)(E.chevronRightIcon),title:T.formatMessage(O.showHideWidgetsTitle)}),onClose:()=>{t.close()}}),action:()=>{}}];o&&K.push({key:"manageCoverPhoto",render:e=>(0,N.jsx)(v().Z,{...e,icon:(0,s().P)(E.coverPhotoIcon),right:(0,l().o)(E.chevronRightIcon),onClick:e=>{if(!Z)return;const t=e.currentTarget.getBoundingClientRect();b().j({environment:x,intl:T,store:Z,rect:t})},title:n?(0,N.jsx)(m()._H,{id:"HomeTopbarActionButtons.changeBackground",defaultMessage:"Change background"}):(0,N.jsx)(m()._H,{id:"HomeTopbarActionButtons.addBackground",defaultMessage:"Add background"})}),action:()=>{}}),L&&K.push({key:"reset-welcome-animation",render:e=>(0,N.jsx)(v().Z,{...e,icon:(0,h().N)(E.repeatIconStyle),onClick:e=>{H().YD({environment:x,newSeenWelcomeHomeValue:!1})},title:(0,N.jsx)(m()._H,{defaultMessage:"Reset welcome animation",id:"personalHome.resetWelcomeAnimation.title"})}),action:()=>{}}),K.push({key:"help",render:e=>(0,N.jsx)(v().Z,{...e,textWrapperStyle:E.helpMenuItem,icon:(0,u().m)(E.helpIconStyle),onClick:e=>{(0,R().gF)({environment:x}),f().D({url:V,environment:x})},title:(0,N.jsx)(m()._H,{defaultMessage:"Learn about Home",id:"personalHome.helpTooltip.title"})}),action:()=>{}});const D=[{key:"all",render:e=>(0,N.jsx)(C().Z,{...e}),items:K}];return(0,N.jsx)(w().Z,{menuType:d?k().o.ActionSheet:k().o.Popup,children:(0,N.jsx)(j().ZP,{type:j().iW.Vertical,sections:D,initialFocus:void 0})})}},546438:(e,t,n)=>{n.d(t,{W:()=>r});var o=()=>n(696459),i=()=>n(345918);function r(e){let{isPhone:t,spaceStore:n}=e;return!t&&(0,o().$K)(n)&&!(0,i().XY)({env:"production",spaceStore:n})}},920719:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n(263184).default.createValue(!0)},183211:(e,t,n)=>{n.d(t,{Z:()=>r});var o=()=>n(231077);class i extends(()=>n(263184))().default{getInitialState(){return{isFullScreen:window.outerWidth===window.screen.width&&window.outerHeight===window.screen.height}}constructor(){super(),this.updateFromElectronState=async()=>{const e=await o().fullscreen.get();void 0!==e&&this.setState({isFullScreen:e})},o().fullscreen.addListener(this.updateFromElectronState),this.updateFromElectronState()}}const r=new i},218689:(e,t,n)=>{n.d(t,{C:()=>o});const o=new(n(55558).Z)},697606:(e,t,n)=>{n.d(t,{Z:()=>i});class o extends(()=>n(263184))().default{getInitialState(){return{isHovered:!1}}}const i=new o},527308:(e,t,n)=>{n.d(t,{o:()=>g});n(667294);var o=()=>n(219727),i=()=>n(846550),r=()=>n(641772),a=()=>n(947387),s=()=>n(922003),l=()=>n(154186),d=()=>n(448419),c=()=>n(76225),u=n(785893);function g(e){const t=(0,o().Fy)(),n=t.isPhone,g=t.isElectronWindows,p=(0,c().aE)(),h=(0,i().yK)((e=>({dotsIcon:{width:18,height:18,fill:e.regularIconColor},moreIconPhone:{width:26},button:n?{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",paddingLeft:8,paddingRight:8,marginRight:2}:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:28,borderRadius:4},moreButtonStyle:n?p.popup:{width:250,maxHeight:"80vh"}})),[n,p.popup]);return(0,u.jsx)(d().ZP,{popupType:n?d().Z4.SlideUp:d().Z4.Popup,renderOrigin:e=>(0,u.jsx)(l().Z,{style:h.button,mobileFeedback:n,...e,children:n?(0,a().I)(h.moreIconPhone):(0,r().o)(h.dotsIcon)}),render:t=>(0,u.jsx)(s().V8,{mainMenuParent:t,teamStore:e.teamStore}),originGap:g?12:4,forceInitialInbound:!0,style:h.moreButtonStyle})}},38761:(e,t,n)=>{n.d(t,{I:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("arrowLeftRounded",{viewBox:"0 0 16 13",svg:(0,o.jsx)("path",{d:"M0.617188 6.85156C0.617188 6.60677 0.710938 6.39323 0.898438 6.21094L6.03906 1.07812C6.13281 0.984375 6.23177 0.914062 6.33594 0.867188C6.4401 0.820312 6.54948 0.796875 6.66406 0.796875C6.90365 0.796875 7.10417 0.875 7.26562 1.03125C7.42708 1.1875 7.50781 1.38281 7.50781 1.61719C7.50781 1.74219 7.48438 1.85677 7.4375 1.96094C7.39062 2.0599 7.32812 2.14844 7.25 2.22656L5.5 4L2.59375 6.66406L2.3125 6.15625L5.02344 5.99219H14.5156C14.776 5.99219 14.9844 6.07292 15.1406 6.23438C15.3021 6.39062 15.3828 6.59635 15.3828 6.85156C15.3828 7.10156 15.3021 7.30729 15.1406 7.46875C14.9844 7.625 14.776 7.70312 14.5156 7.70312H5.02344L2.3125 7.54688L2.59375 7.04688L5.5 9.70312L7.25 11.4688C7.32812 11.5469 7.39062 11.638 7.4375 11.7422C7.48438 11.8464 7.50781 11.9583 7.50781 12.0781C7.50781 12.3125 7.42708 12.5078 7.26562 12.6641C7.10417 12.8203 6.90365 12.8984 6.66406 12.8984C6.4349 12.8984 6.22917 12.8099 6.04688 12.6328L0.898438 7.49219C0.710938 7.3099 0.617188 7.09635 0.617188 6.85156Z"})})},127513:(e,t,n)=>{n.d(t,{r:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("arrowRightRounded",{viewBox:"0 0 16 13",svg:(0,o.jsx)("path",{d:"M15.3828 6.85156C15.3828 7.09635 15.2917 7.3099 15.1094 7.49219L9.95312 12.6328C9.77083 12.8099 9.5651 12.8984 9.33594 12.8984C9.09635 12.8984 8.89583 12.8203 8.73438 12.6641C8.57812 12.5078 8.5 12.3125 8.5 12.0781C8.5 11.9583 8.52083 11.8464 8.5625 11.7422C8.60938 11.638 8.67188 11.5469 8.75 11.4688L10.5 9.70312L13.4141 7.04688L13.6875 7.54688L10.9766 7.70312H1.48438C1.22396 7.70312 1.01302 7.625 0.851562 7.46875C0.695312 7.30729 0.617188 7.10156 0.617188 6.85156C0.617188 6.59635 0.695312 6.39062 0.851562 6.23438C1.01302 6.07292 1.22396 5.99219 1.48438 5.99219H10.9766L13.6875 6.15625L13.4141 6.66406L10.5 4L8.75 2.22656C8.67188 2.14844 8.60938 2.0599 8.5625 1.96094C8.52083 1.85677 8.5 1.74219 8.5 1.61719C8.5 1.38281 8.57812 1.1875 8.73438 1.03125C8.89583 0.875 9.09635 0.796875 9.33594 0.796875C9.45052 0.796875 9.5599 0.820312 9.66406 0.867188C9.76823 0.914062 9.86719 0.984375 9.96094 1.07812L15.1094 6.21094C15.2917 6.39323 15.3828 6.60677 15.3828 6.85156Z"})})},449148:(e,t,n)=>{n.d(t,{_:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("hamburgerMenu",{viewBox:"0 0 14 14",svg:(0,o.jsx)("path",{d:"M0,1.25 L14,1.25 L14,2.75 L0,2.75 L0,1.25 Z M0,6.25 L14,6.25 L14,7.75 L0,7.75 L0,6.25 Z M0,11.25 L14,11.25 L14,12.75 L0,12.75 L0,11.25 Z"})})},947387:(e,t,n)=>{n.d(t,{I:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("mobileTopbarMore",{viewBox:"0 0 26 26",svg:(0,o.jsx)("path",{d:"M4.56613 14.857C5.5918 14.857 6.42327 14.0255 6.42327 12.9998C6.42327 11.9742 5.5918 11.1427 4.56613 11.1427C3.54046 11.1427 2.70898 11.9742 2.70898 12.9998C2.70898 14.0255 3.54046 14.857 4.56613 14.857Z M20.2923 14.8571C21.318 14.8571 22.1495 14.0257 22.1495 13C22.1495 11.9743 21.318 11.1428 20.2923 11.1428C19.2667 11.1428 18.4352 11.9743 18.4352 13C18.4352 14.0257 19.2667 14.8571 20.2923 14.8571Z M12.429 14.8571C13.4546 14.8571 14.2861 14.0257 14.2861 13C14.2861 11.9743 13.4546 11.1428 12.429 11.1428C11.4033 11.1428 10.5718 11.9743 10.5718 13C10.5718 14.0257 11.4033 14.8571 12.429 14.8571Z"})})},467526:(e,t,n)=>{n.d(t,{N:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("notionLogoBlockMonoWhite",{viewBox:"0 0 381 396",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M235.875 0.868913L42.2191 15.1299L42.0716 15.1427C29.2402 16.2539 17.5452 21.4575 9.54377 31.7056C2.00788 41.3575 0 52.6286 0 61.8081V273.61C0 290.004 6.39474 302.931 16.1515 315.934L16.2408 316.053L61.92 375.319L61.9886 375.407C67.4438 382.345 74.2617 388.53 83.9092 392.051C92.764 395.282 101.803 395.406 109.715 395.029L109.86 395.022L335.006 381.426L335.127 381.417C347.547 380.535 360.717 376.889 370.12 366.212C379.335 355.75 380.958 342.967 380.958 333.359V95.0753C380.958 86.7983 378.898 78.5009 372.39 70.965C368.595 66.5704 363.178 62.6545 359.406 59.9283C358.887 59.5528 358.398 59.1998 357.95 58.8713L357.768 58.7383L295.914 15.2639C287.833 9.40276 279.51 4.11203 268.519 1.62123C258.306 -0.693516 247.597 -0.133719 235.875 0.868913ZM44.056 38.0569L237.701 23.7967C239.187 23.6692 240.605 23.5551 241.959 23.4557C262.28 21.965 268.533 23.8019 282.545 33.9806L344.359 77.4261C344.891 77.8156 345.404 78.1905 345.899 78.5522C354.904 85.1258 357.958 87.3558 357.958 95.0753V333.359C357.958 347.359 353.177 355.996 336.907 358.134C335.822 358.277 334.687 358.391 333.498 358.475L108.619 372.055C94.3416 372.736 87.5464 370.701 80.0693 361.191L34.5487 302.131C34.0389 301.451 33.5477 300.782 33.0748 300.123C25.9812 290.237 23 282.531 23 273.61V61.8081C23 60.2816 23.085 58.7867 23.2643 57.3368C23.7339 53.5393 24.8501 50.0501 26.7789 47.1082C26.814 47.0547 26.8493 47.0014 26.8849 46.9483C26.9254 46.8879 26.9662 46.8277 27.0074 46.7677C30.2624 42.0312 35.7039 38.7802 44.056 38.0569Z",fill:"white"}),(0,o.jsx)("path",{d:"M80.7599 84.2182C91.6206 93.0413 95.6948 92.3681 116.088 91.0076L308.351 79.463C312.429 79.463 309.038 75.3949 307.678 74.7188L275.747 51.6355C269.629 46.8857 261.478 41.446 245.855 42.8066L59.6871 56.3852C52.8978 57.0584 51.5415 60.453 54.2457 63.1742L80.7599 84.2182Z",fill:"white"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M92.3031 331.318V129.025C92.3031 120.201 95.021 116.125 103.169 115.44L323.977 102.546C331.466 101.868 334.857 106.623 334.857 115.44V316.376C334.857 325.208 333.495 332.686 321.261 333.359L109.964 345.585C97.7361 346.257 92.3031 342.191 92.3031 331.318ZM294.768 152.79C300.894 152.102 302.249 145.992 300.894 139.876L254.001 142.606C247.206 143.279 241.778 148.708 243.135 156.184L260.804 158.213V251.899L191.501 145.995L141.221 149.384C131.703 150.068 128.311 158.886 129.672 165.002L146.654 166.363V300.099L134.424 303.489C129.67 304.848 128.308 311.631 129.67 314.35L176.538 311.631C193.54 311.631 193.54 299.418 193.54 299.418L172.467 294.662V193.514L239.06 298.057C247.206 308.234 249.929 311.631 260.804 311.631C267.596 311.631 275.747 308.915 284.586 304.164V154.818L294.768 152.79Z",fill:"white"})]})})},628229:(e,t,n)=>{n.d(t,{s:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("templateGalleryNewLogo",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M12.0281 10H7.5V2.5H15V8.125H13.1125L12.0312 10H12.0281ZM6.25 11.25V6.875C3.83437 6.875 1.875 8.83437 1.875 11.25C1.875 13.6656 3.83437 15.625 6.25 15.625C8.66562 15.625 10.625 13.6656 10.625 11.25H6.25ZM14.9156 9.375H13.8344L10.0469 15.9375C10.2875 16.3531 10.3469 16.4594 10.5875 16.875H18.1656C18.4062 16.4594 18.4656 16.3531 18.7062 15.9375L14.9187 9.375H14.9156Z"})})},491040:(e,t,n)=>{n.d(t,{U:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("templateGalleryNewLogoColor",{viewBox:"0 0 20 20",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{fill:"#FFB110",fillRule:"evenodd",d:"M6.014 16.338a4.43 4.43 0 0 0 4.429-4.48H8.88c-.254 0-.512 0-.732-.018a2.3 2.3 0 0 1-.86-.226 2.24 2.24 0 0 1-.979-.979 2.3 2.3 0 0 1-.226-.86 10 10 0 0 1-.018-.731V7.48a4.44 4.44 0 0 1 4.179 3.111 4.431 4.431 0 0 0-8.659 1.318 4.43 4.43 0 0 0 4.43 4.43Z",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#097FE8",d:"M12.902 11.044c.463-.802.694-1.203.997-1.338a1.02 1.02 0 0 1 .828 0c.302.135.534.536.996 1.338l2.028 3.512c.463.802.695 1.203.66 1.532-.03.287-.18.548-.414.718-.267.194-.73.194-1.656.194h-4.057c-.925 0-1.388 0-1.656-.194a1.02 1.02 0 0 1-.414-.718c-.035-.329.197-.73.66-1.532z"}),(0,o.jsx)("path",{fill:"#F64932",fillRule:"evenodd",d:"M7.287 4.63c0-.571 0-.856.111-1.074.098-.192.254-.347.445-.445C8.061 3 8.346 3 8.916 3h4.379c.57 0 .855 0 1.073.111.191.098.347.253.445.445.11.218.11.503.11 1.073v3.852a2.24 2.24 0 0 0-1.521.109c-.46.204-.75.56-.94.83a13 13 0 0 0-.594.97l-.024.043-.118.203h-2.81c-.57 0-.855 0-1.073-.11a1 1 0 0 1-.445-.445c-.11-.218-.11-.503-.11-1.074V4.63Z",clipRule:"evenodd"})]})})}}]);