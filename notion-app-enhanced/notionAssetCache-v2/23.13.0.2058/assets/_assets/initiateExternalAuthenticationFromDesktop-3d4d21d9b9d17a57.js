"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[73871],{777868:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});n(267602),n(653476),n(241792),n(228244);var i=n(667294),o=()=>n(219727),r=()=>n(142735),s=()=>n(989478),a=()=>n(654737),l=()=>n(696459),d=()=>n(916673),c=()=>n(205228),u=()=>n(448755),h=()=>n(876822),p=()=>n(312578),f=n(785893);function g(e){const{redirectUri:t}=e,[n,g]=(0,i.useState)(!0),[v,x]=(0,i.useState)(!1),m=(0,o().O7)(),y=(0,r().VK)((()=>m.currentUser.loggedInUserIds),[m]),b=(0,r().VK)((()=>h().default.state.currentUserStore),[]),I=(0,r().VK)((()=>b?y.map((e=>b.getRecordModel({table:s().KJ,id:e}))).filter(l().$K):[]),[b,y]),U=(0,i.useCallback)((()=>{y.length!==I.length||v||g(!1)}),[y,I,v]);return(0,i.useEffect)((()=>{var e;if(!t)return void g(!1);const n=decodeURIComponent(t),i=d().gy(n)&&d().Qc(n);if(!i||(o=i,r=c().default,!o.host||"local"!==r.env&&!r.domainBaseUrl.includes(o.host)&&!a().S3[r.env].includes(o.host)))return void g(!1);var o,r;let s;if(null!==(e=i.path)&&void 0!==e&&e.includes("/eap/app")){const e=decodeURIComponent(n),t=d().Qc(e).query.notion_state,i=t&&JSON.parse(t);s=i?i.userId:void 0}else s=i.query.notion_user_id;I.some((e=>e.id===s))?(x(!0),window.location.href=n):U()}),[t,I,U]),(0,f.jsx)("div",{style:{height:"100%"},children:n?(0,f.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexWrap:"wrap",height:"100%"},children:(0,f.jsx)(p().Z,{legacySize:20})}):(0,f.jsx)(u().I,{route:{name:"initiateExternalAuthenticationFromDesktop"},publicPageData:void 0})})}}}]);