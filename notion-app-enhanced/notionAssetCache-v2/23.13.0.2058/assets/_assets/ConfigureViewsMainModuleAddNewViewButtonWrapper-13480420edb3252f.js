"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[51140,33705,36751],{140798:(e,t,n)=>{n.d(t,{Lg:()=>g,N:()=>p,aG:()=>u});var i=()=>n(139978),o=()=>n(306164),r=()=>n(269299),a=()=>n(903609),s=()=>n(6006),d=()=>n(384334),l=()=>n(662062),c=()=>n(876822);function u(e){const{environment:t,currentSpaceViewStore:n,...i}=e;if(!n.getModel())return;const o=!(0,l().q)(n)[e.feature];r().createAndCommit({userAction:"userHomeActions.toggleHomeFeature",environment:t,canUndo:!0,perform:t=>{r().applyOperation({store:n,operation:{pointer:n.pointer,path:["settings","personal_home","enabled_features"],command:"update",args:{[e.feature]:o}},transaction:t})}}),(0,d().cY)({environment:t,show:o,...i})}function p(e){let{environment:t,option:n,from:i,userAction:o}=e;const a=c().default.state.currentSpaceViewStore;if(!a)return!1;const l=a.getOnAppStartStore().getValue();return r().createAndCommit({userAction:o,environment:t,canUndo:!0,perform:e=>{r().applyOperation({store:a,operation:{pointer:a.pointer,path:["settings","on_app_start"],command:"set",args:n},transaction:e})}}),(0,s().pJ)({spaceView:a.getModel(),preference:n}),(0,d().BX)({environment:t,oldValue:l,newValue:n,from:i}),!0}function g(e){const{environment:t,selectedStore:n,currentSpaceViewStore:s,collectionContextStore:l}=e,c=l.collectionViewStore(),u=l.collectionStore(),p=l.collectionViewBlockStore();if(!(u&&c&&p&&s))return;const g=s.getTeamsStores(),h=n.table===o().e0?g.indexOf(n)+1:0,f=n.table===o().e0?n.id:void 0;r().createAndCommit({environment:t,userAction:"PersonalHomeTrendingPanel.setCollectionViewSourceTeamId",canUndo:!0,perform:e=>{r().applyOperation({store:c,operation:{pointer:{id:c.id,table:i().np},path:["format","collection_view_source","teamId"],command:"set",args:f},transaction:e}),(0,a().y)({environment:t,collectionViewBlockStore:p,collectionViewStore:c,collectionStore:u,collectionContextStore:l,isFullScreen:!1,isRootChild:!1,isInPeekRenderer:!1,viewsModuleContext:void 0,forceLocalQueryCollection:!1})}}),(0,d().Ay)({environment:t,teamId:f,index:h})}},41109:(e,t,n)=>{n.d(t,{n:()=>s});n(667294);var i=()=>n(828042),o=()=>n(73898),r=n(785893);const a=16/(0,o().O)("small");function s(e){const{variant:t}=e,n=function(e){return(0,o().O)(e)*a}(t);return(0,r.jsx)(r.Fragment,{children:(0,i().t)({width:n,pointerEvents:"none"})})}},785673:(e,t,n)=>{n.d(t,{sW:()=>v,h9:()=>S,fy:()=>h,D_:()=>w,Oc:()=>f});var i=n(667294),o=()=>n(142735),r=()=>n(846550),a=()=>n(828042),s=()=>n(524434),d=()=>n(41109),l=()=>n(576917),c=()=>n(993491);const u=n.p+"c9223887dcb57b7d.gif",p=n.p+"7e9cbd56b1eca7b9.gif";var g=n(785893);function h(e){const{variant:t,style:n,forceSparkles:i}=e,r=(0,o().Kw)(s().r4);let a;return a=!i&&r?(0,g.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,g.jsx)(l().P,{variant:t,shadowVariant:"light"})}):(0,g.jsx)(d().n,{variant:i?"small":t}),(0,g.jsx)("div",{style:n,children:a})}function f(e){const{variant:t}=e,n=(0,o().Kw)(s().r4),i=(0,r().yK)((()=>({sparklesWrapper:{borderRadius:"100%",border:"2px solid RGB(182,208,240)",marginRight:8,marginLeft:8,padding:4},badge:{position:"absolute",left:"27px",top:"-5px"},faceWrapper:{marginRight:8}})),[]);return n?(0,g.jsx)("div",{style:i.faceWrapper,children:(0,g.jsx)(m,{variant:t})}):(0,g.jsxs)("div",{style:i.sparklesWrapper,children:[(0,g.jsx)(d().n,{variant:t}),(0,g.jsx)("div",{style:i.badge,children:(0,g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"11",viewBox:"0 0 10 11",fill:"none",children:(0,g.jsx)("circle",{cx:"5",cy:"5.5",r:"4",fill:"#2383E2",stroke:"white",strokeWidth:"2"})})})]})}function m(e){const{variant:t}=e,n="dark"===(0,r().Fg)().mode,[o,a]=(0,i.useState)(!0);(0,i.useEffect)((()=>{setTimeout((()=>{a(!1)}),6e3)}),[]);const s=(0,i.useMemo)((()=>{if(o)return n?u:p}),[n,o]);return(0,g.jsx)("div",{style:{marginLeft:8},children:(0,g.jsx)(l().P,{variant:t,shadowVariant:"light",wrapWithPadding:!0,imgSource:s})})}function v(){const e=(0,o().Kw)(s().r4),t=(0,r().yK)((e=>({faceImgStyles:{width:20,height:20,background:e.assistantCornerButtonBackground,borderRadius:"50%",border:`1px solid ${e.tableDividerColor}`},sparklesIconStyle:{width:16,height:16,fill:e.icon.secondary}})),[]);return e?(0,g.jsx)("img",{style:t.faceImgStyles,src:c(),role:"presentation",alt:"Notion AI Face"}):(0,a().t)(t.sparklesIconStyle)}function S(){const e=(0,o().Kw)(s().r4),t=(0,r().yK)((e=>({faceImgStyles:{width:20,height:20,background:e.assistantCornerButtonBackground,borderRadius:"50%",border:`1px solid ${e.tableDividerColor}`},sparklesIconStyle:{width:16,height:16,fill:e.icon.secondary}})),[]);return e?(0,g.jsx)("img",{style:t.faceImgStyles,src:c(),role:"presentation",alt:"Notion AI Face"}):(0,a().t)(t.sparklesIconStyle)}function w(){const e=(0,o().Kw)(s().r4),t=(0,r().yK)((e=>({faceImgStyles:{width:20,height:20,background:e.assistantCornerButtonBackground,borderRadius:"50%",border:`1px solid ${e.tableDividerColor}`,marginLeft:-2,marginRight:2},sparklesIconStyle:{width:16,height:16,marginRight:2},sparklesIconWrapper:{borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center"}})),[]);return e?(0,g.jsx)("img",{style:t.faceImgStyles,src:c(),role:"presentation",alt:"Notion AI Face"}):(0,g.jsx)("div",{style:t.sparklesIconWrapper,children:(0,a().t)(t.sparklesIconStyle)})}},388573:(e,t,n)=>{n.d(t,{DF:()=>k,Ri:()=>M,Xi:()=>V,YF:()=>L,Zo:()=>P,bh:()=>T});n(670560),n(122556),n(582845),n(250570),n(533019),n(721473),n(788208),n(22624),n(267602),n(653476),n(30005);var i=()=>n(492788),o=()=>n(279865),r=()=>n(26970),a=()=>n(513670),s=()=>n(248825),d=()=>n(799454),l=()=>n(282662),c=()=>n(636340),u=()=>n(844085),p=()=>n(203927),g=()=>n(970105),h=()=>n(269299),f=()=>n(109757),m=()=>n(852465),v=()=>n(505462),S=()=>n(826955),w=()=>n(781022),y=()=>n(600785),C=()=>n(596308),b=()=>n(52566),I=()=>n(354988),_=()=>n(433908),x=()=>n(533492);function k(e){var t,n;const{environment:i,store:r,text:a,files:d,transaction:l,discussionLocation:c,property_id:u,blockStore:p}=e,h=m().GP(r);if(!h)return;const{filesToCreate:f,fileStoresToDelete:v}=function(e,t){const n=[],i=new Set;t.forEach((e=>{"local"===e.type&&e.file instanceof File?n.push(e.file):i.add(e.id)}));const o=m().le(e),r=o.filter((e=>e.getAlive()&&!i.has(e.id)));return{filesToCreate:n,fileStoresToDelete:r}}(r,d);P({commentStore:r,fileBlocks:v,transaction:l}),(0,I().J)({commentStore:r,files:f,environment:i,transaction:l});const S=m().zP(r);g().sO({environment:i,store:S,value:a,transaction:l}),(0,x().Q)(r,l);const y=null==r||null===(t=r.getParentStore())||void 0===t?void 0:t.getParentStore(),b=o().B7.includes(c),_=null==h||null===(n=h.getParentStore())||void 0===n?void 0:n.getNavigableBlockStore(),{property_type:k,collection_id:L,collection_view_id:T,view_type:V,collection_view_block_id:M}=(0,C().o)(u,p);s().zd(i,{from:c,comment_id:r.id,discussion_id:h.id,discussion_type:h.getType(),parent_block_id:h.getParentId(),parent_collection_id:null==y?void 0:y.getParentCollectionIdUpToTwoLevels(),...b&&{inbox_session_id:w().default.state.sessionId,notification_page_id:null==_?void 0:_.id},property_type:k,collection_id:L,collection_view_id:T,view_type:V,collection_view_block_id:M})}function L(e){var t,n;const{environment:i,commentStore:r,transaction:a,discussionLocation:d}=e,l=m().GP(r);if(!l)return;const u=m().ak(l),p=u.getValue();if(!p)return;P({commentStore:r,fileBlocks:m().le(r),transaction:a}),c().sW({store:r,transaction:a,data:{alive:!1}}),h().applyOperation({store:u,operation:{pointer:u.pointer,path:u.path,command:"listRemove",args:{id:r.id}},transaction:a}),(0===p.length||1===p.length&&p[0]===r.id)&&(0,_().d)({environment:i,discussionStore:l,transaction:a}),(0,x().Q)(r,a);const g=o().B7.includes(d),f=null==l||null===(t=l.getParentStore())||void 0===t?void 0:t.getNavigableBlockStore();s().k$(i,{from:e.discussionLocation,discussion_id:l.id,discussion_type:l.getType(),comment_id:r.id,parent_block_id:l.getParentId(),parent_collection_id:null===(n=l.getParentStore())||void 0===n?void 0:n.getParentCollectionIdUpToTwoLevels(),...g&&{inbox_session_id:w().default.state.sessionId,notification_page_id:null==f?void 0:f.id}})}function T(e){var t,n;const{environment:i,commentStore:r,discussionStore:a,transaction:d,discussionLocation:l}=e;c().sW({store:a,data:{resolved:!1},transaction:d});const u=o().B7.includes(l),p=null==a||null===(t=a.getParentStore())||void 0===t?void 0:t.getNavigableBlockStore();s().SU(i,{comment_id:r.id,discussion_id:a.id,from:e.discussionLocation,parent_block_id:a.getParentId(),parent_collection_id:null===(n=a.getParentStore())||void 0===n?void 0:n.getAssociatedCollectionId(),...u&&{inbox_session_id:w().default.state.sessionId,notification_page_id:null==p?void 0:p.id}})}function V(e){var t,n;const{environment:i,discussionStore:r,textValue:d,transaction:l,files:c,property_id:u,blockStore:p}=e,{id:g}=i.currentUser;if(!g)return;const h=f().dm(c);if(a().Xy(d,[])&&0===h.length)return;const m=(0,b().X)({discussionStore:r,text:d,files:h,environment:i,transaction:l}),v=o().B7.includes(e.discussionLocation),S=null===(t=r.getParentStore())||void 0===t?void 0:t.getNavigableBlockStore(),{property_type:y,collection_id:I,collection_view_id:_,view_type:x,collection_view_block_id:k}=(0,C().o)(u,p);s().d2(i,{from:e.discussionLocation,comment_id:m.id,discussion_id:r.id,discussion_type:r.getType(),parent_block_id:r.getParentId(),parent_collection_id:null==r||null===(n=r.getParentStore())||void 0===n?void 0:n.getParentCollectionIdUpToTwoLevels(),...v&&{inbox_session_id:w().default.state.sessionId,notification_page_id:null==S?void 0:S.id},property_type:y,collection_id:I,collection_view_id:_,view_type:x,collection_view_block_id:k})}function P(e){const{commentStore:t,fileBlocks:n,transaction:i}=e,o=m().ig(t);n.forEach((e=>{c().sW({store:e,data:{alive:!1},transaction:i}),l().Od({parentStore:o,childToRemoveStore:e,transaction:i})}))}async function M(e){var t;let{discussionStore:n,currentBlockStore:o,environment:a,analyticsFrom:s,currentEl:l}=e;if(!o)return null;if(!n.isDefined())return;function c(e){const t=(0,y().L)({discussionId:n.id,blockId:e});if(!t)return;const i=document.getElementsByClassName((0,r().dk)({discussionId:n.id}))[0];return i?u().bx({element:i,environment:a,scrollerContext:t.getScrollerContext(),vertical:{reveal:"top"},horizontal:{reveal:"closest"},animate:!0}):u().XW({environment:a,handle:t,vertical:{reveal:"top"},horizontal:{reveal:"closest"},animate:!0}),t.displaySelectionHalo(750),t}const g=(null===(t=n.getRecordStoreUIParent())||void 0===t?void 0:t.id)??n.getParentId();c(g)||(await p().Nz(o,[g]),await i().default.afterNextFlush(),c(g));const h=S().G.createChildStore(o,n.getParentPointer()),f=v().get(),m=null==f?void 0:f.commonAncestorContainer,w=!(null!=f&&f.collapsed)&&m&&(l===m||(null==l?void 0:l.contains(m)));d().Ib({environment:a,blockStore:h||o,analyticsFrom:s,discussionIds:[n.id],shouldFocusDiscussion:!w,recursivelyLoadAllDiscussions:!1})}},632599:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),o=()=>n(846550),r=()=>n(729201),a=()=>n(312578),s=n(785893);function d(e){let{loadingMessage:t}=e;const n=(0,o().Fg)(),d=(0,r().Z)(!0,400);return(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:d&&(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(a().Z,{}),t&&(0,s.jsx)("div",{style:{marginLeft:8,color:n.text.secondary},children:t})]})})}},442531:(e,t,n)=>{n.d(t,{HZ:()=>o,YD:()=>a,_7:()=>r,io:()=>i});const i=new(n(677559).Ss)("framer-motion",(async()=>await Promise.all([n.e(37358),n.e(7312),n.e(99464)]).then(n.bind(n,70194))));function o(e){return e.useAnimate()}function r(e){return e.useAnimation()}function a(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e.useInView(...n)}},244303:(e,t,n)=>{n.d(t,{a:()=>d});n(667294);var i=()=>n(816512),o=()=>n(696459),r=()=>n(634760),a=()=>n(981583),s=n(785893);function d(e){const{actor:t}=e,n={size:e.size??14,style:{marginRight:2,...e.style}};return(0,i().YU)(t)?(0,s.jsx)(r().Z,{botValue:t.asActor,...n}):(0,i().$S)(t)?(0,s.jsx)(a().Z,{userValue:t.asActor,...n}):(0,i().Iq)(t)?(0,s.jsx)(a().Z,{userValue:void 0,...n}):void(0,o().t1)(t)}},352701:(e,t,n)=>{n.d(t,{n:()=>p});n(670560),n(267602),n(470928);var i=()=>n(459264),o=()=>n(926724),r=()=>n(714230),a=()=>n(235484),s=()=>n(253335),d=()=>n(749826),l=()=>n(138912),c=()=>n(338855);const u=[a().U9,a().f3,a().mQ,a().Dv,a().Nw,a().nO];function p(e,t){if(!e)return[];const n=d().default.checkGate({gateName:"cron_connected_relation"}),p=d().default.checkGate({gateName:"connected_relation"}),g=d().default.checkGate({gateName:"slack_connected_relation"}),h=d().default.checkGate({gateName:"salesforce_connected_relation_database_actions_enabled"}),f=e.getDatabaseType()===o().Ym,m=l().default.state;if(!m.loaded)return[];const v=m.integrations,S={};if(!f){const e=v.find((e=>e.id===a().U9)),t=(0,s().GT)();var w;if(e)S[t.name]={name:t.name,pattern:i().x,integration:e,tooltipImage:{img:r().Z.images.tooltips.properties.githubSyncPullStatusPng,scale:.5},description:t.description,canOnlyAdminAuth:{disabledPropertyTooltipMessage:null===(w=t.canOnlyAdminAuth)||void 0===w?void 0:w.disabledPropertyTooltipMessage}}}const y=[];if(t&&(y.push(a().f3,a().mQ,a().Nw),g&&y.push(a().nO)),n&&y.push(a().Dv),y.forEach((e=>{const t=v.find((t=>t.id===e));if(null!=t&&t.info.original_url_patterns)for(const i of t.info.original_url_patterns){var n;null!==(n=i.additional_types)&&void 0!==n&&n.connectedRelation&&(S[i.name]||(S[i.name]={name:(0,c().ni)({pattern:i,integration:t}),pattern:i,integration:t}))}})),!p)return Object.values(S);for(const i of v)if(i.info.original_url_patterns&&t&&![...u,a().Ff].includes(i.id))for(const e of i.info.original_url_patterns){var C;null!==(C=e.additional_types)&&void 0!==C&&C.connectedRelation&&(S[e.name]||(i.id===a().aW&&h?S[i.name]={name:i.name,pattern:e,integration:i}:S[e.name]={name:(0,c().ni)({pattern:e,integration:i}),pattern:e,integration:i}))}return Object.values(S)}},228772:(e,t,n)=>{n.d(t,{r:()=>r});var i=()=>n(142735),o=()=>n(876822);function r(){return(0,i().VK)((()=>o().default.state.currentSpaceStore),[])}},356140:(e,t,n)=>{n.d(t,{W:()=>r});var i=()=>n(142735),o=()=>n(876822);function r(){const{currentSpaceStore:e}=(0,i().VK)((()=>o().default.state),[]);return null==e?void 0:e.id}},895513:(e,t,n)=>{n.r(t),n.d(t,{ConfigureViewsMainModuleAddNewViewButtonWrapper:()=>j});n(267602),n(653476),n(241792);var i=n(667294),o=()=>n(492788),r=()=>n(219727),a=()=>n(142735),s=()=>n(846550),d=()=>n(263184),l=()=>n(226413),c=()=>n(766933),u=()=>n(752778),p=()=>n(788860),g=()=>n(696459),h=()=>n(250303),f=()=>n(139224),m=()=>n(888686),v=()=>n(427886),S=()=>n(716025),w=()=>n(827973),y=()=>n(448419),C=()=>n(198829),b=()=>n(255577),I=()=>n(967092),_=()=>n(388284),x=()=>n(347577),k=()=>n(352230),L=()=>n(998901),T=()=>n(104088),V=()=>n(754664),P=()=>n(162178),M=n(785893);function j(e){let{renderOrigin:t,onClose:n}=e;const[o,s]=(0,i.useState)(!1),c=(0,i.useRef)(null),p=(0,r().O7)(),{layoutStore:h}=(0,P().J9)(),m=(0,i.useContext)(P().eK),S=null==m?void 0:m.moduleStateByIdStore,w=(0,a().VK)((()=>{var e;const t=h.getModuleByType("viewsMain");if(t)return null==S||null===(e=S.get(t.id))||void 0===e?void 0:e.collectionContextStore}),[h,S]),C=(0,i.useCallback)(((e,t)=>{w&&((0,v().f)({environment:p,collectionContextStore:w,collectionViewId:e.id,isFullScreen:!1,isRootChild:!1,isInPeekRenderer:!1}),f().r$({collectionContextStore:w,collectionSettingsStore:w.settingsStore,closeOnEscape:!1}))}),[p,w]),b=(0,a().VK)((()=>{var e;const t=null===(e=h.getParentStore())||void 0===e?void 0:e.getModel();if((null==t?void 0:t.table)===u().vF)return t}),[h]),I=(0,a().VK)((()=>{const e=null==b?void 0:b.getNormalizedSchema();return Object.entries(e??{}).filter((e=>{let[t,n]=e;return(0,g().$K)(n)&&(0,l().p_)(n)&&n.property}))}),[b]),_=(0,i.useCallback)((()=>{s(!1),null==n||n()}),[n]),x=(0,i.useCallback)((()=>{s(!0)}),[s]),k=(0,i.useMemo)((()=>d().default.createValue({open:!1,stack:[]},{name:"newViewsCreationMenuCollectionSettingsStore"})),[]),V=(0,i.useCallback)((()=>{const e=null==w?void 0:w.viewsModuleContextStore.getViewsModule();e&&f().wl({collectionSettingsStore:k,item:{type:"selectViewsModuleSource",module:e}})}),[null==w?void 0:w.viewsModuleContextStore,k]),j=(0,i.useCallback)((()=>{f().E3({collectionSettingsStore:k})}),[k]),O=(0,i.useCallback)((()=>(0,M.jsx)(B,{setIsOpen:s,onClose:n,relations:I,setCurrentViewPointer:C,collectionModel:b,viewsMainModuleCollectionContextStore:w,openViewsCreationPopup:V})),[n,I,C,b,w,V]),W=(0,i.useCallback)((e=>t(e)),[t]);return w&&b?(0,M.jsxs)("div",{ref:c,children:[(0,M.jsx)(y().ZP,{alignmentToOrigin:L().Alignment.Center,popupType:T().k.Popup,onClose:_,onClick:x,open:o,render:O,renderOrigin:W,disablePopup:!0}),(0,M.jsx)(A,{buttonRef:c,viewsMainModuleCollectionContextStore:w,viewsCreationMenuCollectionSettingsStore:k,openViewsCreationPopup:V,closeViewsCreationPopup:j})]}):null}function B(e){let{setIsOpen:t,onClose:n,relations:a,setCurrentViewPointer:d,collectionModel:l,viewsMainModuleCollectionContextStore:u,openViewsCreationPopup:g}=e;const{layoutStore:f,setModuleSelection:m}=(0,P().J9)(),v=(0,r().O7)(),y=(0,s().Fg)(),I=(0,i.useMemo)((()=>{if(0!==a.length)return{key:0,items:[],render:e=>(0,M.jsx)(_().Z,{...e,title:(0,M.jsx)(p()._H,{...O.relatedToDatabase,values:{database:null==l?void 0:l.getName()}}),children:a.map((e=>{let[t,i]=e;return(0,M.jsx)(w().Z,{title:null==i?void 0:i.name,icon:(0,M.jsx)(c().ZP,{size:16,theme:y,icon:null==i?void 0:i.icon,type:"relation"}),focused:!1,onClick:()=>{if(!u)return;const{viewsMainModule:e,collectionViewPointer:r}=(0,V().pd)({environment:v,layoutStore:f,relationPropertyId:(null==i?void 0:i.property)??t,targetCollectionPointer:(null==i?void 0:i.collection_pointer)??(null==l?void 0:l.pointer),viewName:null==i?void 0:i.name,viewIcon:null==i?void 0:i.icon});e&&m({type:"existing_module",moduleId:e.id,isDragging:!1}),r&&(o().default.afterNextFlush((()=>{d(r,null==e?void 0:e.id),null==n||n()})),u&&h().xb({environment:v,view_type:"table",collectionContextStore:u}))}},t)}))})}}),[u,l,v,f,n,a,d,m,y]),x=(0,i.useMemo)((()=>{const e=a.length>0;return{key:1,items:[],render:t=>(0,M.jsx)(_().Z,{...t,topBorder:e,children:(0,M.jsx)(w().Z,{title:(0,M.jsx)(p()._H,{...O.linkExistingDatabase}),icon:(0,M.jsx)(S().F,{color:"regular",viewType:"table"}),onClick:()=>{g()},focused:!1},"link_existing_database")})}}),[g,a.length]);return(0,M.jsx)(C().Z,{menuType:k().o.Popup,onClick:()=>t(!1),width:270,paddingBottom:2,children:(0,M.jsx)(b().ZP,{initialFocus:void 0,sections:[I,x].filter((e=>void 0!==e)),type:b().iW.Vertical})})}function A(e){var t;let{buttonRef:n,viewsMainModuleCollectionContextStore:i,viewsCreationMenuCollectionSettingsStore:o,closeViewsCreationPopup:r}=e;const s=(0,a().VK)((()=>o.state.open),[o]);return(0,M.jsx)(I().ZP,{open:s,popupType:T().k.Popup,render:()=>(0,M.jsx)(m().A,{context:x().HV.TopbarFilterPopup,collectionContextStore:i,collectionSettingsStore:o,hideDesktopHeader:!0}),originRect:null===(t=n.current)||void 0===t?void 0:t.getBoundingClientRect(),alignmentToOrigin:L().Alignment.Center,placementToOrigin:L().Placement.Bottom,enableOutsideClickDismiss:!0,originGap:4,onDismiss:()=>{r()}})}const O=(0,p().vU)({relatedToDatabase:{defaultMessage:"Related to {database}",id:"pageLayout.configureViews.relatedToDatabase"},linkExistingDatabase:{defaultMessage:"Link existing database",id:"pageLayout.configureViews.linkAnExistingDatabase"},newView:{defaultMessage:"New view",id:"database.viewSettings.createViewTab.newView"},newRelation:{defaultMessage:"New relation",id:"pageLayout.configureViews.newRelation"},back:{defaultMessage:"Back",id:"collectionsSettingsMenu.back"}})},420406:(e,t,n)=>{n.d(t,{$:()=>i});function i(e,t){t.route.name;return!1}},341643:(e,t,n)=>{n.d(t,{DW:()=>S,IG:()=>f,J4:()=>v,hZ:()=>m,q9:()=>h,qq:()=>w,s4:()=>g});var i=n(667294),o=()=>n(219727),r=()=>n(142735),a=()=>n(801812),s=()=>n(677559),d=()=>n(690664),l=()=>n(105649),c=()=>n(291335),u=()=>n(590972),p=()=>n(420406);const g=new(s().Ss)("PerformanceToolbar",(()=>Promise.all([n.e(62743),n.e(5242),n.e(4014),n.e(20919),n.e(93843),n.e(66283),n.e(54194)]).then(n.bind(n,674207)))),h=(0,s().kF)(g,(e=>e.PerformanceToolbar)),f=(0,s().kF)(g,(e=>e.PerformanceToolbarSettings));function m(){const e=(0,o().O7)();return(0,r().VK)((()=>(0,p().$)(e,e.RouterStore.state)),[e])}function v(){const e=(0,o().O7)(),t=y("PerformanceToolbarStore"),n=y("isPerformanceToolbarVisible");return(0,r().VK)((()=>!(!t||!n)&&n(e,e.RouterStore.state,t.state)),[n,e,t])}function S(){const e=y("PerformanceToolbarStore");return(0,r().VK)((()=>!!e&&e.state.isPerformanceToolbarMounted),[e])}function w(){const e=(0,o().O7)(),t=y("createPerformanceToolbarMouseListeners"),n=y("PerformanceToolbarStore"),{sidebarExpanded:a,sidebarWidth:s,secondarySidebarExpanded:p,secondarySidebarWidth:g,updateSidebarExpanded:h,updateSidebarWidth:f}=(0,r().VK)((()=>({sidebarExpanded:c().sidebarExpandedStore.state,sidebarWidth:c().sidebarWidthStore.state,secondarySidebarExpanded:l().default.isOpen(),secondarySidebarWidth:d().default.getWidth(),updateSidebarExpanded:u().default.state.expanded,updateSidebarWidth:u().default.state.width})),[]);return(0,i.useEffect)((()=>{if(n&&t)return t(e,(e=>n.update((t=>({...t,isMouseNearPerformanceToolbar:e})))),a,s,p,g,h,f)}),[t,e,n,a,s,p,g,h,f])}function y(e){const t=m(),[{value:n}]=(0,a().r5)((()=>t?g.load().then((t=>t[e])):Promise.resolve(void 0)),[e,t]);return n}},662062:(e,t,n)=>{n.d(t,{q:()=>o});const i={greeting:!0,tasks:!1,tips:!1,templates:!1,calendar:!1,custom_db:!1};function o(e){const t=(null==e?void 0:e.getHomeEnabledFeatures())??{};return{...i,...t}}},719157:(e,t,n)=>{n.d(t,{D:()=>r});var i=()=>n(142735),o=()=>n(749826);function r(e){const{experimentId:t,groups:n,disableExposureLogging:r}=e,a=function(e){const{experimentId:t,disableExposureLogging:n,defaultGroup:r}=e;return(0,i().VK)((()=>o().default.getEligibleGroup({experimentId:t,defaultGroup:r??"control",disableExposureLogging:n})),[t,n,r])}({experimentId:t,disableExposureLogging:r});return n[a]}},385337:(e,t,n)=>{n.d(t,{R:()=>m});n(667294);var i=()=>n(219727),o=()=>n(142735),r=()=>n(846550),a=()=>n(788860),s=()=>n(568017),d=()=>n(696459),l=()=>n(707513),c=()=>n(946563),u=()=>n(654133),p=()=>n(998901),g=()=>n(876822),h=()=>n(965014),f=n(785893);function m(e){let{upsell:t,mobileStyle:n,desktopStyle:m,analyticsName:v,onClick:S,disableTooltip:w}=e;const y=(0,r().Fg)(),C=(0,i().O7)(),{device:b}=C,I=(0,o().VK)((()=>{const{currentSpaceStore:e}=g().default.state;return null==e?void 0:e.canAdmin()}),[]),_=(0,o().VK)((()=>function(e,t){if("product"!==e.type)return{};switch(e.product){case"plus":case"business":case"enterprise":return{color:t.blueColor,background:"light"===t.mode?s().ZP.diffBackground:"rgba(35, 131, 226, 0.2)",fontWeight:l().Ue.medium};default:return{}}}(t,y)),[t,y]);if("product"!==t.type)return null;if(b.isMobileNative)return null;const x=(()=>{switch(t.product){case"personal":return(0,f.jsx)(a()._H,{defaultMessage:"Personal Pro",id:"upgradeButton.personal.text"});case"plus":return(0,f.jsx)(a()._H,{defaultMessage:"Plus ↗",id:"upgradeButton.plus.textWithArrow"});case"business":return(0,f.jsx)(a()._H,{defaultMessage:"Business ↗",id:"upgradeButton.business.textWithArrow"});case"enterprise":return(0,f.jsx)(a()._H,{defaultMessage:"Enterprise ↗",id:"upgradeButton.enterprise.textWithArrow"});case"ai":return(0,f.jsx)(a()._H,{defaultMessage:"AI ↗",id:"upgradeButton.ai.textWithArrow"});case"sites_custom_hostnames":return(0,f.jsx)(a()._H,{defaultMessage:"Custom Hostnames ↗",id:"upgradeButton.sites_custom_hostnames.textWithArrow"});default:(0,d().t1)(t.product)}})();return b.isMobile||!I?(0,f.jsx)(c().Z,{mobileStyle:n,children:x}):(0,f.jsx)(u().Z,{delayThreshold:120,disableTooltip:w,placement:p().Placement.Bottom,renderTooltip:()=>(0,f.jsx)("div",{style:{maxWidth:500},children:(0,f.jsx)(a()._H,{defaultMessage:"Upgrade to use this feature.",id:"premiumFeatureUpgradeButton.upgrade.tooltip"})}),originGap:6,render:e=>(0,f.jsx)(c().Z,{desktopStyle:m,innerStyle:_,onClick:e=>function(e,t,n,i,o){h().y(i,{from:t,upsell:n}),o&&o(e)}(e,v,t,C,S),...e,children:x})})}},188296:(e,t,n)=>{n.d(t,{Z:()=>u});n(667294);var i=()=>n(142735),o=()=>n(122792),r=()=>n(788860),a=()=>n(568017),s=()=>n(707513),d=()=>n(946563),l=()=>n(965014),c=n(785893);const u=function(e){let{subscriptionTier:t,mobileStyle:u,desktopStyle:p,analyticsName:g,onClick:h,disableTooltip:f}=e;const m=(0,n(846550).Fg)(),v=(0,n(219727).O7)(),{device:S}=v,w=(0,i().VK)((()=>{const{currentSpaceStore:e}=n(876822).default.state;return null==e?void 0:e.canAdmin()}),[]),y=(0,i().VK)((()=>function(e,t){switch(e){case"plus":case"business":case"enterprise":return{color:t.blueColor,background:"light"===t.mode?a().ZP.diffBackground:"rgba(35, 131, 226, 0.2)",fontWeight:s().Ue.medium};default:return{}}}(t,m)),[t,m]);if(S.isMobileNative)return null;let C;return"personal"===t?C=(0,c.jsx)(r()._H,{defaultMessage:"Personal Pro",id:"upgradeButton.personal.text"}):(0,o().eR)(t)?C=(0,c.jsx)(r()._H,{defaultMessage:"Plus ↗",id:"upgradeButton.plus.textWithArrow"}):(0,o().NG)(t)?C=(0,c.jsx)(r()._H,{defaultMessage:"Business ↗",id:"upgradeButton.business.textWithArrow"}):(0,o().wP)(t)?C=(0,c.jsx)(r()._H,{defaultMessage:"Enterprise ↗",id:"upgradeButton.enterprise.textWithArrow"}):(0,n(696459).t1)(t),S.isMobile||!w?(0,c.jsx)(d().Z,{mobileStyle:u,children:C}):(0,c.jsx)(n(654133).Z,{delayThreshold:120,disableTooltip:f,placement:n(998901).Placement.Bottom,renderTooltip:()=>(0,c.jsx)("div",{style:{maxWidth:500},children:(0,c.jsx)(r()._H,{defaultMessage:"Upgrade to use this feature.",id:"upgradeButton.upgrade.tooltip"})}),originGap:6,render:e=>(0,c.jsx)(d().Z,{desktopStyle:p,innerStyle:y,onClick:e=>function(e,t,n,i,o){l().y(i,{from:t,upsell:{type:"product",product:n,limit:{type:"none"}}}),o&&o(e)}(e,g,t,v,h),...e,children:C})})}},814866:(e,t,n)=>{n.d(t,{Hi:()=>f,c_:()=>c,mS:()=>g,oD:()=>p,r3:()=>h});var i=()=>n(219727),o=()=>n(142735),r=()=>n(506347),a=()=>n(342792),s=()=>n(696459),d=()=>n(497065),l=()=>n(429725);const c={route:{type:"configure"},chatThreadId:void 0};function u(e){const{RouterStore:t}=e;if("page"!==t.state.route.name)return;const{workflowViewType:n,workflowViewKey:i,chatThreadId:o}=t.state.route;return function(e){const{workflowViewType:t,workflowViewKey:n}=e,i=(0,a().xP)(e.chatThreadId);switch(t){case"configure":case"debug":case"preview":case"runtime_actor":return{route:{type:t},chatThreadId:i};case"function":case"module":case"trigger":case"view_settings":case"view":return n?{route:{type:t,key:n},chatThreadId:i}:c;case"chat":return{route:{type:"chat",transcriptId:i},chatThreadId:i};case"runs":return{route:{type:"runs",runId:(0,a().xP)(n)},chatThreadId:i};case"test":if(!n)return c;const[e,o]=n.split(",");return e&&o?{route:{type:"test",name:o,functionKey:e},chatThreadId:i}:c;default:return}}({workflowViewType:n,workflowViewKey:i,chatThreadId:o})}function p(){const e=(0,i().O7)();return(0,o().VK)((()=>u(e)),[e])}function g(e){const{store:t,environment:n,navigationState:i}=e,o=u(n)??c,a={...o,...i};if(a===o)return;const{workflowViewType:p,workflowViewKey:g,chatThreadId:h}=function(e){const{route:t,chatThreadId:n}=e,i=t.type;switch(i){case"configure":case"debug":case"preview":case"runtime_actor":return{workflowViewType:i,chatThreadId:n};case"function":case"module":case"trigger":case"view_settings":case"view":return{workflowViewType:i,workflowViewKey:t.key,chatThreadId:n};case"chat":return{workflowViewType:i,workflowViewKey:t.transcriptId,chatThreadId:n};case"runs":return{workflowViewType:i,workflowViewKey:t.runId,chatThreadId:n};case"test":return{workflowViewType:i,workflowViewKey:`${t.functionKey},${t.name}`,chatThreadId:n};default:(0,s().t1)(i)}}(a),f=(0,l().Hu)({store:t,pageVisitSource:r().tY.Workflows,workflowViewType:p,workflowViewKey:g,chatThreadId:h});d().c4({environment:n,url:f})}function h(e){const{store:t,environment:n}=e,i=(0,l().Hu)({store:t,pageVisitSource:r().tY.Workflows});d().c4({environment:n,url:i})}function f(e){return void 0!==u(e)}},280210:(e,t,n)=>{n.d(t,{U_:()=>b,f6:()=>_,ii:()=>I});n(821057),n(409045),n(453627),n(994774),n(995194),n(520522),n(200082),n(379976),n(724224),n(761121),n(637133),n(241792);var i=n.n(n(402568)),o=()=>n(513670),r=()=>n(326966),a=()=>n(431595),s=()=>n(24945),d=()=>n(255933);const l={version:8,notion_version:0,variant:2},c={version:8,notion_version:1,variant:2},u=0,p=1,g=6,h=8,f=10,m=Date.UTC(2024,0,1);function v(e,t){if(e)return t[u]=255,t[u+1]=240|15&t[u+1],t;const n=Math.floor(((new Date).getTime()-m)/r().A0);if(n>=4096||n<0)throw new Error("Invalid offsetInDays.");return t[u]=n>>4,t[u+1]=n<<4&240|15&t[u+1],t}function S(e,t){if(e>=2**36||e<0)throw new Error("Invalid spaceShortId.");t[p]=240&t[p]|e/2**32&15;for(let n=0;n<4;n++)t[p+1+n]=e/2**(24-8*n)&255;return t}function w(e,t){const n=e?1:0;return t[g]=l.version<<4&240|l.notion_version<<1&14|1&n,t[h]=l.variant<<6&192|63&t[h],t}function y(e,t){if("block"===e)return t[f]=(0,s().ym)(e)|63&t[f],t;const n=(0,s().ym)(e);return t[f]=n>>8&127,t[f+1]=255&n,t}function C(e,t){const n=(0,s().Nq)(e);return t[f]=127&n|128&t[f],t}function b(e,t,n,i){const o=new Uint8Array(16),r=globalThis.crypto.getRandomValues(o);return n!==d().bx&&v(e,r),S(t,r),w(i,r),y(n,r),L(r)}function I(e,t,n,i){return b(e,t,n,i)}function _(e,t,n){return x(e,t,n)}function x(e,t,n){const r=i()(n),d=o().yo(r,2).map((e=>parseInt(e.join(""),16)));if((0,s().LV)(t)){if(void 0===e)throw new(a().D3)(`Deterministic ID for '${t}' must specify a space short id`)}else if(void 0!==e)throw new(a().D3)(`Deterministic ID for '${t}' should not provide a space short id`);const l=new Uint8Array(d);return e&&S(e,l),C(t,l),function(e){e[g]=240&c.version<<4|14&c.notion_version<<1|1&e[g],e[h]=192&c.variant<<6|63&e[h]}(l),L(l)}const k=new Array(256).fill(0).map(((e,t)=>t.toString(16).padStart(2,"0")));function L(e){let t=0;return k[e[t++]]+k[e[t++]]+k[e[t++]]+k[e[t++]]+"-"+k[e[t++]]+k[e[t++]]+"-"+k[e[t++]]+k[e[t++]]+"-"+k[e[t++]]+k[e[t++]]+"-"+k[e[t++]]+k[e[t++]]+k[e[t++]]+k[e[t++]]+k[e[t++]]+k[e[t++]]}},127513:(e,t,n)=>{n.d(t,{r:()=>o});n(667294);var i=n(785893);const o=(0,n(827282).IU)("arrowRightRounded",{viewBox:"0 0 16 13",svg:(0,i.jsx)("path",{d:"M15.3828 6.85156C15.3828 7.09635 15.2917 7.3099 15.1094 7.49219L9.95312 12.6328C9.77083 12.8099 9.5651 12.8984 9.33594 12.8984C9.09635 12.8984 8.89583 12.8203 8.73438 12.6641C8.57812 12.5078 8.5 12.3125 8.5 12.0781C8.5 11.9583 8.52083 11.8464 8.5625 11.7422C8.60938 11.638 8.67188 11.5469 8.75 11.4688L10.5 9.70312L13.4141 7.04688L13.6875 7.54688L10.9766 7.70312H1.48438C1.22396 7.70312 1.01302 7.625 0.851562 7.46875C0.695312 7.30729 0.617188 7.10156 0.617188 6.85156C0.617188 6.59635 0.695312 6.39062 0.851562 6.23438C1.01302 6.07292 1.22396 5.99219 1.48438 5.99219H10.9766L13.6875 6.15625L13.4141 6.66406L10.5 4L8.75 2.22656C8.67188 2.14844 8.60938 2.0599 8.5625 1.96094C8.52083 1.85677 8.5 1.74219 8.5 1.61719C8.5 1.38281 8.57812 1.1875 8.73438 1.03125C8.89583 0.875 9.09635 0.796875 9.33594 0.796875C9.45052 0.796875 9.5599 0.820312 9.66406 0.867188C9.76823 0.914062 9.86719 0.984375 9.96094 1.07812L15.1094 6.21094C15.2917 6.39323 15.3828 6.60677 15.3828 6.85156Z"})})},214993:(e,t,n)=>{n.d(t,{Z:()=>o});n(667294);var i=n(785893);const o=(0,n(827282).IU)("arrowUp",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M8 14.5586C8.44434 14.5586 8.74512 14.251 8.74512 13.7998V5.30957L8.69043 3.83984L10.4951 5.84961L12.0469 7.38086C12.1836 7.51074 12.3682 7.59961 12.5801 7.59961C12.9902 7.59961 13.291 7.28516 13.291 6.86816C13.291 6.66992 13.2158 6.49219 13.0586 6.32812L8.55371 1.81641C8.40332 1.66602 8.20508 1.57715 8 1.57715C7.79492 1.57715 7.59668 1.66602 7.44629 1.81641L2.94141 6.32812C2.78418 6.49219 2.70898 6.66992 2.70898 6.86816C2.70898 7.28516 3.0166 7.59961 3.42676 7.59961C3.63184 7.59961 3.82324 7.51074 3.95312 7.38086L5.50488 5.84961L7.30957 3.83301L7.25488 5.30957V13.7998C7.25488 14.251 7.5625 14.5586 8 14.5586Z"})})},628330:(e,t,n)=>{n.d(t,{k:()=>o});n(667294);var i=n(785893);const o=(0,n(827282).IU)("collectionNumberType",{viewBox:"0 0 14 14",svg:(0,i.jsx)("path",{d:"M1.73457,9.90096 L1.73457,4.54339 L1.65064,4.54339 L0,5.68112 L0,4.37087 L1.73923,3.17252 L3.14274,3.17252 L3.14274,9.90096 L1.73457,9.90096 Z M3.59633,5.22882 C3.59633,3.90925 4.62215,3 6.0956,3 C7.52242,3 8.43633,3.82532 8.43633,4.96304 C8.43633,5.75106 8.09128,6.29195 6.97221,7.34108 L5.57337,8.64667 L5.57337,8.7306 L8.52959,8.7306 L8.52959,9.90096 L3.6756,9.90096 L3.6756,8.91711 L6.03498,6.66031 C6.87429,5.85364 7.05614,5.5459 7.05614,5.0936 C7.05614,4.55738 6.67379,4.13306 6.01633,4.13306 C5.3309,4.13306 4.90192,4.58536 4.90192,5.22882 L3.59633,5.22882 Z M10.4889,6.96805 L10.4889,5.93757 L11.3282,5.93757 C11.967,5.93757 12.4007,5.55988 12.4007,5.00967 C12.4007,4.50609 12.0043,4.12374 11.3469,4.12374 C10.6661,4.12374 10.2464,4.47345 10.1998,5.07495 L8.89888,5.07495 C8.94551,3.83464 9.90139,3 11.4168,3 C12.9089,3 13.7389,3.82532 13.7342,4.80917 C13.7296,5.62516 13.2166,6.16139 12.4939,6.33857 L12.4939,6.42717 C13.4311,6.56239 14,7.15923 14,8.05915 C14,9.23884 12.8903,10.0735 11.3702,10.0735 C9.8501,10.0735 8.81495,9.24351 8.75434,7.97056 L10.1019,7.97056 C10.1439,8.53942 10.6288,8.90312 11.3515,8.90312 C12.0649,8.90312 12.5639,8.51611 12.5639,7.93326 C12.5639,7.33642 12.0976,6.96805 11.3422,6.96805 L10.4889,6.96805 Z"})})},644760:(e,t,n)=>{n.d(t,{A:()=>o});n(667294);var i=n(785893);const o=(0,n(827282).IU)("cubeOutline",{viewBox:"0 0 14 16",svg:(0,i.jsx)("path",{d:"M1.01855 11.96C0.694987 11.7777 0.448893 11.568 0.280273 11.3311C0.116211 11.0895 0.0341797 10.7272 0.0341797 10.2441V4.7207C0.0341797 4.35612 0.104818 4.05306 0.246094 3.81152C0.38737 3.56543 0.610677 3.35579 0.916016 3.18262L5.72168 0.489258C6.14551 0.252279 6.57161 0.133789 7 0.133789C7.42839 0.133789 7.85221 0.252279 8.27148 0.489258L13.0771 3.18262C13.3825 3.35579 13.6058 3.56543 13.7471 3.81152C13.8883 4.05306 13.959 4.35612 13.959 4.7207V10.2441C13.959 10.7272 13.877 11.0895 13.7129 11.3311C13.5488 11.568 13.3027 11.7777 12.9746 11.96L7.68359 14.9268C7.22786 15.1774 6.76986 15.1774 6.30957 14.9268L1.01855 11.96ZM1.75684 10.9072L6.36426 13.5117V8.0293L1.25098 5.14453V10.1211C1.25098 10.2988 1.28743 10.4492 1.36035 10.5723C1.43783 10.6953 1.56999 10.807 1.75684 10.9072ZM12.2363 10.9072C12.4232 10.807 12.5531 10.6953 12.626 10.5723C12.7035 10.4492 12.7422 10.2988 12.7422 10.1211V5.14453L7.62891 8.0293V13.5117L12.2363 10.9072ZM7 6.9082L12.0518 4.07812L7.73145 1.64453C7.24837 1.36654 6.75846 1.36654 6.26172 1.64453L1.94824 4.07812L7 6.9082Z"})})},749166:(e,t,n)=>{n.d(t,{w:()=>o});n(667294);var i=n(785893);const o=(0,n(827282).IU)("templates",{viewBox:"0 0 20 20",svg:(0,i.jsxs)("g",{children:[(0,i.jsx)("path",{d:"M6.39733 5.67853C5.89764 5.50234 5.36002 5.40649 4.8 5.40649C2.14904 5.40649 0 7.55432 0 10.2038C0 12.8533 2.14904 15.0011 4.8 15.0011C6.52165 15.0011 8.0316 14.0952 8.87867 12.7343L5.26487 12.0975L6.39733 5.67853Z"}),(0,i.jsx)("path",{d:"M17.3126 3.66609L7.85843 2L6.19141 11.4489L10.6545 12.2354L14.3998 5.81854L16.3449 9.15116L17.3126 3.66609Z"}),(0,i.jsx)("path",{d:"M8.80078 17L14.4008 7.4054L20.0008 17H8.80078Z"})]})})},46581:(e,t,n)=>{n.d(t,{U:()=>a});var i=n.n(n(389539)),o=()=>n(280210),r=()=>n(956057);class a{constructor(e){this.environmentName=void 0,this.mainShortId=void 0,this.getSettings=void 0,this.isServerOriginated=void 0,this.mapSpaceIdToShortId=void 0,this.idCreatorLogger=void 0,this.environmentName=e.environmentName,this.mainShortId=n(631871).jF[this.environmentName],this.getSettings=e.getSettings,this.isServerOriginated=e.isServerOriginated,this.mapSpaceIdToShortId=e.mapSpaceIdToShortId,this.idCreatorLogger=e.idCreatorLogger??(()=>{})}idInMain(e){const{enableTestDateOffset:t,enableIdSchema:i}=this.getSettings();return i&&e!==n(363777).uK?(this.idCreatorLogger(void 0,e,t?"id_schema_test":"id_schema"),(0,o().ii)(t,this.mainShortId,e,this.isServerOriginated)):this.legacyId(e,"disabled")}pointerInMain(e){return{table:e,id:this.idInMain(e)}}async idWithSpaceId(e,t){const{enableTestDateOffset:n,enableIdSchema:r}=this.getSettings();if(!r||"space"===t)return this.legacyId(t,"disabled");const a=this.mapSpaceIdToShortId(e),s=i().types.isPromise(a)?await a:a;return s?(this.idCreatorLogger(e,t,n?"id_schema_test":"id_schema"),(0,o().U_)(n,s,t,this.isServerOriginated)):this.legacyId(t,"missing_short_id")}async pointerWithSpaceId(e,t){return{table:t,spaceId:e,id:await this.idWithSpaceId(e,t)}}idWithSpaceShortId(e,t){const{enableTestDateOffset:n,enableIdSchema:i}=this.getSettings();return i&&"space"!==t?(this.idCreatorLogger(void 0,t,n?"id_schema_test":"id_schema"),(0,o().U_)(n,e,t,this.isServerOriginated)):this.legacyId(t,"disabled")}legacyId(e,t){return this.idCreatorLogger(void 0,e,t),r().Il()}async deterministicIdWithSpaceId(e,t,n){const{enableTestDateOffset:a,enableIdSchema:s}=this.getSettings();if(!s)return this.idCreatorLogger(e,t,"disabled"),r().Ul(n);const d=this.mapSpaceIdToShortId(e),l=i().types.isPromise(d)?await d:d;return l?(this.idCreatorLogger(e,t,a?"id_schema_test":"id_schema"),(0,o().f6)(l,t,n)):(this.idCreatorLogger(e,t,"missing_short_id"),r().Ul(n))}deterministicIdWithSpaceShortId(e,t,n){const{enableTestDateOffset:i,enableIdSchema:a}=this.getSettings();return a?(this.idCreatorLogger(void 0,t,i?"id_schema_test":"id_schema"),(0,o().f6)(e,t,n)):(this.idCreatorLogger(void 0,t,"disabled"),r().Ul(n))}async getSpaceIdCreator(e){if(!e)return new s(e,this.idCreatorLogger);const{enableIdSchema:t}=this.getSettings();if(!t)return new s(e,this.idCreatorLogger);const n=this.mapSpaceIdToShortId(e),o=i().types.isPromise(n)?await n:n;return this.getSpaceShortIdCreator(e,o)}getSpaceIdCreatorSync(e){if(!e)return new s(e,this.idCreatorLogger);const{enableIdSchema:t}=this.getSettings();if(!t)return new s(e,this.idCreatorLogger);const n=this.mapSpaceIdToShortId(e),o=i().types.isPromise(n)?void 0:n;return this.getSpaceShortIdCreator(e,o)}getSpaceShortIdCreator(e,t){const{enableIdSchema:n}=this.getSettings();return n&&t?new d(e,this,t):new s(e,this.idCreatorLogger)}async getSpaceIdCreatorFromModel(e){return e.getShortIdStr()?this.getSpaceShortIdCreator(e.id,Number(e.getShortIdStr())):await this.getSpaceIdCreator(e.id)}}class s{constructor(e,t){this.spaceId=void 0,this.idCreatorLogger=void 0,this.spaceId=e,this.idCreatorLogger=t}idInSavedSpace(e){return this.idCreatorLogger(void 0,e,"disabled"),r().Il()}idInMain(e){return this.idCreatorLogger(void 0,e,"disabled"),r().Il()}deterministicIdInSavedSpace(e,t){return this.idCreatorLogger(void 0,e,"disabled"),r().Ul(t)}pointerInMain(e){return{id:this.idInMain(e),table:e}}pointerInSavedSpace(e){return{id:this.idInSavedSpace(e),table:e,spaceId:this.spaceId}}getSpaceId(){return this.spaceId}}class d{constructor(e,t,n){this.spaceId=void 0,this.idCreator=void 0,this.spaceShortId=void 0,this.spaceId=e,this.idCreator=t,this.spaceShortId=n}idInSavedSpace(e){return this.idCreator.idWithSpaceShortId(this.spaceShortId,e)}idInMain(e){return this.idCreator.idInMain(e)}deterministicIdInSavedSpace(e,t){return this.idCreator.deterministicIdWithSpaceShortId(this.spaceShortId,e,t)}pointerInMain(e){return{id:this.idInMain(e),table:e}}pointerInSavedSpace(e){return{id:this.idInSavedSpace(e),table:e,spaceId:this.spaceId}}getSpaceId(){return this.spaceId}}},971095:(e,t,n)=>{n.d(t,{A:()=>i});const i=(0,n(830742).LS)("importEvernote")},993491:(e,t,n)=>{e.exports=n.p+"edfba4a6d1ff7acd.png"}}]);