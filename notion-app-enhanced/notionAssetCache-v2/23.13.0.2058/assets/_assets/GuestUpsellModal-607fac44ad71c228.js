"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[27844],{109174:(e,s,t)=>{t.d(s,{Z:()=>f,u:()=>y});var o=t(667294),a=()=>t(219727),r=()=>t(142735),i=()=>t(846550),n=()=>t(788860),l=()=>t(707513),d=()=>t(930085),c=()=>t(824462),u=()=>t(102182),p=()=>t(876822),g=()=>t(807463),m=()=>t(206352),h=()=>t(291198),x=()=>t(661297),j=()=>t(906651),_=t(785893);function y(e){const s=(0,a().O7)(),{onDismiss:t}=e,[y,f]=(0,o.useState)(""),M=(0,n().YB)(),b=(0,i().yK)((()=>({container:{padding:20},title:{fontWeight:l().Ue.medium,marginBottom:10},input:{width:"100%",padding:"8px 12px",marginTop:10,marginBottom:10},button:{width:"100%",marginTop:10}})),[]),{currentSpaceStore:v}=(0,r().VK)((()=>({currentSpaceStore:p().default.state.currentSpaceStore})),[]);return(0,_.jsxs)("div",{style:b.container,children:[(0,_.jsx)("div",{style:b.title,children:(0,_.jsx)(n()._H,{id:"GuestMembershipRequestModal.title",defaultMessage:"Request membership to workspace"})}),(0,_.jsxs)(m().Z,{debugName:"GuestMembershipRequestModal",capture:!0,allowEsc:!0,children:[(0,_.jsx)(h().Z,{style:b.input,textarea:!0,value:y,placeholder:M.formatMessage({id:"GuestMembershipRequestModal.message.placeholder",defaultMessage:"Reason (optional)"}),onChange:e=>{f(e.target.value)}}),(0,_.jsx)(j().Z,{isLarge:!0,style:b.button,onClick:()=>{const{currentUser:e}=s;e&&e.id&&v&&(d().d(s,{invite_flow_id:void 0,user_count:1,new_user_count:1,is_bot:!1,space_role:"read_and_write",invite_message_length:y.length,invite_space_role_selection:g().uq.request_workspace_member,from:"sidebar_guest_request"}),c().callApi({eventName:"requestAccess",environment:s,data:{type:"actor-to-space",forActorId:e.id,spaceId:v.id,message:y,attributes:{origin_id:v.id,origin_type:"sidebar_guest_request",origin_table:"space",add_permissions_on_approval:!1}}}).catch((()=>{u().oV({label:(0,_.jsx)(n()._H,{id:"guestMembershipRequestModal.confirmationToast.errorMessage",defaultMessage:"Failed to send membership request."})})})).finally((()=>{u().oV({label:(0,_.jsx)(n()._H,{id:"guestMembershipRequestModal.confirmationToast.successMessage",defaultMessage:"Sent membership request."})})})),f(""),t())},children:(0,_.jsx)(n()._H,{id:"GuestMembershipRequestModal.sendRequest.button",defaultMessage:"Send request"})}),(0,_.jsx)(x().Z,{size:"lg",style:b.button,onClick:()=>{f(""),t()},children:(0,_.jsx)(n()._H,{id:"GuestMembershipRequestModal.cancel.button",defaultMessage:"Cancel"})})]})]})}const f=function(e){const s=(0,a().O7)(),[r,n]=(0,o.useState)(!1),{origin:l}=e,d=(0,i().yK)((()=>({modalStyle:{alignSelf:"center",overflow:"visible",top:0,width:350}})),[]);return(0,_.jsx)(t(923550).Z,{modalStyle:d.modalStyle,open:r,origin:(0,_.jsx)("div",{onClick:()=>{t(912732).g9(s),n(!0)},children:l}),onDismiss:()=>n(!1),renderContent:()=>(0,_.jsx)(y,{onDismiss:()=>n(!1)})})}},439661:(e,s,t)=>{t.r(s),t.d(s,{GuestUpsellModal:()=>T});var o=t(667294),a=()=>t(219727),r=()=>t(142735),i=()=>t(846550),n=()=>t(714230),l=()=>t(29248),d=()=>t(524052),c=()=>t(765270),u=()=>t(788860),p=()=>t(696459),g=()=>t(930085),m=()=>t(824462),h=()=>t(102182),x=()=>t(916095),j=()=>t(286338),_=()=>t(876822),y=()=>t(807463),f=()=>t(976973),M=()=>t(212493),b=()=>t(779300),v=()=>t(265640),q=()=>t(573357),w=()=>t(206352),S=()=>t(291198),C=()=>t(661641),k=()=>t(921981),R=()=>t(67961),U=()=>t(109174),G=t(785893);function T(e){const{open:s,stage:t}=(0,r().Kw)(f().Z),i=(0,a().O7)(),n=(0,r().VK)((()=>_().default.state.currentSpaceStore),[]),l=(0,r().VK)((()=>_().default.state.currentUserRootStore),[]),d=(0,r().VK)((()=>(0,j().Tg)({environment:i,spaceStore:n,userRootStore:l})),[i,n,l]),c=(0,o.useCallback)((()=>{switch(t){case"landing":return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(M().jX,{padding:24,children:[(0,G.jsx)(Z,{}),(0,G.jsx)(H,{})]}),d?(0,G.jsx)(I,{}):(0,G.jsx)(K,{})]});case"membership_request":return(0,G.jsx)("div",{style:{padding:"15px 10px"},children:(0,G.jsx)(U().u,{onDismiss:()=>{f().Z.close()}})});default:(0,p().t1)(t)}}),[t,d]);return(0,G.jsx)(k().c,{isOpen:s,onClosed:()=>{f().Z.close()},render:()=>(0,G.jsx)(q().Z,{capture:!0,allowEsc:!0,render:()=>(0,G.jsxs)(x().gv.Provider,{value:()=>f().Z.close(),children:[(0,G.jsx)(x().U4,{}),c()]})})})}function Z(){const e=(0,i().yK)((e=>({title:{display:"flex",marginTop:24,marginBottom:24}})),[]);return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("img",{src:n().Z.images.thinkItMakeItCloudDarkPng,style:{width:334,height:205,margin:"auto"}}),(0,G.jsx)(C().q,{styleName:"UITitle-26px/Bold",customStyles:e.title,children:(0,G.jsx)(u()._H,{defaultMessage:"Experience Notion as a workspace member",id:"GuestUpsellModal.header.title"})})]})}function H(){const e=(0,i().yK)((e=>({icon:{width:20,height:20,fill:e.text.uiBluePrimary,marginRight:16},secondaryText:{color:e.text.secondary}})),[]);return(0,G.jsxs)(M().jX,{direction:"column",gap:20,children:[(0,G.jsxs)(M().jX,{direction:"row",children:[(0,c().l)(e.icon),(0,G.jsx)(C().q,{styleName:"UIRegular-14px/Medium",customStyles:{marginTop:2},children:(0,G.jsx)(u()._H,{defaultMessage:"Create and organize <secondary>projects, notes, and to-dos</secondary>",id:"GuestUpsellModal.body.point1",values:{secondary:s=>(0,G.jsx)("span",{style:e.secondaryText,children:s})}})})]}),(0,G.jsxs)(M().jX,{direction:"row",children:[(0,d().U)(e.icon),(0,G.jsx)(C().q,{styleName:"UIRegular-14px/Medium",customStyles:{marginTop:2},children:(0,G.jsx)(u()._H,{defaultMessage:"Stay in the loop <secondary>with access to all pages across this workspace</secondary>",id:"GuestUpsellModal.body.point2",values:{secondary:s=>(0,G.jsx)("span",{style:e.secondaryText,children:s})}})})]}),(0,G.jsxs)(M().jX,{direction:"row",children:[(0,l().K)(e.icon),(0,G.jsx)(C().q,{styleName:"UIRegular-14px/Medium",customStyles:{marginTop:2},children:(0,G.jsx)(u()._H,{defaultMessage:"Supercharge work <secondary>with the latest Notion features</secondary>",id:"GuestUpsellModal.body.point3",values:{secondary:s=>(0,G.jsx)("span",{style:e.secondaryText,children:s})}})})]})]})}function K(){const e=(0,i().yK)((e=>({footerWrapper:{borderTop:`1px solid ${e.tableLightDividerColor}`,padding:16},continueCopy:{fontSize:14}})),[]);return(0,G.jsxs)(M().jX,{direction:"row",style:e.footerWrapper,children:[(0,G.jsx)(M().jX,{align:"center-left",style:e.continueCopy,children:(0,G.jsx)(v().D,{isGray:!0,onClick:()=>{f().Z.close()},children:(0,G.jsx)(u()._H,{defaultMessage:"Continue as guest",id:"GuestUpsellModal.footer.continue"})})}),(0,G.jsx)(M().jX,{align:"center-right",children:(0,G.jsx)(b().h,{onClick:()=>f().Z.setState({open:!0,stage:"membership_request"}),children:(0,G.jsx)(u()._H,{defaultMessage:"Request access",id:"GuestUpsellModal.footer.requestAccess"})})})]})}function I(){const e=(0,u().YB)(),s=(0,a().O7)(),t=(0,r().VK)((()=>_().default.state.currentSpaceStore),[]),[n,l]=(0,o.useState)(""),d=(0,i().yK)((e=>({footerWrapper:{borderTop:`1px solid ${e.tableLightDividerColor}`,padding:16},continueCopy:{fontSize:14},input:{marginBottom:16},messageInputLabel:{marginBottom:8}})),[]),c=(0,o.useCallback)((()=>{const{currentUser:e}=s;e&&e.id&&t&&(g().d(s,{invite_flow_id:void 0,user_count:1,new_user_count:1,is_bot:!1,space_role:"read_and_write",invite_message_length:n.length,invite_space_role_selection:y().uq.request_workspace_member,from:"guest_upsell_modal_v2"}),m().callApi({eventName:"requestAccess",environment:s,data:{type:"actor-to-space",forActorId:e.id,spaceId:t.id,message:n,attributes:{origin_id:t.id,origin_type:"sidebar_guest_request",origin_table:"space",add_permissions_on_approval:!1}}}).then((e=>{"success"===e.type&&h().oV({label:(0,G.jsx)(u()._H,{id:"guestMembershipRequestModal.confirmationToast.successMessage",defaultMessage:"Sent membership request."})})})),l(""),f().Z.close())}),[s,t,n]);return(0,G.jsxs)("div",{style:d.footerWrapper,children:[(0,G.jsx)(R().Z,{isSecondaryColor:!0,style:d.messageInputLabel,children:(0,G.jsx)(u()._H,{id:"GuestUpsellModal.requestMessage.label",defaultMessage:"Add a message"})}),(0,G.jsx)(w().Z,{debugName:"GuestMembershipRequestModal",capture:!0,allowEsc:!0,children:(0,G.jsx)(S().Z,{style:d.input,textarea:!0,value:n,placeholder:e.formatMessage({id:"GuestMembershipRequestModal.message.placeholder",defaultMessage:"Reason (optional)"}),onChange:e=>{l(e.target.value)}})}),(0,G.jsxs)(M().jX,{direction:"row",children:[(0,G.jsx)(M().jX,{align:"center-left",style:d.continueCopy,children:(0,G.jsx)(v().D,{isGray:!0,onClick:()=>{f().Z.close()},children:(0,G.jsx)(u()._H,{defaultMessage:"Continue as guest",id:"GuestUpsellModal.footer.continue"})})}),(0,G.jsx)(M().jX,{align:"center-right",children:(0,G.jsx)(b().h,{onClick:c,children:(0,G.jsx)(u()._H,{defaultMessage:"Request access",id:"GuestUpsellModal.footer.requestAccess"})})})]})]})}},29248:(e,s,t)=>{t.d(s,{K:()=>a});t(667294);var o=t(785893);const a=(0,t(827282).IU)("boltFilled",{svg:(0,o.jsx)("path",{d:"M0 12.117c0 .38.293.664.703.664h5.518l-2.91 7.91c-.381 1.006.664 1.543 1.318.723l8.877-11.094c.166-.205.254-.4.254-.625 0-.371-.293-.664-.703-.664H7.539l2.91-7.91C10.83.115 9.785-.422 9.131.408L.254 11.492c-.166.215-.254.41-.254.625z"}),viewBox:"0 0 14 22"})}}]);