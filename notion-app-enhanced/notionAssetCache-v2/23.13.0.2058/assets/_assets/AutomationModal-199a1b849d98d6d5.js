"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[65645],{27188:(e,n,t)=>{t.r(n),t.d(n,{AutomationModal:()=>k});var o=t(667294),i=()=>t(219727),a=()=>t(142735),r=()=>t(846550),l=()=>t(788860),s=()=>t(513670),c=()=>t(707513),d=()=>t(594546),u=()=>t(57687),m=()=>t(12512),p=()=>t(407121),f=()=>t(826955),x=()=>t(265640),g=()=>t(206352),b=()=>t(708518),h=()=>t(906651),y=()=>t(943620),S=()=>t(623498),j=t(785893);const v=(0,l().vU)({confirmationDialogAriaLabel:{defaultMessage:"Confirmation",id:"automations.ConfirmationDialog.ariaLabel"}});function k(){const e=(0,a().Kw)(p().Z),n=(0,i().O7)(),t=(0,i().Fy)(),l=(0,a().VK)((()=>t.isPhone),[t]),s=(0,r().yK)((e=>({innerStyle:{padding:24,width:l?"calc(100% - 20px)":320}})),[l]),c=(0,o.useCallback)((e=>{p().Z.setState({open:!1,result:e});const t=p().Z.state;(0,d().j)({environment:n,event:{eventName:"click_automation_modal_option",eventProperties:{automation_id:t.open&&t.recordStore instanceof f().Mz?t.recordStore.id:void 0,option:e}}})}),[n]),u=(0,o.useCallback)((()=>c("cancel")),[c]),m=function(){const e=(0,a().Kw)(p().Z),[n,t]=(0,o.useReducer)(((e,n)=>e+1),1),i=(0,o.useRef)(void 0);return(0,o.useEffect)((()=>{e.open&&e.format!==i.current&&(t(void 0),i.current=e.format)}),[e,i]),n}();return(0,j.jsx)(b().Z,{open:e.open,keepFocus:!0,innerStyle:s.innerStyle,transitionAppearance:"none",onDismiss:u,render:()=>e.open&&(0,j.jsx)(w,{id:`${m}`,modalState:e,onDismiss:c},`${m}`)})}function w(e){const{id:n,modalState:t,onDismiss:i}=e,{icon:a}=t.format,d=(0,l().YB)(),p=(0,o.useRef)(null);(0,o.useEffect)((()=>{null!==p.current&&p.current.focus()}),[]);const f=(0,r().yK)((e=>({wrap:{display:"flex",flexDirection:"column"},buttonWrap:{display:"flex",flexDirection:"column",gap:10,marginTop:10},textWrap:{whiteSpace:"pre-wrap",wordBreak:"break-word",textAlign:"center",fontWeight:c().Ue.medium,marginTop:10,marginBottom:10,display:"flex",flexDirection:"column",alignItems:"center"},icon:{marginBottom:10},cancelButton:{justifyContent:"center"}})),[]),{store:b}=(0,u().Cl)({initialValue:t.format.text,onChange:()=>{}}),k=[(0,j.jsx)(h().Z,{isLarge:!0,onClick:()=>i("continue"),ref:p,children:t.format.continueButtonText},"continue"),(0,j.jsx)(x().D,{size:"lg",onClick:()=>i("cancel"),isLightGray:!0,style:f.cancelButton,children:t.format.cancelButtonText},"cancel")],w=`automation-modal-dialog-${n}`;return(0,j.jsx)(g().Z,{debugName:"AutomationModal",capture:!0,allowEsc:!0,children:(0,j.jsxs)("div",{"aria-modal":"true","aria-label":d.formatMessage(v.confirmationDialogAriaLabel),"aria-describedby":w,role:"dialog",style:f.wrap,children:[(0,j.jsxs)("div",{style:f.textWrap,children:[a&&(0,j.jsx)("div",{style:f.icon,children:(0,j.jsx)(y().Z,{size:50,icon:{icon:a,pointer:t.recordStore.pointer},disabled:!0,isEmptyPage:!1,bucket:"public",onChange:s().ZT})}),(0,j.jsx)("div",{id:w,children:(0,j.jsx)(S().Z,{disabled:!0,disableStyleAnnotations:!0,inPageFind:m().B3.none,store:b,parentStore:t.recordStore})})]}),(0,j.jsx)("div",{style:f.buttonWrap,children:k})]})})}},407121:(e,n,t)=>{t.d(n,{Z:()=>a});class o extends(()=>t(263184))().default{getInitialState(){return{open:!1}}}const i=new o;(0,t(947115).exposeDebugValue)("AutomationModalStore",i);const a=i}}]);