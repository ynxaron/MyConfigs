"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[99590],{183680:(e,s,t)=>{t.d(s,{VR:()=>u,ac:()=>c,zq:()=>d});t(667294);var i=()=>t(846550),o=()=>t(328714),n=()=>t(235605),a=()=>t(788860),r=t(785893);function l(e){const{enabled:s,labelIfEnabled:t,labelIfDisabled:o}=e,n=(0,i().yK)((e=>({container:{color:s?e.mediumTextColor:e.lightTextColor}})),[s]);return(0,r.jsxs)("div",{style:n.container,children:[p(s)," ",s?t:o]})}function d(e){const s="none"!==e;return[(0,r.jsx)(l,{enabled:s&&e.read_content,labelIfEnabled:(0,r.jsx)(a()._H,{id:"capabilitiesTooltip.mixedAccess.readContent.enabled",defaultMessage:"Can read content."}),labelIfDisabled:(0,r.jsx)(a()._H,{id:"capabilitiesTooltip.mixedaccess.readContent.disabled",defaultMessage:"Cannot read content."})},"read_content"),(0,r.jsx)(l,{enabled:s&&e.insert_content,labelIfEnabled:(0,r.jsx)(a()._H,{id:"capabilitiesTooltip.mixedaccess.insertContent.enabled",defaultMessage:"Can insert content."}),labelIfDisabled:(0,r.jsx)(a()._H,{id:"capabilitiesTooltip.mixedaccess.insertContent.disabled",defaultMessage:"Cannot insert content."})},"insert_content"),(0,r.jsx)(l,{enabled:s&&e.update_content,labelIfEnabled:(0,r.jsx)(a()._H,{id:"capabilitiesTooltip.mixedaccess.updateContent.enabled",defaultMessage:"Can update content."}),labelIfDisabled:(0,r.jsx)(a()._H,{id:"capabilitiesTooltip.mixedaccess.updateContent.disabled",defaultMessage:"Cannot update content."})},"update_content"),(0,r.jsx)(l,{enabled:s&&e.insert_comment,labelIfEnabled:(0,r.jsx)(a()._H,{id:"capabilitiesTooltip.insertComment.enabled",defaultMessage:"Can comment."}),labelIfDisabled:(0,r.jsx)(a()._H,{id:"capabilitiesTooltip.insertComment.disabled",defaultMessage:"Cannot comment."})},"insert_comment"),(0,r.jsx)(l,{enabled:s&&e.read_comment,labelIfEnabled:(0,r.jsx)(a()._H,{id:"capabilitiesTooltip.readComment.enabled",defaultMessage:"Can read comments."}),labelIfDisabled:(0,r.jsx)(a()._H,{id:"capabilitiesTooltip.readComment.disabled",defaultMessage:"Cannot read comments."})},"read_comment")]}function c(e){return[(0,r.jsx)(l,{enabled:e.read_user_without_email,labelIfEnabled:(0,r.jsx)(a()._H,{id:"capabilitiesTooltip.userAccess.readUsers.enabled",defaultMessage:"Can view users."}),labelIfDisabled:(0,r.jsx)(a()._H,{id:"capabilitiesTooltip.userAccess.readUsers.disabled",defaultMessage:"Cannot view users."})},"read_user_without_email"),(0,r.jsx)(l,{enabled:e.read_user_with_email,labelIfEnabled:(0,r.jsx)(a()._H,{id:"capabilitiesTooltip.userAccess.readUserEmailAddresses.enabled",defaultMessage:"Can view user email addresses."}),labelIfDisabled:(0,r.jsx)(a()._H,{id:"capabilitiesTooltip.userAccess.readUserEmailAddresses.disabled",defaultMessage:"Cannot view user email addresses."})},"read_user_with_email")]}function u(e){return[(0,r.jsx)(l,{enabled:e.link_preview,labelIfEnabled:(0,r.jsx)(a()._H,{id:"capabilitiesTooltip.linkPreview.enabled",defaultMessage:"Can preview links."}),labelIfDisabled:(0,r.jsx)(a()._H,{id:"capabilitiesTooltip.linkPreview.disabled",defaultMessage:"Cannot preview links."})},"link_preview"),(0,r.jsx)(l,{enabled:e.synced_database,labelIfEnabled:(0,r.jsx)(a()._H,{id:"capabilitiesTooltip.syncedDatabase.enabled",defaultMessage:"Can sync databases."}),labelIfDisabled:(0,r.jsx)(a()._H,{id:"capabilitiesTooltip.syncedDatabase.disabled",defaultMessage:"Cannot sync databases."})},"synced_database")]}function p(e){const s={width:12,display:"inline",verticalAlign:"middle"};return e?(0,n().k)(s):(0,o().U)(s)}},670346:(e,s,t)=>{t.d(s,{_:()=>d});t(667294);var i=()=>t(219727),o=()=>t(528514),n=()=>t(788860),a=()=>t(183680),r=()=>t(18748),l=t(785893);function d(e){const{role:s}=e,t=(0,n().YB)(),{device:d}=(0,i().O7)(),c=(0,a().zq)(s);return(0,l.jsx)(r().ZP,{...e,title:t.formatMessage((0,o().Gx)(s,void 0).label),shouldWrapCaption:!0,style:d.isMobile?{padding:"12px 4px"}:{padding:4,marginTop:2,marginBottom:2},captionStyle:{marginTop:4},caption:(0,l.jsx)("div",{children:c})})}},777814:(e,s,t)=>{t.d(s,{M:()=>x,d:()=>_});t(667294);var i=()=>t(219727),o=()=>t(142735),n=()=>t(846550),a=()=>t(414294),r=()=>t(159253),l=()=>t(528514),d=()=>t(630315),c=()=>t(255933),u=()=>t(788860),p=()=>t(568017),m=()=>t(696459),b=()=>t(466970),g=()=>t(779733),f=()=>t(265640),h=t(785893);function _(e){let{type:s,role:t,events:l,disabled:d,buttonStyle:c,buttonContents:p,icon:m,table:_,isCurrentUser:v,from:y}=e;const{isMobile:C}=(0,i().Fy)(),M=(0,n().yK)((e=>({button:{marginRight:8,...c},icon:{width:10,marginLeft:4,fill:e.lightIconColor},label:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},iconContainer:{fill:e.icon.secondary,padding:2}})),[c]),w=m||!d&&a().E,k=(0,o().VK)((()=>"shareMenu"===y&&(0,g().wZ)()),[y]),j=(0,b().E)("sharing_anyone_with_the_link");return C&&"shareMenu"===y&&k?d?null:(0,h.jsx)(f().D,{...l,disabled:d,style:M.iconContainer,children:(0,r().O)({height:24,width:24})}):(0,h.jsxs)(f().D,{id:void 0,...l,disabled:d,style:M.button,children:[p||(0,h.jsx)("span",{className:"notranslate",style:M.label,children:(0,h.jsx)(u()._H,{...x({type:s,role:t,table:_,isRemovable:!1,isCurrentUser:v,isRedesignEnabled:k,isPublicShareLink:j}).label})}),w&&w(M.icon)]})}function x(e){let{type:s,role:t,table:i,isRemovable:o,isCurrentUser:n,isRedesignEnabled:a,isPublicShareLink:r}=e;if("access"===t)return{label:l().mq.variousAccessLabel};if("limited"===t)return{label:l().mq.limitedAccessLabel};if((0,l().oF)(t))return(0,l().Gx)(t,i);switch(t){case"editor":return i===c().bx||i===d().V7?{label:l().mq.workspaceOwnerLabel,caption:l().mq.workspaceOwnerCaption}:{label:l().mq.fullAccessLabel,caption:a?l().mq.fullAccessCaptionV2:l().mq.fullAccessCaption};case"membership_admin":return i===c().bx||i===d().V7?{label:l().mq.membershipAdminLabel,caption:l().mq.membershipAdminCaption}:{label:l().mq.canEditLabel,caption:a?l().mq.canEditCaptionV2:l().mq.canEditCaption};case"read_and_write":return i===c().bx||i===d().V7?{label:l().mq.memberLabel,caption:l().mq.memberCaption}:{label:l().mq.canEditLabel,caption:a?l().mq.canEditCaptionV2:l().mq.canEditCaption};case"content_only_editor":return{label:l().mq.canEditContentLabel,caption:l().mq.canEditContentCaption};case"reader":return{label:l().mq.canReadLabel,caption:a?void 0:l().mq.canReadCaption};case"comment_only":return{label:l().mq.canCommentLabel,caption:a?l().mq.canCommentCaptionV2:l().mq.canCommentCaption};case"none":return"public_permission"===s?r?{label:o?l().mq.publicShareLinkRemoveLabel:l().mq.publicShareLinkNoAccessLabel,hideSelectionCheckIcon:o}:{label:a?l().mq.unpublishPageLabelV2:l().mq.unpublishPageLabel,caption:l().mq.unpublishPageCaption}:o?i===c().bx||i===d().V7?n?{label:l().mq.leaveWorkspaceLabel,style:{color:p().ZP.red}}:{label:l().mq.removeFromWorkspaceLabel,style:{color:p().ZP.red}}:{label:l().mq.removeWorkspaceLabel,style:{color:p().ZP.red}}:{label:l().mq.noAccessLabel,style:{color:p().ZP.red}};default:(0,m().t1)(t)}}},370005:(e,s,t)=>{t.d(s,{ZP:()=>z});t(670560),t(267602),t(653476),t(470928),t(749411),t(241792),t(667294);var i=()=>t(219727),o=()=>t(142735),n=()=>t(846550),a=()=>t(714230),r=()=>t(286977),l=()=>t(235605),d=()=>t(528514),c=()=>t(933868),u=()=>t(630315),p=()=>t(255933),m=()=>t(788860),b=()=>t(696459),g=()=>t(912732),f=()=>t(308186),h=()=>t(205228),_=()=>t(247724),x=()=>t(527278),v=()=>t(352230),y=()=>t(164079),C=()=>t(122479),M=()=>t(148126),w=()=>t(356140),k=()=>t(333023),j=()=>t(998901),P=()=>t(876822),S=()=>t(965014),R=()=>t(654133),H=()=>t(385337),T=t(785893);function I(e){const s=(0,i().O7)(),{render:t,upsell:o,analyticsName:n,renderUpgradeTooltip:a,onUpgradeClick:r,alwaysAllowClick:l,tooltipPlacement:d,upgradeButtonDesktopStyle:c,upgradeButtonMobileStyle:u}=e;let p,{onClick:m,renderTooltip:b}=e;return o&&"product"===o.type&&(p=(0,T.jsx)(H().R,{upsell:o,analyticsName:n,desktopStyle:{display:"inline-block",pointerEvents:"none",...c},mobileStyle:{display:"inline-block",pointerEvents:"none",...u}}),l||(m=e=>{S().y(s,{from:n,upsell:o}),r&&r(e)},b=a)),(0,T.jsx)(R().Z,{renderTooltip:b||(()=>null),render:e=>t((0,y().Z)(e,{onClick:m}),p),disableTooltip:!b,placement:d})}var Z=()=>t(548812),B=()=>t(815277),U=()=>t(18281),A=()=>t(697623),q=()=>t(827973),L=()=>t(448419),E=()=>t(198829),W=()=>t(255577),V=()=>t(946563),O=()=>t(388284),D=()=>t(67961),F=()=>t(765513),K=()=>t(777814),N=()=>t(73478);const G=(0,m().vU)({fullAccessTeamGuestsDisabledMessage:{id:"permissionRoleSelect.teamGuestPermissionItem.disabledPermissionitem.tooltip",defaultMessage:"Teamspace guests can't have full access."}});const z=function(e){let{isUserPermission:s,type:a,table:r,role:l,isInvite:g,availableRoleItems:f,roleItemOverrides:h,blockType:y,onClick:M,onClose:w,origin:k,isMenuItem:j,isRemovableOverride:P,disabled:S,buttonContents:R,buttonPopupStore:H,buttonStyle:I,placementToOrigin:Z,alignmentToOrigin:B,upgradeButtonName:U,onUpgradeButtonClick:A,onChange:V,onRemoveMemberClick:F,header:N,footer:z,showPermissionOverrideWarning:Y,from:$}=e;const ee=(0,i().O7)(),se=(0,o().qz)(H,t(529048).Z),{device:te}=ee,ie=!!s,oe=(0,t(466970).E)("sharing_anyone_with_the_link"),ne=(0,o().VK)((()=>function(e){let{type:s,table:t,role:i,isInvite:o,availableRoleItems:n,roleItemOverrides:a,blockType:r,isPublicShareLink:l}=e;if(n&&n.length>0)return n;if("trusted_domain_permission"===s)return[{role:"reader"},{role:"none"}];if(t===u().V7){let e=c().an.map((e=>({role:e})));return o&&(e=e.filter((e=>"none"!==e.role))),e}const d=[];"explicit_team_guest_permission"===s?d.push({role:"editor",disabledInfo:{isDisabled:!0,disabledMessage:x().Z.formatMessage(G.fullAccessTeamGuestsDisabledMessage)}}):"bot_permission"===s||"public_permission"===s&&!l||d.push({role:"editor"});"space"===t&&(0,C().U7)()&&d.push({role:"membership_admin"});d.push({role:"read_and_write"}),"collection_view"!==r&&"collection_view_page"!==r||"bot_permission"===s&&"content_only_editor"!==i||"public_permission"===s||d.push({role:"content_only_editor"});t!==p().bx&&("bot_permission"!==s&&d.push({role:"comment_only"}),"bot_permission"===s&&"reader"!==i||d.push({role:"reader"}));o||d.push({role:"none"});if(!a)return d;return d.map((e=>{const s=a.find((s=>s.role===e.role));return s||e}))}({type:a,table:r,role:l,isInvite:g,availableRoleItems:f,roleItemOverrides:h,blockType:y,isPublicShareLink:oe})),[a,r,l,g,f,h,y,oe]),ae=(0,o().VK)((()=>"shareMenu"===$&&(0,t(779733).wZ)()),[$]),re=(0,o().VK)((()=>te.isMobile&&ae),[te,ae]),le=(0,n().yK)((e=>({buttonPopupSheet:{borderTopLeftRadius:12,borderTopRightRadius:12,overflow:"hidden",paddingBottom:10,background:e.surface.wash},menuList:{width:"100%",margin:"0 auto"},sectionMenuItem:{overflow:"hidden",background:e.buttonBackground,borderRadius:12,marginLeft:16,marginRight:16,marginBottom:16,borderWidth:1,borderStyle:"solid",borderColor:e.stroke.secondary,padding:void 0},scrollerStyle:{background:e.surface.wash},header:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",background:e.surface.wash,paddingTop:12,paddingBottom:20},headerLabel:{fontSize:16,fontWeight:t(707513).Ue.semibold,marginBottom:12},headerContent:{width:"100%"}})),[]);return(0,T.jsx)(L().ZP,{style:re?le.buttonPopupSheet:void 0,onClick:e=>{e.preventDefault(),e.stopPropagation(),M&&M()},onClose:w,popupType:te.isMobile?L().Z4.SlideUp:L().Z4.Popup,buttonPopupStore:se,renderOrigin:e=>k||(j?(0,T.jsx)(q().Z,{...e,title:(0,T.jsx)(m()._H,{...(0,K().M)({type:a,role:l,table:r,isRemovable:!1,isCurrentUser:ie,isRedesignEnabled:ae,isPublicShareLink:oe}).label}),focused:!1,showExtensionArrow:!0}):(0,T.jsx)(K().d,{type:a,role:l,events:e,disabled:S,buttonContents:R,buttonStyle:I,table:r,isCurrentUser:ie,from:$})),placementToOrigin:Z||t(128119).Iw.Bottom,alignmentToOrigin:B,render:e=>{let i,o;if((0,d().oF)(l))i=[{key:"mixed_role_section",render:e=>(0,T.jsx)(O().Z,{...e,topBorder:!1}),items:[{key:"mixed_role_description",render:()=>(0,T.jsx)(t(670346)._,{role:l}),action:()=>{}}]},{key:"bot_capabilities_warning",render:e=>(0,T.jsx)(O().Z,{...e,topBorder:!0}),items:[{key:"warning_details",render:e=>(0,T.jsx)(t(18748).ZP,{...e,shouldWrapCaption:!0,caption:"Integration permissions cannot be changed on a page. You can manage integrations in settings."}),action:()=>{}}]},{key:"remove_bot",render:e=>(0,T.jsx)(O().Z,{...e,topBorder:!0}),items:[{key:"none",render:e=>(0,T.jsx)(J,{role:l,upgradeButtonName:U,onUpgradeButtonClick:A,focused:e.focused,props:e,availableRole:{role:"none"},isCurrentUser:!!s,isRemovableOverride:P,table:r,type:a,isRedesignEnabled:ae,isPublicShareLinkEnabled:oe}),action:()=>{Q("none",r,l,a,U,ee,ne,oe,V,A,s,F),e.close()}}]}];else if(i=[{key:"roles",render:e=>(0,T.jsx)(O().Z,{...e,topBorder:0!==e.index,style:re?le.sectionMenuItem:void 0}),items:ne.flatMap((t=>{const i={key:t.role,render:e=>(0,T.jsx)(J,{role:l,upgradeButtonName:U,onUpgradeButtonClick:A,focused:e.focused,props:e,availableRole:t,isCurrentUser:!!s,isRemovableOverride:P,table:r,type:a,isRedesignEnabled:ae,isPublicShareLinkEnabled:oe}),action:()=>{Q(t.role,r,l,a,U,ee,ne,oe,V,A,s,F),e.close()}};return ae&&"none"===t.role?[]:[t.prefixItem,i].filter(b().$K)}))}],ae){const t=ne.find((e=>"none"===e.role));(null==t?void 0:t.prefixItem)&&!te.isMobile&&i.push({key:"prefix-item",render:e=>(0,T.jsx)(O().Z,{...e,topBorder:!0,style:re?le.sectionMenuItem:void 0}),items:[null==t?void 0:t.prefixItem].filter(b().$K)});const o=ne.filter((e=>"none"===e.role));o.length>0&&i.push({key:"none-role",render:e=>(0,T.jsx)(O().Z,{...e,topBorder:!(te.isMobile&&ae),style:re?le.sectionMenuItem:void 0}),items:o.flatMap((t=>{const i={key:t.role,render:e=>(0,T.jsx)(J,{role:l,upgradeButtonName:U,onUpgradeButtonClick:A,focused:e.focused,props:e,availableRole:t,isCurrentUser:!!s,isRemovableOverride:P,table:r,type:a,isRedesignEnabled:ae,isPublicShareLinkEnabled:oe}),action:()=>{Q(t.role,r,l,a,U,ee,ne,oe,V,A,s,F),e.close()}};return te.isMobile?[t.prefixItem,i].filter(b().$K):[i].filter(b().$K)}))})}return o=te.isMobile?{menuType:v().o.Modal,title:(0,T.jsx)(m()._H,{id:"userPermissionsMenu.mobile.title",defaultMessage:"Select role"}),right:(0,T.jsx)(m()._H,{id:"userPermissionsMenu.mobile.doneButton.label",defaultMessage:"Done"}),onClickRight:e.close}:{menuType:v().o.Popup,width:264},re?(0,T.jsx)(E().Z,{scrollerStyle:le.scrollerStyle,menuType:v().o.Popup,height:"50vh",maxWidth:"100%",className:_().a6i,header:(0,T.jsxs)("div",{style:le.header,children:[(0,T.jsx)(D().Z,{style:le.headerLabel,children:(0,T.jsx)(m()._H,{defaultMessage:"Change access",id:"PermissionRoleSelect.Header.ChangeAccess"})}),(0,T.jsx)("div",{style:le.headerContent,children:N})]}),footer:(0,T.jsx)(T.Fragment,{children:z}),children:(0,T.jsx)(W().ZP,{type:W().iW.Vertical,initialFocus:void 0,sections:i,style:le.menuList})}):(0,T.jsx)(E().Z,{className:_().a6i,header:N,footer:(0,T.jsxs)(T.Fragment,{children:[z,Y&&(0,T.jsx)(X,{})]}),...o,children:(0,T.jsx)(W().ZP,{type:W().iW.Vertical,initialFocus:void 0,sections:i})})}})};function Y(e,s,t,i){if(!i&&s!==u().V7){if((s===p().bx?c().RN(e):c().J5(e)&&!c().zz(e))&&"public_permission"!==t&&"bot_permission"!==t)return s===p().bx?(0,T.jsx)(N().Z,{imageURL:a().Z.images.tooltips.upsells.spaceReadAndWritePng,imageWidth:240,imageHeight:100,caption:(0,T.jsx)(m()._H,{defaultMessage:"Members cannot change workspace settings or invite new members.",id:"permissionRoleSelect.spaceReadAndWriteUpgradeTooltip.caption"}),title:(0,T.jsx)(m()._H,{defaultMessage:"Upgrade to add non-admin members",id:"permissionRoleSelect.spaceReadAndWriteUpgradeTooltip.title"})}):(0,T.jsx)(N().Z,{imageURL:a().Z.images.tooltips.upsells.userReadAndWritePng,imageWidth:240,imageHeight:100,caption:(0,T.jsx)(m()._H,{defaultMessage:"Users with edit access can edit a page but not share it with others.",id:"permissionRoleSelect.userReadAndWriteUpgradeTooltip.caption"}),title:(0,T.jsx)(m()._H,{defaultMessage:"Upgrade to add editors",id:"permissionRoleSelect.userReadAndWriteUpgradeTooltip.title"})})}return!1}function $(e,s){if(void 0!==s)return s;switch(e){case"user_permission":case"bot_permission":case"group_permission":return!0;case"space_permission":case"explicit_team_permission":case"team_permission":case"team_owner_permission":case"explicit_team_owner_permission":case"explicit_team_guest_permission":case"public_permission":case"trusted_domain_permission":case"exclusive_user_permission":return!1;default:(0,b().t1)(e)}}async function Q(e,s,t,i,o,n,a,r,l,c,b,_){var x,v;const y=(0,k().dS)();if(t===e)return;const C=()=>{l&&l(e)};g().Mv({newRole:e,availableRoles:a});const w=await(0,B().KQ)(n,{name:"block_read_and_write_role",spaceId:null===(x=P().default.state.currentSpaceStore)||void 0===x?void 0:x.id,userId:null===(v=P().default.state.currentUserStore)||void 0===v?void 0:v.id});if(Y(e,s,i,w)&&!h().default.isAdminMode)S().y(n,{from:o,upsell:{type:"product",product:U().M9(n)||"plus",limit:{type:"none"}}}),c&&c();else if(function(e,s,t){return t&&(0,d().nl)(s,e)===s&&"none"===e}(e,t,b))f().vC({showCancel:!0,keepFocus:!1,message:s===p().bx||s===u().V7?(0,T.jsx)(m()._H,{id:"userPermissionsMenu.removePermissionsModal.removeSelfFromWorkspace.confirmationMessage",defaultMessage:"Are you sure you want to remove your own access? You will lose access to the workspace, and any private pages will be lost."}):(0,T.jsx)(m()._H,{id:"userPermissionsMenu.removePermissionsModal.removeSelfFromPage.confirmationMessage",defaultMessage:"Are you sure you want to remove your own access?"}),items:[{label:(0,T.jsx)(m()._H,{id:"userPermissionsMenu.removePermissionsModal.removeSelfButton.label",defaultMessage:"Remove"}),color:"red",onAccept:C}]});else if(function(e,s,t){return t&&(0,d().nl)(s,e)===s}(e,t,b))f().vC({showCancel:!0,keepFocus:!1,message:(0,T.jsx)(m()._H,{id:"userPermissionsMenu.downgradePermissionsModal.downgradeSelfFromWorkspaceOrPage.confirmationMessage",defaultMessage:"Are you sure you want to downgrade your own access?"}),items:[{label:(0,T.jsx)(m()._H,{id:"userPermissionsMenu.downgradePermissionsModal.downgradeSelfButton.label",defaultMessage:"Downgrade"}),color:"red",onAccept:C}]});else if(function(e,s){return(s===p().bx||s===u().V7)&&"none"===e}(e,s))if(_)_();else{await async function(e){const{message:s}=e;return new Promise((e=>{f().vC({showCancel:!0,keepFocus:!1,handleCancel:()=>e(!1),message:s,items:[{label:(0,T.jsx)(m()._H,{id:"userPermissionsMenu.removePermissionsModal.removeUserButton.label",defaultMessage:"Remove"}),color:"red",onAccept:()=>e(!0)}]})}))}({message:(j=!0,j&&(0,A().wP)()?(0,T.jsx)(m()._H,{id:"userPermissionsMenu.removePermissionsModal.removeUserFromWorkspace.enterprise.confirmationMessage",defaultMessage:"If you remove this member, they will lose workspace access. After their removal, you may transfer their private pages to another member. <transferpagelink>Learn more</transferpagelink>.",values:{transferpagelink:e=>(0,T.jsx)(F().Z,{href:(0,M().UY)("guides.transferContent"),external:!0,children:e})}}):j?(0,T.jsx)(m()._H,{id:"userPermissionsMenu.removePermissionsModal.removeUserFromWorkspace.confirmationMessage",defaultMessage:"Are you sure you want to remove this person? They will lose access to the workspace, and any private pages will be lost."}):(0,T.jsx)(m()._H,{id:"userPermissionsMenu.removePermissionsModal.removeUserFromPage.confirmationMessage",defaultMessage:"Are you sure you want to remove this person?"}))})&&C()}else if(function(e,s){return"public_permission"===e&&"none"===s}(i,e)&&y&&!r){await async function(){return new Promise((e=>{f().vC({showCancel:!0,keepFocus:!1,handleCancel:()=>e(!1),description:(0,T.jsx)(m()._H,{id:"permissionRoleSelect.unpublishConfirmation.description",defaultMessage:"Removing access will unpublish this page from the web."}),message:(0,T.jsx)(m()._H,{id:"permissionRoleSelect.unpublishConfirmation.message",defaultMessage:"Are you sure you want to remove access?"}),items:[{label:(0,T.jsx)(m()._H,{id:"userPermissionsMenu.removePermissionsModal.unpublishAction.label",defaultMessage:"Remove access"}),color:"red",onAccept:()=>e(!0)}]})}))}()&&C()}else C();var j}function J(e){const{availableRole:s,isCurrentUser:t,role:a,table:d,type:c,isRemovableOverride:u,upgradeButtonName:p,onUpgradeButtonClick:b,isRedesignEnabled:g,isPublicShareLinkEnabled:f}=e,{label:h,caption:_,hideSelectionCheckIcon:x}=(0,K().M)({type:c,role:s.role,table:d,isRemovable:$(c,u),isCurrentUser:t,isRedesignEnabled:g,isPublicShareLink:f}),v=(0,n().Fg)(),C=(0,i().O7)(),M=(0,w().W)(),k=(0,o().VK)((()=>{var e;return null===(e=C.currentUser)||void 0===e?void 0:e.id}),[C]),{device:S}=C,{onClick:H,key:U,...A}=e.props,L=s.disabledInfo,E=S.isMobile&&g,W=(0,B().oo)({name:"block_read_and_write_role",spaceId:M,userId:k}),O=(0,o().VK)((()=>Y(s.role,d,c,"available"===(null==W?void 0:W.type))),[s,d,c,W]),D=(0,o().VK)((()=>C.device.isMobile&&!Z().bQ()),[C]),F=Boolean(O),N=(0,o().VK)((()=>{var e;return null===(e=P().default.getState().currentSpaceStore)||void 0===e?void 0:e.canAdmin()}),[]),G=F&&(!N||D),z=(0,n().yK)((e=>{const s={backgroundColor:e.surface.elevated,paddingTop:12,paddingBottom:12,borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:e.stroke.secondary};return{buttonMenuItem:{...s},redButtonMenuItem:{...s,color:e.text.uiRedPrimary},disabledButtonMenuItem:{...s,color:e.text.tertiary}}}),[]);return S.isMobileNative&&F?null:L&&L.isDisabled?(0,T.jsx)(R().Z,{delayThreshold:0,renderTooltip:e=>(0,T.jsx)("div",{...e,children:L.disabledMessage}),placement:j().Placement.Right,textWrap:!0,render:t=>(0,T.jsx)(q().Z,{style:E?z.disabledButtonMenuItem:void 0,...t,focused:e.focused,disabled:!0,disabledFeedback:!0,right:a!==s.role||x?void 0:(0,T.jsx)("div",{style:{width:S.isMobile?16:14},children:g?(0,l().k)():(0,r().e)()}),title:(0,T.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,T.jsx)("div",{style:{...e.style,marginRight:O?6:0},children:(0,T.jsx)(m()._H,{...h})})}),caption:_&&(0,T.jsx)("span",{style:{color:g?v.text.secondary:v.mediumTextColor},children:(0,T.jsx)(m()._H,{..._})}),shouldWrapCaption:!0})}):(0,T.jsx)(I,{upsell:F&&("upsell"===(null==W?void 0:W.type)||"blocked"===(null==W?void 0:W.type)?W.upsell:void 0),analyticsName:p,renderUpgradeTooltip:()=>O,tooltipPlacement:j().Placement.Left,onClick:H,onUpgradeClick:b,render:(t,i)=>{const{focused:o,...n}=(0,y().Z)(A,t);return(0,T.jsx)(q().Z,{...n,style:E?"none"===s.role?z.redButtonMenuItem:z.buttonMenuItem:void 0,focused:o||e.focused,right:a!==s.role||x?void 0:(0,T.jsx)("div",{style:{width:S.isMobile?16:14},children:g?(0,l().k)():(0,r().e)()}),title:(0,T.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,T.jsx)("div",{style:{...e.style,marginRight:O?6:0},children:(0,T.jsx)(m()._H,{...h})}),i,e.availableRole.tag&&(0,T.jsx)(V().Z,{desktopStyle:{marginLeft:7},children:e.availableRole.tag})]}),caption:_&&(0,T.jsx)("span",{style:{color:g?v.text.secondary:v.mediumTextColor},children:(0,T.jsx)(m()._H,{..._})}),shouldWrapCaption:!0,disabled:G,isRedOnHover:g&&!G&&"none"===s.role})}})}function X(){const e=(0,n().Fg)(),s=(0,i().O7)(),{device:t}=s;return(0,T.jsx)(D().Z,{style:{padding:12,backgroundColor:e.sidebarSecondaryBackground,boxShadow:`0 -1px 0 ${e.regularDividerColor}`,marginTop:t.isMobile?28:1},isMultiline:!0,isSmall:!0,children:(0,T.jsx)(m()._H,{id:"permissionRoleSelect.overrideMessage.caption",defaultMessage:"You’ll override permissions from the parent page if you change this role."})})}},356140:(e,s,t)=>{t.d(s,{W:()=>n});var i=()=>t(142735),o=()=>t(876822);function n(){const{currentSpaceStore:e}=(0,i().VK)((()=>o().default.state),[]);return null==e?void 0:e.id}},807463:(e,s,t)=>{t.d(s,{TG:()=>o,ZP:()=>a,uq:()=>i});t(267602),t(653476),t(241792),t(228244);let i=function(e){return e.unselected="unselected",e.workspace_member="workspace_member",e.request_workspace_member="request_workspace_member",e.page_guest="page_guest",e.closed="closed",e}({}),o=function(e){return e[e.closed=0]="closed",e[e.share_page=1]="share_page",e[e.share_workspace=2]="share_workspace",e[e.request_workspace=3]="request_workspace",e}({});class n extends(()=>t(263184))().default{getInitialState(){return{inviteStage:o.closed,selection:i.workspace_member,order:[i.workspace_member,i.page_guest],invitedUsers:[],invitedEmailToUserIdMap:{},flowId:t(956057).Il()}}startWorkspaceInvite(){this.setState({...this.state,inviteStage:o.share_workspace,order:[i.workspace_member,i.page_guest],selection:i.workspace_member})}startRequestMembership(){this.setState({...this.state,inviteStage:o.request_workspace,order:[i.request_workspace_member,i.page_guest],selection:i.request_workspace_member})}hasGuests(){return this.state.invitedUsers.some((e=>e.isGuest))}getGuestEmails(){return this.state.invitedUsers.filter((e=>e.isGuest)).map((e=>e.email))}}const a=n},385337:(e,s,t)=>{t.d(s,{R:()=>f});t(667294);var i=()=>t(219727),o=()=>t(142735),n=()=>t(846550),a=()=>t(788860),r=()=>t(568017),l=()=>t(696459),d=()=>t(707513),c=()=>t(946563),u=()=>t(654133),p=()=>t(998901),m=()=>t(876822),b=()=>t(965014),g=t(785893);function f(e){let{upsell:s,mobileStyle:t,desktopStyle:f,analyticsName:h,onClick:_,disableTooltip:x}=e;const v=(0,n().Fg)(),y=(0,i().O7)(),{device:C}=y,M=(0,o().VK)((()=>{const{currentSpaceStore:e}=m().default.state;return null==e?void 0:e.canAdmin()}),[]),w=(0,o().VK)((()=>function(e,s){if("product"!==e.type)return{};switch(e.product){case"plus":case"business":case"enterprise":return{color:s.blueColor,background:"light"===s.mode?r().ZP.diffBackground:"rgba(35, 131, 226, 0.2)",fontWeight:d().Ue.medium};default:return{}}}(s,v)),[s,v]);if("product"!==s.type)return null;if(C.isMobileNative)return null;const k=(()=>{switch(s.product){case"personal":return(0,g.jsx)(a()._H,{defaultMessage:"Personal Pro",id:"upgradeButton.personal.text"});case"plus":return(0,g.jsx)(a()._H,{defaultMessage:"Plus ↗",id:"upgradeButton.plus.textWithArrow"});case"business":return(0,g.jsx)(a()._H,{defaultMessage:"Business ↗",id:"upgradeButton.business.textWithArrow"});case"enterprise":return(0,g.jsx)(a()._H,{defaultMessage:"Enterprise ↗",id:"upgradeButton.enterprise.textWithArrow"});case"ai":return(0,g.jsx)(a()._H,{defaultMessage:"AI ↗",id:"upgradeButton.ai.textWithArrow"});case"sites_custom_hostnames":return(0,g.jsx)(a()._H,{defaultMessage:"Custom Hostnames ↗",id:"upgradeButton.sites_custom_hostnames.textWithArrow"});default:(0,l().t1)(s.product)}})();return C.isMobile||!M?(0,g.jsx)(c().Z,{mobileStyle:t,children:k}):(0,g.jsx)(u().Z,{delayThreshold:120,disableTooltip:x,placement:p().Placement.Bottom,renderTooltip:()=>(0,g.jsx)("div",{style:{maxWidth:500},children:(0,g.jsx)(a()._H,{defaultMessage:"Upgrade to use this feature.",id:"premiumFeatureUpgradeButton.upgrade.tooltip"})}),originGap:6,render:e=>(0,g.jsx)(c().Z,{desktopStyle:f,innerStyle:w,onClick:e=>function(e,s,t,i,o){b().y(i,{from:s,upsell:t}),o&&o(e)}(e,h,s,y,_),...e,children:k})})}},188296:(e,s,t)=>{t.d(s,{Z:()=>u});t(667294);var i=()=>t(142735),o=()=>t(122792),n=()=>t(788860),a=()=>t(568017),r=()=>t(707513),l=()=>t(946563),d=()=>t(965014),c=t(785893);const u=function(e){let{subscriptionTier:s,mobileStyle:u,desktopStyle:p,analyticsName:m,onClick:b,disableTooltip:g}=e;const f=(0,t(846550).Fg)(),h=(0,t(219727).O7)(),{device:_}=h,x=(0,i().VK)((()=>{const{currentSpaceStore:e}=t(876822).default.state;return null==e?void 0:e.canAdmin()}),[]),v=(0,i().VK)((()=>function(e,s){switch(e){case"plus":case"business":case"enterprise":return{color:s.blueColor,background:"light"===s.mode?a().ZP.diffBackground:"rgba(35, 131, 226, 0.2)",fontWeight:r().Ue.medium};default:return{}}}(s,f)),[s,f]);if(_.isMobileNative)return null;let y;return"personal"===s?y=(0,c.jsx)(n()._H,{defaultMessage:"Personal Pro",id:"upgradeButton.personal.text"}):(0,o().eR)(s)?y=(0,c.jsx)(n()._H,{defaultMessage:"Plus ↗",id:"upgradeButton.plus.textWithArrow"}):(0,o().NG)(s)?y=(0,c.jsx)(n()._H,{defaultMessage:"Business ↗",id:"upgradeButton.business.textWithArrow"}):(0,o().wP)(s)?y=(0,c.jsx)(n()._H,{defaultMessage:"Enterprise ↗",id:"upgradeButton.enterprise.textWithArrow"}):(0,t(696459).t1)(s),_.isMobile||!x?(0,c.jsx)(l().Z,{mobileStyle:u,children:y}):(0,c.jsx)(t(654133).Z,{delayThreshold:120,disableTooltip:g,placement:t(998901).Placement.Bottom,renderTooltip:()=>(0,c.jsx)("div",{style:{maxWidth:500},children:(0,c.jsx)(n()._H,{defaultMessage:"Upgrade to use this feature.",id:"upgradeButton.upgrade.tooltip"})}),originGap:6,render:e=>(0,c.jsx)(l().Z,{desktopStyle:p,innerStyle:v,onClick:e=>function(e,s,t,i,o){d().y(i,{from:s,upsell:{type:"product",product:t,limit:{type:"none"}}}),o&&o(e)}(e,m,s,h,b),...e,children:y})})}},81979:(e,s,t)=>{t.d(s,{o:()=>o});t(667294);var i=t(785893);const o=(0,t(827282).IU)("globe2",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M8 15.126C11.8623 15.126 15.0615 11.9336 15.0615 8.06445C15.0615 4.20215 11.8623 1.00293 7.99316 1.00293C4.13086 1.00293 0.938477 4.20215 0.938477 8.06445C0.938477 11.9336 4.1377 15.126 8 15.126ZM3.88477 3.76465C4.56836 3.11523 5.39551 2.61621 6.31836 2.34277C5.83301 2.82812 5.42285 3.51172 5.11523 4.3457C4.63672 4.19531 4.22656 3.99707 3.88477 3.76465ZM9.68848 2.34961C10.6045 2.62305 11.4316 3.11523 12.1084 3.76465C11.7734 4.00391 11.3633 4.19531 10.8848 4.35254C10.5771 3.51172 10.167 2.82812 9.68848 2.34961ZM8.47852 2.56836C9.0459 2.8418 9.56543 3.58008 9.93457 4.58496C9.4834 4.66699 8.99805 4.71484 8.47852 4.73535V2.56836ZM6.06543 4.58496C6.44141 3.58008 6.9541 2.8418 7.52148 2.56836V4.73535C7.00195 4.71484 6.5166 4.66699 6.06543 4.58496ZM2.05273 7.58594C2.14844 6.42383 2.58594 5.35059 3.25586 4.46875C3.67285 4.77637 4.21289 5.04297 4.8418 5.24121C4.66406 5.95215 4.54785 6.74512 4.51367 7.58594H2.05273ZM11.4863 7.58594C11.4521 6.74512 11.3359 5.95215 11.1582 5.24121C11.7871 5.04297 12.3271 4.7832 12.7373 4.46875C13.4141 5.35059 13.8516 6.42383 13.9473 7.58594H11.4863ZM5.49121 7.58594C5.52539 6.84082 5.62793 6.12988 5.78516 5.4873C6.33203 5.59668 6.91309 5.66504 7.52148 5.69238V7.58594H5.49121ZM8.47852 7.58594V5.69238C9.08691 5.66504 9.66797 5.59668 10.2148 5.4873C10.3721 6.12988 10.4746 6.84082 10.5088 7.58594H8.47852ZM2.05273 8.54297H4.51367C4.54785 9.39746 4.66406 10.1973 4.8418 10.915C4.21973 11.1133 3.68652 11.373 3.27637 11.6807C2.59277 10.792 2.14844 9.71191 2.05273 8.54297ZM5.49121 8.54297H7.52148V10.4707C6.91992 10.498 6.33203 10.5664 5.79199 10.6689C5.62793 10.0195 5.51855 9.29492 5.49121 8.54297ZM8.47852 10.4707V8.54297H10.5088C10.4814 9.29492 10.3721 10.0195 10.208 10.6689C9.66797 10.5664 9.08691 10.498 8.47852 10.4707ZM11.1582 10.915C11.3428 10.1973 11.4521 9.39746 11.4863 8.54297H13.9473C13.8516 9.71191 13.4072 10.792 12.7236 11.6807C12.3135 11.373 11.7803 11.1133 11.1582 10.915ZM8.47852 11.4277C8.99121 11.4482 9.47656 11.4961 9.9209 11.5781C9.55176 12.5625 9.03906 13.2939 8.47852 13.5605V11.4277ZM6.0791 11.5781C6.52344 11.4961 7.00879 11.4482 7.52148 11.4277V13.5605C6.96094 13.2939 6.44824 12.5625 6.0791 11.5781ZM3.90527 12.3848C4.24023 12.1523 4.65039 11.9609 5.12207 11.8105C5.42969 12.6309 5.83301 13.3008 6.30469 13.7793C5.40234 13.5059 4.58203 13.0205 3.90527 12.3848ZM10.8779 11.8105C11.3496 11.9609 11.7598 12.1523 12.0947 12.3848C11.418 13.0205 10.5977 13.5059 9.69531 13.7793C10.167 13.3008 10.5703 12.6309 10.8779 11.8105Z"})})}}]);