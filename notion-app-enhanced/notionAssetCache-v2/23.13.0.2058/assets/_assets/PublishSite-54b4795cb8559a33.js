(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[63061],{444851:(e,t,i)=>{"use strict";i.d(t,{En:()=>s,IX:()=>o,Ky:()=>l,_e:()=>r,aH:()=>c,bd:()=>u,fT:()=>d,n4:()=>p,rb:()=>a,tD:()=>n,vi:()=>h,yx:()=>g});const s=8,n=10,a=8,o=24,r=6,l=1.5,d=(o-l)/2,c=o+r,u=`calc(100% + ${a+(s-r)-c}px)`,g=o+8,p=-16;function h(e){return"margin_comments"===e?12:"comment_unfurl"===e?14:16}},946735:(e,t,i)=>{"use strict";i.d(t,{Dr:()=>o,Jt:()=>r,Su:()=>a});var s=()=>i(677559);const n={pageVerification:new(s().Ss)("pageVerification",(()=>Promise.all([i.e(62743),i.e(44832),i.e(55253)]).then(i.bind(i,711296)))),pageVerificationBadge:new(s().Ss)("pageVerificationBadge",(()=>Promise.all([i.e(62743),i.e(44832),i.e(11189),i.e(53335),i.e(46616),i.e(61171),i.e(63502),i.e(99590),i.e(81917),i.e(10553),i.e(22371),i.e(77679),i.e(64153)]).then(i.bind(i,776864)))),pageVerificationMenuRenderer:new(s().Ss)("pageVerificationMenuRenderer",(()=>Promise.all([i.e(62743),i.e(44832),i.e(11189),i.e(53335),i.e(46616),i.e(61171),i.e(63502),i.e(99590),i.e(81917),i.e(10553),i.e(22371),i.e(77679),i.e(71e3)]).then(i.bind(i,852586))))},a=(0,s().kF)(n.pageVerification,(e=>e.PageAddVerificationButton)),o=(0,s().kF)(n.pageVerificationBadge,(e=>e.PageVerificationBadge)),r=(0,s().kF)(n.pageVerificationMenuRenderer,(e=>e.PageVerificationMenuRenderer))},690277:(e,t,i)=>{"use strict";i.d(t,{E:()=>l});var s=()=>i(142735),n=()=>i(696459),a=()=>i(239482),o=()=>i(926434),r=()=>i(876822);function l(e){let{store:t}=e;return(0,s().VK)((()=>{const e=(0,o().B)({blockId:t.id,setting:"publicAccess"});if((0,n().$K)(e))return e;const i=r().default.state.currentSpaceStore,s=(0,a().VP)(t);return s?{disabled:Boolean(s.getDisablePublicAccess()),disabledBy:"team"}:!s&&null!=i&&i.getDisablePublicAccess()?{disabled:!0,disabledBy:"space"}:{disabled:!1}}),[t])}},585742:(e,t,i)=>{"use strict";i.d(t,{W:()=>n});class s extends(()=>i(442))().Z{}const n=new s},339858:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var s=()=>i(846550),n=()=>i(968061),a=()=>i(467526);function o(e){const{style:t}=e,i=(0,s().Fg)(),o=(0,s().yK)((e=>({notionLogo:{height:14,width:14,fill:e.icon.primary,...t}})),[t]);return"light"===i.mode?(0,n().h)(o.notionLogo):(0,a().N)(o.notionLogo)}},838250:(e,t,i)=>{"use strict";i.d(t,{Z:()=>f});i(667294);var s=()=>i(219727),n=()=>i(142735),a=()=>i(846550),o=i(785893);const r=(0,i(827282).IU)("windowsControls",{viewBox:"0 0 51 9",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("rect",{width:"6",height:".75",x:"1.5",y:"4.625",rx:".375"}),(0,o.jsx)("path",{d:"M22.875 1.25c-.621 0-1.125.504-1.125 1.125v5.25c0 .621.504 1.125 1.125 1.125h5.25c.621 0 1.125-.504 1.125-1.125v-5.25c0-.621-.504-1.125-1.125-1.125h-5.25Zm0 .75h5.25c.207 0 .375.168.375.375v5.25a.375.375 0 0 1-.375.375h-5.25a.375.375 0 0 1-.375-.375v-5.25c0-.207.168-.375.375-.375ZM43.566 2.162l.044-.052a.375.375 0 0 1 .478-.043l.052.043 2.36 2.36 2.36-2.36a.375.375 0 0 1 .53.53L47.03 5l2.36 2.36c.13.13.145.332.044.478l-.044.052a.375.375 0 0 1-.478.044l-.052-.044-2.36-2.36-2.36 2.36a.375.375 0 1 1-.53-.53L45.97 5l-2.36-2.36a.375.375 0 0 1-.044-.478l.044-.052-.044.052Z"})]})});var l=()=>i(943620),d=()=>i(251932),c=()=>i(663132),u=()=>i(759160),g=()=>i(339858);const p={small:4,regular:8},h={small:{height:22,paddingLeft:8,paddingRight:10},regular:{height:42,paddingTop:10,paddingLeft:20,paddingRight:20,paddingBottom:8}},m={small:{height:28,paddingLeft:8,paddingRight:12},regular:{paddingTop:12,paddingLeft:16,paddingRight:16,paddingBottom:2}};function f(e){const{isMac:t}=(0,s().Fy)();return t?(0,o.jsx)(b,{...e}):(0,o.jsx)(y,{...e})}function b(e){const{store:t,siteRootBlockStore:i,size:s,location:n,showAddressBar:r}=e,l=p[s??"regular"],c=(0,a().yK)((e=>({container:{borderTopRightRadius:6,borderTopLeftRadius:6,backgroundColor:"publish_preview"===n?e.accentColors.gray[75]:"transparent",...h[s??"regular"]},contentContainer:{flex:1}})),[n,s]),u=r&&t&&i;return(0,o.jsxs)(d().gq,{alignItems:"center",gap:l,style:c.container,children:[(0,o.jsx)(C,{size:s}),u&&(0,o.jsx)(d().gq,{justifyContent:"center",alignItems:"center",style:c.contentContainer,children:(0,o.jsx)(v,{store:t,siteRootBlockStore:i})})]})}function C(e){const{size:t}=e,i=(0,a().yK)((e=>{const i="small"===t?6:10;return{circle:{borderRadius:"50%",height:i,width:i,background:e.icon.quaternary}}}),[t]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{style:i.circle}),(0,o.jsx)("div",{style:i.circle}),(0,o.jsx)("div",{style:i.circle})]})}function y(e){const{store:t,siteRootBlockStore:i,size:s,location:n,showAddressBar:r}=e,l=p[s??"regular"],c=(0,a().yK)((e=>({container:{width:"100%",borderTopRightRadius:6,borderTopLeftRadius:6,backgroundColor:"publish_preview"===n?e.sitesPagePreviewWindowsChromeBar:"transparent",...m[s??"regular"]},buttonContainer:{paddingLeft:6,fontSize:12},windowsButtons:{paddingRight:2}})),[n,s]),u=r&&t&&i;return(0,o.jsxs)(d().gq,{alignItems:"center",justifyContent:u?"center":"flex-end",gap:l,style:c.container,children:[u&&(0,o.jsx)(v,{store:t,siteRootBlockStore:i}),(0,o.jsx)(x,{size:s,style:c.windowsButtons})]})}function x(e){const{size:t,style:i}=e,s=(0,a().yK)((e=>({icon:{height:"small"===t?9:24,width:"small"===t?51:70,color:e.icon.tertiary}})),[t]);return(0,o.jsx)("div",{style:i,children:r(s.icon)})}function v(e){const{store:t,siteRootBlockStore:i}=e,{isMac:r}=(0,s().Fy)(),{icon:p,isEmptyPage:h,publicDomainName:m}=(0,n().VK)((()=>{const e=u().Z.getState().faviconUrl;let s;const n=i.getSiteStore(),a=c().Co({spaceStore:t.getSpaceStore(),domainId:null==n?void 0:n.getDomainId()});return s=e?{pointer:i.pointer,icon:e}:t.getIcon(),{icon:s,isEmptyPage:t.isEmptyPage(),publicDomainName:a}}),[t,i]),f=(0,a().yK)((e=>({container:{paddingLeft:r?120:12,paddingRight:r?120:12,paddingTop:4,paddingBottom:4,background:e.contentBackground,borderRadius:r?16:20,border:`1px solid ${e.stroke.secondary}`,width:r?"auto":"100%",color:e.text.secondary,fontSize:12}})),[r]),b=p?(0,o.jsx)(l().Z,{disabled:!0,icon:p,isEmptyPage:h,disableShrinking:!0,size:16,emojiSize:16,style:{marginRight:4}}):(0,o.jsx)(g().Z,{});return(0,o.jsxs)(d().gq,{alignItems:"center",gap:4,style:f.container,children:[r&&b,m]})}},860675:(e,t,i)=>{"use strict";i.d(t,{Z:()=>y});i(670560),i(267602),i(30005),i(667294);var s=()=>i(142735),n=()=>i(846550),a=()=>i(44037),o=()=>i(159253),r=()=>i(968061),l=()=>i(467526),d=()=>i(519454),c=()=>i(899548),u=()=>i(858233),g=()=>i(396136),p=()=>i(788860),h=()=>i(707513),m=()=>i(943620),f=()=>i(384241),b=()=>i(826955),C=i(785893);function y(e){const{spaceStore:t,keys:i,size:s,showCustomHeaderPages:r,left:l,style:g}=e,p=(0,n().yK)((e=>{const t=w(s),i=function(e){return"small"===e?10:16}(s);return{topbarContainer:{display:"flex",alignItems:"center",marginLeft:8,marginRight:12,...g},actionsContainer:{display:"flex",flexDirection:"row",gap:i,alignItems:"center"},icon:{height:t,width:t,fill:e.icon.primary},searchIcon:{height:t-2,width:t-2,fill:e.icon.primary}}}),[s,g]),h=[];return i.forEach((e=>{"duplicate"===e?h.push((0,C.jsx)("div",{children:(0,a().a)(p.icon)},"duplicate")):"comment"===e?h.push((0,C.jsx)("div",{children:(0,u().o)(p.icon)},"comment")):"edit"===e?h.push((0,C.jsx)("div",{children:(0,d().R)(p.icon)},"edit")):"more"===e?h.push((0,C.jsx)("div",{children:(0,o().O)(p.icon)},"more")):"search"===e?h.push((0,C.jsx)("div",{children:(0,c().R)(p.searchIcon)},"search")):"signUpOrLogIn"===e?h.push((0,C.jsx)(x,{size:s},"signUpOrLogIn")):t&&r&&h.push((0,C.jsx)(v,{spaceStore:t,blockId:e},e))})),(0,C.jsxs)("div",{style:p.topbarContainer,children:[l,(0,C.jsx)("div",{style:{flex:1}}),(0,C.jsx)("div",{style:p.actionsContainer,children:h})]})}function x(e){const{size:t}=e,i=(0,n().yK)((e=>{const i=w(t),s=function(e){return"small"===e?{paddingTop:2,paddingBottom:2,paddingLeft:6,paddingRight:6}:"large"===e?{paddingTop:4,paddingBottom:4,paddingLeft:10,paddingRight:10}:{paddingTop:4,paddingBottom:4,paddingLeft:8,paddingRight:8}}(t);return{signUpContainer:{display:"flex",alignItems:"center",gap:4,border:`1px solid ${e.darkDividerColor}`,borderRadius:4,fontSize:j(t),fontWeight:h().Ue.medium,whiteSpace:"nowrap",...s},icon:{height:i-2,width:i-2,fill:e.icon.primary}}}),[t]),s=(0,n().Fg)();return(0,C.jsxs)("div",{style:i.signUpContainer,children:[(0,C.jsx)(p()._H,{defaultMessage:"Made with",id:"publishSiteSettings.topbar.madeWithPreview"}),"light"===s.mode?(0,r().h)(i.icon):(0,l().N)(i.icon)]})}function v(e){const{spaceStore:t,blockId:i}=e,{store:a,icon:o,isEmptyPage:r}=(0,s().VK)((()=>{const e=b().G.createChildStore(t,{table:g().iU,id:i});return{store:e,icon:e.getIcon(),isEmptyPage:e.isEmptyPage()}}),[t,i]),l=(0,n().yK)((()=>({container:{display:"flex",alignItems:"center",gap:4},pageTitle:{fontSize:14,wordBreak:"break-word",marginRight:4}})),[]);return(0,C.jsxs)("div",{style:l.container,children:[o&&(0,C.jsx)(m().Z,{icon:o,store:a,disabled:!0,size:14,isEmptyPage:r,emojiSize:20,style:{marginRight:4}}),(0,C.jsx)(f().Z,{store:a,style:l.pageTitle,maxLength:24})]})}function w(e){return"small"===e?12:16}function j(e){return"small"===e?9:"large"===e?14:12}},760396:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>N});var s=i(667294),n=()=>i(219727),a=()=>i(142735),o=()=>i(846550),r=i(785893);const l=(0,i(827282).IU)("disabledGlobe",{viewBox:"0 0 27 27",svg:(0,r.jsx)("path",{d:"M13.487.885c1.77 0 3.437.338 5.002 1.015a13.216 13.216 0 0 1 4.139 2.806 13.216 13.216 0 0 1 2.806 4.139c.677 1.557 1.015 3.22 1.015 4.989 0 1.329-.199 2.607-.597 3.834a12.81 12.81 0 0 1-1.663 3.377l-2.348-2.336 2.018-.965c.288-.61.504-1.244.648-1.904a9.39 9.39 0 0 0 .216-2.006c0-1.075-.148-2.103-.445-3.085a15.528 15.528 0 0 1-2.78 1.816c-.973.499-1.98.892-3.021 1.18.177.474.35.935.52 1.384.178.44.351.855.52 1.244l-3.732-3.732.673-.039c-.27-.99-.453-1.976-.546-2.957a16.834 16.834 0 0 1-.025-2.92c.084-.974.254-1.939.508-2.895l-.127-.025A17.942 17.942 0 0 0 14.73 7.13a19.65 19.65 0 0 0-.863 3.605l-1.308-1.32c.23-1.185.555-2.336.978-3.453A21.505 21.505 0 0 1 15.1 2.726a16.891 16.891 0 0 0-.28-.026 1.558 1.558 0 0 0-.279-.025 19.794 19.794 0 0 0-3.936 4.799L9.514 6.369c.389-.66.82-1.299 1.295-1.917.474-.618.986-1.214 1.536-1.79-.88.093-1.727.288-2.54.584-.812.288-1.57.669-2.272 1.143L6.276 3.132a12.772 12.772 0 0 1 3.377-1.65 12.355 12.355 0 0 1 3.834-.597ZM23.694 9.25a11.144 11.144 0 0 0-2.31-3.339 11.096 11.096 0 0 0-3.352-2.31 14.048 14.048 0 0 0-.596 2.856 15.699 15.699 0 0 0 0 2.958c.093.982.27 1.942.533 2.882 1.05-.28 2.056-.673 3.021-1.18a14.658 14.658 0 0 0 2.704-1.867ZM13.5 26.783c-1.769 0-3.436-.338-5.002-1.015a13.258 13.258 0 0 1-4.126-2.806 13.257 13.257 0 0 1-2.806-4.126 12.466 12.466 0 0 1-1.015-5.002c0-1.329.199-2.603.596-3.821a13.258 13.258 0 0 1 1.65-3.39L4.03 7.867c-.55.872-.981 1.811-1.295 2.818a10.814 10.814 0 0 0-.457 3.149c0 .127.005.254.013.38l.025.369a19.857 19.857 0 0 0 4.063 2.653c.008-1.05.093-2.082.254-3.097.16-1.016.393-2.006.698-2.971l1.244 1.231c-.228.83-.402 1.685-.52 2.565-.11.88-.161 1.862-.153 2.945 1.6.627 3.255 1.037 4.964 1.232a19.7 19.7 0 0 1-.342-1.486c-.094-.49-.161-.99-.204-1.498l1.816 1.803a4.261 4.261 0 0 0 .203.965c.127.017.254.03.38.038.136 0 .272-.004.407-.013l1.765 1.765a11.57 11.57 0 0 1-.927.063c-.305.009-.614.013-.927.013.254.643.538 1.278.85 1.904.322.618.674 1.22 1.054 1.803a9.848 9.848 0 0 0 2.514-1.219l1.27 1.257a12.927 12.927 0 0 1-3.403 1.65 12.237 12.237 0 0 1-3.821.597ZM7.089 23a23.751 23.751 0 0 1-.432-2.006c-.11-.66-.186-1.337-.228-2.031a18.156 18.156 0 0 1-1.905-.952 22.422 22.422 0 0 1-1.802-1.155 10.839 10.839 0 0 0 1.663 3.465A11.602 11.602 0 0 0 7.089 23Zm8.29 1.892a21.73 21.73 0 0 1-1.13-2.032 19.554 19.554 0 0 1-.889-2.133 20.538 20.538 0 0 1-5.332-1.142c.076.787.203 1.566.381 2.336.186.762.406 1.494.66 2.196a11.21 11.21 0 0 0 2.133.686c.745.169 1.51.254 2.298.254.322 0 .639-.013.952-.038.313-.026.622-.068.927-.127Zm9.077 1.294L1.147 2.891a.932.932 0 0 1-.279-.686c0-.28.093-.512.28-.698a.953.953 0 0 1 .698-.292c.279 0 .512.097.698.292L25.84 24.79a.96.96 0 0 1 .28.686c0 .27-.094.503-.28.698a.926.926 0 0 1-.698.292.871.871 0 0 1-.686-.28Z"})});var d=()=>i(456681),c=()=>i(396136),u=()=>i(349220),g=()=>i(788860),p=()=>i(707513),h=()=>i(752127),m=()=>i(663366),f=()=>i(1910),b=()=>i(661297),C=()=>i(906651),y=()=>i(654133),x=()=>i(67961),v=()=>i(148126),w=()=>i(480089),j=()=>i(690277),S=()=>i(314169),L=()=>i(266184),I=()=>i(998901),M=()=>i(876822),R=()=>i(749826),B=()=>i(314160),k=()=>i(998470),V=()=>i(666414),P=()=>i(943620),_=()=>i(384241),Z=()=>i(251932),T=()=>i(75751),H=()=>i(778447),A=()=>i(681035),F=()=>i(838250),z=()=>i(860675);function K(e){const{store:t,containerStyles:i={},overlayWidth:s="100%"}=e,n=(0,a().VK)((()=>t.getSpaceStore()),[t]),l=(0,o().yK)((e=>({container:{display:"flex",alignSelf:"stretch",flexDirection:"column",width:"92%",marginLeft:"auto",marginRight:"auto",borderTopRightRadius:6,borderTopLeftRadius:6,boxShadow:e.shadowSM,...i},topbarContainer:{paddingTop:6,paddingBottom:6}})),[i]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{style:l.container,children:[(0,r.jsx)(F().Z,{size:"small",location:"publish_preview"}),(0,r.jsx)(V().Z,{size:1}),(0,r.jsx)(z().Z,{spaceStore:n,keys:["search","more","signUpOrLogIn"],size:"small",left:(0,r.jsx)(U,{store:t}),style:l.topbarContainer}),(0,r.jsx)(V().Z,{size:1}),(0,r.jsx)(E,{store:t})]}),(0,r.jsx)(W,{width:s})]})}function U(e){const{store:t}=e,i=(0,a().VK)((()=>t.getIcon()),[t]),s=(0,o().yK)((e=>({container:{display:"flex",alignItems:"center",gap:4},pageTitle:{color:e.text.secondary,fontSize:9,lineHeight:1.25}})),[]);return(0,r.jsxs)("div",{style:s.container,children:[i&&(0,r.jsx)(P().Z,{disabled:!0,icon:i,isEmptyPage:!1,disableShrinking:!0,size:12,emojiSize:12,style:{marginRight:4}}),(0,r.jsx)(_().Z,{maxLength:24,store:t,style:s.pageTitle})]})}function E(e){const{store:t}=e,{isMobile:i}=(0,n().Fy)(),s=(0,a().VK)((()=>t.getFormat()),[t]),{icon:l,isEmptyPage:d,cover:c}=(0,a().VK)((()=>({icon:t.getIcon(),isEmptyPage:t.isEmptyPage(),cover:t.getCover()})),[t]),u=(0,o().yK)((e=>{const t=s.page_font||H().rk,i=H().sL[t],n=H().VN[t],a=H().n5[t]||1.5;return{pageIcon:{position:"relative",marginLeft:48,marginTop:-24,marginBottom:8},contentWrap:{color:e.text.primary,fontSize:11,marginBottom:0,width:"110%",transform:"translateX(-13px) translateY(-2px) scale(0.91)",fontFamily:i,letterSpacing:n?`${n}em`:void 0,lineHeight:a},contentEmpty:{height:48},imageCoverWrap:{marginBottom:16},contentContainer:{marginTop:!l&&c?16:8,marginLeft:32,marginRight:32,paddingLeft:16,paddingRight:16},pageTitleContainer:{verticalAlign:"top",lineHeight:1.15,...p().Yu},pageTitle:{display:"inline",fontWeight:p().Ue.semibold,color:e.text.primary,fontSize:24,fontFamily:i,letterSpacing:n?`${n}em`:void 0,lineHeight:a},pageContent:{fontFamily:i,letterSpacing:n?`${n}em`:void 0,lineHeight:a}}}),[s,l,c]),g=(0,a().VK)((()=>d||t.isCollectionView()?(0,r.jsx)("div",{style:u.contentEmpty}):(0,r.jsx)(A().S,{variant:"default",store:t,coverFormat:{type:"page_content"},coverHeight:48,contentWrapStyle:u.contentWrap,imageCoverWrapStyle:u.imageCoverWrap,emptyGalleryCoverStyle:u.contentEmpty,showEmptyGalleryCover:!0,onLoadProxiedImage:()=>{},renderAdditionalBlocks:!1})),[t,u,d]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(D,{store:t}),l&&(0,r.jsx)(P().Z,{disabled:!0,icon:l,isEmptyPage:d,isLarge:!0,disableShrinking:!0,size:42,emojiSize:42,largeIcon:!0,style:u.pageIcon}),(0,r.jsxs)(Z().Ht,{gap:8,style:u.contentContainer,children:[(0,r.jsx)("div",{style:u.pageTitleContainer,children:(0,r.jsx)(_().Z,{maxLength:i?22:24,store:t,style:u.pageTitle})}),g]})]})}function D(e){const{store:t,height:i=62}=e,s=(0,o().yK)((()=>({coverContainer:{height:i}})),[i]),n=(0,a().VK)((()=>t.getCover()),[t]);return(0,r.jsx)("div",{style:s.coverContainer,children:n&&(0,r.jsx)(T().Z,{store:t,disabled:!0,paddingLeft:0,paddingRight:0,height:i,proxyWidth:260})})}function W(e){const{width:t="100%"}=e,{isMobile:i}=(0,n().Fy)(),s=(0,o().yK)((e=>({overlay:{width:"100%",position:"absolute",background:`linear-gradient(to bottom, transparent, ${i?e.contentBackground:e.surface.elevated} 100%)`,height:58,left:0,bottom:0}})),[i]);return(0,r.jsx)("div",{style:{position:"relative",width:t},children:(0,r.jsx)("div",{style:s.overlay})})}function N(e){const{store:t,mostPermissivePublicItem:i,sudoModeStore:d,location:u}=e,{permissionItem:h,from:f}=i,y=(0,n().O7)(),v=(0,a().VK)((()=>t.getSpaceStore()),[t]),I=(0,s.useCallback)((()=>{v&&L().Sl(y,{spaceStore:v}).then((e=>{(0,B().mm)(y,{target_block_id:t.id,user_current_live_sites_count:e.length})}))}),[y,t,v]),V=(0,a().VK)((()=>t.canAdmin()),[t]),P=(0,j().E)({store:t}),_=(0,w().cR)(t),Z=(0,w().xb)(t),T=!V||P.disabled||_||Z,H=(0,o().yK)((e=>({container:{display:"flex",alignItems:"center",flexDirection:"column",justifyContent:T?"center":"flex-start",paddingTop:T?6:12,paddingBottom:T?24:20,paddingLeft:20,paddingRight:20,gap:T?8:0,cursor:T?"not-allowed":"default",height:y.device.isMobile&&T?"100%":T?276:"auto"},titleContainer:{display:"flex",alignItems:"center",flexDirection:"column",gap:4},title:{fontWeight:p().Ue.semibold,fontSize:16,lineHeight:1.2,color:T?e.text.secondary:e.text.primary},caption:{display:"flex",alignItems:"center",marginLeft:26,marginRight:26,marginBottom:T?0:20,width:T?"85%":"auto",textAlign:"center"},button:{display:"flex",width:"100%",padding:16,borderRadius:6,zIndex:1},disabledIcon:{height:27,width:27,margin:5,fill:e.text.tertiary},overlay:{height:12,left:0,top:0,background:e.contentBackground,width:"100%",position:"absolute"},disabledPublishingMessage:{fontWeight:p().Ue.medium},restoreFromTrashButton:{fontSize:12,fontWeight:p().Ue.medium,margin:"12px",padding:"0px 8px",height:28}})),[T,y.device.isMobile]),A=(0,s.useCallback)((()=>{var e;const i=null===(e=M().default.state.currentSpaceStore)||void 0===e?void 0:e.getDisableMoveToSpace(),s=f.table===c().iU?f.blockId:f.teamId,n=!i&&h.allow_duplicate;k().Fo({environment:y,type:"site",store:t});const a=function(e,t){const{is_public_share_link:i}=e;if(!R().default.checkGate({gateName:"sharing_anyone_with_the_link"}))return{...e,role:"reader",allow_duplicate:t};if(i)return{...e,is_site:!0,allow_duplicate:t};return{...e,role:"reader",is_site:!0,allow_duplicate:t}}(h,n);(0,S().iK)({oldPermissionItem:h,newPermissionItem:a,wasInherited:s!==t.id,environment:y,store:t,sudoModeStore:d,location:u}),I()}),[I,y,t,h,f,d,u]),F=(0,s.useCallback)((()=>{const{currentSpaceStore:e}=M().default.state;e&&m().DV({environment:y,block:t,spaceId:t.pointer.spaceId||e.id,from:"disabled_publish_modal"})}),[t,y]);return(0,r.jsxs)("div",{style:H.container,children:[T?l(H.disabledIcon):null,(0,r.jsxs)("div",{style:H.titleContainer,children:[T?(0,r.jsx)($,{store:t}):(0,r.jsx)("div",{style:H.title,children:(0,r.jsx)(g()._H,{id:"publishSite.publishTab.title",defaultMessage:"Publish to web"})}),(0,r.jsx)(x().Z,{isMultiline:!0,isSecondaryColor:!0,style:H.caption,children:(0,r.jsx)(G,{store:t})}),T&&_&&(0,r.jsx)(b().Z,{onClick:F,style:H.restoreFromTrashButton,children:"Restore"})]}),T?null:(0,r.jsx)(K,{store:t}),T?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C().Z,{style:H.button,disabled:T,onClick:A,children:(0,r.jsx)(g()._H,{id:"publishSite.publish.title",defaultMessage:"Publish"})}),y.device.isMobile&&(0,r.jsx)("div",{style:{position:"relative",width:"100%"},children:(0,r.jsx)("div",{style:H.overlay})})]})]})}function $(e){const{store:t}=e,i=(0,o().yK)((()=>({disabledPublishingHeadline:{fontWeight:p().Ue.medium,textAlign:"center",width:"85%"}})),[]),s=e=>{const{messageId:t,defaultMessage:s,description:n}=e;return(0,r.jsx)("div",{style:i.disabledPublishingHeadline,children:(0,r.jsx)(x().Z,{isSecondaryColor:!0,isMultiline:!0,children:(0,r.jsx)(g()._H,{defaultMessage:"{defaultMessage}",id:"{messageId}",values:{messageId:t,defaultMessage:s,description:n}})})})},n=(0,j().E)({store:t}),l=(0,w().cR)(t),d=(0,w().xb)(t),c=(0,a().VK)((()=>!t.canAdmin()),[t]);return(0,u().T)(n.disabled||l||d||c,"Disabled headline not allowed for block's current state"),n.disabled&&"team"===n.disabledBy?s({messageId:"publishSite.disabledByTeamspace.headline",defaultMessage:"Publishing is disabled in this teamspace",description:"Headline for publish to web section when public sharing is disabled via teamspace security settings."}):n.disabled&&"space"===n.disabledBy?s({messageId:"publishSite.disabledByWorkspace.headline",defaultMessage:"Publishing is disabled in this workspace",description:"Headline for publish to web section when public sharing is disabled via workspace security settings."}):s(l?{messageId:"publishSite.pageInTrash.headline",defaultMessage:"Pages in the trash can't be published",description:"Headline for publish to web section when the page is in trash."}:d?{messageId:"publishSite.hasAIEdits.headline",defaultMessage:"Pages with pending Notion AI changes can't be published",description:"Headline for publish to web section when the page has AI edits and the button is disabled."}:{messageId:"publishSite.noFullAccess.headline",defaultMessage:"You need full access to publish",description:"Headline for publish to web section when the user does not have full access to the page."})}function G(e){const{store:t}=e,i=(0,n().O7)(),s=(0,j().E)({store:t}),l=(0,w().cR)(t),c=(0,w().xb)(t),u=(0,a().VK)((()=>!t.canAdmin()),[t]),p=(0,o().yK)((e=>({helpIcon:{width:14,height:14,fill:e.icon.tertiary}})),[]);return s.disabled&&"team"===s.disabledBy?(0,r.jsx)(g()._H,{id:"publishSite.disabledByTeamspace.caption",defaultMessage:"Contact a teamspace owner to modify this setting"}):s.disabled&&"space"===s.disabledBy?(0,r.jsx)(g()._H,{id:"publishSite.disabledByWorkspace.caption",defaultMessage:"Contact a workspace owner to modify this setting"}):l?(0,r.jsx)(g()._H,{id:"publishSite.pageInTrash.caption",defaultMessage:"Restore this page to publish it to the web"}):c?(0,r.jsx)(g()._H,{id:"publishSite.hasAIEdits.caption",defaultMessage:"Accept or discard changes on this page to publish it to the web"}):u?(0,r.jsx)(g()._H,{id:"publishSite.noFullAccess.caption",defaultMessage:"Contact someone with full access to modify this setting"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g()._H,{id:"publishSite.hasFullAccess.caption",defaultMessage:"Create a website with Notion"}),(0,r.jsx)(y().Z,{renderTooltip:()=>(0,r.jsx)(g()._H,{id:"publishSite.help.tooltip",defaultMessage:"Learn more about Notion sites"}),render:e=>(0,r.jsx)(f().Z,{...e,style:{marginLeft:2,height:20,width:20},iconStyle:p.helpIcon,onClick:()=>{h().D({environment:i,url:(0,v().UY)("guides.autogeneratedDomains")})},icon:d().m,ariaLabel:"Learn more about sites"}),placement:I().Placement.Bottom})]})}},266184:(e,t,i)=>{"use strict";i.d(t,{Sl:()=>v,TA:()=>w,Zg:()=>y,a2:()=>S,eT:()=>j,mk:()=>x});i(821057),i(670560),i(267602),i(653476),i(667294);var s=()=>i(217465),n=()=>i(396136),a=()=>i(788860),o=()=>i(839002),r=()=>i(824462),l=()=>i(308186),d=()=>i(828946),c=()=>i(365872),u=()=>i(681832),g=()=>i(804217),p=()=>i(826955),h=()=>i(625820),m=()=>i(59864),f=()=>i(835374),b=i(785893);const C=50;function y(e){f().default.resetSitesForSpace(e.id)}async function x(e,t){const{spaceStore:i,currentUserId:a,limit:l}=t;if(!i.id)return;const[d]=await Promise.all([r().callApi({eventName:"getPublishedPagesForUser",environment:e,data:{spaceId:i.id,limit:l||C,fetchPublishedMetadata:!0}}),(0,o().Vs)(1500)]);if("failed"===d.type)throw new Error("Failed to fetch published pages.");if(d.data.recordMap){const e=[],t=s().RecordMapWithRole.create(d.data.recordMap),o=d.data.publishedEdits;for(const{model:s}of t)if(s&&s.table===n().iU){const t=p().G.createChildStore(i,{table:n().iU,id:s.id}),a=o[t.id],r=a&&a.authors?a.authors[0]:void 0,l={publishedTime:null==a?void 0:a.timestamp,publishedBy:r};e.push({store:t,publishedMetadata:l})}let r=e;return a&&(r=m().S(e,a)),f().default.initializeSiteResultsForSpace(i.id,r),r}}async function v(e,t){const{spaceStore:i}=t,s=e.currentUser.id,n=await x(e,{spaceStore:i,currentUserId:s});return n?n.filter((e=>{var t;return(null===(t=e.publishedMetadata.publishedBy)||void 0===t?void 0:t.id)===s})):[]}function w(e){c().lG(e),u().default.setState({...u().default.state,display:u().wV.Publish,tab:u().XF.Publish})}async function j(e){return new Promise(((t,i)=>{l().vC({message:(0,b.jsx)("div",{style:{textAlign:"center"},children:(0,b.jsx)(a()._H,{id:"sites.confirmUnpublish.title",defaultMessage:"Unpublish this site?"})}),description:(0,b.jsx)("div",{style:{textAlign:"center"},children:(0,b.jsx)(a()._H,{id:"sites.confirmUnpublish.caption",defaultMessage:"{pageTitle} will no longer be live on the web.",values:{pageTitle:e}})}),keepFocus:!0,items:[{label:(0,b.jsx)(a()._H,{id:"sites.confirmUnpublish.confirm",defaultMessage:"Unpublish"}),color:"red",onAccept:()=>t(!0)}],showCancel:!0})}))}async function S(e,t){if(!g().default.state.online)return[];const i=await d().x.searchActions.load();return await i.searchPublicPages({environment:t,query:e,source:"public_home_page_menu",limit:h().Xv})}},59864:(e,t,i)=>{"use strict";i.d(t,{N:()=>r,S:()=>o});i(267602),i(470928);var s=()=>i(933868),n=()=>i(201565),a=()=>i(122479);function o(e,t){return e.sort(((e,i)=>{const s=e.store.canAdmin();if(s===i.store.canAdmin()){var n,a;const s=null===(n=e.publishedMetadata.publishedBy)||void 0===n?void 0:n.id,o=e.publishedMetadata.publishedTime,r=null===(a=i.publishedMetadata.publishedBy)||void 0===a?void 0:a.id,l=i.publishedMetadata.publishedTime;if(t){if(s===t&&r===t&&o&&l)return l-o;if(s===t)return-1;if(r===t)return 1}return o&&l?l-o:0}return s?-1:1}))}function r(e){const{environment:t,store:i}=e;if(!i.pathIsAccessibleAndAlive())return!1;const o=a().YO(i).find((e=>(0,s().$D)(e.permissionItem)&&"none"!==e.permissionItem.role));return!!o&&(!(!(0,s().$D)(o.permissionItem)||!(0,n().L)(o.permissionItem))&&!a().eV(t,i))}},835374:(e,t,i)=>{"use strict";i.d(t,{default:()=>a});i(267602),i(653476);var s=()=>i(513670);class n extends(()=>i(263184))().default{getInitialState(){return{sites:{},sortAscending:!0,sortColumn:void 0}}initializeSiteResultsForSpace(e,t){this.state.sites[e]=t,this.emit()}getSortedSitesForSpace(e,t){const{sortAscending:n,sortColumn:a}=this.state,o=this.state.sites[e];if(o)switch(a){case"page":return s().Xo(o,(e=>i(955620).QaF(e.store.getTitleValue()).toLowerCase()),n?"asc":"desc");case"published-by":return s().Xo(o,(e=>{const s=e.publishedMetadata.publishedBy,n=s?i(826955).t1.createChildStore(e.store,s):void 0;return null==n?void 0:n.getDisplayName(t).toLowerCase()}),n?"asc":"desc");case"published-date":return s().Xo(o,(e=>e.publishedMetadata.publishedTime),n?"asc":"desc");default:return o}}removeSiteFromSpace(e,t){const i=this.state.sites[e];i&&(this.state.sites[e]=i.filter((e=>e.store.id!==t)),this.emit())}resetSitesForSpace(e){this.state.sites[e]=void 0}}const a=new n},383499:(e,t,i)=>{"use strict";i.d(t,{P:()=>n});i(667294);var s=i(785893);const n=(0,i(827282).IU)("addPageCover",{viewBox:"0 0 14 14",svg:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 0a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm0 12h10L8.5 5.5l-2 4-2-1.5L2 12z"})})},666669:(e,t,i)=>{"use strict";i.d(t,{z:()=>n});i(667294);var s=i(785893);const n=(0,i(827282).IU)("collectionDescriptionSmall",{viewBox:"0 0 14 14",svg:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 4.667C6.69049 4.667 6.39366 4.54405 6.17481 4.32519C5.95595 4.10634 5.833 3.80951 5.833 3.5C5.833 3.19049 5.95595 2.89366 6.17481 2.67481C6.39366 2.45595 6.69049 2.333 7 2.333C7.30951 2.333 7.60634 2.45595 7.82519 2.67481C8.04405 2.89366 8.167 3.19049 8.167 3.5C8.167 3.80951 8.04405 4.10634 7.82519 4.32519C7.60634 4.54405 7.30951 4.667 7 4.667V4.667ZM8 11C8 11.2652 7.89464 11.5196 7.70711 11.7071C7.51957 11.8946 7.26522 12 7 12C6.73478 12 6.48043 11.8946 6.29289 11.7071C6.10536 11.5196 6 11.2652 6 11V7C6 6.73478 6.10536 6.48043 6.29289 6.29289C6.48043 6.10536 6.73478 6 7 6C7.26522 6 7.51957 6.10536 7.70711 6.29289C7.89464 6.48043 8 6.73478 8 7V11ZM7 0C5.14348 0 3.36301 0.737498 2.05025 2.05025C0.737498 3.36301 0 5.14348 0 7C0 8.85652 0.737498 10.637 2.05025 11.9497C3.36301 13.2625 5.14348 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.14348 13.2625 3.36301 11.9497 2.05025C10.637 0.737498 8.85652 0 7 0V0Z"})})},467526:(e,t,i)=>{"use strict";i.d(t,{N:()=>n});i(667294);var s=i(785893);const n=(0,i(827282).IU)("notionLogoBlockMonoWhite",{viewBox:"0 0 381 396",svg:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M235.875 0.868913L42.2191 15.1299L42.0716 15.1427C29.2402 16.2539 17.5452 21.4575 9.54377 31.7056C2.00788 41.3575 0 52.6286 0 61.8081V273.61C0 290.004 6.39474 302.931 16.1515 315.934L16.2408 316.053L61.92 375.319L61.9886 375.407C67.4438 382.345 74.2617 388.53 83.9092 392.051C92.764 395.282 101.803 395.406 109.715 395.029L109.86 395.022L335.006 381.426L335.127 381.417C347.547 380.535 360.717 376.889 370.12 366.212C379.335 355.75 380.958 342.967 380.958 333.359V95.0753C380.958 86.7983 378.898 78.5009 372.39 70.965C368.595 66.5704 363.178 62.6545 359.406 59.9283C358.887 59.5528 358.398 59.1998 357.95 58.8713L357.768 58.7383L295.914 15.2639C287.833 9.40276 279.51 4.11203 268.519 1.62123C258.306 -0.693516 247.597 -0.133719 235.875 0.868913ZM44.056 38.0569L237.701 23.7967C239.187 23.6692 240.605 23.5551 241.959 23.4557C262.28 21.965 268.533 23.8019 282.545 33.9806L344.359 77.4261C344.891 77.8156 345.404 78.1905 345.899 78.5522C354.904 85.1258 357.958 87.3558 357.958 95.0753V333.359C357.958 347.359 353.177 355.996 336.907 358.134C335.822 358.277 334.687 358.391 333.498 358.475L108.619 372.055C94.3416 372.736 87.5464 370.701 80.0693 361.191L34.5487 302.131C34.0389 301.451 33.5477 300.782 33.0748 300.123C25.9812 290.237 23 282.531 23 273.61V61.8081C23 60.2816 23.085 58.7867 23.2643 57.3368C23.7339 53.5393 24.8501 50.0501 26.7789 47.1082C26.814 47.0547 26.8493 47.0014 26.8849 46.9483C26.9254 46.8879 26.9662 46.8277 27.0074 46.7677C30.2624 42.0312 35.7039 38.7802 44.056 38.0569Z",fill:"white"}),(0,s.jsx)("path",{d:"M80.7599 84.2182C91.6206 93.0413 95.6948 92.3681 116.088 91.0076L308.351 79.463C312.429 79.463 309.038 75.3949 307.678 74.7188L275.747 51.6355C269.629 46.8857 261.478 41.446 245.855 42.8066L59.6871 56.3852C52.8978 57.0584 51.5415 60.453 54.2457 63.1742L80.7599 84.2182Z",fill:"white"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M92.3031 331.318V129.025C92.3031 120.201 95.021 116.125 103.169 115.44L323.977 102.546C331.466 101.868 334.857 106.623 334.857 115.44V316.376C334.857 325.208 333.495 332.686 321.261 333.359L109.964 345.585C97.7361 346.257 92.3031 342.191 92.3031 331.318ZM294.768 152.79C300.894 152.102 302.249 145.992 300.894 139.876L254.001 142.606C247.206 143.279 241.778 148.708 243.135 156.184L260.804 158.213V251.899L191.501 145.995L141.221 149.384C131.703 150.068 128.311 158.886 129.672 165.002L146.654 166.363V300.099L134.424 303.489C129.67 304.848 128.308 311.631 129.67 314.35L176.538 311.631C193.54 311.631 193.54 299.418 193.54 299.418L172.467 294.662V193.514L239.06 298.057C247.206 308.234 249.929 311.631 260.804 311.631C267.596 311.631 275.747 308.915 284.586 304.164V154.818L294.768 152.79Z",fill:"white"})]})})},858233:(e,t,i)=>{"use strict";i.d(t,{o:()=>n});i(667294);var s=i(785893);const n=(0,i(827282).IU)("topbarCommentFilled",{viewBox:"0 0 20 20",svg:(0,s.jsx)("path",{d:"M6.27344 19.0703C5.96094 19.0703 5.71615 18.9688 5.53906 18.7656C5.36719 18.5625 5.28125 18.2865 5.28125 17.9375V16.0156H4.85938C4.10417 16.0156 3.45573 15.8698 2.91406 15.5781C2.3776 15.2865 1.96354 14.8698 1.67188 14.3281C1.38542 13.7812 1.24219 13.1198 1.24219 12.3438V6.28125C1.24219 5.50521 1.38542 4.84635 1.67188 4.30469C1.95833 3.75781 2.3724 3.33854 2.91406 3.04688C3.46094 2.75521 4.1276 2.60938 4.91406 2.60938H15.0781C15.8594 2.60938 16.5234 2.75521 17.0703 3.04688C17.6172 3.33854 18.0339 3.75781 18.3203 4.30469C18.6068 4.84635 18.75 5.50521 18.75 6.28125V12.3438C18.75 13.1198 18.6068 13.7812 18.3203 14.3281C18.0339 14.8698 17.6172 15.2865 17.0703 15.5781C16.5234 15.8698 15.8594 16.0156 15.0781 16.0156H10.25L7.57812 18.3828C7.3125 18.6172 7.08333 18.7891 6.89062 18.8984C6.69792 19.013 6.49219 19.0703 6.27344 19.0703ZM6.65625 17.3438L9.13281 14.8906C9.29948 14.724 9.45312 14.6146 9.59375 14.5625C9.73958 14.5052 9.93229 14.4766 10.1719 14.4766H15.0312C15.7708 14.4766 16.3177 14.2943 16.6719 13.9297C17.0312 13.5599 17.2109 13.013 17.2109 12.2891V6.32812C17.2109 5.60938 17.0312 5.06771 16.6719 4.70312C16.3177 4.33333 15.7708 4.14844 15.0312 4.14844H4.95312C4.21875 4.14844 3.67188 4.33333 3.3125 4.70312C2.95833 5.06771 2.78125 5.60938 2.78125 6.32812V12.2891C2.78125 13.013 2.95833 13.5599 3.3125 13.9297C3.67188 14.2943 4.21875 14.4766 4.95312 14.4766H6.02344C6.24219 14.4766 6.40104 14.526 6.5 14.625C6.60417 14.7188 6.65625 14.8828 6.65625 15.1172V17.3438ZM6.02344 7.25781C5.88802 7.25781 5.77344 7.21094 5.67969 7.11719C5.58594 7.01823 5.53906 6.90104 5.53906 6.76562C5.53906 6.63542 5.58333 6.52344 5.67188 6.42969C5.76562 6.33594 5.88281 6.28906 6.02344 6.28906H13.8828C14.0234 6.28906 14.1406 6.33594 14.2344 6.42969C14.3281 6.52344 14.375 6.63542 14.375 6.76562C14.375 6.90104 14.3281 7.01823 14.2344 7.11719C14.1406 7.21094 14.0234 7.25781 13.8828 7.25781H6.02344ZM6.02344 9.74219C5.88802 9.74219 5.77344 9.69531 5.67969 9.60156C5.58594 9.50781 5.53906 9.39062 5.53906 9.25C5.53906 9.125 5.58333 9.01302 5.67188 8.91406C5.76562 8.8151 5.88281 8.76562 6.02344 8.76562H13.8828C14.0234 8.76562 14.1406 8.8151 14.2344 8.91406C14.3281 9.01302 14.375 9.125 14.375 9.25C14.375 9.39062 14.3281 9.50781 14.2344 9.60156C14.1406 9.69531 14.0234 9.74219 13.8828 9.74219H6.02344ZM6.02344 12.2344C5.88802 12.2344 5.77344 12.1875 5.67969 12.0938C5.58594 12 5.53906 11.8854 5.53906 11.75C5.53906 11.6146 5.58333 11.5 5.67188 11.4062C5.76562 11.3073 5.88281 11.2578 6.02344 11.2578H11.1406C11.276 11.2578 11.3906 11.3073 11.4844 11.4062C11.5833 11.5 11.6328 11.6146 11.6328 11.75C11.6328 11.8854 11.5833 12 11.4844 12.0938C11.3906 12.1875 11.276 12.2344 11.1406 12.2344H6.02344Z"})})},400939:e=>{var t=/[a-zA-Z0-9_\u0392-\u03c9\u00c0-\u00ff\u0600-\u06ff]+|[\u4e00-\u9fff\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g;e.exports=function(e){var i=e.match(t),s=0;if(!i)return 0;for(var n=0;n<i.length;n++)i[n].charCodeAt(0)>=19968?s+=i[n].length:s+=1;return s}}}]);