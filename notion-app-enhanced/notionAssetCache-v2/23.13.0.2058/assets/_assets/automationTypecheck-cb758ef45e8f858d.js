"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[8605,39447,56695],{912203:(e,t,o)=>{o.d(t,{$M:()=>v,GQ:()=>x,Jy:()=>F,LF:()=>k,NO:()=>m,Of:()=>_,SF:()=>p,TX:()=>b,XO:()=>f,Y_:()=>c,Ym:()=>g,bD:()=>h,cO:()=>d,fo:()=>M,rR:()=>y});o(267602),o(653476),o(228244);var n=()=>o(513670),r=()=>o(696459),a=()=>o(226413),i=()=>o(109477),s=()=>o(455222),l=()=>o(305580);(0,r().AO)((e=>(0,r().$K)(e)&&(0,r().$K)(e.target)&&(0,r().$K)(e.external_bot_id)?{true:{external_bot_id:e.external_bot_id,target:e.target}}:{false:e}));const u={checkbox:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,auto_increment_id:!1,button:!1,created_by:!1,created_time:!1,file:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,geo_point:!1},c={checkbox:[{type:"checkbox"}],date:[{type:"date"}],email:[{type:"text"}],multi_select:[{type:"text"},{of:{type:"text"},type:"array"}],number:[{type:"number"}],person:[{type:"person"},{of:{type:"person"},type:"array"}],phone_number:[{type:"text"}],relation:[{type:"block"},{of:{type:"block"},type:"array"}],select:[{type:"text"},{of:{type:"text"},type:"array"}],status:[{type:"text"},{of:{type:"text"},type:"array"}],text:void 0,title:void 0,url:[{type:"text"}]};function p(e){return Boolean(u[e.type]&&!(0,a().NK)(e)&&(!(0,a().qQ)(e)||void 0===(0,a().q3)(e)))}function d(e){const{collectionFormat:t,collectionSchema:o,filter:s,sort:u,sourcePropertyIds:c}=e,d=(c??(0,r().Yd)(o)).filter(((t,n,r)=>{const i=o[t];return!(!i||!p(i))&&(("relation"!==i.type||!e.restrictCrossSpace||!(0,a().Qh)(e.spaceId,i))&&(!s||s([t,i],n,o)))}));if(0===d.length)return[];if(!t||!1===u)return d;const m=(0,l().i)(t,o,void 0,i().j5.Page).collection_page_properties||[];return n().MR(d,(e=>m.findIndex((t=>t.property===e))))}function m(e){const{collectionFormat:t,collectionSchema:o,sort:s}=e,u=(0,r().Yd)(o).filter(((e,t,n)=>{const r=o[e];return!(!r||!(0,a().U8)(r))}));if(0===u.length)return[];if(!t||!1===s)return u;const c=(0,l().i)(t,o,void 0,i().j5.Page).collection_page_properties||[];return n().MR(u,(e=>c.findIndex((t=>t.property===e))))}function y(e){return e.type===s().$E.InvalidCharacter?{type:e.type,character:e.character}:e.type===s().$E.TokenExpected?{type:e.type,token:e.token}:e.type===s().FY.MissingSchemaPropertyOnThisRow||e.type===s().FY.MissingSchemaPropertyOnCollection?{type:e.type,collectionId:e.collectionId,property:e.property}:e.type===s().FY.ThisRowBlockPropertyMismatchCollection?{type:e.type,thisRowCollection:e.thisRowCollection}:e.type===s().FY.MissingContextVariable?{type:e.type,valueId:e.valueId}:e.type===s().FY.FunctionCallTooFewArguments?{type:e.type,numArguments:e.numArguments}:e.type===s().FY.FunctionCallUnexpectedArgument?{type:e.type,parameterIndex:e.parameterIndex}:e.type===s().FY.FunctionCallArgumentWrongType?{type:e.type,argumentType:e.argumentType,libraryFunctionName:e.libraryFunction.name,parameterIndex:e.parameterIndex}:e.type===s().FY.MissingDataDependencyBlock?{type:e.type,blockPointer:e.blockPointer}:e.type===s().FY.MissingDataDependencyPerson?{type:e.type,personPointer:e.personPointer}:e.type===s().FY.MemberPropertyMismatchCollection?{type:e.type,blockCollection:e.blockCollection}:e.type===s().FY.DownstreamParseFailure?{type:e.type,collectionId:e.collectionId,property:e.property}:e.type===s().FY.ContextVariableWrongType?{type:e.type,valueId:e.valueId,expectedType:e.expectedType,resultType:e.resultType}:e.type===s().FY.DisallowedValueType?{type:e.type,expressionValue:e.expressionValue,allowedValueTypes:e.allowedValueTypes}:e.type===s().FY.LibraryFunctionExecutionError?{type:e.type,error:e.error,libraryFunctionName:e.libraryFunction.name}:{type:e.type}}const g={checkbox:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,button:!1,file:!1,verification:!1,auto_increment_id:!1,created_by:!1,created_time:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,geo_point:!1};function v(e){return Boolean(g[e.type])}function f(e){const{collectionFormat:t,collectionSchema:o,filter:s,sort:u}=e,c=(0,r().Yd)(o).filter(((e,t,n)=>{var r;const i=o[e];return!(!i||!g[i.type])&&((!(0,a().qQ)(i)||null===(r=(0,a().q3)(i))||void 0===r||!r.auto_update_on_edit)&&(!s||s([e,i],t,o)))}));if(0===c.length)return[];if(!t||!1===u)return c;const p=(0,l().i)(t,o,void 0,i().j5.Page).collection_page_properties||[];return n().MR(c,(e=>p.findIndex((t=>t.property===e))))}const C={checkbox:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,auto_increment_id:!1,button:!1,created_by:!1,created_time:!1,date:!1,file:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,geo_point:!1};function h(e){return C[e.type]}const T={checkbox:!0,created_by:!0,created_time:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,last_edited_by:!0,last_edited_time:!0,auto_increment_id:!1,button:!1,file:!1,formula:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,geo_point:!1};function b(e){return T[e.type]}function x(e){return 0===e}function M(e){return function(e){return"button_block"===e||"button_property"===e}(e)}function k(e){const{property:t,collectionSchema:o}=e;return!!o&&!o[t]}function F(e){const{collectionSchema:t,property:o,type:n}=e,r=null==t?void 0:t[o];return!r||("action"===n?!p(r):!g[r.type])}function _(e){let{automationTrigger:t,collectionSchema:o}=e;if("event"===(null==t?void 0:t.type)||"notification_event"===(null==t?void 0:t.type)){const{pagesAdded:e,pagePropertiesEdited:n,source:a}=t.event;if(void 0===a)return!1;const i="some"===n.type&&n.some,s="all"===n.type&&n.all;if((i||s||[]).some((e=>k({collectionSchema:o,property:e.property})||F({collectionSchema:o,property:e.property,type:"trigger"}))))return!1;const l="some"===n.type&&(!(0,r().$K)(n.some)||0===n.some.length),u="all"===n.type&&(!(0,r().$K)(n.all)||0===n.all.length);if(!e&&("none"===n.type||l||u))return!1}else{if("recurrence"!==(null==t?void 0:t.type))return!1;if(!t.recurrence)return!1}return!0}},367026:(e,t,o)=>{o.d(t,{w:()=>a});o(267602),o(470928);var n=()=>o(696459),r=()=>o(177634);function a(e){var t;const{actionModels:o,id:a}=e,i=(0,r().MY)(a),s="action"===i.source?o.find((e=>e.id===i.action_id)):void 0,l=(0,n().$K)(s)&&s.isType("create_page")?null===(t=s.getConfig())||void 0===t?void 0:t.collection:void 0;return{automationValueInfo:i,collectionPointer:l,actionModel:s}}},752348:(e,t,o)=>{o.r(t),o.d(t,{getAllContextValues:()=>f,getContextValueForActionById:()=>h,getContextValuesForAction:()=>C,typecheckAutomation:()=>g,typecheckAutomationAsync:()=>v});o(670560),o(267602),o(241792),o(228244);var n=()=>o(513670),r=()=>o(855741),a=()=>o(696459),i=()=>o(870910),s=()=>o(177634),l=()=>o(440692),u=()=>o(782827),c=()=>o(360517),p=()=>o(750239),d=()=>o(870691),m=()=>o(227666);function*y(e){const{actionModels:t,automationModel:o,contextType:y,formulasModule:g,runtimeStats:v}=e,f={valueTypes:e.valueTypes,actionInputValueTypes:{},actionValidationFailures:{}},C=performance.now();let h,T,b;if("button_block"===y||"button_property"===y){if(!o.isButtonType())return{error:new(c().MO)(`Automation trigger (${o.getTriggerType()}) does not match context type (${y}).`)};const t=o.getTrigger();b=(0,m().o)(o.getTriggerType()).typecheck(e,t)}else if("event"===y){if(!o.isEventType()&&!o.isNotificationType())return{error:new(c().MO)(`Automation trigger (${o.getTriggerType()}) does not match context type (${y}).`)};const t=o.getTrigger();b=(0,m().o)(o.getTriggerType()).typecheck(e,t)}else if("recurrence"===y){if(!o.isRecurrenceType())return{error:new(c().MO)(`Automation trigger (${o.getTriggerType()}) does not match context type (${y}).`)};const t=o.getTrigger();b=(0,m().o)(o.getTriggerType()).typecheck(e,t)}else(0,a().t1)(e);if(r().x.isFail(b))return b;f.valueTypes.push(...n().d9(b.value.valueTypes));for(const a of t){h=void 0,v&&(h=d().Fv.getOrCreateAction(v,a.pointer,a.getType()));const t=(0,l().getActionRegistryItem)(a.getType());if(!t){T={error:new(c().EP)({actionId:a.id,message:`Unsupported action type: ${a.getType()}`})};break}const m=performance.now(),y=(0,u().C)({automationModel:o,formulasModule:g,formulaValueTypes:f.valueTypes}),C=(0,p().xg)(yield*t.resolveExecutionDependencies(y,a));yield*i().R.fetchRecords(C.map((e=>e.pointer))),h&&(h.totalDependencies=C.length,h.getDependenciesDurationMs=Math.trunc(performance.now()-m));const b=t.typecheck(e,a),x=n().d9(f.valueTypes);if(f.actionInputValueTypes[a.id]=x,r().x.isFail(b)){T=b;break}for(const e of b.value.valueTypes??[]){f.valueTypes.some((t=>(0,s().Fl)(e,t)))||f.valueTypes.push(e)}b.value.validationFailures&&b.value.validationFailures.length>0&&(f.actionValidationFailures[a.id]=b.value.validationFailures)}const x=Math.trunc(performance.now()-C);return v&&(v.typecheckStartTime=C,v.typecheckDurationMs=x,v.typecheckSuccess=!(0,a().$K)(T)),T??{value:f}}function g(e){return i().R.runSync(e.getRecordModel,y(e))}async function v(e){return await i().R.runAsync(e.loadRecordModel,y(e))}function f(e){return r().x.isFail(e)?[]:e.value.valueTypes.slice(0)}function C(e,t){return r().x.isFail(e)?[]:e.value.actionInputValueTypes[t]??[]}function h(e,t,o){const n=C(e,t);return(0,s().vx)(n,o)}},309968:(e,t,o)=>{o.d(t,{Hr:()=>c,Nq:()=>x,TW:()=>y,Vl:()=>s,ZH:()=>C,_V:()=>v,lg:()=>b,q6:()=>m,xL:()=>u});var n=()=>o(874459),r=()=>o(92960),a=()=>o(177634);const i=(0,o(788860).vU)({buttonAutomationCurrentUserDescription:{defaultMessage:"The user who clicked this button",id:"automations.contextValue.buttonAutomationCurrentUserDescription"},buttonAutomationCurrentUserName:{defaultMessage:"Whoever clicked",id:"automations.contextValue.buttonAutomationCurrentUserName"},buttonAutomationCurrentUserTooltip:{defaultMessage:"The person who clicked the button",id:"automations.contextValue.buttonAutomationCurrentUserTooltip"},buttonAutomationThisPageDescription:{defaultMessage:"The page containing this button",id:"automations.contextValue.buttonAutomationThisPageDescription"},buttonAutomationThisPageName:{defaultMessage:"This page",id:"automations.contextValue.buttonAutomationThisPageName"},buttonAutomationThisPageTooltip:{defaultMessage:"The page containing this button",id:"automations.contextValue.buttonAutomationThisPageTooltip"},eventAutomationCurrentUserDescription:{defaultMessage:"The user who made the edit that triggered this automation to run.",id:"automations.contextValue.eventAutomationCurrentUserDescription"},eventAutomationCurrentUserName:{defaultMessage:"Whoever triggered",id:"automations.contextValue.eventAutomationCurrentUserName"},eventAutomationCurrentUserTooltip:{defaultMessage:"The person whose action triggered this automation",id:"automations.contextValue.eventAutomationCurrentUserTooltip"},eventAutomationThisPageDescription:{defaultMessage:"The page that was edited to trigger this automation to run.",id:"automations.contextValue.eventAutomationThisPageDescription"},eventAutomationThisPageName:{defaultMessage:"Trigger page",id:"automations.contextValue.eventAutomationThisPageName"},eventAutomationThisPageTooltip:{defaultMessage:"The page that triggered this automation",id:"automations.contextValue.eventAutomationThisPageTooltip"},now:{id:"automations.triggers.now.label",defaultMessage:"Time triggered"},nowDescription:{id:"automations.triggers.now.description",defaultMessage:"The time when this automation begins to run."},nowTooltip:{id:"automations.triggers.now.tooltip",defaultMessage:"The time this automation was triggered"},pageCreator:{id:"automations.triggers.pageCreator.label",defaultMessage:"Page creator"},pageCreatorDescription:{id:"automations.triggers.pageCreator.description",defaultMessage:"The user who created the page that was edited to trigger this automation to run."},pageCreatorTooltip:{id:"automations.triggers.pageCreator.tooltip",defaultMessage:"Person who created page"},today:{id:"automations.triggers.today.label",defaultMessage:"Date triggered"},todayDescription:{id:"automations.triggers.today.description",defaultMessage:"The date when this automation begins to run."},todayTooltip:{id:"automations.triggers.today.tooltip",defaultMessage:"The date this automation was triggered"}});function s(){return(0,a().Kd)({source:"global",global:"button_page"})}function l(e,t,o){return{description:o,name:e,tooltip:t,compile:(n,a)=>({description:o?n.formatMessage(o):void 0,id:s(),kind:r().FormulaContextValueKind.ContextValue,name:n.formatMessage(e),tooltipName:n.formatMessage(t),type:{collection:a,type:"block"}}),evaluate:e=>({kind:r().FormulaContextValueKind.ContextValue,id:s(),value:{type:"block",value:e}})}}const u=l(i.buttonAutomationThisPageName,i.buttonAutomationThisPageTooltip,i.buttonAutomationThisPageDescription),c=l(i.eventAutomationThisPageName,i.eventAutomationThisPageTooltip,i.eventAutomationThisPageDescription);function p(){return(0,a().Kd)({source:"global",global:"current_user"})}function d(e,t,o){return{description:o,name:e,tooltip:t,compile:n=>({description:o?n.formatMessage(o):void 0,id:p(),kind:r().FormulaContextValueKind.ContextValue,name:n.formatMessage(e),tooltipName:n.formatMessage(t),type:{type:"person"}}),evaluate:e=>({id:p(),kind:r().FormulaContextValueKind.ContextValue,value:{type:"person",value:e}})}}const m=d(i.buttonAutomationCurrentUserName,i.buttonAutomationCurrentUserTooltip,i.buttonAutomationCurrentUserDescription),y=d(i.eventAutomationCurrentUserName,i.eventAutomationCurrentUserTooltip,i.eventAutomationCurrentUserDescription);function g(){return(0,a().Kd)({source:"global",global:"now"})}const v={description:i.nowDescription,name:i.now,tooltip:i.nowTooltip,compile(e){return{description:this.description?e.formatMessage(this.description):void 0,id:g(),kind:r().FormulaContextValueKind.ContextValue,name:e.formatMessage(this.name),tooltipName:this.tooltip?e.formatMessage(this.tooltip):void 0,type:{type:"date"}}},evaluate:e=>({id:g(),kind:r().FormulaContextValueKind.ContextValue,value:{type:"date",value:(0,n().CQ)(Date.now(),e)}})};function f(){return(0,a().Kd)({source:"global",global:"today"})}const C={description:i.todayDescription,name:i.today,tooltip:i.todayTooltip,compile(e){return{description:this.description?e.formatMessage(this.description):void 0,id:f(),kind:r().FormulaContextValueKind.ContextValue,name:e.formatMessage(this.name),tooltipName:this.tooltip?e.formatMessage(this.tooltip):void 0,type:{type:"date"}}},evaluate:e=>({id:f(),kind:r().FormulaContextValueKind.ContextValue,value:{type:"date",value:(0,n().hT)(Date.now(),e)}})};function h(){return(0,a().Kd)({source:"global",global:"page_creator"})}function T(e,t){return{description:i.pageCreatorDescription,name:e,tooltip:t,compile(o){return{description:this.description?o.formatMessage(this.description):void 0,id:h(),kind:r().FormulaContextValueKind.ContextValue,name:o.formatMessage(e),tooltipName:o.formatMessage(t),type:{type:"person"}}},evaluate:e=>({id:h(),kind:r().FormulaContextValueKind.ContextValue,value:{type:"person",value:e}})}}const b=T(i.pageCreator,i.pageCreatorTooltip),x=T(i.pageCreator,i.pageCreatorTooltip)},227666:(e,t,o)=>{o.d(t,{o:()=>p});var n=()=>o(513670),r=()=>o(696459),a=()=>o(998411),i=()=>o(752778),s=()=>o(309968);const l={type:"button",getCreatePermissions(e){const{parentPointer:t}=e;return[{minimumRole:"read_and_write",pointer:t,type:"record_permission"}]},getEditPermissions(e){const{automationModel:t}=e;return[{minimumRole:"read_and_write",pointer:t.getParentPointer(),type:"record_permission"}]},getManagePermissions(e){const{automationModel:t}=e;return[{minimumRole:"read_and_write",pointer:t.getParentPointer(),type:"record_permission"}]},getExecutePermissions(e){const{automationModel:t}=e;return[{minimumRole:"reader",pointer:t.getParentPointer(),type:"record_permission"}]},typecheck(e){const{automationModel:t,contextType:a,getRecordModel:l,intl:u}=e,c=s().q6.compile(u),p=s()._V.compile(u),d=s().ZH.compile(u),m=t.getParentPointer();let y,g;if("button_block"===a){if(e.pageBlockModel){const t=(0,o(942275).J2)({block:e.pageBlockModel,getRecordModel:l});t&&(y=s().xL.compile(u,t.pointer),g=s().lg.compile(u))}}else if("button_property"===a){const e=l(m);if((null==e?void 0:e.table)!==i().vF)return{error:new(o(360517).MO)(`Unable to load automation parent: ${o(827370).dr.toKey(m)}`)};y=s().xL.compile(u,e.pointer),g=s().lg.compile(u)}else(0,r().t1)(a);return{value:{valueTypes:(0,n().oA)([c,p,d,y,g])}}},execute(e){const{formulaVariableResolution:t}=e,{executingUserPointer:o,executingUserTimeZone:r,thisPageBlockModel:i}=t??{},l=i?s().xL.evaluate(i.pointer):void 0,u=null==i?void 0:i.getCreatedByPointer(),c=u?s().lg.evaluate(u):void 0,p=o?s().q6.evaluate(o):void 0,d=(0,a().r)(),m=s()._V.evaluate(r??d),y=s().ZH.evaluate(r??d);return{value:{values:(0,n().oA)([l,c,p,m,y])}}},isAvailableForContext:e=>!0};o(670560);const u={type:"event",getCreatePermissions(e){const{parentPointer:t,spacePointer:o}=e;return[{minimumRole:"editor",pointer:t,type:"record_permission"},{minimumRole:"read_and_write",pointer:o,type:"record_permission"}]},getEditPermissions(e){const{automationModel:t}=e,n=[{minimumRole:"editor",pointer:t.getParentPointer(),type:"record_permission"},{minimumRole:"read_and_write",pointer:t.getSpacePointer(),type:"record_permission"}],a=t.getTrigger();if("event"===a.type){const e=a.event;(0,r().$K)(e.source)&&"filter"!==e.source.type&&(e.source.type===i().vF||e.source.type===o(139978).np?n.push({minimumRole:"reader",pointer:e.source.pointer,type:"record_permission"}):(0,r().t1)(e.source))}return n},getManagePermissions(e){const{automationModel:t}=e;return[{minimumRole:"editor",pointer:t.getParentPointer(),type:"record_permission"},{minimumRole:"read_and_write",pointer:t.getSpacePointer(),type:"record_permission"}]},getExecutePermissions(e){const{automationModel:t}=e;return[{minimumRole:"reader",pointer:t.getParentPointer(),type:"record_permission"}]},typecheck(e){const{automationModel:t,intl:o}=e,r=s().TW.compile(o),a=s().Nq.compile(o),l=s()._V.compile(o),u=s().ZH.compile(o),c=t.getParentPointer();let p;return c.table===i().vF&&(p=s().Hr.compile(o,c)),{value:{valueTypes:(0,n().oA)([r,a,l,u,p])}}},execute(e){const{formulaVariableResolution:t}=e,{executingUserPointer:o,executingUserTimeZone:i,thisPageBlockModel:l}=t??{},u=l?s().Hr.evaluate(l.pointer):void 0,c=o?s().TW.evaluate(o):void 0,p=(0,a().r)(),d=s()._V.evaluate(i??p),m=null==l?void 0:l.getCreatedByPointer(),y=(0,r().$K)(m)?s().Nq.evaluate(m):void 0,g=s().ZH.evaluate(i??p);return{value:{values:(0,n().oA)([u,c,d,g,y])}}},isAvailableForContext:e=>!0};const c={button:l,event:u,notification_event:u,recurrence:{type:"recurrence",getCreatePermissions(e){const{parentPointer:t}=e;return[{minimumRole:"read_and_write",pointer:t,type:"record_permission"}]},getEditPermissions(e){const{automationModel:t}=e;return[{minimumRole:"read_and_write",pointer:t.getParentPointer(),type:"record_permission"}]},getManagePermissions(e){const{automationModel:t}=e;return[{minimumRole:"read_and_write",pointer:t.getParentPointer(),type:"record_permission"}]},getExecutePermissions(e){const{automationModel:t}=e;return[{minimumRole:"reader",pointer:t.getParentPointer(),type:"record_permission"}]},typecheck(e){const{intl:t}=e;return{value:{valueTypes:[s()._V.compile(t),s().ZH.compile(t)]}}},execute(e){const{formulaVariableResolution:t}=e,{executingUserTimeZone:o}=t??{},n=(0,a().r)();return{value:{values:[s()._V.evaluate(o??n),s().ZH.evaluate(o??n)]}}},isAvailableForContext(e){const{automation:t,automationActions:n,hasPremiumAutomations:a}=e;if(t.parent_table===o(396136).iU)return!0;if(t.parent_table===i().vF){const e=o(217465).RecordMap.create();for(const t of n)e.addModel(t);return!!t.isCompleteSprintAutomation({getRecordModel:o(530980).omK.fromRecordMap(e)})||a}(0,r().t1)(t.parent_table)}}};function p(e){return c[e]}},756191:(e,t,o)=>{o.d(t,{FR:()=>y,OY:()=>m,ic:()=>d,sB:()=>p,sG:()=>c,y_:()=>g});o(241792);var n=()=>o(513670),r=()=>o(696459),a=()=>o(834458),i=()=>o(193962),s=()=>o(455222),l=()=>o(177634);function u(e){switch(e){case"checkbox":return"boolean";case"number":return"number";case"text":return"text";case"date":return"date";case"array":return"array";case"block":return"block";case"person":return"person";case"select":return"select";case"function":return"function";case"unknown":return"unknown";case"undefined":return"undefined";default:(0,r().t1)(e)}}function c(e){switch(e.type){case s().$E.InvalidCharacter:return{...i().mr.InvalidCharacter,values:{errorCharacter:e.character}};case s().$E.UnclosedStringLiteral:return i().mr.UnclosedStringLiteral;case s().$E.UnclosedComment:return i().mr.UnclosedComment;case s().$E.TokenExpected:return{...i().mr.TokenExpected,values:{expectedToken:e.token}};case s().$E.StringLiteralContainsToken:return i().mr.StringLiteralContainsToken;case s().$E.ExpressionExpected:return i().mr.ExpressionExpected;case s().$E.PropertyTokenOrFunctionExpected:return i().mr.PropertyTokenOrFunctionExpected;case s().$E.EndOfInputExpected:return i().mr.EndOfInputExpected;case s().$E.UnexpectedError:return i().mr.UnexpectedError;case s().$E.TooDeeplyNested:return i().mr.TooDeeplyNested;default:(0,r().t1)(e)}}function p(e){switch(e.type){case s().h4.FunctionCallArgumentWrongType:case s().h4.FunctionCallUnexpectedArgument:return e.argument;default:return e.node}}function d(e,t){let o;switch(t.type){case s().h4.ThisRowTypeNotFound:o=i().o8.ThisRowTypeNotFound;break;case s().h4.ThisRowNotBlockWithCollection:o=i().o8.ThisRowNotBlockWithCollection;break;case s().h4.MissingPropertyOnThisRow:o={...i().o8.MissingPropertyOnThisRow,values:{propertyName:t.property}};break;case s().h4.MissingContextVariable:{const e=(0,l().Xp)(t.token)?t.token.contextValueId:t.token.valueId;o={...i().o8.MissingContextVariable,values:{valueId:e}}}break;case s().h4.MissingBlock:o={...i().o8.MissingBlock,values:{blockId:t.token.blockId}};break;case s().h4.CallingNotFunction:o={...i().o8.CallingNotFunction,values:{expressionType:u(t.callee.type.type)}};break;case s().h4.FunctionCallTooFewArguments:o={...i().o8.FunctionCallTooFewArguments,values:{minNumParameters:t.minNumParameters,functionName:t.libraryFunction.name,numArguments:t.numArguments}};break;case s().h4.FunctionCallUnexpectedArgument:o={...i().o8.FunctionCallUnexpectedArgument,values:{functionName:t.libraryFunction.name}};break;case s().h4.FunctionCallArgumentWrongType:o={...i().o8.FunctionCallArgumentWrongType,values:{argumentType:u(t.argument.type.type),functionName:t.libraryFunction.name}};break;case s().h4.MemberPropertyMismatchCollection:o={...i().o8.MemberPropertyMismatchCollection,values:{propertyName:t.token.property}};break;case s().h4.MemberPropertyMissing:o={...i().o8.MemberPropertyMissing,values:{propertyName:t.property}};break;case s().h4.MemberPropertyTargetNotBlock:o=i().o8.MemberPropertyTargetNotBlock;break;case s().h4.MemberPropertyTypeInvalid:o={...i().o8.MemberPropertyTypeInvalid,values:{propertyName:t.propertyName,propertyType:t.propertyType}};break;case s().h4.UndefinedIdentifier:o={...i().o8.UndefinedIdentifier,values:{identifier:t.node.text}};break;case s().h4.UnifiedFunctionCannotFindFunction:o={...i().o8.UnifiedFunctionCannotFindFunction,values:{functionName:t.name}};break;case s().h4.UnifiedFunctionNoArguments:o={...i().o8.UnifiedFunctionNoArguments,values:{functionName:t.libraryFunction.name}};break;case s().h4.UnifiedFunctionTargetWrongType:o={...i().o8.UnifiedFunctionTargetWrongType,values:{functionName:t.libraryFunction.name,targetType:u(t.expression.type.type)}};break;case s().h4.CannotRelativelyCompareTypes:o={...i().o8.CannotRelativelyCompareTypes,values:{lhsType:u(t.lhsType.type),rhsType:u(t.rhsType.type)}};break;case s().h4.CannotDoMathOnType:o={...i().o8.CannotDoMathOnType,values:{lhsType:u(t.lhsType.type),rhsType:u(t.rhsType.type)}};break;case s().h4.UnaryMinusOnNonNumber:o={...i().o8.UnaryMinusOnNonNumber,values:{type:u(t.expression.type.type)}};break;case s().h4.IdentifierExpected:o=i().o8.IdentifierExpected;break;case s().h4.FunctionCallExpected:o={...i().o8.FunctionCallExpected,values:{functionName:t.functionName}};break;case s().h4.RenamedIdentifier:o={...i().o8.RenamedIdentifier,values:{identifier:t.identifier,renamedTo:t.renamedTo}};break;case s().h4.RemovedFunction:o={...i().o8.RemovedFunction,values:{functionName:t.functionName,alternative:t.alternative}};break;case s().h4.ContextVariableNotBlockWithCollection:o={...i().o8.ContextVariableNotBlockWithCollection,values:{valueId:t.token.contextValueId}};break;case s().h4.MissingPropertyOnContextVariable:o={...i().o8.MissingPropertyOnContextVariable,values:{propertyName:t.property,valueId:t.token.contextValueId}};break;case s().h4.BlockPropertyTypeInvalid:o={...i().o8.BlockPropertyTypeInvalid,values:{propertyName:t.propertyName}};break;case s().h4.DisallowedReturnType:{const n=t.allowedReturnTypes.map((t=>e.formatMessage((0,a().getHumanReadableType)(t)).toLocaleLowerCase()));o={...i().o8.DisallowedReturnType,values:{allowedReturnType:e.formatList(n,{style:"long",type:"conjunction"}),allowedReturnTypeCount:t.allowedReturnTypes.length,returnType:e.formatMessage((0,a().getHumanReadableType)(t.returnType)).toLocaleLowerCase()}};break}case s().h4.CrossSpacePropertyNotSupported:o={...i().o8.CrossSpacePropertyNotSupported};break;default:(0,r().t1)(t)}return{...o,values:{...o.values,startOffset:t.node.startOffset,endOffset:t.node.endOffset+1}}}function m(e,t){let o;switch(t.type){case s().FY.MissingThisRow:o=i().YG.MissingThisRow;break;case s().FY.MissingSchemaPropertyOnThisRow:o={...i().YG.MissingSchemaPropertyOnThisRow,values:{propertyName:t.property}};break;case s().FY.ThisRowBlockPropertyMismatchCollection:o=i().YG.ThisRowBlockPropertyMismatchCollection;break;case s().FY.MissingContextVariable:o={...i().YG.MissingContextVariable,values:{valueId:t.valueId}};break;case s().FY.IdentifierNotFound:o={...i().YG.IdentifierNotFound,values:{identifier:t.node.text}};break;case s().FY.CannotRelativelyCompareTypes:o={...i().YG.CannotRelativelyCompareTypes,values:{lhsType:u(t.lhsType),rhsType:u(t.rhsType)}};break;case s().FY.CannotDoMathOnType:o={...i().YG.CannotDoMathOnType,values:{valueType:u(t.valueType)}};break;case s().FY.CannotCallNonFunction:o={...i().YG.CannotCallNonFunction,values:{calleeType:u(t.calleeType)}};break;case s().FY.UnifiedFunctionPropertyNotFound:o={...i().YG.UnifiedFunctionPropertyNotFound,values:{functionName:t.node.name}};break;case s().FY.LibraryFunctionExecutionError:const n=t.error instanceof s().Mu?t.error:void 0;o=(null==n?void 0:n.info.type)===s().sj.DateInvalidDurationUnit?{...i().z8.DateInvalidDurationUnit,values:{functionName:t.libraryFunction.name,invalidUnit:n.info.invalidUnit}}:(null==n?void 0:n.info.type)===s().sj.CannotUseToNumberOnList?{...i().z8.CannotUseToNumberOnList}:(null==n?void 0:n.info.type)===s().sj.CannotRoundToNonInteger?{...i().z8.CannotRoundToNonInteger,values:{precision:n.info.precision}}:(null==n?void 0:n.info.type)===s().sj.CannotRoundToTooManyDecimalPlaces?{...i().z8.CannotRoundToTooManyDecimalPlaces,values:{precision:n.info.precision}}:{...i().YG.LibraryFunctionExecutionError,values:{functionName:t.libraryFunction.name}};break;case s().FY.FunctionCallTooFewArguments:o={...i().YG.FunctionCallTooFewArguments,values:{functionName:t.libraryFunction.name}};break;case s().FY.FunctionCallUnexpectedArgument:o={...i().YG.FunctionCallUnexpectedArgument,values:{functionName:t.libraryFunction.name}};break;case s().FY.FunctionCallArgumentWrongType:o={...i().YG.FunctionCallArgumentWrongType,values:{functionName:t.libraryFunction.name,argumentType:u(t.argumentType)}};break;case s().FY.AccessingPropertyOnNonBlock:o=i().YG.AccessingPropertyOnNonBlock;break;case s().FY.MissingDataDependencyBlock:o={...i().YG.MissingDataDependencyBlock,values:{blockId:t.blockPointer.id}};break;case s().FY.MissingDataDependencyPerson:o={...i().YG.MissingDataDependencyPerson,values:{personId:t.personPointer.id}};break;case s().FY.MemberPropertyMismatchCollection:o=i().YG.MemberPropertyMismatchCollection;break;case s().FY.MissingPropertyOnSchemaForMemberProperty:o=i().YG.MissingPropertyOnSchemaForMemberProperty;break;case s().FY.UnaryMinusOnNonNumber:o={...i().YG.UnaryMinusOnNonNumber,values:{expressionType:u(t.expressionType)}};break;case s().FY.UnexpectedRecoveryNode:o=i().YG.UnexpectedRecoveryNode;break;case s().FY.UnexpectedError:o=i().YG.UnexpectedError;break;case s().FY.DepthExceeded:o=i().YG.DepthExceeded;break;case s().FY.CycleDetected:o=i().YG.CycleDetected;break;case s().FY.DownstreamParseFailure:o=i().YG.DownstreamParseFailure;break;case s().FY.MaxEvaluationTimeExceeded:o=i().YG.MaxEvaluationTimeExceeded;break;case s().FY.MissingSchemaPropertyOnCollection:o={...i().YG.MissingSchemaPropertyOnCollection,values:{collectionId:t.collectionId,propertyName:t.property}};break;case s().FY.ContextVariableWrongType:o={...i().YG.ContextVariableWrongType,values:{expectedType:t.expectedType,propertyType:t.resultType,valueId:t.valueId}};break;case s().FY.DisallowedValueType:{const n=t.allowedValueTypes.map((t=>e.formatMessage((0,a().getHumanReadableType)(t)).toLocaleLowerCase()));o={...i().o8.DisallowedReturnType,values:{allowedValueType:e.formatList(n,{style:"long",type:"conjunction"}),allowedValueTypeCount:t.allowedValueTypes.length,valueType:e.formatMessage((0,a().getHumanReadableValueType)(t.expressionValue)).toLocaleLowerCase()}};break}default:(0,r().t1)(t)}return(0,l().w7)(t)?{...o,values:{...o.values,startOffset:t.node.startOffset,endOffset:t.node.endOffset+1}}:o}function y(e){const t=null==e?void 0:e.values;return[n().CE(e,"values"),t]}function g(e){return e.type===s().FY.DepthExceeded||e.type===s().FY.CycleDetected||e.type===s().FY.MaxEvaluationTimeExceeded||e.type===s().FY.LibraryFunctionExecutionError}},570328:(e,t,o)=>{o.d(t,{e:()=>r});o(667294);var n=o(785893);const r=(0,o(827282).IU)("collectionSearch",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M0 6.35938C0 9.86719 2.85156 12.7188 6.35938 12.7188C7.66406 12.7188 8.85938 12.3203 9.85938 11.6406L13.4531 15.2344C13.6719 15.4609 13.9766 15.5625 14.2812 15.5625C14.9453 15.5625 15.4219 15.0625 15.4219 14.4141C15.4219 14.1016 15.3125 13.8125 15.1016 13.5938L11.5312 10.0156C12.2734 8.99219 12.7188 7.72656 12.7188 6.35938C12.7188 2.85156 9.86719 0 6.35938 0C2.85156 0 0 2.85156 0 6.35938ZM1.65625 6.35938C1.65625 3.76562 3.75781 1.65625 6.35938 1.65625C8.95312 1.65625 11.0625 3.76562 11.0625 6.35938C11.0625 8.95312 8.95312 11.0625 6.35938 11.0625C3.75781 11.0625 1.65625 8.95312 1.65625 6.35938Z"})})},81979:(e,t,o)=>{o.d(t,{o:()=>r});o(667294);var n=o(785893);const r=(0,o(827282).IU)("globe2",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M8 15.126C11.8623 15.126 15.0615 11.9336 15.0615 8.06445C15.0615 4.20215 11.8623 1.00293 7.99316 1.00293C4.13086 1.00293 0.938477 4.20215 0.938477 8.06445C0.938477 11.9336 4.1377 15.126 8 15.126ZM3.88477 3.76465C4.56836 3.11523 5.39551 2.61621 6.31836 2.34277C5.83301 2.82812 5.42285 3.51172 5.11523 4.3457C4.63672 4.19531 4.22656 3.99707 3.88477 3.76465ZM9.68848 2.34961C10.6045 2.62305 11.4316 3.11523 12.1084 3.76465C11.7734 4.00391 11.3633 4.19531 10.8848 4.35254C10.5771 3.51172 10.167 2.82812 9.68848 2.34961ZM8.47852 2.56836C9.0459 2.8418 9.56543 3.58008 9.93457 4.58496C9.4834 4.66699 8.99805 4.71484 8.47852 4.73535V2.56836ZM6.06543 4.58496C6.44141 3.58008 6.9541 2.8418 7.52148 2.56836V4.73535C7.00195 4.71484 6.5166 4.66699 6.06543 4.58496ZM2.05273 7.58594C2.14844 6.42383 2.58594 5.35059 3.25586 4.46875C3.67285 4.77637 4.21289 5.04297 4.8418 5.24121C4.66406 5.95215 4.54785 6.74512 4.51367 7.58594H2.05273ZM11.4863 7.58594C11.4521 6.74512 11.3359 5.95215 11.1582 5.24121C11.7871 5.04297 12.3271 4.7832 12.7373 4.46875C13.4141 5.35059 13.8516 6.42383 13.9473 7.58594H11.4863ZM5.49121 7.58594C5.52539 6.84082 5.62793 6.12988 5.78516 5.4873C6.33203 5.59668 6.91309 5.66504 7.52148 5.69238V7.58594H5.49121ZM8.47852 7.58594V5.69238C9.08691 5.66504 9.66797 5.59668 10.2148 5.4873C10.3721 6.12988 10.4746 6.84082 10.5088 7.58594H8.47852ZM2.05273 8.54297H4.51367C4.54785 9.39746 4.66406 10.1973 4.8418 10.915C4.21973 11.1133 3.68652 11.373 3.27637 11.6807C2.59277 10.792 2.14844 9.71191 2.05273 8.54297ZM5.49121 8.54297H7.52148V10.4707C6.91992 10.498 6.33203 10.5664 5.79199 10.6689C5.62793 10.0195 5.51855 9.29492 5.49121 8.54297ZM8.47852 10.4707V8.54297H10.5088C10.4814 9.29492 10.3721 10.0195 10.208 10.6689C9.66797 10.5664 9.08691 10.498 8.47852 10.4707ZM11.1582 10.915C11.3428 10.1973 11.4521 9.39746 11.4863 8.54297H13.9473C13.8516 9.71191 13.4072 10.792 12.7236 11.6807C12.3135 11.373 11.7803 11.1133 11.1582 10.915ZM8.47852 11.4277C8.99121 11.4482 9.47656 11.4961 9.9209 11.5781C9.55176 12.5625 9.03906 13.2939 8.47852 13.5605V11.4277ZM6.0791 11.5781C6.52344 11.4961 7.00879 11.4482 7.52148 11.4277V13.5605C6.96094 13.2939 6.44824 12.5625 6.0791 11.5781ZM3.90527 12.3848C4.24023 12.1523 4.65039 11.9609 5.12207 11.8105C5.42969 12.6309 5.83301 13.3008 6.30469 13.7793C5.40234 13.5059 4.58203 13.0205 3.90527 12.3848ZM10.8779 11.8105C11.3496 11.9609 11.7598 12.1523 12.0947 12.3848C11.418 13.0205 10.5977 13.5059 9.69531 13.7793C10.167 13.3008 10.5703 12.6309 10.8779 11.8105Z"})})},519454:(e,t,o)=>{o.d(t,{R:()=>r});o(667294);var n=o(785893);const r=(0,o(827282).IU)("pencil",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M3.926 13.307H14.11c.183 0 .34-.066.472-.199a.644.644 0 00.198-.471.652.652 0 00-.198-.479.644.644 0 00-.472-.198H5.272l-1.346 1.347zm-.704-.636l7.683-7.684-1.312-1.319-7.69 7.684-.67 1.606c-.037.1-.017.191.06.273.083.082.174.105.274.069l1.655-.63zm8.34-8.326l.738-.732c.182-.187.278-.376.287-.567.009-.192-.068-.374-.232-.547l-.267-.267c-.169-.168-.351-.246-.547-.232-.196.014-.385.11-.567.287l-.739.732 1.327 1.326z"})})},525372:(e,t,o)=>{o.d(t,{P:()=>r});o(667294);var n=o(785893);const r=(0,o(827282).IU)("slackLogo",{viewBox:"0 0 16 16",svg:(0,n.jsxs)("g",{children:[(0,n.jsx)("path",{d:"M1.68078 11.7915C2.60586 11.7915 3.36156 11.0358 3.36156 10.1107V8.42993H1.68078C0.755701 8.42993 0 9.18563 0 10.1107C0 11.0358 0.755701 11.7915 1.68078 11.7915Z",fill:"#E01E5A"}),(0,n.jsx)("path",{d:"M5.88928 8.42993C4.9642 8.42993 4.2085 9.18563 4.2085 10.1107V14.3192C4.2085 15.2443 4.9642 16 5.88928 16C6.81436 16 7.57006 15.2443 7.57006 14.3192V10.1107C7.57006 9.18563 6.81436 8.42993 5.88928 8.42993Z",fill:"#E01E5A"}),(0,n.jsx)("path",{d:"M4.2085 1.68078C4.2085 2.60586 4.9642 3.36156 5.88928 3.36156H7.57006V1.68078C7.57006 0.755701 6.81436 0 5.88928 0C4.9642 0 4.2085 0.755701 4.2085 1.68078Z",fill:"#36C5F0"}),(0,n.jsx)("path",{d:"M7.57003 5.88928C7.57003 4.9642 6.81433 4.2085 5.88925 4.2085H1.68078C0.755701 4.2085 0 4.9642 0 5.88928C0 6.81436 0.755701 7.57006 1.68078 7.57006H5.88925C6.81433 7.57006 7.57003 6.81436 7.57003 5.88928Z",fill:"#36C5F0"}),(0,n.jsx)("path",{d:"M10.1107 7.57003C11.0358 7.57003 11.7915 6.81433 11.7915 5.88925V1.68078C11.7915 0.755701 11.0358 0 10.1107 0C9.18563 0 8.42993 0.755701 8.42993 1.68078V5.88925C8.42993 6.81433 9.18563 7.57003 10.1107 7.57003Z",fill:"#2EB67D"}),(0,n.jsx)("path",{d:"M14.3192 4.2085C13.3941 4.2085 12.6384 4.9642 12.6384 5.88928V7.57006H14.3192C15.2443 7.57006 16 6.81436 16 5.88928C16 4.9642 15.2443 4.2085 14.3192 4.2085Z",fill:"#2EB67D"}),(0,n.jsx)("path",{d:"M8.42993 10.1107C8.42993 11.0358 9.18563 11.7915 10.1107 11.7915H14.3192C15.2443 11.7915 16 11.0358 16 10.1107C16 9.18563 15.2443 8.42993 14.3192 8.42993H10.1107C9.18563 8.42993 8.42993 9.18563 8.42993 10.1107Z",fill:"#ECB22E"}),(0,n.jsx)("path",{d:"M11.7915 14.3192C11.7915 13.3941 11.0358 12.6384 10.1107 12.6384H8.42993V14.3192C8.42993 15.2443 9.18563 16 10.1107 16C11.0358 16 11.7915 15.2443 11.7915 14.3192Z",fill:"#ECB22E"})]})})},856466:(e,t,o)=>{o.d(t,{$X:()=>i,F_:()=>s,iZ:()=>a});o(267602),o(470928);var n=()=>o(926724),r=()=>o(295617);const a={autoCompleteSprints:!1,actionConfig:{complete_sprint_action:"complete_sprint_and_move_incomplete_tasks_to_next_sprint"},recurrenceConfig:{interval:2,weekdays:["MO"]}};function i(e){const{eventTracker:t,properties:o}=e;t.DO_NOT_USE_commonTrackEvent({eventName:"complete_sprint_action",properties:o})}function s(e,t){var o;return null===(o=t.groups)||void 0===o||null===(o=o.find((t=>t.id===n().nl||(null==t?void 0:t.name)===r().RW||(null==t?void 0:t.name)===e.formatMessage(r().ct.statusGroupNameComplete))))||void 0===o?void 0:o.name}},126301:(e,t,o)=>{o.d(t,{DW:()=>s,IX:()=>i,Su:()=>r,rP:()=>a});var n=()=>o(730120);function r(e){if("week"===e.frequency&&e.weekdays&&1===e.weekdays.length)return{weekday:e.weekdays[0],duration:e.interval}}function a(e){const{currentSprintEndDate:t,sprintSchedule:o}=e;return l({startDate:c({dateToAdjust:n().ou.fromISO(t),weekday:o.weekday,wrapForEqualDays:!0}),duration:o.duration})}function i(e){const{userTimeZone:t,sprintSchedule:o}=e;return l({startDate:n().ou.local({zone:t}),duration:o.duration})}function s(e){const{currentSprintStartDate:t,sprintSchedule:o}=e,r=c({dateToAdjust:n().ou.fromISO(t),weekday:o.weekday,wrapForEqualDays:!1}),{end_date:a}=l({startDate:r,duration:o.duration});let i=n().ou.fromISO(a);const s=n().ou.now().startOf("day");for(;i.diff(s,"days").days<0;)i=i.plus({weeks:1});return{type:"daterange",start_date:i.plus({days:1}).minus({weeks:o.duration}).toISODate(),end_date:i.toISODate()}}function l(e){const{startDate:t,duration:o}=e,n=t.plus({weeks:o}).minus({days:1});return{type:"daterange",start_date:t.toISODate(),end_date:n.toISODate()}}const u={SU:0,MO:1,TU:2,WE:3,TH:4,FR:5,SA:6};function c(e){const{dateToAdjust:t,weekday:o,wrapForEqualDays:n}=e,r=p({currentWeekday:t.weekday%7,nextWeekday:u[o],wrapForEqualDays:n});return t.plus({days:r})}function p(e){const{currentWeekday:t,nextWeekday:o,wrapForEqualDays:n}=e,r="number"==typeof t?t:u[t],a="number"==typeof o?o:u[o];if(r===a)return n?7:0;let i=r,s=0;for(;i!==a;)i===u.SA?i=0:i+=1,s+=1;return s}}}]);