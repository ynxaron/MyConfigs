"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[45379],{961780:(n,t,e)=>{e.d(t,{e:()=>s});e(667294);var i=()=>e(846550),o=()=>e(429600),l=()=>e(382850),r=()=>e(568017),a=()=>e(312578),c=e(785893);function s(n){const{isConnecting:t,isIntegrationAuthenticated:e,hideChevronIcon:s}=n,d=(0,i().yK)((n=>({circleCheck:{height:14,width:14,color:r().ZP.blue,fill:r().ZP.blue},chevron:{height:12,width:12},loadingSpinner:{marginLeft:6}})),[]);return t?(0,c.jsx)(a().Z,{legacySize:14,style:d.loadingSpinner}):(0,c.jsxs)(c.Fragment,{children:[e&&(0,l().r)(d.circleCheck),!s&&(0,o().o)(d.chevron)]})}},221937:(n,t,e)=>{e.r(t),e.d(t,{default:()=>u});e(267602),e(470928);var i=e(667294),o=()=>e(142735),l=()=>e(235484),r=()=>e(839002),a=()=>e(832024),c=()=>e(824462),s=()=>e(138912),d=e(785893);const u=function(n){const{onClickAuthenticated:t,title:u,hideChevronIcon:h,containerStyle:g,buttonStyle:v,from:f,inviteOrigin:p,flowId:C,loadContacts:_}=n,m=(0,e(219727).O7)(),[w,y]=i.useState(!1),I=(0,o().VK)((()=>e(876822).default.state.currentSpaceStore),[]),x=(0,o().VK)((()=>{const n=null==I?void 0:I.getBotSettingsStore().getValue();return"approved_only"!==(null==n?void 0:n.integration_restrictions)||Boolean((null==n?void 0:n.integration_approval_statuses)&&n.integration_approval_statuses[l().nO])}),[I]),k=(0,o().VK)((()=>s().default.integrations.state.find((n=>n.id===l().nO))),[]),S=(0,o().Kw)(s().default.completeSlackAuthentications),b=(0,e(842576).ph)();return I&&x?(0,d.jsx)("div",{style:g,children:(0,d.jsx)(e(265640).D,{style:v,onClick:async()=>{0===S.length?await async function(n){const{from:i,inviteOrigin:o,flowId:l}=n,s=m.currentUser.id;if(!k||!I||!s)return;try{var d;y(!0),a().n0(m,{origin:o,from:i,invite_flow_id:l});const n=await e(388915).hM({environment:m,integration:k,spaceId:I.id,from:i});if(e(855741).x.isFail(n))return void a().ZK(m,{origin:o,from:i,invite_flow_id:l,is_success:!1});const s=null===(d=n.value.externalAuthentication)||void 0===d?void 0:d.parent_id;if(!s)return;a().ZK(m,{origin:o,from:i,invite_flow_id:l,is_success:!0}),_&&await Promise.race([c().callApi({eventName:"loadContacts",environment:m,data:{botId:s,spaceId:I.id,integrationId:k.id,importContactType:"slack"}}),(0,r().Vs)(2e3)]),null==t||t()}finally{y(!1)}}({from:f,inviteOrigin:p,flowId:C,loadContacts:_}):S.length>0&&(null==t||t())},children:(0,d.jsxs)("div",{style:b.labelContainer,children:[u,(0,d.jsx)(e(961780).e,{isConnecting:w,isIntegrationAuthenticated:S.length>0,hideChevronIcon:h})]})})}):null}},382850:(n,t,e)=>{e.d(t,{r:()=>o});e(667294);var i=e(785893);const o=(0,e(827282).IU)("circleCheckFilled",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M8 16c4.377 0 8-3.631 8-8 0-4.376-3.631-8-8.008-8C3.624 0 0 3.624 0 8c0 4.369 3.631 8 8 8zm-.886-4.165c-.267 0-.487-.11-.69-.384l-1.97-2.416a.852.852 0 01-.187-.51c0-.352.274-.643.627-.643.228 0 .4.07.596.33l1.592 2.055 3.35-5.38c.148-.236.352-.362.556-.362.345 0 .667.236.667.604 0 .173-.102.353-.196.518l-3.686 5.804c-.165.259-.393.384-.66.384z"})})}}]);