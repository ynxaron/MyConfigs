"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[81917],{308252:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(667294),i=()=>n(646574),r=()=>n(874459),l=()=>n(998411),a=n(785893);const s=function(e){const t=(0,n(788860).YB)(),s=(0,n(846550).Fg)(),u=(0,n(992231).k)(),g=(0,o.useRef)(),m=(0,o.useCallback)((()=>{const t=e.value;if(!t)return;const o=r().KR(t,(0,l().r)());if(!o)return;const i=o.valueOf(),a=i-Date.now();a<0||a>n(326966).A0||g.current&&g.current.timestamp===i||(g.current&&clearTimeout(g.current.timer),g.current={timestamp:i,timer:setTimeout(u,a)})}),[u,e.value]),p=(0,o.useCallback)((()=>{g.current&&(clearTimeout(g.current.timer),g.current=void 0)}),[]);(0,o.useEffect)((()=>{m()}),[m]),(0,o.useEffect)((()=>()=>{p()}),[p]);const{value:h,withComma:f}=e,v=(0,n(142735).VK)((()=>h?(0,i().ZV)({value:h,date_format:e.dateFormat,time_format:e.timeFormat,userTimeZone:(0,l().r)(),allowRelativeDates:!0,intl:t,shortenDateAndRange:e.shortenDateAndRange,displayInUserTimezone:e.displayInUserTimezone,getToday:n(767608).HL}):void 0),[t,e.dateFormat,e.displayInUserTimezone,e.shortenDateAndRange,e.timeFormat,h]);if(!h)return null;const b=r().NK(h,(0,l().r)(),n(146947).locale);let x;if(h.reminder){const e=r().Nm(h,(0,l().r)());x=e?{color:s.errorText}:{color:n(568017).ZP.blue}}const S=(0,a.jsxs)(a.Fragment,{children:[v,h.reminder&&(0,n(471500).m)({display:"inline-block",width:"1em",marginLeft:6,marginRight:2,paddingBottom:4,verticalAlign:"middle"}),f?", ":null]});return e.disableTooltip?(0,a.jsx)("div",{className:e.className,style:{...e.style,...x},children:S}):(0,a.jsx)(n(654133).Z,{renderTooltip:()=>(0,a.jsxs)(a.Fragment,{children:[e.tooltipHeader,(0,a.jsxs)("div",{style:d(s,e.tooltipHeader),children:[c(b.start),b.end?` â†’ ${c(b.end)}`:""]})]}),render:t=>(0,a.jsx)("div",{className:e.className,style:{...e.style,...x},...t,children:S}),placement:e.tooltipPlacement})};function c(e){return(0,i().ZW)({value:e,preset:"medium"})}function d(e,t){return t?{color:e.mediumInvertedTextColor}:{}}},899316:(e,t,n)=>{n.d(t,{ZP:()=>m,oJ:()=>f,oV:()=>h});n(667294);var o=()=>n(219727),i=()=>n(142735),r=()=>n(846550),l=()=>n(226413),a=()=>n(766933),s=()=>n(982855),c=()=>n(459805),d=()=>n(127886),u=n(785893);const g={display:"flex",alignItems:"center",lineHeight:"120%",minWidth:0};const m=function(e){let{propertySchema:t,showIcon:i,showDragIcon:l,hideName:a,badge:s,style:d,iconStyle:m,iconSize:h,dragHandleStyle:v,className:b,labelSizeVariant:x}=e;const S=(0,o().O7)(),{device:k}=S,y=k.isMobile?16:14,T=(0,r().yK)((e=>({iconWrapper:p(Boolean(a),{display:"grid",justifyContent:"center",alignItems:"center",marginRight:4,...m},x,l),dragHandle:{gridColumn:1,gridRow:1,opacity:l?1:0,transition:`opacity ${c().PP}`},itemIcon:{gridColumn:1,gridRow:1,opacity:l?0:1,transition:`opacity ${c().PP}`},dragIcon:{fill:e.icon.secondary}})),[a,m,x,l]);return(0,u.jsxs)("div",{className:b,style:{...g,fontSize:y,...d},children:[i&&(0,u.jsxs)("div",{style:T.iconWrapper,children:[(0,u.jsx)("div",{style:T.itemIcon,children:(0,u.jsx)(f,{propertySchema:t,iconSize:h,iconStyle:m})}),(0,u.jsx)("div",{style:T.dragHandle,children:(0,u.jsx)(n(9641).Z,{style:v,iconSize:12,iconStyle:T.dragIcon})})]}),!a&&(0,u.jsx)("div",{style:{...n(707513).Yu},children:t.name}),s]})};function p(e,t,n,o){return{marginRight:e?void 0:"small"===n||o?4:6,...t}}function h(e){let{propertySchema:t}=e;const n=(0,o().O7)();return(0,i().VK)((()=>(0,s().Zt)(n)&&l().qQ(t)&&l().q3(t)),[n,t])?(0,u.jsx)(d().Z,{}):null}function f(e){let{propertySchema:t,iconSize:n,iconStyle:i}=e;const l=(0,r().Fg)(),s=(0,o().O7)(),{device:c}=s,d=c.isMobile?18:16;return(0,u.jsx)(a().ZP,{type:t.type,icon:t.icon,size:n||d,theme:l,style:i})}},328094:(e,t,n)=>{n.d(t,{Z:()=>W});var o=n(667294),i=()=>n(219727),r=()=>n(142735),l=()=>n(846550),a=()=>n(226413),s=()=>n(788860),c=()=>n(949842),d=()=>n(466970),u=()=>n(826955),g=n(785893);function m(e){const{theme:t,intl:i,relatedDatabaseRecordTitle:r}=e,l=(0,o.useCallback)((()=>{const e=e=>(0,g.jsx)("div",{style:{color:t.mediumInvertedTextColor,marginTop:1},children:e});return r?i.formatMessage({defaultMessage:"This linked page does not belong to {relatedDatabaseWithIcon}.<caption>To make the link valid, consider moving the page into {relatedDatabaseWithIcon}.</caption>",id:"invalidMentionPill.pageInvalid.tooltipWithRecordTitle"},{relatedDatabaseWithIcon:r,caption:e}):i.formatMessage({defaultMessage:"This linked page does not belong to the related database.<caption>To make the link valid, consider moving the page into the related database.</caption>",id:"invalidMentionPill.pageInvalid.tooltipWithoutRecordTitle"},{caption:e})}),[i,t,r]);return(0,g.jsx)(n(654133).Z,{renderTooltip:l,render:e=>(0,g.jsx)(n(980740).Z,{theme:t,style:{color:t.text.redTertiary,background:t.fill.redPrimary},icon:n(521913).t,extraAttrs:e,children:i.formatMessage({defaultMessage:"Invalid",id:"invalidMentionPill.pageInvalid"})})})}var p=()=>n(492788),h=()=>n(990966),f=()=>n(129338),v=()=>n(154186),b=()=>n(384241);function x(e){const{blockStore:t,titleStyle:n,shouldWrap:i,recordTitleRef:r,disableTooltip:l}=e,a=(0,o.useRef)({getNode:()=>r.current}),s=(0,o.useCallback)((e=>{p().default.afterNextFlush((()=>{const e=t.getBlockTitleStore();if(!e)return;const n=e.getValue(),o=n?n[0][0].length:0,i={start:{index:o,store:e},end:{index:o,store:e}};h().setMultiSelection({multiSelection:i})}))}),[t]);return(0,g.jsx)(v().Z,{style:{height:f().Mu+2,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:5,padding:"6px 8px 7px 8px",overflow:"hidden"},onClick:s,children:(0,g.jsx)(b().Z,{store:t,underline:!0,shouldWrap:i,style:n,ref:a,disableTooltip:l})})}var S=()=>n(513670),k=()=>n(12512),y=()=>n(527278),T=()=>n(623498);const I=(0,s().vU)({typeTitle:{defaultMessage:"Type a title...",id:"relationToken.title.placeholder"}});function w(e){const{blockStore:t,clickTitleBehavior:n,onTitleEnter:o,onTitleEsc:i}=e,l="edit"===n,a=(0,r().VK)((()=>t.getBlockTitleStore()),[t]);return(0,g.jsx)(T().Z,{store:a,disabled:!l,disableSlashCommands:!0,disableEmojiCommands:!0,disableStyleAnnotations:!0,disableInsertedDeletedAnnotations:!0,disableEmbedMenu:!0,onEnter:o,onEsc:i,onTab:S().yR,placeholder:y().Z.formatMessage(I.typeTitle),style:{padding:"6px 8px 7px 8px",textOverflow:"none",overflow:"visible",whiteSpace:"pre"},disableSelectAllBlocks:!0,pasteBehavior:"inline",inPageFind:k().B3.none})}var R=()=>n(955620),C=()=>n(970105);const j=function(e){const{store:t,style:a,disableLinks:d,disableHover:u,isAndroid:m,externalIntegrations:p,canEdit:h,shouldWrap:f,tokenFormat:v}=e,b=(0,o.useRef)(null),x=(0,s().YB)(),S=(0,i().O7)(),k=(0,l().Fg)(),{isExternalIntegrationPageType:y,blockType:T,blockId:I,blockModel:w}=(0,r().VK)((()=>{const e=t.getModel();return{isExternalIntegrationPageType:Boolean(null==e?void 0:e.isType(n(156642).Ti.externalObjectInstancePage)),blockType:t.getType(),blockId:t.id,blockModel:e}}),[t]),j=(0,r().VK)((()=>n(338530).Z.getState()),[]),_=(0,o.useCallback)((()=>{if(!b||!b.current)return;const e=(0,R().x36)(t.id),n=(0,R().YCD)(e);return{textValue:[n],tokenIndex:0,textToken:n,node:b.current}}),[b,t.id]),P=(0,o.useCallback)((e=>{if(u)return;const n=_(),o=t.getTitleStore();o&&n&&C().Nh({environment:S,event:e,interactiveToken:n,store:o,canEdit:h})}),[u,_,t,S,h]),z=(0,o.useCallback)((e=>{const n=_(),o=t.getTitleStore();o&&n&&!u&&C().Zl({environment:S,event:e,interactiveToken:n,store:o,canEdit:h})}),[_,t,u,S,h]),E=t.getRecordModel,M=I,A=(0,n(718611).e_)(S),W=n(205228).default.domainBaseUrl,Z=S.currentUser.id,B=!d,V=(0,r().VK)((()=>{if(w)return(0,n(463212).dD)({blockModel:w,shouldWrap:f,index:0,style:a,disableHover:u,disableLinks:d,isAndroid:m,theme:k,getRecordModel:E,currentUserId:Z,baseUrl:W,emojiType:A,externalIntegrations:p,classNames:[],intl:x,emojiData:j,stopLinkPropagation:B,tokenFormat:(0,n(603885).jV)(v)})}),[w,f,a,u,d,m,k,E,Z,W,A,p,x,j,B,v]);return M?"external_object_instance_page"!==T?null:y?(0,g.jsx)("span",{ref:b,onMouseOver:P,onMouseOut:z,onClick:B?c().Wi:void 0,style:{width:"100%"},children:V}):null:null};function _(e){const{blockStore:t,shouldWrap:o,style:l,disableLinks:a,format:s}=e,c=(0,r().VK)((()=>(0,n(916673).yn)(t.getSyncedUri())),[t]),d=(0,r().Kw)(n(138912).default.integrations),u=(0,i().O7)();return(0,g.jsx)(j,{shouldWrap:o,store:t,style:l,disableHover:a||!c,disableLinks:a||!c,isAndroid:u.device.isAndroid,externalIntegrations:d,canEdit:!0,tokenFormat:s})}var P=()=>n(341509);function z(e){const{format:t,showRemoveButton:o,onClickRemove:i}=e,{height:r,closeIconSize:l}=P().r[t];return o?(0,g.jsx)(v().Z,{onClick:i,style:{display:"flex",alignItems:"center",justifyContent:"center",width:r,height:r,marginLeft:2,marginRight:2,flexGrow:0,flexShrink:0,borderRadius:4},children:(0,n(194336).b)({width:l,height:l,opacity:.5})}):null}function E(e){const t=(0,i().O7)(),o=(0,n(125659).DK)(),l=(0,r().VK)((()=>(0,n(429725).ZP)({store:e,fullyQualified:!1,pageVisitSource:n(506347).tY.LinkInPage})),[e]);return{blockUrlPeek:(0,r().VK)((()=>{const{mainEditorCurrentBlockStore:i}=n(876822).default.state;return n(887430).mb({environment:t,store:e,mainEditorCurrentBlockStore:i,collectionContextStore:o,fullyQualified:!1})}),[t,e,o]),blockUrlPage:l}}var M=()=>n(191003),A=()=>n(127519);const W=(0,o.forwardRef)((function(e,t){const{parentStore:p,blockId:h,relationPropertySchema:f,shouldWrap:v,format:b,showRemoveButton:x,clickTitleBehavior:S,onClickRemove:k,titleStyle:y,onTitleEnter:T,onTitleEsc:I,index:w,noUnderline:R,disableTooltip:C,disableLinks:j}=e,M=(0,i().O7)(),A=(0,s().YB)(),W=(0,l().Fg)(),V=u().G.createChildStore(p,{table:n(396136).iU,id:h}),{style:L}=(0,P().O)(e),{blockUrlPage:D,blockUrlPeek:K}=E(V),U=(0,o.useRef)(null),N=(0,o.useRef)(null),H="peek"===S,F={display:L.display,height:L.height,alignItems:L.alignItems};(0,o.useImperativeHandle)(t,(()=>V),[V]);const O=(0,n(480089).cR)(V),Y=(0,r().VK)((()=>!!V.isDefined()&&(void 0!==f&&(V.getParentPointer(),n(504008).Z.withListenerIgnored((()=>{const e=V.getAssociatedCollectionStore();if(!e){const e=(0,a().j0)(f);if(e){const t=u().NW.createChildStore(V,e);if(t.isDefined())return!t.isPageTreeCollection()||!!V.pathIsAccessibleAndAlive()}return!1}return!f||e.id!==a().F0(f)}))))),[V,f]),$={showInvalid:(0,d().E)("relations_show_invalid_collection"),showDeleted:(0,d().E)("relations_show_deleted"),showNoAccess:(0,d().E)("relations_show_no_access")},Q=(0,r().VK)((()=>{if(!$.showInvalid)return;if(void 0===f)return;const e=(0,a().j0)(f);if(e){const t=u().NW.createChildStore(V,e).getParentBlockStore();if(t&&t.isCollectionView())return t}}),[V,f,$.showInvalid]),G={environment:M,parentStore:p,blockStore:V,relationPropertySchema:f};B({...G,metricName:"collection_render_invalid_relation",trigger:Y,experimentEnabled:$.showInvalid,extraProperties:{invalid_badge_shown:$.showInvalid&&Y}}),B({...G,metricName:"collection_render_in_trash_relation",trigger:O,experimentEnabled:$.showDeleted,extraProperties:{in_trash_badge_shown:$.showDeleted&&O}});const q=(0,r().VK)((()=>V.isReady()&&"none"===V.getRole()),[V]);B({...G,metricName:"collection_render_no_access_relation",trigger:q,experimentEnabled:$.showNoAccess,extraProperties:{no_access_visible:$.showNoAccess&&q}});if((0,r().VK)((()=>"external_object_instance_page"===V.getType()),[V]))return(0,g.jsx)(_,{shouldWrap:v,blockStore:V,style:L,disableLinks:j,format:b});const J=(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(n(103462).Z,{format:b,blockStore:V,clickTitleBehavior:S,shouldWrap:v}),(0,g.jsx)(Z,{blockStore:V,recordTitleRef:U,clickTitleBehavior:S,shouldWrap:v,titleStyle:y,noUnderline:R,onTitleEnter:T,onTitleEsc:I,index:w,disableTooltip:C}),$.showDeleted&&(0,g.jsx)(n(871607).Z,{isPageInTrash:O,intl:A,theme:W}),$.showInvalid&&Y&&(0,g.jsx)(m,{intl:A,theme:W,relatedDatabaseRecordTitle:Q&&(0,g.jsx)(n(525496).Z,{store:Q,useInvertedColors:!0})})]});return(0,g.jsxs)("div",{style:L,ref:N,children:[H?(0,g.jsx)(n(108714).Z,{href:D,metaHref:K,onClick:c().Wi,style:F,children:J}):J,(0,g.jsx)(z,{showRemoveButton:x,onClickRemove:k,format:b})]})}));function Z(e){const{blockStore:t,clickTitleBehavior:o,onTitleEnter:i,onTitleEsc:l,index:a,recordTitleRef:s,titleStyle:c,shouldWrap:d,noUnderline:u,disableTooltip:m}=e,p=(0,n(309797).L2)(t),h="edit"===o&&!p,f=function(e){return(0,r().VK)((()=>{var t;const n=A().default.state;return"editing"===n.mode&&(null===(t=(0,M().QY)(n.multiSelection))||void 0===t?void 0:t.store)===e.getBlockTitleStore()}),[e])}(t);return h?f&&i&&a?(0,g.jsx)(w,{blockStore:t,clickTitleBehavior:o,onTitleEnter:i,onTitleEsc:l}):(0,g.jsx)(x,{blockStore:t,recordTitleRef:s,titleStyle:c,shouldWrap:d,disableTooltip:m}):(0,g.jsx)(n(203571).Z,{blockStore:t,recordTitleRef:s,titleStyle:c,shouldWrap:d,noUnderline:u,disableTooltip:m})}function B(e){let{environment:t,parentStore:o,blockStore:i,relationPropertySchema:r,metricName:l,trigger:a,experimentEnabled:s,extraProperties:c}=e;(0,n(61951).Z)((()=>{(0,n(594546).lu)(t,l,`${l}-${o.id}-${i.id}`,86400,{parent_store_id:o.id,parent_store_table:o.table,relation_block_id:i.id,relation_parent_id:i.getParentId(),relation_parent_table:i.getParentTable(),target_collection_id:null==r?void 0:r.collection_id,...c})}),a)}},103462:(e,t,n)=>{n.d(t,{Z:()=>m});var o=n(667294),i=()=>n(219727),r=()=>n(142735),l=()=>n(846550),a=()=>n(717956),s=()=>n(636340),c=()=>n(269299),d=()=>n(943620),u=()=>n(341509),g=n(785893);function m(e){const{clickTitleBehavior:t,blockStore:n,format:a,shouldWrap:m}=e,h="edit"===t,f=(0,i().O7)(),v=(0,r().VK)((()=>n.getIcon()),[n]),b=(0,r().VK)((()=>n.isEmptyPage()),[n]),x=(0,r().VK)((()=>n.isReady()&&"none"===n.getRole()),[n]),{style:S}=(0,l().yK)((()=>({style:{flexShrink:0,marginRight:h?0:u().r[a].recordIconMarginRight,justifyContent:"flex-start",...m&&{display:"inline-block",verticalAlign:"text-top",marginBottom:-1}}})),[h,a,m]),k=(0,o.useCallback)((e=>{const t=n.getIconStore();t&&c().createAndCommit({userAction:"RelationToken.handleRecordIconChange",environment:f,canUndo:!0,perform:n=>{s().sO({store:t,value:e,transaction:n})}})}),[n,f]),y={icon:v,size:u().r[a].pageIconSize,isEmptyPage:b,style:S};return x?(0,g.jsx)(p,{...y}):h?(0,g.jsx)(d().Z,{...y,disabled:!1,onChange:k,bucket:"public"}):(0,g.jsx)(d().Z,{...y,disabled:!0})}function p(e){const t=(0,l().Fg)();return(0,a().B)({...e.style,width:e.size,height:e.size,fill:t.icon.secondary,verticalAlign:"top",marginTop:1})}},203571:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(667294),i=()=>n(384241),r=n(785893);function l(e){const{blockStore:t,shouldWrap:n,titleStyle:l,recordTitleRef:a,noUnderline:s,disableTooltip:c}=e,d=(0,o.useRef)({getNode:()=>a.current});return(0,r.jsx)(i().Z,{store:t,underline:!s,shouldWrap:n,style:l,ref:d,enableHover:!0,showTooltipWhenTruncated:!0,disableTooltip:c})}},341509:(e,t,n)=>{n.d(t,{O:()=>s,r:()=>a});var o=()=>n(846550),i=()=>n(38883),r=()=>n(707513),l=()=>n(129338);const a={[i().lo.ExtremeSmall]:{height:16,fontSize:12,margin:"0 4px 0 0",recordIconMarginRight:3,pageIconSize:13,closeIconSize:8},[i().lo.ExtraSmall]:{height:16,fontSize:12,margin:"0 4px 0 0",recordIconMarginRight:3,pageIconSize:13,closeIconSize:8},[i().lo.Small]:{height:18,fontSize:12,margin:"0 6px 6px 0",recordIconMarginRight:3,pageIconSize:16,closeIconSize:8},[i().lo.CompactEssential]:{height:20,fontSize:14,margin:"0 12px 6px 0",recordIconMarginRight:4,pageIconSize:20,closeIconSize:8},[i().lo.Medium]:{height:20,fontSize:14,margin:"0 12px 6px 0",recordIconMarginRight:4,pageIconSize:20,closeIconSize:8},[i().lo.Inline]:{height:20,fontSize:14,margin:"0 12px 0 0",recordIconMarginRight:4,pageIconSize:20,closeIconSize:8},[i().lo.Large]:{height:24,fontSize:16,margin:"0 8px 8px 0",recordIconMarginRight:4,pageIconSize:24,closeIconSize:10}};function s(e){let{format:t,shouldShrink:n,shouldWrap:s,isSingle:d,style:u,clickTitleBehavior:g}=e;const m="edit"===g;return(0,o().yK)((()=>{const{fontSize:e,margin:o}=a[t],g=m?l().Mu:a[t].height;return{style:{...s?{display:"inline",lineHeight:1.5,borderRadius:4}:c({height:g}),fontSize:e,fontWeight:r().Ue.medium,minWidth:n?0:"auto",margin:d?0:o,...t===i().lo.Inline&&{overflow:"hidden"},...u}}}),[t,n,s,d,m,u])}function c(e){let{height:t}=e;return{display:"flex",alignItems:"center",lineHeight:1.2,height:t}}},347577:(e,t,n)=>{n.d(t,{BM:()=>s,DQ:()=>a,F4:()=>p,GC:()=>h,HV:()=>c,L2:()=>f,S7:()=>v,WY:()=>u,jI:()=>d,nt:()=>b,vw:()=>g});n(821057),n(667294);var o=()=>n(109477),i=()=>n(788860),r=()=>n(482162),l=n(785893);const a="300px",s="44px";let c=function(e){return e[e.ViewSettings=0]="ViewSettings",e[e.FilterBar=1]="FilterBar",e[e.TopbarFilterPopup=2]="TopbarFilterPopup",e[e.TopbarSortPopup=3]="TopbarSortPopup",e}({});function d(e){const{timelineViewTab:t,collectionContextStore:n}=e,i=u({collectionContextStore:n}),r=g({collectionContextStore:n});return"timeline"===i?"timeline"===t?"timeline_properties":r?"timeline_table_properties":void 0:(0,o().oz)(u({collectionContextStore:n}))}function u(e){var t;const{collectionContextStore:n}=e,o=null===(t=n.collectionViewStore())||void 0===t?void 0:t.getType();if(!o)throw new Error("View type was not defined.");return o}function g(e){const{collectionContextStore:t}=e,n=t.normalizedFormatStore.state;return Boolean(n.timeline_show_table)}const m=600;function p(e,t,n){const o=n||0,i=e.settingsStore.state;if(i.open&&!0!==i.hideSettingsPopup)return h(e,t,o)}function h(e,t,n){const o=n||0,i=e.settingsStore.state,l=u({collectionContextStore:e});return i.open&&"form_editor"===l||t||r().default.isSidePeekOpen()||e.isInHomeWidgetStore.state||e.isInlineViewStore.state||o<=m?"popup":"sidebar"}function f(e,t,n){return t?n?(0,l.jsx)(i()._H,{defaultMessage:"Unlock wiki",id:"action.unlockWikiName.name"}):(0,l.jsx)(i()._H,{defaultMessage:"Lock wiki",id:"action.lockWikiName.name"}):e?n?(0,l.jsx)(i()._H,{defaultMessage:"Unlock database",id:"database.viewSettings.mainTab.unlockDatabase.title"}):(0,l.jsx)(i()._H,{defaultMessage:"Lock database",id:"database.viewSettings.mainTab.lockDatabase.title"}):n?(0,l.jsx)(i()._H,{defaultMessage:"Unlock views",id:"database.viewSettings.mainTab.unlockViews.title"}):(0,l.jsx)(i()._H,{defaultMessage:"Lock views",id:"database.viewSettings.mainTab.lockViews.title"})}let v=function(e){return e[e.Source=0]="Source",e[e.Relation=1]="Relation",e[e.Automation=2]="Automation",e}({});const b=6},288141:(e,t,n)=>{n.d(t,{ZP:()=>c,o$:()=>s});n(122556),n(582845),n(250570),n(533019),n(721473),n(788208),n(22624),n(267602),n(653476),n(241792);var o=n(667294),i=()=>n(220427);const r=(0,o.createContext)({menuItemRefs:{current:new Set},activeRef:void 0,setActiveRef:()=>{},onKeyDown:()=>{}});function l(e){const t=new Map(Array.from(e).filter((e=>e.current)).map((e=>[e.current,e])));return{sortedElements:Array.from(t.keys()).sort(i().Z),nodeToRef:t}}function a(){return(0,o.useContext)(r)}function s(){const{menuItemRefs:e,activeRef:t,setActiveRef:n}=a(),i=(0,o.useRef)(null),r=(0,o.useCallback)((o=>{var r,l;function a(){t||n(i),null==o||o.removeEventListener("focus",a)}(i.current&&(null==o||o.removeEventListener("focus",a)),o)&&(0===(null===(l=e.current)||void 0===l?void 0:l.size)&&o.addEventListener("focus",a));i.current=o,null===(r=e.current)||void 0===r||r.add(i)}),[e,i,t,n]);return(0,o.useEffect)((()=>{const t=e.current;return()=>{null==t||t.delete(i)}}),[e]),(0,o.useEffect)((()=>{const o=e.current;return()=>{if(null===(null==t?void 0:t.current)&&t===i&&o){const{sortedElements:e,nodeToRef:t}=l(o),i=e[0];i&&t.has(i)&&n(t.get(i))}}}),[t,n,e]),[r,i]}r.displayName="MenuContext";const c=function(){let{direction:e="vertical"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,o.useRef)(new Set),[n,i]=(0,o.useState)(void 0),a=(0,o.useCallback)((o=>{let{code:r}=o;if("vertical"===e&&!["ArrowUp","ArrowDown"].includes(r)||"horizontal"===e&&!["ArrowLeft","ArrowRight"].includes(r))return;const{nodeToRef:a,sortedElements:s}=l(t.current),c=s.findIndex((e=>e===(null==n?void 0:n.current)));let d;if("vertical"===e&&"ArrowDown"===r||"horizontal"===e&&"ArrowRight"===r?d=c+1>=t.current.size?0:c+1:("vertical"===e&&"ArrowUp"===r||"horizontal"===e&&"ArrowLeft"===r)&&(d=c-1<0?t.current.size-1:c-1),void 0!==d){const e=s[d];e&&(i(a.get(e)),e.focus())}}),[n,e]);return{MenuArrowKeysProvider:r.Provider,context:{menuItemRefs:t,activeRef:n,setActiveRef:i,onKeyDown:a}}}},647439:(e,t,n)=>{n.d(t,{W:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("arrowLeftThick",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M1.54004 8.05762C1.54004 8.2627 1.62891 8.46094 1.78613 8.61133L6.29102 13.1162C6.45508 13.2734 6.63965 13.3486 6.82422 13.3486C7.25488 13.3486 7.5625 13.041 7.5625 12.6309C7.5625 12.4189 7.48047 12.2344 7.34375 12.1045L5.8125 10.5527L3.78906 8.70703L5.38867 8.80273H13.7012C14.1455 8.80273 14.46 8.49512 14.46 8.05762C14.46 7.61328 14.1455 7.3125 13.7012 7.3125H5.38867L3.7959 7.4082L5.8125 5.5625L7.34375 4.01074C7.48047 3.87402 7.5625 3.68945 7.5625 3.47754C7.5625 3.06738 7.25488 2.7666 6.82422 2.7666C6.63965 2.7666 6.45508 2.83496 6.27734 3.00586L1.78613 7.50391C1.62891 7.64746 1.54004 7.85254 1.54004 8.05762Z"})})}}]);