"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[86210],{369954:(e,t,n)=>{n.d(t,{A:()=>l});n(667294);var r=()=>n(142735),o=()=>n(846550),i=()=>n(333264),a=n(785893);function l(e){let{scrollerStore:t}=e;const n=(0,r().VK)((()=>t.state.elementRef??{current:null}),[t]),l=0===(0,i().j)(n),s=(0,o().yK)((e=>({border:{flexShrink:0,width:"100%",boxShadow:l?"0 0 0 transparent":`0 1px 0 ${e.regularDividerColor}`,transition:"box-shadow 300ms",height:2,marginTop:-2,zIndex:99}})),[l]);return(0,a.jsx)("div",{style:s.border})}},598397:(e,t,n)=>{n.r(t),n.d(t,{PublicShareSidebarContent:()=>A});var r=n(667294),o=()=>n(219727),i=()=>n(142735),a=()=>n(255933),l=()=>n(788860),s=()=>n(286338),d=()=>n(525063),c=()=>n(658096),u=()=>n(876822),p=()=>n(826955),g=(n(267602),n(470928),()=>n(528514)),h=()=>n(396136),x=()=>n(956931),b=()=>n(239482);var S=()=>n(846550),f=()=>n(968061),m=()=>n(467171),y=()=>n(707513),j=()=>n(265640),w=()=>n(577521),k=()=>n(506347),v=()=>n(224597),C=()=>n(250625),_=()=>n(675702),U=n(785893);function L(e){let{redirectURL:t,disableLoginLink:n}=e;const a=(0,o().O7)(),l=(0,r.useCallback)((async e=>{let{event:t,spaceViewStore:n}=e;const r=C().DJ(t);await v().y3({environment:a,spaceViewStore:n,userSettingsStore:u().default.state.currentUserSettingsStore,userRootStore:u().default.state.currentUserRootStore,openInNew:r,pageVisitSource:k().tY.SwitchSpace,navigationType:"switchingToOrLoadingSpace"})}),[a]),d=(0,i().VK)((()=>!!u().default.state.currentUserRootStore&&(0,s().H3)({userRootStore:u().default.state.currentUserRootStore})),[]);return(0,U.jsx)(_().ZP,{format:_()._S.Regular,shouldShowUnexpandButton:!1,shouldShowCreatePageButton:!1,onSpaceClick:l,redirectURL:t,shouldShowCreateWorkspaceButton:!d,disableLoginLink:n})}function I(e){const{styles:t}=e;return(0,U.jsx)(j().D,{style:t.notionLogoContainer,disabled:!0,icon:()=>(0,f().h)(t.notionLogoStyle),children:"Notion"})}function R(){const e=(0,o().O7)().currentUser.isLoggedIn(),t=window.location.pathname,n=(0,S().yK)((e=>({header:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",height:m().TT,flexShrink:0,flexGrow:0,paddingLeft:16,paddingRight:16},notionLogoContainer:{fontWeight:y().Ue.semibold,fontSize:15,padding:0},notionLogoStyle:{width:20,height:20,marginRight:6}})),[]);return(0,U.jsxs)("div",{style:n.header,children:[e?(0,U.jsx)(L,{redirectURL:t}):(0,U.jsx)(I,{styles:n}),(0,U.jsx)(w().V,{})]})}var K=()=>n(202454);const P=(0,n(827282).CZ)("personCropCircleDashed",{default:{loader:()=>n.e(20707).then(n.bind(n,220707))},small:{loader:()=>n.e(77131).then(n.bind(n,477131))},mini:{loader:()=>n.e(37593).then(n.bind(n,337593))},large:{loader:()=>n.e(88162).then(n.bind(n,988162))}});var T=()=>n(594546);function V(e,t){(0,T().j)({environment:e,event:{eventName:"click_sharing_panel",eventProperties:{panel_type:t.panel_type}}})}var B=()=>n(603692),D=()=>n(661641),H=()=>n(741636),N=()=>n(328714),Z=()=>n(154186),M=()=>n(1910);function O(e){let{icon:t,title:n,description:o,action:i,onDismiss:a}=e;const[l,s]=(0,r.useState)(!1),d=(0,S().yK)((e=>({container:{display:"flex",gap:8,padding:"6px 8px 8px 8px",color:e.text.primary,border:`1px solid ${e.selectLightGray[100]}`,borderRadius:8},text:{color:e.accentColors.gray[500]},inner:{display:"flex",flexDirection:"column",height:"100%",gap:4,marginTop:4},icon:{marginTop:2},button:{display:"flex",alignItems:"center",gap:4}})),[]);if(l)return null;return(0,U.jsxs)("div",{style:d.container,children:[(0,U.jsx)("div",{style:d.icon,children:(0,U.jsx)(B().y,{iconGroup:t,variantName:"default"})}),(0,U.jsxs)("div",{style:d.inner,children:[(0,U.jsx)(D().q,{styleName:"UISmall-12px/Semibold",children:n}),(0,U.jsx)(D().q,{style:d.text,styleName:"UISmall-12px/Regular",children:o}),(0,U.jsx)(Z().Z,{onClick:i.onClick,style:d.button,children:i.content})]}),(0,U.jsx)(M().Z,{ariaLabel:"Close",onClick:()=>{s(!0),null==a||a()},icon:N().U})]})}function $(){const e=(0,o().O7)();return(0,U.jsx)(O,{icon:P,title:(0,U.jsx)(l()._H,{id:"sidebar.createWorkspacePanel.title",defaultMessage:"Unlock more of Notion"}),description:(0,U.jsx)(l()._H,{id:"sidebar.createWorkspacePanel.description",defaultMessage:"To access additional features and create your own workspace, start your onboarding journey."}),action:{onClick:async()=>{await H().I1(e,{type:"create-or-join",redirectUrl:window.location.pathname,source:"public_share_link"}),V(e,{panel_type:"create_workspace"})},content:(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(D().q,{styleName:"UISmall-12px/Semibold",children:(0,U.jsx)(l()._H,{id:"sidebar.createWorkspacePanel.button",defaultMessage:"Create workspace"})}),(0,U.jsx)(B().y,{iconGroup:K().g,variantName:"default"})]})}})}function q(){const e=(0,o().O7)();return(0,U.jsx)(O,{icon:P,title:(0,U.jsx)(l()._H,{id:"sidebar.signupPanel.title",defaultMessage:"View-only access"}),description:(0,U.jsx)(l()._H,{id:"sidebar.signupPanel.description",defaultMessage:"To start building your own pages and start collaborating with team members, you need an account."}),action:{onClick:()=>{V(e,{panel_type:"sign_up"})},content:(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(D().q,{styleName:"UISmall-12px/Semibold",children:(0,U.jsx)(l()._H,{id:"sidebar.signupPanel.button",defaultMessage:"Sign up or login"})}),(0,U.jsx)(B().y,{iconGroup:K().g,variantName:"default"})]})}})}function A(e){const t=(0,o().O7)(),n={panelContainer:{padding:8}},r=(0,i().VK)((()=>u().default.state.mainEditorCurrentBlockStore),[]),S=(0,i().VK)((()=>c().default.state.publicPageData),[]),f=(0,i().VK)((()=>{if(r&&null!=S&&S.spaceId)return p().t1.createChildStore(r,{table:a().bx,id:S.spaceId})}),[r,S]),m=(0,i().VK)((()=>{if(r)return function(e){const t=e.getSpaceStore();if(!t)return;const n=t.id,r=b().fJ(e);let o;const i=g().KJ(r);for(const a of i){const{from:e,permissions:r}=a;if(e.table===h().iU&&r.find((e=>"public_permission"===e.type&&(0,x().K)(e)))){const r=e.blockId,i=p().t1.createChildStore(t,{id:r,table:h().iU,spaceId:n});if(o=i,i.getSiteStore())return i}}return o}(r)}),[r]),y=t.currentUser.isLoggedIn(),j=!y,w=(0,i().VK)((()=>!!y&&(!!u().default.state.currentUserRootStore&&!(0,s().H3)({userRootStore:u().default.state.currentUserRootStore}))),[y]);return f?(0,U.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[(0,U.jsx)(R,{}),(0,U.jsx)(d().X,{sectionLabel:(0,U.jsx)(l()._H,{id:"SharePageSidebarContent.allSharedPagesSectionLabel",defaultMessage:"Shared"}),spaceStore:f,rootBlockId:null==m?void 0:m.id}),j&&(0,U.jsx)("div",{style:n.panelContainer,children:(0,U.jsx)(q,{})}),w&&(0,U.jsx)("div",{style:n.panelContainer,children:(0,U.jsx)($,{})})]}):null}},525063:(e,t,n)=>{n.d(t,{X:()=>f});n(667294);var r=()=>n(142735),o=()=>n(846550),i=()=>n(993407),a=()=>n(396136),l=()=>n(788860),s=()=>n(842574),d=()=>n(369954),c=()=>n(686755),u=()=>n(520849),p=()=>n(658096),g=()=>n(876822),h=()=>n(826955),x=()=>n(561280),b=()=>n(468754),S=n(785893);function f(e){const t=(0,r().qz)(void 0,x().Z),{spaceStore:n,sectionLabel:f=(0,S.jsx)(l()._H,{id:"publicPageSidebarScrollableOutliner.templateSectionLabel",defaultMessage:"Template includes"}),rootBlockId:m}=e,y=(0,r().VK)((()=>p().default.state.publicPageData),[]),j=(0,r().VK)((()=>g().default.state.mainEditorCurrentBlockStore),[]),w=(0,r().VK)((()=>j&&m&&null!=y&&y.spaceId?[h().t1.createChildStore(j,{table:a().iU,id:m,spaceId:y.spaceId})]:[]),[j,m,null==y?void 0:y.spaceId]),k=(0,o().yK)((e=>({scroller:{height:"100%"},outliner:{display:"block"},adjustAlignmentForScrollBorder:{marginTop:-1}})),[]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{style:k.adjustAlignmentForScrollBorder,children:(0,S.jsx)(d().A,{scrollerStore:t})}),(0,S.jsx)(s().T,{type:u().Z.Y,store:t,style:k.scroller,children:(0,S.jsx)(c().ZP,{type:i().g$,from:"main_sidebar",sectionLabel:f,shouldPersistToggleState:!0,spaceStore:n,spaceViewStore:void 0,showAddButton:!1,labelTooltip:null,renderSidebar:()=>(0,S.jsx)(b().Z,{id:i().g$,type:i().g$,childStores:w,parentStore:void 0,disabled:!0,style:k.outliner,itemDepth:0,itemOpenByDefault:!0,"aria-labelledby":"template-includes",isHeaderless:!1,from:"main_sidebar"})})},i().g$)]})}},202454:(e,t,n)=>{n.d(t,{g:()=>r});const r=(0,n(827282).CZ)("arrowRight",{default:{loader:()=>n.e(13116).then(n.bind(n,13116))},small:{loader:()=>n.e(51558).then(n.bind(n,51558))},mini:{loader:()=>n.e(96364).then(n.bind(n,596364))},large:{loader:()=>n.e(74033).then(n.bind(n,474033))}})},956931:(e,t,n)=>{function r(e){return"none"!==e.role&&Boolean(e.is_public_share_link)}n.d(t,{K:()=>r})}}]);