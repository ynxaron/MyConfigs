"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[49674,95986],{147249:(e,t,o)=>{o.d(t,{K:()=>i,y:()=>r});var n=()=>o(594546);function i(e,t){const{from:o}=t;n().K4(e,"show_tooltip",{from:o,time:Date.now()})}function r(e,t){const{from:o}=t;n().K4(e,"dismiss_tooltip",{from:o,time:Date.now()})}},169793:(e,t,o)=>{o.d(t,{ND:()=>N,RD:()=>E,gc:()=>R,gl:()=>L,u7:()=>A});var n=o(667294),i=()=>o(219727),r=()=>o(142735),a=()=>o(156642),s=()=>o(575861),c=()=>o(788860),d=()=>o(696459),l=()=>o(147249),u=()=>o(905263),p=()=>o(982855),m=()=>o(191003),g=()=>o(550054),h=()=>o(803728),f=()=>o(110372),y=()=>o(156538),v=()=>o(876822),b=()=>o(890324),S=()=>o(826955),_=()=>o(127519),C=()=>o(343353),I=()=>o(559155),M=()=>o(656801),w=o(785893);const x=1,k=1,T=(0,c().vU)({spaceForAiHeader:{id:"AiOnboardingTooltips.spaceForAi.header",defaultMessage:"Press ‘space’ for AI"},spaceForAiContent:{id:"AiOnboardingTooltips.spaceForAi.content",defaultMessage:"On a new line or page, press ‘space’ on your keyboard for AI to generate or edit the page. Try it now!"},askAiAnythingHeader:{id:"AiOnboardingTooltips.askAiAnything.header",defaultMessage:"Ask AI anything"},askAiAnythingContent:{id:"AiOnboardingTooltips.askAiAnything.content",defaultMessage:"Just tell AI what to do — the more details, the better. You can also start from an example in the menu."},refineAiResponseHeader:{id:"AiOnboardingTooltips.refineAiResponse.header",defaultMessage:"Tell AI what to do next"},refineAiResponseContent:{id:"AiOnboardingTooltips.refineAiResponse.content",defaultMessage:"How was it? Give AI further instructions to improve what it wrote, or hit ‘Done’ when finished."},showAssistantLocationHeader:{id:"AiOnboardingTooltips.showAssistantLocation.answersToYourQuestionHeader",defaultMessage:"Ask AI when searching"},showAssistantLocationContent:{id:"AiOnboardingTooltips.showAssistantLocation.askQuestionBody",defaultMessage:"AI can find pages and synthesize a quick, concise answer for you. Try it now."},showAssistantOriginElementLocationHeader:{id:"AiOnboardingTooltips.ShowAssistantOriginElementLocationTooltip.header",defaultMessage:"Start by asking a question"},showAssistantOriginElementLocationContent:{id:"AiOnboardingTooltips.ShowAssistantOriginElementLocationTooltip.content",defaultMessage:"Notion AI will find pages and compose a concise answer for you. Try it now."}});function A(){const e=(0,i().O7)(),t=function(){const e=(0,i().O7)(),t=(0,r().VK)((()=>{var e;return null===(e=v().default.state.currentSpaceStore)||void 0===e?void 0:e.id}),[]),o=(0,r().VK)((()=>{const t=v().default.state.mainEditorCurrentBlockStore;return t&&b().Z.getMode(e,t)}),[e]);return(0,r().VK)((()=>{if(e.device.isMobile)return;const{currentUserSettingsStore:n,inAppCalloutStore:i}=v().default.state;if(!i.getCalloutVisibility("ai_onboarding_tooltip").canShow)return;const r=null==n?void 0:n.getSettings();if(!r)return;if((0,d().$K)(r.last_used_ai_writer_at))return;if("tooltip"!==r.ai_assistant_onboarding_phase)return;if((0,I().$_)(e,t)){if(!(0,d().$K)(r.ai_sales_assisted_extra_notification_seen_at)||(0,s().O5)(r.ai_sales_assisted_extra_notification_seen_at)<k)return}else if((0,d().$K)(r.ai_assistant_onboarding_phase_last_set_at)&&(0,s().O5)(r.ai_assistant_onboarding_phase_last_set_at)<x)return;if("space_for_ai"!==(0,M().sy)())return;if(!(0,p().GD)(o))return;const c=_().default.state;if("editing"===c.mode){const e=(0,m().QY)(c.multiSelection);if(e&&(0,g().wd)(e.selection)){const t=e.store,o=y().E.findEditableWithStore(t);if(o){const e="block"===t.pointer.table?S().G.createChildStore(t,t.pointer):void 0,n=e&&e.getType(),i=Boolean(n&&(0,a().hD)(n)),r=t.getValue();if(i&&!r)return o}}}}),[e,o,t])}(),[o,l]=(0,n.useState)(!1),h=(0,n.useCallback)((()=>{l(!0)}),[]),f=!o&&Boolean(t);return(0,n.useEffect)((()=>()=>{f&&(0,M().fz)(e)}),[e,f]),f&&t?(0,w.jsx)(u().U,{origin:()=>t.getNode(),placementToOrigin:"bottom",header:(0,w.jsx)(c()._H,{...T.spaceForAiHeader}),content:(0,w.jsx)(c()._H,{...T.spaceForAiContent}),onCloseClick:h}):null}function E(e){const{originRef:t,openState:o}=e,a=(0,i().O7)(),s=(0,r().VK)((()=>(0,M().sy)()),[]),[d,l]=(0,n.useState)(!1),p=(0,n.useCallback)((()=>{l(!0)}),[]),m="ask_ai_anything"===s&&"initialPrompt"===o.stage&&!d;return(0,n.useEffect)((()=>()=>{!a.device.isMobile&&m&&(0,M().fz)(a)}),[a,m]),a.device.isMobile||!m?null:(0,w.jsx)(u().U,{origin:t,placementToOrigin:"top",header:(0,w.jsx)(c()._H,{...T.askAiAnythingHeader}),content:(0,w.jsx)(c()._H,{...T.askAiAnythingContent}),onCloseClick:p})}function L(e){const{originRef:t,openState:o,isInputEmpty:a}=e,s=(0,i().O7)(),d=(0,r().VK)((()=>(0,M().sy)()),[]),[l,p]=(0,n.useState)(!1),m=(0,n.useCallback)((()=>{p(!0)}),[]),g="refine_ai_response"===d&&"results"===o.stage&&!o.loading&&"cursor"===o.context.type&&a&&!l;return(0,n.useEffect)((()=>()=>{!s.device.isMobile&&g&&(0,M().fz)(s)}),[s,g]),s.device.isMobile?null:(0,w.jsx)(u().U,{origin:g?t:void 0,placementToOrigin:"right",pointerOffset:-4,pointerLength:25,header:(0,w.jsx)(c()._H,{...T.refineAiResponseHeader}),content:(0,w.jsx)(c()._H,{...T.refineAiResponseContent}),onCloseClick:m})}function N(e){const{origin:t}=e,o=(0,i().O7)();(0,n.useEffect)((()=>{l().K(o,{from:"qna_button"}),f().gF(o,{callout_key:"ai_assistant_origin_element_tooltip"})}),[o]);const r=(0,n.useCallback)((()=>{const{currentUserSettingsStore:e}=v().default.state;e&&(l().y(o,{from:"qna_button"}),f().bl(o,{callout_key:"ai_assistant_origin_element_tooltip",dismiss_type:"tooltip_dismiss"}),(0,C().setQnaOnboardingPhase)(o,{phase:"complete",transactionUserAction:"AiQnaIntroModal.debug.clickTooltipComplete",userSettingsStore:e}),h().Gi(o,"ai_assistant_origin_element_tooltip"))}),[o]);return(0,w.jsx)(u().U,{style:{width:250},pointerLength:25,pointerPosition:"94%",origin:t,placementToOrigin:"top",header:(0,w.jsx)(c()._H,{...T.showAssistantOriginElementLocationHeader}),content:(0,w.jsx)(c()._H,{...T.showAssistantOriginElementLocationContent}),onCloseClick:r})}function R(e){const{origin:t}=e,o=(0,i().O7)();(0,n.useEffect)((()=>{l().K(o,{from:"qna_search"})}),[o]);const r=(0,n.useCallback)((()=>{const{currentUserSettingsStore:e}=v().default.state;e&&(l().y(o,{from:"qna_search"}),(0,C().setQnaOnboardingPhase)(o,{phase:"complete",transactionUserAction:"AiQnaIntroModal.debug.clickTooltipComplete",userSettingsStore:e}))}),[o]);return(0,w.jsx)(u().U,{style:{width:250},pointerLength:25,pointerPosition:"5%",origin:t,placementToOrigin:"bottom",header:(0,w.jsx)(c()._H,{...T.showAssistantLocationHeader}),content:(0,w.jsx)(c()._H,{...T.showAssistantLocationContent}),onCloseClick:r})}(0,o(100056).exposeDebugEnvironmentValue)("resetAIOnboarding",(e=>()=>{const{currentUserSettingsStore:t}=v().default.state;t&&o(269299).createAndCommit({userAction:"AiIntroModal.debugging.resetAIOnboarding",environment:e,canUndo:!0,perform:e=>{o(348141).d2({userSettingsStore:t,transaction:e,data:{ai_onboarding_phase:"space_for_ai"}})},userId:t.id})}))},509572:(e,t,o)=>{o.r(t),o.d(t,{FORMS_SHARE_CALLOUT_KEY:()=>X,changeFormClosedState:()=>le,changeFormSubmissionPermissions:()=>ue,createAndFocusCollectionFormEditorView:()=>ne,createCollectionFormEditorView:()=>ie,createDummyFormPage:()=>he,createFormInPrivate:()=>re,createFormQuestion:()=>se,createFormQuestionAndModuleForNewlyDuplicatedProperty:()=>ce,createFormQuestionAndUpdateOrCreateModule:()=>de,createResponsesCollectionView:()=>ae,handleUpdateFormQuestionName:()=>ee,incrementAndTrackUserFormsCreated:()=>J,maybeAlertAboutUnsupportedPublicQuestions:()=>fe,maybeSyncQuestionNameToPropertyName:()=>te,remapQuestionToNewProperty:()=>ge,toggleAnonymousFormSubmissionState:()=>pe,toggleNotionBrandingState:()=>me});o(821057),o(670560),o(267602),o(653476),o(470928),o(30005),o(667294);var n=()=>o(846550),i=()=>o(506347),r=()=>o(156642),a=()=>o(863112),s=()=>o(226413),c=()=>o(532850),d=()=>o(817629),l=()=>o(998411),u=()=>o(127513),p=()=>o(64272),m=()=>o(644602),g=()=>o(667932),h=()=>o(217465),f=()=>o(375255),y=()=>o(396136),v=()=>o(139978),b=()=>o(26645),S=()=>o(483791),_=()=>o(955620),C=()=>o(788860),I=()=>o(342792),M=()=>o(543172),w=()=>o(707513),x=()=>o(984871),k=()=>o(132156),T=()=>o(308186),A=()=>o(421654),E=()=>o(636340),L=()=>o(47443),N=()=>o(145284),R=()=>o(269299),U=()=>o(348141),P=()=>o(804057),B=()=>o(427886),F=()=>o(594546),O=()=>o(907005),j=()=>o(561933),D=()=>o(487270),V=()=>o(527278),Q=()=>o(803728),H=()=>o(99537),Z=()=>o(356117),K=()=>o(876822),q=()=>o(749826),G=()=>o(808282),W=()=>o(807230),Y=()=>o(469753),z=o(785893);const $=(0,C().vU)({responsesViewName:{id:"formEditorActions.responsesViewName",defaultMessage:"Responses"},newFormViewName:{id:"formEditorActions.newFormViewName",defaultMessage:"Form builder"},formDatabaseTitle:{id:"newBlock.databaseInline.formDatabaseTitle",defaultMessage:"New form"}}),X="forms_share_form_tooltip";function J(e,t){const{currentUserSettingsStore:o}=K().default.state;if(!o)return;const n=function(){const{currentUserSettingsStore:e}=K().default.state;if(!e)return;return e.getSettingsStore().getKeyStore("user_forms_created_count").getValue()??0}();void 0!==n&&(U().d2({userSettingsStore:o,transaction:t,data:{user_forms_created_count:n+1}}),function(e,t){(0,F().j)({environment:e,event:{eventName:"form_created",eventProperties:{user_total_form_count:t.userFormsCreatedCount}}})}(e,{userFormsCreatedCount:n+1})),q().default.logEvent("form_created")}function ee(e){var t;const{questionStore:o,newName:n,environment:i,collectionStore:r,collectionSchema:a,collectionContextStore:s}=e,c=null===(t=o.getConfig())||void 0===t?void 0:t.propertyId;if(!c)throw new Error("No property ID found for question");R().createAndCommit({userAction:"formQuestion.changeName",environment:i,canUndo:!0,perform:e=>{var t,i;const d=null===(t=o.getConfig())||void 0===t?void 0:t.name;if(!d)return;const u=(0,f().Xh)({textValue:d,getRecordModel:o.getRecordModel,deterministic:!0,userTimeZone:(0,l().r)(),intl:V().Z.getIntl()})===(null===(i=a[c])||void 0===i?void 0:i.name);R().applyOperation({store:o,operation:{pointer:o.pointer,path:["config","name"],command:"set",args:[[n]]},transaction:e}),o.shouldSyncQuestionNameToPropertyName()&&(u&&!(0,j().Gu)({property:c,collectionContextStore:s,newValue:n})?x().Bv({collectionStore:r,property:c,name:n,transaction:e}):R().applyOperation({store:o,operation:{pointer:o.pointer,path:["config","shouldSyncQuestionNameToPropertyName"],command:"set",args:!1},transaction:e}))}})}function te(e){var t;const{questionStore:o,environment:n,collectionStore:i,collectionContextStore:r}=e,a=null===(t=o.getConfig())||void 0===t?void 0:t.propertyId;if(!a)throw new Error("No property ID found for question");R().createAndCommit({userAction:"formQuestion.changeName",environment:n,canUndo:!0,perform:e=>{if(!o.shouldSyncQuestionNameToPropertyName())return;const t=o.getNameStore().getValue();if(!t)return;const n=(0,f().Xh)({textValue:t,getRecordModel:o.getRecordModel,deterministic:!0,userTimeZone:(0,l().r)(),intl:V().Z.getIntl()}),s=(0,j().Gu)({property:a,collectionContextStore:r,newValue:n})?(0,d().n)(n):n;x().Bv({collectionStore:i,property:a,name:s,transaction:e})}})}function oe(){const e=(0,n().yK)((e=>({container:{display:"flex",flexDirection:"column"},iconGroup:{display:"flex",flexDirection:"row",justifyContent:"center",color:e.icon.secondary,alignItems:"center"},dialogTitle:{fontSize:16,fontWeight:w().Ue.semibold,lineHeight:"22px",marginTop:12,marginBottom:12},dialogDescription:{color:e.text.secondary,fontSize:14,lineHeight:"20px"}})),[]);return(0,z.jsxs)("div",{style:e.container,children:[(0,z.jsxs)("div",{style:e.iconGroup,children:[(0,m().t)({width:24}),(0,u().r)({width:16,marginLeft:16,marginRight:14}),(0,p().E)({width:24})]}),(0,z.jsx)("span",{style:e.dialogTitle,children:(0,z.jsx)(C()._H,{defaultMessage:"Auto-create form questions based on existing properties?",id:"NewFormOnExistingCollectionDialogTitle.message"})}),(0,z.jsx)("span",{style:e.dialogDescription,children:(0,z.jsx)(C()._H,{defaultMessage:"Only supported property types will create new questions.",id:"NewFormOnExistingCollectionDialogTitle.description"})})]})}function ne(e){const{environment:t,collectionContextStore:o,transaction:n}=e,i=o.collectionViewBlockStore(),r=o.collectionStore();if(!i||!r)return;const a=o.normalizedSchemaStore.state,s=ie({environment:t,collectionViewBlockStore:i,schema:a,transaction:n,initializeWithAllDefaultQuestions:!1});if(!s)return;(0,B().f)({environment:t,collectionContextStore:o,collectionViewId:s.newViewId,isFullScreen:o.isFullScreenStore.state,isRootChild:o.isRootChildStore.state,isInPeekRenderer:o.isInPeekRendererStore.state});const c=s.layoutStore,d=Object.keys(a).filter((e=>{const t=a[e];return"title"!==e&&t&&(0,Y().I0)(t)}));d.length>0&&d.length<=Y().h0&&T().vC({showCancel:!1,keepFocus:!1,message:(0,z.jsx)(oe,{}),mode:"wide",items:[{label:(0,z.jsx)(C()._H,{defaultMessage:"Create {numQuestions, plural, one {1 question} other {{numQuestions} questions}}",id:"formEditorActions.createQuestions.primaryAction",values:{numQuestions:d.length}}),color:"blue",buttonType:"solid",onAccept(){R().createAndCommit({environment:t,userAction:"formActions.autoCreateFormQuestionsForExistingDatabase",canUndo:!0,perform:e=>{for(const n of d)ce({environment:t,transaction:e,layoutStore:c,collectionStore:r,propertyId:n,position:{type:"area_relative",area:"form_layout_schema",location:"end_moveable"},addLayoutModule:o=>{(0,H().sW)({environment:t,sessionId:(0,I().ZP)(),layoutStore:c,position:o.position??{type:"area_relative",area:"form_layout_schema",location:"end_moveable"},module:o.layoutModule,transaction:e,isPropertyCreation:!1})},collectionContextStore:o,shouldLogEvent:!0,autoCreatedFromExistingDatabase:!0})}})}},{label:(0,z.jsx)(C()._H,{defaultMessage:"Start from scratch",id:"formEditorActions.createQuestions.secondary"}),color:"gray",buttonType:"plain",onAccept(){}}]})}function ie(e){const{environment:t,collectionViewBlockStore:o,transaction:n,schema:i,initializeWithAllDefaultQuestions:r}=e;if(!o)return;const c=o.getSpaceId(),{formBlockStore:d,layoutStore:l}=function(e){var t;const{environment:o,spaceId:n,inMemoryRecordCache:i,transaction:r,schema:c,initializeWithAllDefaultQuestions:d}=e,l=Object.keys(c).find((e=>{var t;return"select"===(null===(t=c[e])||void 0===t?void 0:t.type)})),u=Boolean(d&&void 0!==l),p=(0,D().TS)({environment:o,table:y().iU,spaceId:n}),m=(0,D().TS)({environment:o,table:b().L_,spaceId:n}),h=u?(0,D().TS)({environment:o,table:b().L_,spaceId:n}):void 0,f=E().j4({id:p,environment:o,type:"form",permissions:(0,a().wG)(),inMemoryRecordCache:i,transaction:r}),v=E().ae({environment:o,table:S().Bh,value:{space_id:n,parent_table:y().iU,parent_id:f.id,modules:(0,g().l2)(m,h)},inMemoryRecordCache:i,transaction:r});var _;A().FH({stores:[f],update:{form_layout_pointer:{id:v.id,spaceId:n,table:S().Bh}},transaction:r}),se({environment:o,questionId:m,spaceId:n,layoutId:v.id,propertyId:s().iw,initialQuestionTitle:(null===(t=c[s().iw])||void 0===t?void 0:t.name)??"",inMemoryRecordCache:i,transaction:r,shouldSyncQuestionNameToPropertyName:!0,shouldLogEvent:!1}),u&&h&&l&&se({environment:o,questionId:h,spaceId:n,layoutId:v.id,propertyId:l,initialQuestionTitle:(null===(_=c[l])||void 0===_?void 0:_.name)??"",inMemoryRecordCache:i,transaction:r,shouldSyncQuestionNameToPropertyName:!0,shouldLogEvent:!1});return{formBlockStore:f,layoutStore:v}}({environment:t,spaceId:c,inMemoryRecordCache:o.inMemoryRecordCache,transaction:n,schema:i,initializeWithAllDefaultQuestions:r}),u=(0,P().W)({environment:t,collectionViewBlockStore:o,collectionView:{type:"form_editor",parent_id:o.id,parent_table:y().iU,alive:!0,space_id:c,name:V().Z.formatMessage($.newFormViewName),format:{form_block_pointer:{id:d.id,spaceId:c,table:y().iU}}},transaction:n});return E().sW({store:d,data:{parent_id:u.id,parent_table:v().np,alive:!0},transaction:n}),G().Z.setState({openTooltip:u.id}),Q().yM(t,X),J(t,n),{newViewId:u.id,layoutStore:l,formId:d.id}}function re(e){const{environment:t,navigateToFormBuilder:o}=e,{currentSpaceStore:n,currentSpaceViewStore:r}=K().default.state;if(!n||!r)return;if(!(0,W().ww)(t))return void(0,W().eD)(t);if(!(n&&n.canEdit()&&r))return;const a=n.id,s=t.idCreator.getSpaceIdCreatorSync(a);R().createAndCommit({environment:t,userAction:"formActions.createAndNavigateToFormInPrivate",canUndo:!0,perform:e=>{var c;const{targetBlockStore:d}=k().Z({environment:t,sourceBlockId:"root",targetBlockPointer:(0,D().Ii)({environment:t,table:y().iU,spaceId:a}),sourceBlockSubtree:(0,h().partialRecordMapToRecordMap)(O().Xq({isInline:!0,name:(0,_().TPx)(V().Z.formatMessage($.formDatabaseTitle))})),targetRecordCache:n.inMemoryRecordCache,transaction:e,deepCopyTransclusionContainers:!0,resolveTemplateVariables:!1,spaceIdCreator:s}),l=d.getCollectionStore(),u=null==l||null===(c=l.getModel())||void 0===c?void 0:c.getNormalizedSchema(),p=d;if(!u)throw new Error("Schema not found");ie({environment:t,transaction:e,collectionViewBlockStore:p,schema:u,initializeWithAllDefaultQuestions:!0}),ae({environment:t,transaction:e,collectionViewBlockStore:p,schema:u}),N().Hj({environment:t,spaceStore:n,spaceViewStore:r,pageStore:d,isPrivate:!0,transaction:e,location:{type:"prepend"}}),o&&L()._c({environment:t,store:d,pageVisitSource:i().tY.CreateFormDeepLink})}})}function ae(e){const{environment:t,collectionViewBlockStore:o,transaction:n}=e,i=o.getSpaceId(),r=Object.keys(e.schema).find((t=>{var o;return"created_by"===(null===(o=e.schema[t])||void 0===o?void 0:o.type)}));(0,P().W)({environment:t,collectionViewBlockStore:o,collectionView:{type:"table",parent_id:o.id,parent_table:y().iU,alive:!0,name:V().Z.formatMessage($.responsesViewName),space_id:i,format:{table_properties:[{property:"title",visible:!0},...r?[{property:r,visible:!0}]:[]],table_wrap:!0,collection_pointer:o.getCollectionPointer()}},transaction:n})}function se(e){const{environment:t,questionId:o,spaceId:n,layoutId:i,propertyId:r,initialQuestionTitle:a,inMemoryRecordCache:s,transaction:c,shouldSyncQuestionNameToPropertyName:d,collectionContextStore:l,shouldLogEvent:u=!0,autofocusTitle:p,existingFormQuestionConfig:m,autoCreatedFromExistingDatabase:g}=e;E().ae({environment:t,table:b().L_,value:{id:o,space_id:n,parent_table:S().Bh,parent_id:i,alive:!0,config:{...m,propertyId:r,name:[[a]],shouldSyncQuestionNameToPropertyName:d}},inMemoryRecordCache:s,transaction:c}),u&&(0,F().j)({environment:t,event:{eventName:"add_form_question",eventProperties:{...(0,Y().Pz)({collectionContextStore:l,propertyId:r,questionId:o}),auto_created_from_existing_database:Boolean(g)}}}),p&&p.autofocusedQuestionTextStore.autofocusQuestionTitle({questionId:o})}function ce(e){const{environment:t,transaction:o,layoutStore:n,collectionStore:i,propertyId:r,position:a,addLayoutModule:s,collectionContextStore:c,shouldLogEvent:d=!0,autofocusTitle:l,existingFormQuestionConfig:u,autoCreatedFromExistingDatabase:p}=e,m=i.getSchema()[r];if(!m)throw new Error(`No schema found for property ${r}`);const g=u?(0,_().QaF)(null==u?void 0:u.name):m.name,h=n.getSpaceId(),f=(0,D().TS)({environment:t,table:b().L_,spaceId:h});return se({environment:t,questionId:f,spaceId:h,layoutId:n.id,propertyId:r,initialQuestionTitle:g,inMemoryRecordCache:n.inMemoryRecordCache,transaction:o,shouldSyncQuestionNameToPropertyName:!0,shouldLogEvent:d,collectionContextStore:c,autofocusTitle:l,existingFormQuestionConfig:u,autoCreatedFromExistingDatabase:p}),s({layoutModule:{type:"formQuestion",id:(0,M().ZP)(),formQuestionId:f},position:a,transaction:o}),{questionId:f}}function de(e){const{environment:t,transaction:o,layoutStore:n,propertyId:i,initialQuestionTitle:r,moduleId:a,shouldSyncQuestionNameToPropertyName:s,collectionContextStore:c,autofocusTitle:d,area:l,sessionId:u}=e,p=n.getModel();if(!p)throw new Error("Layout model cannot be undefined");const m=n.getSpaceId(),g=(0,D().TS)({environment:t,table:b().L_,spaceId:m});se({environment:t,questionId:g,spaceId:m,layoutId:p.id,propertyId:i,initialQuestionTitle:r,inMemoryRecordCache:n.inMemoryRecordCache,transaction:o,shouldSyncQuestionNameToPropertyName:s,collectionContextStore:c,autofocusTitle:d});const h={type:"formQuestion",id:a??(0,M().ZP)(),formQuestionId:g,..."form_conditional_modules"===l?{parentModuleId:e.parentModuleId,parentConditionalGroupId:e.parentConditionalGroupId}:{}};return a?(0,Z().Uq)({environment:t,transaction:o,layoutStore:n,position:{area:l,moduleId:a},updatedModule:h}):"form_conditional_modules"===l&&(0,H().sW)({environment:t,transaction:o,layoutStore:n,position:{type:"absolute",area:"form_conditional_modules",parentConditionalGroupId:e.parentConditionalGroupId,parentModuleId:e.parentModuleId},module:h,sessionId:u,isPropertyCreation:!1}),{updatedModuleId:h.id}}function le(e){let{environment:t,formBlockStore:o,isClosed:n}=e;o.getIsFormClosed()!==n&&R().createAndCommit({userAction:"formActions.changeFormClosedState",environment:t,canUndo:!0,perform:e=>{A().FH({stores:[o],update:{form_config:{...o.getFormConfig(),is_form_closed:n}},transaction:e})}})}function ue(e){let{environment:t,formBlockStore:o,permissions:n}=e;o.getFormSubmissionPermissions()!==n&&R().createAndCommit({userAction:"formActions.changeFormSubmissionPermissions",environment:t,canUndo:!0,perform:e=>{A().FH({stores:[o],update:{form_config:{...o.getFormConfig(),submission_permissions:n}},transaction:e})}})}function pe(e){let{environment:t,formBlockStore:o}=e;const n=o.getIsFormAnonymousSubmissionEnabled();R().createAndCommit({userAction:"formActions.changeAnonymousFormSubmissionState",environment:t,canUndo:!0,perform:e=>{A().FH({stores:[o],update:{form_config:{...o.getFormConfig(),anonymous_submissions:!n}},transaction:e})}})}function me(e){var t;let{environment:o,formBlockStore:n}=e;const i=n.getSiteStore();if(!i)return;const r=(null===(t=i.getHeader())||void 0===t?void 0:t.hideWatermark)??!1;R().createAndCommit({userAction:"formBlockStore.publicForm.toggleNotionBranding",environment:o,canUndo:!0,perform:e=>{R().applyOperation({store:i,operation:{pointer:i.pointer,path:["header","hideWatermark"],command:"set",args:!r},transaction:e})}})}function ge(e){let{environment:t,newPropertyId:o,formQuestionStore:n}=e;R().createAndCommit({userAction:"formQuestion.remapQuestionToNewProperty",environment:t,canUndo:!0,perform:e=>{R().applyOperation({store:n,operation:{pointer:n.pointer,path:["config","propertyId"],command:"set",args:o},transaction:e})}})}function he(e){const{environment:t,collectionSchema:o,temporaryRecordCache:n,spaceId:i,collectionId:a,formMode:s}=e,c={};Object.keys(o).forEach((e=>{c[e]=(0,_().TPx)("")}));const{performResult:d}=R().createAndCommit({environment:t,userAction:"formActions.createDummyFormPage",perform:e=>{const o=E().j4({environment:t,type:r().Ti.page,inMemoryRecordCache:n,transaction:e,spaceId:i,properties:{...c}});return E().sW({store:o,data:{alive:"viewer"===s,parent_id:a,parent_table:"collection"},transaction:e}),o},canUndo:!1});return d}async function fe(e){const{environment:t,formBlockStore:o,collectionSchema:n,theme:i,onAccept:r}=e;if(!n)return;const a=(0,Y().jj)(o),s=(null==a?void 0:a.getFormQuestionsForFormLayout())??[],d=[];if(s.forEach((e=>{const o=e.getPropertyId();if(!o)return;const i=(0,c().Qm)({schema:n,property:o}),r=null==i?void 0:i.type;if(!r)return;(0,Y().Hz)({environment:t,propertyType:r,propertySchema:i,isPublicForm:!0})&&d.push(e)})),0===d.length)return void r();const u=d.map(((e,t)=>{const o=(0,f().Xh)({textValue:e.getNameStore().getValue(),getRecordModel:e.getRecordModel,deterministic:!0,userTimeZone:(0,l().r)(),intl:V().Z.getIntl()}),n=t===d.length-1;return(0,z.jsx)("div",{style:{fontSize:14,textAlign:"start",padding:"8px 12px",borderBottom:n?void 0:`1px solid ${i.lightDividerColor}`},children:o},e.id)})),{accept:p}=await T().gt({message:(0,z.jsx)(C()._H,{id:"formEditorActions.maybeAlertAboutUnsupportedPublicQuestions.message",defaultMessage:"These questions are not supported in public forms and will not be shown to respondents:"}),description:(0,z.jsx)("div",{style:{borderRadius:6,border:`1px solid ${i.lightDividerColor}`,width:"calc(100% + 24px)",marginLeft:-12,marginTop:12,maxHeight:210,overflow:"auto"},children:u}),acceptLabel:(0,z.jsx)(C()._H,{id:"formEditorActions.maybeAlertAboutUnsupportedPublicQuestions.acceptLabel",defaultMessage:"Got it"}),acceptColor:"blue",cancelButtonType:"plain",mode:"wide"});p&&r()}},632599:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(667294),i=()=>o(846550),r=()=>o(729201),a=()=>o(312578),s=o(785893);function c(e){let{loadingMessage:t}=e;const o=(0,i().Fg)(),c=(0,r().Z)(!0,400);return(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:c&&(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(a().Z,{}),t&&(0,s.jsx)("div",{style:{marginLeft:8,color:o.text.secondary},children:t})]})})}},887330:(e,t,o)=>{o.d(t,{C:()=>i,L:()=>r});var n=()=>o(707513);function i(e){const{theme:t,isInHomeWidget:o}=e;return{display:"flex",alignItems:"center",fontSize:14,padding:6,...o?{height:24,width:24,color:t.lightTextColor,fill:t.lightIconColor}:{height:28,width:28,color:t.mediumIconColor,fill:t.mediumIconColor},fontWeight:n().Ue.regular,lineHeight:1,borderRadius:6}}function r(e){const{theme:t}=e;return{display:"flex",alignItems:"center",fontSize:14,height:28,padding:6,color:t.mediumIconColor,fontWeight:n().Ue.regular,lineHeight:1,borderRadius:4}}},755589:(e,t,o)=>{o.d(t,{m:()=>l});o(667294);var n=()=>o(968061),i=()=>o(788860),r=()=>o(231077),a=()=>o(1910),s=()=>o(45909),c=o(785893);const d=(0,i().vU)({menu:{defaultMessage:"Menu",id:"topbar.appMenuButton.title"}});function l(){const e=(0,i().YB)();return(0,c.jsx)(a().Z,{style:{position:"absolute",top:"10px",left:"14px",width:24,height:24,zIndex:1e5,...(0,s().X)({noDrag:!0})},iconStyle:{width:16,height:16},isDarkIconColor:!0,onClick:()=>{r().openAppMenu()},icon:n().h,ariaLabel:e.formatMessage(d.menu)})}},761936:(e,t,o)=>{o.d(t,{L:()=>l});var n=()=>o(642240),i=()=>o(338530);const r={ko:()=>o.e(60692).then(o.bind(o,299435)),es:()=>o.e(20883).then(o.bind(o,960142)),de:()=>o.e(83224).then(o.bind(o,299606)),fr:()=>o.e(85038).then(o.bind(o,604240)),pt:()=>o.e(72138).then(o.bind(o,515748)),zh:()=>o.e(17835).then(o.bind(o,240169)),ja:()=>o.e(96377).then(o.bind(o,770488)),da:()=>o.e(57677).then(o.bind(o,317410)),fi:()=>o.e(66970).then(o.bind(o,266265)),nb:()=>o.e(93031).then(o.bind(o,189761)),nl:()=>o.e(62579).then(o.bind(o,360701)),sv:()=>o.e(60382).then(o.bind(o,575660))};let a=!1,s=!1;async function c(e){for(const[o,i]of Object.entries(e.emojiLocaleKeywords)){var t;n().Q4[o]={...n().Q4[o],keywords:[...i,...(null===(t=n().Q4[o])||void 0===t?void 0:t.keywords)||[]]}}await i().Z.waitUntilLoaded(),i().Z.update((t=>{let{emojiByName:o,...n}=t;return{...n,emojiByName:{...o,...e.emojiByName}}}))}async function d(){if(a)return;const[e]=o(146947).locale.split("-");e in r&&(await c(await r[e]()),a=!0)}const l=(0,o(924665).Z)((async()=>{await async function(){s||(await c(await o.e(83552).then(o.bind(o,716373))),s=!0)}(),await d()}))},110372:(e,t,o)=>{o.d(t,{YF:()=>d,bl:()=>c,gF:()=>a,i6:()=>l,lZ:()=>s});var n=()=>o(954949),i=()=>o(594546),r=()=>o(749826);function a(e,t){const o=(0,n().Si)(t.callout_key);o&&(t.placement_key=(0,n().pU)(o)),(0,i().j)({environment:e,event:{eventName:"callout_show",eventProperties:t}}),r().default.logEvent("callout_show",t.callout_key)}function s(e,t){const o=(0,n().Si)(t.callout_key);o&&(t.placement_key=(0,n().pU)(o)),(0,i().j)({environment:e,event:{eventName:"callout_click",eventProperties:t}}),r().default.logEvent("callout_click",t.callout_key)}function c(e,t){const o=(0,n().Si)(t.callout_key);o&&(t.placement_key=(0,n().pU)(o)),(0,i().j)({environment:e,event:{eventName:"callout_dismiss",eventProperties:t}}),r().default.logEvent("callout_dismiss",t.callout_key)}function d(e,t){const{eligible_callouts:o,required_arg_timeout:n,required_args_run_duration:r,eligibility_timeouts:a,blocklist:s}=t;(0,i().j)({environment:e,event:{eventName:"callout_coordinator_resolved",eventProperties:{eligible_callouts:o,required_arg_timeout:n,required_args_run_duration:r,eligibility_timeouts:a,blocklist:s}}})}function l(e,t){(0,i().j)({environment:e,event:{eventName:"callout_feature_interaction",eventProperties:t}})}},355435:(e,t,o)=>{o.d(t,{E7:()=>r,Ju:()=>i,cb:()=>s,iv:()=>a,tL:()=>n});const n=32,i=202,r=1e3,a="Want to add a metric? Look for 'src/client/performanceToolbar/config.ts' in notion-next.",s="To disable the toolbar entirely, go to the 'Experiments' panel and look for the 'performance_debugging_toolbar' flag."},420406:(e,t,o)=>{o.d(t,{$:()=>n});function n(e,t){t.route.name;return!1}},341643:(e,t,o)=>{o.d(t,{DW:()=>v,IG:()=>h,J4:()=>y,hZ:()=>f,q9:()=>g,qq:()=>b,s4:()=>m});var n=o(667294),i=()=>o(219727),r=()=>o(142735),a=()=>o(801812),s=()=>o(677559),c=()=>o(690664),d=()=>o(105649),l=()=>o(291335),u=()=>o(590972),p=()=>o(420406);const m=new(s().Ss)("PerformanceToolbar",(()=>Promise.all([o.e(62743),o.e(5242),o.e(4014),o.e(20919),o.e(93843),o.e(66283),o.e(54194)]).then(o.bind(o,674207)))),g=(0,s().kF)(m,(e=>e.PerformanceToolbar)),h=(0,s().kF)(m,(e=>e.PerformanceToolbarSettings));function f(){const e=(0,i().O7)();return(0,r().VK)((()=>(0,p().$)(e,e.RouterStore.state)),[e])}function y(){const e=(0,i().O7)(),t=S("PerformanceToolbarStore"),o=S("isPerformanceToolbarVisible");return(0,r().VK)((()=>!(!t||!o)&&o(e,e.RouterStore.state,t.state)),[o,e,t])}function v(){const e=S("PerformanceToolbarStore");return(0,r().VK)((()=>!!e&&e.state.isPerformanceToolbarMounted),[e])}function b(){const e=(0,i().O7)(),t=S("createPerformanceToolbarMouseListeners"),o=S("PerformanceToolbarStore"),{sidebarExpanded:a,sidebarWidth:s,secondarySidebarExpanded:p,secondarySidebarWidth:m,updateSidebarExpanded:g,updateSidebarWidth:h}=(0,r().VK)((()=>({sidebarExpanded:l().sidebarExpandedStore.state,sidebarWidth:l().sidebarWidthStore.state,secondarySidebarExpanded:d().default.isOpen(),secondarySidebarWidth:c().default.getWidth(),updateSidebarExpanded:u().default.state.expanded,updateSidebarWidth:u().default.state.width})),[]);return(0,n.useEffect)((()=>{if(o&&t)return t(e,(e=>o.update((t=>({...t,isMouseNearPerformanceToolbar:e})))),a,s,p,m,g,h)}),[t,e,o,a,s,p,m,g,h])}function S(e){const t=f(),[{value:o}]=(0,a().r5)((()=>t?m.load().then((t=>t[e])):Promise.resolve(void 0)),[e,t]);return o}},696764:(e,t,o)=>{o.d(t,{Z:()=>i});var n=()=>o(730120);class i{constructor(){this.UNVISITED_FRECENCY_SCORE=1}getFrecencyRankedActions(e,t){const o=Date.now();return Object.keys(e).sort(((n,i)=>{const r=e=>Math.ceil(e.frequency*this.getWeightForVisit(o,e.lastAccessed,t)),a=e[n],s=e[i],c=void 0!==(null==a?void 0:a.frequency)&&void 0!==(null==a?void 0:a.lastAccessed)?r(a):this.UNVISITED_FRECENCY_SCORE,d=void 0!==(null==s?void 0:s.frequency)&&void 0!==(null==s?void 0:s.lastAccessed)?r(s):this.UNVISITED_FRECENCY_SCORE;return c===d?0:d-c}))}getWeightForVisit(e,t,o){const{TIME_BUCKETS:i,DEFAULT_BUCKET_WEIGHT:r}=o,a=n().ou.fromMillis(e).diff(n().ou.fromMillis(t),"hours").as("hours");for(const n of i){if(a<=n.hours)return n.weight}return r}}},684151:(e,t,o)=>{o.r(t),o.d(t,{SlashMenu:()=>ue});var n=o(667294),i=()=>o(219727),r=()=>o(142735),a=()=>o(808828),s=()=>o(851990),c=()=>o(267629),d=()=>o(594546),l=()=>o(390952),u=()=>o(191003),p=()=>o(440721),m=()=>o(620218),g=()=>o(876822),h=()=>o(965903),f=()=>o(127519),y=()=>o(543934),v=()=>o(788860),b=()=>o(527278),S=()=>o(639832);const _=(0,v().vU)({addButtonPlaceholder:{defaultMessage:"Type to filter…",id:"text.commandsMenuOpen.placeholder"},slashInsertionPlaceholder:{defaultMessage:"Filter…",id:"slashMenu.slashInsertion.placeholder"}});var C=()=>o(146947),I=()=>o(967092),M=()=>o(352230),w=()=>o(998901),x=()=>o(104088),k=()=>o(21062),T=()=>o(269299),A=()=>o(149809),E=()=>o(198829),L=()=>o(388284),N=()=>o(692304),R=()=>o(807230),U=()=>o(846550),P=()=>o(159408),B=()=>o(827973),F=()=>o(666414),O=()=>o(603692),j=()=>o(661641),D=()=>o(661297),V=()=>o(647194),Q=()=>o(965014),H=o(785893);function Z(){const e=(0,v().YB)(),t=(0,U().yK)((e=>({container:{padding:"14px",borderBottom:`1px solid ${e.stroke.primary}`},buttonStyle:{gap:"4px",padding:"0px 12px 0px 8px",borderRadius:"6px"},title:{paddingBottom:"8px"},upgradeItem:{marginTop:6,marginBottom:6},upgradeTitle:{color:e.text.uiBluePrimary},divider:{color:e.regularDividerColor}})),[]),[o,r]=(0,n.useState)(!1),a=(0,i().O7)();return y()._H()?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(B().Z,{focused:o,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),onClick:()=>{Q().y(a,{from:"slash_menu",upsell:{type:"product",product:"plus",limit:{type:"none"}}})},buttonStyle:t.upgradeItem,icon:(0,H.jsx)(O().y,{iconGroup:P().t,colorName:"uiBluePrimary",variantName:"default"}),title:(0,H.jsx)(v()._H,{id:"slashMenuBlockLimit.title",defaultMessage:"<span>Upgrade plan</span> to add content",values:{span:e=>(0,H.jsx)("span",{style:t.upgradeTitle,children:e})}})}),(0,H.jsx)(F().Z,{size:2,style:t.divider})]}):(0,H.jsxs)("div",{style:t.container,children:[(0,H.jsx)("div",{style:t.title,children:(0,H.jsx)(j().q,{styleName:"UIRegular-14px/Regular",children:e.formatMessage(V().hC.slashMenuTitle)})}),(0,H.jsxs)(D().Z,{style:t.buttonStyle,onClick:()=>{Q().y(a,{from:"slash_menu",upsell:{type:"product",product:"plus",limit:{type:"none"}}})},children:[(0,H.jsx)(O().y,{iconGroup:P().t,colorName:"uiBluePrimary",variantName:"default"}),e.formatMessage(V().hC.upgradeCta)]})]})}var K=()=>o(548812),q=()=>o(30795),G=()=>o(897257),W=(o(267602),o(653476),o(749411),o(241792),o(731107),()=>o(156642)),Y=()=>o(905174),z=()=>o(696764),$=()=>o(749826),X=()=>o(708574);const J=[Y().yz.key,`insert ${W().Ti.callout}`,`insert ${W().Ti.embed}`,"insert table view"];function ee(e){const{sections:t,isEmptyBlock:o,suggestionCount:n,context:i}=e,r=t.flatMap((e=>e.actions)).reduce(((e,t)=>(e[t.key]=t,e)),{});if(function(){if($().default.checkGate({gateName:"slash_menu_rollout"}))return!0;const e=$().default.getEligibleGroup({experimentId:"slash_menu_experiment_3_existing_users"}),t=$().default.getEligibleGroup({experimentId:"slash_menu_experiment_3_new_users"});return"personalized_suggestions"===e||"personalized_suggestions"===t}()){const e=function(e){const t={TIME_BUCKETS:[{hours:4,weight:100},{hours:12,weight:80},{hours:24,weight:70},{hours:72,weight:60},{hours:168,weight:50},{hours:336,weight:40},{hours:672,weight:30}],DEFAULT_BUCKET_WEIGHT:20};return(new(z().Z)).getFrecencyRankedActions(e,t)}(X().Z.get()),t=function(e){const{suggestionCount:t,actionsByKey:o,frecencyRankedActions:n,isEmptyBlock:i,context:r}=e;let a=0;const s=Object.entries(o).filter((e=>{let[t,o]=e;if(!(0,c().vG)(o,r))return!1;if(!n.includes(t))return!1;if(ne.includes(t))return!1;if(t.match(oe)){if(i)return!0;a++}if(t.match(te)){if(i)return!1;a--}return a++,!0}));if(!i&&a<t)return[];const d=s.sort(((e,t)=>{let[o,i]=e,[r,a]=t;return n.indexOf(o)-n.indexOf(r)})).slice(0,t).map((e=>{let[t,o]=e;return t}));if(d.length<t)return[];return d}({suggestionCount:n,actionsByKey:r,frecencyRankedActions:e,isEmptyBlock:o,context:i});return t.map((e=>r[e]))}return r[Y().yz.key]=Y().yz,J.map((e=>r[e])).filter(Boolean).slice(0,n)}const te="(turn into|action).*",oe="(action color).*",ne=["action more"];var ie=()=>o(688450);function re(e){const{filter:t,sectionsCount:o,focused:n,onClick:i,isAddMenu:s}=e,c=(0,v().YB)(),d=(0,U().yK)((e=>({divider:{color:e.lightDividerColor},shortcut:{color:e.lightTextColor,fontSize:12,whiteSpace:"nowrap"},titleText:{color:e.lightTextColor},titleFilterText:{color:e.regularTextColor}})),[]),l=c.formatMessage({id:"slashMenuItems.typeOnPage.message",defaultMessage:"Type '/{filter}' on the page"},{filter:t}),u=(0,H.jsx)("div",{children:l.split("'").map(((e,o)=>{if(e===`/${t}`){const t=s?e.slice(1):e;return(0,H.jsxs)("span",{style:d.titleText,children:["‘",(0,H.jsx)("span",{style:d.titleFilterText,children:t}),"’"]},o)}return(0,H.jsx)("span",{style:d.titleText,children:e},o)}))}),p=(0,r().VK)((()=>(0,a().ap)()),[]);return(0,H.jsxs)(H.Fragment,{children:[o>0?(0,H.jsx)(F().Z,{size:2,style:d.divider}):void 0,(0,H.jsx)(L().Z,{children:(0,H.jsx)(B().Z,{focused:n,onClick:i,title:u,right:(0,H.jsx)("span",{style:d.shortcut,children:"esc"}),desktopTitleStyle:p})})]})}const ae=4,se=(0,v().vU)({suggestedSectionTitle:{id:"slashMenu.suggestedSection.title",defaultMessage:"Suggested"}});function ce(e){const{sections:t,slashMenuState:o,menuProps:s,isEmptyBlock:l}=e,u=(0,i().O7)(),p=y()._H(),m=(0,r().VK)((()=>y().QT(o)),[o]),g=(0,r().VK)((()=>h().default.state.stores),[]),f=(0,r().VK)((()=>(0,R().ww)(u)),[u]),S=(0,r().Kw)(G().subscriptionDataStoreInstance),_=(0,q().V)(S),C=(0,r().VK)((()=>(0,K().vT)(_)),[_]),I=(0,n.useMemo)((()=>({environment:u,blocks:g,originRect:o.selectionRect,publicEditMode:void 0})),[u,g,o.selectionRect]),M=(0,r().VK)((()=>(0,c().sG)({sections:t,context:I,query:m||""}).length),[t,I,m]),w=p&&!!m,x=(0,r().qz)(void 0,N().Z),k=(0,r().VK)((()=>x.getState().focus.footerFocused),[x]),U=(0,n.useCallback)((()=>{(0,d().j)({environment:u,event:{eventName:"close_slash_menu",eventProperties:{id:o.id,source:"click_type_on_page"}}}),y().xv({environment:u,dismissed:!0})}),[u,o.id]),P=w?(0,H.jsx)(re,{focused:k??!1,filter:m,sectionsCount:M,onClick:U,isAddMenu:o.isAddMenu}):void 0,B=w?{onFooterEnter:U}:{},F=p&&Boolean(m)&&M>0,O=(0,r().VK)((()=>({desktopTitleStyle:(0,a().ap)(),itemMarginLeft:p?0:void 0,itemMarginRight:p?4:void 0,desktopIconStyle:p?{marginLeft:4}:void 0,svgStyle:p?{margin:6}:void 0,svgCustomFill:p?e=>e.mediumIconColor:void 0})),[p]),j=y().Us()&&!m,D=(0,r().VK)((()=>{if(j){const e=function(e){const{isEmptyBlock:t,sections:o,context:n}=e,i={height:32,alignItems:"center",marginTop:0,marginBottom:0},r=ee({suggestionCount:ae,sections:o,isEmptyBlock:t,context:n});return r.length?{key:ie().FJ,title:b().Z.formatMessage(se.suggestedSectionTitle),actions:r,render:e=>(0,H.jsx)(L().Z,{...e,desktopTitleStyle:i})}:void 0}({sections:t,isEmptyBlock:l,context:I});return e?[e,...t]:t}return t}),[j,t,l,I]);return(0,H.jsxs)(E().Z,{...s,footer:P,children:[C&&!f?(0,H.jsx)(Z,{}):null,F?(0,H.jsx)(L().Z,{style:{paddingBottom:0},desktopTitleStyle:{height:32,alignItems:"center",marginTop:0,marginBottom:0},title:(0,H.jsx)(v()._H,{id:"slashMenuItems.filteredResults",defaultMessage:"Filtered results"})}):null,(0,H.jsx)(A().Z,{sections:D,onAccept:(e,t,o,n,i)=>{if(!f)return(0,R().eD)(u);!function(e,t,o,n){T().createAndCommit({userAction:"SlashMenu.handleAccept",environment:t,canUndo:!0,perform:i=>{y().RL({environment:t,transaction:i,action:e,sectionKey:o,itemIndex:n})}})}(e,u,n,i)},context:I,filter:m,flattenSectionsOnSearch:p,initialFocus:0,resetFocusOnMouseOut:!0,useLimit:!0,showNoResultsMessage:!p,menuListStore:x,renderItemStyles:O,...B})]})}function de(e){const{sections:t,slashMenuState:o,isEmptyBlock:n}=e,r=(0,i().O7)(),a=(0,i().Fy)(),s=o.isAddMenu?8:12,c=a.isMobileNative&&!a.isTablet&&!a.isIpad,l=`min(448px, ${a.isMobile?"25vh":"40vh"})`;return(0,H.jsx)(I().ZP,{popupType:a.isMobileNative&&!a.isTablet?x().k.SlideUp:x().k.Popup,open:!0,originRect:o.selectionRect,placementToOrigin:w().Placement.Bottom,alignmentToOrigin:w().Alignment.Start,originGap:s,disableMouseCapture:!0,disableContentScroll:!0,preventBlockRenderQueueOnEnter:!0,onDismiss:()=>{(0,d().j)({environment:r,event:{eventName:"close_slash_menu",eventProperties:{id:o.id,source:"esc"}}}),y().xv({environment:r,dismissed:!0})},render:()=>(0,H.jsx)(k().N,{step:"create_page_beyond_text",showSidebarOverlays:!1,onBackButtonClick:()=>y().xv({environment:r,dismissed:!0}),onNextButtonClick:()=>y().xv({environment:r,dismissed:!0}),children:(0,H.jsx)(le,{sections:t,slashMenuState:o,isMobileNative:c,environment:r,menuMaxHeight:l,isEmptyBlock:n})})})}function le(e){const{sections:t,slashMenuState:o,isMobileNative:n,environment:i,menuMaxHeight:r,isEmptyBlock:a}=e;let s;return s=n?{menuType:M().o.ActionSheet}:{menuType:M().o.Popup,width:"fr-FR"===C().locale?375:324,maxHeight:r,onClickOutside:()=>{(0,d().j)({environment:i,event:{eventName:"close_slash_menu",eventProperties:{id:o.id,source:"click_outside"}}}),y().xv({environment:i,dismissed:!0})}},(0,H.jsx)(ce,{sections:t,slashMenuState:o,menuProps:s,isEmptyBlock:a})}function ue(){const e=(0,i().O7)(),t=(0,r().Kw)(S().Z),o=t.open&&t.isAddMenu,v=function(){const e=(0,r().Kw)(S().Z);return(0,n.useCallback)((t=>{if(!e.open)return;if(!t)return void e.temporaryInputDataStore.setState(void 0);const o=t.input===t.prefix?"addMenu"===t.type?b().Z.formatMessage(_.addButtonPlaceholder):b().Z.formatMessage(_.slashInsertionPlaceholder):"";e.temporaryInputDataStore.setState({prefix:t.prefix,suffix:"",completion:o,prefixIcon:void 0})}),[e])}(),C=(0,r().VK)((()=>t.open?f().default.state:void 0),[t]),I=function(e){const{slashMenuState:t,environment:o}=e,i=(0,n.useMemo)((()=>t.open?(0,a().PU)(o):void 0),[o,t.open]);return(0,r().VK)((()=>t.open&&i?t.isAddMenu?i.state.insertActions:i.state.slashActions:[]),[t,i])}({slashMenuState:t,environment:e}),M=(0,n.useRef)(!0),w=(0,r().VK)((()=>t.open&&!t.oldTextValue),[t]);return(0,n.useEffect)((()=>{let e=S().Z.state.open;function t(t){if(t.state.open&&e!==t.state.open){const e=M.current?"slash_menu_first_open_lag":"slash_menu_open_lag";m().default.mark(e)}e=t.state.open}return S().Z.addListener(t),()=>{S().Z.removeListener(t)}}),[]),(0,n.useEffect)((()=>{if(t.open&&C){var n;if("editing"!==C.mode)return;const i=y().QT(t);v(void 0!==i?o?{type:"addMenu",input:i,prefix:""}:{type:"slash",input:`/${i}`,prefix:"/"}:void 0);const r=(0,c().sG)({sections:I,context:{blocks:h().default.state.stores,environment:e,publicEditMode:void 0},query:i||""});let a=0,m=t;i&&(0===r.length?a=i.length-t.lettersAtLastResult:(m={...t,lettersAtLastResult:(null==i?void 0:i.length)??0,filter:i},S().Z.setState(m)));const{currentUserSettingsStore:f}=g().default.state;!f||null!==(n=f.getSettings())&&void 0!==n&&n.pressed_slash_tooltip||!(0,l().u)(e)||s().q(e);const{multiSelection:b}=C;!t.open||(0,u().qS)(b)&&b.start.store===m.textStore&&!p().Ye(i,!0,r.length,a,m.textStore)||((0,d().j)({environment:e,event:{eventName:"close_slash_menu",eventProperties:{id:t.id,source:i?"auto_close":"backspace"}}}),y().xv({environment:e,dismissed:!0}))}}),[e,I,C,t,v,o]),(0,n.useEffect)((()=>{if(t.open){const t=M.current?"slash_menu_first_open_lag":"slash_menu_open_lag";m().default.measure(t,{environment:e}),M.current=!1}}),[e,t]),t.open?(0,H.jsx)(de,{sections:I,slashMenuState:t,isEmptyBlock:w}):null}},974442:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o(263184).default.createValue({open:!1},{name:"ConfirmOverwriteModalStore"})},808282:(e,t,o)=>{o.d(t,{Z:()=>i});class n extends(()=>o(263184))().default{getInitialState(){return{openTooltip:void 0}}}const i=new n},647194:(e,t,o)=>{o.d(t,{hC:()=>a,hL:()=>r,kF:()=>i});var n=()=>o(788860);const i=(0,n().vU)({paymentMethodUnverified:{id:"subscriptions.paymentMethodUnverified",defaultMessage:"Your payment is being processed. Please try again when your payment has completed."},otherPaymentMethod:{id:"subscriptions.otherPaymentMethod",defaultMessage:"Other"},adminOnlyAction:{id:"subscriptions.adminOnlyAction",defaultMessage:"Only workspace owners can perform this action."},iosSubscriptionRestriction:{id:"subscriptions.iosSubscriptionRestriction",defaultMessage:"You're currently subscribed through an in-app purchase with Apple. To change your subscription, cancel your subscription with Apple first."},androidSubscriptionRestriction:{id:"subscriptions.androidSubscriptionRestriction",defaultMessage:"You're currently subscribed through an in-app purchase with Google. To change your subscription, cancel your subscription with Google first."},mixedSubscriptionRestriction:{id:"subscriptions.mixedSubscriptionRestriction",defaultMessage:"You're currently subscribed through Notion and an in-app purchase. To change your subscription, cancel your subscription with your mobile app store first."}}),r=(0,n().vU)({trialTitle:{id:"nudges.trial.title",defaultMessage:"Notion for collaboration"},trialDescription:{id:"nudges.trial.description",defaultMessage:"Get 14 days of unlimited content creation with others"},trialCta:{id:"nudges.trial.cta",defaultMessage:"Try it for free"},trialTooltip:{id:"nudges.trial.tooltip",defaultMessage:"Use Notion as much as you want, with as many people as you like. You’ll receive a reminder when your trial is ending, and can cancel anytime."},approachingBlockLimitTitle:{id:"nudges.approachingBlockLimit.title",defaultMessage:"Upgrade to go unlimited"},approachingBlockLimitDescription:{id:"nudges.approachingBlockLimit.description",defaultMessage:"Continue using Notion to collaborate with others"},approachingBlockLimitTooltip:{id:"nudges.approachingBlockLimit.tooltip",defaultMessage:"You’re reaching the maximum number of free blocks given on your plan ({percentageUsed}). You won’t be able to create more content unless you upgrade to the Plus plan."},reachedBlockLimitTitle:{id:"nudges.reachedBlockLimit.title",defaultMessage:"Keep using Notion"},reachedBlockLimitDescription:{id:"nudges.reachedBlockLimit.description",defaultMessage:"{spaceName} has used 100% of the free blocks in the workspace"},manageMembersCta:{id:"nudges.manageMembers.cta",defaultMessage:"Manage members"},reachedBlockLimitCta:{id:"nudges.reachedBlockLimit.cta",defaultMessage:"Upgrade plan"},reachedBlockLimitCtaForMembers:{id:"spaceSettings.sidebar.button.contactWorkspaceOwner",defaultMessage:"Contact a workspace owner"},reachedBlockLimitTooltip:{id:"nudges.reachedBlockLimit.tooltip",defaultMessage:"You’ve reached the maximum number of free blocks for your plan (100%). You won’t be able to create more content unless you upgrade to the Plus plan."}}),a=(0,n().vU)({enteringMultiplayerTitle:{id:"blockLimit.enteringMultiplayer.title",defaultMessage:"Collaborate in Notion"},enteringMultiplayerDescription:{id:"blockLimit.enteringMultiplayer.description",defaultMessage:"You have 1,000 blocks to create content with your team"},enteringMultiplayerLearnMore:{id:"blockLimit.enteringMultiplayer.learnMore",defaultMessage:"Learn more"},approachingBlockLimitTitle:{id:"blockLimit.approachingBlockLimit.title",defaultMessage:"Running out of free blocks"},approachingBlockLimitDescription:{id:"blockLimit.approachingBlockLimit.description",defaultMessage:"You’ve used most of this workspace’s 1,000 free blocks"},approachingBlockLimitTooltip:{id:"blockLimit.approachingBlockLimit.tooltip",defaultMessage:"You won't be able to create new content unless you upgrade to a paid plan"},enteringGracePeriodTitle:{id:"blockLimit.enteringGracePeriod.title",defaultMessage:"{dayCount, plural, one {1 day} other {{dayCount} days}} left to upgrade"},enteringGracePeriodDescription:{id:"blockLimit.enteringGracePeriod.description",defaultMessage:"This workspace is out of free blocks for you and your team"},enteringGracePeriodTooltip:{id:"blockLimit.enteringGracePeriod.tooltip",defaultMessage:"Notion is free & unlimited for workspaces with 1 member"},enteringGracePeriodTooltipSubtitle:{id:"blockLimit.enteringGracePeriod.tooltipDescription",defaultMessage:"You can manage members via the People tab in settings"},afterGracePeriodTitle:{id:"blockLimit.afterGracePeriod.title",defaultMessage:"Keep using Notion"},afterGracePeriodDescription:{id:"blockLimit.afterGracePeriod.description",defaultMessage:"You’ve used all of this workspace’s free blocks"},afterGracePeriodTooltip:{id:"blockLimit.afterGracePeriod.tooltip",defaultMessage:"You can only create new content when you upgrade your plan"},toastUpgradeTitle:{id:"blockLimit.toastUpgrade.title",defaultMessage:"Upgrade to add content"},toastUpgradeDescription:{id:"blockLimit.toastUpgrade.description",defaultMessage:"Upgrade to continue creating and collaborating on Notion"},blockOptionsDescription:{id:"blockLimit.blockOptions.description",defaultMessage:"Upgrade your plan to continue creating and collaborating on Notion"},upgradeCta:{id:"blockLimit.upgradeCta",defaultMessage:"Upgrade plan"},slashMenuTitle:{id:"blockLimit.slashMenuTitle",defaultMessage:"Upgrade to add content to your workspace"}})},877727:(e,t,o)=>{o.d(t,{QZ:()=>a,SV:()=>i,mq:()=>r});var n=()=>o(749826);function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n().default.checkGate({gateName:"workflow_templates_settings_dev",disableExposureLogging:e.disableExposureLogging})&&n().default.checkGate({gateName:"packaging_m3.1",disableExposureLogging:e.disableExposureLogging})}function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n().default.checkGate({gateName:"packaging_m3.1",disableExposureLogging:e.disableExposureLogging})}function a(e){return!e.device.isPhone}},999582:(e,t,o)=>{o.d(t,{Z:()=>r});class n extends(()=>o(263184))().default{getInitialState(){return{}}}const i=new n;o(947115).exposeDebugValue("SpaceWorkflowTemplateInstanceMapStore",i);const r=i},280210:(e,t,o)=>{o.d(t,{U_:()=>C,f6:()=>M,ii:()=>I});o(821057),o(409045),o(453627),o(994774),o(995194),o(520522),o(200082),o(379976),o(724224),o(761121),o(637133),o(241792);var n=o.n(o(402568)),i=()=>o(513670),r=()=>o(326966),a=()=>o(431595),s=()=>o(24945),c=()=>o(255933);const d={version:8,notion_version:0,variant:2},l={version:8,notion_version:1,variant:2},u=0,p=1,m=6,g=8,h=10,f=Date.UTC(2024,0,1);function y(e,t){if(e)return t[u]=255,t[u+1]=240|15&t[u+1],t;const o=Math.floor(((new Date).getTime()-f)/r().A0);if(o>=4096||o<0)throw new Error("Invalid offsetInDays.");return t[u]=o>>4,t[u+1]=o<<4&240|15&t[u+1],t}function v(e,t){if(e>=2**36||e<0)throw new Error("Invalid spaceShortId.");t[p]=240&t[p]|e/2**32&15;for(let o=0;o<4;o++)t[p+1+o]=e/2**(24-8*o)&255;return t}function b(e,t){const o=e?1:0;return t[m]=d.version<<4&240|d.notion_version<<1&14|1&o,t[g]=d.variant<<6&192|63&t[g],t}function S(e,t){if("block"===e)return t[h]=(0,s().ym)(e)|63&t[h],t;const o=(0,s().ym)(e);return t[h]=o>>8&127,t[h+1]=255&o,t}function _(e,t){const o=(0,s().Nq)(e);return t[h]=127&o|128&t[h],t}function C(e,t,o,n){const i=new Uint8Array(16),r=globalThis.crypto.getRandomValues(i);return o!==c().bx&&y(e,r),v(t,r),b(n,r),S(o,r),k(r)}function I(e,t,o,n){return C(e,t,o,n)}function M(e,t,o){return w(e,t,o)}function w(e,t,o){const r=n()(o),c=i().yo(r,2).map((e=>parseInt(e.join(""),16)));if((0,s().LV)(t)){if(void 0===e)throw new(a().D3)(`Deterministic ID for '${t}' must specify a space short id`)}else if(void 0!==e)throw new(a().D3)(`Deterministic ID for '${t}' should not provide a space short id`);const d=new Uint8Array(c);return e&&v(e,d),_(t,d),function(e){e[m]=240&l.version<<4|14&l.notion_version<<1|1&e[m],e[g]=192&l.variant<<6|63&e[g]}(d),k(d)}const x=new Array(256).fill(0).map(((e,t)=>t.toString(16).padStart(2,"0")));function k(e){let t=0;return x[e[t++]]+x[e[t++]]+x[e[t++]]+x[e[t++]]+"-"+x[e[t++]]+x[e[t++]]+"-"+x[e[t++]]+x[e[t++]]+"-"+x[e[t++]]+x[e[t++]]+"-"+x[e[t++]]+x[e[t++]]+x[e[t++]]+x[e[t++]]+x[e[t++]]+x[e[t++]]}},29488:(e,t,o)=>{function n(e){return`${e.table}:${e.id}`}o.d(t,{O:()=>n})},924665:(e,t,o)=>{function n(e){let t,o,n;return async function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t?(n=r,o||(o=t.then((()=>(o=void 0,t=e(...n),t))),o)):(t=e(...r),t)}}o.d(t,{Z:()=>n})},157955:(e,t,o)=>{o.r(t),o.d(t,{DEFAULT_MAX_RECURRENCE_DUPLICATION_PER_TASK:()=>A,MAXIMUM_DAILY_RECURRENCES_IN_PATH:()=>C,MAXIMUM_NESTED_RECURRENCE_LEVEL:()=>_,MAX_RECURRENCE_INTERVAL:()=>f,MAX_RECURRENCE_NUMBER_OF_RUNS:()=>y,RRULE_WEEKDAYS_MAP:()=>h,convertFromUnpersistedRecurrenceConfig:()=>R,convertToUnpersistedRecurrenceConfig:()=>E,getFormattedEndCondition:()=>T,getFormattedNextRecurrenceTime:()=>k,getNewEndTimestamp:()=>L,getNextDateUtc:()=>x,getRecurrenceAfter:()=>M,isRunningBetweenMidnightAnd3AM:()=>w,isValidRecurrenceInterval:()=>v,isValidRecurrenceNumberOfRuns:()=>b,rruleFromRecurrence:()=>S,templateAncestorsViolateRecurrenceNesting:()=>I});o(267602),o(653476),o(241792);var n=()=>o(730120);o(670560);function i(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];if(0===o.length)return e.map((e=>[e]));const r=[];for(const a of e)r.push(...i(o[0],...o.slice(1)).map((e=>[a,...e])));return r}var r=()=>o(696459),a=()=>o(326966),s=()=>o(803021),c=()=>o(646574),d=()=>o(998411),l=()=>o(578292);class u extends(()=>o(484885))().Ci{constructor(e,t){super(e,t)}after(e,t){return super.after(e,t)}}var p=()=>o(494616);const m=(0,o(788860).vU)({dateAtTime:{id:"automations.recurrenceHelpers.dateAtTime",defaultMessage:"{date} at {time}"},dateBetweenMidnightAnd3AM:{id:"automations.recurrenceHelpers.dateBetweenMidnightAnd3AM",defaultMessage:"{date} between 12–3 AM"},numberEndConditionDescription:{id:"automations.recurrenceHelpers.numberEndConditionDescription",defaultMessage:"{number, plural, one {After {number} run} other {After {number} runs}}"},noEndCondition:{id:"automations.recurrenceHelpers.noEndCondition",defaultMessage:"Never"}}),g={day:u.DAILY,week:u.WEEKLY,month:u.MONTHLY,year:u.YEARLY},h={MO:u.MO,TU:u.TU,WE:u.WE,TH:u.TH,FR:u.FR,SA:u.SA,SU:u.SU},f=99,y=999;function v(e){return(0,a().hj)(e)&&Number.isInteger(e)&&e>0&&e<=f}function b(e){return(0,a().hj)(e)&&Number.isInteger(e)&&e>0&&e<=y}function S(e){const{start_date:t,frequency:o,interval:n,weekdays:a,timezone:c,hour:d,minute:l}=e,p="week"===o&&a?a.map((e=>h[e])):void 0,m={};return(0,r().$K)(e.end_condition)&&("date"===e.end_condition.type?m.until=(0,s().pd)(e.end_condition.end_at):"number"===e.end_condition.type?m.count=e.end_condition.number_of_occurrences:(0,r().t1)(e.end_condition)),"month"===e.frequency&&(0,r().$K)(e.monthly_restriction)&&("monthdays"===e.monthly_restriction.type?m.bymonthday=e.monthly_restriction.monthdays:"weekdays_in_month"===e.monthly_restriction.type?m.byweekday=i(e.monthly_restriction.weekdays,e.monthly_restriction.week_numbers).map((e=>{let[t,o]=e;return h[t].nth(o)})):(0,r().t1)(e.monthly_restriction)),new u({freq:g[o],dtstart:(0,s().pd)(t),interval:n,byweekday:p,tzid:c,byhour:d??0,byminute:l??0,bysecond:0,...m})}const _=1,C=1;function I(e){var t;if(0===e.length)return{violatesConstraint:!1,templateNestingExceedsMaxDepth:!1,ancestorHasDailyTemplate:!1,nestedDepthOfAutomationAncestors:void 0,immediateAncestorRecurrenceType:void 0};const o=e.filter((e=>{var t;return"day"===(null===(t=e.getRecurrence())||void 0===t?void 0:t.frequency)})),n=e.length,i=null===(t=e[0].getRecurrence())||void 0===t?void 0:t.frequency,r=n>_,a=o.length>=C;return{violatesConstraint:r||a,templateNestingExceedsMaxDepth:r,ancestorHasDailyTemplate:a,nestedDepthOfAutomationAncestors:n,immediateAncestorRecurrenceType:i}}function M(e){const{recurrence:t,afterDate:o}=e;if((0,p().nA)(t)){const e=(0,s().kq)(o);return t.start_date>=e?new Date(t.start_date):void 0}{const e=S(t).after((0,s().pd)(o));if(!e)return;return(0,s().YL)(e)}}function w(e){return 0===e.hour||1===e.hour||2===e.hour}function x(e){return S(e).after((0,s().pd)((0,s().Jh)()))||void 0}function k(e){const{recurrence:t,intl:o}=e,i=x(R(t));if(!i)return;const r=w(t),a=n().ou.fromJSDate(i).toUTC().setZone("local",{keepLocalTime:!0}).setLocale((0,l().E2)(o)).setZone(t.timezone),s=(0,c().p6)({date:a,dateFormat:"relative",allowRelativeDates:!0,intl:o,shortenDate:!0});if(r)return o.formatMessage(m.dateBetweenMidnightAnd3AM,{date:s});{let e=a.toLocaleString(n().ou.TIME_SIMPLE);return t.timezone!==(0,d().r)()&&(e+=` ${a.toFormat("ZZZZ")}`),o.formatMessage(m.dateAtTime,{date:s,time:e})}}function T(e,t){return(0,r().$K)(e)?"number"===e.type?t.formatMessage(m.numberEndConditionDescription,{number:e.number_of_occurrences}):"date"===e.type?(0,c().p6)({date:n().ou.fromMillis(e.end_at),dateFormat:"relative",allowRelativeDates:!0,intl:t,shortenDate:!0}):void(0,r().t1)(e):t.formatMessage(m.noEndCondition)}const A=100;function E(e){return{...e,start_date:(0,s().kq)(e.start_date),end_condition:e.end_condition?"number"===e.end_condition.type?e.end_condition:"date"===e.end_condition.type?{type:"date",end_at:(0,s().kq)(e.end_condition.end_at)}:(0,r().t1)(e.end_condition):void 0}}function L(e,t,o){return e.plus(o-t)}function N(e,t){const o=n().ou.fromMillis(t.end_at).set({hour:e.hour??0,minute:e.minute??0});return{type:"date",end_at:(0,s().Jh)(o.toJSDate())}}function R(e){return{...e,start_date:(0,s().Jh)(new Date(e.start_date)),end_condition:e.end_condition?"number"===e.end_condition.type?e.end_condition:"date"===e.end_condition.type?N(e,e.end_condition):(0,r().t1)(e.end_condition):void 0}}},159408:(e,t,o)=>{o.d(t,{t:()=>n});const n=(0,o(827282).CZ)("arrowUpCircled",{default:{loader:()=>o.e(1387).then(o.bind(o,301387))},small:{loader:()=>o.e(47737).then(o.bind(o,947737))},mini:{loader:()=>o.e(96178).then(o.bind(o,396178))},large:{loader:()=>o.e(60099).then(o.bind(o,60099))}})},29248:(e,t,o)=>{o.d(t,{K:()=>i});o(667294);var n=o(785893);const i=(0,o(827282).IU)("boltFilled",{svg:(0,n.jsx)("path",{d:"M0 12.117c0 .38.293.664.703.664h5.518l-2.91 7.91c-.381 1.006.664 1.543 1.318.723l8.877-11.094c.166-.205.254-.4.254-.625 0-.371-.293-.664-.703-.664H7.539l2.91-7.91C10.83.115 9.785-.422 9.131.408L.254 11.492c-.166.215-.254.41-.254.625z"}),viewBox:"0 0 14 22"})},984478:(e,t,o)=>{o.d(t,{f:()=>i});o(667294);var n=o(785893);const i=(0,o(827282).IU)("chevronLeft",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M3.61816 8.06445C3.61816 8.29688 3.70703 8.49512 3.8916 8.67285L9.22363 13.8887C9.36719 14.0391 9.55859 14.1143 9.77734 14.1143C10.2217 14.1143 10.5703 13.7725 10.5703 13.3213C10.5703 13.1025 10.4814 12.9043 10.3311 12.7539L5.52539 8.06445L10.3311 3.375C10.4814 3.21777 10.5703 3.01953 10.5703 2.80078C10.5703 2.35645 10.2217 2.01465 9.77734 2.01465C9.55859 2.01465 9.36719 2.08984 9.22363 2.24023L3.8916 7.45605C3.70703 7.63379 3.625 7.83203 3.61816 8.06445Z"})})},165940:(e,t,o)=>{o.d(t,{R:()=>i});o(667294);var n=o(785893);const i=(0,o(827282).IU)("chevronUpRounded",{viewBox:"0 0 15 9",svg:(0,n.jsx)("path",{d:"M1.258 6.5L7.203.422a.946.946 0 01.719-.32.99.99 0 01.726.32L14.586 6.5a.89.89 0 01.266.648c0 .524-.407.93-.922.93a.921.921 0 01-.672-.281L7.93 2.32 2.586 7.797a.926.926 0 01-.672.281.915.915 0 01-.922-.93c0-.25.094-.476.266-.648z"})})},46581:(e,t,o)=>{o.d(t,{U:()=>a});var n=o.n(o(389539)),i=()=>o(280210),r=()=>o(956057);class a{constructor(e){this.environmentName=void 0,this.mainShortId=void 0,this.getSettings=void 0,this.isServerOriginated=void 0,this.mapSpaceIdToShortId=void 0,this.idCreatorLogger=void 0,this.environmentName=e.environmentName,this.mainShortId=o(631871).jF[this.environmentName],this.getSettings=e.getSettings,this.isServerOriginated=e.isServerOriginated,this.mapSpaceIdToShortId=e.mapSpaceIdToShortId,this.idCreatorLogger=e.idCreatorLogger??(()=>{})}idInMain(e){const{enableTestDateOffset:t,enableIdSchema:n}=this.getSettings();return n&&e!==o(363777).uK?(this.idCreatorLogger(void 0,e,t?"id_schema_test":"id_schema"),(0,i().ii)(t,this.mainShortId,e,this.isServerOriginated)):this.legacyId(e,"disabled")}pointerInMain(e){return{table:e,id:this.idInMain(e)}}async idWithSpaceId(e,t){const{enableTestDateOffset:o,enableIdSchema:r}=this.getSettings();if(!r||"space"===t)return this.legacyId(t,"disabled");const a=this.mapSpaceIdToShortId(e),s=n().types.isPromise(a)?await a:a;return s?(this.idCreatorLogger(e,t,o?"id_schema_test":"id_schema"),(0,i().U_)(o,s,t,this.isServerOriginated)):this.legacyId(t,"missing_short_id")}async pointerWithSpaceId(e,t){return{table:t,spaceId:e,id:await this.idWithSpaceId(e,t)}}idWithSpaceShortId(e,t){const{enableTestDateOffset:o,enableIdSchema:n}=this.getSettings();return n&&"space"!==t?(this.idCreatorLogger(void 0,t,o?"id_schema_test":"id_schema"),(0,i().U_)(o,e,t,this.isServerOriginated)):this.legacyId(t,"disabled")}legacyId(e,t){return this.idCreatorLogger(void 0,e,t),r().Il()}async deterministicIdWithSpaceId(e,t,o){const{enableTestDateOffset:a,enableIdSchema:s}=this.getSettings();if(!s)return this.idCreatorLogger(e,t,"disabled"),r().Ul(o);const c=this.mapSpaceIdToShortId(e),d=n().types.isPromise(c)?await c:c;return d?(this.idCreatorLogger(e,t,a?"id_schema_test":"id_schema"),(0,i().f6)(d,t,o)):(this.idCreatorLogger(e,t,"missing_short_id"),r().Ul(o))}deterministicIdWithSpaceShortId(e,t,o){const{enableTestDateOffset:n,enableIdSchema:a}=this.getSettings();return a?(this.idCreatorLogger(void 0,t,n?"id_schema_test":"id_schema"),(0,i().f6)(e,t,o)):(this.idCreatorLogger(void 0,t,"disabled"),r().Ul(o))}async getSpaceIdCreator(e){if(!e)return new s(e,this.idCreatorLogger);const{enableIdSchema:t}=this.getSettings();if(!t)return new s(e,this.idCreatorLogger);const o=this.mapSpaceIdToShortId(e),i=n().types.isPromise(o)?await o:o;return this.getSpaceShortIdCreator(e,i)}getSpaceIdCreatorSync(e){if(!e)return new s(e,this.idCreatorLogger);const{enableIdSchema:t}=this.getSettings();if(!t)return new s(e,this.idCreatorLogger);const o=this.mapSpaceIdToShortId(e),i=n().types.isPromise(o)?void 0:o;return this.getSpaceShortIdCreator(e,i)}getSpaceShortIdCreator(e,t){const{enableIdSchema:o}=this.getSettings();return o&&t?new c(e,this,t):new s(e,this.idCreatorLogger)}async getSpaceIdCreatorFromModel(e){return e.getShortIdStr()?this.getSpaceShortIdCreator(e.id,Number(e.getShortIdStr())):await this.getSpaceIdCreator(e.id)}}class s{constructor(e,t){this.spaceId=void 0,this.idCreatorLogger=void 0,this.spaceId=e,this.idCreatorLogger=t}idInSavedSpace(e){return this.idCreatorLogger(void 0,e,"disabled"),r().Il()}idInMain(e){return this.idCreatorLogger(void 0,e,"disabled"),r().Il()}deterministicIdInSavedSpace(e,t){return this.idCreatorLogger(void 0,e,"disabled"),r().Ul(t)}pointerInMain(e){return{id:this.idInMain(e),table:e}}pointerInSavedSpace(e){return{id:this.idInSavedSpace(e),table:e,spaceId:this.spaceId}}getSpaceId(){return this.spaceId}}class c{constructor(e,t,o){this.spaceId=void 0,this.idCreator=void 0,this.spaceShortId=void 0,this.spaceId=e,this.idCreator=t,this.spaceShortId=o}idInSavedSpace(e){return this.idCreator.idWithSpaceShortId(this.spaceShortId,e)}idInMain(e){return this.idCreator.idInMain(e)}deterministicIdInSavedSpace(e,t){return this.idCreator.deterministicIdWithSpaceShortId(this.spaceShortId,e,t)}pointerInMain(e){return{id:this.idInMain(e),table:e}}pointerInSavedSpace(e){return{id:this.idInSavedSpace(e),table:e,spaceId:this.spaceId}}getSpaceId(){return this.spaceId}}},88829:(e,t,o)=>{o.d(t,{Z:()=>n});const n={appCursorListener:{sidebar:1,secondarySidebar:2,editor:3,aiChat:3,marketplace:3,teamHome:3}}},971095:(e,t,o)=>{o.d(t,{A:()=>n});const n=(0,o(830742).LS)("importEvernote")}}]);