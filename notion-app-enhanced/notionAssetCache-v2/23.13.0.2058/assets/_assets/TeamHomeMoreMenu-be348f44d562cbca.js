"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[47296],{284871:(e,t,o)=>{o.r(t),o.d(t,{default:()=>C});o(667294);var n=()=>o(219727),i=()=>o(142735),l=()=>o(846550),r=()=>o(506347),s=()=>o(644602),a=()=>o(524052),c=()=>o(788860),d=()=>o(824462),u=()=>o(959137),m=()=>o(308186),p=()=>o(47443),g=()=>o(827973),h=()=>o(198829),S=()=>o(255577),y=()=>o(388284),w=()=>o(67961),b=()=>o(205228),f=()=>o(352230),v=()=>o(76225),M=()=>o(876822),k=()=>o(826955),x=()=>o(178025),V=()=>o(698005),I=()=>o(500696),j=()=>o(171904),T=()=>o(801037),H=o(785893);function K(e){let{props:t,collectionViewBlockStore:o,teamStore:r}=e;const s=(0,n().O7)(),a=(0,j().b)({teamStore:r,collectionViewBlockStore:o}),d=(0,i().VK)((()=>null==o?void 0:o.getModel()),[o]),u=(0,i().VK)((()=>M().default.state.currentUserStore),[]),m=(0,v().aE)(),p=(0,l().yK)((()=>({icon:{width:16,height:16,marginLeft:2,marginRight:2}})),[]);return void 0===a?null:(0,H.jsx)(g().Z,{...t,style:{...m.buttonMenuItem},pressedStyle:m.buttonMenuItemPressed,titleStyle:m.title,icon:a?(0,V().$)(p.icon):(0,I().H)(p.icon),onClick:()=>(0,T().N)(s,o,u,d,a),title:a?(0,H.jsx)(c()._H,{defaultMessage:"Unfollow",id:"teamHome.toggleFollowSettings.mobile.unfollow"}):(0,H.jsx)(c()._H,{defaultMessage:"Follow",id:"teamHome.toggleFollowSettings.mobile.follow"})})}function C(e){let{mainMenuParent:t,teamStore:o}=e;const{isPhone:V}=(0,n().Fy)(),I=(0,n().O7)(),j=(0,v().aE)(),T=(0,l().yK)((()=>({icon:{width:16,height:16,marginLeft:2,marginRight:2}})),[]),C=(0,i().VK)((()=>M().default.state.currentSpaceStore),[]),P=(0,i().VK)((()=>null==o?void 0:o.getChannelStore()),[o]),B=(0,i().VK)((()=>{if(!C||!P)return;const e=k().t1.createChildStore(C,{table:"block",id:P.id,spaceId:C.id});return e.isCollectionView()?e:void 0}),[C,P]),{isTeamMember:U}=(0,x().K)({teamStore:o}),F=[{key:"all",render:e=>(0,H.jsx)(y().Z,{...e,topBorder:!1,style:j.sectionMenuItem}),items:[...V?[{key:"toggleFollowSettings",render:e=>(0,H.jsx)(K,{props:e,collectionViewBlockStore:B,teamStore:o}),action:()=>{}}]:[],{key:"copyLink",render:e=>{const n=!U;return(0,H.jsx)(g().Z,{...e,style:{...j.buttonMenuItem,...n&&j.transparentButtonMenuItemBorder},pressedStyle:j.buttonMenuItemPressed,icon:(0,a().U)(T.icon),onClick:async()=>{const e=`${b().default.domainBaseUrl}/team/${o.id}`,n=await u().F.clipboardActions.load(),i=n.clipboardMessages.copiedTeamHomeLinkToClipboard;n.copyString({environment:I,stringValue:e,copiedMessage:i}),t.close()},titleStyle:j.title,title:(0,H.jsx)(c()._H,{defaultMessage:"Copy link",id:"teamHome.copyLinkTooltip.title"})})},action:()=>{}},...U?[{key:"showAll",render:e=>(0,H.jsx)(g().Z,{...e,style:{...j.buttonMenuItem,...j.transparentButtonMenuItemBorder},pressedStyle:j.buttonMenuItemPressed,titleStyle:j.title,icon:(0,s().t)(T.icon),onClick:async e=>{if(!C||!P)return;const t=await d().callApi({eventName:"convertPostsToCollectionSetup",environment:I,data:{spaceId:C.id,channelId:P.id}});"failed"!==t.type?B&&p()._c({environment:I,store:B,pageVisitSource:r().tY.TeamHomePage}):m().x2(t)},title:(0,H.jsx)(c()._H,{defaultMessage:"Show all",id:"teamHome.showAll.title"})}),action:()=>{}}]:[]]}];return(0,H.jsx)(h().Z,{menuType:f().o.Popup,height:V?"50vh":void 0,minWidth:250,maxWidth:V?"100vw":void 0,scrollerStyle:j.menuScroller,header:V&&(0,H.jsx)(w().Z,{style:j.header,children:"Actions"}),children:(0,H.jsx)(S().ZP,{type:S().iW.Vertical,sections:F,initialFocus:void 0})})}},178025:(e,t,o)=>{o.d(t,{K:()=>r});var n=()=>o(219727),i=()=>o(142735),l=()=>o(619779);function r(e){const{teamStore:t}=e,o=(0,n().O7)(),r=(0,i().VK)((()=>l().Z.state.spacePermissionGroupIds),[]),s=(0,i().VK)((()=>{if(t&&o.currentUser.id)return t.getTeamRoleForUser(o.currentUser.id,r)}),[t,o.currentUser.id,r]),a=(0,i().VK)((()=>!!t&&"open"===t.getTeamAccessLevel()),[t]),c="none"===s||!s,d=!c;return{isTeamMember:d,canViewPosts:d||a,canJoinTeam:c&&a}}},698005:(e,t,o)=>{o.d(t,{$:()=>i});o(667294);var n=o(785893);const i=(0,o(827282).IU)("minus",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M3.037 8.844h9.92a.705.705 0 00.368-.103.825.825 0 00.28-.28.73.73 0 000-.773.752.752 0 00-.28-.28.705.705 0 00-.369-.102H3.037a.705.705 0 00-.369.102.824.824 0 00-.28.28.73.73 0 000 .772.914.914 0 00.28.281.705.705 0 00.37.103z"})})}}]);