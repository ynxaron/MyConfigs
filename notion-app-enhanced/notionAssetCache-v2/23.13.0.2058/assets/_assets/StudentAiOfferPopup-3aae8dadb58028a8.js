"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[82269],{31328:(t,e,i)=>{i.r(e),i.d(e,{StudentAiOfferPopup:()=>x});var n=()=>i(730120),s=i(667294),o=()=>i(219727),a=()=>i(142735),r=()=>i(61951),u=()=>i(801812),d=()=>i(388852),p=()=>i(788860),l=()=>i(979614),c=()=>i(369637),f=()=>i(269299),_=()=>i(348141),v=()=>i(669086),g=()=>i(408074),h=()=>i(876822),m=()=>i(518019),S=()=>i(438665),A=()=>i(965014),M=()=>i(661769),y=()=>i(201689),b=i(785893);function x(){const t=(0,o().O7)(),e=(0,p().YB)(),{isMobile:i}=(0,o().Fy)(),x=(0,M().bA)("sidebar"),Z=(0,v().y)(),{inAppCalloutStore:w,currentUserSettingsStore:C}=(0,a().VK)((()=>({inAppCalloutStore:h().default.state.inAppCalloutStore,currentUserSettingsStore:h().default.state.currentUserSettingsStore})),[]),[{value:O}]=(0,u().r5)((async()=>{const e=h().default.state.currentSpaceStore;if(!e)return;const i=await m().Z.awaitData(t,{spaceId:e.id});return i||void 0}),[t]),I=(0,a().VK)((()=>null==O?void 0:O.subscription),[O]),V=(0,a().VK)((()=>{const t=null==I?void 0:I.startDate;return!!t&&n().ou.now()>t.plus({days:1})}),[I]),j=(0,a().VK)((()=>w.getCalloutVisibility("student_ai_offer_popup").canShow&&x&&!Z&&V),[w,x,Z,V]),D=(0,a().VK)((()=>{var t;return null==C||null===(t=C.getSettings())||void 0===t?void 0:t.dismissed_student_ai_popup}),[C]),P=Boolean(!D&&j&&!i),T=(0,s.useMemo)((()=>function(t){const{intl:e,environment:i,onDismiss:n}=t;return{presentationType:"persistent",id:"student_ai_offer_toast",title:e.formatMessage({id:"studentAiOfferPopup.title",defaultMessage:"Students get half off unlimited AI"}),icon:d().q,jsxMessage:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(p()._H,{id:"studentAiOfferPopup.description",defaultMessage:"Unlock unlimited use of AI for Q&A, Autofill, Writer, and more"}),(0,b.jsx)(y().J,{tooltipMessage:(0,b.jsx)(p()._H,{id:"studentAiOfferPopup.tooltip",defaultMessage:"You can access this offer again by visiting our plans page in settings"}),tooltipWidth:"216px",overlayContainerZIndex:g().TOASTER_ZINDEX+1})]}),actions:{primary:{title:e.formatMessage({id:"studentAiOfferPopup.buttonLabel",defaultMessage:"Redeem now"}),onAction:()=>{(0,A().y)(i,{from:"student_ai_popup",upsell:{type:"product",product:"ai",limit:{type:"none"}}}),c().Xd("student_ai_offer_toast")}}},onDismiss:n}}({intl:e,environment:t,onDismiss:()=>{l().VO(t),w.updateCalloutStatus({calloutId:"student_ai_offer_popup",visible:!1}),C&&f().createAndCommit({userAction:"StudentAiOfferPopup.handleDismiss",environment:t,canUndo:!0,perform:t=>{_().d2({transaction:t,userSettingsStore:C,data:{dismissed_student_ai_popup:!0}})}})}})),[C,t,w,e]);return(0,r().Z)((async()=>{l().t6(t,{from:"student_ai_offer_popup"}),w.updateCalloutStatus({calloutId:"student_ai_offer_popup",visible:!0}),c().m2(T),await(0,S().WV)({environment:t,hasReceived:!1,offerType:"add_on_upgrade_flow",coupon:"ai_fifty_percent"})}),P),null}},388852:(t,e,i)=>{i.d(e,{q:()=>s});i(667294);var n=i(785893);const s=(0,i(827282).IU)("gift",{viewBox:"0 0 20 20",svg:(0,n.jsx)("g",{id:"Layer_1",children:(0,n.jsx)("path",{d:"M16,5.75h-.6682129c.2590332-.4436646.4182129-.9526367.4182129-1.5024414,0-.8989258-.4003906-1.7426758-1.0986328-2.3149414-.7021484-.5761719-1.6191406-.8037109-2.5048828-.6264648-.8757935.1747437-1.6201782.6658325-2.1376343,1.3336792-.515564-.6645508-1.2658691-1.1560669-2.1675415-1.3361206-.8833008-.1767578-1.7939453.0498047-2.4926758.6220703-.6982422.5727539-1.0986328,1.4189453-1.0986328,2.3217773,0,.5498047.1592407,1.0587769.4182129,1.5024414h-.6682129c-.9648438,0-1.75.7851562-1.75,1.75v2c0,.6700439.3829346,1.246521.9375,1.5404663v4.9595337c0,.9648438.7851562,1.75,1.75,1.75h10.1875c.9648438,0,1.75-.7851562,1.75-1.75v-4.9934692c.5205078-.3035889.875-.8618164.875-1.5065308v-2c0-.9648438-.7851562-1.75-1.75-1.75ZM16.25,7.5v2c0,.1376953-.1123047.25-.25.25h-5.21875v-2.5h5.21875c.1376953,0,.25.1123047.25.25ZM12.4404297,2.7768555c.4433594-.090332.90625.0258789,1.2607422.315918.3486328.2861328.5488281.7070312.5488281,1.1547852,0,.8286133-.6738281,1.5024414-1.5029297,1.5024414h-1.9970703v-.921875c0-.9926758.7109375-1.8554688,1.6904297-2.0512695ZM5.75,4.2475586c0-.4516602.2001953-.8754883.5498047-1.1616211.2641602-.2167969.5883789-.3344727.9536133-.3344727.1186523,0,.2412109.0126953.3671875.0375977.9443359.1884766,1.6293945,1.0244141,1.6293945,1.9873047v.9736328h-1.9975586c-.8286133,0-1.5024414-.6738281-1.5024414-1.5024414ZM3.75,7.5c0-.1376953.1123047-.25.25-.25h5.28125v2.5h-5.28125c-.1376953,0-.25-.1123047-.25-.25v-2ZM4.6875,16v-4.75h4.59375v5h-4.34375c-.1376953,0-.25-.1123047-.25-.25ZM15.125,16.25h-4.34375v-5h4.59375v4.75c0,.1376953-.1123047.25-.25.25Z"})})})}}]);