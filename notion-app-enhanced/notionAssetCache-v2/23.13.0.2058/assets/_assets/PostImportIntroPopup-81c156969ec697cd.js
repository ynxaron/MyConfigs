"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[10074],{979675:(t,o,r)=>{r.r(o),r.d(o,{PostImportIntroPopup:()=>I,trackImportOnboardingTourProgress:()=>v});var e=r(667294),n=()=>r(219727),a=()=>r(142735),s=()=>r(61951),i=()=>r(788860),p=()=>r(369637),u=()=>r(269299),l=()=>r(348141),m=()=>r(594546),d=()=>r(803728),c=()=>r(876822),g=()=>r(199114);const _=(0,i().vU)({titleForIntroToast:{id:"PostImportIntroPopup.titleForIntroToast",defaultMessage:"Project Management in Notion"},descriptionForIntroToast:{id:"PostImportIntroPopup.descriptionForIntroToast",defaultMessage:"Your newly imported Asana projects are here. Want to learn more about how to use Notion Projects and Tasks?"},primaryButton:{id:"PostImportIntroPopup.primaryButton",defaultMessage:"Take the tour"}}),f="post_import_intro_toast";function I(){const t="asana_post_import_tour",o=(0,n().O7)(),{inAppCalloutStore:r,currentUserSettingsStore:m}=(0,a().VK)((()=>({currentUserSettingsStore:c().default.state.currentUserSettingsStore,inAppCalloutStore:c().default.state.inAppCalloutStore})),[]),I=(0,a().VK)((()=>{var o,e;return!0===(null===(o=c().default.state.mainEditorCurrentBlockStore)||void 0===o?void 0:o.getFormat().is_asana_imported_project)&&!0!==(null==m||null===(e=m.getSettings())||void 0===e?void 0:e.seen_asana_post_import_tour)&&r.getCalloutVisibility(t).canShow}),[r,m]),S=(0,e.useCallback)((()=>{l().Be({environment:o}),d().Gi(o,t)}),[o]),P=(0,e.useCallback)((()=>{m&&u().createAndCommit({userAction:"PostImportIntroPopup.startOnboardingTour",environment:o,canUndo:!0,perform:t=>{var o;l().d2({transaction:t,userSettingsStore:m,data:{tutorials:{...null==m||null===(o=m.getSettings())||void 0===o?void 0:o.tutorials,"project-management-import-onboarding":"your-teamspace-tooltip"}}})}}),g().default.setState({...g().default.state,showOnboardingTour:!0})}),[m,o]),T=(0,i().YB)(),b=(0,e.useMemo)((()=>function(t){const{intl:o,onDismiss:r,primaryActionHandler:e}=t;return{presentationType:"persistent",id:f,title:o.formatMessage(_.titleForIntroToast),message:o.formatMessage(_.descriptionForIntroToast),actions:{primary:{title:o.formatMessage(_.primaryButton),onAction:e}},onDismiss:r}}({intl:T,onDismiss:()=>{S(),v(o,{importer:"asana",action:"dismissed",progress:0,callout_id:t,from:"imported_page"})},primaryActionHandler:()=>{v(o,{importer:"asana",action:"start",progress:0,callout_id:t,from:"imported_page"}),P(),S(),p().Xd(f)}})),[T,S,o,P]);return(0,s().Z)((()=>{p().m2(b)}),I),null}function v(t,o){return(0,m().j)({environment:t,event:{eventName:"import_projects_onboarding",eventProperties:o}})}}}]);