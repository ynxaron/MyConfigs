"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[55918],{144876:(e,t,s)=>{s.r(t),s.d(t,{CollectionSettingsCustomizeMenu:()=>M,customizeMenuMessages:()=>f});var i=s(667294),n=()=>s(219727),o=()=>s(142735),l=()=>s(846550),a=()=>s(788860),d=()=>s(205951),r=()=>s(796427),c=()=>s(740046),u=()=>s(388284),g=()=>s(527278),x=()=>s(591909),S=()=>s(367404),p=()=>s(317326),h=()=>s(200528),m=s(785893);const f=(0,a().vU)({searchPlaceholder:{defaultMessage:"Find or add features...",id:"database.viewSettings.customizeMenu.searchInputPlaceholder"},noResults:{defaultMessage:"No results",id:"database.viewSettings.customizeMenu.noResults"}});function M(e){const{collectionContextStore:t,collectionSettingsStore:s}=e,{isMobile:g}=(0,n().Fy)(),M=(0,a().YB)(),[v,y]=(0,i.useState)(""),j=(0,h().UL)(t),b=(0,h().fX)(t,s),w=(0,o().VK)((()=>(0,x().U)(v,b)),[v,b]),T=(0,i.useCallback)((e=>y(e.target.value)),[]),k=(0,l().yK)((()=>({header:{display:"flex",alignItems:"center"},title:{maxWidth:g?void 0:"70%",overflow:"hidden",textOverflow:"ellipsis"},searchInput:{padding:4}})),[g]);return(0,m.jsxs)(d().ZP,{...e,title:(0,m.jsx)("div",{style:k.header,children:(0,m.jsx)("div",{style:k.title,children:(0,m.jsx)(a()._H,{defaultMessage:"Customize {databaseName}",id:"database.viewSettings.customizeMenu.title",values:{databaseName:j}})})}),header:(0,m.jsx)(u().Z,{style:k.searchInput,children:(0,m.jsx)(c().ZP,{focusInitial:!g,onChange:T,placeholder:M.formatMessage(f.searchPlaceholder),showClearButton:!0,value:v})}),children:[(0,m.jsx)(r().V4,{collectionContextStore:t}),0===w.length&&v.length>0?(0,m.jsx)(C,{}):(0,m.jsx)(p().C,{collectionContextStore:t,collectionSettingsStore:s,filteredFeatures:w,isUserSearching:v.length>0}),(0,m.jsx)(S().xR,{collectionContextStore:t,collectionSettingsStore:s,showTopBorder:!0})]})}function C(){const e=(0,n().Fy)(),t=(0,l().yK)((t=>({empty:{padding:"12px 16px",fontSize:e.isMobile?14:13,fontWeight:500,color:t.mediumTextColor}})),[e]);return(0,m.jsx)("div",{style:t.empty,children:g().Z.formatMessage(f.noResults)})}},317326:(e,t,s)=>{s.d(t,{C:()=>M});s(241792);var i=s(667294),n=()=>s(219727),o=()=>s(846550),l=()=>s(827973),a=()=>s(255577),d=()=>s(388284),r=()=>s(527278),c=()=>s(503375),u=()=>s(854579),g=()=>s(864709),x=()=>s(200528),S=()=>s(145656),p=s(785893);const h=4,m=4,f=(0,s(788860).vU)({addedTitle:{defaultMessage:"Settings",id:"database.viewSettings.customizeMenu.addedtitle"},unaddedTitle:{defaultMessage:"Suggested",id:"database.viewSettings.customizeMenu.unaddedtitle"},expandSuggested:{defaultMessage:"See all features",id:"database.viewSettings.customizeMenu.expandSuggested"},collapseSuggested:{defaultMessage:"See less",id:"database.viewSettings.customizeMenu.collapseSuggested"},expandAdded:{defaultMessage:"See more",id:"database.viewSettings.customizeMenu.expandAdded"},collapseAdded:{defaultMessage:"See less",id:"database.viewSettings.customizeMenu.collapseAdded"}});function M(e){const{collectionContextStore:t,collectionSettingsStore:s,filteredFeatures:o,isUserSearching:l}=e,r=(0,n().O7)(),M=(0,x().MG)(t),[y,j]=(0,i.useState)(!1),[b,w]=(0,i.useState)(!1),{addedFeatures:T,suggestedFeatures:k}=(0,x().Xf)(t,o),z={key:"suggested",render:e=>(0,p.jsx)(d().Z,{...e,topBorder:T.length>0&&k.length>0,title:(0,p.jsx)(v,{shouldShow:k.length>0,title:f.unaddedTitle})}),items:[...(b||l?k:k.slice(0,h)).map((e=>({key:e.uri,render:i=>(0,c().I)(e)?e.getSuggestedFeatureMenuItem({collectionContextStore:t,collectionSettingsStore:s,feature:e,itemProps:i}):(0,p.jsx)(S().a,{collectionContextStore:t,collectionSettingsStore:s,feature:e,itemProps:i}),action:()=>{}}))),...k.length>h&&!l?[{key:"expand",render:e=>(0,p.jsx)(C,{menuListItemProps:e,isExpanded:b,expandTitle:f.expandSuggested,collapseTitle:f.collapseSuggested,onClick:()=>w(!b)}),action:()=>{}}]:[]]},I={key:"added",render:e=>(0,p.jsx)(d().Z,{...e,title:(0,p.jsx)(v,{shouldShow:T.length>0,title:f.addedTitle})}),items:[...(y||l?T:T.slice(0,m)).map((e=>({key:e.uri,render:i=>(0,c().I)(e)?e.getAddedFeatureMenuItem({collectionContextStore:t,collectionSettingsStore:s,feature:e,itemProps:i}):(0,p.jsx)(u().Y4,{collectionContextStore:t,feature:e,itemProps:i,icon:(0,p.jsx)(g().i,{feature:e}),onClick:(0,u().AH)({environment:r,feature:e,collectionContextStore:t,collectionSettingsStore:s,appConfig:M})}),action:()=>{}}))),...T.length>m&&!l?[{key:"expand",render:e=>(0,p.jsx)(C,{menuListItemProps:e,isExpanded:y,expandTitle:f.expandAdded,collapseTitle:f.collapseAdded,onClick:()=>j(!y)}),action:()=>{}}]:[]]},F=[...T.length>0?[I]:[],...k.length>0?[z]:[]];return(0,p.jsx)(a().ZP,{disableInitialScroll:!0,type:a().iW.Vertical,initialFocus:void 0,resetFocusOnMouseOut:!0,sections:F})}function C(e){const{menuListItemProps:t,isExpanded:s,collapseTitle:i,expandTitle:a,onClick:d}=e,c=(0,n().Fy)(),u=(0,o().yK)((e=>({expandButton:{display:"flex",alignItems:"center",color:e.lightTextColor},expandButtonTitle:{fontSize:c.isMobile?14:12,padding:"2px 0"}})),[c]);return(0,p.jsx)(l().Z,{...t,style:u.expandButton,onClick:d,title:(0,p.jsx)("div",{style:u.expandButtonTitle,children:s?r().Z.formatMessage(i):r().Z.formatMessage(a)})})}function v(e){const{shouldShow:t,title:s}=e,i=(0,n().Fy)(),l=(0,o().yK)((()=>({header:{fontSize:i.isMobile?14:12}})),[i]);return t?(0,p.jsx)("div",{style:l.header,children:r().Z.formatMessage(s)}):null}}}]);