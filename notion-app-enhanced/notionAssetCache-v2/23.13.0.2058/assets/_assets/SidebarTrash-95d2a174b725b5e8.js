"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[16875],{61738:(e,t,n)=>{n.d(t,{Z:()=>a});n(667294);var o=()=>n(219727),i=()=>n(846550),r=()=>n(374289),s=()=>n(154186),l=n(785893);function a(e){const{icon:t,title:n,on:a,disabled:d,hasDiff:u,wrapStyle:c,innerStyle:m,hideChevron:p}=e,h=(0,o().O7)(),f=(0,i().yK)((e=>{const t=h.device.isMobile;return{filterPill:{fontSize:14,display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",borderRadius:32,height:t?28:24,lineHeight:t?"28px":"24px",padding:"0 8px",border:`1px solid ${e.outlineButtonBorder}`,color:e.mediumTextColor,...a&&{color:e.blueColor,border:`1px solid ${e.filterPillBorder}`,background:e.filterPillBackground},...d&&{color:e.text.uiBlueTertiary,border:`1px solid ${e.text.uiBlueTertiary}`,background:e.filterPillBackground},...m},hovered:a?{background:e.outlineBlueButtonHoveredBackground}:{},pressed:a?{background:e.outlineBlueButtonPressedBackground}:{},chevron:{width:10,marginLeft:4,marginTop:1,fill:d?e.text.uiBlueTertiary:a?e.blueColor:e.lightIconColor},diffDot:{position:"absolute",top:-2,right:-2,background:"dark"===e.mode?e.accentColors.orange[500]:e.accentColors.orange[300],border:`1px solid ${e.contentBackground}`,width:9,height:9,borderRadius:9}}}),[d,h.device.isMobile,m,a]);return(0,l.jsxs)("div",{style:{borderRadius:14,marginRight:6,display:"inline-flex",...u&&{position:"relative"},...c},children:[(0,l.jsxs)(s().Z,{disabled:d,style:f.filterPill,hoveredStyle:f.hovered,pressedStyle:f.pressed,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onClick:e.onClick,onDoubleClick:e.onDoubleClick,children:[t,n,!p&&(0,r().i)(f.chevron)]}),u&&(0,l.jsx)("div",{style:f.diffDot})]})}},641481:(e,t,n)=>{n.d(t,{Z:()=>i});n(667294);var o=n(785893);const i=function(e){const t=(0,n(219727).O7)(),i=(0,n(846550).Fg)();return(0,o.jsx)(n(108714).Z,{style:{display:"flex",alignSelf:"stretch",width:36,...e.isRight?{marginRight:-8}:{marginLeft:-8}},external:!0,href:e.href,onClick:()=>n(407391).Fs(t,{from:e.analyticsFrom}),children:(0,o.jsx)(n(154186).Z,{mobileFeedback:!0,style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},children:(0,n(456681).m)({width:18,marginTop:1,fill:i.lightIconColor})})})}},114755:(e,t,n)=>{n.d(t,{Z:()=>i});n(667294);var o=n(785893);const i=function(e){const t=(0,n(219727).O7)(),i={removeFilterButton:{height:void 0,width:void 0},removeFilterButtonMobile:{marginRight:-12,marginTop:-12,marginBottom:-12,paddingRight:12,paddingTop:12,paddingBottom:12}},{onClick:r,disabled:s}=e,{device:l}=t,a=l.isMobile?{...i.removeFilterButton,...i.removeFilterButtonMobile}:i.removeFilterButton;return(0,o.jsx)(n(1910).Z,{icon:n(80122).X,onClick:r,disabled:s,disableBackground:!0,style:a})}},203324:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ke});n(122556),n(582845),n(250570),n(533019),n(721473),n(788208),n(22624),n(267602),n(653476),n(241792);var o=n(667294),i=()=>n(219727),r=()=>n(142735),s=()=>n(846550),l=()=>n(506347),a=()=>n(135857),d=()=>n(801812),u=()=>n(899548),c=()=>n(95886),m=()=>n(827282),p=n(785893);const h=(0,m().IU)("trashSlash",{viewBox:"0 0 16 16",svg:(0,p.jsx)("path",{d:"M12.3359 10.4551L11.293 9.41797L11.5273 4.45508H6.33594L5.1582 3.27148H5.33984V2.54492C5.33984 2.0957 5.47461 1.74609 5.74414 1.49609C6.01758 1.24219 6.39648 1.11523 6.88086 1.11523H9.11328C9.59766 1.11523 9.97461 1.24219 10.2441 1.49609C10.5176 1.74609 10.6543 2.0957 10.6543 2.54492V3.42383H13.2617C13.4062 3.42383 13.5273 3.47266 13.625 3.57031C13.7266 3.66797 13.7773 3.78906 13.7773 3.93359C13.7773 4.07812 13.7285 4.20117 13.6309 4.30273C13.5332 4.4043 13.4102 4.45508 13.2617 4.45508H12.6172L12.3359 10.4551ZM6.42969 3.42383H9.57031V2.60352C9.57031 2.45117 9.52148 2.33008 9.42383 2.24023C9.32617 2.14648 9.19531 2.09961 9.03125 2.09961H6.96289C6.79883 2.09961 6.66797 2.14648 6.57031 2.24023C6.47656 2.33008 6.42969 2.45117 6.42969 2.60352V3.42383ZM5.31055 14.3398C4.85742 14.3398 4.49414 14.2129 4.2207 13.959C3.95117 13.7051 3.80664 13.3516 3.78711 12.8984L3.41211 4.88867L4.53125 6.00781L4.85352 12.7168C4.86133 12.8887 4.91797 13.0293 5.02344 13.1387C5.13281 13.248 5.26758 13.3027 5.42773 13.3027H10.5723C10.7285 13.3027 10.8574 13.252 10.959 13.1504C11.0645 13.0527 11.123 12.9277 11.1348 12.7754L11.1406 12.6172L12.0195 13.502L12.0137 13.6074C11.8965 13.8379 11.7246 14.0176 11.498 14.1465C11.2754 14.2754 11.0078 14.3398 10.6953 14.3398H5.31055ZM8.41602 6.5293L7.70703 5.82031V5.5625C7.78125 5.48438 7.87891 5.44531 8 5.44531C8.125 5.44531 8.22461 5.48242 8.29883 5.55664C8.37695 5.62695 8.41602 5.71875 8.41602 5.83203V6.5293ZM10.2383 8.35156L9.45312 7.57227L9.50586 5.83203C9.50977 5.71484 9.54883 5.62109 9.62305 5.55078C9.69727 5.48047 9.79297 5.44531 9.91016 5.44531C10.0352 5.44531 10.1328 5.48242 10.2031 5.55664C10.2773 5.62695 10.3145 5.71875 10.3145 5.83203L10.2383 8.35156ZM6.27734 12.3535C6.15625 12.3535 6.05859 12.3203 5.98438 12.2539C5.91016 12.1836 5.87109 12.0898 5.86719 11.9727L5.73828 7.21484L6.55859 8.04688L6.67578 11.9668C6.67969 12.084 6.64453 12.1777 6.57031 12.248C6.49609 12.3184 6.39844 12.3535 6.27734 12.3535ZM8 12.3535C7.87891 12.3535 7.7793 12.3203 7.70117 12.2539C7.62695 12.1836 7.58984 12.0898 7.58984 11.9727V9.07812L8.41602 9.89258V11.9727C8.41602 12.0859 8.37695 12.1777 8.29883 12.248C8.22461 12.3184 8.125 12.3535 8 12.3535ZM9.73438 12.3535C9.60547 12.3535 9.50391 12.3184 9.42969 12.248C9.35938 12.1777 9.32617 12.084 9.33008 11.9668L9.35938 10.8477L10.1152 11.6035L10.1035 12.043C10.0801 12.25 9.95703 12.3535 9.73438 12.3535ZM12.9863 13.4434L2.35742 2.81445C2.26758 2.72852 2.22266 2.61914 2.22266 2.48633C2.22266 2.35352 2.26758 2.24414 2.35742 2.1582C2.44727 2.06445 2.55664 2.01953 2.68555 2.02344C2.81836 2.02344 2.92969 2.06836 3.01953 2.1582L13.6426 12.7812C13.7324 12.8711 13.7773 12.9805 13.7773 13.1094C13.7773 13.2383 13.7324 13.3496 13.6426 13.4434C13.5527 13.5332 13.4414 13.5781 13.3086 13.5781C13.1797 13.5781 13.0723 13.5332 12.9863 13.4434Z"})});var f=()=>n(112955),g=()=>n(366825);const x=(0,m().IU)("wifiExclamationMark",{viewBox:"0 0 16 16",svg:(0,p.jsx)("path",{d:"M7.99414 13.2441C7.81055 13.2441 7.64062 13.1992 7.48438 13.1094C7.33203 13.0195 7.21094 12.8984 7.12109 12.7461C7.03125 12.5977 6.98633 12.4316 6.98633 12.248C6.98633 12.0645 7.03125 11.8984 7.12109 11.75C7.21094 11.5977 7.33203 11.4785 7.48438 11.3926C7.64062 11.3027 7.81055 11.2578 7.99414 11.2578C8.18164 11.2578 8.35156 11.3027 8.50391 11.3926C8.66016 11.4785 8.78125 11.5977 8.86719 11.75C8.95703 11.8984 9.00195 12.0645 9.00195 12.248C9.00195 12.4316 8.95703 12.5977 8.86719 12.7461C8.78125 12.8984 8.66016 13.0195 8.50391 13.1094C8.35156 13.1992 8.18164 13.2441 7.99414 13.2441ZM8 10.2676C7.79688 10.2676 7.63672 10.209 7.51953 10.0918C7.40234 9.9707 7.33984 9.80469 7.33203 9.59375C7.32812 9.20703 7.32422 8.80859 7.32031 8.39844C7.31641 7.98438 7.31055 7.56641 7.30273 7.14453C7.29492 6.71875 7.28711 6.29492 7.2793 5.87305C7.27539 5.45117 7.26953 5.03906 7.26172 4.63672C7.25781 4.23047 7.25391 3.83789 7.25 3.45898C7.25 3.25195 7.32031 3.08008 7.46094 2.94336C7.60547 2.80273 7.7832 2.73242 7.99414 2.73242C8.20898 2.73242 8.38672 2.80273 8.52734 2.94336C8.66797 3.08008 8.73828 3.25195 8.73828 3.45898C8.73438 3.83789 8.73047 4.23047 8.72656 4.63672C8.72266 5.03906 8.71875 5.45117 8.71484 5.87305C8.71094 6.29492 8.70508 6.71875 8.69727 7.14453C8.69336 7.56641 8.6875 7.98438 8.67969 8.39844C8.67578 8.80859 8.67188 9.20703 8.66797 9.59375C8.66016 9.80469 8.59766 9.9707 8.48047 10.0918C8.36328 10.209 8.20312 10.2676 8 10.2676ZM6.37109 3.48828L6.40625 5.36328C5.66797 5.50781 4.96875 5.76172 4.30859 6.125C3.65234 6.48828 3.05469 6.95508 2.51562 7.52539C2.45312 7.5918 2.37891 7.62695 2.29297 7.63086C2.21094 7.63086 2.13672 7.59961 2.07031 7.53711L1.25 6.69922C1.19922 6.64062 1.17188 6.57617 1.16797 6.50586C1.16406 6.43555 1.18555 6.37305 1.23242 6.31836C1.61133 5.84961 2.06641 5.42578 2.59766 5.04688C3.13281 4.66406 3.7207 4.33984 4.36133 4.07422C5.00195 3.80859 5.67188 3.61328 6.37109 3.48828ZM9.61133 3.48828C10.3184 3.60938 10.9922 3.80469 11.6328 4.07422C12.2734 4.33984 12.8574 4.66406 13.3848 5.04688C13.916 5.42969 14.375 5.85352 14.7617 6.31836C14.8086 6.37305 14.8301 6.43555 14.8262 6.50586C14.8262 6.57617 14.7969 6.64062 14.7383 6.69922L13.918 7.51953C13.8555 7.58594 13.7832 7.62109 13.7012 7.625C13.6191 7.625 13.5488 7.5957 13.4902 7.53711C12.9395 6.96289 12.3359 6.49219 11.6797 6.125C11.0234 5.75781 10.3242 5.50391 9.58203 5.36328L9.61133 3.48828ZM9.57031 7.00391C10.1602 7.14453 10.7012 7.36523 11.1934 7.66602C11.6855 7.9668 12.0918 8.31055 12.4121 8.69727C12.459 8.75195 12.4805 8.81445 12.4766 8.88477C12.4727 8.95117 12.4434 9.01172 12.3887 9.06641L11.4746 9.96289C11.4043 10.0293 11.3301 10.0645 11.252 10.0684C11.1738 10.0684 11.1055 10.0352 11.0469 9.96875C10.8477 9.75781 10.6191 9.56641 10.3613 9.39453C10.1074 9.21875 9.83398 9.07422 9.54102 8.96094L9.57031 7.00391ZM6.42969 7.00391L6.45898 8.95508C6.17383 9.06445 5.9043 9.20508 5.65039 9.37695C5.40039 9.54492 5.17773 9.73438 4.98242 9.94531C4.91602 10.0195 4.83984 10.0605 4.75391 10.0684C4.67188 10.0723 4.5957 10.041 4.52539 9.97461L3.60547 9.06641C3.55078 9.01172 3.52148 8.95117 3.51758 8.88477C3.51367 8.81445 3.53516 8.75195 3.58203 8.69727C3.91016 8.30273 4.31836 7.95898 4.80664 7.66602C5.29883 7.36914 5.83984 7.14844 6.42969 7.00391Z"})});var C=()=>n(396136),y=()=>n(788860),v=()=>n(47443),S=()=>n(752127),b=()=>n(96271),I=()=>n(663366),j=()=>n(205228),k=()=>n(247724),M=()=>n(352230),T=()=>n(148126),B=()=>n(466970),R=()=>n(729201),w=()=>n(828946),Z=()=>n(98228),F=()=>n(793935),L=()=>n(594546),P=()=>n(84922);function V(e,t,n){P().default.setState({...P().default.state,currentTab:e,limit:P().default.startLimit}),n.setState({...n.state,result:null}),function(e,t){(0,L().K4)(e,"toggle_trash_tab",t)}(t,{tab:e})}var H=()=>n(740046),O=()=>n(312578),D=()=>n(677243),A=()=>n(543771),K=()=>n(630029),_=()=>n(876822),U=()=>n(237427);function z(e){let{createdByFilterIds:t,setEditedByFilter:n,parentStore:o}=e;return(0,p.jsx)(U().Z,{mode:K().z.Pill,focused:!1,title:(0,p.jsx)(y()._H,{id:"searchFilters.editedByFilterTitle",defaultMessage:"Last edited by"}),parentStore:o,userIds:t,onChange:n})}const q=(0,y().vU)({filterByPlaceholder:{id:"sidebarTrash.filterBy.placeholder",defaultMessage:"Search pages in Trash"}});function W(e){P().default.setState({...P().default.state,...e,limit:P().default.startLimit})}function N(e){const{requestStore:t}=e,{device:n}=(0,i().O7)(),o=(0,s().yK)((()=>({header:{margin:n.isMobile?0:"10px 0"},filterBar:{display:"flex",flexFlow:n.isMobile?"column":"row",margin:n.isMobile?0:"10px 12px"}})),[n]),l=(0,r().VK)((()=>_().default.state.currentUserRootStore),[]),a=(0,r().VK)((()=>{var e;return null===(e=_().default.state.currentUserStore)||void 0===e?void 0:e.id}),[]),{lastEditedByIds:d,teamspaceIds:u,inPageIds:c}=(0,r().VK)((()=>{const{teamspaceIds:e,inPageIds:t}=P().default.state;return{lastEditedByIds:(0,P().L)(P().default.state,a),teamspaceIds:e,inPageIds:t}}),[a]),m=(0,r().VK)((()=>e=>{W({lastEditedByIds:e,isInitialLastEditedByState:!1})}),[]),h=(0,r().VK)((()=>e=>{W({teamspaceIds:e})}),[]),f=(0,r().VK)((()=>e=>{W({inPageIds:e})}),[]);return(0,p.jsxs)("div",{style:o.header,children:[(0,p.jsx)(E,{requestStore:t}),l&&(0,p.jsxs)("div",{style:o.filterBar,children:[(0,p.jsx)(z,{parentStore:l,createdByFilterIds:d,setEditedByFilter:m}),(0,p.jsx)(D().h,{mode:K().z.Pill,title:(0,p.jsx)(y()._H,{id:"sidebarTrash.searchPageFilter.location",defaultMessage:"In"}),parentStore:l,blockIds:c,onChange:f,focused:!1}),(0,p.jsx)(A().Z,{mode:K().z.Pill,focused:!1,title:(0,p.jsx)(y()._H,{id:"sidebarTrash.searchPageFilter.Teamspaces",defaultMessage:"Teamspaces"}),parentStore:l,teamIds:u,onChange:h})]})]})}function E(e){let{requestStore:t}=e;const n=(0,y().YB)(),o=(0,s().yK)((e=>({searchIcon:{width:14,height:14,flexGrow:0,flexShrink:0,color:e.lightIconColor}})),[]),l=(0,i().O7)(),a=(0,r().VK)((()=>t.state.loading),[t]),d=(0,r().VK)((()=>P().default.state.filter),[]),{device:c}=l,m=(0,R().Z)(a,500,200),h=(0,r().VK)((()=>c.isMobile?m?(0,p.jsx)(O().Z,{legacySize:14,style:o.searchIcon}):(0,u().R)(o.searchIcon):null),[c.isMobile,m,o.searchIcon]);return(0,p.jsx)(H().ZP,{inputLeft:h,style:{...c.isAndroid&&{borderBottom:"none"}},showClearButton:!0,placeholder:n.formatMessage(q.filterByPlaceholder),focus:!c.isMobile||void 0,value:d,onChange:Y})}function Y(e){P().default.setState({...P().default.state,filter:e.target.value,limit:P().default.startLimit})}var $=()=>n(956789),G=()=>n(998901),X=()=>n(804217),J=()=>n(826955),Q=()=>n(552064),ee=()=>n(1910),te=()=>n(198829),ne=()=>n(255577),oe=()=>n(838367),ie=()=>n(470386),re=()=>n(231219),se=()=>n(906769),le=()=>n(388284),ae=()=>n(604898),de=()=>n(654133),ue=()=>n(641481),ce=()=>n(122792),me=()=>n(707513),pe=()=>n(429892);var he=()=>n(228772),fe=()=>n(591914),ge=()=>n(838266),xe=()=>n(67961),Ce=()=>n(360964);function ye(){const e=(0,s().yK)((e=>({menuItem:{backgroundColor:e.lightBlueBannerBackground}})),[]),t=(0,p.jsx)(ve,{});return(0,p.jsx)(le().Z,{style:e.menuItem,topBorder:!0,disableDesktopPadding:!1,children:t})}function ve(){const e=(0,he().r)(),t=(0,fe().r_)(e),n=(0,r().VK)((()=>Boolean((null==t?void 0:t.isWorkspaceOwner())&&(0,ce().wP)(null==e?void 0:e.getSubscriptionTier()))),[t,e]),o=(0,s().yK)((()=>({changeSettingsLink:{textDecoration:"underline",cursor:"pointer"},b:{fontWeight:me().Ue.medium},footerLabel:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:n?"6px 8px":"0px 8px",paddingLeft:10},helpButton:{marginLeft:2},helpIcon:{fill:"inherit"}})),[n]),i=function(e){const t=(0,y().YB)();return(0,r().VK)((()=>{const n=(0,ce().wP)(null==e?void 0:e.getSubscriptionTier())?null==e?void 0:e.getSettings().delete_from_trash_delay_seconds:void 0;return(0,pe().uP)(n,t)}),[e,t])}(e),l=n?(0,p.jsx)(y()._H,{defaultMessage:"Pages in Trash for over {deleteFromTrashDelayString} will be automatically deleted. <link>Change settings</link>",id:"sidebarTrash.footer.deletedAfterWithButton",values:{deleteFromTrashDelayString:i,b:e=>(0,p.jsx)("b",{style:o.b,children:e}),link:e=>(0,p.jsx)("a",{style:o.changeSettingsLink,onClick:()=>ge().default.setState({openedFrom:"sidebar_trash",highlightedSetting:void 0,open:!0,currentTab:"security",defaultSubtab:"data_retention"}),children:e})}}):(0,p.jsx)(y()._H,{defaultMessage:"Pages in Trash for over {deleteFromTrashDelayString} will be automatically deleted",id:"sidebarTrash.footer.deletedAfter",values:{deleteFromTrashDelayString:i,b:e=>(0,p.jsx)("b",{style:o.b,children:e})}});return(0,p.jsxs)(xe().Z,{isMultiline:!0,style:o.footerLabel,isSmall:!0,children:[(0,p.jsxs)("div",{children:[" ",l]}),(0,p.jsx)(Ce().Z,{style:o.helpButton,href:(0,T().UY)("guides.trash"),analyticsFrom:"trash",iconStyle:o.helpIcon})]})}const Se=(0,y().vU)({filterByPlaceholder:{id:"sidebarTrash.filterBy.placeholder",defaultMessage:"Search pages in Trash"}});const be=P().A;function Ie(){return(0,p.jsx)(ue().Z,{href:(0,T().UY)("guides.trash"),analyticsFrom:"trash"})}function je(e){return{width:14,height:14,flexGrow:0,flexShrink:0,color:e.lightIconColor}}const ke=function(){const e=(0,i().O7)(),t=(0,r().qz)(void 0,n(853648).Z);return(0,o.useEffect)((()=>(P().default.setState({...P().default.state,limit:P().default.startLimit,excludePages:new Set,isInitialLastEditedByState:!0}),()=>{P().default.setState({...P().default.state,filter:"",lastEditedByIds:[],teamspaceIds:[],inPageIds:[]})})),[]),(0,r().VK)((()=>{var t;return(null===(t=e.mobileNative)||void 0===t?void 0:t.supportsNativeHomeOnPhone())||!1}),[e])?(0,p.jsx)(Fe,{requestStore:t}):(0,p.jsx)(Ze,{requestStore:t})};function Me(e){P().default.setState({...P().default.state,filter:e.target.value,limit:P().default.startLimit})}function Te(e){const{mobileNative:t}=e,n=()=>{$().Z.setState({...$().Z.state,open:!1})};null!=t&&t.supportsNativeHomeOnPhone()?b().navigateToHomeTab(e,n):n()}function Be(e){let{requestStore:t}=e;const n=(0,y().YB)(),o=(0,s().Fg)(),l=(0,i().O7)(),a=(0,r().VK)((()=>t.state.loading),[t]),d=(0,r().VK)((()=>P().default.state.filter),[]),{device:c}=l,m=(0,R().Z)(a,500,200),h=(0,r().VK)((()=>{if(c.isMobile)return m?(0,p.jsx)(O().Z,{size:"sm",style:je(o)}):(0,u().R)(je(o))}),[c.isMobile,o,m]);return(0,p.jsx)(H().ZP,{inputLeft:h,style:{...c.isAndroid&&{borderBottom:"none"}},showClearButton:!0,placeholder:n.formatMessage(Se.filterByPlaceholder),focus:!c.isMobile||void 0,value:d,onChange:Me})}function Re(e){const{intl:t,requestKey:n}=e,u=(0,s().Fg)(),m=(0,i().O7)(),[x]=(0,d().r5)((()=>async function(e,t){const{currentSpaceStore:n,mainEditorCurrentBlockStore:o,currentUserStore:i}=_().default.state;if(!n||!i)return;const{limit:r,filter:s,teamspaceIds:l,inPageIds:a,currentTab:d}=P().default.state;if("in_current_page"===d){if(!o)return;if(o.isCollectionView()){if(!o.isDefined())return;if(!o.getCollectionPointer())return}}const u=(0,P().L)(P().default.state,i.id),c=await w().x.searchActions.load();return await c.searchTrashPages({environment:t,query:s,limit:r,ancestorIds:a,spaceId:n.id,editedByIds:u,teamspaceIds:l})}(0,m)),[n,m],{debounce:Z().vp}),b=x.value,k=(0,o.useCallback)((e=>{var t;return function(e){const{offsetFromBottom:t,queryResult:n}=e,{isReady:o,isEndOfResultsReached:i}=n;t<=P().default.loadMoreOffset&&o&&!i&&P().default.setState({...P().default.state,limit:P().default.state.limit+P().default.limitIncrement})}({offsetFromBottom:e,queryResult:{isReady:"resolved"===x.status||"rejected"===x.status,isEndOfResultsReached:null===(t=x.value)||void 0===t?void 0:t.endOfResultsReached}})}),[x]),{device:M}=m,T=(0,r().VK)((()=>_().default.state.mainEditorCurrentBlockStore),[]),L=(0,r().VK)((()=>_().default.state.currentSpaceStore),[]),V=(0,B().E)("trash_dont_need_current_page"),H=(0,r().VK)((()=>{const e=b?b.results:[];if(V){if(!L)return[];return e.map((e=>J().G.createChildStore(L,{table:C().iU,id:e}))).filter((e=>e.isDefined()&&!e.isFormBlock()&&!P().default.state.excludePages.has(e.id)))}if(!T)return[];return e.map((e=>J().G.createChildStore(T,{table:C().iU,id:e}))).filter((e=>e.isDefined()&&!e.isFormBlock()&&!P().default.state.excludePages.has(e.id)))}),[L,T,b,V]),D=(0,r().VK)((()=>P().default.state.filter),[]),A="pending"===x.status,K=(0,R().Z)(A,500,200);if(V);else if(!T)return null;const U=H.map((e=>{const n={key:e.id,action:t=>{let{event:n}=t;if("metaKey"in n&&n.metaKey){const t=(0,a().Z)({baseUrl:j().default.domainBaseUrl,pageId:e.id,pageVisitSource:l().tY.SidebarTrash});S().D({environment:m,url:t})}else v()._c({environment:m,store:e,pageVisitSource:l().tY.SidebarTrash}),$().Z.setState({...$().Z.state,open:!1});M.isMobile&&F().close()},render:n=>(0,p.jsx)(re().Z,{...n,dontShrinkRight:!0,store:e,right:(0,p.jsxs)("div",{style:{display:"flex",gap:4},children:[(0,p.jsx)(de().Z,{placement:G().Placement.Bottom,renderTooltip:()=>(0,p.jsx)(y()._H,{defaultMessage:"Restore",id:"sidebarTrash.restorePageButton.tooltip"}),render:n=>(0,p.jsx)(ee().Z,{icon:g().s,iconStyle:{width:16,height:16,color:u.mediumIconColor},...n,onClick:()=>function(e,t){const{currentSpaceStore:n}=_().default.state;n&&I().DV({environment:t,block:e,spaceId:e.pointer.spaceId||n.id,from:"trash_sidebar"})}(e,m),ariaLabel:t.formatMessage({defaultMessage:"Restore page",id:"sidebarTrash.restorePageButton.ariaLabel"})})}),(0,p.jsx)(de().Z,{placement:G().Placement.Bottom,renderTooltip:()=>(0,p.jsx)(y()._H,{defaultMessage:"Delete from Trash",id:"sidebarTrash.permanentlyDeletePageButton.tooltip"}),render:n=>(0,p.jsx)(ee().Z,{icon:f().p,iconStyle:{width:16,height:16,color:u.mediumIconColor},...n,onClick:()=>function(e,t){I().Rn({environment:t,blocks:[e],from:"trash_sidebar"})}(e,m),ariaLabel:t.formatMessage({defaultMessage:"Delete from Trash",id:"sidebarTrash.permanentlyDeletePageButton.ariaLabel"})})})]})})};return n}));return A&&0===U.length?(0,p.jsx)(le().Z,{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,p.jsx)(Q().Z,{icon:c().y,title:(0,p.jsx)(y()._H,{defaultMessage:"Trashed pages appear here",id:"sidebarTrash.filterBy.loadingTitle"}),description:null})}):0===U.length&&D?(0,p.jsx)(le().Z,{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:M.isMobile?(0,p.jsx)(oe().Z,{title:(0,p.jsx)(y()._H,{defaultMessage:"No matches",id:"sidebarTrash.mobileFilterBy.noMatchesTitle"})}):(0,p.jsx)(Q().Z,{icon:h,title:(0,p.jsx)(y()._H,{defaultMessage:"No matches",id:"sidebarTrash.filterBy.noMatchesTitle"}),description:(0,p.jsx)(y()._H,{defaultMessage:"Try checking for typos",id:"sidebarTrash.filterBy.noMatchesDescription"})})}):0===U.length?(0,p.jsx)(le().Z,{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:M.isMobile?(0,p.jsx)(oe().Z,{title:(0,p.jsx)(y()._H,{defaultMessage:"No results",id:"sidebarTrash.mobileFilterBy.noResultsTitle"})}):(0,p.jsx)(Q().Z,{icon:f().p,title:(0,p.jsx)(y()._H,{defaultMessage:"No results",id:"sidebarTrash.filterBy.noResultsTitle"}),description:null})}):(0,p.jsxs)(o.Fragment,{children:[(0,p.jsx)(ne().ZP,{type:ne().iW.Vertical,initialFocus:void 0,sections:[{key:0,items:U,render:e=>(0,p.jsx)(le().Z,{...e})}]}),K&&(0,p.jsx)("div",{style:{height:44,display:"flex",flex:1,alignItems:"center",justifyContent:"center"},children:(0,p.jsx)(O().Z,{})}),(0,p.jsx)(se().Z,{onChange:k})]})}function we(){const e=(0,y().YB)(),t=(0,r().VK)((()=>!X().default.state.online),[]),n=(0,r().VK)((()=>{var e;return null===(e=_().default.state.currentUserStore)||void 0===e?void 0:e.id}),[]),o=(0,r().Kw)(P().default),{filter:i,teamspaceIds:s,inPageIds:l,limit:a,currentTab:d}=o;if(t)return(0,p.jsx)(le().Z,{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,p.jsx)(Q().Z,{icon:x,title:(0,p.jsx)(y()._H,{defaultMessage:"You're offline",id:"sidebarTrash.goOnline.title"}),description:(0,p.jsx)(y()._H,{defaultMessage:"Please go online to view Trash",id:"sidebarTrash.goOnline.description"})})});{const t=(0,P().L)(o,n);t.sort(),s.sort(),l.sort();const r=`${i}:${t}:${s}:${l}:${a}${d}`;return(0,p.jsx)(Re,{intl:e,requestKey:r})}}function Ze(e){let{requestStore:t}=e;const n=(0,i().O7)(),r=(0,y().YB)(),s=(0,o.useCallback)((()=>function(e,t){const n=be.indexOf(P().default.state.currentTab),o=be[n-1];void 0!==o&&V(o,e,t)}(n,t)),[n,t]),l=(0,o.useCallback)((()=>function(e,t){const n=be.indexOf(P().default.state.currentTab),o=be[n+1];void 0!==o&&V(o,e,t)}(n,t)),[n,t]),{device:a}=n;let d;return d=a.isMobile?{menuType:M().o.Modal,title:(0,p.jsx)(y()._H,{defaultMessage:"Trash",id:"sidebarTrash.menu.header"}),left:(0,p.jsx)(Ie,{}),right:(0,p.jsx)(ie().DoneMenuText,{}),rightAriaLabel:r.formatMessage(ie().mobileModalMessages.done),onClickRight:()=>Te(n),onCancel:()=>Te(n),header:(0,p.jsx)(N,{requestStore:t})}:{menuType:M().o.Popup,height:"50vh",width:414,header:(0,p.jsx)(N,{requestStore:t}),footer:(0,p.jsx)(ye,{})},(0,p.jsx)(ae().Z,{onSwipeLeft:l,onSwipeRight:s,render:e=>(0,p.jsx)(te().Z,{...d,...e,className:k().TYv,children:(0,p.jsx)(we,{})})})}function Fe(e){let{requestStore:t}=e;const n=(0,i().O7)(),o=(0,y().YB)(),r={menuType:M().o.Modal,title:(0,p.jsx)(y()._H,{defaultMessage:"Trash",id:"sidebarTrash.menu.header"}),left:(0,p.jsx)(Ie,{}),right:(0,p.jsx)(ie().DoneMenuText,{}),rightAriaLabel:o.formatMessage(ie().mobileModalMessages.done),onClickRight:()=>Te(n),onCancel:()=>Te(n),header:(0,p.jsx)(Be,{requestStore:t})};return(0,p.jsx)(te().Z,{...r,className:k().TYv,children:(0,p.jsx)(we,{})})}},435676:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(667294),i=()=>n(788860),r=n(785893);function s(e,t){const{teamStore:o,renderAsEveryoneMention:s}=e,{name:l}=(0,n(142735).VK)((()=>({name:o.getName()})),[o]);return(0,r.jsx)(n(827973).Z,{...e,icon:s?(0,n(396820).D)({width:14,height:14}):(0,r.jsx)(n(383694).p,{size:14,store:o,disabled:!0}),title:s?(0,r.jsx)(i()._H,{id:"posts.teamMenuItem.everyoneMention",defaultMessage:"@everyone"}):l,ref:t,inline:!0,caption:s?(0,r.jsx)(i()._H,{id:"posts.teamMenuItem.caption",defaultMessage:"Notifies everyone in the teamspace"}):void 0})}const l=o.forwardRef(s)},122671:(e,t,n)=>{n.d(t,{L7:()=>b,UR:()=>p,ZP:()=>h,go:()=>m});var o=n(667294),i=()=>n(219727),r=()=>n(142735),s=()=>n(846550),l=()=>n(513670),a=()=>n(352230),d=()=>n(291198),u=()=>n(94967),c=n(785893);const m="20px";let p=function(e){return e[e.Select=0]="Select",e[e.Person=1]="Person",e[e.Relation=2]="Relation",e[e.FilterValue=3]="FilterValue",e[e.Share=4]="Share",e[e.Group=5]="Group",e}({});const h=o.forwardRef((function(e,t){const{disabled:o,value:i,message:r,right:s,showClearButton:a,format:d,focus:m,dontShowBorderBottom:p,showBorder:h,style:f,onClick:g,inputAndTokenWrapRightStyle:x,tokens:C,hideInput:y,onRemoveLastToken:v,onKeyDown:S,onChange:I,focusInitial:j,focusAfterAnimation:k,preventScrollOnFocus:M,inputFullWidth:T,inputDivStyle:B,inputStyle:R,rightWrapStyle:w,type:Z,placeholder:F,onEmptySubmit:L,onSubmit:P,textarea:V,autoComplete:H,onClearButtonClick:O}=e;return(0,c.jsx)(u().Z,{debugName:"TokenInputMenuItem",capture:!o,onLeft:l().yR,onRight:l().yR,onSelectAll:l().yR,onRedo:l().yR,onUndo:l().yR,onToggleBold:l().yR,onToggleItalics:l().yR,onToggleCode:l().yR,onCut:l().yR,onCopy:l().yR,onPaste:l().yR,onKeypress:l().yR,children:(0,c.jsx)(u().Z,{debugName:"TokenInputMenuItem",capture:!o&&i.length>0,onDelete:l().yR,onBackspace:l().yR,children:(0,c.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"stretch",flex:1,minWidth:0,gap:r?4:void 0},children:[(0,c.jsx)(b,{ref:t,right:s,showClearButton:a,format:d,focus:m,dontShowBorderBottom:p,disabled:o,showBorder:h,style:f,rightWrapStyle:w,onClick:g,inputAndTokenWrapRightStyle:x,tokens:C,hideInput:y,value:i,onRemoveLastToken:v,onKeyDown:S,onChange:I,focusInitial:j,focusAfterAnimation:k,preventScrollOnFocus:M,inputFullWidth:T,inputDivStyle:B,inputStyle:R,type:Z,placeholder:F,onEmptySubmit:L,onSubmit:P,textarea:V,autoComplete:H,onClearButtonClick:O}),r&&(0,c.jsx)(n(67961).Z,{isSmall:!0,children:r})]})})})}));function f(e){return e===p.Group}function g(e,t){return{display:"flex",flexWrap:"wrap",alignItems:"flex-start",background:t?"none":e.tokenInputMenuItemBackground,cursor:"text",overflow:"hidden"}}function x(e){return{display:"flex",flexWrap:"wrap",alignItems:"flex-start",flexShrink:0,minHeight:44,borderBottom:`1px solid ${e.regularDividerColor}`,fontSize:16,background:e.popoverBackground}}function C(e){const t={desktopWrapStyle:{padding:"8px 9px 1px",width:"100%",minHeight:34,fontSize:14},inputDivDesktopStyle:{margin:"0 6px 6px 0",borderTopLeftRadius:4,borderTopRightRadius:4},inputDivDesktopFocusStyle:{}};return{[p.Select]:t,[p.Person]:t,[p.Relation]:t,[p.Group]:t,[p.FilterValue]:{desktopWrapStyle:{padding:"6px 6px 1px",boxShadow:e.inputBoxShadow,background:e.inputBackground,margin:"6px 8px 2px 8px",minHeight:30,fontSize:12,borderRadius:4},inputDivDesktopStyle:{margin:"0 6px 4px 0"},inputDivDesktopFocusStyle:{boxShadow:"rgba(35, 131, 226, 0.57) 0px 0px 0px 1px inset, rgba(35, 131, 226, 0.35) 0px 0px 0px 2px"}},[p.Share]:{desktopWrapStyle:{padding:"8px 9px 1px",width:"100%",minHeight:34,fontSize:14},inputDivDesktopStyle:{margin:"0 0 0 2px",borderTopLeftRadius:4,borderTopRightRadius:4},inputDivDesktopFocusStyle:{}}}}function y(e){let{showClearButton:t,right:o,onClearButtonClick:r,tokens:l,value:a}=e;const d=(0,s().Fg)(),u=(0,i().O7)(),{isMobile:m}=u.device;return o?(0,c.jsx)(c.Fragment,{children:o}):t&&(l.length>0||a.length>0)?(0,c.jsx)(n(154186).Z,{onClick:r,style:{flexShrink:0,flexGrow:0,borderRadius:m?24:20,marginTop:2},children:(0,n(80122).X)({width:m?16:14,height:m?16:14,fill:d.lightIconColor})}):null}function v(e,t,n,o,i){return{flexGrow:1,flexShrink:1,flexBasis:o?"100%":60,minWidth:60,width:"auto",lineHeight:m,...t.device.isMobile?{margin:"0 8px 8px 0"}:C(n)[e].inputDivDesktopStyle,...i}}const S=o.forwardRef((function(e,t){let{tokens:n,disabled:r,value:l,onRemoveLastToken:a,onKeyDown:u,onChange:m,focus:p,focusInitial:h,focusAfterAnimation:g,preventScrollOnFocus:x,format:C,inputFullWidth:y,inputDivStyle:S,inputStyle:b,type:I,placeholder:j,onEmptySubmit:k,onSubmit:M,textarea:T,autoComplete:B,inputMenuItemStore:R,onFocus:w,onBlur:Z}=e;const F=(0,s().Fg)(),L=(0,i().O7)(),P=(0,o.useCallback)((e=>{"Backspace"===e.key&&0===l.length&&a(),u&&u(e)}),[l,a,u]),V=(0,o.useCallback)((e=>{0===l.length&&k&&k(),M&&M(e)}),[l,k,M]),H=(0,o.useCallback)((()=>{R.setState({focused:!1}),null==Z||Z()}),[R,Z]),O=(0,o.useCallback)((()=>{R.setState({focused:!0}),null==w||w()}),[R,w]),D=0===n.length;return(0,c.jsx)(d().Z,{disabled:r,format:d().B.Transparent,onKeyDown:P,onChange:m,value:l,focus:p,focusInitial:h,focusAfterAnimation:g,preventScrollOnFocus:x,style:v(C,L,F,y,S),inputStyle:b||{height:L.device.isMobile?24:f(C)?20:18},size:1,ref:t,type:I,placeholder:D?j:"",onSubmit:V,onFocus:O,onBlur:H,textarea:T,autoComplete:B})})),b=o.forwardRef((function(e,t){const{right:l,showClearButton:d,format:u,focus:m,dontShowBorderBottom:p,disabled:h,showBorder:v,style:b,onClick:I,inputAndTokenWrapRightStyle:j,tokenWrapStyle:k,tokens:M,hideInput:T,value:B,onRemoveLastToken:R,onKeyDown:w,onChange:Z,focusInitial:F,focusAfterAnimation:L,preventScrollOnFocus:P,inputFullWidth:V,inputDivStyle:H,inputStyle:O,rightWrapStyle:D,type:A,placeholder:K,onEmptySubmit:_,onSubmit:U,textarea:z,autoComplete:q,onClearButtonClick:W,onFocus:N,onBlur:E}=e,Y=(0,s().Fg)(),$=(0,i().O7)(),G=(0,o.useContext)(a().p),[X,J]=o.useState(!1),Q=(0,r().qz)(void 0,n(160904).Z);(0,n(732811).K)((()=>{(m||F)&&Q.setState({focused:!0})})),(0,o.useEffect)((()=>{P&&J(!0),void 0!==m&&Q.setState({focused:m})}),[m,Q,P]);const ee=(0,r().VK)((()=>Q.state.focused),[Q]),te=(0,o.useRef)(null);(0,o.useImperativeHandle)(t,(()=>te.current),[]);const ne=(0,o.useCallback)((()=>{var e;h||(null===(e=te.current)||void 0===e||e.focus(),null==I||I())}),[h,I,te]),oe=function(e){let{environment:t,theme:n,format:o,focus:i,dontShowBorderBottom:s,disabled:l,showBorder:d,menuContext:u}=e;return(0,r().VK)((()=>{const{WindowSizeStore:e}=t;return{...t.device.isMobile?{...x(n),paddingTop:14,paddingBottom:8,paddingLeft:(null==u?void 0:u.menuType)!==a().o.Popup?e.getSafePaddingLeftCSS(16):16,paddingRight:(null==u?void 0:u.menuType)!==a().o.Popup?e.getSafePaddingRightCSS(16):16,...s&&{borderBottom:"none"}}:{...g(n,l),...C(n)[o].desktopWrapStyle},...d&&{boxShadow:"rgba(15, 15, 15, 0.1) 0px 0px 0px 1px inset"},...d&&i&&{boxShadow:"rgba(35, 131, 226, 0.57) 0px 0px 0px 1px inset, rgba(35, 131, 226, 0.35) 0px 0px 0px 2px"},...!t.device.isMobile&&i&&C(n)[o].inputDivDesktopFocusStyle}}),[l,s,t,i,o,null==u?void 0:u.menuType,d,n])}({environment:$,theme:Y,format:u,focus:m,dontShowBorderBottom:p,disabled:h,showBorder:v,menuContext:G});return!$.device.isMobile||l||d?(0,c.jsxs)(n(842574).T,{type:n(520849).Z.All,style:{...oe,flexWrap:"nowrap",...b},onClick:ne,children:[(0,c.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,...k,...l||d?j:null},children:[M,!T&&(0,c.jsx)(S,{ref:te,tokens:M,disabled:h,value:B,onRemoveLastToken:R,onKeyDown:w,onChange:Z,focus:m,focusInitial:F,focusAfterAnimation:L,preventScrollOnFocus:X,format:u,inputFullWidth:V,inputDivStyle:H,inputStyle:O,type:A,placeholder:K,onEmptySubmit:_,onSubmit:U,textarea:z,autoComplete:q,inputMenuItemStore:Q})]}),l||d?(0,c.jsx)("div",{style:{flexShrink:0,...D},children:(0,c.jsx)(y,{showClearButton:d,right:l,onClearButtonClick:W,tokens:M,value:B})}):null]}):(0,c.jsxs)("div",{style:{...oe,flexWrap:"nowrap",...b},onClick:ne,children:[(0,c.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,overflow:"hidden",marginRight:f(u)?6:0},children:[M,!T&&(0,c.jsx)(S,{ref:te,tokens:M,disabled:h,value:B,onRemoveLastToken:R,onKeyDown:w,onChange:Z,focus:m,focusInitial:F,focusAfterAnimation:L,format:u,inputFullWidth:V,inputDivStyle:H,inputStyle:O,type:A,placeholder:K,onEmptySubmit:_,onSubmit:U,textarea:z,autoComplete:q,inputMenuItemStore:Q,onFocus:N,onBlur:E})]}),(0,c.jsx)(n(69870).Z,{show:ee})]})}))},523516:(e,t,n)=>{n.d(t,{X:()=>p,Z:()=>f});var o=n(667294),i=()=>n(219727),r=()=>n(142735),s=()=>n(816512),l=()=>n(788860),a=()=>n(998901),d=()=>n(661641),u=()=>n(981583),c=n(785893);const m=o.forwardRef(((e,t)=>{const{actor:o,userTitle:d,defaultUserTitle:m="name_only",defaultUserCaption:f,useEmailAsTooltip:g,tooltip:x,tooltipPlacement:C,hoveredStyle:y,disabledFeedback:v,customUserTitleStyles:S}=e,b=(0,i().O7)(),I=(0,l().YB)(),j=(0,r().VK)((()=>o.asActor&&o.asActor.getDisplayName(I)),[o,I]),{email:k,showEmail:M}=(0,r().VK)((()=>{const e=o.asActor&&o.isUser()?o.email:void 0;return{email:e,showEmail:j!==e}}),[o,j]),T=g&&k?k:x;let B=20;b.device.isMobile&&(B=24),"email"===f&&(B=32);const R=("name_and_email"===m||"name_and_email_unless_right"===m&&!Boolean(e.right))&&void 0===f?(0,c.jsx)(h,{actor:null==o?void 0:o.asActor,customStyles:S}):(0,c.jsx)(p,{bold:"name_only_semibold"===m,customStyles:S,actor:null==o?void 0:o.asActor}),w=d??R,Z="email"===f&&M?k:void 0;let F;return(0,s().YU)(o)?F=(0,c.jsx)(n(634760).Z,{botValue:null==o?void 0:o.asActor,size:B}):(0,s().$S)(o)?F=(0,c.jsx)(u().Z,{userValue:null==o?void 0:o.asActor,size:B}):(0,s().Iq)(o)?F=(0,c.jsx)(u().Z,{userValue:void 0,size:B}):(0,n(696459).t1)(o),(0,c.jsx)(n(654133).Z,{placement:C??a().Placement.Bottom,alignment:a().Alignment.Start,textWrap:!0,render:o=>(0,c.jsx)(n(827973).Z,{...(0,n(164079).Z)(o,e),icon:F,title:w,disabledFeedback:v,className:"notranslate",right:e.right,ref:t,hoveredStyle:y,caption:Z}),disableTooltip:!T,renderTooltip:()=>T})}));function p(e){const{actor:t,bold:n,customStyles:o}=e,s=(0,i().O7)(),a=(0,l().YB)(),u=(0,r().VK)((()=>t&&t.id===s.currentUser.id),[s,t]),m=(0,r().VK)((()=>t&&t.getDisplayName(a)),[t,a]),p=n?"UIRegular-14px/Semibold":"UIRegular-14px/Regular";return u?(0,c.jsx)(l()._H,{id:"UserMenuItem.fullName.authorLabel",defaultMessage:"<author>{fullName}</author> <you>(You)</you>",values:{author:e=>(0,c.jsx)(d().q,{as:"span",styleName:p,customStyles:o,children:e}),fullName:m,you:e=>(0,c.jsx)(d().q,{as:"span",colorName:"secondary",styleName:"UIRegular-14px/Regular",customStyles:o,children:e})}}):m?(0,c.jsx)(d().q,{styleName:p,customStyles:o,children:m}):(0,c.jsx)(d().q,{styleName:p,customStyles:o,children:(0,c.jsx)(l()._H,{id:"UserMenuItem.fullName.unknownAuthorLabel",defaultMessage:"Unknown author"})})}function h(e){const{actor:t,customStyles:n}=e,o=(0,l().YB)(),i=(0,r().VK)((()=>t&&t.getDisplayName(o)),[t,o]),{email:s,showEmail:a}=(0,r().VK)((()=>{const e=t&&t.asActor&&t.isUser()?t.email:void 0;return{email:e,showEmail:i!==e}}),[t,i]);return i?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(d().q,{styleName:"UIRegular-14px/Semibold",customStyles:n,children:i}),a&&(0,c.jsx)(d().q,{styleName:"UIRegular-14px/Regular",customStyles:n,children:s})]}):(0,c.jsx)(d().q,{styleName:"UIRegular-14px/Semibold",customStyles:n,children:(0,c.jsx)(l()._H,{id:"UserMenuItem.fullName.unknownAuthorLabel",defaultMessage:"Unknown author"})})}m.displayName="UserMenuItem";const f=m},677243:(e,t,n)=>{n.d(t,{h:()=>I});n(122556),n(582845),n(250570),n(533019),n(721473),n(788208),n(22624),n(267602),n(653476),n(241792),n(667294);var o=()=>n(219727),i=()=>n(142735),r=()=>n(38883),s=()=>n(665385),l=()=>n(396136),a=()=>n(788860),d=()=>n(527278),u=()=>n(15981),c=()=>n(828946),m=()=>n(876822),p=()=>n(826955),h=()=>n(943620),f=()=>n(231219),g=()=>n(384241),x=()=>n(114755),C=()=>n(78014),y=()=>n(630029),v=n(785893);const S={token:{display:"flex",alignItems:"center"},icon:{marginRight:4}},b=(0,a().vU)({searchPages:{defaultMessage:"Search pages",id:"searchPageFilter.searchTokenFilter.tokenInput.placeholder"},selectAPage:{defaultMessage:"Select a page",id:"searchPageFilter.searchTokenFilter.resultSection.title"}});function I(e){let{mode:t,title:n,blockIds:i,onChange:r,disabled:l,focused:p,onMenuDismiss:h,onMenuOpen:f,parentStore:g}=e;const x=(0,o().O7)();return(0,v.jsx)(y().Z,{mode:t,hasItemsSelected:(null==i?void 0:i.length)>0,title:n,icon:s().j,iconStyles:B(x).recordIcon,items:i,onChange:r,focused:p,renderFilter:(e,t)=>(0,v.jsx)(R,{item:e,args:t,parentStore:g}),renderToken:(e,t)=>(0,v.jsx)(M,{item:e,handlers:t,blockIds:i,parentStore:g}),renderItemForSummary:e=>(0,v.jsx)(k,{item:e,parentStore:g}),addItemLabel:(0,v.jsx)(a()._H,{defaultMessage:"Add another page",id:"searchPageFilter.searchTokenFilter.addAPage.button"}),labelText:{title:n,tokenInputPlaceholder:d().Z.formatMessage(b.searchPages),componentDebugName:"SearchPageFilter"},performRequest:e=>async function(e,t){let{query:n,current:o}=e;const{currentSpaceStore:i}=m().default.state;if(!i)return[];const r=await c().x.searchActions.load(),s=n?(await r.searchPageIds({environment:t,query:n,limit:20,spaceId:i.id,requireEditPermissions:!1,excludeTemplates:!1,source:"ancestor_filter_page_search",boostRecentlyViewedPages:!0})).results:u().X4.state.map((e=>e.pageId)),l=new Set(o);return s.filter((e=>!l.has(e)))}(e,x),renderResultMenuItem:(e,t)=>(0,v.jsx)(T,{item:e,props:t,parentStore:g}),disabled:l,onMenuDismiss:h,onMenuOpen:f})}function j(e,t){return p().G.createChildStore(t,{table:l().iU,id:e})}function k(e){let{item:t,parentStore:n}=e;const o=j(t,n);return(0,v.jsx)(g().Z,{store:o,shouldWrap:!0,maxLength:50})}function M(e){let{item:t,handlers:n,blockIds:s,parentStore:l}=e;const a=(0,o().O7)(),d=S,u=1===s.length,c=j(t,l),m=(0,i().VK)((()=>c.getIcon()),[c]),p=(0,v.jsxs)("div",{style:d.token,children:[(0,v.jsx)(h().Z,{disabled:!0,icon:m,isEmptyPage:!1,size:20,style:d.icon}),(0,v.jsx)(g().Z,{store:c})]});return(0,v.jsx)(C().Z,{format:a.device.isMobile?r().lo.Large:r().lo.Small,value:p,showRemoveButton:!0,onClickRemove:n.onRemove,isSingle:u,shouldShrink:!0,backgroundColor:"transparent",shouldWrap:!1})}function T(e){let{item:t,props:n,parentStore:o}=e;const r=(0,i().VK)((()=>j(t,o)),[t,o]);return(0,v.jsx)(f().Z,{...n,store:r})}function B(e){return{menuItem:{minHeight:void 0,paddingTop:e.device.isMobile?12:4,paddingBottom:e.device.isMobile?12:4},menuItemTitle:{width:"100%"},labeledMenuItemTitle:{display:"inline-flex",alignItems:"center"},menuItemLabel:{marginRight:12},recordIcon:{fill:"currentColor"}}}function R(e){let{item:t,args:n,parentStore:i}=e;const{disabled:r,onRemove:s,onClick:l}=n,a=B((0,o().O7)()),d=j(t,i),u=(0,v.jsx)(x().Z,{disabled:r,onClick:s});return(0,v.jsx)(f().Z,{disabled:r,focused:!1,store:d,right:u,style:a.menuItem,desktopTitleStyle:a.menuItemTitle,onClick:l})}},237427:(e,t,n)=>{n.d(t,{Z:()=>g});n(122556),n(582845),n(250570),n(533019),n(721473),n(788208),n(22624),n(267602),n(653476),n(241792),n(667294);var o=()=>n(219727),i=()=>n(142735),r=()=>n(816512),s=()=>n(989478),l=()=>n(499110),a=()=>n(788860),d=()=>n(828946),u=()=>n(826955),c=()=>n(864832),m=()=>n(793041),p=()=>n(114755),h=()=>n(523516),f=n(785893);const g=function(e){let{mode:t,title:i,userIds:r,onChange:s,disabled:l,focused:u,onMenuDismiss:c,onMenuOpen:m,parentStore:p}=e;const h=(0,o().O7)(),g=(0,a().YB)();return(0,f.jsx)(n(630029).Z,{mode:t,title:i,icon:n(730388).f,iconStyles:S(h).recordIcon,items:r,onChange:s,disabled:l,focused:u,renderFilter:(e,t)=>(0,f.jsx)(b,{item:e,args:t,parentStore:p}),renderToken:(e,t)=>(0,f.jsx)(y,{item:e,handlers:t,userIds:r,parentStore:p}),renderItemForSummary:e=>(0,f.jsx)(C,{item:e,parentStore:p}),addItemLabel:(0,f.jsx)(a()._H,{defaultMessage:"Add a person",id:"search.filterMenu.addAPersonButton.label"}),labelText:{title:i,tokenInputPlaceholder:g.formatMessage({defaultMessage:"Search people",id:"search.filterMenu.searchPeople.placeholder"}),componentDebugName:"SearchPersonFilter"},performRequest:e=>async function(e,t){let{query:n,current:o}=e;const i=new Set(o),r=await d().x.searchActions.load(),s=await r.searchVisibleSpaceUsers({environment:t,query:n,membersOnly:!1});return s.filter((e=>!i.has(e.id))).slice(0,20).map((e=>e.id))}(e,h),renderResultMenuItem:(e,t)=>(0,f.jsx)(v,{item:e,props:t,parentStore:p}),onMenuDismiss:c,onMenuOpen:m,hasItemsSelected:(null==r?void 0:r.length)>0})};function x(e,t){const n=function(e,t){return u().U6.createChildStore(t,{table:s().KJ,id:e})}(e,t);return n.getValue()}function C(e){let{item:t,parentStore:n}=e;const o=(0,a().YB)(),r=(0,i().VK)((()=>x(t,n)),[t,n]);return(0,f.jsx)(f.Fragment,{children:(0,l().Nz)(o,r)})}function y(e){let{item:t,handlers:n,userIds:s,parentStore:l}=e;const a=(0,o().O7)(),d=1===s.length,u=(0,i().VK)((()=>x(t,l)),[t,l]);return u?(0,f.jsx)(c().ZP,{format:a.device.isMobile?m().lP.Large:m().lP.Small,showRemoveButton:!0,isSingle:d,onClickRemove:n.onRemove,actor:(0,r().m3)(u),shouldShrink:!0,style:{background:"transparent"}},t):null}function v(e){let{item:t,props:n,parentStore:o}=e;const s=(0,i().VK)((()=>x(t,o)),[t,o]);return(0,f.jsx)(h().Z,{...n,actor:(0,r().m3)(s)})}function S(e){return{menuItem:{minHeight:void 0,paddingTop:e.device.isMobile?12:4,paddingBottom:e.device.isMobile?12:4},menuItemTitle:{width:"100%"},labeledMenuItemTitle:{display:"inline-flex",alignItems:"center"},menuItemLabel:{marginRight:12},recordIcon:{marginRight:2,fill:"currentColor"}}}function b(e){let{item:t,args:n,parentStore:s}=e;const{disabled:l,onRemove:a,onClick:d}=n,u=S((0,o().O7)()),c=(0,i().VK)((()=>x(t,s)),[t,s]),m=(0,f.jsx)(p().Z,{disabled:l,onClick:a});return(0,f.jsx)(h().Z,{disabled:l,focused:!1,actor:(0,r().m3)(c),right:m,style:u.menuItem,desktopTitleStyle:u.menuItemTitle,onClick:d},t)}},543771:(e,t,n)=>{n.d(t,{Z:()=>S});n(122556),n(582845),n(250570),n(533019),n(721473),n(788208),n(22624),n(267602),n(653476),n(30005),n(241792);var o=n(667294),i=()=>n(219727),r=()=>n(142735),s=()=>n(35e3),l=()=>n(306164),a=()=>n(899133),d=()=>n(788860),u=()=>n(91502),c=()=>n(828946),m=()=>n(876822),p=()=>n(826955),h=()=>n(700696),f=()=>n(943620),g=()=>n(793041),x=()=>n(114755),C=()=>n(435676),y=()=>n(630029),v=n(785893);function S(e){let{mode:t,title:n,teamIds:o,onChange:r,disabled:l,focused:p,onMenuDismiss:f,onMenuOpen:g,parentStore:x}=e;const C=(0,i().O7)(),S=(0,d().YB)(),b=(0,a().iY)(o);return(0,v.jsx)(y().Z,{mode:t,title:n,icon:s().I,iconStyles:M(C).recordIcon,items:b||[],onChange:r,disabled:l,focused:p,renderFilter:(e,t)=>(0,v.jsx)(T,{item:e,args:t,parentStore:x}),renderToken:(e,t)=>(0,v.jsx)(k,{item:e,handlers:t,teamIds:o,parentStore:x}),renderItemForSummary:e=>(0,v.jsx)(I,{item:e,parentStore:x}),addItemLabel:(0,v.jsx)(d()._H,{defaultMessage:"Add a teamspace",id:"search.filterMenu.addATeamButton.label"}),labelText:{title:n,tokenInputPlaceholder:S.formatMessage({defaultMessage:"Search teamspaces",id:"search.filterMenu.searchTeams.placeholder"}),componentDebugName:"SearchTeamFilter"},performRequest:e=>async function(e,t){var n;let{query:o,current:i}=e;const r=new Set(i),s=m().default.state.currentSpaceViewStore,l=m().default.state.currentSpaceStore,a=null===(n=m().default.state.currentUserStore)||void 0===n?void 0:n.id;if(!s||!l||!a)return[];if(!o){const e=new Set(s.getTeamsStores().map((e=>e.id)));if(h().default.state.teams.map((e=>e.id)).forEach((t=>e.add(t))),e.size>0)return[...e]}const d=await(0,u().qX)({environment:t,spaceStore:l,currentUserId:a}),p=await c().x.searchActions.load();return(await p.searchTeams({query:o,spaceViewStore:s,teamStores:d})).filter((e=>!r.has(e.id))).slice(0,20).map((e=>e.id))}(e,C),renderResultMenuItem:(e,t)=>(0,v.jsx)(j,{item:e,props:t,parentStore:x}),onMenuDismiss:f,onMenuOpen:g,hasItemsSelected:Boolean(b&&(null==b?void 0:b.length)>0)})}function b(e,t){return p().zX.createChildStore(t,{table:l().e0,id:e})}function I(e){let{item:t,parentStore:n}=e;return(0,v.jsx)(v.Fragment,{children:b(t,n).getName()})}function j(e){let{item:t,props:n,parentStore:i}=e;const r=b(t,i);return(0,o.createElement)(C().Z,{...n,key:t,teamStore:r})}function k(e){let{item:t,handlers:n,teamIds:o,parentStore:s}=e;const l=(0,i().O7)(),d=(0,a().iY)(o),u=1===(null==d?void 0:d.length),c=(0,r().VK)((()=>b(t,s)),[t,s]),m=(0,r().VK)((()=>c.getName()),[c]),p=(0,r().VK)((()=>function(e){const t=e.getIcon();return function(e){return(0,v.jsx)(f().Z,{disabled:!0,icon:t,isEmptyPage:!1,size:e})}}(c)),[c]);return c?(0,v.jsx)(g().ZP,{format:l.device.isMobile?g().lP.Large:g().lP.Small,showRemoveButton:!0,isSingle:u,onClickRemove:n.onRemove,renderAvatar:p,title:m,style:{background:"transparent"}}):null}function M(e){return{menuItem:{minHeight:void 0,paddingTop:e.device.isMobile?12:4,paddingBottom:e.device.isMobile?12:4},menuItemTitle:{width:"100%"},labeledMenuItemTitle:{display:"inline-flex",alignItems:"center"},menuItemLabel:{marginRight:12},recordIcon:{marginRight:6,fill:"currentColor"}}}function T(e){let{item:t,args:n,parentStore:o}=e;const{disabled:r,onRemove:s,onClick:l}=n,a=M((0,i().O7)()),d=b(t,o),u=(0,v.jsx)(x().Z,{disabled:r,onClick:s});return(0,v.jsx)(C().Z,{disabled:r,focused:!1,teamStore:d,right:u,style:a.menuItem,desktopTitleStyle:a.menuItemTitle,onClick:l},t)}},630029:(e,t,n)=>{n.d(t,{z:()=>L,Z:()=>P});n(267602),n(653476),n(241792);var o=n(667294),i=()=>n(219727),r=()=>n(846550),s=()=>n(788860),l=()=>n(513670),a=()=>n(641506),d=()=>n(998901),u=()=>n(104088),c=()=>n(265640),m=()=>n(827973),p=()=>n(967092),h=()=>n(906651),f=()=>n(388284),g=()=>n(122159),x=()=>n(142735),C=()=>n(799891),y=()=>n(792409),v=()=>n(352230),S=()=>n(692304),b=()=>n(255577),I=()=>n(838367),j=()=>n(470386),k=()=>n(122671),M=n(785893);const T={input:{marginTop:8,marginLeft:8,marginRight:8,boxSizing:"border-box",width:"auto"},menu:{width:250,maxHeight:"40vh"},inputMenu:{maxHeight:"20vh"}};const B=function(e){let{labelText:t,value:r,renderResultMenuItem:s,onConfirm:l,items:a,performRequest:d,onDismiss:u,onChange:c,renderToken:m,onRemove:p,onClear:h,disabled:f}=e;const g=(0,i().O7)(),C=(0,x().qz)(void 0,S().Z),y=(0,x().qz)(void 0,n(853648).Z),v=(0,o.useCallback)(((e,n,o)=>(0,M.jsx)(F,{error:e,data:n,ready:o,labelText:t,value:r,renderResultMenuItem:s,onConfirm:l,menuListStore:C})),[t,r,s,l,C]),b={query:r,current:a};return(0,M.jsx)(n(198829).Z,{...Z(g,u,t,r,a,c,m,p,h,f),children:(0,M.jsx)(n(154439).Z,{debounce:100,requestStore:y,request:b,performRequest:d,render:v})})};function R(e){const{device:t}=e;return t.isMobile}function w(e){let{labelText:t,value:n,items:o,disabled:r,onChange:s,renderToken:a,onRemove:d,onClear:u}=e;const c=(0,i().O7)(),m=o.map((e=>a(e,{onRemove:()=>d(e)})));return(0,M.jsx)(k().ZP,{focus:!R(c)||void 0,focusAfterAnimation:!0,format:k().UR.FilterValue,tokens:m,placeholder:t.tokenInputPlaceholder,onRemoveLastToken:()=>function(e,t){const n=l().Z$(e);n&&t(n)}(o,d),onClearButtonClick:u,value:n,onChange:s,showClearButton:!0,disabled:Boolean(r),style:T.inputMenu})}function Z(e,t,n,o,i,r,s,l,a,d){if(R(e)){return{menuType:v().o.Modal,title:n.title,right:(0,M.jsx)(j().DoneMenuText,{}),onClickRight:t,header:(0,M.jsx)(w,{labelText:n,value:o,items:i,disabled:d,onChange:r,renderToken:s,onRemove:l,onClear:a})}}return{menuType:v().o.Popup,onClickOutside:t,header:(0,M.jsx)(w,{labelText:n,value:o,items:i,disabled:d,onChange:r,renderToken:s,onRemove:l,onClear:a}),...T.menu}}function F(e){let{error:t,data:n,ready:i,labelText:r,value:l,renderResultMenuItem:a,onConfirm:d,menuListStore:u}=e;const c=(0,x().qz)(u,S().Z),m=(0,o.useCallback)((e=>(0,M.jsx)(f().Z,{...e,title:r.resultSectionTitle,loading:!i})),[r,i]);if(t)return C().log({level:"error",from:r.componentDebugName,type:"requestFailed",error:(0,y().Ui)(t),data:{miscDataToConvertToString:{query:l}}}),(0,M.jsx)(m,{children:(0,M.jsx)(I().Z,{title:(0,M.jsx)(s()._H,{defaultMessage:"Something went wrong.",id:"search.inputMenu.errorMessage"})})});if(!n)return(0,M.jsx)(m,{children:(0,M.jsx)(I().Z,{title:(0,M.jsx)(s()._H,{defaultMessage:"Loadingâ€¦",id:"search.inputMenu.loading.message"})})});if(n&&0===n.length)return(0,M.jsx)(m,{children:(0,M.jsx)(I().Z,{title:(0,M.jsx)(s()._H,{defaultMessage:"No results found.",id:"search.inputMenu.noResults.message"})})});const p={key:"results",items:n.map((e=>function(e,t,n){return{key:e,action:()=>n(e),render:n=>t(e,n)}}(e,a,d))),render:m};return(0,M.jsx)(b().ZP,{type:b().iW.Vertical,store:c,initialFocus:0,sections:[p]})}let L=function(e){return e.Button="Button",e.Section="Section",e.Pill="Pill",e}({});function P(e){const{items:t,keepInputOnItemConfirm:n,mode:r,onChange:s,onMenuDismiss:a,onMenuOpen:d}=e,{device:u}=(0,i().O7)(),c=(0,o.useRef)(),m=(0,o.useRef)(null),[p,h]=(0,o.useState)(!1),[f,g]=(0,o.useState)(""),[x,C]=(0,o.useState)(void 0),[y,v]=(0,o.useState)(void 0);function S(e,t){c.current=requestAnimationFrame((e=>{if(m&&m.current&&(v(m.current.getBoundingClientRect()),t)){const{shouldOpenMenu:e,nextIndexToReplace:n}=t;e&&(h(!0),C(n))}}))}(0,o.useEffect)((()=>(window.addEventListener("resize",S),()=>{window.removeEventListener("resize",S),c.current&&(cancelAnimationFrame(c.current),c.current=void 0)})),[]);const b=t.length;function I(e){k(),h(!1),C(void 0),null==a||a(e)}function j(e){g(e.target.value)}function k(){g("")}function T(){s([])}const B=(0,o.useCallback)((e=>{const n=t.filter((t=>t!==e));s(n)}),[t,s]),R=(0,o.useCallback)((e=>{if("number"==typeof x&&x<t.length){const n=t.slice(0,x).concat(e,t.slice(x+1));s(n)}else if(t.includes(e)&&L.Pill)B(e);else{const n=t.concat(e);s(l().jj(n))}n||k()}),[B,x,t,n,s]);return(0,o.useEffect)((()=>{S()}),[b,r]),u.isMobile?(0,M.jsx)(z,{inputTemporaryValue:f,isMenuOpen:p,onClearInput:k,onClearItems:T,onItemConfirm:R,onMenuClose:I,onMenuInputChange:j,onMenuOpen:function(){h(!0)},onRemove:B,searchTokenFilterProps:e}):(0,M.jsx)(O,{hasItemsSelected:r===L.Pill&&e.hasItemsSelected,inputTemporaryValue:f,isMenuOpen:p,onClearInput:k,onClearItems:T,onItemConfirm:R,onMenuClose:I,onMenuInputChange:j,onMenuOpen:function(e){null==d||d(),S(0,{shouldOpenMenu:!0,nextIndexToReplace:e})},onRemove:B,popupOriginRect:y,ref:m,searchTokenFilterProps:e})}function V(e){return{buttonMenuItem:{color:e.mediumTextColor},appendListItemButton:{color:e.lightTextColor}}}function H(e,t){return{menuItem:{minHeight:void 0,paddingTop:e.device.isMobile?12:4,paddingBottom:e.device.isMobile?12:4},menuItemWrapper:{display:"flex"},sectionMenuItem:{display:"flex"},appendListItemButton:{minHeight:void 0,paddingTop:4,paddingBottom:4,fontSize:a().yv(e,"UIRegular")},icon:{height:16,width:16,marginRight:"Pill"===t?6:-2,fill:"currentColor"},iconSmall:{height:12,width:12},summary:{display:"inline"},summaryItem:{display:"inline"}}}const O=(0,o.forwardRef)((function(e,t){const{hasItemsSelected:r,inputTemporaryValue:s,isMenuOpen:l,onClearInput:a,onClearItems:c,onItemConfirm:m,onMenuClose:h,onMenuInputChange:f,onMenuOpen:g,onRemove:x,popupOriginRect:C,searchTokenFilterProps:y}=e,{addItemLabel:v,disabled:S,focused:b,icon:I,iconStyles:j,items:k,mode:T,renderFilter:B,title:R}=y,w=(0,i().O7)(),Z=S||l,F=(0,o.useCallback)((()=>{g()}),[g]);return(0,M.jsxs)(n(390561).Z,{title:T===L.Section?R:void 0,marginAfter:T===L.Section,style:H(w,T).sectionMenuItem,children:[T!==L.Pill&&(0,M.jsx)(D,{disableFilters:Z,items:k,onClick:g,onRemove:x,renderFilter:B}),T===L.Section?(0,M.jsx)(A,{addItemLabel:v,disabled:S,isMenuOpen:l,mode:T,onClick:F,ref:t}):T===L.Button?(0,M.jsx)(K,{disabled:S,focused:b,icon:I,isMenuOpen:l,mode:T,onClick:F,ref:t,title:R}):T===L.Pill?(0,M.jsx)(_,{disabled:S,hasItemsSelected:r,icon:I,iconStyles:j,onClick:F,ref:t,title:R}):void(0,n(696459).t1)(T),(0,M.jsx)(p().ZP,{alignmentToOrigin:d().Alignment.Start,keepFocus:!0,onDismiss:h,open:l,originRect:C,placementToOrigin:d().Placement.Bottom,popupType:u().k.Popup,preventScaleTransition:!0,render:()=>(0,M.jsx)(q,{searchTokenFilterProps:y,inputTemporaryValue:s,onMenuInputChange:f,onClearInput:a,onClearItems:c,onItemConfirm:m,onMenuClose:h,onRemove:x})})]})}));function D(e){const{disableFilters:t,items:n,onClick:i,onRemove:r,renderFilter:s}=e,l=(0,o.useMemo)((()=>n.map(((e,n)=>(0,M.jsx)("li",{children:s(e,{disabled:t,onClick:()=>i(n),onRemove:()=>r(e)})},`${e}_${n}`)))),[t,n,i,r,s]);return(0,M.jsx)("ul",{style:a().mK,children:l})}const A=(0,o.forwardRef)((function(e,t){const{addItemLabel:o,disabled:s,isMenuOpen:l,mode:a,onClick:d}=e,u=H((0,i().O7)(),a),c=(0,r().yK)(V,[V]);return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("div",{ref:t,style:u.menuItemWrapper}),(0,M.jsx)(m().Z,{disabled:s||l,focused:!1,icon:(0,n(159732).R)(u.iconSmall),onClick:d,style:{...u.appendListItemButton,...c.appendListItemButton},title:o})]})})),K=(0,o.forwardRef)((function(e,t){const{disabled:n,focused:o,icon:s,isMenuOpen:l,mode:a,onClick:d,title:u}=e,c=H((0,i().O7)(),a),p=(0,r().yK)(V,[V]),h={...c.menuItem,...p.buttonMenuItem};return(0,M.jsx)("div",{ref:t,style:c.menuItemWrapper,children:(0,M.jsx)(m().Z,{disabled:n||l,focused:o,icon:s(c.icon),onClick:d,style:h,title:u})})})),_=(0,o.forwardRef)((function(e,t){const{disabled:o,hasItemsSelected:r,icon:s,iconStyles:l,onClick:a,title:d}=e,u=H((0,i().O7)(),L.Pill);return(0,M.jsx)("div",{ref:t,style:u.menuItemWrapper,children:(0,M.jsx)(n(61738).Z,{on:r,icon:s({...u.icon,...l}),title:(0,M.jsx)("span",{children:d}),onClick:a,wrapStyle:{opacity:o?.4:1}})})}));function U(e){const{disableFilters:t,items:n,mode:o,onClickClear:r,onMenuOpen:s,renderItemForSummary:l,title:d}=e,u=H((0,i().O7)(),o),c={...a().mK,...u.summary},m=n.length-1,p=(0,M.jsx)("ul",{style:c,children:n.map(((e,t)=>(0,M.jsxs)("li",{style:u.summaryItem,children:[l(e),t!==m&&","," "]},e)))});return(0,M.jsx)(g().Z,{disabled:t,label:d,onClick:s,onClickClear:r,title:p})}function z(e){const{inputTemporaryValue:t,isMenuOpen:n,onClearInput:o,onClearItems:r,onItemConfirm:s,onMenuClose:l,onMenuInputChange:a,onMenuOpen:d,onRemove:c,searchTokenFilterProps:h}=e,{mode:f,disabled:g,title:x,items:C,renderItemForSummary:y,icon:v}=h,S=H((0,i().O7)(),f),b=g||n,I=f===L.Section?(0,M.jsx)(U,{disableFilters:b,items:C,mode:f,onClickClear:r,onMenuOpen:d,renderItemForSummary:y,title:x}):(0,M.jsx)(m().Z,{disabled:b,focused:!1,icon:v({...S.icon}),onClick:d,title:x});return(0,M.jsx)(p().ZP,{keepFocus:!0,onDismiss:l,open:n,origin:I,popupType:u().k.SlideUp,render:()=>(0,M.jsx)(q,{inputTemporaryValue:t,onClearInput:o,onClearItems:r,onItemConfirm:s,onMenuClose:l,onMenuInputChange:a,onRemove:c,searchTokenFilterProps:h})})}function q(e){const{inputTemporaryValue:t,onClearInput:n,onClearItems:o,onItemConfirm:i,onMenuClose:r,onMenuInputChange:l,onRemove:a,searchTokenFilterProps:d}=e,{renderToken:u,renderFooter:m,allowApplyBatchSelection:p}=d;return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(B,{...d,onChange:l,onClear:()=>{n(),o()},onConfirm:i,onDismiss:r,onRemove:a,renderToken:u,value:t}),m&&(0,M.jsxs)(f().Z,{style:{padding:6,justifyContent:"space-between",display:"flex",flexDirection:"row"},topBorder:!0,children:[(0,M.jsx)(c().D,{onClick:o,children:(0,M.jsx)(s()._H,{id:"searchTokenFilter.clearButton",defaultMessage:"Clear"})}),p&&(0,M.jsx)(h().Z,{onClick:()=>{r("applyButton")},children:(0,M.jsx)(s()._H,{defaultMessage:"Apply",id:"searchTokenFilter.applyButton"})})]})]})}},122159:(e,t,n)=>{n.d(t,{Z:()=>a});n(667294);var o=()=>n(219727),i=()=>n(707513),r=()=>n(471645),s=()=>n(114755),l=n(785893);const a=function(e){const{disabled:t,label:i,title:r,onClick:s,isToggle:a,isToggleActive:c,onClickClear:m,...p}=e,h=(0,n(846550).Fg)(),f=(0,o().O7)(),g=function(e){return{menuItemLabel:{color:e.lightTextColor}}}(h),x=d(f),C=(0,l.jsx)("span",{style:g.menuItemLabel,children:i});return(0,l.jsx)(n(827973).Z,{focused:!1,...p,inline:a,disabled:t,icon:C,title:r,right:(0,l.jsx)(u,{disabled:!!t,isToggle:!!a,isToggleActive:!!c,onClick:s,onClickClear:m}),onClick:s,dontShrinkIcon:!0,dontShrinkRight:!0,shouldWrapTitle:!0,style:x.menuItem,desktopIconStyle:x.menuItemLabel})};function d(e){return{menuItem:{background:void 0,minHeight:void 0,fontSize:e.device.isMobile?i().JB.UISmall.mobile:i().JB.UIRegular.desktop,paddingTop:e.device.isMobile?12:4,paddingBottom:e.device.isMobile?12:4},labeledMenuItemTitle:{display:"inline-flex",alignItems:"center"},menuItemLabel:{marginTop:0},rightWrapper:{display:"flex",alignItems:"center",marginTop:"-50%",marginBottom:"-50%",height:44}}}function u(e){let{disabled:t,isToggle:n,isToggleActive:i,onClick:a,onClickClear:u=(()=>{})}=e;const c=d((0,o().O7)()).rightWrapper;return n?(0,l.jsx)("div",{style:c,children:(0,l.jsx)(r().Z,{on:!!i,onClick:a})}):(0,l.jsx)(s().Z,{disabled:t,onClick:u})}},390561:(e,t,n)=>{n.d(t,{Z:()=>i});n(667294);var o=n(785893);const i=function(e){const t={desktopTitleStyle:{marginBottom:4},marginAfter:{marginBottom:16}},{title:i,marginAfter:r,desktopStyle:s,desktopTitleStyle:l,...a}=e,d=(r||s)&&{...r&&t.marginAfter,...s},u=l?{...t.desktopTitleStyle,...l}:t.desktopTitleStyle;return(0,o.jsx)(n(388284).Z,{isTitleUppercase:!0,disableDesktopPadding:!0,enableActionSheetTitle:!0,desktopStyle:d,desktopTitleStyle:u,shouldShowBottomDivider:!1,title:i,...a})}},228772:(e,t,n)=>{n.d(t,{r:()=>r});var o=()=>n(142735),i=()=>n(876822);function r(){return(0,o().VK)((()=>i().default.state.currentSpaceStore),[])}},396820:(e,t,n)=>{n.d(t,{D:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("megaphone",{viewBox:"0 0 64 64",svg:(0,o.jsx)("path",{d:"m54,10v40h-4l-20-10h-4l4,16h-10l-4-16c-4.94,0-8-3.06-8-8v-4c0-4.94,3.06-8,8-8h14l20-10h4Z"})})},35e3:(e,t,n)=>{n.d(t,{I:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("openTeamSearch",{viewBox:"0 0 16 14",svg:(0,o.jsx)("path",{d:"M9.506 13.342h4.447c.348 0 .621-.11.82-.328.2-.22.3-.516.3-.891V4.852c0-.375-.1-.67-.3-.885-.199-.219-.472-.328-.82-.328H9.922v1.136h3.709c.101 0 .178.026.228.077.051.05.076.127.076.228v6.815c0 .101-.025.177-.076.228-.05.05-.127.076-.228.076H9.506v1.143zm2.28-6.358h.925c.129 0 .193-.064.193-.193v-.896c0-.133-.064-.2-.193-.2h-.926c-.125 0-.187.067-.187.2v.896c0 .129.062.193.187.193zm0 2.168h.925c.129 0 .193-.066.193-.199v-.896c0-.133-.064-.2-.193-.2h-.926c-.125 0-.187.067-.187.2v.896c0 .133.062.2.187.2zm0 2.163h.925c.129 0 .193-.067.193-.2v-.896c0-.13-.064-.194-.193-.194h-.926c-.125 0-.187.065-.187.194v.896c0 .133.062.2.187.2zm-10.864.808c0 .375.1.672.299.89.199.22.474.329.826.329H9.44c.348 0 .621-.11.82-.328.204-.22.305-.516.305-.891V1.928c0-.38-.101-.676-.304-.89-.2-.22-.473-.329-.82-.329H2.046c-.352 0-.627.11-.826.328-.2.215-.3.512-.3.89v10.196zm1.142-.228V2.162c0-.105.026-.183.077-.234.05-.051.127-.076.228-.076h6.75c.102 0 .178.025.229.076.05.05.076.129.076.234v9.733c0 .101-.026.177-.076.228-.051.05-.127.076-.229.076H2.37c-.101 0-.178-.025-.228-.076-.051-.05-.077-.127-.077-.228zm1.588.85h.891v-1.946c0-.117.06-.176.182-.176h2.039c.12 0 .181.059.181.176v1.945h.89V10.5c0-.25-.058-.435-.175-.557-.117-.125-.295-.187-.533-.187H4.36c-.238 0-.416.062-.533.187-.117.122-.176.307-.176.557v2.244zm.17-8.362h1.12c.156 0 .234-.078.234-.235v-1.09c0-.156-.078-.234-.235-.234H3.822c-.148 0-.222.078-.222.235v1.09c0 .156.074.234.222.234zm2.719 0h1.12c.152 0 .228-.078.228-.235v-1.09c0-.156-.077-.234-.229-.234H6.541c-.152 0-.229.078-.229.235v1.09c0 .156.077.234.229.234zM3.822 6.627h1.12c.156 0 .234-.078.234-.234V5.309c0-.157-.078-.235-.235-.235H3.822c-.148 0-.222.078-.222.235v1.084c0 .156.074.234.222.234zm2.719 0h1.12c.152 0 .228-.078.228-.234V5.309c0-.157-.077-.235-.229-.235H6.541c-.152 0-.229.078-.229.235v1.084c0 .156.077.234.229.234zm-2.719 2.25h1.12c.156 0 .234-.08.234-.24V7.553c0-.157-.078-.235-.235-.235H3.822c-.148 0-.222.078-.222.235v1.084c0 .16.074.24.222.24zm2.719 0h1.12c.152 0 .228-.08.228-.24V7.553c0-.157-.077-.235-.229-.235H6.541c-.152 0-.229.078-.229.235v1.084c0 .16.077.24.229.24z"})})},899548:(e,t,n)=>{n.d(t,{R:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("search",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M.281 6.438c0-.875.164-1.696.492-2.461a6.484 6.484 0 011.375-2.032A6.237 6.237 0 016.64.078 6.2 6.2 0 019.11.57c.77.328 1.447.787 2.03 1.375a6.374 6.374 0 011.368 2.032c.333.765.5 1.586.5 2.46 0 .688-.107 1.342-.32 1.961a6.28 6.28 0 01-.868 1.696l3.563 3.578c.11.104.19.226.242.367.057.14.086.29.086.445 0 .22-.05.417-.149.594a1.122 1.122 0 01-1 .57c-.156 0-.307-.028-.453-.086a1.058 1.058 0 01-.382-.25l-3.586-3.585c-.5.333-1.047.596-1.641.789a6.089 6.089 0 01-1.86.28 6.237 6.237 0 01-2.468-.491 6.4 6.4 0 01-2.024-1.367A6.509 6.509 0 01.773 8.913a6.256 6.256 0 01-.492-2.476zm1.664 0c0 .65.12 1.26.36 1.828a4.775 4.775 0 001.015 1.5c.433.427.933.763 1.5 1.007a4.548 4.548 0 001.82.368c.652 0 1.261-.123 1.829-.368a4.747 4.747 0 002.508-2.507 4.567 4.567 0 00.367-1.829c0-.645-.123-1.252-.367-1.82a4.776 4.776 0 00-1.016-1.5A4.578 4.578 0 008.469 2.11a4.567 4.567 0 00-1.828-.367c-.646 0-1.253.123-1.82.367a4.667 4.667 0 00-1.5 1.008c-.433.432-.772.932-1.016 1.5a4.633 4.633 0 00-.36 1.82z"})})},665385:(e,t,n)=>{n.d(t,{j:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("searchInPage",{viewBox:"0 0 12 14",svg:(0,o.jsx)("path",{d:"M2.877 13.365h6.24c.63 0 1.104-.164 1.424-.492.32-.324.48-.8.48-1.43V6.13c0-.274-.015-.504-.046-.691a1.531 1.531 0 00-.182-.522 2.185 2.185 0 00-.387-.498l-3.07-3.123a2.11 2.11 0 00-.48-.38 1.528 1.528 0 00-.51-.183A3.464 3.464 0 005.7.68H2.877c-.629 0-1.104.164-1.424.492-.32.324-.48.8-.48 1.43v8.841c0 .633.16 1.112.48 1.436.32.324.795.486 1.424.486zm.094-1.154c-.282 0-.492-.072-.633-.217-.14-.144-.211-.351-.211-.621V2.678c0-.27.07-.479.21-.627.142-.149.354-.223.64-.223h2.496V5.04c0 .418.101.73.304.938.207.207.52.31.938.31h3.158v5.086c0 .27-.07.477-.21.621-.142.145-.354.217-.64.217H2.971zm3.855-6.938c-.12 0-.209-.027-.263-.082-.051-.054-.077-.142-.077-.263V1.986l3.229 3.287H6.826z"})})},112955:(e,t,n)=>{n.d(t,{p:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("trashSmall",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M5.31055 14.3398C4.85742 14.3398 4.49414 14.2129 4.2207 13.959C3.95117 13.7051 3.80664 13.3516 3.78711 12.8984L3.38867 4.45508H2.74414C2.59961 4.45508 2.47656 4.4043 2.375 4.30273C2.27344 4.20117 2.22266 4.07812 2.22266 3.93359C2.22266 3.79297 2.27344 3.67383 2.375 3.57617C2.47656 3.47461 2.59961 3.42383 2.74414 3.42383H13.2617C13.4062 3.42383 13.5273 3.47266 13.625 3.57031C13.7266 3.66797 13.7773 3.78906 13.7773 3.93359C13.7773 4.07812 13.7266 4.20117 13.625 4.30273C13.5273 4.4043 13.4062 4.45508 13.2617 4.45508H12.6172L12.2188 12.8926C12.1992 13.3457 12.0527 13.6992 11.7793 13.9531C11.5059 14.2109 11.1445 14.3398 10.6953 14.3398H5.31055ZM5.42773 13.3027H10.5723C10.7363 13.3027 10.8711 13.248 10.9766 13.1387C11.082 13.0332 11.1387 12.8926 11.1465 12.7168L11.5273 4.45508H4.45508L4.85352 12.7168C4.86133 12.8887 4.91797 13.0293 5.02344 13.1387C5.12891 13.248 5.26367 13.3027 5.42773 13.3027ZM6.27734 12.3535C6.15625 12.3535 6.05859 12.3203 5.98438 12.2539C5.91016 12.1836 5.87109 12.0898 5.86719 11.9727L5.69141 5.83203C5.6875 5.71875 5.72266 5.62695 5.79688 5.55664C5.87109 5.48242 5.96875 5.44531 6.08984 5.44531C6.21094 5.44531 6.30859 5.48047 6.38281 5.55078C6.45703 5.62109 6.49414 5.71289 6.49414 5.82617L6.67578 11.9668C6.67578 12.084 6.63867 12.1777 6.56445 12.248C6.49414 12.3184 6.39844 12.3535 6.27734 12.3535ZM8 12.3535C7.87891 12.3535 7.7793 12.3184 7.70117 12.248C7.62695 12.1777 7.58984 12.0859 7.58984 11.9727V5.83203C7.58984 5.71875 7.62695 5.62695 7.70117 5.55664C7.7793 5.48242 7.87891 5.44531 8 5.44531C8.125 5.44531 8.22461 5.48242 8.29883 5.55664C8.37695 5.62695 8.41602 5.71875 8.41602 5.83203V11.9727C8.41602 12.0859 8.37695 12.1777 8.29883 12.248C8.22461 12.3184 8.125 12.3535 8 12.3535ZM9.72852 12.3535C9.60352 12.3535 9.50391 12.3184 9.42969 12.248C9.35938 12.1777 9.32617 12.084 9.33008 11.9668L9.50586 5.83203C9.50977 5.71484 9.54883 5.62109 9.62305 5.55078C9.69727 5.48047 9.79297 5.44531 9.91016 5.44531C10.0352 5.44531 10.1328 5.48242 10.2031 5.55664C10.2773 5.62695 10.3125 5.71875 10.3086 5.83203L10.1328 11.9727C10.1289 12.0898 10.0898 12.1836 10.0156 12.2539C9.94141 12.3203 9.8457 12.3535 9.72852 12.3535ZM5.33984 3.81055V2.54492C5.33984 2.0957 5.47461 1.74609 5.74414 1.49609C6.01758 1.24219 6.39648 1.11523 6.88086 1.11523H9.10742C9.5918 1.11523 9.9707 1.24219 10.2441 1.49609C10.5176 1.74609 10.6543 2.0957 10.6543 2.54492V3.81055H9.57031V2.59766C9.57031 2.44922 9.52148 2.33008 9.42383 2.24023C9.32617 2.14648 9.19531 2.09961 9.03125 2.09961H6.95703C6.79688 2.09961 6.66797 2.14648 6.57031 2.24023C6.47266 2.33008 6.42383 2.44922 6.42383 2.59766V3.81055H5.33984Z"})})}}]);