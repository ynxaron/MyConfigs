"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[83962],{128448:(e,t,n)=>{n.d(t,{Z:()=>a});n(667294);var i=()=>n(707513),o=()=>n(352230),r=()=>n(448419),s=n(785893);const a=function(e){let{emailAddress:t,disabled:a,accountActions:l,prefix:c}=e;const d=(0,n(219727).O7)(),{device:u}=d,p=(0,n(142735).qz)(void 0,n(529048).Z);let g;g=u.isMobile?{menuType:o().o.ActionSheet}:{menuType:o().o.Popup};const m=(0,n(846550).yK)((e=>({container:{height:u.isMobile?24:20,marginTop:c?1:u.isMobile?20:8,marginLeft:12,marginRight:12,display:"flex",alignItems:"center",justifyContent:"space-between",color:e.mediumTextColor,transition:"opacity 150ms ease"},text:{fontSize:(0,n(641506).yv)(d,"UISmall"),lineHeight:i().Nv.UISmall.desktop,fontWeight:i().Ue.medium,marginRight:6},button:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:u.isMobile?24:20,height:u.isMobile?24:20,borderRadius:4},buttonIcon:{width:u.isMobile?18:12,height:u.isMobile?18:12},prefix:{textAlign:"right",height:u.isMobile?16:18,marginTop:u.isMobile?8:4,marginLeft:12,marginRight:18,color:e.mediumTextColor,transition:"opacity 150ms ease"}})),[u.isMobile,d,c]);return(0,s.jsxs)(s.Fragment,{children:[c&&(0,s.jsx)("div",{style:m.prefix,children:c}),(0,s.jsxs)("div",{style:m.container,children:[(0,s.jsx)(n(469203).s,{style:m.text,children:t}),(0,s.jsx)(r().ZP,{popupType:u.isMobile?r().Z4.SlideUp:r().Z4.Popup,buttonPopupStore:p,renderOrigin:e=>{if(!a)return(0,s.jsx)(n(154186).Z,{...e,style:m.button,children:(0,n(641772).o)(m.buttonIcon)})},render:()=>(0,s.jsx)(n(198829).Z,{...g,children:(0,s.jsx)(n(149809).Z,{sections:[{key:"option section",render:e=>(0,s.jsx)(n(388284).Z,{...e}),actions:l}],context:{environment:d,blocks:[],publicEditMode:void 0}})})})]})]})}},837341:(e,t,n)=>{n.d(t,{r:()=>r});var i=()=>n(677559);const o=new(i().Ss)("permissionsInviteWithModal",(async()=>await Promise.all([n.e(62743),n.e(52774),n.e(44832),n.e(39938),n.e(84885),n.e(90698),n.e(37358),n.e(7312),n.e(5242),n.e(31189),n.e(90424),n.e(69343),n.e(81580),n.e(84325),n.e(2933),n.e(94556),n.e(78701),n.e(38804),n.e(17100),n.e(4387),n.e(11189),n.e(53329),n.e(71896),n.e(72586),n.e(53335),n.e(46616),n.e(54940),n.e(20224),n.e(46546),n.e(98721),n.e(50471),n.e(49498),n.e(2971),n.e(20634),n.e(91253),n.e(63707),n.e(61171),n.e(4014),n.e(63502),n.e(7678),n.e(5006),n.e(20919),n.e(75377),n.e(99590),n.e(52435),n.e(69437),n.e(81063),n.e(75066),n.e(81917),n.e(88128),n.e(97934),n.e(37317),n.e(91e3),n.e(18162),n.e(91752),n.e(78517),n.e(99537),n.e(80730),n.e(11770),n.e(83962),n.e(62084),n.e(79289),n.e(21862),n.e(41589),n.e(71641),n.e(23006),n.e(72646),n.e(10553),n.e(74879),n.e(67601),n.e(37239),n.e(40692),n.e(20683),n.e(22467),n.e(27039),n.e(97083),n.e(52065),n.e(18534),n.e(39179),n.e(77555),n.e(38632),n.e(78856),n.e(19592),n.e(47559),n.e(22371),n.e(73230),n.e(25911),n.e(54843),n.e(76540),n.e(22337),n.e(93536),n.e(53936),n.e(23721),n.e(32175),n.e(66283),n.e(22154),n.e(58586)]).then(n.bind(n,88556)))),r=(0,i().kF)(o,(e=>e.PermissionsInviteWithModal))},440434:(e,t,n)=>{n.d(t,{e:()=>l});n(821057);var i=n(667294),o=()=>n(219727),r=(n(267602),n(470928),()=>n(836273));r().VP.downloadMac,r().VP.downloadMacUniversal,r().VP.downloadMacIntel,r().VP.downloadMacAppleSilicon,r().VP.downloadWindows,r().VP.downloadWindowsArm;const s=[{route:r().VP.downloadMac,architecture:"universal",operatingSystem:"mac",target:"macUniversal"},{route:r().VP.downloadMacIntel,architecture:"x86",operatingSystem:"mac",target:"mac"},{route:r().VP.downloadMacUniversal,architecture:"universal",operatingSystem:"mac",target:"macUniversal"},{route:r().VP.downloadMacAppleSilicon,architecture:"arm",operatingSystem:"mac",target:"macArm64"},{route:r().VP.downloadWindows,architecture:"x86",operatingSystem:"windows",target:"windows"},{route:r().VP.downloadWindowsArm,architecture:"arm",operatingSystem:"windows",target:"windowsArm64"}];function a(e,t){const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=e.toLowerCase();if(t.startsWith("arm"))return"arm";if(t.startsWith("x86")||"intel"===t)return"x86";return null}(e);if(!n||!("mac"===t||"windows"===t))return null;const i=s.find((e=>e.architecture===n&&e.operatingSystem===t));return(null==i?void 0:i.route)||null}function l(){const e=(0,i.useRef)(null),t=(0,o().Fy)();return(0,i.useEffect)((()=>{var n,i;"userAgentData"in navigator?null===(n=navigator.userAgentData)||void 0===n||null===(i=n.getHighEntropyValues)||void 0===i||i.call(n,["architecture"]).then((n=>{let{architecture:i}=n;const o=a(i,t.os);o&&(e.current=o)})).catch((e=>{throw new Error(e)})):t.isMac?e.current=r().VP.downloadMacUniversal:e.current=r().VP.downloadWindows}),[t.os,t.isMac]),e}},123398:(e,t,n)=>{n.d(t,{ZY:()=>s,ai:()=>a,sR:()=>o,sf:()=>r});var i=()=>n(677559);const o={RequestMembersModal:new(i().Ss)("RequestMembersModal",(()=>Promise.all([n.e(62743),n.e(52774),n.e(44832),n.e(84885),n.e(90698),n.e(37358),n.e(7312),n.e(5242),n.e(31189),n.e(90424),n.e(69343),n.e(81580),n.e(84325),n.e(2933),n.e(11189),n.e(53329),n.e(71896),n.e(72586),n.e(53335),n.e(46616),n.e(54940),n.e(20224),n.e(46546),n.e(98721),n.e(50471),n.e(49498),n.e(2971),n.e(20634),n.e(91253),n.e(63707),n.e(61171),n.e(4014),n.e(63502),n.e(7678),n.e(5006),n.e(20919),n.e(75377),n.e(99590),n.e(52435),n.e(69437),n.e(81063),n.e(75066),n.e(81917),n.e(88128),n.e(97934),n.e(37317),n.e(91e3),n.e(18162),n.e(91752),n.e(78517),n.e(99537),n.e(80730),n.e(11770),n.e(83962),n.e(62084),n.e(79289),n.e(21862),n.e(41589),n.e(25277)]).then(n.bind(n,129813)))),GoogleImportsInviteWithModal:new(i().Ss)("GoogleImportsInviteWithModal",(()=>Promise.all([n.e(62743),n.e(11189),n.e(46616),n.e(97934),n.e(37307)]).then(n.bind(n,139285)))),InviteDropdownMenuItemLabel:new(i().Ss)("InviteDropdownMenuItemLabel",(()=>n.e(3499).then(n.bind(n,723297)))),personPropertyInviteActions:new(i().Ss)("personPropertyInviteActions",(()=>Promise.all([n.e(11189),n.e(46616),n.e(19475)]).then(n.bind(n,416121))))},r=(0,i().kF)(o.RequestMembersModal,(e=>e.RequestMembersModal)),s=(0,i().kF)(o.GoogleImportsInviteWithModal,(e=>e.GoogleImportsInviteWithModal)),a=(0,i().kF)(o.InviteDropdownMenuItemLabel,(e=>e.InviteDropdownMenuItemLabel))},221826:(e,t,n)=>{n.d(t,{Z:()=>o});class i extends(()=>n(263184))().default{getInitialState(){return{contacts:!1}}}const o=i},141474:(e,t,n)=>{n.d(t,{Z:()=>j});n(667294);var i=()=>n(219727),o=()=>n(142735),r=()=>n(846550),s=()=>n(506347),a=()=>n(765270),l=()=>n(625230),c=()=>n(788860),d=()=>n(231077),u=()=>n(1910),p=()=>n(64260),g=()=>n(654133),m=()=>n(286338),h=()=>n(250625),b=()=>n(429725),x=()=>n(345918),f=()=>n(466970),v=()=>n(998901),S=()=>n(876822),y=()=>n(976973),M=()=>n(793935),w=n(785893);function j(e){let{from:t,onClick:n,iconStyle:j}=e;const I=(0,i().O7)(),{isTablet:k}=(0,i().Fy)(),C=(0,c().YB)(),A=(0,o().VK)((()=>S().default.state.currentSpaceStore),[]),L=(0,o().VK)((()=>S().default.state.currentUserRootStore),[]),Z=(0,o().VK)((()=>(0,x().Cx)(A)),[A]),T=(0,o().VK)((()=>(0,m().Tg)({environment:I,spaceStore:A,userRootStore:L})),[I,A,L]),P=(0,f().E)("sidebar_add_new_pages_to_bottom"),_=(0,f().E)("tablet_refresh_gate"),U=(0,r().yK)((e=>({shortcutLabel:{color:e.mediumInvertedTextColor},button:{width:28,height:28,marginTop:k&&_?-15:void 0,marginRight:k&&_?10:void 0,borderRadius:4},icon:{width:24,height:24,fill:e.regularTextColor,...j},iconDisabled:{opacity:.4},hovered:{background:e.sidebarItemSelectedBackground}})),[j,k,_]);return Z?"sidebar_new_page_button"===t&&T?(0,w.jsx)(u().Z,{icon:a().l,ariaLabel:C.formatMessage(M().newPageMessages.label),onClick:e=>{y().Z.open()},style:U.button,iconStyle:{...U.icon,...U.iconDisabled}}):null:(0,w.jsx)(g().Z,{renderTooltip:()=>(0,w.jsxs)(w.Fragment,{children:[C.formatMessage(M().newPageMessages.tooltip),I.device.isNative&&(0,w.jsx)("div",{children:(0,w.jsx)(p().Z,{style:U.shortcutLabel,name:"newPage"})})]}),originGap:6,placement:v().Placement.Right,render:e=>(0,w.jsx)(u().Z,{...e,icon:a().l,ariaLabel:C.formatMessage(M().newPageMessages.label),onClick:async e=>{if(A){const n=I.device.isElectron&&h().DJ(e),i=await M().quickAddPage({environment:I,from:t,event:e,navigateOnCreate:!n,prependPrivatePage:!P});if(n&&i){const e=(0,b().ZP)({store:i,pageVisitSource:s().tY.SidebarQuickAdd});d().openNotionUrl({makeTabActive:!0,url:e,position:"end",openInNew:n,isNewPage:!0,environment:I})}"sidebar_private_pane"===t&&l().j({name:"page_created",args:{type:"private",from:"secondary_sidebar"}})}n&&n()},style:U.button,iconStyle:U.icon,hoveredStyle:U.hovered})})}},617935:(e,t,n)=>{n.d(t,{Z:()=>b});n(821057),n(667294);var i=()=>n(219727),o=()=>n(142735),r=()=>n(846550),s=()=>n(788860),a=()=>n(827973),l=()=>n(448419),c=()=>n(247724),d=()=>n(772327),u=()=>n(291550),p=()=>n(279174),g=()=>n(591707),m=()=>n(385875),h=n(785893);const b=function(e){let{createType:t,icon:r,disableLoginLink:c,redirectURL:d,loginStore:b}=e;const v=(0,i().O7)(),S=(0,s().YB)(),y=(0,o().qz)(void 0,u().Z),M=(0,o().qz)(b,p().Z);(0,n(732811).K)((()=>{"email"===M.state.loginType&&v.device.isMobile&&M.setState({...M.state,loginType:"google"})}));const w=(0,o().VK)((()=>n(804217).default.state.online),[]),{device:j}=v,I=(0,o().VK)((()=>{var e;return null===(e=v.mobileNative)||void 0===e?void 0:e.supportsNativeHomeOnPhone()}),[v]),k=(0,n(703890).pL)();return j.isMobile?(0,h.jsx)(l().ZP,{popupType:l().Z4.SlideUp,hidesMobileNativeBottomBar:I,preventSlideUpTransition:I,buttonPopupStore:"add-account"===t?g().C:g().E,alignmentToOrigin:l().vR.Start,placementToOrigin:l().pO.Top,originGap:0,isFullWidthOnMobile:!0,render:e=>(y.setState({open:!0}),(0,h.jsx)(f,{intl:S,disableLoginLink:c,redirectURL:d,loginStore:M,loginModalStore:y,createType:t,onDismiss:()=>{I?n(96271).navigateToHomeTab(v,e.close):e.close()}})),preventScaleTransition:!0,renderOrigin:e=>(0,h.jsx)(a().Z,{textWrapperStyle:k.buttonWrapper,focused:!1,disabled:!w,title:(0,h.jsx)(x,{createType:t}),icon:r,...e})}):(0,h.jsxs)("div",{onClick:()=>{w&&(n(438793).D6(v,{createType:t}),m().Z.setState({...m().Z.getState(),createType:t}),y.setState({open:!0}))},children:[(0,h.jsx)(a().Z,{textWrapperStyle:k.buttonWrapper,focused:!1,disabled:!w,title:(0,h.jsx)(x,{createType:t}),icon:r}),(0,h.jsx)(f,{intl:S,disableLoginLink:c,redirectURL:d,loginStore:M,loginModalStore:y,createType:t})]})};function x(e){let{createType:t}=e;const n=(0,i().O7)(),o=(0,r().yK)((e=>({accountAction:{display:"flex",color:e.mediumTextColor,whiteSpace:"nowrap",fontSize:n.device.isMobile?16:12}})),[n.device.isMobile]);let a;switch(t){case"create-work":a=(0,h.jsx)(s()._H,{defaultMessage:"Create work account",id:"sidebarSwitcherMultiAccount.menuItem.createWorkAccountButton.label"});break;case"add-account":a=(0,h.jsx)(s()._H,{defaultMessage:"Add another account",id:"sidebarSwitcherMultiAccount.addAccountButton.label"})}return a?(0,h.jsx)("div",{style:o.accountAction,children:a}):null}function f(e){let{createType:t,onDismiss:n,intl:i,disableLoginLink:r,redirectURL:a,loginStore:l,loginModalStore:g}=e;const m=(0,o().qz)(g,u().Z),b=(0,o().qz)(l,p().Z);let x,f;switch(t){case"add-account":x=(0,h.jsx)(s()._H,{id:"sidebarSwitcherMultiAccount.addAccount.title",defaultMessage:"Add an account"}),f=(0,h.jsx)(s()._H,{id:"sidebarSwitcherMultiAccount.addAccount.description",defaultMessage:"Use an existing account, or sign up with a new email. Your current account will remain logged in."});break;case"create-work":x=(0,h.jsx)(s()._H,{id:"sidebarSwitcherMultiAccount.createWork.title",defaultMessage:"Create a work account"}),f=(0,h.jsx)(s()._H,{id:"sidebarSwitcherMultiAccount.createWork.description",defaultMessage:"We’ll check if your teammates are already on Notion. If not, we’ll create a new home for you and your team."});break;default:throw new Error(i.formatMessage({defaultMessage:"Unexpected createType in SidebarSwitcherMultiAccount",id:"sidebarSwitcherMultiAccount.errorMessage"}))}return(0,h.jsx)(d()._,{loginModalStore:m,loginStore:b,title:x,description:f,disableLoginLink:r,className:c().zYS,redirectURL:a,onDismiss:n})}},616737:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),o=()=>n(846550),r=()=>n(943620),s=()=>n(12530),a=()=>n(459805),l=n(785893);const c=function(e){let{id:t,onClick:r,focused:s,title:c,memberCount:u,subscriptionTierLabel:p,disabled:g,isCheck:m,icon:h,spaceName:b,unreadMentions:x,menuListItemProps:f}=e;const v=(0,n(219727).O7)(),[S,y]=(0,i.useState)(!1),{device:M}=v,w=(0,i.useCallback)((()=>y(!0)),[]),j=(0,i.useCallback)((()=>y(!1)),[]),I=(0,o().yK)((e=>({button:{display:"flex",flexDirection:"row",width:"100%",height:32,alignItems:"center",padding:"6px 12px",gap:12,transition:"background 150ms ease"},iconContainer:{display:"grid",justifyContent:"center",alignItems:"center"},dragHandle:{width:20,gridColumn:1,gridRow:1,opacity:S?1:0,transition:`opacity ${a().PP}`},spaceIcon:{gridColumn:1,gridRow:1,opacity:S?0:1,transition:`opacity ${a().PP}`},checkIcon:{width:12,height:12,marginLeft:"auto",marginRight:6},tooltip:{display:"flex",flexDirection:"column"},tooltipCaption:{color:e.mediumInvertedTextColor}})),[S]),k=(0,l.jsxs)("div",{style:I.tooltip,children:[p,(0,l.jsx)("div",{style:I.tooltipCaption,children:(0,l.jsx)(n(788860)._H,{id:"sidebarSwitcherMenuItem.spaceSubscriptionTier.tooltipMessage",defaultMessage:"{memberCount, plural, one {{memberCount} member} other {{memberCount} members}}",values:{memberCount:u}})})]});return(0,l.jsx)(n(654133).Z,{renderTooltip:()=>k,disableTooltip:!p||!u,placement:n(998901).Placement.Right,render:e=>(0,l.jsxs)(n(154186).Z,{...f,...(0,n(164079).Z)(e,{onClick:r,onMouseMove:w,onMouseLeave:j}),hovered:s||S,disabled:g,style:I.button,children:[(0,l.jsxs)("div",{style:I.iconContainer,children:[(0,l.jsx)(n(9641).Z,{iconSize:10,style:I.dragHandle}),(0,l.jsx)("div",{style:I.spaceIcon,children:(0,l.jsx)(d,{id:t,icon:h,size:20,spaceName:b,unreadMentions:x})})]}),(0,l.jsx)(n(67961).Z,{className:"notranslate",isMobile:M.isMobile,children:c}),m&&(0,n(235605).k)(I.checkIcon)]})},`sidebarswitchermenuitem-tooltip-${t}`)};function d(e){let{id:t,icon:n,size:i,spaceName:o,unreadMentions:a}=e;return(0,l.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,l.jsxs)("div",{style:{position:"relative"},children:[t&&(0,l.jsx)(r().Z,{disabled:!0,icon:n,isEmptyPage:!1,title:o,size:i,isLarge:!0}),a?(0,l.jsx)(u,{}):(0,l.jsx)(s().Z,{color:s().N.Red,count:a,style:{position:"absolute",top:-5,right:-5}})]})})}function u(){const e=(0,o().yK)((e=>({unreadBadge:{backgroundColor:e.redBadgeBackground,position:"absolute",top:-3,right:-4,width:8,height:8,borderRadius:4,border:`1px solid ${e.surface.wash}`}})),[]);return(0,l.jsx)("div",{style:e.unreadBadge})}},675702:(e,t,n)=>{n.d(t,{aI:()=>T,_S:()=>Z,ZP:()=>V});n(267602),n(30005);var i=n(667294),o=()=>n(219727),r=()=>n(142735),s=()=>n(846550),a=()=>n(467171),l=()=>n(788860),c=()=>n(381140),d=()=>n(528918),u=()=>n(221662),p=()=>n(448419),g=()=>n(707513),m=()=>n(345918),h=()=>n(704259),b=()=>n(475120),x=()=>n(943620),f=n(785893);const v=function(e){const{showIcon:t}=e,i=(0,s().Fg)(),o=(0,s().yK)((e=>{const n=Math.ceil(60),i=Math.floor(85),o=`${Math.floor(Math.random()*(i-n+1))+n}%`;return{placeholderPageStyle:{height:28,display:"flex",alignItems:"center",width:"100%",padding:t?"0 15px":"0 0px"},placeholderTextWrapStyle:{flexGrow:1,marginLeft:t?10:0,height:28,display:"flex",alignItems:"center"},placeholderTextStyle:{height:4,background:e.buttonHoveredBackground,width:o}}}),[t]);return(0,f.jsxs)("div",{style:o.placeholderPageStyle,children:[t&&(0,n(749166).w)({width:16,height:16,fill:i.buttonHoveredBackground}),(0,f.jsx)("div",{style:o.placeholderTextWrapStyle,children:(0,f.jsx)("div",{style:o.placeholderTextStyle})})]})},S={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"};const y=function(e){const t=(0,s().Fg)(),a=(0,o().O7)(),{device:l}=a,c="name"===e.type?e.spaceName:void 0,d="store"===e.type?e.spaceStore:void 0,u=(0,r().VK)((()=>"store"===e.type&&d?(0,m().rn)(a,d):c),[a,e.type,c,d]);return(0,i.useEffect)((()=>{"store"===e.type&&(null==d||d.getValue())}),[d,e.type]),(0,f.jsxs)(n(945634).Z,{style:{overflow:"hidden",paddingLeft:8,paddingRight:8,...e.isMobile&&{fontSize:14,padding:0,marginRight:12},...e.style},left:u?(0,f.jsx)(j,{title:u,icon:"store"===e.type?void 0:e.spaceIcon,isMobile:e.isMobile,spaceStore:"store"===e.type?e.spaceStore:void 0}):(0,f.jsx)(M,{}),disableMobileBorder:!0,children:[!u&&(0,f.jsx)(w,{}),u&&(0,f.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:e.activeUserEmailAddress?"space-between":"start"},className:"notranslate",children:[(0,f.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginRight:6,marginTop:l.isAndroid?3:0,...S},children:[(0,f.jsx)("div",{style:{color:t.regularTextColor,fontWeight:g().Ue.medium,...S,lineHeight:"20px"},children:u}),(0,f.jsx)("div",{style:{color:t.mediumTextColor,fontSize:11,lineHeight:"16px",fontWeight:g().Ue.regular,...S},children:e.activeUserEmailAddress})]}),e.showExpand&&(0,f.jsx)("div",{style:{flexGrow:0,flexShrink:0,width:10,height:10,marginLeft:2,fill:t.mediumIconColor},children:(0,n(414294).E)()})]})]})};function M(){return(0,f.jsx)("div",{style:{opacity:.25},children:(0,f.jsx)(b().Z,{size:20,title:void 0})})}function w(){return(0,f.jsx)(v,{showIcon:!1})}function j(e){let{title:t,icon:n,isMobile:i,spaceStore:a}=e;const l=(0,s().Fg)(),c=(0,o().O7)(),d=(0,r().VK)((()=>a?(0,m().Wd)(c,a):n?{icon:n,pointer:{table:"space",id:"undefined"}}:void 0),[a,c,n]),u=(0,r().VK)((()=>a?(0,m().rn)(c,a):t),[a,c,t]),p=(0,r().VK)((()=>h().default.getUnreadMentionsCountForOtherSpaces()>0),[]);return(0,f.jsxs)("div",{style:{position:"relative"},children:[(0,f.jsx)(x().Z,{disabled:!0,icon:d,isEmptyPage:!1,title:u,size:i?24:22,style:{marginTop:1,color:l.regularTextColor,fontWeight:g().Ue.medium}}),p&&(0,f.jsx)(I,{})]})}function I(){const e=(0,s().yK)((e=>({unreadBadge:{backgroundColor:e.redBadgeBackground,position:"absolute",top:0,right:-3,width:8,height:8,borderRadius:4,border:`1px solid ${e.surface.wash}`}})),[]);return(0,f.jsx)("div",{style:e.unreadBadge})}var k=()=>n(876822),C=()=>n(111631),A=()=>n(72279),L=()=>n(385875);let Z=function(e){return e[e.Regular=0]="Regular",e[e.DesktopMac=1]="DesktopMac",e[e.Mobile=2]="Mobile",e}({});const T=300,P={[Z.Regular]:a().Aj-8,[Z.DesktopMac]:a().br,[Z.Mobile]:"auto"},_={display:"flex",alignItems:"center",minWidth:0,height:"100%",width:"100%"},U=n(263184).default.createClass(!1,{name:"SidebarSwitcherIsHoveredStore"});const V=function(e){let{shouldShowUnexpandButton:t,shouldShowCreatePageButton:a,disabled:g,format:m,buttonStyle:h,redirectURL:b,disableLoginLink:x,onSpaceClick:v,hideEmail:S,shouldShowCreateWorkspaceButton:M=!1}=e;const w=(0,o().O7)(),j=(0,r().qz)(void 0,U),I=(0,r().qz)(void 0,n(221826).Z),Z=(0,r().qz)(void 0,n(279174).Z),{device:V}=w,{isTablet:B}=(0,o().Fy)(),{currentSpaceStore:z,currentUserStore:R}=(0,r().VK)((()=>{const{currentSpaceStore:e,currentUserStore:t}=k().default.state;return{currentSpaceStore:e,currentUserStore:t}}),[]),O=(0,r().VK)((()=>{const{mainEditorCurrentBlockStore:e}=k().default.state;return null==e?void 0:e.getSpaceStore()}),[]),K=w.currentUser.loggedInUserIds,H=(0,r().VK)((()=>{if(!S)return K.length>1?null==R?void 0:R.getEmail():void 0}),[K,R,S]),N=(0,r().Kw)(j),F=(0,r().VK)((()=>n(934262).default.isTutorialStepActive("create_page_sidebar")&&a),[a]),{organizationsInfo:E}=(0,n(34854).Z)(),D=E.length>0,G=(0,r().qz)(void 0,n(223023).Z),q=(0,r().VK)((()=>G.state.modalOpen),[G]),Y=(0,s().yK)((e=>({popup:{...V.isMobile?{}:{width:T,overflow:"hidden"}},button:{..._,height:P[m],marginLeft:4,marginRight:4,marginTop:V.isMobile?0:4,width:"calc(100% - 8px)",borderRadius:4,marginBottom:H?V.isMobile?0:8:0,padding:0,...h},spaceName:{marginLeft:0},hoveredStyle:{background:e.sidebarItemSelectedBackground},unexpand:{borderRadius:4,width:28,height:28,marginRight:4},unexpandHover:{fill:e.regularTextColor,background:e.sidebarItemSelectedBackground},rightButtonsContainer:{display:"flex",alignItems:"center",height:"100%",marginLeft:"auto",marginRight:0},rightButtons:{display:"inline-flex",marginRight:2}})),[H,h,V.isMobile,m]),$=async()=>n(793935).quickAddPage({environment:w,from:"home_checklist"}),J=(0,i.useCallback)((()=>{const e=(0,l().vU)({invitingMembers:{id:"sidebarSwitcherMultiAccount.inviteMember.loadingMessage",defaultMessage:"Updating…"}});d().j({message:e.invitingMembers})}),[]),Q=(0,i.useCallback)(((e,t)=>{d().x();const i=e?(0,f.jsx)(l()._H,{id:"sidebarSwitcherMultiAccount.inviteMember.successToastMessage",defaultMessage:"Successfully sent"}):(0,f.jsx)(l()._H,{id:"sidebarSwitcherMultiAccount.inviteMember.failureToastMessage",defaultMessage:"Failed to send invites"});n(102182).oV({label:i})}),[]),X=z||O;if(!X||!R)return null;const ee=Boolean(g)||F;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(p().ZP,{popupType:V.isMobile?p().Z4.SlideUp:p().Z4.Popup,buttonPopupStore:A().Z,renderOrigin:()=>(0,f.jsxs)(n(154186).Z,{style:Y.button,mobileFeedback:V.isMobile,onClick:()=>function(e){A().Z.setState({...A().Z.state,open:!0}),c().ai(e),e.currentUser.loggedInUserIds.forEach((t=>{L().Z.getSpaceViewStores(e,t).forEach((n=>{const i=n.getSpaceId();i&&(u().h({environment:e,spaceId:i,userId:t}),C().I({environment:e,spaceId:i,userId:t}))}))}))}(w),disabled:ee,className:n(247724).rli,hovered:N,hoveredStyle:Y.hoveredStyle,ignoreLocalHoverState:!0,onMouseEnter:()=>j.setState(!0),onMouseLeave:()=>j.setState(!1),children:[(0,f.jsx)(y,{isMobile:W(m),spaceStore:X,activeUserEmailAddress:H,showExpand:!ee,type:"store",style:Y.spaceName}),(0,f.jsx)("div",{style:Y.rightButtonsContainer,children:(0,f.jsxs)("div",{style:Y.rightButtons,children:[t&&(0,f.jsx)(n(577521).V,{style:Y.unexpand,hoveredStyle:Y.unexpandHover}),!B&&a&&(0,f.jsx)(n(21062).N,{step:"create_page_sidebar",isFullWidth:!1,onNextButtonClick:$,wrapperStyle:{display:"flex"},children:(0,f.jsx)(n(141474).Z,{from:"sidebar_new_page_button"})})]})})]}),originGap:0,disableMutationObserver:!0,forceInitialInbound:!0,style:Y.popup,render:e=>(0,f.jsx)(n(106342).Rv,{permissionsInviteStore:G,parent:e,redirectURL:b,disableLoginLink:x,onSpaceClick:v,loginStore:Z,loginPermissionsStore:I,organizationsInfo:D?E:void 0,shouldShowCreateWorkspaceButton:M})}),q&&(0,f.jsx)(n(837341).r,{store:X,permissionsInviteStore:G,origin:(0,f.jsx)(f.Fragment,{}),membersOnly:!0,shouldGrow:!1,disabled:!1,isSubscribed:!1,upgradeButtonName:"space_permission_settings",onInviteClick:J,onInviteComplete:Q,analyticsFrom:"space_switcher_invite_button"}),(0,f.jsx)(n(123398).sf,{store:X,origin:(0,f.jsx)(f.Fragment,{}),analyticsFrom:"space_switcher_add_members"})]})};function W(e){return e===Z.Mobile}},703890:(e,t,n)=>{n.d(t,{LP:()=>De,ZP:()=>Fe,rR:()=>rt,bM:()=>ot,pL:()=>st});n(670560),n(267602),n(653476),n(470928),n(241792);var i=n(667294),o=()=>n(219727),r=()=>n(142735),s=()=>n(846550),a=()=>n(216939),l=()=>n(27483),c=()=>n(280742),d=()=>n(159732),u=()=>n(827370),p=()=>n(81954),g=()=>n(125571),m=()=>n(691970),h=()=>n(788860),b=()=>n(707513),x=()=>n(695214),f=n(785893);const v=(0,n(827282).IU)("squarePlus",{viewBox:"0 0 30 30",svg:(0,f.jsx)("path",{d:"M7.059 27.052H22.94c2.75 0 4.11-1.361 4.11-4.059V7.007c0-2.697-1.36-4.059-4.11-4.059H7.059c-2.736 0-4.111 1.349-4.111 4.059v15.986c0 2.71 1.375 4.06 4.11 4.06zm.026-2.108c-1.31 0-2.03-.694-2.03-2.055V7.112c0-1.362.72-2.056 2.03-2.056h15.83c1.296 0 2.029.694 2.029 2.056v15.777c0 1.361-.733 2.055-2.03 2.055H7.085zm7.895-3.758c.707 0 1.113-.484 1.113-1.243V16.08h4.111c.733 0 1.231-.392 1.231-1.086 0-.707-.471-1.113-1.23-1.113h-4.112V9.769c0-.759-.406-1.243-1.113-1.243-.694 0-1.073.51-1.073 1.243v4.112H9.822c-.773 0-1.257.405-1.257 1.112 0 .694.523 1.087 1.257 1.087h4.085v3.863c0 .733.38 1.243 1.073 1.243z"})});var S=()=>n(362154),y=()=>n(381140),M=()=>n(13750),w=()=>n(341691),j=()=>n(741636),I=()=>n(72279),k=()=>n(804217),C=()=>n(313351);const A=(0,h().vU)({joinOrCreateWorkspace:{id:"sidebarSwitcherMultiAccount.singleAccountMenu.joinOrCreateWorkspace.label",defaultMessage:"Join or create workspace"},logOut:{id:"sidebarSwitcherMultiAccount.singleAccountMenu.logOut.label",defaultMessage:"Log out"}});function L(e){return(0,C().cN)({key:"join or create a workspace",displayName:A.joinOrCreateWorkspace,analyticsName:A.joinOrCreateWorkspace.defaultMessage,svg:v,validators:[],closeParentMenu:!0,action:t=>{let{environment:n}=t;I().Z.reset(),n.currentUser.id!==e?M().x({environment:n,newCurrentUserId:e}).then((e=>{j().xN(e)})):j().xN(n)}})}function Z(e){return(0,C().cN)({key:"log out of a single account",displayName:A.logOut,analyticsName:A.logOut.defaultMessage,svg:x().B,validators:[],closeParentMenu:!0,action:t=>{let{environment:n}=t;const{online:i}=k().default.state;i&&(w().logoutSingleAccount({environment:n,userId:e,logoutOrigin:S().F.SpaceSwitcher}),y().HY(n))}})}var T=()=>n(491927),P=()=>n(438793),_=()=>n(308186),U=()=>n(497065),V=()=>n(224597),W=()=>n(261930),B=()=>n(269299),z=()=>n(154186),R=()=>n(265640),O=()=>n(827973),K=()=>n(119891),H=()=>n(909439),N=()=>n(108714),F=()=>n(198829),E=()=>n(255577),D=()=>n(470386),G=()=>n(603692),q=()=>n(388284),Y=()=>n(128448),$=()=>n(945634),J=()=>n(527278),Q=()=>n(352230),X=()=>n(345918),ee=()=>n(440434),te=()=>n(594723),ne=()=>n(297861),ie=()=>n(876822),oe=()=>n(458335),re=()=>n(826955),se=()=>n(719157),ae=()=>n(589525),le=()=>n(704259),ce=()=>n(385875),de=()=>n(357808),ue=()=>n(429600),pe=()=>n(332087),ge=()=>n(691119),me=()=>n(448419),he=()=>n(83315),be=()=>n(466970),xe=()=>n(998901),fe=()=>n(529048),ve=()=>n(801812),Se=()=>n(839002),ye=()=>n(696459),Me=()=>n(824462),we=()=>n(591914);function je(e){const{organizationsInfo:t}=e,n=(0,o().O7)(),i=(0,be().E)("organization_console_ga_enabled");return(0,f.jsxs)(f.Fragment,{children:[i&&n.currentUser.id?(0,f.jsx)(ke,{userId:n.currentUser.id}):null,(0,f.jsx)(Ie,{organizationsInfo:t})]})}function Ie(e){const t=e.organizationsInfo.filter((e=>"completed"===e.onboardingStatus));if(1===t.length){const e=t[0].id;return(0,f.jsx)(Ce,{url:(0,pe().a5)({organizationId:e,tabRoute:ge().CO}),label:(0,f.jsx)(h()._H,{id:"sidebarSwitcherMultiAccount.menuItem.organization.generic",defaultMessage:"Manage organization"})})}return t?(0,f.jsx)(f.Fragment,{children:t.map((e=>{let{id:t,name:n}=e;return(0,f.jsx)(Ce,{url:(0,pe().a5)({organizationId:t,tabRoute:ge().CO}),label:(0,f.jsx)(h()._H,{id:"sidebarSwitcherMultiAccount.menuItem.organization.name",defaultMessage:"Manage {organizationName}",values:{organizationName:n}})},t)}))}):null}function ke(e){const{userId:t}=e,n=(0,r().qz)(void 0,fe().Z),{spaceInfo:i,isLoading:s}=function(e){const{userId:t}=e,n=(0,o().O7)(),i=(0,r().VK)((()=>ce().Z.getSpaceViewStores(n,t)),[n,t]),s=(0,r().VK)((()=>i.map((e=>e.getSpaceStore())).filter(ye().$K)),[i]),a=(0,r().VK)((()=>s.map((e=>{const n=(0,we().VK)(e,t).isWorkspaceOwner(),i="enterprise"===e.getSubscriptionTier();if(n&&i)return e})).filter(ye().$K)),[s,t]),[{value:l,status:c}]=(0,ve().r5)((async()=>(await(0,Se().qd)(a,10,(e=>{const t=e.id;return Me().callApi({eventName:"getOrganizationOnboardingInfo",environment:n,data:{spaceId:t}}).then((i=>{if("success"===i.type)return"ineligible"===i.data.result.onboardingStatus||"completed"===i.data.result.onboardingStatus?void 0:{spaceId:t,spaceName:(0,X().rn)(n,e)}}))}))).filter(ye().$K)),[n,a]);return{spaceInfo:l??[],isLoading:"resolved"!==c}}({userId:t}),a=i.map((e=>{let{spaceId:t,spaceName:n}=e;return{key:t,url:(0,pe().a5)({organizationId:pe().L1,tabRoute:ge().e_,queryParams:{[he().n1]:t}}),label:(0,f.jsx)("div",{children:n})}})),l=a.map((e=>({key:e.key,render:()=>(0,f.jsx)(Ce,{url:e.url,label:e.label},e.key),action:()=>{}})));if(0===a.length||s)return null;const c=(0,f.jsx)(h()._H,{id:"sidebarSwitcherMultiAccount.menuItem.organization.setup",defaultMessage:"Set up organization"});return 1===a.length?(0,f.jsx)(Ce,{url:a[0].url,label:c}):(0,f.jsx)(me().ZP,{placementToOrigin:xe().Placement.Right,popupType:me().Z4.Popup,buttonPopupStore:n,renderOrigin:e=>(0,f.jsx)(Ce,{events:e,label:c,alternateIconFunc:ue().o}),render:()=>{const e={menuType:Q().o.Popup,width:220};return(0,f.jsx)(F().Z,{...e,children:(0,f.jsx)(E().ZP,{type:E().iW.Vertical,initialFocus:0,sections:[{key:"organization-setup",render:e=>(0,f.jsx)(q().Z,{...e}),items:l}]})})}})}function Ce(e){const{url:t,label:n,events:i,alternateIconFunc:r}=e,a=(0,o().O7)(),l=(0,s().yK)((e=>({accountAction:{display:"flex",justifyContent:"space-between",alignItems:"center",color:e.mediumTextColor,whiteSpace:"nowrap",fontSize:12,paddingLeft:0},modalContent:{display:"flex",flexDirection:"column",gap:8,alignItems:"center",justifyContent:"center"},description:{textAlign:"center"},iconStyle:{height:12,width:12,fill:"current"},arrowIconStyle:{marginTop:3,transform:"rotate(90deg)"}})),[]),c=st();return(0,f.jsx)(O().Z,{onClick:t?()=>{U().c4({environment:a,openInNew:"tab",makeTabActive:!0,url:t})}:void 0,textWrapperStyle:c.buttonWrapper,focused:!1,title:(0,f.jsxs)("div",{style:l.accountAction,children:[n,r?r(l.iconStyle):(0,de().y)({...l.iconStyle,...l.arrowIconStyle})]}),...i})}var Ae=()=>n(674462),Le=()=>n(820717),Ze=()=>n(168741),Te=()=>n(568017),Pe=()=>n(930085),_e=()=>n(454393),Ue=()=>n(661297),Ve=()=>n(67961),We=()=>n(286338),Be=()=>n(282194);function ze(e){let{permissionsInviteStore:t}=e;const i=(0,o().O7)(),a=(0,h().YB)(),l=(0,r().VK)((()=>ie().default.state.currentSpaceStore),[]),{spaceName:c,spaceIcon:d,spaceSubtitle:u}=(0,r().VK)((()=>{if(!l)return{};const e=(0,X().Cx)(l),t=a.formatMessage({id:"sidebarSwitcherMultiAccount.guestWorkspaceSubtitle",defaultMessage:"Guest"});return{spaceName:(0,X().rn)(i,l),spaceIcon:(0,X().Wd)(i,l),spaceSubtitle:e?t:rt(i,a,l).subtitle}}),[i,a,l]),p=(0,s().yK)((e=>({container:{padding:12,background:"dark"===e.mode?e.accentColors.gray[200]:e.white},metadata:{display:"flex",flexDirection:"row",gap:10,marginBottom:12,alignItems:"center"},title:{fontWeight:b().Ue.medium},labels:{display:"flex",flexDirection:"column",...b().Yu}})),[]);return!l||i.device.isMobile?null:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{style:p.container,children:[(0,f.jsxs)("div",{style:p.metadata,children:[(0,f.jsx)(n(943620).Z,{isLarge:!0,largeIcon:!0,disabled:!0,icon:d,isEmptyPage:!1,title:c,size:36}),(0,f.jsxs)("div",{style:p.labels,children:[(0,f.jsx)(Ve().Z,{style:p.title,className:"notranslate",children:c}),(0,f.jsx)(Ve().Z,{isSmall:!0,children:u})]})]}),(0,f.jsx)(Re,{permissionsInviteStore:t})]}),(0,f.jsx)(n(666414).Z,{size:1})]})}function Re(e){let{permissionsInviteStore:t}=e;const n=(0,o().O7)(),{currentSpaceStore:a,currentUserStore:l}=(0,r().VK)((()=>{const{currentSpaceStore:e,currentUserStore:t}=ie().default.state;return{currentSpaceStore:e,currentUserStore:t}}),[]),{membersButton:c,canRequestMembers:d}=(0,r().VK)((()=>{if(!a||(0,X().Cx)(a))return{membersButton:"none",canRequestMembers:!1};const e=!a.canEditMembership()&&!a.getDisableMembershipRequests()&&(0,We().p1)();let t="none";return t=a.canEditMembership()||e?"invite_members":"settings_members",{membersButton:t,canRequestMembers:e}}),[a]),u=(0,r().VK)((()=>(0,We().wE)(n)),[n]),p=(0,i.useCallback)((()=>{_e().r$({openedFrom:"space_switcher",currentTab:"user_settings"}),I().Z.reset()}),[]),g=(0,i.useCallback)((()=>{a&&"none"!==c&&(a.canEditMembership()&&(t.setState({...t.state,modalOpen:!0}),Pe().G(n,{type:"invite",from:"space_switcher"})),d&&(Be().default.setState({open:!0,focus:"none"}),Pe().G(n,{type:"request",from:"space_switcher"})),I().Z.reset())}),[d,a,n,c,t]),m=(0,i.useCallback)((()=>{_e().r$({openedFrom:"space_switcher",currentTab:"members"}),I().Z.reset()}),[]),b=(0,s().yK)((e=>{const t="dark"===e.mode?Te().O9.whiteWithAlpha(.81):e.mediumTextColor;return{container:{display:"inline-flex",alignSelf:"center",gap:8},button:{color:t,fontSize:12,fontWeight:500,padding:"6px 8px",height:28},icon:{fill:t}}}),[]);return a?(0,f.jsxs)("div",{style:b.container,children:[l&&(0,f.jsx)(Ue().Z,{onClick:p,icon:Ze().H,iconStyle:b.icon,style:b.button,children:(0,f.jsx)(h()._H,{defaultMessage:"Settings",id:"sidebarSwitcherMultiAccount.menuItem.settingsButton.label"})}),"invite_members"===c&&(0,f.jsx)(Ue().Z,{icon:Ae().C,iconStyle:b.icon,style:b.button,onClick:g,children:(0,f.jsx)(h()._H,{defaultMessage:"Invite members",id:"sidebarSwitcherMultiAccount.menuItem.inviteButton.label"})}),"settings_members"===c&&(0,f.jsx)(Ue().Z,{icon:Le().v,iconStyle:b.icon,style:b.button,onClick:m,children:u?(0,f.jsx)(h()._H,{defaultMessage:"People",id:"sidebarSwitcherMultiAccount.menuItem.peopleButton.label"}):(0,f.jsx)(h()._H,{defaultMessage:"Members",id:"sidebarSwitcherMultiAccount.menuItem.membersButton.label"})})]}):null}const Oe=i.memo(ze);var Ke=()=>n(617935),He=()=>n(616737),Ne=()=>n(675702);function Fe(e){const{parent:t,redirectURL:n,disableLoginLink:i,onSpaceClick:r,loginStore:a,loginPermissionsStore:l,organizationsInfo:c,permissionsInviteStore:d,shouldShowCreateWorkspaceButton:u}=e;let p;const g=(0,o().O7)(),m=(0,o().Fy)(),b=g.currentUser.loggedInUserIds,x=(0,f.jsx)(Ge,{redirectURL:n,disableLoginLink:i,loginStore:a,loginPermissionsStore:l,organizationsInfo:c,shouldShowCreateWorkspaceButton:u});p=m.isMobile?{menuType:Q().o.Modal,title:(0,f.jsx)(h()._H,{defaultMessage:"Accounts & Workspaces",id:"sidebarSwitcherMultiAccount.mobileMenu.title"}),right:(0,f.jsx)(D().DoneMenuText,{}),onClickRight:t.close}:{menuType:Q().o.Popup,minWidth:Ne().aI,maxWidth:Ne().aI,maxHeight:"min(60vh, 420px)",footer:x};const v=(0,s().yK)((e=>({container:{background:e.surface.elevated,height:"100%"}})),[]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(se().D,{experimentId:"quick_workspace_creation",groups:{on:(0,f.jsx)(Ee,{})}}),(0,f.jsxs)("div",{style:v.container,children:[(0,f.jsx)(Oe,{permissionsInviteStore:d}),(0,f.jsxs)(F().Z,{...p,children:[b.map(((e,t)=>(0,f.jsx)(De,{userId:e,isLastUser:t===b.length-1,onSpaceClick:r},e))),m.isMobile&&x]})]})]})}function Ee(){const e=(0,o().O7)(),t=(0,s().yK)((e=>({button:{boxShadow:`0 -1px 0 ${e.regularDividerColor}`},sidebarItem:{color:e.mediumTextColor,height:45},plusIconContainer:{display:"flex",alignItems:"center",justifyContent:"center"},plusIcon:{fill:e.mediumIconColor,width:16,height:16}})),[]);return(0,f.jsx)(z().Z,{onClick:()=>function(e){I().Z.reset(),j().xN(e),T().iS(e)}(e),style:t.button,children:(0,f.jsx)($().Z,{style:t.sidebarItem,left:(0,f.jsx)("div",{style:t.plusIconContainer,children:(0,d().R)(t.plusIcon)}),children:(0,f.jsx)(h()._H,{id:"sidebarSwitcherMultiAccount.singleAccountMenu.joinOrCreateWorkspace.label",defaultMessage:"Join or create workspace"})})})}function De(e){const{userId:t,isLastUser:n,onSpaceClick:i,disableAccountActions:l}=e,c=(0,o().O7)(),d=(0,o().Fy)(),u=(0,s().yK)((e=>({menuList:d.isMobile?{paddingTop:10}:{},bottomGap:{paddingBottom:8}})),[d.isMobile]),g=(0,r().VK)((()=>[...ce().Z.getSpaceViewStores(c,t).map((e=>e.pointer)).map((e=>({id:e.id,spaceId:(0,p().J)(e.spaceId)}))).map(a().vY),"create-workspace-row"]),[c,t]),{currentUserRootStore:m,currentSpaceStore:b}=(0,r().VK)((()=>{const{currentUserRootStore:e,currentSpaceStore:t}=ie().default.state;return{currentUserRootStore:e,currentSpaceStore:t}}),[]),x=(0,r().VK)((()=>ce().Z.getSpaceViewStores(c,t)),[c,t]),v=(0,h().YB)(),S=(0,r().VK)((()=>{if(!m)return[];const e=[];for(const[n,o]of x.entries()){const n=o.getSpaceStore();if(!n)continue;const r=t===m.id&&n.id===(null==b?void 0:b.id),{results:s}=le().default.state,a=s.find((e=>e.spaceId===n.id)),l=(0,X().rn)(c,n),d=ot(c,n),{memberCount:u,subscriptionTierLabel:p}=rt(c,v,n);e.push({key:o.id,render:e=>{const{online:i}=k().default.state,{onClick:o,focused:s}=e;return(0,f.jsx)(He().Z,{id:n.id,menuListItemProps:e,onClick:o,focused:s,icon:(0,X().Wd)(c,n),spaceName:l,title:d,memberCount:u,subscriptionTierLabel:p,isCheck:r,unreadMentions:t===c.currentUser.id&&a&&a.spaceId!==(null==b?void 0:b.id)&&a.unread.mentions>0?a.unread.mentions:void 0,disabled:!i&&c.currentUser.id!==t})},action:async e=>{let{event:t}=e;et();ce().Z.isGuestWithZeroSharedPages(o)?it({environment:c,spaceViewStore:o}):(r||await i({event:t,spaceViewStore:o}),y().so(c))}})}return e}),[b,m,c,v,i,x,t]),M=0===S.length?[]:[{key:"spaces",render:e=>(0,f.jsx)(q().Z,{...e,disableMobilePadding:!0,topBorder:d.isMobile,children:d.isMobile?e.children:(0,f.jsx)(K().ZP,{direction:"vertical",keys:g,renderKey:t=>e.children[g.indexOf(t)],onDrop:tt({userId:t,environment:c}),style:{marginBottom:1}})}),items:S}],w=0===S.length;return(0,f.jsxs)("div",{style:w&&n?u.bottomGap:{},children:[(0,f.jsx)(Ye,{userId:t,disableAccountActions:l}),M.length>0?(0,f.jsx)("div",{style:u.menuList,children:(0,f.jsx)(E().ZP,{type:E().iW.Vertical,sections:M,initialFocus:void 0})}):null]},t)}function Ge(e){const{redirectURL:t,disableLoginLink:n,loginStore:i,organizationsInfo:a,shouldShowCreateWorkspaceButton:l}=e,c=(0,o().O7)(),d=(0,o().Fy)().isMobile,u=(0,s().yK)((e=>({footer:{background:d?void 0:e.surface.elevated,fontWeight:b().Ue.medium}})),[d]),p=(0,r().VK)((()=>ce().Z.hasAtLeastOneTeamPlan(c)),[c]),g=(0,f.jsxs)(f.Fragment,{children:[!p&&(0,f.jsx)(Ke().Z,{createType:"create-work",redirectURL:t,disableLoginLink:n,loginStore:i}),!(0,ne().Y)("supportsNativeHome")&&(0,f.jsx)(Ke().Z,{createType:"add-account",redirectURL:t,disableLoginLink:n,loginStore:i})]});return(0,f.jsxs)("div",{style:u.footer,children:[a?(0,f.jsx)(q().Z,{topBorder:!0,children:(0,f.jsx)(je,{organizationsInfo:a})}):null,l&&(0,f.jsx)(qe,{}),(0,f.jsxs)(q().Z,{topBorder:!0,children:[te().kH(c)&&g,(0,f.jsx)($e,{})]}),!d&&(0,f.jsx)(q().Z,{topBorder:!0,children:(0,f.jsx)(Xe,{})})]})}function qe(){const e=(0,s().yK)((e=>({createWorkspaceButton:{background:e.tint.regular,alignItems:"center",justifyContent:"center",gap:4,lineHeight:1,display:"flex",margin:"0px 14px 16px"}})),[]),t=(0,o().O7)();return(0,f.jsxs)(R().D,{onClick:async()=>{const e=window.location.pathname;await j().I1(t,{type:"create-or-join",redirectUrl:e,source:"public_share_link"})},style:e.createWorkspaceButton,children:[(0,f.jsx)(G().y,{colorName:"graySecondary",iconGroup:l().s,variantName:"small"}),(0,f.jsx)(h()._H,{id:"sidebarSwitcherMultiAccount.singleAccountMenu.createWorkspace.label",defaultMessage:"Create workspace"})]})}function Ye(e){const{userId:t,disableAccountActions:n=!1}=e,i=(0,r().VK)((()=>k().default.state.online),[]),s=(0,o().O7)(),a=(0,r().VK)((()=>ce().Z.getUserEmailAddress(s,t)),[s,t]);if(!a)return null;const l=n?[]:[L(t),Z(t)];return(0,f.jsx)(Y().Z,{emailAddress:a,userId:t,disabled:!i||n,accountActions:l})}function $e(){const e=(0,r().VK)((()=>k().default.state.online),[]),t=(0,o().O7)(),n=t.device.isMobile,a=t.currentUser.loggedInUserIds.length>1,l=(0,s().yK)((e=>({iconStyle:{width:24,height:24,fill:e.regularIconColor},accountAction:{display:"flex",color:e.mediumTextColor,whiteSpace:"nowrap",fontSize:n?16:12,paddingLeft:0},modalContent:{display:"flex",flexDirection:"column",gap:8,alignItems:"center",justifyContent:"center"},description:{textAlign:"center"}})),[n]),d=st(),u=(0,i.useCallback)((async()=>{const{online:e}=k().default.state,n=(0,f.jsxs)("div",{style:l.modalContent,children:[(0,c()._)(l.iconStyle),(0,f.jsx)(h()._H,{id:"sidebarSwitcherMultiAccount.menuItem.logoutAllButton.confirmationMessage",defaultMessage:"{isLoggedIntoMultipleAccounts, select, true {<bold>Log out of all your accounts?</bold>} other {<bold>Log out of your account?</bold>}}",values:{isLoggedIntoMultipleAccounts:a,bold:e=>(0,f.jsx)("span",{style:{fontWeight:b().Ue.medium,fontSize:18},children:e})}})]}),i=(0,f.jsx)(h()._H,{id:"sidebarSwitcherMultiAccount.menuItem.logoutAllButton.acceptLabel",defaultMessage:"{isLoggedIntoMultipleAccounts, select, true {Log out all accounts} other {Log out}}",values:{isLoggedIntoMultipleAccounts:a}}),o=(0,f.jsx)(h()._H,{id:"sidebarSwitcherMultiAccount.menuItem.logoutAllButton.cancelLabel",defaultMessage:"Cancel"}),r=(0,f.jsx)("div",{style:l.description,children:(0,f.jsx)(h()._H,{id:"sidebarSwitcherMultiAccount.menuItem.logoutAllButton.description",defaultMessage:"You will need to log back in to access your Notion workspaces."})}),{accept:s}=await _().gt({message:n,acceptLabel:i,cancelLabel:o,description:r});s&&e&&(I().Z.setState({...I().Z.state,open:!1}),y().HY(t),w().logout(t))}),[t,a,l.modalContent,l.description,l.iconStyle]);return(0,f.jsx)(O().Z,{onClick:u,focused:!1,disabled:!e,textWrapperStyle:d.buttonWrapper,title:(0,f.jsx)("div",{style:l.accountAction,children:(0,f.jsx)(h()._H,{defaultMessage:"{isLoggedIntoMultipleAccounts, select, true {Log out all accounts} other {Log out}}",id:"sidebarSwitcherMultiAccount.menuItem.logoutAllButton.label",values:{isLoggedIntoMultipleAccounts:a}})})})}function Je(){const e=(0,o().Fy)(),t=(0,o().O7)(),n=(0,s().yK)((e=>({title:{color:e.mediumTextColor,fontSize:12}})),[]),r=st(),a=(0,ee().e)(),l=(0,i.useCallback)((()=>{a.current&&(U().c4({environment:t,url:a.current,openInNew:"tab"}),et())}),[t,a]);return(0,f.jsx)(N().Z,{external:!0,onClick:l,children:(0,f.jsx)(O().Z,{textWrapperStyle:r.buttonWrapper,focused:!1,title:(0,f.jsx)("div",{style:n.title,children:e.isWindows?(0,f.jsx)(h()._H,{defaultMessage:"Get Windows app",id:"sidebarMultiSwitcher.windowsAppButton.text"}):(0,f.jsx)(h()._H,{defaultMessage:"Get Mac app",id:"sidebarMultiSwitcher.macAppButton.text"})})})})}function Qe(){const e=(0,s().yK)((e=>({title:{color:e.mediumTextColor,fontSize:12}})),[]),t=st();return(0,f.jsx)(N().Z,{external:!0,href:"https://www.notion.com/mobile",onClick:et,children:(0,f.jsx)(O().Z,{textWrapperStyle:t.buttonWrapper,focused:!1,title:(0,f.jsx)("div",{style:e.title,children:(0,f.jsx)(h()._H,{defaultMessage:"Get iOS & Android app",id:"sidebarMultiSwitcher.desktopAppGetMobileApp.prompt"})})})})}function Xe(){return(0,o().Fy)().isElectron?(0,f.jsx)(Qe,{}):(0,f.jsx)(Je,{})}function et(){I().Z.setState({...I().Z.state,open:!1})}function tt(e){const{userId:t,environment:n}=e;return function(e){const i=e.filter((e=>"create-workspace-row"!==e)).map(a().Vg).map((e=>u().dr.fromSpaceShardRecordId(e,g().zU))),o=new(re().r9)(n,{table:m().dx,id:t},{userId:t});B().createAndCommit({userAction:"SidebarSwitcherMultiAccount.handleDraggableListDrop",environment:n,canUndo:!0,perform:e=>{V()._Q({userRootStore:o,transaction:e,spaceViewIds:i.map((e=>e.id)),spaceViewPointers:i})},userId:t}),P().Q4(n,{workspace_count:e.length})}}const nt=(0,h().vU)({noAccessAsGuest:{defaultMessage:"You no longer have access to this workspace.",id:"SidebarSwitcherMultiAccountPopup.noAccessAsGuest.label"}});function it(e){let{environment:t,spaceViewStore:n}=e;_().PV({message:J().Z.formatMessage(nt.noAccessAsGuest),onAccept:()=>{W().ni({environment:t,spaceViewStore:n})}})}function ot(e,t){const n=(0,X().rn)(e,t),i=oe().Z.getData(e,{spaceId:t.id});return i&&"none"===i.role?(0,f.jsxs)("div",{style:{display:"flex"},children:[(0,f.jsx)("span",{style:{flexShrink:1,textOverflow:"ellipsis",overflow:"hidden"},children:n}),(0,f.jsx)("div",{style:{marginLeft:"8px",alignSelf:"center"},children:(0,f.jsx)(H().b,{})})]}):n}function rt(e,t,n){const i=oe().Z.getData(e,{spaceId:n.id});if(!i||"none"===i.role)return{subtitle:void 0,subscriptionTier:void 0,memberCount:void 0};const o=(0,ae().em)(i.subscriptionTier),r=t.formatNumber(i.memberCount),s=t.formatMessage(o);return{subtitle:t.formatMessage(ae().js.workspaceSubtitleWithMembers,{numberOfWorkspaceMembers:r,planType:s}),subscriptionTierLabel:s,memberCount:r}}function st(){const e=(0,o().O7)(),{isMobile:t}=e.device;return(0,s().yK)((()=>({buttonWrapper:{marginLeft:t?12:9}})),[t])}},223023:(e,t,n)=>{n.d(t,{Z:()=>o});class i extends(()=>n(263184))().default{getInitialState(){return{modalOpen:!1,tokenQuery:"",inviteTargets:[],inviteRole:"editor",isInviteTargetsEmpty:!0,table:n(396136).iU,flowId:void 0,inputFocus:"invitee",emailMessage:""}}}const o=i},282194:(e,t,n)=>{n.d(t,{default:()=>o});class i extends(()=>n(263184))().default{getInitialState(){return{open:!1,focus:"none"}}open(){this.setState({open:!0,focus:"none"})}close(){this.setState({open:!1,focus:"none"})}}const o=new i},719157:(e,t,n)=>{n.d(t,{D:()=>r});var i=()=>n(142735),o=()=>n(749826);function r(e){const{experimentId:t,groups:n,disableExposureLogging:r}=e,s=function(e){const{experimentId:t,disableExposureLogging:n,defaultGroup:r}=e;return(0,i().VK)((()=>o().default.getEligibleGroup({experimentId:t,defaultGroup:r??"control",disableExposureLogging:n})),[t,n,r])}({experimentId:t,disableExposureLogging:r});return n[s]}},27483:(e,t,n)=>{n.d(t,{s:()=>i});const i=(0,n(827282).CZ)("plus",{default:{loader:()=>n.e(55648).then(n.bind(n,55648))},small:{loader:()=>n.e(13112).then(n.bind(n,913112))},mini:{loader:()=>n.e(13526).then(n.bind(n,13526))},large:{loader:()=>n.e(52732).then(n.bind(n,852732))}})},674462:(e,t,n)=>{n.d(t,{C:()=>o});n(667294);var i=n(785893);const o=(0,n(827282).IU)("addPersonCircle",{viewBox:"0 0 50 43",svg:(0,i.jsx)("path",{d:"M28.5 42c11.214 0 20.535-9.322 20.535-20.535C49.035 10.23 39.694.93 28.48.93 17.99.93 9.233 9.003 8.106 19.21c.987-.181 2.416-.262 3.483-.141 1.107-8.355 8.194-14.717 16.89-14.717 9.483 0 17.133 7.61 17.133 17.113 0 4.429-1.65 8.455-4.409 11.455-1.973-2.356-6.643-4.61-12.723-4.61a22.58 22.58 0 00-5.295.624 12.85 12.85 0 01-2.718 11.375 19.941 19.941 0 008.033 1.69zm-.02-17.113c3.865.04 6.905-3.261 6.905-7.59 0-4.067-3.06-7.429-6.905-7.429-3.866 0-6.946 3.362-6.905 7.43.02 4.308 3.04 7.549 6.905 7.589zM10.562 42.221c5.537 0 10.227-4.63 10.227-10.227 0-5.617-4.61-10.227-10.227-10.227-5.597 0-10.227 4.63-10.227 10.227 0 5.637 4.63 10.227 10.227 10.227zm0-3.825c-.745 0-1.228-.483-1.228-1.228v-3.946H5.388c-.725 0-1.228-.483-1.228-1.228s.503-1.228 1.228-1.228h3.946V26.82c0-.725.483-1.228 1.228-1.228s1.228.503 1.228 1.228v3.946h3.946c.725 0 1.228.483 1.228 1.228s-.503 1.228-1.228 1.228H11.79v3.946c0 .745-.483 1.228-1.228 1.228z"})})},357808:(e,t,n)=>{n.d(t,{y:()=>o});n(667294);var i=n(785893);const o=(0,n(827282).IU)("arrowUpLeft",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M0.845703 8.58691L0.852539 1.72363C0.852539 1.48665 0.923177 1.29525 1.06445 1.14941C1.21029 0.999023 1.40625 0.923828 1.65234 0.923828H8.51562C8.74349 0.923828 8.93034 0.999023 9.07617 1.14941C9.22201 1.2998 9.29492 1.47526 9.29492 1.67578C9.29492 1.8763 9.21973 2.04948 9.06934 2.19531C8.91895 2.33659 8.74121 2.40723 8.53613 2.40723H6.10254L3.16309 2.30469L4.40723 3.39844L10.915 9.91992C11.0745 10.084 11.1543 10.264 11.1543 10.46C11.1543 10.5921 11.1178 10.7174 11.0449 10.8359C10.972 10.9544 10.8763 11.0479 10.7578 11.1162C10.6439 11.1891 10.5186 11.2256 10.3818 11.2256C10.1813 11.2256 10.0013 11.1481 9.8418 10.9932L3.32715 4.47852L2.21973 3.23438L2.33594 6.05078V8.60742C2.33594 8.8125 2.26302 8.99251 2.11719 9.14746C1.97591 9.29785 1.80273 9.37305 1.59766 9.37305C1.39714 9.37305 1.22168 9.29785 1.07129 9.14746C0.920898 8.99707 0.845703 8.81022 0.845703 8.58691Z"})})},695214:(e,t,n)=>{n.d(t,{B:()=>o});n(667294);var i=n(785893);const o=(0,n(827282).IU)("circleCross",{viewBox:"0 0 30 30",svg:(0,i.jsx)("path",{d:"M15 28.354c7.305 0 13.354-6.049 13.354-13.354 0-7.292-6.062-13.354-13.367-13.354C7.695 1.646 1.646 7.708 1.646 15c0 7.305 6.062 13.354 13.354 13.354zm0-2.226A11.075 11.075 0 013.885 15c0-6.166 4.922-11.128 11.102-11.128 6.18 0 11.128 4.962 11.141 11.128A11.078 11.078 0 0115 26.128zm-4.477-5.577a.99.99 0 00.746-.327l3.718-3.731 3.731 3.73c.197.197.445.328.747.328.576 0 1.047-.484 1.047-1.06a.979.979 0 00-.314-.747l-3.718-3.718 3.73-3.744c.223-.223.315-.445.315-.733 0-.59-.471-1.048-1.047-1.048-.275 0-.498.092-.72.315l-3.771 3.744-3.744-3.731c-.184-.21-.432-.301-.72-.301-.577 0-1.048.445-1.048 1.034a.97.97 0 00.314.733l3.719 3.731-3.719 3.732a.951.951 0 00-.314.733c0 .576.471 1.06 1.048 1.06z"})})},765270:(e,t,n)=>{n.d(t,{l:()=>o});n(667294);var i=n(785893);const o=(0,n(827282).IU)("createPage",{viewBox:"0 0 24 24",svg:(0,i.jsx)("g",{children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M9.944 14.721c.104.094.216.12.336.079l1.703-.688 6.844-6.844-1.406-1.398-6.836 6.836-.711 1.68c-.052.13-.029.242.07.335zm8.102-9.484l1.414 1.406.515-.523a.917.917 0 00.282-.633.76.76 0 00-.258-.61l-.25-.25a.702.702 0 00-.578-.187.975.975 0 00-.617.297l-.508.5zm-9.453.127a3.85 3.85 0 00-3.85 3.85v6.5a3.85 3.85 0 003.85 3.85h6.5a3.85 3.85 0 003.85-3.85V12.95a.85.85 0 10-1.7 0v2.764a2.15 2.15 0 01-2.15 2.15h-6.5a2.15 2.15 0 01-2.15-2.15v-6.5a2.15 2.15 0 012.15-2.15h3.395a.85.85 0 000-1.7H8.593z",clipRule:"evenodd"})})})},280742:(e,t,n)=>{n.d(t,{_:()=>o});n(667294);var i=n(785893);const o=(0,n(827282).IU)("personBadgeExclamationMark",{viewBox:"0 0 24 22",svg:(0,i.jsx)("path",{d:"M14 20.91c1.36 0 2.64-.26 3.838-.781a10.166 10.166 0 003.183-2.158 10.198 10.198 0 002.159-3.174 9.59 9.59 0 00.78-3.848c0-1.36-.263-2.64-.79-3.838a10.165 10.165 0 00-2.158-3.183 10.165 10.165 0 00-3.184-2.158A9.52 9.52 0 0013.99.988c-1.27 0-2.47.228-3.603.684A10.24 10.24 0 007.34 3.566 10.179 10.179 0 005.152 6.39a9.75 9.75 0 00-1.045 3.466c.235-.045.508-.074.82-.087.32-.02.61-.013.87.02.137-1.01.44-1.948.908-2.813A8.088 8.088 0 018.512 4.7a8.261 8.261 0 012.5-1.504 8.095 8.095 0 012.978-.547c1.153 0 2.23.215 3.233.645a8.233 8.233 0 012.646 1.777 8.365 8.365 0 011.787 2.647 8.11 8.11 0 01.645 3.232 8.15 8.15 0 01-2.139 5.557c-.319-.378-.775-.736-1.367-1.074-.593-.345-1.296-.625-2.11-.84-.813-.215-1.712-.322-2.695-.322-.469 0-.918.029-1.347.087-.43.053-.837.124-1.221.215.117.469.176.96.176 1.475 0 .762-.134 1.488-.4 2.178a6.308 6.308 0 01-1.095 1.865c.6.26 1.228.462 1.885.605A9.426 9.426 0 0014 20.91zm-.01-8.3a3.02 3.02 0 001.69-.47 3.53 3.53 0 001.21-1.318c.3-.56.45-1.191.45-1.894 0-.658-.15-1.26-.45-1.807a3.55 3.55 0 00-1.21-1.309 3.035 3.035 0 00-1.69-.488c-.625 0-1.191.163-1.699.489a3.622 3.622 0 00-1.65 3.115c0 .696.15 1.321.449 1.875.3.553.7.993 1.201 1.318a3.194 3.194 0 001.7.488zM5.3 21.017c.67 0 1.305-.13 1.904-.391a5.082 5.082 0 001.582-1.074A5 5 0 009.87 17.97c.26-.6.39-1.237.39-1.914 0-.684-.13-1.325-.39-1.924a4.945 4.945 0 00-1.064-1.582 4.946 4.946 0 00-1.582-1.065 4.772 4.772 0 00-1.924-.39c-.677 0-1.315.13-1.914.39a4.87 4.87 0 00-1.582 1.074A5.082 5.082 0 00.73 14.142a4.707 4.707 0 00-.391 1.914c0 .683.13 1.325.39 1.924a5.07 5.07 0 001.075 1.581c.455.456.983.811 1.582 1.065.599.26 1.237.39 1.914.39zm-.01-1.797a.788.788 0 01-.576-.244.768.768 0 01-.244-.577c0-.227.081-.423.244-.585a.788.788 0 01.576-.245c.234 0 .43.085.586.254a.788.788 0 01.244.576.77.77 0 01-.244.577.8.8 0 01-.586.244zm.01-2.325a.601.601 0 01-.43-.156.613.613 0 01-.166-.41l-.078-2.793a.63.63 0 01.176-.488.673.673 0 01.498-.186.66.66 0 01.488.186.63.63 0 01.176.488l-.078 2.793a.592.592 0 01-.176.41.554.554 0 01-.41.157z"})})},749166:(e,t,n)=>{n.d(t,{w:()=>o});n(667294);var i=n(785893);const o=(0,n(827282).IU)("templates",{viewBox:"0 0 20 20",svg:(0,i.jsxs)("g",{children:[(0,i.jsx)("path",{d:"M6.39733 5.67853C5.89764 5.50234 5.36002 5.40649 4.8 5.40649C2.14904 5.40649 0 7.55432 0 10.2038C0 12.8533 2.14904 15.0011 4.8 15.0011C6.52165 15.0011 8.0316 14.0952 8.87867 12.7343L5.26487 12.0975L6.39733 5.67853Z"}),(0,i.jsx)("path",{d:"M17.3126 3.66609L7.85843 2L6.19141 11.4489L10.6545 12.2354L14.3998 5.81854L16.3449 9.15116L17.3126 3.66609Z"}),(0,i.jsx)("path",{d:"M8.80078 17L14.4008 7.4054L20.0008 17H8.80078Z"})]})})}}]);