"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[39447],{756191:(e,n,t)=>{t.d(n,{FR:()=>m,OY:()=>d,ic:()=>y,sB:()=>p,sG:()=>u,y_:()=>b});t(241792);var a=()=>t(513670),o=()=>t(696459),r=()=>t(834458),i=()=>t(193962),s=()=>t(455222),c=()=>t(177634);function l(e){switch(e){case"checkbox":return"boolean";case"number":return"number";case"text":return"text";case"date":return"date";case"array":return"array";case"block":return"block";case"person":return"person";case"select":return"select";case"function":return"function";case"unknown":return"unknown";case"undefined":return"undefined";default:(0,o().t1)(e)}}function u(e){switch(e.type){case s().$E.InvalidCharacter:return{...i().mr.InvalidCharacter,values:{errorCharacter:e.character}};case s().$E.UnclosedStringLiteral:return i().mr.UnclosedStringLiteral;case s().$E.UnclosedComment:return i().mr.UnclosedComment;case s().$E.TokenExpected:return{...i().mr.TokenExpected,values:{expectedToken:e.token}};case s().$E.StringLiteralContainsToken:return i().mr.StringLiteralContainsToken;case s().$E.ExpressionExpected:return i().mr.ExpressionExpected;case s().$E.PropertyTokenOrFunctionExpected:return i().mr.PropertyTokenOrFunctionExpected;case s().$E.EndOfInputExpected:return i().mr.EndOfInputExpected;case s().$E.UnexpectedError:return i().mr.UnexpectedError;case s().$E.TooDeeplyNested:return i().mr.TooDeeplyNested;default:(0,o().t1)(e)}}function p(e){switch(e.type){case s().h4.FunctionCallArgumentWrongType:case s().h4.FunctionCallUnexpectedArgument:return e.argument;default:return e.node}}function y(e,n){let t;switch(n.type){case s().h4.ThisRowTypeNotFound:t=i().o8.ThisRowTypeNotFound;break;case s().h4.ThisRowNotBlockWithCollection:t=i().o8.ThisRowNotBlockWithCollection;break;case s().h4.MissingPropertyOnThisRow:t={...i().o8.MissingPropertyOnThisRow,values:{propertyName:n.property}};break;case s().h4.MissingContextVariable:{const e=(0,c().Xp)(n.token)?n.token.contextValueId:n.token.valueId;t={...i().o8.MissingContextVariable,values:{valueId:e}}}break;case s().h4.MissingBlock:t={...i().o8.MissingBlock,values:{blockId:n.token.blockId}};break;case s().h4.CallingNotFunction:t={...i().o8.CallingNotFunction,values:{expressionType:l(n.callee.type.type)}};break;case s().h4.FunctionCallTooFewArguments:t={...i().o8.FunctionCallTooFewArguments,values:{minNumParameters:n.minNumParameters,functionName:n.libraryFunction.name,numArguments:n.numArguments}};break;case s().h4.FunctionCallUnexpectedArgument:t={...i().o8.FunctionCallUnexpectedArgument,values:{functionName:n.libraryFunction.name}};break;case s().h4.FunctionCallArgumentWrongType:t={...i().o8.FunctionCallArgumentWrongType,values:{argumentType:l(n.argument.type.type),functionName:n.libraryFunction.name}};break;case s().h4.MemberPropertyMismatchCollection:t={...i().o8.MemberPropertyMismatchCollection,values:{propertyName:n.token.property}};break;case s().h4.MemberPropertyMissing:t={...i().o8.MemberPropertyMissing,values:{propertyName:n.property}};break;case s().h4.MemberPropertyTargetNotBlock:t=i().o8.MemberPropertyTargetNotBlock;break;case s().h4.MemberPropertyTypeInvalid:t={...i().o8.MemberPropertyTypeInvalid,values:{propertyName:n.propertyName,propertyType:n.propertyType}};break;case s().h4.UndefinedIdentifier:t={...i().o8.UndefinedIdentifier,values:{identifier:n.node.text}};break;case s().h4.UnifiedFunctionCannotFindFunction:t={...i().o8.UnifiedFunctionCannotFindFunction,values:{functionName:n.name}};break;case s().h4.UnifiedFunctionNoArguments:t={...i().o8.UnifiedFunctionNoArguments,values:{functionName:n.libraryFunction.name}};break;case s().h4.UnifiedFunctionTargetWrongType:t={...i().o8.UnifiedFunctionTargetWrongType,values:{functionName:n.libraryFunction.name,targetType:l(n.expression.type.type)}};break;case s().h4.CannotRelativelyCompareTypes:t={...i().o8.CannotRelativelyCompareTypes,values:{lhsType:l(n.lhsType.type),rhsType:l(n.rhsType.type)}};break;case s().h4.CannotDoMathOnType:t={...i().o8.CannotDoMathOnType,values:{lhsType:l(n.lhsType.type),rhsType:l(n.rhsType.type)}};break;case s().h4.UnaryMinusOnNonNumber:t={...i().o8.UnaryMinusOnNonNumber,values:{type:l(n.expression.type.type)}};break;case s().h4.IdentifierExpected:t=i().o8.IdentifierExpected;break;case s().h4.FunctionCallExpected:t={...i().o8.FunctionCallExpected,values:{functionName:n.functionName}};break;case s().h4.RenamedIdentifier:t={...i().o8.RenamedIdentifier,values:{identifier:n.identifier,renamedTo:n.renamedTo}};break;case s().h4.RemovedFunction:t={...i().o8.RemovedFunction,values:{functionName:n.functionName,alternative:n.alternative}};break;case s().h4.ContextVariableNotBlockWithCollection:t={...i().o8.ContextVariableNotBlockWithCollection,values:{valueId:n.token.contextValueId}};break;case s().h4.MissingPropertyOnContextVariable:t={...i().o8.MissingPropertyOnContextVariable,values:{propertyName:n.property,valueId:n.token.contextValueId}};break;case s().h4.BlockPropertyTypeInvalid:t={...i().o8.BlockPropertyTypeInvalid,values:{propertyName:n.propertyName}};break;case s().h4.DisallowedReturnType:{const a=n.allowedReturnTypes.map((n=>e.formatMessage((0,r().getHumanReadableType)(n)).toLocaleLowerCase()));t={...i().o8.DisallowedReturnType,values:{allowedReturnType:e.formatList(a,{style:"long",type:"conjunction"}),allowedReturnTypeCount:n.allowedReturnTypes.length,returnType:e.formatMessage((0,r().getHumanReadableType)(n.returnType)).toLocaleLowerCase()}};break}case s().h4.CrossSpacePropertyNotSupported:t={...i().o8.CrossSpacePropertyNotSupported};break;default:(0,o().t1)(n)}return{...t,values:{...t.values,startOffset:n.node.startOffset,endOffset:n.node.endOffset+1}}}function d(e,n){let t;switch(n.type){case s().FY.MissingThisRow:t=i().YG.MissingThisRow;break;case s().FY.MissingSchemaPropertyOnThisRow:t={...i().YG.MissingSchemaPropertyOnThisRow,values:{propertyName:n.property}};break;case s().FY.ThisRowBlockPropertyMismatchCollection:t=i().YG.ThisRowBlockPropertyMismatchCollection;break;case s().FY.MissingContextVariable:t={...i().YG.MissingContextVariable,values:{valueId:n.valueId}};break;case s().FY.IdentifierNotFound:t={...i().YG.IdentifierNotFound,values:{identifier:n.node.text}};break;case s().FY.CannotRelativelyCompareTypes:t={...i().YG.CannotRelativelyCompareTypes,values:{lhsType:l(n.lhsType),rhsType:l(n.rhsType)}};break;case s().FY.CannotDoMathOnType:t={...i().YG.CannotDoMathOnType,values:{valueType:l(n.valueType)}};break;case s().FY.CannotCallNonFunction:t={...i().YG.CannotCallNonFunction,values:{calleeType:l(n.calleeType)}};break;case s().FY.UnifiedFunctionPropertyNotFound:t={...i().YG.UnifiedFunctionPropertyNotFound,values:{functionName:n.node.name}};break;case s().FY.LibraryFunctionExecutionError:const a=n.error instanceof s().Mu?n.error:void 0;t=(null==a?void 0:a.info.type)===s().sj.DateInvalidDurationUnit?{...i().z8.DateInvalidDurationUnit,values:{functionName:n.libraryFunction.name,invalidUnit:a.info.invalidUnit}}:(null==a?void 0:a.info.type)===s().sj.CannotUseToNumberOnList?{...i().z8.CannotUseToNumberOnList}:(null==a?void 0:a.info.type)===s().sj.CannotRoundToNonInteger?{...i().z8.CannotRoundToNonInteger,values:{precision:a.info.precision}}:(null==a?void 0:a.info.type)===s().sj.CannotRoundToTooManyDecimalPlaces?{...i().z8.CannotRoundToTooManyDecimalPlaces,values:{precision:a.info.precision}}:{...i().YG.LibraryFunctionExecutionError,values:{functionName:n.libraryFunction.name}};break;case s().FY.FunctionCallTooFewArguments:t={...i().YG.FunctionCallTooFewArguments,values:{functionName:n.libraryFunction.name}};break;case s().FY.FunctionCallUnexpectedArgument:t={...i().YG.FunctionCallUnexpectedArgument,values:{functionName:n.libraryFunction.name}};break;case s().FY.FunctionCallArgumentWrongType:t={...i().YG.FunctionCallArgumentWrongType,values:{functionName:n.libraryFunction.name,argumentType:l(n.argumentType)}};break;case s().FY.AccessingPropertyOnNonBlock:t=i().YG.AccessingPropertyOnNonBlock;break;case s().FY.MissingDataDependencyBlock:t={...i().YG.MissingDataDependencyBlock,values:{blockId:n.blockPointer.id}};break;case s().FY.MissingDataDependencyPerson:t={...i().YG.MissingDataDependencyPerson,values:{personId:n.personPointer.id}};break;case s().FY.MemberPropertyMismatchCollection:t=i().YG.MemberPropertyMismatchCollection;break;case s().FY.MissingPropertyOnSchemaForMemberProperty:t=i().YG.MissingPropertyOnSchemaForMemberProperty;break;case s().FY.UnaryMinusOnNonNumber:t={...i().YG.UnaryMinusOnNonNumber,values:{expressionType:l(n.expressionType)}};break;case s().FY.UnexpectedRecoveryNode:t=i().YG.UnexpectedRecoveryNode;break;case s().FY.UnexpectedError:t=i().YG.UnexpectedError;break;case s().FY.DepthExceeded:t=i().YG.DepthExceeded;break;case s().FY.CycleDetected:t=i().YG.CycleDetected;break;case s().FY.DownstreamParseFailure:t=i().YG.DownstreamParseFailure;break;case s().FY.MaxEvaluationTimeExceeded:t=i().YG.MaxEvaluationTimeExceeded;break;case s().FY.MissingSchemaPropertyOnCollection:t={...i().YG.MissingSchemaPropertyOnCollection,values:{collectionId:n.collectionId,propertyName:n.property}};break;case s().FY.ContextVariableWrongType:t={...i().YG.ContextVariableWrongType,values:{expectedType:n.expectedType,propertyType:n.resultType,valueId:n.valueId}};break;case s().FY.DisallowedValueType:{const a=n.allowedValueTypes.map((n=>e.formatMessage((0,r().getHumanReadableType)(n)).toLocaleLowerCase()));t={...i().o8.DisallowedReturnType,values:{allowedValueType:e.formatList(a,{style:"long",type:"conjunction"}),allowedValueTypeCount:n.allowedValueTypes.length,valueType:e.formatMessage((0,r().getHumanReadableValueType)(n.expressionValue)).toLocaleLowerCase()}};break}default:(0,o().t1)(n)}return(0,c().w7)(n)?{...t,values:{...t.values,startOffset:n.node.startOffset,endOffset:n.node.endOffset+1}}:t}function m(e){const n=null==e?void 0:e.values;return[a().CE(e,"values"),n]}function b(e){return e.type===s().FY.DepthExceeded||e.type===s().FY.CycleDetected||e.type===s().FY.MaxEvaluationTimeExceeded||e.type===s().FY.LibraryFunctionExecutionError}}}]);