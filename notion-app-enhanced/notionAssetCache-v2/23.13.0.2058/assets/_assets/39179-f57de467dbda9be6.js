"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[39179],{140798:(e,t,n)=>{n.d(t,{Lg:()=>p,N:()=>m,aG:()=>u});var o=()=>n(139978),i=()=>n(306164),r=()=>n(269299),s=()=>n(903609),a=()=>n(6006),l=()=>n(384334),c=()=>n(662062),d=()=>n(876822);function u(e){const{environment:t,currentSpaceViewStore:n,...o}=e;if(!n.getModel())return;const i=!(0,c().q)(n)[e.feature];r().createAndCommit({userAction:"userHomeActions.toggleHomeFeature",environment:t,canUndo:!0,perform:t=>{r().applyOperation({store:n,operation:{pointer:n.pointer,path:["settings","personal_home","enabled_features"],command:"update",args:{[e.feature]:i}},transaction:t})}}),(0,l().cY)({environment:t,show:i,...o})}function m(e){let{environment:t,option:n,from:o,userAction:i}=e;const s=d().default.state.currentSpaceViewStore;if(!s)return!1;const c=s.getOnAppStartStore().getValue();return r().createAndCommit({userAction:i,environment:t,canUndo:!0,perform:e=>{r().applyOperation({store:s,operation:{pointer:s.pointer,path:["settings","on_app_start"],command:"set",args:n},transaction:e})}}),(0,a().pJ)({spaceView:s.getModel(),preference:n}),(0,l().BX)({environment:t,oldValue:c,newValue:n,from:o}),!0}function p(e){const{environment:t,selectedStore:n,currentSpaceViewStore:a,collectionContextStore:c}=e,d=c.collectionViewStore(),u=c.collectionStore(),m=c.collectionViewBlockStore();if(!(u&&d&&m&&a))return;const p=a.getTeamsStores(),g=n.table===i().e0?p.indexOf(n)+1:0,h=n.table===i().e0?n.id:void 0;r().createAndCommit({environment:t,userAction:"PersonalHomeTrendingPanel.setCollectionViewSourceTeamId",canUndo:!0,perform:e=>{r().applyOperation({store:d,operation:{pointer:{id:d.id,table:o().np},path:["format","collection_view_source","teamId"],command:"set",args:h},transaction:e}),(0,s().y)({environment:t,collectionViewBlockStore:m,collectionViewStore:d,collectionStore:u,collectionContextStore:c,isFullScreen:!1,isRootChild:!1,isInPeekRenderer:!1,viewsModuleContext:void 0,forceLocalQueryCollection:!1})}}),(0,l().Ay)({environment:t,teamId:h,index:g})}},388573:(e,t,n)=>{n.d(t,{DF:()=>j,Ri:()=>L,Xi:()=>D,YF:()=>I,Zo:()=>T,bh:()=>M});n(670560),n(122556),n(582845),n(250570),n(533019),n(721473),n(788208),n(22624),n(267602),n(653476),n(30005);var o=()=>n(492788),i=()=>n(279865),r=()=>n(26970),s=()=>n(513670),a=()=>n(248825),l=()=>n(799454),c=()=>n(282662),d=()=>n(636340),u=()=>n(844085),m=()=>n(203927),p=()=>n(970105),g=()=>n(269299),h=()=>n(109757),f=()=>n(852465),v=()=>n(505462),y=()=>n(826955),S=()=>n(781022),b=()=>n(600785),x=()=>n(596308),C=()=>n(52566),w=()=>n(354988),_=()=>n(433908),k=()=>n(533492);function j(e){var t,n;const{environment:o,store:r,text:s,files:l,transaction:c,discussionLocation:d,property_id:u,blockStore:m}=e,g=f().GP(r);if(!g)return;const{filesToCreate:h,fileStoresToDelete:v}=function(e,t){const n=[],o=new Set;t.forEach((e=>{"local"===e.type&&e.file instanceof File?n.push(e.file):o.add(e.id)}));const i=f().le(e),r=i.filter((e=>e.getAlive()&&!o.has(e.id)));return{filesToCreate:n,fileStoresToDelete:r}}(r,l);T({commentStore:r,fileBlocks:v,transaction:c}),(0,w().J)({commentStore:r,files:h,environment:o,transaction:c});const y=f().zP(r);p().sO({environment:o,store:y,value:s,transaction:c}),(0,k().Q)(r,c);const b=null==r||null===(t=r.getParentStore())||void 0===t?void 0:t.getParentStore(),C=i().B7.includes(d),_=null==g||null===(n=g.getParentStore())||void 0===n?void 0:n.getNavigableBlockStore(),{property_type:j,collection_id:I,collection_view_id:M,view_type:D,collection_view_block_id:L}=(0,x().o)(u,m);a().zd(o,{from:d,comment_id:r.id,discussion_id:g.id,discussion_type:g.getType(),parent_block_id:g.getParentId(),parent_collection_id:null==b?void 0:b.getParentCollectionIdUpToTwoLevels(),...C&&{inbox_session_id:S().default.state.sessionId,notification_page_id:null==_?void 0:_.id},property_type:j,collection_id:I,collection_view_id:M,view_type:D,collection_view_block_id:L})}function I(e){var t,n;const{environment:o,commentStore:r,transaction:s,discussionLocation:l}=e,c=f().GP(r);if(!c)return;const u=f().ak(c),m=u.getValue();if(!m)return;T({commentStore:r,fileBlocks:f().le(r),transaction:s}),d().sW({store:r,transaction:s,data:{alive:!1}}),g().applyOperation({store:u,operation:{pointer:u.pointer,path:u.path,command:"listRemove",args:{id:r.id}},transaction:s}),(0===m.length||1===m.length&&m[0]===r.id)&&(0,_().d)({environment:o,discussionStore:c,transaction:s}),(0,k().Q)(r,s);const p=i().B7.includes(l),h=null==c||null===(t=c.getParentStore())||void 0===t?void 0:t.getNavigableBlockStore();a().k$(o,{from:e.discussionLocation,discussion_id:c.id,discussion_type:c.getType(),comment_id:r.id,parent_block_id:c.getParentId(),parent_collection_id:null===(n=c.getParentStore())||void 0===n?void 0:n.getParentCollectionIdUpToTwoLevels(),...p&&{inbox_session_id:S().default.state.sessionId,notification_page_id:null==h?void 0:h.id}})}function M(e){var t,n;const{environment:o,commentStore:r,discussionStore:s,transaction:l,discussionLocation:c}=e;d().sW({store:s,data:{resolved:!1},transaction:l});const u=i().B7.includes(c),m=null==s||null===(t=s.getParentStore())||void 0===t?void 0:t.getNavigableBlockStore();a().SU(o,{comment_id:r.id,discussion_id:s.id,from:e.discussionLocation,parent_block_id:s.getParentId(),parent_collection_id:null===(n=s.getParentStore())||void 0===n?void 0:n.getAssociatedCollectionId(),...u&&{inbox_session_id:S().default.state.sessionId,notification_page_id:null==m?void 0:m.id}})}function D(e){var t,n;const{environment:o,discussionStore:r,textValue:l,transaction:c,files:d,property_id:u,blockStore:m}=e,{id:p}=o.currentUser;if(!p)return;const g=h().dm(d);if(s().Xy(l,[])&&0===g.length)return;const f=(0,C().X)({discussionStore:r,text:l,files:g,environment:o,transaction:c}),v=i().B7.includes(e.discussionLocation),y=null===(t=r.getParentStore())||void 0===t?void 0:t.getNavigableBlockStore(),{property_type:b,collection_id:w,collection_view_id:_,view_type:k,collection_view_block_id:j}=(0,x().o)(u,m);a().d2(o,{from:e.discussionLocation,comment_id:f.id,discussion_id:r.id,discussion_type:r.getType(),parent_block_id:r.getParentId(),parent_collection_id:null==r||null===(n=r.getParentStore())||void 0===n?void 0:n.getParentCollectionIdUpToTwoLevels(),...v&&{inbox_session_id:S().default.state.sessionId,notification_page_id:null==y?void 0:y.id},property_type:b,collection_id:w,collection_view_id:_,view_type:k,collection_view_block_id:j})}function T(e){const{commentStore:t,fileBlocks:n,transaction:o}=e,i=f().ig(t);n.forEach((e=>{d().sW({store:e,data:{alive:!1},transaction:o}),c().Od({parentStore:i,childToRemoveStore:e,transaction:o})}))}async function L(e){var t;let{discussionStore:n,currentBlockStore:i,environment:s,analyticsFrom:a,currentEl:c}=e;if(!i)return null;if(!n.isDefined())return;function d(e){const t=(0,b().L)({discussionId:n.id,blockId:e});if(!t)return;const o=document.getElementsByClassName((0,r().dk)({discussionId:n.id}))[0];return o?u().bx({element:o,environment:s,scrollerContext:t.getScrollerContext(),vertical:{reveal:"top"},horizontal:{reveal:"closest"},animate:!0}):u().XW({environment:s,handle:t,vertical:{reveal:"top"},horizontal:{reveal:"closest"},animate:!0}),t.displaySelectionHalo(750),t}const p=(null===(t=n.getRecordStoreUIParent())||void 0===t?void 0:t.id)??n.getParentId();d(p)||(await m().Nz(i,[p]),await o().default.afterNextFlush(),d(p));const g=y().G.createChildStore(i,n.getParentPointer()),h=v().get(),f=null==h?void 0:h.commonAncestorContainer,S=!(null!=h&&h.collapsed)&&f&&(c===f||(null==c?void 0:c.contains(f)));l().Ib({environment:s,blockStore:g||i,analyticsFrom:a,discussionIds:[n.id],shouldFocusDiscussion:!S,recursivelyLoadAllDiscussions:!1})}},552814:(e,t,n)=>{n.d(t,{Z:()=>u});n(398858),n(461318),n(33228);var o=n(667294),i=()=>n(846550),r=()=>n(707513),s=()=>n(79555),a=()=>n(154186),l=()=>n(654133),c=()=>n(37272),d=n(785893);function u(e){let{title:t,source:n,size:u,file:m,store:p,onClick:g,showBlockActionMenuButton:h}=e;(0,o.useEffect)((()=>()=>{"local"===(null==m?void 0:m.type)&&null!=m&&m.dataURL&&URL.revokeObjectURL(m.dataURL)}),[m]);const f=(0,i().yK)((e=>({justBackgroundHovered:{background:e.surface.wash},wrapper:{height:48,width:214,background:e.surface.page,border:`1px solid ${e.regularDividerColor}`,borderRadius:12,padding:"7px 10px 8px 8px",cursor:g?"pointer":"default"},wrapperHoveredStyle:{background:e.surface.wash},iconContainer:{height:32,width:32,minWidth:32,background:e.tint.regular,borderRadius:6,display:"flex",justifyContent:"center",alignItems:"center"},icon:{height:24,width:24,fill:e.regularIconColor},fileName:{fontSize:14,fontWeight:r().Ue.medium,lineHeight:"18px",color:e.text.primary,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},fileSizeText:{fontSize:12,lineHeight:"15px",color:e.text.secondary},actionMenuHoveredStyle:{background:e.tint.regular}})),[g]),v=(0,c().getIcon)(n);return(0,d.jsx)(a().Z,{style:f.wrapper,hoveredStyle:p?f.wrapperHoveredStyle:f.justBackgroundHovered,pressedStyle:p?f.wrapperHoveredStyle:f.justBackgroundHovered,onClick:g,children:(0,d.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[(0,d.jsx)("div",{style:f.iconContainer,children:v(f.icon)}),(0,d.jsx)("div",{style:{overflow:"hidden",flexGrow:1},children:(0,d.jsx)(l().Z,{renderTooltip:()=>(0,d.jsx)("div",{children:t}),render:e=>(0,d.jsxs)("div",{style:{display:"flex",flexDirection:"column"},...e,children:[(0,d.jsx)("div",{style:f.fileName,children:t}),u&&(0,d.jsx)("span",{style:f.fileSizeText,children:(0,c().formatFileSize)(u)})]})})}),p&&h&&(0,d.jsx)(s().Z,{store:p,fadeIn:!1,actionSectionGroupKey:"comment_media",hideFilterActionsInput:!0,style:{borderRadius:50},hoveredStyle:f.actionMenuHoveredStyle,iconStyle:{width:12,height:12}})]})})}},585:(e,t,n)=>{n.d(t,{Z:()=>b});var o=n(667294),i=()=>n(219727),r=()=>n(142735),s=()=>n(846550),a=()=>n(227758),l=()=>n(702436),c=()=>n(788860),d=()=>n(1910),u=()=>n(842574),m=()=>n(250625),p=()=>n(275200),g=()=>n(333264),h=()=>n(520849),f=()=>n(561280),v=n(785893);const y=.8,S=(0,c().vU)({scrollLeftButtonAriaLabel:{defaultMessage:"Scroll left",id:"FilmStrip.scrollLeftButtonAriaLabel"},scrollRightButtonAriaLabel:{defaultMessage:"Scroll right",id:"FilmStrip.scrollRightButtonAriaLabel"}});function b(e){let{children:t,shouldShowGrayFog:n}=e;const b=(0,c().YB)(),x=(0,o.useRef)(null),C=(0,i().O7)(),w=(0,r().qz)(void 0,f().Z),_=(0,r().VK)((()=>w.state.elementRef),[w]),k=(0,g().T7)(_),j=(0,g().$E)(_),I=(0,g().B2)(_),M=(0,o.useCallback)((()=>{var e;null===(e=x.current)||void 0===e||e.getClientRect()}),[]);(0,o.useEffect)((()=>(m().lj(window,"resize",M),()=>{m().ZV(window,"resize",M)})),[M]),(0,o.useEffect)((()=>{M()}),[M]);const D=I>0,T=Math.ceil(I+k)<j,L=(0,o.useCallback)((e=>{var t;e.stopPropagation(),p().yZ({element:null===(t=x.current)||void 0===t?void 0:t.getNode(),environment:C,options:{left:-y*k,behavior:"smooth"}})}),[k,C]),A=(0,o.useCallback)((e=>{var t;e.stopPropagation(),p().yZ({element:null===(t=x.current)||void 0===t?void 0:t.getNode(),environment:C,options:{left:y*k,behavior:"smooth"}})}),[k,C]),V=(0,s().yK)((e=>({scrollerWrapper:{display:"flex",position:"relative"},scroller:{overflow:"auto",display:"flex",gap:4,zIndex:0,paddingTop:6,marginTop:-6,paddingRight:4},commonArrowStyles:{position:"absolute",borderRadius:12,width:24,height:24,background:e.tint.regular,top:12,boxShadow:"none"},iconHoveredStyle:{background:e.tint.regular},leftArrowStyle:{left:0},rightArrowStyle:{right:4},arrowIconStyle:{height:12,fill:e.icon.secondary},leftArrowContainer:{position:"absolute",height:"100%",width:30,background:`linear-gradient(to right, ${n?e.hoveredMarginDiscussionBackground:e.selectedMarginDiscussionBackground} 0px, ${e.contentBackgroundTransparent} 30px`},rightArrowContainer:{position:"absolute",height:"100%",width:30,right:0,background:`linear-gradient(to left, ${n?e.hoveredMarginDiscussionBackground:e.selectedMarginDiscussionBackground} 0px, ${e.contentBackgroundTransparent} 30px`}})),[n]);return(0,v.jsxs)("div",{style:V.scrollerWrapper,children:[(0,v.jsx)(u().T,{ref:x,type:h().Z.X,store:w,onScroll:M,style:V.scroller,children:t}),D&&(0,v.jsx)("div",{style:V.leftArrowContainer,children:(0,v.jsx)(d().Z,{icon:a().Y,hovered:!1,showShadow:!0,onClick:L,ariaLabel:b.formatMessage(S.scrollLeftButtonAriaLabel),style:{...V.commonArrowStyles,...V.leftArrowStyle},iconStyle:V.arrowIconStyle,hoveredStyle:V.iconHoveredStyle})}),T&&(0,v.jsx)("div",{style:V.rightArrowContainer,children:(0,v.jsx)(d().Z,{icon:l().n,hovered:!1,showShadow:!0,onClick:A,ariaLabel:b.formatMessage(S.scrollRightButtonAriaLabel),style:{...V.commonArrowStyles,...V.rightArrowStyle},iconStyle:V.arrowIconStyle,hoveredStyle:V.iconHoveredStyle})})]})}},297490:(e,t,n)=>{n.d(t,{C:()=>w,Z:()=>C});n(670560),n(122556),n(582845),n(250570),n(533019),n(721473),n(788208),n(22624),n(667294);var o=()=>n(146947),i=()=>n(142735),r=()=>n(846550),s=()=>n(156642),a=()=>n(532850),l=()=>n(974888),c=()=>n(580397),d=()=>n(530980),u=()=>n(396136),m=()=>n(722917),p=()=>n(955620),g=()=>n(788860),h=()=>n(568017),f=()=>n(707513),v=()=>n(43360),y=()=>n(527278),S=()=>n(654953),b=n(785893);const x=new Set([s().Ti.toggle,s().Ti.bulletedList,s().Ti.numberedList,s().Ti.quote,s().Ti.toDo,s().Ti.code,s().Ti.callout,s().Ti.header,s().Ti.subHeader,s().Ti.subSubHeader,s().Ti.tableRow]);function C(e){const t=(0,r().Fg)(),n=(0,g().YB)(),h=(0,i().VK)((()=>{var t;return e.store.isDefined()?null===(t=e.store.getParentStore())||void 0===t?void 0:t.getValue():null}),[e.store]),C=(0,i().VK)((()=>e.blockStore.getSpaceId()),[e.blockStore]),_=(0,i().VK)((()=>{const t=e.store.getParentStore();if(null==t||!t.isType("alias"))return;const n=t.getAliasTargetStore();return(null==n?void 0:n.table)===u().iU&&n.isFormBlock()?{store:n,value:n.getValue()}:void 0}),[e.store]);let k=(0,i().VK)((()=>{if(!e.store.isDefined())return;const t=e.store.getContext(),o=t?(0,c().Bb)({discussionContextData:t,discussionType:e.store.getType(),discussionId:e.store.id,intl:n}):void 0;if(!o)return;let i=p().VP_(o,(t=>!p().xw5(t)||p().h19(t)===e.store.id));return p().VrM(i)>50&&(i=p().Zdj(i,50),i.push((0,p().V3y)("…"))),i}),[e.store,n]);const j=(0,i().VK)((()=>{const t=e.blockStore.getAssociatedCollectionStore();if(!t||"collection"!==t.table)return;const n=t.getSchema(),o=e.store.getPropertyId();return void 0!==o?(0,a().Qm)({schema:n,property:o}):void 0}),[e.blockStore,e.store]),I=n=>{let{textValue:i,propertySchema:r,discussionParentValue:a}=n;const c=(0,b.jsx)("div",{style:{overflow:"hidden",lineHeight:"18px",maxHeight:72},children:(0,b.jsx)(v().KX,{value:{value:i,spaceId:C},propertySchema:r,labeled:!1,rootStore:e.blockStore,disableStyleAnnotations:!0,disableInsertedDeletedAnnotations:!0,disableDateStyleAnnotations:!0})});if(!a)return c;const d=a.type;return d===s().Ti.code?(0,b.jsx)(l().Z,{title:(0,v().SP)(a),theme:t,style:{marginTop:0,marginBottom:0},children:(0,b.jsx)("span",{style:{fontFamily:f().F5(o().locale).mono,fontSize:12,tabSize:2},children:c})}):(0,v().pH)(d)?(0,b.jsx)(l().Z,{title:(0,v().pH)(d),theme:t,style:{marginTop:0,marginBottom:0},children:c}):c},M={display:"flex",width:"100%",marginTop:6,marginBottom:6,fontSize:13,color:t.text.secondary};function D(e){k||(k=[[""]]);const t=(0,m().Kc)(y().Z.getIntl()).title;return t?(0,b.jsx)("div",{style:M,children:(0,b.jsxs)("div",{style:{display:"flex",width:"100%"},children:[(0,b.jsx)(w,{}),j&&(0,b.jsx)(S().Z,{propertySchema:j,dontShowColon:""===k[0][0]}),I({textValue:k,discussionParentValue:e,propertySchema:t})]})}):null}if("updates_sidebar"===e.discussionLocation){if(!h)return null;if("text"!==h.type&&void 0===j){const t=null!=_&&_.value?_.value:h,n=null!=_&&_.store?_.store:e.blockStore;return(0,b.jsx)("div",{onClick:e.onClick,style:{display:"flex",cursor:d().kk5.fromBlock(h).isType(s().Zi)?"text":void 0},children:k&&x.has(h.type)?D(h):(0,b.jsxs)("div",{style:M,children:[(0,b.jsx)(w,{}),(0,b.jsx)(v().ZP,{blockValue:t,rootStore:n,blockPreviewLocation:"comments_sidebar"})]})})}}return(0,b.jsx)("div",{onClick:e.onClick,style:{cursor:"text"},children:D()})}function w(){const e=(0,r().yK)((e=>({bar:{width:2,marginLeft:1,borderRadius:4,marginRight:8,background:(0,h().DB)(e.mode),flexShrink:0}})),[]);return(0,b.jsx)("div",{style:e.bar})}},887328:(e,t,n)=>{n.d(t,{Z:()=>ee});n(267602),n(653476),n(30005),n(241792),n(398858),n(461318),n(33228);var o=n(667294),i=()=>n(492788),r=()=>n(219727),s=()=>n(142735),a=()=>n(846550),l=()=>n(35980),c=()=>n(788860),d=()=>n(513670),u=()=>n(248825),m=()=>n(970105),p=()=>n(990966),g=()=>n(269299),h=()=>n(109757),f=()=>n(247724),v=()=>n(191003),y=()=>n(127519);function S(e,t){const o=n(852465).le(t),i=h().nQ(o);e.setState({...e.state,files:i})}var b=()=>n(37272),x=()=>n(205248),C=()=>n(1910),w=()=>n(654133),_=()=>n(236029),k=n(785893);const j=function(e){const t=(0,r().O7)(),{icon:n,onClick:o,tooltip:i}=e,s=(0,_().Z)(!0);return(0,k.jsx)(w().Z,{renderTooltip:()=>i,render:e=>(0,k.jsx)(C().Z,{ariaLabel:i,icon:n,iconStyle:{width:t.device.isMobile?20:16,height:t.device.isMobile?20:16},style:{marginLeft:t.device.isMobile?16:0},onClick:o,...e,...s})})};const I=function(e){const t=(0,c().YB)(),o=(0,r().O7)(),{device:i}=o,s=(0,_().Z)(!0),l=(0,a().yK)((e=>({cancelIcon:{background:e.mediumIconColor,borderRadius:"50%",pointerEvents:"auto",height:20,width:20,marginLeft:o.device.isMobile?4:0},cancelIconHovered:{background:e.lightIconColor}})),[o.device.isMobile]),{canSend:d,visible:u,onSend:m,onCancel:p,isEditing:g,animated:h,onMention:f,onAttach:v,sendTooltip:y}=e,S={opacity:u?1:0};return(0,k.jsx)(n(628370).Z,{animate:S,style:{display:"flex",flexDirection:"column-reverse",alignItems:"end",pointerEvents:u?void 0:"none",width:"min-content",...h&&S},children:(0,k.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:6},children:[(0,k.jsx)(j,{icon:n(738017).s,onClick:v,tooltip:t.formatMessage({id:"discussionInput.uploadFile.button.tooltip",defaultMessage:"Attach file"})}),!i.isMobileBrowser&&(0,k.jsx)(j,{icon:n(856870).O,onClick:f,tooltip:t.formatMessage({id:"discussionInput.insertMention.button.tooltip",defaultMessage:"Mention a person, page, or date"})}),g&&(0,k.jsx)("div",{style:{height:14,marginRight:6},children:(0,k.jsx)(n(666414).Z,{vertical:!0,size:1})}),g?(0,k.jsx)(C().Z,{ariaLabel:t.formatMessage({id:"discussionInput.cancelButton.ariaLabel",defaultMessage:"Cancel editing comment"}),icon:x().D,isDarkIconColor:!0,onClick:p,iconStyle:{fill:"white",height:o.device.isMobile?18:16,width:o.device.isMobile?18:16},style:l.cancelIcon,hoveredStyle:l.cancelIconHovered,...s}):null,g?(0,k.jsx)(C().Z,{ariaLabel:t.formatMessage({id:"discussionInput.updateButton.ariaLabel",defaultMessage:"Update comment"}),icon:n(382850).r,onClick:m,isBlue:d,disabled:!d,iconStyle:{height:o.device.isMobile?23:21,width:o.device.isMobile?23:21},style:{pointerEvents:"auto",marginLeft:o.device.isMobile?16:2,height:24,width:24},...s}):(0,k.jsx)(w().Z,{disableTooltip:!(0,n(696459).$K)(y),renderTooltip:()=>(0,k.jsx)(k.Fragment,{children:y}),render:e=>(0,k.jsx)(C().Z,{ariaLabel:t.formatMessage({id:"discussionInput.sendButton.ariaLabel",defaultMessage:"Send comment"}),icon:n(961507)._,onClick:m,isBlue:d,disabled:!d,iconStyle:{height:o.device.isMobile?26:24,width:o.device.isMobile?26:24},style:{pointerEvents:"auto",marginLeft:o.device.isMobile?16:0,height:24,width:24},...(0,n(164079).Z)(s,e)})})]})})},M=(0,c().vU)({defaultPlaceholder:{defaultMessage:"Add a comment…",id:"discussionInput.defaultPlaceholder.addComment"},pasteFileIntoCommentNotAllowed:{id:"clipboardActions.pasteFileIntoCommentError.message",defaultMessage:"Sorry, you cannot paste files into a comment."},replyInputPlaceholder:{defaultMessage:"Reply...",id:"updateSidebar.placeholder.addComment"}});var D=()=>n(455530),T=()=>n(518242),L=()=>n(135499);function A(e){const{url:t,imageNaturalHeight:n,imageNaturalWidth:i}=e,r=(0,o.useMemo)((()=>({display:"block",width:`min(${i}px, 100%)`,height:`min(${n}px, 100%)`,pointerEvents:"auto",objectFit:"cover"})),[i,n]);return(0,k.jsx)("div",{style:V,children:(0,k.jsx)(T().ZP,{src:t,style:r,placeholderLoadedStyle:{display:"flex",justifyContent:"center",alignItems:"center"}})})}const V={alignSelf:"center",margin:"0 auto",position:"relative",height:"100%",width:"100%",overflow:"hidden"};const B=function(e){let{file:t,isLarge:i}=e;const s=(0,o.useRef)(null),l=(0,r().O7)(),c=(0,a().yK)((e=>({imageThumbnail:{...{border:`1px solid ${e.stroke.secondary}`,borderRadius:8,cursor:"zoom-in"},...i?{objectFit:"contain",width:"auto",height:"auto",maxWidth:240,maxHeight:240,minWidth:48,minHeight:48}:{width:48,height:48}}})),[i]),d=(0,o.useCallback)((()=>{var e;const n=null===(e=s.current)||void 0===e?void 0:e.getImageDimensions();if(!n)return;const{naturalHeight:o,naturalWidth:i}=n;return"local"===t.type?(0,k.jsx)(A,{url:t.dataURL,imageNaturalHeight:o,imageNaturalWidth:i}):(0,k.jsx)(L().Z,{url:t.source,render:(e,t)=>(0,k.jsx)(A,{url:t,error:e,imageNaturalHeight:o,imageNaturalWidth:i}),isAuthenticated:!0,permissionRecord:t.store.pointer})}),[t]),u=(0,o.useCallback)((e=>{var t;e.stopPropagation();const o=null===(t=s.current)||void 0===t?void 0:t.getImageDimensions();o&&n(611253).ui({environment:l,renderFullScreenNode:d,fullScreenNodeRect:o.clientRect,contentAspectRatio:o.naturalWidth/o.naturalHeight})}),[d,l]);return"local"===t.type?(0,k.jsx)(T().ZP,{src:t.dataURL,style:c.imageThumbnail,placeholderStyle:c.imageThumbnail,onClick:u,ref:s}):(0,k.jsx)(L().Z,{url:t.source,isAuthenticated:!0,permissionRecord:t.store.pointer,render:(e,t)=>(0,k.jsx)(T().ZP,{src:t,style:c.imageThumbnail,placeholderStyle:c.imageThumbnail,onClick:u,ref:s})})};var H=()=>n(205228),R=()=>n(552814),F=()=>n(585),Z=()=>n(154186);function z(e){let{children:t,handleRemoveFileClicked:n}=e;const[i,s]=(0,o.useState)(!1),a=(0,r().O7)(),l=(0,c().YB)(),d=i||a.device.isMobile;return(0,k.jsxs)(Z().Z,{onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),style:E,hoveredStyle:U,pressedStyle:U,children:[t,d&&(0,k.jsx)(C().Z,{icon:x().D,style:P,hasBackground:!0,isDarkIconColor:!0,hovered:!1,showShadow:!0,onClick:n,ariaLabel:l.formatMessage({id:"discussionInputAttachment.removeFileButton.label",defaultMessage:"Remove file"})})]})}const P={position:"absolute",top:-4,right:-3,height:18,width:18,borderRadius:18},E={position:"relative",cursor:"pointer",width:"min-content",height:"min-content",background:"transparent"},U={background:"transparent"},N=3,K=3;function O(e){let{files:t,onRemoveFile:n}=e;const{images:o,nonImages:i}=(0,s().VK)((()=>{const[e,n]=d().uK(t,(e=>function(e){if("local"===e.type){const t=e.file.type,[n]=t.split("/");if("image"===n)return!0}const t=(0,D().Dz)({url:"local"===e.type?e.file.name:e.source,baseUrl:H().default.domainBaseUrl,publicDomainName:H().default.publicDomainName});return"image"===t}(e)));return{images:e,nonImages:n}}),[t]);return(0,k.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column",gap:4,marginTop:4},children:[(0,k.jsx)(W,{files:o,onRemoveFile:n}),(0,k.jsx)($,{files:i,onRemoveFile:n})]})}function W(e){let{files:t,onRemoveFile:n}=e;return 0===t.length?null:t.length<=N?(0,k.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:4},children:t.map((e=>(0,k.jsx)(z,{handleRemoveFileClicked:()=>n(e),children:(0,k.jsx)(B,{file:e,isLarge:!0})},e.id)))}):(0,k.jsx)(F().Z,{children:t.map((e=>(0,k.jsx)(z,{handleRemoveFileClicked:()=>n(e),children:(0,k.jsx)(B,{file:e,isLarge:!1})},e.id)))})}function $(e){let{files:t,onRemoveFile:n}=e;if(0===t.length)return null;const o=t.map((e=>{const t=e.name??"",o="remote"===e.type?e.source:t,i=e.size??"";return(0,k.jsx)(z,{handleRemoveFileClicked:()=>n(e),children:(0,k.jsx)(R().Z,{title:t,source:o,size:i,showBlockActionMenuButton:!1})},e.id)}));return t.length<=K?(0,k.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:4},children:o}):(0,k.jsx)(F().Z,{children:o})}const Y=o.forwardRef((function(e,t){var x;const C=(0,r().O7)(),{device:w,currentUser:_}=C,{onFileUploaded:j}=e,[D,T,L]=(0,s().AF)(e.discussionInputStore),{textStore:A,files:V}=D,B=(0,s().VK)((()=>A.getValue()),[A]),[H,R]=(0,o.useState)(!1),F=(0,o.useRef)(null),{commentStore:Z,adjustWidthForDraftDiscussions:z,dontMoveCursorToInputEndOnFocus:P}=e,E=e.discussionFormat!==b().DiscussionFormat.Page;(0,o.useImperativeHandle)(t,(()=>({uploadFiles:te})));const U=(0,s().VK)((()=>(0,n(718959).B7)(C)),[C]),N=(0,o.useRef)(null===(x=e.blockStore)||void 0===x?void 0:x.clone()),K=(0,s().VK)((()=>{const e=y().default.state;return"editing"===e.mode&&(0,v().qS)(e.multiSelection)&&e.multiSelection.start.store===A}),[A]),W=(0,s().VK)((()=>({isEmpty:(0,b().inputIsEmpty)(L),hasChanged:(0,b().hasCommentChanged)(L,Z),hasNewLineCharacter:L.hasNewLineCharacter()})),[L,Z]),$=(0,s().VK)((()=>K||!W.isEmpty),[W.isEmpty,K]),Y=(0,o.useCallback)((async()=>{const e=y().default.state;"editing"===e.mode&&(0,v().qS)(e.multiSelection)&&e.multiSelection.start.store===A||(p().setSelectionAtEnd({store:A}),await i().default.afterNextFlush())}),[A]),ee=(0,s().VK)((()=>Boolean(e.blockStore&&(0,n(95718).Eo)(e.blockStore))),[e.blockStore]),te=(0,o.useCallback)((async e=>{if(await Y(),V.length+e.length>10)return void n(308186).UW((0,k.jsx)(c()._H,{id:"discussionInput.uploadFile.tooManyFilesErrorMessage",defaultMessage:"You cannot upload more than {maxFiles} files per comment.",values:{maxFiles:10}}));const t=e.map(h().Xo);T({...D,files:[...V,...t]}),null==j||j()}),[Y,V,T,D,j]),ne=e.discussionFormat===b().DiscussionFormat.Margin,oe=e.discussionFormat===b().DiscussionFormat.Sidebar;(0,o.useEffect)((()=>{e.commentStore&&S(L,e.commentStore)}),[L,e.commentStore]);const ie=(0,o.useRef)(!1),re=(0,o.useCallback)((t=>{t?l().Z.set({userId:_.id,key:Q(e.parentStore.id,e.inReplyToDiscussionId),value:t??null}):l().Z.remove({userId:_.id,key:Q(e.parentStore.id,e.inReplyToDiscussionId)})}),[_.id,e.inReplyToDiscussionId,e.parentStore.id]);(0,o.useEffect)((()=>{e.shouldSaveUnsentComments&&ie.current&&re(B),ie.current=!0}),[e.shouldSaveUnsentComments,re,B]);const se=(0,o.useRef)(A);(0,o.useEffect)((()=>{if(!n(26796).Z.state.isOpen&&e.shouldSaveUnsentComments){const t=l().Z.get({userId:_.id,key:Q(e.parentStore.id,e.inReplyToDiscussionId)});t&&g().createAndCommit({userAction:"DiscussionInput.willMount",environment:C,canUndo:!0,perform:e=>{m().sO({environment:C,store:se.current,value:t,transaction:e})}})}}),[C,_.id,e.inReplyToDiscussionId,e.parentStore.id,e.shouldSaveUnsentComments]);const ae=(0,o.useRef)(V);(0,o.useEffect)((()=>{ae.current=V}),[V]),(0,o.useEffect)((()=>()=>{ae.current&&ae.current.forEach((e=>{"local"===e.type&&e.dataURL&&URL.revokeObjectURL(e.dataURL)}))}),[]);const le=(0,o.useCallback)((()=>{var e;return null===(e=F.current)||void 0===e?void 0:e.focus()}),[]),{autoFocus:ce=!1}=e;(0,n(732811).K)((()=>{ce&&le()}));const de=V&&V.length>0,ue=e.discussionFormat===b().DiscussionFormat.Menu&&e.inReplyToDiscussionId,me=!e.disableFocusRing&&!ue&&(oe||ne&&!e.isNewComment),pe=void 0!==e.showCtaButtons?e.showCtaButtons:e.isEditingExistingComment||$||H,ge=!e.isMobileSlideUpMenu,he=(ne||oe)&&!e.isNewComment,fe=(0,a().yK)((e=>({inputWrapper:{display:"flex",width:z?"calc(100% + 6px)":"100%",fontSize:14,borderRadius:6,transition:"background 300ms ease",cursor:pe?"text":"pointer",alignSelf:"center",position:"relative",flexWrap:"wrap",justifyContent:"flex-end",background:"transparent",alignItems:"center",rowGap:4,columnGap:6,padding:"3.5px 4px 3px 4px",margin:"-3.5px -4px 0 -4px"},textFieldStyle:{fontSize:14,maxHeight:w.isMobileNative?"50vh":"70vh",WebkitOverflowScrolling:"touch",userSelect:"auto",WebkitUserSelect:"auto",lineHeight:"20px",overflow:"auto",whiteSpace:"pre-wrap",padding:"2.5px",margin:"-2.5px"}})),[z,pe,w]),ve=(0,s().VK)((()=>0===(A.getValue()||[]).length),[A]),ye=function(e){const{isEditing:t,onEditPreviousComment:n,textRef:o}=e;if(!t)return{};const i=e=>{"key"in e&&(e.metaKey||e.ctrlKey)&&o.current&&p().setSelectionAtStart({store:o.current.props.store})},r=e=>{"key"in e&&(e.metaKey||e.ctrlKey)&&o.current&&p().setSelectionAtEnd({store:o.current.props.store})};return{onUp:n??i,onDown:r}}({isEditing:K,shouldTrapCursorInInput:E,onEditPreviousComment:ve?e.onEditPreviousComment:void 0,textRef:F}),Se=()=>{re(void 0),e.onSubmit()},be=(0,k.jsx)(I,{visible:pe,onAttach:async()=>{const{device:e}=C;e.isIOS&&e.isMobileNative&&!e.isTablet&&(p().clear({preventDismissMobileKeyboard:!0,environment:C}),await i().default.afterNextFlush());const t=await h().y({multiple:!0});await te(t),u().Zq(C,{type:"file_picker"})},onMention:async()=>{await Y(),n(627817).lZ({environment:C,mentionTypes:{page:!0,heading:!0,createPage:!1,user:!0,inviteUserToWorkspace:!0,inviteUserToPage:!0,bot:!0,date:!0,reminder:!1,templateVariable:!1,group:!0,team:!0,formulaContextVariable:!1}})},canSend:!W.isEmpty&&!ee,onSend:Se,onCancel:e.onCancel,isEditing:e.isEditingExistingComment||!1,animated:ne,inline:!0,sendTooltip:ee?(0,k.jsx)(c()._H,{id:"discussionInput.cannotSubmitBecauseOfAIEdits",defaultMessage:"Resolve pending edits before commenting"}):void 0});return(0,k.jsx)(n(94967).Z,{debugName:"DiscussionInput",capture:K,onCommandEnter:d().yR,children:(0,k.jsx)(X,{enabled:!!N.current&&!!e.canDrop,store:N.current,onNativeDrop:async e=>{let{files:t}=e;await te(t),u().Zq(C,{type:"drop"})},children:(0,k.jsx)("div",{className:e.isEditingExistingComment?f().hzx:f().wFE,style:{...G,...e.containerStyle||{}},onFocus:t=>{const o=t.target;var i;o instanceof HTMLElement&&(0,n(474788).E)(o)&&(null===(i=e.onFocus)||void 0===i||i.call(e),R(!0))},onBlur:t=>{var n;null===(n=e.onBlur)||void 0===n||n.call(e),R(!1)},children:(0,k.jsxs)("div",{style:q,children:[e.showAvatar&&(0,k.jsx)(n(981583).Z,{userStore:U,size:n(444851).IX,avatarShouldShowShadow:!1,style:{...J,marginTop:0,marginRight:8}}),(0,k.jsxs)("div",{className:me?f().Wh_:"",onClick:le,style:fe.inputWrapper,tabIndex:-1,children:[(0,k.jsx)("div",{dir:"auto",style:{flexGrow:1,display:"flex",minHeight:24,paddingTop:2,width:W.hasNewLineCharacter?"100%":""},children:(0,k.jsx)(n(623498).Z,{style:fe.textFieldStyle,store:A,parentStore:e.parentStore,disabled:!1,onEnter:()=>{if(!w.isMobile)return void Se();const e="editing"===y().default.state.mode&&y().default.state.multiSelection;e&&g().createAndCommit({userAction:"DiscussionInput.handleEnter",environment:C,canUndo:!0,perform:t=>{m().hJ({environment:C,editorMode:"default",string:"\n",multiSelection:e,disableMentions:!0,disableSlashCommands:!0,disableEmojiCommands:!0,transaction:t})}})},onCommandEnter:Se,onPasteFiles:async e=>{await te(e.files),u().Zq(C,{type:"paste"})},onEsc:e.onCancel,...ye,placeholder:n(527278).Z.formatMessage(he?M.replyInputPlaceholder:M.defaultPlaceholder),ref:F,isDiscussionInput:!0,disableSlashCommands:!0,disableInsertText:!0,disableSelectAllBlocks:!0,disableSelectionDrag:!0,disableEmbedMenu:!0,disabledMentionTypes:{reminder:!0},disableMobileActionBar:!0,disableStyleAnnotations:w.isMobileBrowser,disableInsertedDeletedAnnotations:w.isMobileBrowser,pasteBehavior:"inline",inPageFind:n(12512).B3.none,className:"discussion-input-text-block",disableMoveCursorToEndOnFocus:P})}),de&&(0,k.jsx)(O,{files:V,onRemoveFile:e=>{const t=L.state;L.setState({...t,files:t.files.filter((t=>t.id!==e.id))})}}),be]}),ge&&(0,k.jsx)(n(69870).Z,{show:K,onDismiss:()=>p().clear({environment:C})})]})})})})})),G={display:"flex",flexDirection:"column",width:"100%",cursor:"pointer"},q={display:"flex",alignItems:"center",flexGrow:1},J={flexShrink:0,flexGrow:0,marginRight:6,alignSelf:"flex-start",marginTop:6};function X(e){const{enabled:t,children:o,store:i,onNativeDrop:r}=e;return t&&i?(0,k.jsx)(n(307369).Z,{store:i,analyticsName:"discussion_input",canNativeDropOnto:!0,onNativeDrop:r,keepTextSelectionOnDrop:!0,shouldShowDropZone:!0,children:o}):(0,k.jsx)(k.Fragment,{children:o})}function Q(e,t){return t?`UnsentDiscussion-${e}-${t}`:`UnsentDiscussion-${e}`}const ee=o.memo(Y)},654953:(e,t,n)=>{n.d(t,{Z:()=>s});n(667294);var o=()=>n(707513),i=()=>n(899316),r=n(785893);function s(e){const{propertySchema:t,dontShowColon:n}=e,s=t.name;return(0,r.jsx)("div",{style:{display:"inline-flex",paddingTop:2},children:(0,r.jsxs)("div",{style:{display:"flex",alignItems:"start",lineHeight:"110%",minWidth:0,fontSize:13,fill:"dark"},children:[(0,r.jsx)(i().oJ,{iconStyle:{marginTop:1},propertySchema:t,iconSize:12}),(0,r.jsx)("div",{style:{...o().Yu,marginLeft:4,maxWidth:100},children:(0,r.jsx)("span",{children:`${s}`})}),(0,r.jsx)("span",{style:{...o().Yu,marginRight:4},children:n?null:":"})]})})}},37272:(e,t,n)=>{n.r(t),n.d(t,{DiscussionFormat:()=>M,DiscussionLocationToAvatarSize:()=>$,anyDiscussionCommentsLoading:()=>N,commentComparator:()=>H,discussionLocationToDiscussionFormat:()=>K,formatFileSize:()=>Y,getAndSortCommentStoresByTime:()=>R,getDiscussions:()=>V,getDiscussionsForSidebar:()=>B,getFirstComment:()=>F,getIcon:()=>I,getLatestRelevantComment:()=>D,getSetOfUsersInDiscussions:()=>O,hasCommentChanged:()=>U,inputIsEmpty:()=>E,isCommentAllEmojis:()=>W,lineClampForCommentCount:()=>A,sortDiscussionStoresByLatestComment:()=>P});n(267602),n(653476),n(241792),n(228244);var o=()=>n(816512),i=()=>n(481889),r=()=>n(742922),s=(n(667294),()=>n(827282)),a=n(785893);const l=(0,s().IU)("compressedFile",{viewBox:"0 0 23 24",svg:(0,a.jsx)("path",{d:"M5.297 17.758V5.968c0-.838.213-1.473.64-1.905.428-.438 1.06-.657 1.899-.657h8.32c.839 0 1.472.219 1.899.656.427.433.64 1.068.64 1.907v11.789c0 .844-.213 1.482-.64 1.914-.427.432-1.06.648-1.899.648h-8.32c-.839 0-1.471-.216-1.899-.648-.427-.432-.64-1.07-.64-1.914zm1.539-.094c0 .36.094.635.281.828.188.193.472.29.852.29h8.062c.38 0 .664-.097.852-.29.187-.193.281-.469.281-.828V6.07c0-.364-.094-.643-.281-.836-.188-.198-.471-.296-.852-.296H7.97c-.38 0-.664.098-.852.296-.187.193-.281.472-.281.836v11.594zm4.617 1.906V8.648h1.086V19.57h-1.086zM12 8.953c-.62 0-1.107-.17-1.46-.508-.35-.338-.524-.804-.524-1.398 0-.115.005-.23.015-.344.016-.114.037-.226.063-.336l.734-3.21a.637.637 0 01.242-.384.709.709 0 01.438-.14h.984a.68.68 0 01.43.14.672.672 0 01.25.383l.734 3.211c.021.11.037.222.047.336.016.115.024.23.024.344 0 .594-.175 1.06-.524 1.398-.349.339-.833.508-1.453.508zm0-1.125c.24 0 .438-.08.594-.242a.826.826 0 00.242-.61.82.82 0 00-.242-.593.795.795 0 00-.594-.25c-.24 0-.44.083-.602.25a.825.825 0 00-.242.594c0 .24.078.442.235.609a.826.826 0 00.609.242zm0 2.89V9.696h1.828c.146 0 .268.05.367.149a.464.464 0 01.149.351c0 .146-.05.271-.149.375a.498.498 0 01-.367.149H12zm-1.836 1.024a.516.516 0 01-.367-.148.525.525 0 01-.149-.375c0-.14.05-.258.149-.352a.516.516 0 01.367-.148H12v1.023h-1.836zM12 12.79v-1.023h1.828c.146 0 .268.05.367.148a.49.49 0 01.149.36.5.5 0 01-.149.367.498.498 0 01-.367.148H12zm-1.836 1.024a.516.516 0 01-.367-.149.516.516 0 01-.149-.367c0-.14.05-.258.149-.352a.516.516 0 01.367-.148H12v1.015h-1.836zM12 14.867v-1.023h1.828c.146 0 .268.05.367.148a.473.473 0 01.149.36.5.5 0 01-.149.367.499.499 0 01-.367.148H12zm-1.836 1.024a.508.508 0 01-.516-.523.48.48 0 01.149-.352.516.516 0 01.367-.149H12v1.024h-1.836zM12 16.945v-1.023h1.828c.146 0 .268.05.367.148a.473.473 0 01.149.36c0 .14-.05.263-.149.367a.499.499 0 01-.367.148H12zm-1.836 1.04a.516.516 0 01-.367-.15.499.499 0 01-.149-.366c0-.146.05-.266.149-.36a.516.516 0 01.367-.148H12v1.023h-1.836z"})});var c=()=>n(512883);const d=(0,s().IU)("executable",{viewBox:"0 0 23 23.5",svg:(0,a.jsx)("path",{d:"M5.164 16.883c-.37-.209-.651-.448-.844-.719-.187-.276-.28-.69-.28-1.242V8.609c0-.416.08-.763.241-1.039.162-.28.417-.52.766-.718l5.492-3.079c.484-.27.971-.406 1.461-.406.49 0 .974.136 1.453.406l5.492 3.079c.35.197.604.437.766.718.161.276.242.623.242 1.04v6.312c0 .552-.094.966-.281 1.242-.188.27-.469.51-.844.719l-6.047 3.39c-.52.287-1.044.287-1.57 0l-6.047-3.39zm.844-1.203l5.265 2.976v-6.265L5.43 9.094v5.687c0 .203.041.375.125.516.088.14.24.268.453.383zm11.976 0c.214-.115.362-.242.446-.383a.95.95 0 00.133-.516V9.094l-5.844 3.297v6.265l5.265-2.976zM12 11.11l5.773-3.235-4.937-2.781c-.552-.318-1.112-.318-1.68 0l-4.93 2.781L12 11.109z"})}),u=(0,s().IU)("file3D",{viewBox:"0 0 23 24",svg:(0,a.jsx)("path",{d:"M5.648 16.352l5.61-2.82v-6.65h1.492v6.65l5.61 2.82-.75 1.273-5.61-2.82-5.61 2.82-.742-1.273zm-1.945 1.195l1.32-2.985c.105-.25.243-.427.415-.53a.643.643 0 01.539-.071c.187.052.349.198.484.437l1.937 3.352c.146.245.196.46.149.648a.61.61 0 01-.336.43c-.177.1-.404.133-.68.102l-3.242-.36c-.297-.036-.5-.146-.61-.328-.103-.182-.096-.414.024-.695zm16.594 0c.12.281.125.513.015.695-.104.182-.304.292-.601.328l-3.242.36c-.271.03-.498-.003-.68-.102a.634.634 0 01-.344-.43c-.041-.187.01-.403.157-.648l1.937-3.352c.135-.24.294-.385.477-.437a.638.638 0 01.539.07c.177.104.32.281.43.531l1.312 2.985zm-8.89-12.985c.181-.25.377-.372.585-.367.208 0 .404.123.586.367l1.93 2.618c.167.229.252.445.258.648a.596.596 0 01-.204.5c-.14.13-.354.195-.64.195h-3.86c-.276 0-.486-.065-.632-.195a.637.637 0 01-.203-.508c.005-.208.088-.422.25-.64l1.93-2.617z"})}),m=(0,s().IU)("fileAttachment",{viewBox:"0 0 28 28",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("rect",{width:"28",height:"28",fill:"none"}),(0,a.jsx)("path",{d:"M7.70703 27.3799H21.2783C23.7412 27.3799 24.9854 26.1104 24.9854 23.6348V11.7266C24.9854 10.3555 24.8076 9.74609 23.9697 8.88281L16.5049 1.3418C15.6924 0.516602 15.0322 0.326172 13.8008 0.326172H7.70703C5.26953 0.326172 4 1.58301 4 4.05859V23.6348C4 26.1104 5.25684 27.3799 7.70703 27.3799ZM7.7832 25.8057C6.32324 25.8057 5.57422 25.0312 5.57422 23.5967V4.09668C5.57422 2.7002 6.32324 1.8877 7.7959 1.8877H13.7246V9.53027C13.7246 10.9775 14.4609 11.6631 15.8701 11.6631H23.4238V23.5967C23.4238 25.0312 22.6621 25.8057 21.2021 25.8057H7.7832ZM16.0352 10.1777C15.4512 10.1777 15.21 9.94922 15.21 9.36523V2.20508L23.1064 10.1777H16.0352Z"})]})}),p=(0,s().IU)("font",{viewBox:"0 0 24 24",svg:(0,a.jsx)("path",{d:"M17.008 17.766c-.724 0-1.354-.185-1.89-.555-.537-.37-.957-.888-1.259-1.555-.296-.672-.445-1.458-.445-2.36 0-.895.149-1.676.445-2.343.303-.672.722-1.193 1.258-1.562.537-.375 1.167-.563 1.89-.563.433 0 .834.07 1.204.211.375.14.7.344.977.61.28.26.5.572.656.937h.062V9.64c0-.256.073-.459.219-.61a.738.738 0 01.555-.226c.234 0 .424.075.57.226.146.151.219.354.219.61v7.312c0 .255-.073.453-.219.594a.771.771 0 01-.57.219.773.773 0 01-.547-.203c-.146-.136-.221-.331-.227-.586v-.954h-.062a2.688 2.688 0 01-1.094 1.29c-.495.302-1.076.453-1.742.453zm.453-1.368c.484 0 .906-.125 1.266-.375.364-.255.643-.611.835-1.07.198-.463.297-1.01.297-1.64 0-.63-.099-1.178-.297-1.641-.197-.469-.476-.83-.835-1.086a2.1 2.1 0 00-1.266-.39 2.13 2.13 0 00-1.266.382c-.354.25-.627.607-.82 1.07-.193.464-.29 1.014-.29 1.649s.097 1.185.29 1.648c.193.464.466.823.82 1.078.36.25.782.375 1.266.375zm-14.07 1.32c-.271 0-.485-.072-.641-.218-.151-.146-.227-.349-.227-.61 0-.156.034-.335.102-.538l3.477-9.375C6.33 6.326 6.784 6 7.46 6c.36 0 .651.08.875.242.23.162.404.406.523.735l3.454 9.335c.072.204.109.391.109.563 0 .26-.084.466-.25.617-.162.151-.38.227-.656.227-.26 0-.466-.06-.618-.18-.145-.115-.26-.312-.343-.594l-.867-2.422H5.226l-.868 2.422c-.083.282-.2.48-.351.594-.146.12-.352.18-.617.18zM5.68 13.07h3.57L7.484 7.992h-.039L5.68 13.07z"})});const g=(0,s().IU)("presentation",{viewBox:"0 0 24 24",svg:(0,a.jsx)("path",{d:"M6.305 20.703c-.844 0-1.482-.213-1.914-.64-.433-.428-.649-1.06-.649-1.899v-8.031c0-.839.216-1.472.649-1.899.432-.427 1.07-.64 1.914-.64h11.383c.843 0 1.481.216 1.914.648.437.427.656 1.057.656 1.89v8.032c0 .833-.219 1.464-.656 1.89-.433.433-1.07.65-1.915.65H6.306zm.093-1.531h11.196c.36 0 .635-.096.828-.29.198-.187.297-.47.297-.85v-7.766c0-.38-.1-.664-.297-.852-.193-.193-.469-.289-.828-.289H6.398c-.364 0-.643.096-.835.29-.188.187-.282.47-.282.85v7.766c0 .38.094.664.282.852.192.193.47.289.835.289zM5.461 6.32c.057-.37.185-.656.383-.86.203-.202.513-.304.93-.304h10.453c.416 0 .724.102.921.305.204.203.334.49.391.86H5.461zm1.594-2.258c.02-.348.133-.611.336-.789.208-.182.5-.273.875-.273h7.468c.375 0 .664.091.868.273.203.178.32.44.351.79H7.055z"})}),h=(0,s().IU)("spreadsheet",{viewBox:"0 0 23 24",svg:(0,a.jsx)("path",{d:"M3.32 10.43V8.96h17.422v1.47H3.32zm0 4.343v-1.468h17.422v1.468H3.32zm7.93 3.758V5.203h1.5v13.328h-1.5zm-5.945.625c-.844 0-1.482-.213-1.914-.64-.433-.427-.649-1.058-.649-1.891V7.109c0-.833.216-1.463.649-1.89.432-.433 1.07-.649 1.914-.649H18.68c.849 0 1.49.216 1.922.649.432.427.648 1.057.648 1.89v9.516c0 .833-.216 1.463-.648 1.89-.433.428-1.073.641-1.922.641H5.305zm.093-1.531h13.196c.36 0 .635-.094.828-.281.193-.193.289-.477.289-.852v-9.25c0-.375-.096-.656-.29-.844-.192-.192-.468-.289-.827-.289H5.398c-.364 0-.643.097-.835.29-.188.187-.282.468-.282.843v9.25c0 .375.094.659.282.852.192.187.47.281.835.281z"})});var f=()=>n(862967),v=()=>n(462035),y=()=>n(455287),S=()=>n(955620),b=()=>n(513670),x=()=>n(696459),C=()=>n(916673),w=()=>n(852465),_=()=>n(6333);const k=()=>n(160809),j={doc:c().w,docx:c().w,pages:c().w,md:c().w,txt:c().w,rtf:c().w,xls:h,xlsx:h,csv:h,tsv:h,ods:h,pdf:n(830985).B,pptx:g,ppt:g,zip:l,br:l,bz2:l,gz:l,"7z":l,dmg:l,pkg:l,jar:l,rar:l,tar:l,xar:l,stl:u,obj:u,fbx:u,amf:u,iges:u,mp3:i().l,m4a:i().l,wav:i().l,aac:i().l,ogg:i().l,flac:i().l,alac:i().l,wma:i().l,exe:d,otf:p,ttf:p,woff:p,eof:p,py:r().y,java:r().y,js:r().y,ts:r().y,tsx:r().y,c:r().y,h:r().y,cpp:r().y,go:r().y,rs:r().y,css:r().y,php:r().y,swift:r().y,kt:r().y,lua:r().y,m:r().y,bash_profile:r().y,bashrc:r().y,zshrc:r().y,vimrc:r().y,vim:r().y};function I(e){const t=function(e){if(!e)return"";const{pathname:t}=C().Qc(e);if(!t)return"";const n=t.split(".");return n[n.length-1]}(e).toLowerCase();return j[t]??m}let M=function(e){return e[e.Menu=0]="Menu",e[e.Page=1]="Page",e[e.Sidebar=2]="Sidebar",e[e.Margin=3]="Margin",e[e.Unfurl=4]="Unfurl",e}({});function D(e){let{recordStore:t,currentUserId:n,timestamp:o}=e;return z({recordStore:t,currentUserId:n,timestamp:o})||F(t)}const T=6,L=3;function A(e){return e>1?L:T}function V(e){return e?w().al(e,{recursivelyLoadAllDiscussions:!0,includeLoadingDiscussions:!0}):[]}function B(e){let{blockStore:t,currentUserId:n,ignoreAfterTime:o}=e;if(!t)return[];return w().al(t,{recursivelyLoadAllDiscussions:!0,includeLoadingDiscussions:!0,includePropertyDiscussions:!0}).sort(((e,t)=>{const i=D({recordStore:e,currentUserId:n,timestamp:o}),r=D({recordStore:t,currentUserId:n,timestamp:o});return null!=i&&i.isDefined()?null!=r&&r.isDefined()?-(i.getCreatedTime()-r.getCreatedTime()):1:-1}))}function H(e,t){return e&&e.isDefined()?t&&t.isDefined()?e.getCreatedTime()-t.getCreatedTime():1:-1}function R(e){return w().D4(e).sort(((e,t)=>H(e,t)))}function F(e){return R(e)[0]}function Z(e){return z({recordStore:e,currentUserId:void 0})}function z(e){let{recordStore:t,currentUserId:n,timestamp:o}=e;const i=w().D4(t).filter((e=>o?e.isDefined()&&e.getCreatedTime()<o:e.isDefined())).sort(((e,t)=>H(e,t)));return i[i.length-1]}function P(e){return e.sort(((e,t)=>H(Z(e),Z(t))))}function E(e){const t=e.state.textStore.getValue(),n=(e.state.files??[]).length>0,o=t&&t.length>0;return!n&&!o}function U(e,t){const n=e.state.textStore.getValue(),o=e.state.files;if(!t)return n&&0!==n.length||o&&o.length>0;const i=w().zP(t).getValue();return!b().Xy(i,n)||function(e,t){const n=e.state.files,o=w().le(t);if(o.length!==n.length)return!0;return o.some(((e,t)=>e.id!==n[t].id))}(e,t)}function N(e){if(e.some((e=>!e.isReady())))return!0;return!!e.map((e=>w().D4(e))).flat().some((e=>!e.isReady()||!e.getCreatedTime()))}function K(e){switch(e){case"block_menu":case"ai_reject_all_suggestions":case"reply_menu_mentions_comments":case"reply_menu_all_updates":case"reply_menu_archive":case"reply_menu_updates_sidebar":case"updates_menu_mentions_comments":case"updates_menu_all_updates":case"updates_menu_archive":return M.Menu;case"page_discussion":case"post_discussion":return M.Page;case"updates_sidebar":return M.Sidebar;case"margin_comments":return M.Margin;case"comment_unfurl":return M.Unfurl;default:(0,x().t1)(e)}}function O(e){return b().mN(b().VS(e,(e=>w().D4(e).map((e=>({store:e,pointer:e.getCreatedByPointer()}))))),(e=>{var t;return null===(t=e.pointer)||void 0===t?void 0:t.id})).filter((e=>(0,x().$K)(e.pointer))).map((e=>{let{store:t,pointer:n}=e;return _().RecordStores.createChildStore(t,n)})).map((e=>e.getModel())).filter(x().$K).map((e=>e instanceof y().T?(0,o().dp)(e):e instanceof v().LG?(0,o().D$)(e):e instanceof f().R?(0,o().Jp)(e):void(0,x().t1)(e))).filter(x().$K)}function W(e){for(const n of e){if(!n.length)return!1;if(!n[1]||!n[1].some(S().VOE)){var t;const e=n[0].trim(),o=k()();if((null===(t=e.match(o))||void 0===t?void 0:t.join(""))!==e)return!1}}return!0}const $={updates_menu_all_updates:28,updates_menu_mentions_comments:28,updates_menu_archive:28,block_menu:20,reply_menu_all_updates:20,reply_menu_mentions_comments:20,reply_menu_archive:20,reply_menu_updates_sidebar:20,page_discussion:20,post_discussion:20,updates_sidebar:23,margin_comments:20,comment_unfurl:32,ai_reject_all_suggestions:28};function Y(e){return((null==e?void 0:e.match(/[0-9.]+|[a-z]+/gi))??[]).join(" ")}},577521:(e,t,n)=>{n.d(t,{C:()=>C,V:()=>b});var o=n(667294),i=()=>n(219727),r=()=>n(142735),s=()=>n(846550),a=()=>n(263555),l=()=>n(788860),c=()=>n(718959),d=()=>n(247724),u=()=>n(793935),m=()=>n(291335),p=()=>n(998901),g=()=>n(725751),h=()=>n(628370),f=()=>n(1910),v=()=>n(64260),y=()=>n(654133),S=n(785893);function b(e){const t=(0,i().O7)(),n=(0,i().Fy)(),o=(0,l().YB)(),s=(0,r().Kw)(m().sidebarMouseEnteredStore),d=(0,r().VK)((()=>g().default.state.isShowingTabBar||!1),[]),p=(0,r().Kw)(c().tu),h=o.formatMessage({defaultMessage:"Close sidebar",id:"sidebarUnexpandButton.closeSidebar.tooltip"}),f=(!n.isElectronMac||!p)&&!d&&s;return(0,S.jsx)(C,{isVisible:f,icon:a().D,caption:h,onClick:()=>{u().closeSidebarFromTopbarUnexpandButton(t)},keyboardShortcutName:"toggleSidebar",style:e.style,hoveredStyle:e.hoveredStyle})}const x={width:16,height:16,fill:"inherit"};function C(e){const t=(0,i().Fy)(),n=(0,s().yK)((t=>({keyboardShortcut:{color:t.mediumInvertedTextColor},button:{fill:t.mediumIconColor},enterAnimation:{opacity:e.isVisible?0:1},animation:{opacity:e.isVisible?1:0}})),[e.isVisible]),r=(0,o.useMemo)((()=>({position:"relative",marginLeft:10,...t.isMobile&&{height:"100%"},...n.button,...e.style})),[e.style,n.button,t.isMobile]);return(0,S.jsx)(y().Z,{renderTooltip:()=>(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{children:e.caption}),e.keyboardShortcutName&&(0,S.jsx)(v().Z,{style:n.keyboardShortcut,name:e.keyboardShortcutName})]}),originGap:6,placement:t.isElectron?p().Placement.Right:p().Placement.Bottom,render:n=>(0,S.jsx)(h().Z,{tag:f().Z,animate:{opacity:e.isVisible?1:0},ariaLabel:e.caption,disabled:!e.isVisible,icon:e.icon,style:r,hoveredStyle:e.hoveredStyle,iconStyle:x,mobileFeedback:t.isMobile,onClick:e.onClick,className:d().Mfh,...n})})}},302485:(e,t,n)=>{n.d(t,{F:()=>r});var o=()=>n(677559);const i=new(o().Ss)("HelpButtonContent",(async()=>await n.e(53060).then(n.bind(n,687569)))),r=(0,o().kF)(i,(e=>e.HelpButtonContent))},416277:(e,t,n)=>{n.d(t,{R7:()=>r,TG:()=>s,gM:()=>a});var o=()=>n(677559);const i=new(o().Ss)("login",(async()=>{const{default:e}=await Promise.all([n.e(62743),n.e(37358),n.e(25350),n.e(18216),n.e(72646),n.e(86595),n.e(82544),n.e(62949),n.e(54535)]).then(n.bind(n,604922)),{default:t}=await Promise.all([n.e(62743),n.e(37358),n.e(25350),n.e(18216),n.e(72646),n.e(86595),n.e(82544),n.e(62949),n.e(54535)]).then(n.bind(n,663920)),{default:o}=await Promise.all([n.e(62743),n.e(37358),n.e(25350),n.e(18216),n.e(72646),n.e(86595),n.e(82544),n.e(62949),n.e(54535)]).then(n.bind(n,735246)),{default:i}=await Promise.all([n.e(62743),n.e(37358),n.e(25350),n.e(18216),n.e(72646),n.e(86595),n.e(82544),n.e(62949),n.e(54535)]).then(n.bind(n,99389)),{default:r}=await Promise.all([n.e(62743),n.e(37358),n.e(25350),n.e(18216),n.e(72646),n.e(86595),n.e(82544),n.e(62949),n.e(54535)]).then(n.bind(n,12872));return{LoginPage:e,LoginDesktop:t,LoginMobileNative:o,FrontLoginPage:i,LoginModalContent:r}})),r=(0,o().kF)(i,(e=>e.LoginPage)),s=(0,o().kF)(i,(e=>e.FrontLoginPage)),a=(0,o().kF)(i,(e=>e.LoginModalContent))},871953:(e,t,n)=>{n.d(t,{TL:()=>u,nc:()=>d,ue:()=>c});var o=()=>n(816512),i=()=>n(934158),r=()=>n(696056),s=()=>n(989478),a=()=>n(696459),l=()=>n(826955);function c(e){const{parentStore:t,pointer:n}=e,i=(0,l().Kv)(t,n).getValue();if(i)return(0,o().LU)({table:n.table,value:i})}function d(e){const{parentStore:t,pointer:n}=e;return n.table===r().cZ?l().Qx.createChildStore(t,n):n.table===s().KJ?l().U6.createChildStore(t,n):n.table===i().y0?l().fg.createChildStore(t,n):void(0,a().t1)(n)}function u(e){return e.table===r().cZ?(0,o().ON)(e.getValue()):e.table===s().KJ?(0,o().m3)(e.getValue()):e.table===i().y0?(0,o().I4)(e.getValue()):void(0,a().t1)(e)}},244303:(e,t,n)=>{n.d(t,{a:()=>l});n(667294);var o=()=>n(816512),i=()=>n(696459),r=()=>n(634760),s=()=>n(981583),a=n(785893);function l(e){const{actor:t}=e,n={size:e.size??14,style:{marginRight:2,...e.style}};return(0,o().YU)(t)?(0,a.jsx)(r().Z,{botValue:t.asActor,...n}):(0,o().$S)(t)?(0,a.jsx)(s().Z,{userValue:t.asActor,...n}):(0,o().Iq)(t)?(0,a.jsx)(s().Z,{userValue:void 0,...n}):void(0,i().t1)(t)}},228772:(e,t,n)=>{n.d(t,{r:()=>r});var o=()=>n(142735),i=()=>n(876822);function r(){return(0,o().VK)((()=>i().default.state.currentSpaceStore),[])}},772327:(e,t,n)=>{n.d(t,{_:()=>p});var o=n(667294),i=()=>n(219727),r=()=>n(142735),s=()=>n(846550),a=()=>n(788860),l=()=>n(921981),c=()=>n(842574),d=()=>n(416277),u=()=>n(520849),m=n(785893);function p(e){let{loginModalStore:t,loginStore:n,title:s,description:a,isSignup:c,disableLoginLink:u,redirectURL:p,className:v,onDismiss:y,trustedDomain:S}=e;const b=(0,i().O7)(),x=(0,r().VK)((()=>t.state.open),[t]),C=(0,o.useId)(),w=(0,o.useId)(),_={loginStore:n,title:s,description:a,isSignup:c,redirectURL:p,disableLoginLink:u,titleAriaId:C,descriptionAriaId:w,trustedDomain:S};return(0,m.jsx)(l().c,{ariaLabelledBy:C,ariaDescribedBy:w,isOpen:x,onDismiss:()=>{f({loginModalStore:t,loginStore:n,onDismiss:y})},areaConstraint:{width:{type:"fixed",length:480},height:{type:"unlimited",scroll:"allow"}},deprecatedCompatibilityOverrides:{tabletsUsePhoneDisplayMode:!0},render:()=>(0,m.jsx)(g,{children:(0,m.jsxs)("div",{className:v,children:[!b.device.isMobile&&(0,m.jsx)(h,{loginModalStore:t,loginStore:n,onDismiss:y}),(0,m.jsx)(d().gM,{..._})]})})})}function g(e){let{children:t}=e;return(0,i().O7)().device.isMobile?(0,m.jsx)(c().T,{type:u().Z.Y,children:t}):t}function h(e){let{loginModalStore:t,loginStore:n,onDismiss:o}=e;const i=(0,s().Fg)();return(0,m.jsx)("div",{style:{fontSize:14,color:i.mediumTextColor,position:"absolute",right:0,marginTop:16,marginRight:16,cursor:"pointer",zIndex:1},onClick:()=>{f({loginModalStore:t,loginStore:n,onDismiss:o})},children:(0,m.jsx)(a()._H,{defaultMessage:"Cancel",id:"sidebarSwitcherMultiAccount.addAccountModal.cancelButton.label"})})}function f(e){const{loginModalStore:t,loginStore:n,onDismiss:o}=e;n.reset(),t.setState({open:!1}),o&&o()}},662062:(e,t,n)=>{n.d(t,{q:()=>i});const o={greeting:!0,tasks:!1,tips:!1,templates:!1,calendar:!1,custom_db:!1};function i(e){const t=(null==e?void 0:e.getHomeEnabledFeatures())??{};return{...o,...t}}},138390:(e,t,n)=>{n.d(t,{o:()=>u});n(670560),n(667294);var o=()=>n(505365),i=()=>n(934935),r=()=>n(330125),s=()=>n(828042),a=()=>n(788860),l=()=>n(91502),c=()=>n(524434),d=n(785893);function u(){const e=(0,l().QI)(),t=c().KR.isFullPageAssistantInStartOptions(),n=[];return e&&n.push({key:"personal_home",label:(0,d.jsx)(a()._H,{id:"pageOnAppStoreSetting.home.label",defaultMessage:"Home"}),renderIcon:e=>(0,r().z)({width:20,height:20,...e})}),n.push({key:"last_visited_page",label:(0,d.jsx)(a()._H,{id:"pageOnAppStoreSetting.lastVisitedPage.label",defaultMessage:"Last visited page"}),renderIcon:e=>(0,o().Y)({width:20,height:20,...e})},{key:"first_page",label:(0,d.jsx)(a()._H,{id:"pageOnAppStoreSetting.firstPage.label",defaultMessage:"Top page in sidebar"}),renderIcon:e=>(0,i().S)({width:20,height:20,padding:2,...e})}),t&&n.push({key:"chat",label:(0,d.jsx)(a()._H,{id:"pageOnAppStoreSetting.chat.label",defaultMessage:"Notion AI"}),renderIcon:e=>(0,s().t)({width:20,height:20,...e})}),n}},591707:(e,t,n)=>{n.d(t,{C:()=>r,E:()=>i});var o=()=>n(529048);const i=new(o().Z),r=new(o().Z)},663773:(e,t,n)=>{n.d(t,{Cv:()=>l,aJ:()=>c,kw:()=>d,zX:()=>u});var o=()=>n(219727),i=()=>n(142735),r=()=>n(799891),s=()=>n(629719),a=()=>n(515323);function l(e){let{spaceId:t}=e;const n=(0,o().O7)();return(0,i().VK)((()=>{if(t)return a().U.getData(n,{spaceId:t})}),[n,t])}function c(e){if("admin"===(null==e?void 0:e.type))return e}function d(e,t,n){if(!t)return 0;const o=(0,s().nW)({spaceId:e,logFunction:r().log.bind(r()),subscriptionState:t});return o?Math.max(o,n):0}function u(e){var t;const n=null===(t=(0,s().a7)(e,"plan"))||void 0===t?void 0:t.price;if(!n)return;const o=n.unitAmount,i="year"===n.billingInterval?12:1;return{amount:o.amount/i,currencyCode:o.currencyCode}}},595976:(e,t,n)=>{n.d(t,{p:()=>l});var o=()=>n(219727),i=()=>n(142735),r=()=>n(616433),s=()=>n(515323),a=()=>n(663773);function l(e){let{spaceId:t}=e;const n=(0,o().O7)(),l=(0,r().J)();return(0,i().VK)((()=>{if(!t||!l)return;const e=s().U.getData(n,{spaceId:t});return(0,a().aJ)(e)}),[n,t,l],{useDeepEqual:!0})}},548919:(e,t,n)=>{n.d(t,{D:()=>r,Qk:()=>a,we:()=>s});var o=()=>n(873463),i=()=>n(914575);function r(e){i().Z.setState({open:!0,...e})}function s(){i().Z.setState({open:!1})}function a(e){o().Z.setState({open:!0,...e})}},701814:(e,t,n)=>{n.d(t,{z:()=>y});n(667294);var o=()=>n(219727),i=()=>n(142735),r=()=>n(846550),s=()=>n(677200),a=()=>n(788860),l=()=>n(568017),c=()=>n(154186),d=()=>n(603692),u=()=>n(661641),m=()=>n(654133),p=()=>n(345918),g=()=>n(228772),h=()=>n(998901),f=()=>n(697623),v=n(785893);function y(e){let{onClick:t,showIcon:n=!0}=e;const r=b(n),s=(0,o().O7)(),l=(0,g().r)(),d=(0,i().VK)((()=>l&&(0,p().rn)(s,l)),[s,l]),y=(0,i().VK)((()=>(0,f().zt)()),[]);return void 0===t?(0,v.jsx)("div",{style:{...r.badge,cursor:"default"},children:(0,v.jsx)(S,{showIcon:n})}):(0,v.jsx)(m().Z,{placement:h().Placement.Bottom,style:r.tooltip,render:e=>(0,v.jsx)(c().Z,{onClick:t,style:{...r.badge,cursor:"pointer"},hoveredStyle:r.badgeHover,pressedStyle:r.badgePressed,...e,children:(0,v.jsx)(S,{showIcon:n})}),renderTooltip:()=>(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(u().q,{styleName:"UISmall-12px/Medium",colorName:"contrastPrimary",children:(0,v.jsx)(a()._H,{id:"trialBadge.tooltip.title",defaultMessage:"{hasSpaceName, select, true {{spaceName}} other {Your workspace}} is on a free {planName, select, plus {Plus} business {Business} enterprise {Enterprise} other {}} trial",values:{hasSpaceName:Boolean(d),spaceName:d,planName:y}})}),(0,v.jsx)(u().q,{styleName:"UISmall-12px/Regular",colorName:"contrastSecondary",children:(0,v.jsx)(a()._H,{id:"trialBadge.tooltip.description",defaultMessage:"Click to learn more"})})]}),textWrap:!0})}function S(e){let{showIcon:t}=e;const n=b(t);return(0,v.jsxs)(v.Fragment,{children:[t?(0,v.jsx)("span",{style:n.giftIcon,children:(0,v.jsx)(d().y,{iconGroup:s().$,variantName:"mini",colorName:"orangePrimary"})}):null,(0,v.jsx)(u().q,{styleName:"UISmall-12px/Medium",children:(0,v.jsx)(a()._H,{id:"trialBadge.title",defaultMessage:"Free trial"})})]})}function b(e){return(0,r().yK)((t=>({badge:{display:"flex",flexDirection:"row",gap:4,justifyContent:"center",alignItems:"center",color:t.icon.orangePrimary,background:t.fill.orangeSecondary,padding:e?"0px 6px 0px 4px":"0px 6px",height:e?22:20,borderRadius:6,width:"fit-content"},badgeHover:{background:l().FN[t.mode].orange[100]},badgePressed:{background:l().FN[t.mode].orange[200]},tooltip:{maxWidth:"240px",width:"max-content",display:"flex",padding:"4px 6px",flexDirection:"column",alignItems:"flex-start",gap:2,borderRadius:4},giftIcon:{paddingBottom:1}})),[e])}},873463:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n(263184).default.createValue({open:!1},{name:"TrialEndModalStore"})},914575:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n(263184).default.createValue({open:!1},{name:"TrialInfoModalStore"})},656221:(e,t,n)=>{n.d(t,{JT:()=>p,O:()=>h,Zb:()=>g,jL:()=>f,nk:()=>y,rX:()=>v,yP:()=>m});n(821057),n(670560),n(267602),n(653476),n(470928),n(241792);var o=()=>n(799891),i=()=>n(530980),r=()=>n(934165),s=()=>n(696459),a=()=>n(824462),l=()=>n(636340),c=()=>n(269299),d=()=>n(876822),u=()=>n(826955);function m(e){let{trustedDomainIds:t,spaceStore:n}=e;return t.map((e=>{const t=u().hf.createChildStore(n,{table:r().l,id:e,spaceId:n.id});if(t.canRead())return t})).filter(s().$K)}async function p(e){let{environment:t,spaceId:n,currentUserId:i,organizationId:r}=e;const s=await a().callApi({eventName:"getTrustedDomainsNumberOfMembers",environment:t,data:{spaceId:n,organizationId:r},userId:i});return"failed"===s.type?(o().rateLimitedLog({from:"trustedDomainHelpers",level:"error",type:"getTrustedDomainsNumberOfMembersForSpaceFailed"}),[]):s.data.results}function g(e){let{environment:t,trustedEmailDomain:n,trustedDomainStores:o,spaceStore:i,spaceBasicSettingsStore:s}=e,a=o.find((e=>e.getEmailDomain()===n));const d=s.state.emailDomains;return a?(c().createAndCommit({userAction:"trustedDomainActions.setTrustedDomainDLSEnabled",environment:t,canUndo:!0,perform:e=>{l().sW({store:i,data:{email_domains:d},transaction:e}),l().sW({store:a,data:{domain_link_sharing_enabled:!0,join_space_method:"request_to_join"},transaction:e})}}),a):(c().createAndCommit({userAction:"trustedDomainActions.createTrustedDomain",environment:t,canUndo:!0,perform:e=>{l().sW({store:i,data:{email_domains:d},transaction:e});const o={space_id:i.id,join_space_method:"request_to_join",domain_link_sharing_enabled:!0,email_domain:n};a=l().ae({environment:t,table:r().l,value:o,inMemoryRecordCache:t.defaultRecordCache.inMemoryRecordCache,transaction:e})}}),a&&o.push(a),a)}function h(e){let{store:t,environment:n}=e;const{currentSpaceStore:o}=d().default.getState();if(!o)throw new Error("currentSpaceStore does not exist");if(o.id!==t.getSpaceId())throw new Error("Mismatched spaceId");return!!t.isReady()&&(c().createAndCommit({userAction:"trustedDomainActions.deleteTrustedDomain",environment:n,canUndo:!0,perform:e=>{l().sW({store:t,data:{domain_link_sharing_enabled:!1},transaction:e})}}),!0)}function f(e){let{store:t,environment:n,joinSpaceMethod:o}=e;const{currentSpaceStore:i}=d().default.getState();if(!i)throw new Error("currentSpaceStore does not exist");if(i.id!==t.getSpaceId())throw new Error("Mismatched spaceId");return!!t.isReady()&&(t.getJoinSpaceMethod()!==o&&(c().createAndCommit({userAction:"trustedDomainActions.setTrustedDomainJoinSpaceMethod",environment:n,canUndo:!0,perform:e=>{l().sW({store:t,data:{join_space_method:o},transaction:e})}}),!0))}async function v(e){let{environment:t,spaceId:n}=e;const o=await a().callApi({eventName:"getTrustedDomainsForSpace",environment:t,data:{spaceId:n}});if("success"!==o.type)return[];return o.data.results.filter((e=>e.domain_link_sharing_enabled)).map((e=>i().kk5.fromValue(r().l,e)))}async function y(e){let{environment:t,spaceId:n}=e;const o=await a().callApi({eventName:"getTrustedDomainForUser",environment:t,data:{spaceId:n}});if("success"===o.type)return i().kk5.fromValue(r().l,o.data.result)}},677200:(e,t,n)=>{n.d(t,{$:()=>o});const o=(0,n(827282).CZ)("gift",{default:{loader:()=>n.e(63636).then(n.bind(n,563636))},small:{loader:()=>n.e(19806).then(n.bind(n,719806))},mini:{loader:()=>n.e(73393).then(n.bind(n,373393))},large:{loader:()=>n.e(40651).then(n.bind(n,840651))}})},414294:(e,t,n)=>{n.d(t,{E:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("chevronDownRounded",{viewBox:"0 0 15 9",svg:(0,o.jsx)("path",{d:"M7.92188 8.65625C8.19531 8.64844 8.44531 8.54688 8.64844 8.32812L14.5859 2.25C14.7578 2.07812 14.8516 1.85938 14.8516 1.60156C14.8516 1.08594 14.4453 0.671875 13.9297 0.671875C13.6797 0.671875 13.4375 0.773438 13.2578 0.953125L7.92969 6.42969L2.58594 0.953125C2.40625 0.78125 2.17188 0.671875 1.91406 0.671875C1.39844 0.671875 0.992188 1.08594 0.992188 1.60156C0.992188 1.85938 1.08594 2.07812 1.25781 2.25L7.20312 8.32812C7.41406 8.54688 7.64844 8.65625 7.92188 8.65625Z"})})},505365:(e,t,n)=>{n.d(t,{Y:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("clockAlternate",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M10.417 6.09961C10.5811 6.09961 10.7201 6.15885 10.834 6.27734C10.9525 6.39128 11.0117 6.53027 11.0117 6.69434V11.2949L10.376 9.34668L12.5977 12.3408C12.7116 12.4867 12.7617 12.6416 12.748 12.8057C12.7344 12.9697 12.6592 13.0996 12.5225 13.1953C12.3721 13.3001 12.2148 13.3389 12.0508 13.3115C11.8913 13.2842 11.75 13.1908 11.627 13.0312L9.99316 10.8779C9.93392 10.8005 9.89062 10.7253 9.86328 10.6523C9.83594 10.5749 9.82227 10.4928 9.82227 10.4062V6.69434C9.82227 6.53027 9.87923 6.39128 9.99316 6.27734C10.1117 6.15885 10.2529 6.09961 10.417 6.09961ZM10.6768 17.126C9.93848 17.126 9.22298 17.0098 8.53027 16.7773C7.84212 16.5495 7.20638 16.2259 6.62305 15.8066C6.04427 15.3919 5.54297 14.9111 5.11914 14.3643C4.96875 14.182 4.90495 13.9928 4.92773 13.7969C4.95052 13.6009 5.03939 13.446 5.19434 13.332C5.36296 13.2135 5.53841 13.1748 5.7207 13.2158C5.90299 13.2568 6.06478 13.3571 6.20605 13.5166C6.54785 13.9678 6.94889 14.3597 7.40918 14.6924C7.87402 15.0205 8.37988 15.2734 8.92676 15.4512C9.47819 15.6335 10.0615 15.7269 10.6768 15.7314C11.4606 15.736 12.1943 15.5902 12.8779 15.2939C13.5661 15.0023 14.1676 14.599 14.6826 14.084C15.2021 13.5645 15.6077 12.9629 15.8994 12.2793C16.1956 11.5911 16.3438 10.8529 16.3438 10.0645C16.3438 9.2806 16.1956 8.54688 15.8994 7.86328C15.6077 7.17513 15.2021 6.57357 14.6826 6.05859C14.1676 5.53906 13.5661 5.13346 12.8779 4.8418C12.1943 4.55013 11.4606 4.4043 10.6768 4.4043C9.88835 4.4043 9.15234 4.55013 8.46875 4.8418C7.78971 5.12891 7.19043 5.52995 6.6709 6.04492C6.15137 6.5599 5.74349 7.15918 5.44727 7.84277C5.1556 8.52181 5.00749 9.25326 5.00293 10.0371H3.6084C3.61296 9.07096 3.7998 8.16406 4.16895 7.31641C4.53809 6.46875 5.0485 5.72135 5.7002 5.07422C6.35189 4.42708 7.10156 3.92122 7.94922 3.55664C8.80143 3.1875 9.71061 3.00293 10.6768 3.00293C11.6429 3.00293 12.5521 3.1875 13.4043 3.55664C14.2565 3.92578 15.0062 4.4362 15.6533 5.08789C16.305 5.73503 16.8154 6.4847 17.1846 7.33691C17.5537 8.18913 17.7383 9.09831 17.7383 10.0645C17.7383 11.0306 17.5537 11.9398 17.1846 12.792C16.8154 13.6442 16.305 14.3962 15.6533 15.0479C15.0062 15.6995 14.2565 16.2077 13.4043 16.5723C12.5521 16.9414 11.6429 17.126 10.6768 17.126ZM2.78809 8.66992H6.16504C6.33822 8.66992 6.4681 8.71094 6.55469 8.79297C6.64583 8.87044 6.68913 8.9707 6.68457 9.09375C6.68001 9.21224 6.63216 9.33984 6.54102 9.47656L4.87988 11.7803C4.76595 11.9352 4.63151 12.015 4.47656 12.0195C4.32161 12.0195 4.1849 11.9398 4.06641 11.7803L2.40527 9.47656C2.31413 9.3444 2.26628 9.2168 2.26172 9.09375C2.25716 8.9707 2.29818 8.87044 2.38477 8.79297C2.47591 8.71094 2.61035 8.66992 2.78809 8.66992Z"})})},512883:(e,t,n)=>{n.d(t,{w:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("document",{viewBox:"0 0 23.5 23.5",svg:(0,o.jsx)("path",{d:"M9.14 8.156a.494.494 0 01-.5-.5c0-.14.047-.258.141-.351a.487.487 0 01.36-.14h5.718a.477.477 0 01.492.492.494.494 0 01-.14.35.464.464 0 01-.352.15H9.141zm0 2.664a.487.487 0 01-.359-.14.504.504 0 01-.14-.36c0-.135.046-.25.14-.343a.487.487 0 01.36-.141h5.718a.477.477 0 01.493.484c0 .14-.047.26-.141.36a.477.477 0 01-.352.14H9.141zm0 2.672a.487.487 0 01-.359-.14.468.468 0 01-.14-.344c0-.14.046-.258.14-.352a.473.473 0 01.36-.148h2.765c.146 0 .266.05.36.148a.48.48 0 01.14.352c0 .135-.047.25-.14.344a.487.487 0 01-.36.14H9.141zm-3.843 4.266V5.968c0-.838.213-1.473.64-1.905.428-.438 1.06-.657 1.899-.657h8.32c.839 0 1.472.219 1.899.656.427.433.64 1.068.64 1.907v11.789c0 .844-.213 1.482-.64 1.914-.427.432-1.06.648-1.899.648h-8.32c-.839 0-1.471-.216-1.899-.648-.427-.432-.64-1.07-.64-1.914zm1.539-.094c0 .36.094.635.281.828.188.193.472.29.852.29h8.062c.38 0 .664-.097.852-.29.187-.193.281-.469.281-.828V6.07c0-.364-.094-.643-.281-.836-.188-.198-.471-.296-.852-.296H7.97c-.38 0-.664.098-.852.296-.187.193-.281.472-.281.836v11.594z"})})},858233:(e,t,n)=>{n.d(t,{o:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("topbarCommentFilled",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M6.27344 19.0703C5.96094 19.0703 5.71615 18.9688 5.53906 18.7656C5.36719 18.5625 5.28125 18.2865 5.28125 17.9375V16.0156H4.85938C4.10417 16.0156 3.45573 15.8698 2.91406 15.5781C2.3776 15.2865 1.96354 14.8698 1.67188 14.3281C1.38542 13.7812 1.24219 13.1198 1.24219 12.3438V6.28125C1.24219 5.50521 1.38542 4.84635 1.67188 4.30469C1.95833 3.75781 2.3724 3.33854 2.91406 3.04688C3.46094 2.75521 4.1276 2.60938 4.91406 2.60938H15.0781C15.8594 2.60938 16.5234 2.75521 17.0703 3.04688C17.6172 3.33854 18.0339 3.75781 18.3203 4.30469C18.6068 4.84635 18.75 5.50521 18.75 6.28125V12.3438C18.75 13.1198 18.6068 13.7812 18.3203 14.3281C18.0339 14.8698 17.6172 15.2865 17.0703 15.5781C16.5234 15.8698 15.8594 16.0156 15.0781 16.0156H10.25L7.57812 18.3828C7.3125 18.6172 7.08333 18.7891 6.89062 18.8984C6.69792 19.013 6.49219 19.0703 6.27344 19.0703ZM6.65625 17.3438L9.13281 14.8906C9.29948 14.724 9.45312 14.6146 9.59375 14.5625C9.73958 14.5052 9.93229 14.4766 10.1719 14.4766H15.0312C15.7708 14.4766 16.3177 14.2943 16.6719 13.9297C17.0312 13.5599 17.2109 13.013 17.2109 12.2891V6.32812C17.2109 5.60938 17.0312 5.06771 16.6719 4.70312C16.3177 4.33333 15.7708 4.14844 15.0312 4.14844H4.95312C4.21875 4.14844 3.67188 4.33333 3.3125 4.70312C2.95833 5.06771 2.78125 5.60938 2.78125 6.32812V12.2891C2.78125 13.013 2.95833 13.5599 3.3125 13.9297C3.67188 14.2943 4.21875 14.4766 4.95312 14.4766H6.02344C6.24219 14.4766 6.40104 14.526 6.5 14.625C6.60417 14.7188 6.65625 14.8828 6.65625 15.1172V17.3438ZM6.02344 7.25781C5.88802 7.25781 5.77344 7.21094 5.67969 7.11719C5.58594 7.01823 5.53906 6.90104 5.53906 6.76562C5.53906 6.63542 5.58333 6.52344 5.67188 6.42969C5.76562 6.33594 5.88281 6.28906 6.02344 6.28906H13.8828C14.0234 6.28906 14.1406 6.33594 14.2344 6.42969C14.3281 6.52344 14.375 6.63542 14.375 6.76562C14.375 6.90104 14.3281 7.01823 14.2344 7.11719C14.1406 7.21094 14.0234 7.25781 13.8828 7.25781H6.02344ZM6.02344 9.74219C5.88802 9.74219 5.77344 9.69531 5.67969 9.60156C5.58594 9.50781 5.53906 9.39062 5.53906 9.25C5.53906 9.125 5.58333 9.01302 5.67188 8.91406C5.76562 8.8151 5.88281 8.76562 6.02344 8.76562H13.8828C14.0234 8.76562 14.1406 8.8151 14.2344 8.91406C14.3281 9.01302 14.375 9.125 14.375 9.25C14.375 9.39062 14.3281 9.50781 14.2344 9.60156C14.1406 9.69531 14.0234 9.74219 13.8828 9.74219H6.02344ZM6.02344 12.2344C5.88802 12.2344 5.77344 12.1875 5.67969 12.0938C5.58594 12 5.53906 11.8854 5.53906 11.75C5.53906 11.6146 5.58333 11.5 5.67188 11.4062C5.76562 11.3073 5.88281 11.2578 6.02344 11.2578H11.1406C11.276 11.2578 11.3906 11.3073 11.4844 11.4062C11.5833 11.5 11.6328 11.6146 11.6328 11.75C11.6328 11.8854 11.5833 12 11.4844 12.0938C11.3906 12.1875 11.276 12.2344 11.1406 12.2344H6.02344Z"})})},938479:(e,t,n)=>{n.d(t,{d:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("topbarUpdate",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M10.0781 18.1562C14.5078 18.1562 18.1641 14.5 18.1641 10.0781C18.1641 5.65625 14.5 2 10.0703 2C5.64844 2 2 5.65625 2 10.0781C2 14.5 5.65625 18.1562 10.0781 18.1562ZM10.0781 16.5469C6.49219 16.5469 3.625 13.6641 3.625 10.0781C3.625 6.49219 6.49219 3.61719 10.0703 3.61719C13.6562 3.61719 16.5391 6.49219 16.5469 10.0781C16.5547 13.6641 13.6641 16.5469 10.0781 16.5469ZM6.14062 11.0625H10.0703C10.4297 11.0625 10.7031 10.7891 10.7031 10.4375V5.32812C10.7031 4.97656 10.4297 4.70312 10.0703 4.70312C9.72656 4.70312 9.45312 4.97656 9.45312 5.32812V9.8125H6.14062C5.78906 9.8125 5.51562 10.0859 5.51562 10.4375C5.51562 10.7891 5.78906 11.0625 6.14062 11.0625Z"})})},416403:(e,t,n)=>{n.d(t,{Gx:()=>d,HU:()=>m,Ju:()=>u,KT:()=>a,O5:()=>c,RY:()=>l,T$:()=>p});n(267602),n(470928);var o=()=>n(696459),i=()=>n(999673),r=()=>n(156642);const s=["ar","bg","cs","da","de","el","es","et","fi","fr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","ro","ru","sk","sl","sv","tr","uk","zh","en","pt"];function a(e){return(0,r().XD)(e,void 0)?"title":(0,r().W2)(e)?"caption":"table_row"===e||"collection_view"===e||"collection_view_page"===e?"properties":(0,r().nq)(e)||"column"===e||"column_list"===e||"table"===e?"unmapped":void(0,o().t1)(e)}const l=["en","es","fr","pt","zh","ja","ko","ru","de","it","nl","id"];function c(e){return(0,o().DE)(s,e)}const d=["en","es","fr","pt","zh","ja","ko","ru","de","it","nl","id"];const u=[{key:"en",name:i().Dr.translateEnglish},{key:"es",name:i().Dr.translateSpanish},{key:"fr",name:i().Dr.translateFrench},{key:"pt",name:i().Dr.translatePortuguese},{key:"zh",name:i().Dr.translateChinese},{key:"ja",name:i().Dr.translateJapanese},{key:"ko",name:i().Dr.translateKorean},{key:"ru",name:i().Dr.translateRussian},{key:"de",name:i().Dr.translateGerman},{key:"it",name:i().Dr.translateItalian},{key:"nl",name:i().Dr.translateDutch},{key:"id",name:i().Dr.translateIndonesian}];function m(e){return u.find((t=>t.key===e))}let p=function(e){return e.NAME="name",e.VIEW_NAME="view_name",e.DESCRIPTION="description",e.SCHEMA_PROPERTY_NAME="schema_property_name",e.SCHEMA_PROPERTY_OPTION="schema_property_option",e}({})}}]);