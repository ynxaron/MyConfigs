"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[92199,10074],{979675:(t,o,e)=>{e.r(o),e.d(o,{PostImportIntroPopup:()=>b,trackImportOnboardingTourProgress:()=>T});var r=e(667294),a=()=>e(219727),n=()=>e(142735),i=()=>e(61951),s=()=>e(788860),l=()=>e(369637),u=()=>e(269299),d=()=>e(348141),p=()=>e(594546),c=()=>e(803728),m=()=>e(876822),g=()=>e(199114);const f=(0,s().vU)({titleForIntroToast:{id:"PostImportIntroPopup.titleForIntroToast",defaultMessage:"Project Management in Notion"},descriptionForIntroToast:{id:"PostImportIntroPopup.descriptionForIntroToast",defaultMessage:"Your newly imported Asana projects are here. Want to learn more about how to use Notion Projects and Tasks?"},primaryButton:{id:"PostImportIntroPopup.primaryButton",defaultMessage:"Take the tour"}}),h="post_import_intro_toast";function b(){const t="asana_post_import_tour",o=(0,a().O7)(),{inAppCalloutStore:e,currentUserSettingsStore:p}=(0,n().VK)((()=>({currentUserSettingsStore:m().default.state.currentUserSettingsStore,inAppCalloutStore:m().default.state.inAppCalloutStore})),[]),b=(0,n().VK)((()=>{var o,r;return!0===(null===(o=m().default.state.mainEditorCurrentBlockStore)||void 0===o?void 0:o.getFormat().is_asana_imported_project)&&!0!==(null==p||null===(r=p.getSettings())||void 0===r?void 0:r.seen_asana_post_import_tour)&&e.getCalloutVisibility(t).canShow}),[e,p]),v=(0,r.useCallback)((()=>{d().Be({environment:o}),c().Gi(o,t)}),[o]),k=(0,r.useCallback)((()=>{p&&u().createAndCommit({userAction:"PostImportIntroPopup.startOnboardingTour",environment:o,canUndo:!0,perform:t=>{var o;d().d2({transaction:t,userSettingsStore:p,data:{tutorials:{...null==p||null===(o=p.getSettings())||void 0===o?void 0:o.tutorials,"project-management-import-onboarding":"your-teamspace-tooltip"}}})}}),g().default.setState({...g().default.state,showOnboardingTour:!0})}),[p,o]),j=(0,s().YB)(),I=(0,r.useMemo)((()=>function(t){const{intl:o,onDismiss:e,primaryActionHandler:r}=t;return{presentationType:"persistent",id:h,title:o.formatMessage(f.titleForIntroToast),message:o.formatMessage(f.descriptionForIntroToast),actions:{primary:{title:o.formatMessage(f.primaryButton),onAction:r}},onDismiss:e}}({intl:j,onDismiss:()=>{v(),T(o,{importer:"asana",action:"dismissed",progress:0,callout_id:t,from:"imported_page"})},primaryActionHandler:()=>{T(o,{importer:"asana",action:"start",progress:0,callout_id:t,from:"imported_page"}),k(),v(),l().Xd(h)}})),[j,v,o,k]);return(0,i().Z)((()=>{l().m2(I)}),b),null}function T(t,o){return(0,p().j)({environment:t,event:{eventName:"import_projects_onboarding",eventProperties:o}})}},948092:(t,o,e)=>{e.r(o),e.d(o,{AllProjectsTooltip:()=>m,NavigateToProjectTasksTooltip:()=>f,ProjectCustomizationTooltip:()=>g,TasksDatabaseViewsTooltip:()=>h,YourCurrentTeamspaceTooltip:()=>b});e(267602),e(470928);var r=e(667294),a=()=>e(219727),n=()=>e(142735),i=()=>e(788860),s=()=>e(125302),l=()=>e(199114),u=()=>e(979675),d=e(785893);const p={minWidth:300,marginBottom:0,whiteSpace:"pre-wrap",wordBreak:"break-word",fontSize:e(707513).JB.UIRegular.desktop,minHeight:40},c="project-management-import-onboarding",m=r.memo((function(t){let{origin:o}=t;const r=(0,a().O7)(),m=(0,n().VK)((()=>Boolean(l().default.state.showOnboardingTour)),[]);return m?(0,d.jsx)(e(577741).g,{shouldShow:m,calloutId:"asana_post_import_tour",children:(0,d.jsx)(s().r,{origin:o,placementToOrigin:"right",style:p,tutorialId:c,tutorialStepId:"all-projects-tooltip",pointerLength:40,pointerPosition:"12.5%",header:(0,d.jsx)("div",{children:(0,d.jsx)(i()._H,{id:"AsanaImportOnboarding.AllProjects.header1",defaultMessage:"Your Projects are here"})}),content:(0,d.jsx)(i()._H,{id:"AsanaImportOnboarding.AllProjects.content",defaultMessage:"All your Asana projects for this team are on this page. Use filters and views to customize this database to fit your needs."}),onPrimaryButtonClick:()=>(0,u().trackImportOnboardingTourProgress)(r,{action:"advance",importer:"asana",from:"toast",callout_id:c,progress:1})})}):null})),g=r.memo((function(t){let{origin:o}=t;const e=(0,n().VK)((()=>Boolean(l().default.state.showOnboardingTour)),[]),r=(0,a().O7)();return e?(0,d.jsx)(s().r,{origin:o,placementToOrigin:"left",style:p,tutorialId:c,tutorialStepId:"project-customization-tooltip",pointerLength:30,pointerPosition:"8%",header:(0,d.jsx)("div",{children:(0,d.jsx)(i()._H,{id:"AsanaImportOnboarding.ProjectCustomization.header",defaultMessage:"Customize your projects"})}),content:(0,d.jsx)(i()._H,{id:"AsanaImportOnboarding.ProjectCustomization.content",defaultMessage:"Customize your project by adding properties or a description on this page"}),onPrimaryButtonClick:()=>(0,u().trackImportOnboardingTourProgress)(r,{action:"advance",importer:"asana",from:"toast",callout_id:c,progress:2})}):null})),f=r.memo((function(t){let{origin:o,onNext:m,store:g}=t;const f=(0,n().VK)((()=>l().default.state.showOnboardingTour),[]),h=(0,a().O7)(),b=(0,r.useCallback)(((t,o)=>{const{mainEditorCurrentBlockStore:r}=e(876822).default.state,a=e(887430).mb({environment:h,store:t,mainEditorCurrentBlockStore:r,collectionContextStore:o,fullyQualified:!1});a&&e(497065).c4({environment:h,url:a})}),[h]);if(!f)return null;return(0,d.jsx)(s().r,{origin:o,placementToOrigin:"bottom",style:p,tutorialId:c,tutorialStepId:"navigate-to-project-tasks-tooltip",pointerLength:20,pointerPosition:"30%",pointerOffset:25,onPrimaryButtonClick:()=>{var t;const o=(null==g?void 0:g.groupsStore.anyGroupHasResults())&&g.groupsStore.getAllGroupStates(),r=o&&o.length>0?null===(t=o.find((t=>{var o;return null===(o=t.reducerResultStore)||void 0===o||null===(o=o.state)||void 0===o?void 0:o.blockIds.length})))||void 0===t||null===(t=t.reducerResultStore)||void 0===t||null===(t=t.state)||void 0===t?void 0:t.blockIds[0]:void 0;r&&g&&b(new(e(826955).G)(h,{id:r,table:"block"}),g),m&&m(),(0,u().trackImportOnboardingTourProgress)(h,{action:"advance",importer:"asana",from:"toast",callout_id:c,progress:3})},header:(0,d.jsx)("div",{children:(0,d.jsx)(i()._H,{id:"AsanaImportOnboarding.NavigateToTasks.header",defaultMessage:"View tasks for this project"})}),content:(0,d.jsx)(i()._H,{id:"AsanaImportOnboarding.NavigateToTasks.content",defaultMessage:"Click 'Open' next to the project title to view related tasks"})})})),h=r.memo((function(t){let{origin:o,store:r}=t;const m=(0,a().O7)();return(0,n().VK)((()=>l().default.state.showOnboardingTour&&(null==r?void 0:r.isInPeekRendererStore)),[r])?(0,d.jsx)(s().r,{origin:o,placementToOrigin:"bottom",style:p,tutorialId:c,tutorialStepId:"related-tasks-database-views-tooltip",pointerLength:20,onPrimaryButtonClick:e(513670).ZT,header:(0,d.jsx)(i()._H,{id:"AsanaImportOnboarding.RelatedTasks.header",defaultMessage:"Project Tasks"}),content:(0,d.jsxs)("div",{children:[(0,d.jsx)(i()._H,{id:"AsanaImportOnboarding.RelatedTasks.contentPart1",defaultMessage:"Find all your Asana tasks related to this project in the "}),(0,e(672039).w)({height:12,width:12,display:"inline-block",marginTop:4,verticalAlign:"top",marginRight:2}),(0,d.jsx)(i()._H,{id:"AsanaImportOnboarding.RelatedTasks.contentPart2",defaultMessage:"Tasks Database"})]}),onSkipButtonClick:()=>(0,u().trackImportOnboardingTourProgress)(m,{action:"advance",importer:"asana",from:"toast",callout_id:c,progress:4})}):null})),b=r.memo((function(t){let{origin:o}=t;const e=(0,n().VK)((()=>Boolean(l().default.state.showOnboardingTour)),[]),r=(0,a().O7)();return e?(0,d.jsx)(s().r,{origin:o,placementToOrigin:"bottom",style:p,tutorialId:c,tutorialStepId:"your-teamspace-tooltip",pointerLength:20,header:(0,d.jsx)(i()._H,{id:"AsanaImportOnboarding.YourCurrentTeamspace.header",defaultMessage:"Your current teamspace"}),content:(0,d.jsx)(i()._H,{id:"AsanaImportOnboarding.YourCurrentTeamspace.content",defaultMessage:"Navigate between your projects, tasks and other pages from here"}),onPrimaryButtonClick:()=>{(0,u().trackImportOnboardingTourProgress)(r,{action:"advance",importer:"asana",from:"toast",callout_id:c,progress:5})}}):null}))},779013:(t,o,e)=>{e.d(o,{_:()=>n});var r=e(667294);const a=new Map;function n(t){const o=!a.get(t),e=(0,r.useRef)(o);return e.current&&a.set(t,!0),(0,r.useEffect)((()=>()=>{e.current&&a.set(t,!1)}),[t]),e.current}}}]);