"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[31910,10747],{172656:(e,t,o)=>{o.d(t,{Z:()=>i});class n extends(()=>o(263184))().default{getInitialState(){return{open:!1}}}const i=new n},810747:(e,t,o)=>{o.r(t),o.d(t,{CollapsibleTextSliceTreeWrapper:()=>g});o(670560),o(267602),o(30005);var n=()=>o(387934),i=()=>o(947115),s=(o(122556),o(582845),o(250570),o(533019),o(721473),o(788208),o(22624),o(241792),()=>o(541012));function l(e){return a(c(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})).join("\n")}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d(e,t,{latestRandomId:0,uuidMap:t.uuidMap??{},instanceIdsShown:new Set},0)}function r(e,t){return t[e]??e}function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const{simplifiedId:o,hasShownInstance:n,clock:i,textValue:s,simplifiedItems:l,children:c}=e,r=[];if(r.push(`${t}- id: ${o}`),n||r.push(`${t}  clock: ${i}`),r.push(`${t}  text: ${JSON.stringify(s)}`),r.push(`${t}  items: ${l}`),c.length>0){r.push(`${t}  children:`);for(const e of c)r.push(...a(e,`${t}  `))}return r}function d(e,t,o,n){const i=e.getTextSlice(),l=i.textInstanceId;t.isInstanceIdRandom&&!o.uuidMap[l]&&(o.uuidMap[l]=`[random UUID #${++o.latestRandomId}]`);const c=r(i.textInstanceId,o.uuidMap),a=o.instanceIdsShown.has(l),u=i.opClock.getValue();a||o.instanceIdsShown.add(l);const p=i.getTextValue(),h=Array.from(i.iterateItems({includeDeleted:!0,includeEndItem:!0})).map((e=>function(e,t){const o=e.toString();if(e instanceof s().Jy){const n=`${r(e.id[0],t)}@${e.id[1]}`;return o.replace(" ",` ${n} `)}if(e instanceof s().JE){const n=`${r(e.id[0],t)}@${e.id[1]}`;return o.replace("]",` ${n}]`)}return o}(e,o.uuidMap))),f={simplifiedId:c,clock:u,textValue:p,simplifiedItems:h.join(" "),hasShownInstance:a,children:[],depth:n};for(const s of e.children)f.children.push(d(s,t,o,n+1));return f}var u=()=>o(172656);const p=new class{constructor(e){this.nextId=0,this.uuidMap=e}pseudonymizeSessions(e){for(const t of e.getTextSlice().iterateItems({includeDeleted:!0,includeEndItem:!0}))if(t instanceof s().Jy||t instanceof s().JE){const e=t.id[0];this.uuidMap[e]||(this.uuidMap[e]=this.zeroOrPositiveIntToLetters(this.nextId++))}for(const t of e.children)this.pseudonymizeSessions(t)}zeroOrPositiveIntToLetters(e){const t="A".codePointAt(0)-"0".codePointAt(0);return e.toString().split("").map((e=>String.fromCodePoint(e.charCodeAt(0)+t))).join("")}}({});function h(e,t){p.pseudonymizeSessions(e);return S(c(e,{...t,uuidMap:{...p.uuidMap,...null==t?void 0:t.uuidMap}}))}i().exposeDebugValue("toggleCrdtDebuggingOverlay",(()=>{const e=!u().Z.state.open;u().Z.setState({open:e}),console.log(`CRDT debugging overlay is now ${e?"enabled":"disabled"}.`)})),i().exposeDebugValue("visualizeTextSliceTreesOfSelectedBlocks",(()=>{const e=o(965903).default.state.stores,t={};e.forEach(((e,o)=>{t[e.id]=`block${o+1}`}));for(const o of e){const e=o.getBlockTitleTextSliceTree();if(e){const n=l(e,{uuidMap:t});console.log(`TextSliceTree for ${t[o.id]} (${o.id}):\n\n`,n)}}}));const f=4;function S(e){const{simplifiedId:t,hasShownInstance:o,clock:i,textValue:s,simplifiedItems:l,children:c,depth:r}=e,{ol:d,li:u,span:p,div:h,objectSummary:g}=n().devToolsHyperscript,m=function(e){const t="id"===e?"â€¢":" ";for(var o=arguments.length,n=new Array(o>1?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];return u({},p({},`${t} `),p({style:"font-weight: bold"},`${e}: `),...n)},T=[];for(const n of c){const e=h({},r>f?a(n,"    ").join("\n"):S(n));T.push(e)}return d({style:"list-style-type: none; padding-left: 2em"},m("id",t),o?void 0:m("clock",i.toString()),m("text",g(s,{asJSON:!0})),m("items",l),T.length>0?m("children",...T):void 0)}(0,n().Rw)({id:"textSliceTreeFormatter",canFormat:e=>Boolean(e&&e instanceof o(300675).ZP),header(e){const{span:t,CONTAINER_STYLE:o,object:i}=n().devToolsHyperscript;return t(o,t({},i(e,{useDefaultFormatter:!0}),`(${m(e)})`),h(e))},hasBody:()=>!1,body:()=>null});class g{constructor(e){this.textSliceTree=e}}function m(e){let t=0;for(const o of e.iterateTextSliceTrees())t++;return t}(0,n().Rw)({id:"collapsibleTextSliceTreeWrapperFormatter",canFormat:e=>Boolean(e&&e instanceof g),header(e){const{span:t}=n().devToolsHyperscript;return t({},`TextSliceTree(${m(e.textSliceTree)})`)},hasBody:()=>!0,body:e=>h(e.textSliceTree)})},731910:(e,t,o)=>{o.r(t);var n=()=>o(387934),i=()=>o(826955);(0,n().Rw)({id:"selectableFormatter",canFormat:e=>Boolean(e&&e instanceof i().G),header(e){const{tr:t,td:s,object:l,objectSummary:c}=n().devToolsHyperscript,r=o(32969).C.findSelectableFromStore(e)||void 0,a=e.getTitleValue(),d=e.getType(),u=e.getBlockTitleTextSliceTree(),p=e.getCollectionStore(),h=e.getAssociatedCollectionStore(),f=e.getCollectionViewStores(),S=e.getAutomationStore();return(0,i().KS)(e,a&&t({},s({},"block title:"),s({},c(a,{asJSON:!0}))),u&&t({},s({},"block title CRDT:"),s({},l(new(o(810747).CollapsibleTextSliceTreeWrapper)(u)))),d&&t({},s({},"block type:"),s({},l(d))),p&&t({},s({},"collection:"),s({},l(p))),h&&t({},s({},"associated\ncollection:"),s({},l(h))),f.length>0?t({},s({},"collection\nviews (tabs):"),s({},l(f))):void 0,r&&t({},s({},"<Selectable>:"),s({},l(r))),S&&t({},s({},"automation:"),s({},l(S))))},hasBody:()=>!1,body:()=>null})}}]);