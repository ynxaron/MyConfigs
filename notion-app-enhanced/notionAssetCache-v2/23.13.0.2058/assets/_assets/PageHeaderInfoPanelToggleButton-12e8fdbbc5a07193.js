"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[8505],{699029:(e,o,t)=>{t.r(o),t.d(o,{default:()=>u});t(667294);var a=()=>t(219727),l=()=>t(788860),n=()=>t(58836),i=()=>t(265640),s=()=>t(579095),r=t(785893);const c=(0,l().vU)({ariaLabel:{id:"Layouts.PageHeader.InfoPanelToggleButton.ariaLabel",defaultMessage:"View/hide details"},showPanelButtonLabel:{id:"Layouts.PageHeader.InfoPanelToggleButton.close.label",defaultMessage:"View details"},closePanelButtonLabel:{id:"Layouts.PageHeader.InfoPanelToggleButton.show.label",defaultMessage:"Hide details"}});function u(e){const{collectionStore:o,pageViewBlockContext:t}=e,u=(0,l().YB)(),g=(0,a().Fy)(),{toggleDetailsPanel:p,isDetailsPanelOpen:P,pageDetailsPropertiesCount:d,canShowButton:f}=(0,s().g)({collectionStore:o,from:"more_properties",forceShowButtonIfNoProperties:!0,pageViewBlockContext:t}),h=g.isMobile?c.showPanelButtonLabel:P?c.closePanelButtonLabel:c.showPanelButtonLabel;return f?(0,r.jsx)(n().p,{allowSelectionWithin:!1,children:(0,r.jsx)(i().D,{isGray:!0,"aria-label":u.formatMessage(c.ariaLabel),onClick:p,style:{marginTop:4,marginLeft:-4},children:(0,r.jsx)(l()._H,{...h,values:{propertiesCount:d}})})}):null}},579095:(e,o,t)=>{t.d(o,{g:()=>g});var a=t(667294),l=()=>t(219727),n=()=>t(142735),i=()=>t(887430),s=()=>t(311562),r=()=>t(528770),c=()=>t(70191),u=()=>t(521635);function g(e){const{collectionStore:o,from:t,forceShowButtonIfNoProperties:g,pageViewBlockContext:p}=e,P=(0,n().VK)((()=>null==o?void 0:o.getLayoutStore()),[o]),d=(0,l().O7)(),f=p===s().S.PeekView,h=(0,n().VK)((()=>u().Z.getPanelState(f?"peek":"mainPage").isOpen),[f]),S=(0,n().VK)((()=>!!o&&i().eD({collectionStore:o,collectionViewBlockStore:o.getParentBlockStore(),checkNavigableAncestorLocked:!1})),[o]),b=(0,n().VK)((()=>!!P&&P.getModules().page_details.length>0),[P]),{count:w,isPropertiesModuleInPageDetails:B}=(0,n().VK)((()=>b&&o?(0,c().nJ)({collectionStore:o}):{count:0,isPropertiesModuleInPageDetails:!1}),[b,o]),k=a.useCallback((()=>{if(!P)return;const e={environment:d,layoutStore:P,from:t,panelLocation:f?"peek":"mainPage"};h?(0,r().n)(e):(0,r().U)(e)}),[d,t,h,f,P]),L=a.useMemo((()=>p!==s().S.InPageSnapShot&&(p!==s().S.DraftPostInInlineComposer&&(w>0||!!g&&(B&&S)))),[p,w,g,B,S]);return{pageDetailsPropertiesCount:w,toggleDetailsPanel:k,isDetailsPanelOpen:h,pageDetailsHasModules:b,canShowButton:L}}}}]);