"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[96960],{673893:(e,t,i)=>{i.d(t,{EQ:()=>l,PT:()=>d});i(821057);var o=i(667294),n=()=>i(846550),s=()=>i(985551),a=i(785893);const r=(0,o.createContext)({screenWidthType:"desktop",isMobileWidth:!1,isLowResolutionTabletWidth:!1,isDesktopWidth:!1,isTabletWidth:!1});function l(){const e=(0,o.useContext)(r);if(!e)throw new Error("ScreenWidthContext not found. Please make sure this is used within a ScreenWidthContext.Provider.");return e}function d(e){const{children:t,mobileUpperBound:i=550,lowResolutionTabletUpperBound:l=720,tabletUpperBound:d=1024,throttle:c=0}=e,p=(0,o.useRef)(null),h=(0,n().yK)((()=>({sizeObserverContainer:{width:"100%",height:0,position:"absolute"}})),[]),[u,m]=(0,o.useState)("desktop"),y=(0,o.useCallback)((e=>{e.state.width<=i?m("mobile"):e.state.width>i&&e.state.width<=l?m("lowResolutionTablet"):e.state.width>l&&e.state.width<=d?m("tablet"):m("desktop")}),[i,l,d]);(0,s().I)(p,y,c);const f="mobile"===u,x="desktop"===u,g="tablet"===u,b="lowResolutionTablet"===u,v=o.useMemo((()=>({screenWidthType:u,isMobileWidth:f,isLowResolutionTabletWidth:b,isDesktopWidth:x,isTabletWidth:g})),[u,f,b,x,g]);return(0,a.jsxs)(r.Provider,{value:v,children:[(0,a.jsx)("div",{ref:p,style:h.sizeObserverContainer}),t]})}r.displayName="ScreenWidthContext"},985551:(e,t,i)=>{i.d(t,{I:()=>s});i(821057);var o=i(667294),n=()=>i(200936);function s(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,o.useEffect)((()=>{const o=new(n().E)({throttleMs:i});if(!e.current)throw new Error("ref.current is null");return o.observe(e.current),o.rect.addListener(t),()=>{o.destroy()}}),[t])}},953293:(e,t,i)=>{i.d(t,{R:()=>o().R});var o=()=>i(519454)},240703:(e,t,i)=>{i.d(t,{s:()=>o});const o=(0,i(788860).vU)({postsCollectionViewPageTitle:{id:"posts.collectionViewPage.title",defaultMessage:"Posts"},postsCollectionTitle:{id:"posts.collection.title",defaultMessage:"Posts DB"},postHeadingName:{id:"posts.collection.headingName",defaultMessage:"Subject"},deleteDraftTooltip:{id:"posts.deleteDraftTooltip",defaultMessage:"Delete draft"},fullScreenTooltip:{id:"posts.fullScreenTooltip",defaultMessage:"Full screen"}})},736924:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Y});var o=i(667294),n=()=>i(219727),s=()=>i(142735),a=()=>i(846550),r=()=>i(506347),l=()=>i(88829),d=()=>i(788860),c=()=>i(707513),p=()=>i(418216),h=()=>i(47443),u=()=>i(497065),m=()=>i(963310),y=()=>i(92175),f=()=>i(842574),x=()=>i(205228),g=()=>i(673893),b=()=>i(953293),v=()=>i(309797),C=()=>i(857719),j=()=>i(193741),w=()=>i(619393),R=()=>i(752778),T=()=>i(269299),S=()=>i(826955),_=()=>i(481529);var Z=()=>i(396136),I=()=>i(321394),P=()=>i(139978),M=()=>i(342792),k=()=>i(543172),V=()=>i(636340),B=()=>i(270315),K=()=>i(240703);function U(e){const{environment:t,channelStore:i,parentStore:n}=e,a=(0,d().YB)(),r=(0,s().VK)((()=>null==n?void 0:n.canEdit()),[n]),l=(0,s().VK)((()=>null==i?void 0:i.getSpaceId()),[i]),c=i&&l&&{id:i.id,table:R().vF,spaceId:l},p=n&&c&&S().NW.createChildStore(n,c),h=(0,s().VK)((()=>i&&i.isReady()&&!i.isDefined()&&i.canEdit()&&r),[i,r]),u=(0,s().VK)((()=>p&&p.isReady()&&!p.isDefined()&&p.canEdit()&&r),[p,r]);return(0,o.useEffect)((()=>{i&&n&&p&&(h&&T().createAndCommit({userAction:"channelActions.useGetOrCreateChannel",environment:t,canUndo:!0,perform:e=>{!function(e){const{transaction:t,parent:i,channelStore:o}=e,n=_().op.update({pointer:o.pointer,path:[],args:{id:o.id,parent_id:i.id,parent_table:i.table,space_id:i.spaceId}});T().applyOperation({store:o,operation:n,transaction:t})}({transaction:e,parent:n.pointer,channelStore:i})}}),u&&T().createAndCommit({userAction:"channelActions.useGetOrCreateCollection",environment:t,canUndo:!0,perform:e=>{!function(e){const{transaction:t,channelStore:i,collectionStore:o,intl:n}=e,s=i.pointer,a=s.spaceId,r=s.id,l=r,d=r,c=(0,k().ZP)(),p=_().op.update({pointer:{id:r,table:R().vF,spaceId:a},path:[],args:{id:l,space_id:a,name:[[n.formatMessage(K().s.postsCollectionTitle)]],schema:{title:{type:"title",name:n.formatMessage(K().s.postHeadingName)},[(0,k().ZP)()]:{type:"created_by",name:(0,B().Z9)("created_by")},[c]:{type:"created_time",name:(0,B().Z9)("created_time")}},parent_id:d,parent_table:Z().iU,alive:!0,version:0}}),h=(0,M().ZP)();T().applyOperation({store:o,operation:p,transaction:t});const u={id:h,table:P().np,spaceId:a},m={id:d,table:Z().iU,spaceId:a},y=_().op.update({pointer:u,path:[],args:{id:h,version:5,type:"feed",parent_id:d,parent_table:Z().iU,space_id:a,alive:!0,name:void 0,query2:{sort:[{property:c,direction:"descending"}]},format:{hide_linked_collection_name:!0,inline_collection_first_load_limit:{type:"load_limit",limit:10},collection_pointer:{table:R().vF,id:l,spaceId:a}}}}),f=S().G.createChildStore(i,m),x=S().Xr.createChildStore(f,u);T().applyOperation({store:x,operation:y,transaction:t});const g=_().op.update({pointer:f.pointer,path:[],args:{id:d,type:"collection_view_page",version:1,alive:!0,parent_id:r,parent_table:I().ZP,space_id:a,view_ids:[h],properties:{title:[[n.formatMessage(K().s.postsCollectionViewPageTitle)]]}}});T().applyOperation({store:f,operation:g,transaction:t}),V().sW({store:f.getFormatStore(),data:{collection_pointer:{table:R().vF,id:l,spaceId:a}},transaction:t})}({transaction:e,collectionStore:p,channelStore:i,intl:a})}}))}),[h,u,t,n,i,p,a]),i}var D=()=>i(142589),H=()=>i(520849),W=()=>i(876822),N=()=>i(245015),F=()=>i(84285);var L=()=>i(178025),E=()=>i(34910),O=()=>i(383694),A=i(785893);const z="b79a9d6f4d9f4e4da2a5c29c31435321",G="160b35e6e67f80659fed000ce430be38";function Y(e){const{teamId:t}=e,[i,R]=o.useState(void 0),T=(0,n().O7)(),_=(0,n().Fy)(),Z=(0,s().VK)((()=>W().default.state.currentSpaceStore),[]),I=(0,s().VK)((()=>{if(Z)return S().t1.createChildStore(Z,{table:"team",id:t,spaceId:Z.id})}),[Z,t]),P=(0,s().VK)((()=>null==I?void 0:I.getChannelStore()),[I]),M=(0,s().VK)((()=>(0,D().U)({isMobileNative:T.device.isMobileNative,disableExposureLogging:!0})&&(null==P?void 0:P.isReady())),[T,P]);U({environment:T,channelStore:P,parentStore:I});const k=(0,s().VK)((()=>null==I?void 0:I.getName()),[I]),{canViewPosts:V,canJoinTeam:B}=(0,L().K)({teamStore:I}),K=(0,v().n1)("team-home"),Y=(0,s().VK)((()=>{if(!Z||!P)return;const e=S().t1.createUniqueRootStore(T,{table:"block",id:P.id,spaceId:Z.id});return e.isCollectionView()?e:void 0}),[T,Z,P]),J=(0,o.useCallback)((()=>{if(!Z)return;const e=S().t1.createChildStore(Z,{table:"block",id:z,spaceId:Z.id});h()._c({environment:T,store:e,collectionViewId:G,pageVisitSource:r().tY.TeamHomePage})}),[Z,T]),X=(0,o.useCallback)((()=>{u().c4({environment:T,url:`/team/${t}/join`})}),[T,t]);(0,o.useEffect)((()=>{(null==Z?void 0:Z.isReady())&&(null==I?void 0:I.isReady())&&!V&&X()}),[V,Z,X,I]),(0,o.useEffect)((()=>{Y&&function(e){const{teamId:t,collectionViewIds:i}=e,{teamHomeCollectionViewIdsKey:o}=(0,F().C)(t);N().Z.set(o,i)}({teamId:t,collectionViewIds:Y.getCollectionViewIds()})}),[Y,t]);const q=(0,s().VK)((()=>{const e=null==i?void 0:i.isLoadedStore.state,t=Boolean(null==i?void 0:i.collectionStoresStore.state.length);return Boolean(e&&t)}),[i]);(0,o.useEffect)((()=>{p().measurePageRenderMetrics({environment:T,isHomePage:!1,isEditable:!1,isWikiHome:!1,isPageWithCustomLayout:!1})}),[]),(0,j().G)({firstMountToReadyMetricName:"team_home.feed.first_mount_to_ready",pageOriginToReadyMetricName:"team_home.feed.page_origin_to_ready",isReady:q,homeType:"team"});const Q=(0,w().t)(),$=(0,a().yK)((e=>({pageContainer:{display:"flex",flexDirection:"column",order:l().Z.appCursorListener.teamHome,width:"100%"},teamHome:{position:"relative",cursor:"default"},pageLayout:{paddingBottom:K},scroller:{height:"100dvh"},container:{display:"flex",flexDirection:"column",gap:16,paddingTop:_.isMobile?24:40,paddingLeft:0},feedHeader:{display:"flex",alignItems:"center",gap:8,paddingBottom:24},teamIconAndName:{display:"flex",alignItems:"center",gap:12},teamName:{fontSize:30,fontWeight:c().Ue.semibold},flex:{flex:1},collectionViewContainer:{..._.isMobile?{marginLeft:-22,marginRight:-22}:{display:"contents"}},leaveFeedbackButton:{fontSize:15,fontWeight:c().Ue.medium,width:"fit-content",paddingLeft:12,paddingRight:12,borderRadius:14,background:_.isMobile?e.accentColors.gray[75]:e.accentColors.gray[30]}})),[K,_.isMobile]),ee=x().default.isLocalhost||!1,te=T.device.isMobile;return M&&I?V||B?(0,A.jsx)("div",{style:$.pageContainer,children:(0,A.jsx)(f().Z,{type:H().Z.Y,style:$.scroller,className:"home-content",children:(0,A.jsx)(C().Xg,{type:te?"home-phone":"team-home",style:$.teamHome,gap:Q,children:(0,A.jsx)(g().PT,{lowResolutionTabletUpperBound:980,tabletUpperBound:1190,throttle:100,children:(0,A.jsxs)(C().Pb,{style:$.pageLayout,children:[(0,A.jsxs)("div",{style:$.container,children:[ee&&_.isMobile&&(0,A.jsx)(y().Z,{icon:b().R,isGray:!0,onClick:J,style:$.leaveFeedbackButton,children:(0,A.jsx)(d()._H,{defaultMessage:"Feedback",id:"TeamHome.feedback.label"})}),(0,A.jsxs)("div",{style:$.feedHeader,children:[(0,A.jsxs)("div",{style:$.teamIconAndName,children:[I&&(0,A.jsx)(O().p,{store:I,size:40}),(0,A.jsx)("div",{style:$.teamName,children:k})]}),(0,A.jsx)("div",{style:$.flex}),ee&&!_.isMobile&&(0,A.jsx)(y().Z,{icon:b().R,isGray:!0,onClick:J,style:$.leaveFeedbackButton,children:(0,A.jsx)(d()._H,{defaultMessage:"Feedback",id:"TeamHome.feedback.label"})})]})]}),(0,A.jsx)("div",{style:$.collectionViewContainer,children:Y&&(0,A.jsx)(m().DZ,{store:Y,disabled:!1,isFullScreen:!0,headerActionsBehavior:"hidden",hideViewTabBar:!0,viewId:Y.id,overrideViewType:"feed",setCollectionContextStore:R})})]})})})})}):null:(0,A.jsx)("div",{style:$.pageContainer,children:(0,A.jsx)(f().Z,{type:H().Z.Y,style:$.scroller,className:"home-content",children:(0,A.jsx)(g().PT,{lowResolutionTabletUpperBound:980,tabletUpperBound:1190,throttle:100,children:(0,A.jsx)(C().Xg,{type:te?"phone":"team-home",style:$.teamHome,gap:_.isPhone?0:Q,children:(0,A.jsx)(C().Pb,{style:$.pageLayout,children:(0,A.jsx)(E().ZP,{})})})})})})}},34910:(e,t,i)=>{i.d(t,{E1:()=>h,Fp:()=>p,UJ:()=>c,ZP:()=>l});i(667294);var o=()=>i(219727),n=()=>i(846550),s=()=>i(668001),a=()=>i(170210),r=i(785893);function l(){const e=(0,o().Fy)(),t=(0,n().yK)((t=>{const{unhoveredBoxShadow:i}=(0,a().Ae)({isPhone:e.isPhone,theme:t});return{container:{display:"flex",flexDirection:"column",alignItems:"center"},postContainer:{display:"flex",flexDirection:"column",gap:36,borderRadius:12,boxShadow:i,padding:24},feedContainer:{display:"flex",flexDirection:"column",width:e.isPhone?"100%":700,gap:24},postTitle:{width:80,height:20,borderRadius:10},postContent:{display:"flex",flexDirection:"column",gap:12},postButtonContainer:{display:"flex",justifyContent:"flex-end"},postButton:{width:80,height:20,borderRadius:10},postComments:{display:"flex",flexDirection:"column",gap:12},postComment:{display:"flex",gap:8},postReactions:{display:"flex",gap:8},postReaction:{width:40,height:20,borderRadius:10}}}),[e.isPhone]);return(0,r.jsx)("div",{style:t.container,children:(0,r.jsxs)("div",{style:t.feedContainer,children:[(0,r.jsx)(d,{}),(0,r.jsx)(c,{}),(0,r.jsx)(p,{}),(0,r.jsx)(h,{})]})})}function d(){const e=(0,n().yK)((()=>({teamHomeTitle:{display:"flex",gap:12,alignItems:"center",paddingTop:40},teamIcon:{width:40,height:40,borderRadius:6},teamName:{width:120,height:28,borderRadius:6}})),[]);return(0,r.jsxs)("div",{style:e.teamHomeTitle,children:[(0,r.jsx)(s().Z,{style:e.teamIcon}),(0,r.jsx)(s().Z,{style:e.teamName})]})}function c(){const e=u(),t=(0,o().MO)()?300:520;return(0,r.jsxs)("div",{style:e.postContainer,children:[(0,r.jsx)(s().Z,{style:e.postTitle}),(0,r.jsx)("div",{style:e.postContentContainer,children:(0,r.jsx)(s().Z,{style:{width:t,height:20,borderRadius:10}})}),(0,r.jsx)("div",{style:e.postButtonContainer,children:(0,r.jsx)(s().Z,{style:e.postButton})})]})}function p(){const e=u(),{shimmer1:t,shimmer2:i,shimmer3:o}=m();return(0,r.jsxs)("div",{style:e.postContainer,children:[(0,r.jsx)(s().Z,{style:e.postTitle}),(0,r.jsxs)("div",{style:e.postContentContainer,children:[(0,r.jsx)(s().Z,{style:t}),(0,r.jsx)(s().Z,{style:i}),(0,r.jsx)(s().Z,{style:o})]}),(0,r.jsxs)("div",{style:e.postComments,children:[(0,r.jsxs)("div",{style:e.postComment,children:[(0,r.jsx)(s().Z,{style:{width:20,height:20,borderRadius:10}}),(0,r.jsx)(s().Z,{style:{width:160,height:20,borderRadius:6}})]}),(0,r.jsxs)("div",{style:e.postComment,children:[(0,r.jsx)(s().Z,{style:{width:20,height:20,borderRadius:10}}),(0,r.jsx)(s().Z,{style:{width:80,height:20,borderRadius:6}})]})]})]})}function h(){const e=u(),{shimmer1:t,shimmer2:i,shimmer3:o}=m();return(0,r.jsxs)("div",{style:e.postContainer,children:[(0,r.jsx)(s().Z,{style:e.postTitle}),(0,r.jsxs)("div",{style:e.postContentContainer,children:[(0,r.jsx)(s().Z,{style:t}),(0,r.jsx)(s().Z,{style:i}),(0,r.jsx)(s().Z,{style:o})]}),(0,r.jsxs)("div",{style:e.postReactions,children:[(0,r.jsx)(s().Z,{style:e.postReaction}),(0,r.jsx)(s().Z,{style:e.postReaction}),(0,r.jsx)(s().Z,{style:e.postReaction})]})]})}function u(){const e=(0,o().Fy)();return(0,n().yK)((t=>{const{unhoveredBoxShadow:i}=(0,a().Ae)({isPhone:e.isPhone,theme:t});return{container:{display:"flex",flexDirection:"column",alignItems:"center"},postContainer:{display:"flex",flexDirection:"column",gap:36,borderRadius:12,boxShadow:i,padding:20,backgroundColor:t.surface.page},feedContainer:{display:"flex",flexDirection:"column",width:700,gap:24},postTitle:{width:80,height:20,borderRadius:10},postContentContainer:{display:"flex",flexDirection:"column",gap:12},postButtonContainer:{display:"flex",justifyContent:"flex-end"},postButton:{width:80,height:20,borderRadius:10},postComments:{display:"flex",flexDirection:"column",gap:12},postComment:{display:"flex",gap:8},postReactions:{display:"flex",gap:8},postReaction:{width:40,height:20,borderRadius:10}}}),[e.isPhone])}function m(){const e=(0,o().MO)();return(0,n().yK)((()=>({shimmer1:{width:e?300:520,height:20,borderRadius:10},shimmer2:{width:e?270:470,height:20,borderRadius:10},shimmer3:{width:e?225:425,height:20,borderRadius:10}})),[e])}},178025:(e,t,i)=>{i.d(t,{K:()=>a});var o=()=>i(219727),n=()=>i(142735),s=()=>i(619779);function a(e){const{teamStore:t}=e,i=(0,o().O7)(),a=(0,n().VK)((()=>s().Z.state.spacePermissionGroupIds),[]),r=(0,n().VK)((()=>{if(t&&i.currentUser.id)return t.getTeamRoleForUser(i.currentUser.id,a)}),[t,i.currentUser.id,a]),l=(0,n().VK)((()=>!!t&&"open"===t.getTeamAccessLevel()),[t]),d="none"===r||!r,c=!d;return{isTeamMember:c,canViewPosts:c||l,canJoinTeam:d&&l}}},519454:(e,t,i)=>{i.d(t,{R:()=>n});i(667294);var o=i(785893);const n=(0,i(827282).IU)("pencil",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M3.926 13.307H14.11c.183 0 .34-.066.472-.199a.644.644 0 00.198-.471.652.652 0 00-.198-.479.644.644 0 00-.472-.198H5.272l-1.346 1.347zm-.704-.636l7.683-7.684-1.312-1.319-7.69 7.684-.67 1.606c-.037.1-.017.191.06.273.083.082.174.105.274.069l1.655-.63zm8.34-8.326l.738-.732c.182-.187.278-.376.287-.567.009-.192-.068-.374-.232-.547l-.267-.267c-.169-.168-.351-.246-.547-.232-.196.014-.385.11-.567.287l-.739.732 1.327 1.326z"})})},88829:(e,t,i)=>{i.d(t,{Z:()=>o});const o={appCursorListener:{sidebar:1,secondarySidebar:2,editor:3,aiChat:3,marketplace:3,teamHome:3}}}}]);