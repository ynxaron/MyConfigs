(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[93455],{155056:(e,t,o)=>{"use strict";o.d(t,{TX:()=>S,jf:()=>h,pj:()=>b,qc:()=>v});o(667294);var r=()=>o(506347),n=()=>o(836273),i=()=>o(788860),a=()=>o(594546),s=()=>o(718959),l=()=>o(429725),c=()=>o(890324),d=()=>o(438793),u=()=>o(308186),m=()=>o(401411),p=()=>o(579358),f=()=>o(497065),g=o(785893);async function h(e){d().T3(e,{variant:"open_notion"}),d().eb(e,{target:"open_notion"}),await p().yF(e,{utmContent:"topbar_cta",nextRoute:n()._j.root})}function v(e,t){const{RouterStore:o}=e,a=o.state.route,p=s().np();if(d().u_(e),"page"===a.name&&a.requestedOnPublicDomain&&p){const t=(0,l().ZP)({store:p,preferPublicLink:!1,pageVisitSource:r().tY.EditPublicPage,disableSlug:!0,embedded:!1});f().navigateOnBaseUrl({environment:e,url:t,openInNewTab:a.embedded})}else e.currentUser.isLoggedIn()?u().vC({showCancel:!0,keepFocus:!1,message:(0,g.jsx)(i()._H,{defaultMessage:"When you start editing, your name, email and photo may become visible to anyone who can view the page.",id:"action.startPublicEditDialog.message"}),items:[{label:(0,g.jsx)(i()._H,{defaultMessage:"Continue",id:"action.startPublicEditDialog.continueLabel"}),color:"blue",onAccept(){c().Z.setState({editing:!0,commenting:!0})}}]}):(m().Hr({currentUserId:e.currentUser.id,blockId:t}),f().navigateOnBaseUrl({environment:e,url:n()._j.login}))}function S(e,t){const{RouterStore:o}=e,i=o.state.route,a=s().np();if(d().WT(e),"page"===i.name&&i.requestedOnPublicDomain&&a){const t=(0,l().ZP)({store:a,preferPublicLink:!1,pageVisitSource:r().tY.CommentPublicPage,disableSlug:!0,embedded:!1});f().navigateOnBaseUrl({environment:e,url:t,openInNewTab:i.embedded})}else m().Hr({currentUserId:e.currentUser.id,blockId:t}),f().navigateOnBaseUrl({environment:e,url:n()._j.login})}function b(e,t){(0,a().j)({environment:e,event:{eventName:"report_form_clicked",eventProperties:{form_id:t}}}),f().navigateOnBaseUrl({environment:e,url:n()._j.reportInappropriateForm})}},405129:(e,t,o)=>{"use strict";o.d(t,{l1:()=>i,pj:()=>n().pj,q$:()=>a});var r=()=>o(201023),n=()=>o(155056);function i(){r().default.setState({open:!0,submitted:!1,error:void 0})}function a(){r().default.setState({open:!1})}},672178:(e,t,o)=>{"use strict";o.d(t,{b:()=>n});var r=()=>o(594546);function n(e){let{environment:t,source:o,sourceData:n,formId:i}=e;(0,r().j)({environment:t,event:{eventName:"forms_growth_click",eventProperties:{source:o,source_data:n,form_id:i}}})}},172988:(e,t,o)=>{"use strict";o.r(t),o.d(t,{FormBlock:()=>st});o(821057),o(670560),o(267602),o(653476),o(470928),o(241792),o(228244);var r=o(667294),n=()=>o(219727),i=()=>o(142735),a=()=>o(846550),s=()=>o(263184),l=()=>o(816512),c=()=>o(863112),d=()=>o(226413),u=()=>o(532850),m=()=>o(890085),p=()=>o(766537),f=()=>o(836273),g=()=>o(955620),h=()=>o(788860),v=()=>o(513670),S=()=>o(342792),b=()=>o(696459),y=()=>o(707513),C=()=>o(326966),x=()=>o(824462),I=()=>o(418216),k=()=>o(405129),w=()=>o(102182),F=()=>o(779300),_=()=>o(573357),j=()=>o(396439),B=()=>o(254805),M=()=>o(733285),P=()=>o(594546),E=()=>o(244303),V=()=>o(641702),L=()=>o(122479),A=()=>o(275200),z=()=>o(13023),R=()=>o(795269),T=()=>o(761651),H=()=>o(857719),K=()=>o(192665),D=()=>o(279080),O=()=>o(620218),U=()=>o(472753);class Z extends(()=>o(442))().Z{findFormQuestionContainer(e){let{formQuestionStore:t}=e;return this.find((e=>e.formQuestionStore===t))}}const N=new Z;var q=()=>o(876822),W=()=>o(920991),Q=()=>o(601952),$=()=>o(842918),Y=()=>o(826955),G=()=>o(922646),X=()=>o(944044),J=(o(916054),()=>o(66077)),ee=()=>o(469753);var te=()=>o(512687),oe=()=>o(789568),re=()=>o(467171),ne=()=>o(827282),ie=o(785893);const ae=(0,ne().IU)("formError",{viewBox:"0 0 56 56",svg:(0,ie.jsxs)("g",{children:[(0,ie.jsx)("path",{fill:"#C7C6C4",d:"M19.293 24.705c.305.293.656.44 1.055.44.41 0 .761-.147 1.054-.44.293-.293.44-.644.44-1.055 0-.421-.147-.773-.44-1.054a1.438 1.438 0 00-1.054-.44c-.399 0-.75.147-1.055.44-.293.293-.44.644-.44 1.054 0 .399.147.75.44 1.055zm0 6.24c.293.282.645.422 1.055.422a1.469 1.469 0 001.494-1.494c0-.41-.147-.756-.44-1.037a1.438 1.438 0 00-1.054-.44c-.41 0-.762.147-1.055.44a1.42 1.42 0 00-.44 1.037c0 .422.147.78.44 1.072zm0 6.575a1.48 1.48 0 001.055.439c.41 0 .761-.147 1.054-.44.293-.292.44-.644.44-1.054 0-.422-.147-.774-.44-1.055a1.438 1.438 0 00-1.054-.44c-.399 0-.75.147-1.055.44a1.44 1.44 0 00-.44 1.055c0 .398.147.75.44 1.054zm4.957-13.096c.223.21.486.316.791.316h10.547c.293 0 .545-.105.756-.316.222-.223.334-.48.334-.774 0-.304-.112-.562-.334-.773a1.005 1.005 0 00-.756-.334H25.04a1.08 1.08 0 00-.791.334c-.21.21-.316.469-.316.773 0 .293.105.551.316.774zm0 6.24c.21.211.475.316.791.316h10.547c.305 0 .562-.105.773-.316.211-.223.317-.486.317-.791 0-.293-.106-.545-.317-.756a1.052 1.052 0 00-.773-.316H25.04c-.316 0-.58.105-.791.316-.21.211-.316.463-.316.756 0 .305.105.568.316.791zm0 6.574c.223.211.486.317.791.317h10.547c.293 0 .545-.106.756-.317.222-.222.334-.48.334-.773 0-.305-.106-.563-.317-.774a1.052 1.052 0 00-.773-.316H25.04c-.316 0-.58.105-.791.316-.21.211-.316.47-.316.774 0 .293.105.55.316.773z"}),(0,ie.jsx)("path",{fill:"#C7C6C4",d:"M12.336 47.205c.914.926 2.28 1.389 4.096 1.389h18.703a10.15 10.15 0 01-.068-2.83H16.572c-.914 0-1.605-.235-2.074-.704-.457-.468-.685-1.142-.685-2.02V16.46c0-.831.205-1.493.615-1.985.422-.493 1.043-.739 1.863-.739h2.422a3.83 3.83 0 01-.07-.808v-1.793c0-.082.005-.158.017-.229h-2.422c-1.758 0-3.076.469-3.955 1.406-.867.938-1.3 2.31-1.3 4.114v26.648c0 1.84.45 3.217 1.353 4.131zm29.383-9.665a9.594 9.594 0 012.83-.533V16.426c0-1.805-.44-3.176-1.319-4.113-.867-.938-2.18-1.407-3.937-1.407h-2.422c.012.07.018.147.018.229v1.793c0 .328-.024.597-.07.808h2.421c.82 0 1.436.246 1.846.739.422.492.633 1.154.633 1.986v21.078z"}),(0,ie.jsx)("path",{fill:"#C7C6C4",fillRule:"evenodd",d:"M21.121 14.475c.293.304.697.457 1.213.457h10.863c.516 0 .914-.153 1.196-.457.292-.305.439-.733.439-1.284v-1.845c0-.551-.147-.979-.44-1.284-.28-.304-.68-.457-1.195-.457H31.58c-.058-.996-.457-1.845-1.195-2.548-.727-.703-1.6-1.055-2.62-1.055a3.691 3.691 0 00-2.636 1.055c-.727.703-1.12 1.552-1.178 2.548h-1.617c-.516 0-.92.153-1.213.457-.281.305-.422.733-.422 1.284v1.845c0 .551.14.979.422 1.284zm7.717-3.657c-.293.305-.65.457-1.072.457-.422 0-.785-.152-1.09-.457a1.497 1.497 0 01-.44-1.072c0-.434.147-.797.44-1.09a1.488 1.488 0 011.09-.457c.422 0 .779.153 1.072.457.305.293.457.656.457 1.09 0 .41-.152.768-.457 1.072z",clipRule:"evenodd"}),(0,ie.jsx)("path",{fill:"#D44C47",d:"M44.992 54.984a7.663 7.663 0 01-3.088-.628 8.08 8.08 0 01-2.55-1.725 8.097 8.097 0 01-1.733-2.543A7.763 7.763 0 0137 46.992c0-1.095.207-2.124.62-3.088a8.254 8.254 0 011.726-2.55 8.08 8.08 0 012.55-1.726A7.72 7.72 0 0144.992 39c1.095 0 2.124.21 3.088.628a7.97 7.97 0 012.55 1.726 8.189 8.189 0 011.734 2.55 7.66 7.66 0 01.628 3.088c0 1.1-.21 2.132-.628 3.096a8.097 8.097 0 01-1.733 2.543 7.991 7.991 0 01-2.543 1.725 7.681 7.681 0 01-3.096.628zm-2.376-4.745a.88.88 0 00.65-.257l1.741-1.741 1.749 1.74a.848.848 0 00.635.258.843.843 0 00.621-.25.859.859 0 00.25-.62.786.786 0 00-.265-.606L46.24 47l1.763-1.764a.828.828 0 00.258-.605.834.834 0 00-.25-.613.834.834 0 00-.613-.25.852.852 0 00-.628.25l-1.764 1.756-1.755-1.749a.878.878 0 00-.636-.25.833.833 0 00-.613.25.818.818 0 00-.25.613.83.83 0 00.257.606L43.774 47l-1.764 1.77a.804.804 0 00-.257.599.86.86 0 00.25.62.83.83 0 00.613.25z"})]})}),se=(0,ne().IU)("formErrorDark",{viewBox:"0 0 56 56",svg:(0,ie.jsxs)("g",{children:[(0,ie.jsx)("path",{fill:"#fff",fillOpacity:"0.445",d:"M19.293 24.705c.305.293.656.44 1.055.44.41 0 .761-.147 1.054-.44.293-.293.44-.644.44-1.055 0-.421-.147-.773-.44-1.054a1.438 1.438 0 00-1.054-.44c-.399 0-.75.147-1.055.44-.293.293-.44.644-.44 1.054 0 .399.147.75.44 1.055zm0 6.24c.293.282.645.422 1.055.422a1.469 1.469 0 001.494-1.494c0-.41-.147-.756-.44-1.037a1.438 1.438 0 00-1.054-.44c-.41 0-.762.147-1.055.44a1.42 1.42 0 00-.44 1.037c0 .422.147.78.44 1.072zm0 6.575a1.48 1.48 0 001.055.439c.41 0 .761-.147 1.054-.44.293-.292.44-.644.44-1.054 0-.422-.147-.774-.44-1.055a1.438 1.438 0 00-1.054-.44c-.399 0-.75.147-1.055.44a1.44 1.44 0 00-.44 1.055c0 .398.147.75.44 1.054zm4.957-13.096c.223.21.486.316.791.316h10.547c.293 0 .545-.105.756-.316.222-.223.334-.48.334-.774 0-.304-.112-.562-.334-.773a1.005 1.005 0 00-.756-.334H25.04a1.08 1.08 0 00-.791.334c-.21.21-.316.469-.316.773 0 .293.105.551.316.774zm0 6.24c.21.211.475.316.791.316h10.547c.305 0 .562-.105.773-.316.211-.223.317-.486.317-.791 0-.293-.106-.545-.317-.756a1.052 1.052 0 00-.773-.316H25.04c-.316 0-.58.105-.791.316-.21.211-.316.463-.316.756 0 .305.105.568.316.791zm0 6.574c.223.211.486.317.791.317h10.547c.293 0 .545-.106.756-.317.222-.222.334-.48.334-.773 0-.305-.106-.563-.317-.774a1.052 1.052 0 00-.773-.316H25.04c-.316 0-.58.105-.791.316-.21.211-.316.47-.316.774 0 .293.105.55.316.773z"}),(0,ie.jsx)("path",{fill:"#fff",fillOpacity:"0.445",d:"M12.336 47.205c.914.926 2.28 1.389 4.096 1.389h18.703a10.15 10.15 0 01-.068-2.83H16.572c-.914 0-1.605-.235-2.074-.704-.457-.468-.685-1.142-.685-2.02V16.46c0-.831.205-1.493.615-1.985.422-.493 1.043-.739 1.863-.739h2.422a3.83 3.83 0 01-.07-.808v-1.793c0-.082.005-.158.017-.229h-2.422c-1.758 0-3.076.469-3.955 1.406-.867.938-1.3 2.31-1.3 4.114v26.648c0 1.84.45 3.217 1.353 4.131zm29.383-9.665a9.594 9.594 0 012.83-.533V16.426c0-1.805-.44-3.176-1.319-4.113-.867-.938-2.18-1.407-3.937-1.407h-2.422c.012.07.018.147.018.229v1.793c0 .328-.024.597-.07.808h2.421c.82 0 1.436.246 1.846.739.422.492.633 1.154.633 1.986v21.078z"}),(0,ie.jsx)("path",{fill:"#fff",fillOpacity:"0.445",fillRule:"evenodd",d:"M21.121 14.475c.293.304.697.457 1.213.457h10.863c.516 0 .914-.153 1.196-.457.292-.305.439-.733.439-1.284v-1.845c0-.551-.147-.979-.44-1.284-.28-.304-.68-.457-1.195-.457H31.58c-.058-.996-.457-1.845-1.195-2.548-.727-.703-1.6-1.055-2.62-1.055a3.691 3.691 0 00-2.636 1.055c-.727.703-1.12 1.552-1.178 2.548h-1.617c-.516 0-.92.153-1.213.457-.281.305-.422.733-.422 1.284v1.845c0 .551.14.979.422 1.284zm7.717-3.657c-.293.305-.65.457-1.072.457-.422 0-.785-.152-1.09-.457a1.497 1.497 0 01-.44-1.072c0-.434.147-.797.44-1.09a1.488 1.488 0 011.09-.457c.422 0 .779.153 1.072.457.305.293.457.656.457 1.09 0 .41-.152.768-.457 1.072z",clipRule:"evenodd"}),(0,ie.jsx)("path",{fill:"#DE5550",d:"M44.992 54.984a7.663 7.663 0 01-3.088-.628 8.08 8.08 0 01-2.55-1.725 8.097 8.097 0 01-1.733-2.543A7.763 7.763 0 0137 46.992c0-1.095.207-2.124.62-3.088a8.254 8.254 0 011.726-2.55 8.08 8.08 0 012.55-1.726A7.72 7.72 0 0144.992 39c1.095 0 2.124.21 3.088.628a7.97 7.97 0 012.55 1.726 8.189 8.189 0 011.734 2.55 7.66 7.66 0 01.628 3.088c0 1.1-.21 2.132-.628 3.096a8.097 8.097 0 01-1.733 2.543 7.991 7.991 0 01-2.543 1.725 7.681 7.681 0 01-3.096.628zm-2.376-4.745a.88.88 0 00.65-.257l1.741-1.741 1.749 1.74a.848.848 0 00.635.258.843.843 0 00.621-.25.859.859 0 00.25-.62.786.786 0 00-.265-.606L46.24 47l1.763-1.764a.828.828 0 00.258-.605.834.834 0 00-.25-.613.834.834 0 00-.613-.25.852.852 0 00-.628.25l-1.764 1.756-1.755-1.749a.878.878 0 00-.636-.25.833.833 0 00-.613.25.818.818 0 00-.25.613.83.83 0 00.257.606L43.774 47l-1.764 1.77a.804.804 0 00-.257.599.86.86 0 00.25.62.83.83 0 00.613.25z"})]})}),le=r.forwardRef((function(e,t){let{formDisplayState:o,formDataStore:r,aliasStore:i}=e;const s=(0,a().Fg)(),l=(0,h().YB)(),c=(0,n().MO)(),d=(0,a().yK)((()=>({container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:(0,te().Vp)(c),padding:24,width:"100%",...void 0!==i?{height:"100%"}:{position:"absolute",top:-re().D_,height:`calc(100% + ${re().D_}px)`}},errorIcon:{width:56,height:56},backToFormButton:{height:32,padding:"4px 12px",fontSize:14}})),[i,c]),u=te().mO[o.type];return(0,ie.jsxs)("div",{ref:t,style:d.container,children:["light"===s.mode?ae(d.errorIcon):se(d.errorIcon),(0,ie.jsx)("h2",{style:{marginBottom:8,textAlign:"center"},children:l.formatMessage(te().Vi[o.type])}),u&&(0,ie.jsx)("div",{style:{textAlign:"center",maxWidth:500},children:l.formatMessage(u)}),"submissionError"===o.type?(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsx)(j().Z,{size:48}),(0,ie.jsx)(F().h,{styles:d.backToFormButton,onClick:()=>{var e;return r.updateFormState({submitFormState:{type:"notSubmitted"},draftFormBlockStore:null===(e=r.getFormState())||void 0===e?void 0:e.draftFormBlockStore})},children:(0,ie.jsx)(h()._H,{id:"FormBlock.submissionError.button",defaultMessage:"Back to form"})})]}):null]})}));var ce=()=>o(506347),de=()=>o(714230),ue=(o(398858),o(461318),o(33228),o.n(o(280129)));var me=()=>o(396136),pe=()=>o(47443),fe=()=>o(579358),ge=()=>o(291198),he=()=>o(661297),ve=()=>o(148126),Se=()=>o(466970),be=()=>o(522919);const ye=(0,ne().IU)("formSubmit",{viewBox:"0 0 56 56",svg:(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsx)("path",{d:"M44.938 54.875a7.597 7.597 0 0 1-3.063-.625 7.912 7.912 0 0 1-2.531-1.703 8.13 8.13 0 0 1-1.719-2.531A7.635 7.635 0 0 1 37 46.938c0-1.094.208-2.115.625-3.063a8.13 8.13 0 0 1 1.719-2.531 7.789 7.789 0 0 1 2.531-1.719A7.597 7.597 0 0 1 44.938 39c1.093 0 2.12.208 3.078.625a7.912 7.912 0 0 1 2.53 1.703 7.912 7.912 0 0 1 1.704 2.531c.417.959.625 1.985.625 3.078A7.597 7.597 0 0 1 52.25 50a8.001 8.001 0 0 1-1.734 2.531 8.13 8.13 0 0 1-2.532 1.719 7.559 7.559 0 0 1-3.047.625zm-.954-3.656c.365 0 .636-.125.813-.375l4.547-6.297c.073-.104.125-.208.156-.313a.767.767 0 0 0 .063-.28.88.88 0 0 0-.297-.688.97.97 0 0 0-.688-.282c-.344 0-.62.146-.828.438l-3.813 5.281-1.921-2.078a.966.966 0 0 0-.75-.328c-.271 0-.5.094-.688.281a.954.954 0 0 0-.281.703c0 .104.02.224.062.36.042.125.105.24.188.343l2.656 2.891a.804.804 0 0 0 .36.25c.145.063.286.094.421.094z",fill:"#2383E2"}),(0,ie.jsx)("path",{d:"M19.293 24.705c.305.293.656.44 1.055.44.41 0 .761-.147 1.054-.44.293-.293.44-.644.44-1.055 0-.421-.147-.773-.44-1.054a1.438 1.438 0 0 0-1.054-.44c-.399 0-.75.147-1.055.44-.293.293-.44.644-.44 1.054 0 .399.147.75.44 1.055zm0 6.24c.293.282.645.422 1.055.422a1.469 1.469 0 0 0 1.494-1.494c0-.41-.147-.756-.44-1.037a1.438 1.438 0 0 0-1.054-.44c-.41 0-.762.147-1.055.44-.293.293-.44.639-.44 1.037 0 .422.147.78.44 1.072zm0 6.575c.305.292.656.439 1.055.439.41 0 .761-.147 1.054-.44.293-.292.44-.644.44-1.054 0-.422-.147-.774-.44-1.055a1.438 1.438 0 0 0-1.054-.44c-.399 0-.75.147-1.055.44-.293.293-.44.645-.44 1.055 0 .398.147.75.44 1.054zm4.957-13.096c.223.21.486.316.791.316h10.547c.293 0 .545-.105.756-.316.222-.223.334-.48.334-.774 0-.304-.112-.562-.334-.773a1.005 1.005 0 0 0-.756-.334H25.04c-.305 0-.568.111-.791.334-.21.21-.316.469-.316.773 0 .293.105.551.316.774zm0 6.24c.21.211.475.316.791.316h10.547c.305 0 .562-.105.773-.316.211-.223.317-.486.317-.791 0-.293-.106-.545-.317-.756a1.052 1.052 0 0 0-.773-.316H25.04c-.316 0-.58.105-.791.316-.21.211-.316.463-.316.756 0 .305.105.568.316.791zm0 6.574c.223.211.486.317.791.317h10.547c.293 0 .545-.106.756-.317.222-.222.334-.48.334-.773 0-.305-.106-.563-.317-.774a1.052 1.052 0 0 0-.773-.316H25.04c-.316 0-.58.105-.791.316-.21.211-.316.47-.316.774 0 .293.105.55.316.773zm-11.914 9.967c.914.926 2.28 1.389 4.096 1.389h18.703a10.15 10.15 0 0 1-.068-2.83H16.572c-.914 0-1.605-.235-2.074-.704-.457-.468-.685-1.142-.685-2.02V16.46c0-.831.205-1.493.615-1.985.422-.493 1.043-.739 1.863-.739h2.422a3.83 3.83 0 0 1-.07-.808V11.135c0-.082.005-.158.017-.229h-2.422c-1.758 0-3.076.469-3.955 1.406-.867.938-1.3 2.31-1.3 4.114v26.648c0 1.84.45 3.217 1.353 4.131zm29.383-9.666a9.594 9.594 0 0 1 2.83-.532V16.426c0-1.805-.44-3.176-1.319-4.113-.867-.938-2.18-1.407-3.937-1.407h-2.422c.012.07.018.147.018.229v1.793c0 .328-.024.597-.07.808h2.421c.82 0 1.436.246 1.846.739.422.492.633 1.154.633 1.986v21.078zM21.12 14.475c.293.304.697.457 1.213.457h10.863c.516 0 .914-.153 1.196-.457.292-.305.439-.733.439-1.284v-1.845c0-.551-.147-.979-.44-1.284-.28-.304-.68-.457-1.195-.457H31.58c-.058-.996-.457-1.845-1.195-2.548-.727-.703-1.6-1.055-2.62-1.055-1.019 0-1.898.352-2.636 1.055-.727.703-1.12 1.552-1.178 2.548h-1.617c-.516 0-.92.153-1.213.457-.281.305-.422.733-.422 1.284v1.845c0 .551.14.979.422 1.284zm7.717-3.657c-.293.305-.65.457-1.072.457-.422 0-.785-.152-1.09-.457a1.497 1.497 0 0 1-.44-1.072c0-.434.147-.797.44-1.09a1.488 1.488 0 0 1 1.09-.457c.422 0 .779.153 1.072.457.305.293.457.656.457 1.09 0 .41-.152.768-.457 1.072z",fill:"#C7C6C4"})]})}),Ce=(0,ne().IU)("formSubmitDark",{viewBox:"0 0 56 56",svg:(0,ie.jsxs)("g",{children:[(0,ie.jsx)("path",{fill:"#2383E2",d:"M44.938 54.875a7.597 7.597 0 01-3.063-.625 7.912 7.912 0 01-2.531-1.703 8.13 8.13 0 01-1.719-2.531A7.635 7.635 0 0137 46.938c0-1.094.208-2.115.625-3.063a8.13 8.13 0 011.719-2.531 7.789 7.789 0 012.531-1.719A7.597 7.597 0 0144.938 39a7.63 7.63 0 013.078.625 7.912 7.912 0 012.53 1.703 7.912 7.912 0 011.704 2.531c.417.959.625 1.985.625 3.078A7.597 7.597 0 0152.25 50a8.001 8.001 0 01-1.734 2.531 8.13 8.13 0 01-2.532 1.719 7.559 7.559 0 01-3.047.625zm-.954-3.656c.365 0 .636-.125.813-.375l4.547-6.297c.073-.104.125-.208.156-.313a.767.767 0 00.063-.28.88.88 0 00-.297-.688.97.97 0 00-.688-.282c-.344 0-.62.146-.828.438l-3.813 5.281-1.921-2.078a.966.966 0 00-.75-.328c-.271 0-.5.094-.688.281a.954.954 0 00-.281.703c0 .104.02.224.062.36.042.125.105.24.188.343l2.656 2.891a.804.804 0 00.36.25c.145.063.286.094.421.094z"}),(0,ie.jsx)("path",{fill:"#fff",fillOpacity:"0.445",d:"M19.293 24.705c.305.293.656.44 1.055.44.41 0 .761-.147 1.054-.44.293-.293.44-.644.44-1.055 0-.421-.147-.773-.44-1.054a1.438 1.438 0 00-1.054-.44c-.399 0-.75.147-1.055.44-.293.293-.44.644-.44 1.054 0 .399.147.75.44 1.055zm0 6.24c.293.282.645.422 1.055.422a1.469 1.469 0 001.494-1.494c0-.41-.147-.756-.44-1.037a1.438 1.438 0 00-1.054-.44c-.41 0-.762.147-1.055.44a1.42 1.42 0 00-.44 1.037c0 .422.147.78.44 1.072zm0 6.575a1.48 1.48 0 001.055.439c.41 0 .761-.147 1.054-.44.293-.292.44-.644.44-1.054 0-.422-.147-.774-.44-1.055a1.438 1.438 0 00-1.054-.44c-.399 0-.75.147-1.055.44a1.44 1.44 0 00-.44 1.055c0 .398.147.75.44 1.054zm4.957-13.096c.223.21.486.316.791.316h10.547c.293 0 .545-.105.756-.316.222-.223.334-.48.334-.774 0-.304-.112-.562-.334-.773a1.005 1.005 0 00-.756-.334H25.04a1.08 1.08 0 00-.791.334c-.21.21-.316.469-.316.773 0 .293.105.551.316.774zm0 6.24c.21.211.475.316.791.316h10.547c.305 0 .562-.105.773-.316.211-.223.317-.486.317-.791 0-.293-.106-.545-.317-.756a1.052 1.052 0 00-.773-.316H25.04c-.316 0-.58.105-.791.316-.21.211-.316.463-.316.756 0 .305.105.568.316.791zm0 6.574c.223.211.486.317.791.317h10.547c.293 0 .545-.106.756-.317.222-.222.334-.48.334-.773 0-.305-.106-.563-.317-.774a1.052 1.052 0 00-.773-.316H25.04c-.316 0-.58.105-.791.316-.21.211-.316.47-.316.774 0 .293.105.55.316.773z"}),(0,ie.jsx)("path",{fill:"#fff",fillOpacity:"0.445",d:"M12.336 47.205c.914.926 2.28 1.389 4.096 1.389h18.703a10.15 10.15 0 01-.068-2.83H16.572c-.914 0-1.605-.235-2.074-.704-.457-.468-.685-1.142-.685-2.02V16.46c0-.831.205-1.493.615-1.985.422-.493 1.043-.739 1.863-.739h2.422a3.83 3.83 0 01-.07-.808v-1.793c0-.082.005-.158.017-.229h-2.422c-1.758 0-3.076.469-3.955 1.406-.867.938-1.3 2.31-1.3 4.114v26.648c0 1.84.45 3.217 1.353 4.131zm29.383-9.665a9.594 9.594 0 012.83-.533V16.426c0-1.805-.44-3.176-1.319-4.113-.867-.938-2.18-1.407-3.937-1.407h-2.422c.012.07.018.147.018.229v1.793c0 .328-.024.597-.07.808h2.421c.82 0 1.436.246 1.846.739.422.492.633 1.154.633 1.986v21.078z"}),(0,ie.jsx)("path",{fill:"#fff",fillOpacity:"0.445",fillRule:"evenodd",d:"M21.121 14.475c.293.304.697.457 1.213.457h10.863c.516 0 .914-.153 1.196-.457.292-.305.439-.733.439-1.284v-1.845c0-.551-.147-.979-.44-1.284-.28-.304-.68-.457-1.195-.457H31.58c-.058-.996-.457-1.845-1.195-2.548-.727-.703-1.6-1.055-2.62-1.055a3.691 3.691 0 00-2.636 1.055c-.727.703-1.12 1.552-1.178 2.548h-1.617c-.516 0-.92.153-1.213.457-.281.305-.422.733-.422 1.284v1.845c0 .551.14.979.422 1.284zm7.717-3.657c-.293.305-.65.457-1.072.457-.422 0-.785-.152-1.09-.457a1.497 1.497 0 01-.44-1.072c0-.434.147-.797.44-1.09a1.488 1.488 0 011.09-.457c.422 0 .779.153 1.072.457.305.293.457.656.457 1.09 0 .41-.152.768-.457 1.072z",clipRule:"evenodd"})]})});var xe=()=>o(581205),Ie=()=>o(487706),ke=()=>o(128076),we=()=>o(672178),Fe=()=>o(839708),_e=()=>o(446866);function je(e){let{formBlockStore:t,environment:o,questionsAndAnswers:n,responseBlockId:i,email:a,isNotionBrandingOn:s,internalForm:l}=e;const[c,d]=(0,r.useState)("not_submitted"),u=(0,r.useCallback)((async e=>{if(e.preventDefault(),"submitting"===c||"success"===c)return;if(d("submitting"),!t)return d("error"),void w().oV({label:(0,ie.jsx)(h()._H,{id:"FormBlock.emailInput.submitEmailError",defaultMessage:"Something went wrong. Please try again later."})});if(!(0,_e().oH)(a))return d("invalid_email"),void w().oV({label:(0,ie.jsx)(h()._H,{id:"FormBlock.emailInput.invalidEmailError",defaultMessage:"Please enter a valid email address"})});const r=await x().callApi({eventName:"saveAndEmailFormResponse",environment:o,data:{formId:t.id,spaceId:t.getSpaceId(),snapshotData:{formTitle:(0,V().Xh)(t.getTitleValue(),t),formUrl:"",questionsAndAnswers:n??[]},formResponseBlockId:i,userProvidedEmail:a,userId:o.currentUser.id,isNotionBrandingOn:s}});if(l||(0,we().b)({environment:o,source:"form_success_screen_email_form_response_button",formId:t.id}),r&&"failed"!==r.type)d("success"),l&&w().oV({label:(0,ie.jsx)(h()._H,{id:"FormBlock.emailInput.internalForm.submitEmailSuccess",defaultMessage:"Email sent to {email}",values:{email:a}})});else{var u;d("error");const e="email_unreachable"!==(null==r||null===(u=r.body)||void 0===u||null===(u=u.clientData)||void 0===u?void 0:u.type)||l?(0,ie.jsx)(h()._H,{id:"FormBlock.emailInput.submitEmailError",defaultMessage:"Something went wrong. Please try again later."}):(0,ie.jsx)(h()._H,{id:"FormBlock.emailInput.submitEmailError.emailUnreachable",defaultMessage:"We could not reach the email address you provided. Please try again with a different email."});w().oV({label:e})}}),[t,o,n,i,a,s,l,c]);return{submitEmailStatus:c,handleSubmitEmail:u,setSubmitEmailStatus:d}}const Be=(0,h().vU)({emailInputPlaceholder:{id:"FormBlock.emailInput.placeholder",defaultMessage:"Your email"},buildForms:{id:"FormBlock.formPromoCard.buildForms",defaultMessage:"Build forms"},manageTasks:{id:"FormBlock.formPromoCard.manageTasks",defaultMessage:"Manage tasks"},writeDocs:{id:"FormBlock.formPromoCard.writeDocs",defaultMessage:"Write docs"}}),Me=o(527278).Z.formatMessage(Be.emailInputPlaceholder),Pe=r.forwardRef((function(e,t){let{formDataStore:s,formBlockWidth:l,isNotionBrandingOn:c,aliasStore:d}=e;const u=(0,n().O7)(),m=(0,n().Fy)(),{value:p}=(0,o(677559).XJ)(o(442531).io),[f,g]=(0,r.useState)(!1),{formBlockStore:h,questionsAndAnswers:v,submitFormState:S}=(0,i().VK)((()=>{const e=s.getFormState();return{formBlockStore:null==e?void 0:e.formBlockStore,questionsAndAnswers:null==e?void 0:e.questionsAndAnswers,submitFormState:null==e?void 0:e.submitFormState}}),[s]),b=(0,i().VK)((()=>!u.currentUser.isLoggedIn()),[u]),{formId:y,spaceId:C}=(0,i().VK)((()=>({formId:null==h?void 0:h.id,spaceId:null==h?void 0:h.getSpaceId()})),[h]),x=(0,a().yK)((e=>({container:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:m.isPhone?"space-between":"center",height:"100%",...void 0!==d?{minHeight:(0,te().Vp)(m.isPhone),justifyContent:"center"}:{}}})),[d,m.isPhone]);if("submittedSuccessfully"!==(null==S?void 0:S.type))return null;let I=(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsx)(Ee,{isNotionBrandingOn:c,formBlockStore:h,formDataStore:s,questionsAndAnswers:v,responseBlockId:S.responseBlockId,formBlockWidth:l,setIsEmailInputFocused:g}),b&&c&&(0,ie.jsx)(ie.Fragment,{children:m.isPhone?(0,ie.jsx)(qe,{formId:y,spaceId:C}):(0,ie.jsx)(ie.Fragment,{children:p&&(0,ie.jsx)(Ue,{formId:y,spaceId:C,framerMotion:p,showMinimalCards:"medium"===l||"narrow"===l})})})]});return m.isPhone||(I=(0,ie.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",maxHeight:"100%"},children:I})),(0,ie.jsx)(_().Z,{capture:f,render:e=>(0,ie.jsx)("div",{...e,ref:t,style:x.container,children:I})})}));function Ee(e){let{isNotionBrandingOn:t,formDataStore:o,formBlockStore:r,questionsAndAnswers:s,responseBlockId:l,formBlockWidth:c,setIsEmailInputFocused:d}=e;const u=(0,n().O7)(),m=(0,n().Fy)(),p=(0,i().VK)((()=>u.currentUser.isLoggedIn()),[u.currentUser]),f="medium"===c||"narrow"===c,g=(0,a().yK)((()=>({container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:24,minwidth:m.isPhone?"calc(100% - 96px)":"calc(100% - 192px)",maxWidth:600},mobileBorderRadiusOverride:{borderRadius:12}})),[m.isPhone]);return(0,ie.jsxs)("div",{style:g.container,children:[(0,ie.jsx)(Ve,{formBlockStore:r,formDataStore:o,isLoggedIn:p}),p?(0,ie.jsx)(Ae,{formBlockStore:r,responseBlockId:l,questionsAndAnswers:s,isNotionBrandingOn:t}):(0,ie.jsx)(Le,{formBlockStore:r,questionsAndAnswers:s,responseBlockId:l,isNotionBrandingOn:t,shouldApplyNarrowEmailStyles:f,setIsEmailInputFocused:d})]})}function Ve(e){let{formBlockStore:t,formDataStore:o,isLoggedIn:r}=e;const n=(0,a().Fg)(),s=(0,a().yK)((e=>({header:{marginBottom:8,textAlign:"center"},subtitle:{margin:0,textAlign:"center"},icon:{width:56,height:56}})),[]),l=(0,i().VK)((()=>{var e;return(null==o||null===(e=o.getFormState())||void 0===e?void 0:e.isCustomizationSupported)??!1}),[o]),{customConfirmationScreenTitle:c,customConfirmationScreenBody:d,spaceId:u}=(0,i().VK)((()=>{if(!t||!l)return{customConfirmationScreenTitle:void 0,customConfirmationScreenBody:void 0,spaceId:void 0};const e=t.getFormConfigStore();return{customConfirmationScreenTitle:e.getKeyStore("custom_confirmation_screen_title"),customConfirmationScreenBody:e.getKeyStore("custom_confirmation_screen_body"),spaceId:t.getSpaceId()}}),[t,l]),m=(0,Fe().r)({textStore:c,parentStore:t,spaceId:u}),p=(0,Fe().r)({textStore:d,parentStore:t,spaceId:u}),f=(0,i().VK)((()=>m||(r?(0,ie.jsx)(h()._H,{id:"FormBlock.confirmationScreen.internal.title",defaultMessage:"Thank you!"}):(0,ie.jsx)(h()._H,{id:"FormBlock.confirmationScreen.public.title",defaultMessage:"Your response has been submitted."}))),[m,r]),g=(0,i().VK)((()=>p||(r?(0,ie.jsx)(h()._H,{id:"FormBlock.confirmationScreen.internal.subtitle",defaultMessage:"Your response has been submitted successfully."}):(0,ie.jsx)(h()._H,{id:"FormBlock.confirmationScreen.public.subtitle",defaultMessage:"Enter your email to receive a copy of your response."}))),[r,p]);return(0,ie.jsxs)(ie.Fragment,{children:["light"===n.mode?ye(s.icon):Ce(s.icon),(0,ie.jsx)("h2",{style:s.header,children:f}),(0,ie.jsx)("p",{style:s.subtitle,children:g})]})}function Le(e){const t=(0,n().O7)(),o=(0,n().Fy)(),{formBlockStore:s,questionsAndAnswers:l,responseBlockId:c,isNotionBrandingOn:d,shouldApplyNarrowEmailStyles:u,setIsEmailInputFocused:m}=e,p=(0,a().yK)((e=>({emailContainer:u?{display:"flex",flexDirection:"column",alignItems:"center",gap:12,width:"100%"}:{display:"flex",flexDirection:"row",gap:12},emailInput:u?{height:47,fontSize:16,width:"100%",borderRadius:6,boxShadow:"none"}:{fontSize:14,borderRadius:6},mobileBorderRadiusOverride:{borderRadius:12}})),[u]),f=(0,i().VK)((()=>{var e;return null===(e=q().default.state.currentUserStore)||void 0===e?void 0:e.getEmail()}),[]),[g,h]=(0,r.useState)(f??""),[v,S]=(0,r.useState)(Me),{submitEmailStatus:b,handleSubmitEmail:y,setSubmitEmailStatus:C}=je({formBlockStore:s,environment:t,questionsAndAnswers:l,responseBlockId:c,email:g,isNotionBrandingOn:d,internalForm:!1});return(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsx)(j().Z,{size:48}),(0,ie.jsxs)("div",{style:p.emailContainer,children:[(0,ie.jsx)(ge().Z,{type:"email",value:g,placeholder:v,focusInitial:!o.isMobile,onSubmit:y,onChange:e=>{h(e.target.value),C("not_submitted")},onFocus:()=>{u&&S(""),m(!0)},onBlur:()=>{u&&S(Me),m(!1)},style:{...p.emailInput,...o.isMobile?p.mobileBorderRadiusOverride:{}},inputStyle:u?{textAlign:"center"}:void 0}),(0,ie.jsx)(ze,{submitEmailStatus:b,handleSubmitEmail:y,shouldApplyNarrowEmailStyles:u,internalForm:!1})]})]})}function Ae(e){const{formBlockStore:t,responseBlockId:o,questionsAndAnswers:r,isNotionBrandingOn:s}=e,l=(0,n().O7)(),d=(0,a().yK)((e=>({viewMyResponseButton:{height:32,padding:"4px 12px",fontSize:14},buttonContainer:{display:"flex",gap:12}})),[]),u=(0,i().VK)((()=>{var e;return null===(e=q().default.state.currentUserStore)||void 0===e?void 0:e.getEmail()}),[]),{submitEmailStatus:m,handleSubmitEmail:p}=je({formBlockStore:t,environment:l,questionsAndAnswers:r,responseBlockId:o,email:u??"",isNotionBrandingOn:s,internalForm:!0}),f=(0,Se().E)("forms_submission_permissions"),g=(0,i().VK)((()=>{var e;return Boolean(null==t||null===(e=t.getFormBlockParentBlockStore())||void 0===e?void 0:e.canRead())}),[t]),v=(0,i().VK)((()=>{if(!t)return!1;return"none"!==(0,c().lm)(null==t?void 0:t.getFormSubmissionPermissions(),null==t?void 0:t.getIsFormAnonymousSubmissionEnabled(),null==t?void 0:t.getIsFormPublic())}),[t]),S=(0,i().VK)((()=>f?g||v:g),[v,g,f]);return(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsx)(j().Z,{size:48}),(0,ie.jsxs)("div",{style:d.buttonContainer,children:[S&&(0,ie.jsx)(F().h,{styles:d.viewMyResponseButton,onClick:()=>{const e=new(ke().G)(l,{table:me().iU,id:o,spaceId:null==t?void 0:t.getSpaceId()});pe()._c({environment:l,store:e,pageVisitSource:ce().tY.FormViewResponses})},children:(0,ie.jsx)(h()._H,{id:"FormBlock.viewMyResponseButton.button",defaultMessage:"View my response"})}),(0,ie.jsx)(ze,{submitEmailStatus:m,handleSubmitEmail:p,shouldApplyNarrowEmailStyles:!1,internalForm:!0})]})]})}function ze(e){let{submitEmailStatus:t,handleSubmitEmail:o,shouldApplyNarrowEmailStyles:r,internalForm:i}=e;const s=(0,n().Fy)(),l=(0,a().yK)((e=>({submitEmailButton:r?{height:47,width:"100%",padding:"6px 12px",fontSize:17,borderRadius:6,fontWeight:y().Ue.medium,textAlign:"center",whiteSpace:"nowrap"}:{height:32,padding:"4px 12px",fontSize:15,borderRadius:6,fontWeight:y().Ue.regular,whiteSpace:"nowrap"},mobileBorderRadiusOverride:{borderRadius:12}})),[r]),c=i?(0,ie.jsx)(h()._H,{id:"FormBlock.emailInput.internalForm.buttonLabel",defaultMessage:"Email me a copy"}):(0,ie.jsx)(h()._H,{id:"FormBlock.emailInput.buttonLabel",defaultMessage:"Send a copy"});return(0,ie.jsxs)(he().Z,{onClick:o,style:{...l.submitEmailButton,...s.isMobile&&!i?l.mobileBorderRadiusOverride:{}},disabled:"success"===t||"submitting"===t,children:[(0,xe().h)({width:s.isMobile?20:16,marginRight:8}),"success"===t?(0,ie.jsx)(h()._H,{id:"FormBlock.emailInput.submitEmailSuccess",defaultMessage:"Email sent!"}):s.isMobile?(0,ie.jsx)(h()._H,{id:"FormBlock.emailInput.mobile.buttonLabel",defaultMessage:"Send me a copy"}):c]})}const Re=64,Te=.6,He=.5,Ke=.075,De=(0,o(237156)._)(.34,1.56,.64,1);function Oe(e){return{transition:{duration:Te+.1*e,delay:He+e*Ke,ease:De},animate:{opacity:1,top:0}}}function Ue(e){let{framerMotion:t,showMinimalCards:o,formId:n,spaceId:i}=e;const s=(0,a().Fg)(),[l,c]=(0,r.useState)(!1),d=(0,a().yK)((e=>({cardContainer:{display:"flex",flexDirection:"row",gap:14,marginBottom:36,marginTop:150,flexShrink:0},survey:{color:"dark"===e.mode?e.accentColors.yellow[800]:e.accentColors.yellow[500]},todos:{color:"dark"===e.mode?e.accentColors.blue[800]:e.accentColors.blue[500]},docs:{color:"dark"===e.mode?e.accentColors.red[800]:e.accentColors.red[500]}})),[]);return(0,ie.jsxs)("div",{style:d.cardContainer,children:[(0,ie.jsx)(Ne,{formId:n,spaceId:i,cardIndex:0,framerMotion:t,onAnimationComplete:()=>{c(!0)}}),!o&&(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsx)(Ze,{title:Be.buildForms,cardLink:(0,ve().Y0)({routeId:"product.forms",spaceId:i,formId:n}),formId:n,color:d.survey.color,framerMotion:t,src:"dark"===s.mode?de().Z.images.forms.surveyDarkPng:de().Z.images.forms.surveyPng,cardIndex:1,skipAnimation:l}),(0,ie.jsx)(Ze,{title:Be.manageTasks,cardLink:(0,ve().Y0)({routeId:"guides.projects",spaceId:i,formId:n}),formId:n,color:d.todos.color,framerMotion:t,src:"dark"===s.mode?de().Z.images.forms.todosDarkPng:de().Z.images.forms.todosPng,cardIndex:2,skipAnimation:l}),(0,ie.jsx)(Ze,{title:Be.writeDocs,cardLink:(0,ve().Y0)({routeId:"guides.docs",spaceId:i,formId:n}),formId:n,color:d.docs.color,framerMotion:t,cardIndex:3,skipAnimation:l,src:"dark"===s.mode?de().Z.images.forms.docsDarkPng:de().Z.images.forms.docsPng})]})]})}function Ze(e){let{title:t,cardLink:o,formId:r,color:i,framerMotion:s,src:l,cardIndex:c,skipAnimation:d}=e;const u=(0,n().O7)(),m=(0,a().yK)((e=>({card:{width:208,height:180,fontSize:18,fontWeight:y().Ue.medium,backgroundSize:"cover",color:i,textDecoration:"none",cursor:"pointer",position:"relative",opacity:0,top:Re},image:{width:"100%",height:"100%"},cardText:{position:"absolute",top:16,left:22}})),[i]);return(0,ie.jsxs)(s.motion.a,{...Oe(c),initial:!d&&void 0,href:o,target:"_blank",onClick:()=>(0,we().b)({environment:u,source:"form_success_screen_promo_card",sourceData:t.defaultMessage,formId:r}),style:m.card,children:[(0,ie.jsx)("img",{src:l,style:m.image}),(0,ie.jsx)("div",{style:m.cardText,children:(0,ie.jsx)(h()._H,{...t})})]})}function Ne(e){let{formId:t,spaceId:o,framerMotion:r,cardIndex:i,onAnimationComplete:s}=e;const l=(0,n().O7)(),c=(0,a().yK)((e=>({card:{display:"flex",position:"relative",width:240,height:180,borderRadius:12,padding:"16px 0 0 23px",borderWidth:1,borderStyle:"solid",borderColor:"light"===e.mode?e.accentColors.gray[30]:e.accentColors.gray[200],backgroundColor:"light"===e.mode?e.accentColors.gray[30]:e.accentColors.gray[200],opacity:0,top:Re},caption:{marginTop:14,width:160,color:e.accentColors.gray[900],fontSize:14,lineHeight:1.4,fontWeight:y().Ue.medium},button:{marginTop:18,borderRadius:6,padding:"6px 12px"},imageContainer:{marginTop:18},peekingCharacter:{height:180,marginLeft:-18,marginTop:-10}})),[]);return(0,ie.jsxs)(r.motion.div,{...Oe(i),style:c.card,onAnimationComplete:s,children:[(0,ie.jsxs)("div",{children:[(0,Ie().C)({marginTop:4,width:24,height:24}),(0,ie.jsx)("div",{style:c.caption,children:(0,ie.jsx)(h()._H,{id:"FormBlock.formPromoCardNotion.caption",defaultMessage:"Forms, docs, tasks.{br}With AI at your side.",values:{br:(0,ie.jsx)("br",{})}})}),(0,ie.jsxs)(F().h,{styles:c.button,onClick:async()=>{(0,we().b)({environment:l,source:"form_success_screen_promo_card",sourceData:"Try Notion free",formId:t}),await fe().k1(l,{utmContent:"form_success_screen",nextRoute:f()._j.signup,formId:t,spaceId:o})},children:[(0,ie.jsx)(h()._H,{id:"FormBlock.formPromoCardNotion.label",defaultMessage:"Try Notion free"}),(0,be().n)({marginLeft:8,width:16,height:16})]})]}),(0,ie.jsx)("img",{src:de().Z.images.forms.peekingCharacterPng,style:c.peekingCharacter})]})}function qe(e){let{formId:t,spaceId:s}=e;const l=(0,n().O7)(),c=(0,n().Fy)(),d=c.isApple,u=c.isAndroid,m=(0,i().VK)((()=>l.WindowSizeStore.isLandscape()),[l.WindowSizeStore]),p=(0,a().yK)((e=>({container:{display:"flex",width:"100vw",gap:c.isTablet?24:18,flexShrink:0},cuteGirl:{width:c.isTablet?400:150},promoHeading:{fontSize:c.isTablet?24:18,fontWeight:y().Ue.semibold,textAlign:m?"center":void 0},mobileOSIcon:{width:16,height:16,marginRight:8},button:{marginTop:16,borderRadius:12,height:46,fontSize:17}})),[c.isTablet,m]),g=(v=f()._j.playStore,S={utm_medium:"internal",utm_source:"notion",utm_campaign:"forms",utm_content:s,utm_term:t},(0,r.useMemo)((()=>{const e=new URL(v),t=Object.entries(S??{}),o=Object.fromEntries(t.filter((e=>{let[t]=e;return t.startsWith("utm_")})));return e.searchParams.set("referrer",ue().stringify({...o,referer:"undefined"!=typeof document?document.referrer:""})),e.href}),[S,v]));var v,S;const b=d?f()._j.appStore:g;return(0,ie.jsxs)("div",{style:p.container,children:[m?null:(0,ie.jsx)("img",{src:de().Z.images.forms.mobileFooterCharacterPng,style:p.cuteGirl}),(0,ie.jsxs)("div",{style:m?{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"}:{marginTop:20},children:[(0,ie.jsx)("div",{style:p.promoHeading,children:(0,ie.jsx)(h()._H,{id:"FormBlock.formPromoCardNotion.caption",defaultMessage:"Forms, docs, tasks.{br}With AI at your side.",values:{br:(0,ie.jsx)("br",{})}})}),d||u?(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsxs)(F().h,{styles:p.button,href:b,onClick:()=>(0,we().b)({environment:l,source:"form_success_screen_mobile_app_store_button",sourceData:d?"ios":"android",formId:t}),children:[d?(0,o(676425).o)(p.mobileOSIcon):(0,o(907030)._)(p.mobileOSIcon),(0,ie.jsx)(h()._H,{id:"FormBlock.mobileFormPromoCardNotion.downloadApp.label",defaultMessage:"Download app"})]}),m&&(0,ie.jsx)(j().Z,{size:36})]}):null]})]})}function We(){const e=(0,a().Fg)();return(0,n().MO)()?(0,ie.jsx)("link",{rel:"preload",as:"image",href:de().Z.images.forms.mobileFooterCharacterPng}):(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsx)("link",{rel:"preload",as:"image",href:de().Z.images.forms.peekingCharacterPng}),(0,ie.jsx)("link",{rel:"preload",as:"image",href:"dark"===e.mode?de().Z.images.forms.surveyDarkPng:de().Z.images.forms.surveyPng}),(0,ie.jsx)("link",{rel:"preload",as:"image",href:"dark"===e.mode?de().Z.images.forms.todosDarkPng:de().Z.images.forms.todosPng}),(0,ie.jsx)("link",{rel:"preload",as:"image",href:"dark"===e.mode?de().Z.images.forms.docsDarkPng:de().Z.images.forms.docsPng})]})}var Qe=()=>o(98642),$e=()=>o(768826),Ye=()=>o(356321),Ge=()=>o(78078),Xe=()=>o(647410),Je=()=>o(121700),et=()=>o(491925),tt=()=>o(608531),ot=()=>o(903282),rt=()=>o(574596);function nt(e){let{formQuestionStore:t,draftSubmissionPageStore:o,collectionStore:n,questionIndex:s,handleEvaluateConditionalLogic:l}=e;const c=(0,h().YB)(),d=(0,oe().S)(),m=(0,r.useRef)(null),{hasCoverImage:p,hasPageIcon:f,hasTitle:v,hasDescription:S,isEmbedded:b,isFormPublic:y}=(0,i().VK)((()=>{const e=d.getFormState();if(!e)return{};const t=e.formBlockStore,o=(0,g().QaF)(t.getTitleValue()),r=(0,g().QaF)(t.getFormDescriptionStore().getValue());return{hasCoverImage:t.hasCover(),hasPageIcon:t.hasIcon(),hasTitle:""!==o,hasDescription:""!==r,isEmbedded:Boolean(e.aliasStore),isFormPublic:t.getIsFormPublic()}}),[d]),{collectionSchema:C,hasSubmitted:x,questionError:I,propertyId:k}=(0,i().VK)((()=>{var e;const o=d.getFormState();if(!o)throw new Error("FormDataStore not loaded");return{collectionSchema:o.collectionSchema,hasSubmitted:o.hasAttemptedFormSubmission,questionError:d.getQuestionError(t.id),propertyId:null===(e=t.getConfig())||void 0===e?void 0:e.propertyId}}),[d,t]),w=(0,i().VK)((()=>{if(!k)return;return o.getPropertyValue(k)}),[o,k]),[F,_]=(0,r.useState)(w);(0,r.useEffect)((()=>{F!==w&&(l(),_(w))}),[w,F,l]);const j=(0,i().VK)((()=>{var e;const o=null===(e=t.getConfig())||void 0===e?void 0:e.propertyId;if(C&&o)return(0,u().Qm)({schema:C,property:o})}),[C,t]),B=(0,ee().J8)({formQuestionStore:t,propertySchema:j}),M=(0,i().VK)((()=>t.isRequired()),[t]),P=(0,i().VK)((()=>"required"===I?c.formatMessage(it.requiredError):"invalid_number"===I?c.formatMessage(it.invalidNumericInputError):"invalid_email"===I?c.formatMessage(it.invalidEmailError):"invalid_url"===I?c.formatMessage(it.invalidUrlError):"invalid_phone_number"===I?c.formatMessage(it.invalidPhoneNumberError):void 0),[c,I]);(0,Qe().c)(N,(()=>({formQuestionStore:t,getNode:()=>m.current})),[t,m]);const E=(0,a().yK)((e=>({container:{marginTop:!p&&!f&&!v&&!S&&0===s&&b&&y?0:30,marginBottom:16}})),[p,f,v,S,s,b,y]);if(!k||!j)return null;const V=(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsx)(rt().T,{formMode:"viewer",disabled:!0,formQuestionStore:t,onChange:()=>{},hasSubmitted:Boolean(x)}),(0,ie.jsx)(tt().e,{disabled:!0,formQuestionStore:t,formMode:"viewer"}),(0,et().Ty)(j)&&(0,ie.jsx)(ot().Z,{formQuestionStore:t,propertySchema:j,formMode:"viewer"}),(0,ie.jsxs)(Ge().sg,{gap:"file"===(null==j?void 0:j.type)?0:8,children:[(0,ie.jsx)($e().m,{store:o,property:k,disabled:!1,locked:!0,format:Ye().C.FormViewer,blockPropertyValueOverlayStore:Je().Z,collectionStore:n,tableWrap:!1,formQuestionStore:t,formDataStore:d,focusButtonAfterClose:!0},k),(0,ie.jsx)(Xe().Z,{id:`form-question-error-${k}`,error:P})]})]});return"multi_select"===j.type?(0,ie.jsx)("fieldset",{style:E.container,ref:m,"aria-required":M,"aria-labelledby":`form-description-${null==t?void 0:t.id}`,...B?{role:"radiogroup"}:{},children:V}):(0,ie.jsx)("div",{style:E.container,ref:m,children:V})}const it=(0,h().vU)({requiredError:{id:"FormBlock.questionError.required",defaultMessage:"This question is required"},invalidNumericInputError:{id:"FormBlock.questionError.invalidNumericInput",defaultMessage:"Invalid number"},invalidEmailError:{id:"FormBlock.questionError.invalidEmail",defaultMessage:"Invalid email"},invalidUrlError:{id:"FormBlock.questionError.invalidUrl",defaultMessage:"Invalid URL"},invalidPhoneNumberError:{id:"FormBlock.questionError.invalidPhoneNumber",defaultMessage:"Invalid phone number"}});function at(e){const{store:t,aliasStore:a,innerRenderLoading:s}=e,l=(0,n().O7)(),c=(0,h().YB)(),d=(0,r.useRef)(null),u=(0,i().qz)(void 0,o(807071).Z),[m,p]=(0,r.useState)(!0),[g,v]=(0,r.useState)(!1),[S,b]=(0,r.useState)(),{collectionSchema:y,relationPropertyIdToIsCollectionPublicMap:C,submitFormState:I,isCustomizationSupported:k}=(0,i().VK)((()=>{const e=u.getFormState();return{collectionSchema:null==e?void 0:e.collectionSchema,relationPropertyIdToIsCollectionPublicMap:null==e?void 0:e.relationPropertyIdToIsCollectionPublicMap,submitFormState:null==e?void 0:e.submitFormState,isCustomizationSupported:(null==e?void 0:e.isCustomizationSupported)??!1}}),[u]),w=(0,i().VK)((()=>{var e;return null===(e=q().default.state.currentSpaceStore)||void 0===e?void 0:e.id}),[]),{blockType:F,isFormClosed:j,isFormDeleted:B}=(0,i().VK)((()=>({blockType:null==t?void 0:t.getType(),isFormClosed:null==t?void 0:t.getIsFormClosed(),isFormDeleted:t.pathIsDead()})),[t]),M=(0,i().VK)((()=>null==t?void 0:t.getSiteStore()),[t]),E=(0,i().VK)((()=>{var e;if(!t||!t.getIsFormPublic())return!1;if(!M)return!1;const o=null===(e=M.getHeader())||void 0===e?void 0:e.hideWatermark;return!k||!o}),[M,t,k]),V=(0,i().VK)((()=>!l.currentUser.isLoggedIn()),[l.currentUser]),L=(0,i().VK)((()=>g&&!y),[y,g]),A=function(e,t,o,a){const s=(0,n().O7)(),[l]=(0,r.useState)((()=>new(J().Z)({name:"FormBlockRecordCache"}))),{isFormClosed:c,isFormPublic:d}=(0,i().VK)((()=>({isFormClosed:null==e?void 0:e.getIsFormClosed(),isFormPublic:null==e?void 0:e.hasPublicPermission()})),[e]);l.addCacheFallback(s.defaultRecordCache.inMemoryRecordCache);const u=s.currentUser.id,m=(0,i().VK)((()=>{if(!e||c)return;if(!o)return;const t=(0,ee().jj)(e);if(!t)throw new Error("No layout store found from block");return t}),[e,c,o]),p=(0,i().VK)((()=>{const o=null==m?void 0:m.getFormQuestionsForFormLayout();if(o&&t&&o.every((e=>e.isReady())))return o.filter((o=>{const r=o.getConfig();if(!r)throw new Error("Question config must be present");const n=r.propertyId;if(!n)return!1;const i=t[n],s=null==i?void 0:i.type;if(e&&d&&s){if("person"===s)return!1;if("relation"===s&&a&&!a[n])return!1}if(!i||!(0,ee().I0)(i))return!1;if("select"===i.type||"multi_select"===i.type){const e=i.options;if(!e||0===e.length)return!1}return!0}))}),[t,e,d,m,a]),f=(0,i().VK)((()=>p&&p.every((e=>e.isReady()))),[p]),[g,h]=(0,r.useState)({areAllRecordsReady:!1});return(0,r.useEffect)((()=>{if(g.areAllRecordsReady)return;if(!(e&&t&&m&&m.isReady()&&p&&f))return;l.setModelAndRole({pointer:e.pointer,userId:u},e.getModel(),"reader");const o=new(Y().G)(s,e.pointer,{inMemoryRecordCache:l});l.setModelAndRole({pointer:m.pointer,userId:u},m.getModel(),"reader");const r=Y().xj.createChildStore(o,m.pointer),n=[];for(const e of p)l.setModelAndRole({pointer:e.pointer,userId:u},e.getModel(),"reader"),n.push(Y().cq.createChildStore(r,e.pointer));h({areAllRecordsReady:!0,nonReactiveFormBlockStore:o,nonReactiveLayoutStore:r,nonReactiveFormQuestionStores:n})}),[u,s,p,l,m,f,g.areAllRecordsReady,e,t]),g}(t,y,g,C),z=(0,r.useCallback)((e=>{var t;if(!e)return null===(t=d.current)||void 0===t||t.disconnect(),void(d.current=null);d.current=new ResizeObserver((e=>{const t=e[0].contentRect.width;t>880&&"wide"!==S&&b("wide"),t>440&&t<=880&&"medium"!==S&&b("medium"),t<=440&&"narrow"!==S&&b("narrow")})),d.current.observe(e)}),[S]);if((0,o(732811).K)((async()=>{var e,r;const n=l.currentUser.id,i=await x().callApi({eventName:"getFormData",environment:l,data:{formId:t.id,spaceId:w},userId:n});"failed"!==i.type?(u.setState({isLoaded:!0,collectionSchema:i.data.collectionSchema,layoutId:i.data.layoutId,collectionId:i.data.collectionId,relationPropertyIdToIsCollectionPublicMap:i.data.relationPropertyIdToIsCollectionPublicMap,aliasStore:a,filePropertyIdToFormFiles:{},formBlockStore:t,formQuestionStores:void 0,hasAttemptedFormSubmission:!1,formQuestionErrorMap:new Map,submitFormState:{type:"notSubmitted"},questionsAndAnswers:[],maxFileSizeMb:(null===(e=i.data.additionalFeatures)||void 0===e?void 0:e.maxFileSizeMb)??o(665472).bc,isCustomizationSupported:(null===(r=i.data.additionalFeatures)||void 0===r?void 0:r.customization)??!1}),v(!0),(0,P().j)({environment:l,event:{eventName:"form_viewer_visit",eventProperties:{form_id:t.id,is_public_form:t.hasPublicPermission(),is_embedded_form:void 0!==a}}})):o(497065).c4({environment:l,url:f()._j.root,redirect:!0})})),(0,r.useEffect)((()=>{A.areAllRecordsReady&&u.updateFormState({formQuestionStores:A.nonReactiveFormQuestionStores,formBlockStore:A.nonReactiveFormBlockStore})}),[u,A]),(0,r.useEffect)((()=>{(async()=>{await o(11593).e.load().then((e=>{p(!1)}))})()}),[]),(0,i().VK)((()=>{u.getFormState()&&u.updateFormErrorMap(c)}),[u,c]),!t||"form"!==F)return null;const R=s?s():null;return!g||m?R:L?(0,ie.jsx)(le,{formDisplayState:{type:"inaccessible"},formDataStore:u,aliasStore:a}):j||B?(0,ie.jsx)(le,{formDisplayState:{type:"closedOrDeleted"},formDataStore:u,aliasStore:a}):A.areAllRecordsReady?"submittedWithError"===(null==I?void 0:I.type)?(0,ie.jsx)(le,{formDisplayState:{type:"submissionError"},formDataStore:u,aliasStore:a}):"submittedSuccessfully"===(null==I?void 0:I.type)?(0,ie.jsx)(Pe,{ref:z,formDataStore:u,formBlockWidth:S,aliasStore:a,isNotionBrandingOn:E}):(0,ie.jsx)(_().Z,{capture:!0,allowEsc:!0,allowBackspace:!0,allowUndo:!0,allowCopyPaste:!0,allowMenuList:!0,allowSearch:!0,allowOpenLinkMenu:!0,render:e=>(0,ie.jsxs)("div",{ref:z,...e,style:{width:"100%",cursor:"default"},children:[V&&E?(0,ie.jsx)(We,{}):null,(0,ie.jsx)(oe().L.Provider,{value:u,children:(0,ie.jsx)(H().Xg,{type:a&&"narrow"===S?"form-viewer-embed":"form-viewer",style:{minHeight:"100%"},children:(0,ie.jsx)(lt,{layoutStore:A.nonReactiveLayoutStore,aliasStore:a,formBlockWidth:S})})})]})}):R}const st=r.memo(at);function lt(e){let{layoutStore:t,aliasStore:o,formBlockWidth:r}=e;return(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsx)(ct,{layoutStore:t,aliasStore:o,formBlockWidth:r}),(0,ie.jsx)(dt,{layoutStore:t,aliasStore:o,formBlockWidth:r})]})}function ct(e){let{layoutStore:t,aliasStore:o,formBlockWidth:a}=e;const l=(0,n().O7)(),c=(0,oe().S)(),{collectionSchema:d,formBlockStore:u}=(0,i().VK)((()=>{const e=c.getFormState();if(!e)throw new Error("FormDataStore not loaded");const t=e.collectionSchema;if(!t)throw new Error(`Collection schema not found in FormHeader (schema: ${t})`);return{collectionSchema:t,formBlockStore:e.formBlockStore}}),[c]),m=(0,i().VK)((()=>{var e;return Boolean(o&&u.getModel()&&(null===(e=u.getModel())||void 0===e?void 0:e.isNonverifiedContentClassification()))}),[o,u]),f=(0,i().VK)((()=>(null==t?void 0:t.getModules({collectionSchema:d}).form_layout_schema)??[]),[d,t]).filter((e=>(0,p().VC)("form_layout_schema",e))),[g]=(0,r.useState)(s().default.createValue(!1,{name:"headerFocusStore"}));return(0,ie.jsx)(ie.Fragment,{children:f.map((e=>{if("formTitle"===e.type)return(0,ie.jsxs)(H().Pb,{children:[(0,ie.jsx)(K().vw,{formBlockStore:u,disabled:!0,formMode:"viewer",headerFocusStore:g,onHeaderMouseEnter:v().ZT,onHeaderMouseLeave:v().ZT,aliasStore:o,formBlockWidth:a}),m&&(0,ie.jsx)(mt,{}),(0,ie.jsx)(ut,{formBlockStore:u})]},e.id);if("cover"===e.type)return(0,ie.jsx)(D().D,{store:u,isEditable:!1,paddingX:0,pageCoverHeight:o?T().D:(0,B().b)(l),onMouseEnter:v().ZT,onMouseLeave:v().ZT},e.id);throw new Error("Unexpected module type in header")}))})}function dt(e){let{layoutStore:t,aliasStore:o,formBlockWidth:s}=e;const l=(0,n().O7)(),p=(0,h().YB)(),f=(0,oe().S)(),v=new(Y().NW)(l,{table:"collection",id:(0,S().ZP)(),spaceId:(0,S().ZP)()}),{formBlockStore:y,spaceId:k,formQuestionStores:_,collectionSchema:B,collectionId:E,filePropertyIdToFormFiles:R,submitFormState:T}=(0,i().VK)((()=>{const e=f.getFormState();if(!e)throw new Error("FormDataStore not loaded");const t=e.collectionId,o=e.collectionSchema;if(!t||!o)throw new Error(`Collection schema or ID not found in FormBody (schema: ${o}, id: ${t})`);const r=e.formBlockStore;return{formBlockStore:r,spaceId:r.getSpaceId(),formQuestionStores:e.formQuestionStores,collectionId:t,collectionSchema:o,filePropertyIdToFormFiles:e.filePropertyIdToFormFiles,submitFormState:e.submitFormState}}),[f]);(0,r.useEffect)((()=>{if(o||!_)return;const e=()=>({form_id:y.id,is_public_form:y.hasPublicPermission(),question_count:_.length,question_count_bucket:_.length>10?"gt_10":"lte_10",includes_page_origin_to_app_start:!0});if(Q().default.state.initialRenderCompleted){const t=$().Z.popTimings();t&&O().default.measureAfterNextFlush({metricName:"navigation_form_render",startTime:t.navigationStart},{environment:l,getData:e})}else I().setInitialRenderCompleted(),O().default.measureFromPageOriginAfterNextFlush("initial_form_render",{environment:l,getData:e,shouldSendIfStatsigNotInitialized:!0})}),[o,l,y,_]);const K=(0,i().VK)((()=>t.getModules({collectionSchema:B}).form_layout_schema.filter((e=>"formQuestion"===e.type))),[t,B]),D=(0,i().VK)((()=>t.getModules({collectionSchema:B}).form_conditional_modules),[t,B]),[Z,J]=(0,r.useState)(K);(0,r.useEffect)((()=>{K&&J(K)}),[K]);const ee=(0,X().P)({inMemoryRecordCacheName:"FormBlockTemporaryRecordCache",collectionSchema:B,collectionId:E,spaceId:k,formMode:"viewer"}),re=(0,i().VK)((()=>{if(_)return(0,C().m8)(_.map((e=>[e.id,e])))}),[_]),ne=(0,i().VK)((()=>W().default.isUploading((e=>(0,z().A0)(e,ee.id)))),[ee]),ae=(0,i().VK)((()=>{var e;return(null===(e=f.getFormState())||void 0===e?void 0:e.isCustomizationSupported)??!1}),[f]),se=(0,M()._)({store:y}),le=(0,i().VK)((()=>{const e=q().default.state.currentSpaceStore;return null==e?void 0:e.canRead()}),[]),ce=(0,i().VK)((()=>!!se||!y.getIsFormPublic()&&L().u$(y)&&(!l.currentUser.isLoggedIn()||!le)),[y,l.currentUser,se,le]),{customSubmitButtonColor:de,customSubmitButtonText:ue}=(0,i().VK)((()=>{var e,t;return{customSubmitButtonColor:null===(e=y.getFormConfigStore().getKeyStore("custom_submit_button_color"))||void 0===e?void 0:e.getValue(),customSubmitButtonText:null===(t=y.getFormConfigStore().getKeyStore("custom_submit_button_text"))||void 0===t?void 0:t.getValue()}}),[y]),me=(0,r.useCallback)((async()=>{var e,r;f.updateFormState({hasAttemptedFormSubmission:!0}),f.updateFormErrorMap(p);const n=null===(e=f.getFormState())||void 0===e?void 0:e.collectionSchema;if(!(y&&t&&ee&&n))return;const i=null===(r=f.getFormState())||void 0===r?void 0:r.formQuestionErrorMap;if(i&&i.size>0)return void(()=>{var e;const t=null==_?void 0:_.find((e=>Boolean(f.getQuestionError(e.id))));if(!t)return;const o=null===(e=N.findFormQuestionContainer({formQuestionStore:t}))||void 0===e?void 0:e.getNode();o&&(0,A().n5)({element:o,blockAlignment:"nearest",inlineAlignment:"nearest",additionalPadding:{top:100,bottom:100}})})();if(ne)return void w().oV({label:(0,ie.jsx)(h()._H,{id:"FormBlock.submitForm.fileUploadInProgress",defaultMessage:"Please wait for all file uploads to complete before submitting form."})});f.updateFormState({submitFormState:{type:"submitting"}});const a=[];for(const t of _??[]){var s;const e=null===(s=t.getConfig())||void 0===s?void 0:s.propertyId;if(!e)continue;const o=(0,u().Qm)({schema:n,property:e});if(!o||!c().Hb[o.type])continue;const r=o.type,i=(0,V().Xh)(t.getNameStore().getValue(),t.getNameStore()),l=(0,te().ve)({questionType:r,filePropertyIdToFormFiles:R,draftSubmissionPageStore:ee,propertyId:e});a.push({questionType:r,question:i,answer:l})}f.updateFormState({questionsAndAnswers:a});const m=ee.getProperties();if(!(null==_?void 0:_.some((e=>{var t;return(null===(t=e.getConfig())||void 0===t?void 0:t.propertyId)===d().iw})))){const e=(0,g().TPx)(p.formatMessage({id:"FormBlock.submitForm.defaultTitle",defaultMessage:"New submission"}));m[d().iw]=e}const v=(0,C().m8)((0,b().qP)(R).map((e=>{let[t,o]=e;return[t,o.map((e=>e.token))]}))),S=y.getIsFormPublic()?void 0:l.currentUser.id,I=await x().callApi({eventName:"submitForm",environment:l,data:{formId:y.id,blockProperties:m,spaceId:y.getSpaceId(),filePropertyIdToTokens:v},userId:S});if(f.updateFormState({submitFormState:"failed"===I.type?{type:"submittedWithError"}:{type:"submittedSuccessfully",responseBlockId:I.data.submissionBlockId}}),"success"===I.type&&o){const e=U().R.find((e=>e.getBlockStore().id===o.id)),t=null==e?void 0:e.getNode();t instanceof Element&&(0,A().n5)({element:t,blockAlignment:"start",inlineAlignment:"nearest",additionalPadding:{top:50,bottom:50}})}(0,P().j)({environment:l,event:{eventName:"submit_form_response",eventProperties:{form_id:y.id,successful_submission:"success"===I.type,is_public_form:y.hasPublicPermission(),is_embed:void 0!==o,submission_block_id:"success"===I.type?I.data.submissionBlockId:void 0,is_anonymous:y.hasPublicPermission()||y.getIsFormAnonymousSubmissionEnabled(),submission_permissions:y.getFormSubmissionPermissions()}}})}),[f,p,y,t,ee,ne,R,l,o,_]),pe=(0,r.useCallback)((e=>{if(!e||!D)return;const t=(0,G().wK)({currentVisibleQuestionModules:Z,updatedQuestionModule:e,draftSubmissionPageStore:ee,collectionSchema:B,nestedQuestionModules:D,intl:p});t&&J(t)}),[B,ee,Z,D,p]),fe=(0,a().yK)((e=>({submitButton:{marginTop:o?16:32,padding:"4px 12px",fontSize:16,lineHeight:1.75,borderRadius:6,...ae&&de&&"gray"!==de?{background:m().Lr[e.mode][de]}:{}},submitButtonHover:{...ae&&de&&"gray"!==de?{opacity:.8,background:m().Lr[e.mode][de]}:{}},submitButtonPressed:{...ae&&de&&"gray"!==de?{opacity:.5,background:m().Lr[e.mode][de]}:{}}})),[o,ae,de]),ge=(0,i().VK)((()=>{let e=96;return o&&(e=48,o&&"narrow"===s&&(e-=te().$S)),e}),[o,s]),he=Z.map(((e,t)=>{const o=null==re?void 0:re[e.formQuestionId];return o?(0,ie.jsx)(nt,{formQuestionStore:o,draftSubmissionPageStore:ee,collectionStore:v,questionIndex:t,handleEvaluateConditionalLogic:()=>pe(e)},e.id):null})),ve=(0,r.useMemo)((()=>"submitting"===(null==T?void 0:T.type)?(0,ie.jsx)(h()._H,{id:"FormBlock.submitButton.loading",defaultMessage:"Submitting..."}):ae&&ue?ue:(0,ie.jsx)(h()._H,{id:"FormBlock.submitButton.title",defaultMessage:"Submit"})),[T,ae,ue]);return(0,ie.jsxs)(H().Pb,{children:[he,(0,ie.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[(0,ie.jsx)(F().h,{disabled:ce||"submitting"===(null==T?void 0:T.type),styles:fe.submitButton,onClick:me,hoveredStyle:fe.submitButtonHover,pressedStyle:fe.submitButtonPressed,children:ve}),(0,ie.jsx)(pt,{formBlockStore:y}),(0,ie.jsx)(j().Z,{size:ge})]})]})}function ut(e){let{formBlockStore:t}=e;const o=(0,h().YB)(),r=(0,i().VK)((()=>{var e;return null===(e=q().default.state.currentUserStore)||void 0===e?void 0:e.getModel()}),[]),{isAnonymousSubmission:n,isPublic:s}=(0,i().VK)((()=>({isAnonymousSubmission:t.getIsFormAnonymousSubmissionEnabled(),isPublic:t.getIsFormPublic()})),[t]),c=(0,i().VK)((()=>t.hasIcon()||t.hasCover()||!t.isEmptyTitle()),[t]),d=(0,a().yK)((e=>({container:{background:"light"===e.mode?e.accentColors.gray[30]:e.accentColors.translucentGray[100],color:e.text.secondary,padding:"6px 10px",borderRadius:6,display:"flex",gap:8,width:"fit-content",fontSize:14,marginTop:c?24:0}})),[c]),u=(0,i().VK)((()=>{if(r)return(0,ie.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,E().a)({actor:r,size:20,style:{marginRight:6}}),(0,l().$4)(o,r)]})}),[r,o]);return s?null:(0,ie.jsx)("div",{style:d.container,children:!r||n?(0,ie.jsx)(h()._H,{...te().Mg.anonymousSubmissionLabel}):(0,ie.jsxs)("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:[(0,ie.jsx)(h()._H,{id:"formBlock.formResponderWarning.label",defaultMessage:"Submitting response as"}),(0,ie.jsx)(j().Z,{size:6}),u]})})}function mt(){const e=(0,a().yK)((e=>({container:{background:e.accentColors.red[100],color:e.text.uiRedPrimary,padding:"12px 10px",borderRadius:6,display:"flex",gap:8,width:"fit-content",fontSize:16,fontWeight:y().Ue.medium,marginTop:20}})),[]);return(0,ie.jsxs)("div",{style:e.container,children:[(0,ie.jsx)("div",{style:{padding:"4px 2px"},children:(0,R().c)({width:18,height:18})}),(0,ie.jsx)(h()._H,{id:"formBlock.embedFormContentWarning.label",defaultMessage:"This form has been flagged as unsafe. Only proceed if you trust the source."})]})}function pt(e){const t=(0,n().O7)(),o=(0,i().VK)((()=>e.formBlockStore.getIsFormPublic()),[e.formBlockStore]),r=(0,i().VK)((()=>e.formBlockStore.id),[e.formBlockStore]),s=(0,a().yK)((e=>({container:{display:"flex",flexDirection:"column",alignItems:"flex-start",color:e.text.secondary,fontSize:12},reportAbuse:{textDecoration:"underline",cursor:"pointer"}})),[]);return o?(0,ie.jsxs)("div",{style:s.container,children:[(0,ie.jsx)(j().Z,{size:24}),(0,ie.jsx)(h()._H,{id:"formBlock.publicFormWarning.label",defaultMessage:"Never submit sensitive personal information, like passwords, through Notion Forms."}),(0,ie.jsx)("span",{role:"button",style:s.reportAbuse,onClick:()=>{k().pj(t,r)},children:(0,ie.jsx)(h()._H,{id:"formBlock.publicFormWarning.reportAbuse",defaultMessage:"Report abuse"})})]}):null}},265456:(e,t,o)=>{"use strict";o.d(t,{$d:()=>j,DK:()=>S,Iw:()=>I,Kh:()=>F,Kr:()=>w,Tg:()=>_,Uo:()=>y,cE:()=>b,tf:()=>C,u1:()=>k,wq:()=>x});var r=()=>o(474788),n=()=>o(846550),i=()=>o(836273),a=()=>o(989478),s=()=>o(438793),l=()=>o(231077),c=()=>o(579358),d=()=>o(205228),u=()=>o(949842),m=()=>o(122479),p=()=>o(852465),f=()=>o(876822),g=()=>o(725751),h=()=>o(826955),v=()=>o(406012);function S(e){const{store:t,environment:o}=e,r=f().default.state.currentSpaceStore,n=!t||(0,p().Oh)(t),{id:i}=o.currentUser,s=i&&r?h().U6.createChildStore(r,{table:a().KJ,id:i}):void 0,l=!s||s.isReady();return n&&l}function b(e,t){return!d().default.isAdminMode&&(0,m().IJ)(t,e)}i()._j.signup,i()._j.product;async function y(e){const{environment:t,route:o,openInNewTab:r}=e;s().T3(t,{variant:"made_with_notion"}),await c().yF(t,{utmContent:"topbar_cta",nextRoute:o,openInNewTab:r})}async function C(e){const{environment:t,route:o,formId:r,spaceId:n,openInNewTab:i}=e;s().T3(t,{variant:"made_with_notion"}),await c().k1(t,{utmContent:"topbar_cta",nextRoute:o,formId:r,spaceId:n,openInNewTab:i})}function x(e){e.target!==e.currentTarget||g().default.state.isShowingTabBar||(0,u().ZP)({event:e,context:u().Af.EditorDoubleClick,callback:l().toggleMaximized})}function I(e){const t=e.target;t instanceof HTMLElement&&(0,r().E)(t)&&v().Z.setState(!0)}function k(){v().Z.setState(!1)}function w(){return{mobile_horizon1_quick_capture:(0,n().yK)((e=>j(e)),[]),mobile_horizon1_quick_capture_circle_icons:(0,n().yK)((e=>_(e)),[])}}function F(e){return{mobile_horizon1_quick_capture:j(e),mobile_horizon1_quick_capture_circle_icons:_(e)}}function _(e){return{iconContainer:{background:e.tint.regular,color:e.icon.secondary,display:"inline-flex",justifyContent:"center",alignItems:"center",marginRight:8,borderRadius:16,width:32,height:32},iconStyle:{height:16,width:16,fill:e.icon.secondary}}}function j(e){return{iconContainer:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",marginRight:14,color:e.icon.secondary,width:26},iconStyle:{height:26,width:26,fill:e.icon.primary}}}},733285:(e,t,o)=>{"use strict";o.d(t,{_:()=>l});var r=()=>o(219727),n=()=>o(142735),i=()=>o(148126),a=()=>o(658096),s=()=>o(265456);function l(e){const{store:t}=e,o=(0,r().O7)();return(0,n().VK)((()=>{if(!t)return!1;const{device:e}=o;if(e.isMobile||!(0,i().Sr)(o))return!1;if(!(0,s().cE)(t,o))return!1;const{publicPageData:r}=a().default.state;return!(null==r||!r.template)}),[o,t])}},244303:(e,t,o)=>{"use strict";o.d(t,{a:()=>l});o(667294);var r=()=>o(816512),n=()=>o(696459),i=()=>o(634760),a=()=>o(981583),s=o(785893);function l(e){const{actor:t}=e,o={size:e.size??14,style:{marginRight:2,...e.style}};return(0,r().YU)(t)?(0,s.jsx)(i().Z,{botValue:t.asActor,...o}):(0,r().$S)(t)?(0,s.jsx)(a().Z,{userValue:t.asActor,...o}):(0,r().Iq)(t)?(0,s.jsx)(a().Z,{userValue:void 0,...o}):void(0,n().t1)(t)}},13023:(e,t,o)=>{"use strict";o.d(t,{A0:()=>c,FM:()=>l,OP:()=>d,lF:()=>u});o(821057);var r=o(667294),n=()=>o(109757),i=()=>o(920991);function a(e,t){return`${e}-${t}`}function s(e,t,o){return`${a(e,t)}-${o}`}function l(e,t,o){const r=a(t,o);return e.startsWith(r)}function c(e,t){return e.startsWith(t)}function d(e){const{blockStore:t,propertyId:o,environment:r,saveUploadedFile:n}=e;return m({blockStore:t,propertyId:o,environment:r,saveUploadedFile:n})}function u(e){const{blockStore:t,propertyId:o,environment:r,onSingleFileStartCallback:n,onSingleFileErrorCallback:i,formMetadata:a}=e,{spaceId:s,formId:l}=a,c=m({blockStore:t,propertyId:o,environment:r,onSingleFileStartCallback:n,onSingleFileErrorCallback:i,formMetadata:{spaceId:s??"",formId:l??""}});return s&&l?c:e=>{throw new Error("spaceId and formId are not defined")}}function m(e){const{blockStore:t,propertyId:o,environment:a,onSingleFileStartCallback:l,onSingleFileErrorCallback:c,saveUploadedFile:d,formMetadata:u}=e;return(0,r.useCallback)((e=>{const r=(e,r,n)=>{const a=s(t.pointer.id,o,r);i().default.setKeyState(a,{progressPercent:0,file:e.file,name:e.name,size:e.size}),l&&n&&l({...n,globalFileUploadStoreKey:a})},m=(e,r)=>{let{progressPercent:n}=e;const a=s(t.pointer.id,o,r),l=i().default.getKeyState(a);if(!l)throw new Error("uploading file cannot be found in global file upload state");i().default.setKeyState(a,{...l,progressPercent:n})},p=(e,r)=>{const n=s(t.pointer.id,o,r),a=i().default.getKeyState(n);if(i().default.setKeyState(n,void 0),!a||null==a||!a.name)throw new Error("completed file upload cannot be found in global file upload state");d&&d({name:null==a?void 0:a.name,url:e})},f=(e,r)=>{const n=s(t.pointer.id,o,r);i().default.setKeyState(n,void 0),c&&c(n)},g=u?{environment:a,files:e,bucket:"temporary",formMetadata:u,onSingleFileStart:r,onSingleFileProgress:m,onSingleFileComplete:p,onSingleFileError:f}:{environment:a,files:e,bucket:"secure",record:t.pointer,onSingleFileStart:r,onSingleFileProgress:m,onSingleFileComplete:p,onSingleFileError:f};n().IL(g)}),[d,t.pointer,a,o,u,l,c])}},907030:(e,t,o)=>{"use strict";o.d(t,{_:()=>n});o(667294);var r=o(785893);const n=(0,o(827282).IU)("androidLogo",{viewBox:"0 0 16 16",svg:(0,r.jsx)("path",{d:"M14 6c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1zM2 6c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1zm1.5 5.5A1.5 1.5 0 005 13v2c0 .55.45 1 1 1s1-.45 1-1v-2h2v2c0 .55.45 1 1 1s1-.45 1-1v-2a1.5 1.5 0 001.5-1.5V6h-9v5.5zM12.472 5a4.5 4.5 0 00-2.025-3.276l.5-1.001a.5.5 0 00-.895-.447L9.55 1.28l-.13-.052a4.504 4.504 0 00-2.84 0l-.13.052L5.948.276a.5.5 0 00-.895.447l.5 1.001A4.499 4.499 0 003.528 5v.5H12.5V5h-.028zM6.5 4a.5.5 0 01-.001-1h.002A.5.5 0 016.5 4zm3 0a.5.5 0 01-.001-1h.003a.5.5 0 01-.001 1z"})})},676425:(e,t,o)=>{"use strict";o.d(t,{o:()=>n});o(667294);var r=o(785893);const n=(0,o(827282).IU)("appleLogo",{viewBox:"0 0 170 170",svg:(0,r.jsx)("path",{d:"m150.37 130.25c-2.45 5.66-5.35 10.87-8.71 15.66-4.58 6.53-8.33 11.05-11.22 13.56-4.48 4.12-9.28 6.23-14.42 6.35-3.69 0-8.14-1.05-13.32-3.18-5.197-2.12-9.973-3.17-14.34-3.17-4.58 0-9.492 1.05-14.746 3.17-5.262 2.13-9.501 3.24-12.742 3.35-4.929 0.21-9.842-1.96-14.746-6.52-3.13-2.73-7.045-7.41-11.735-14.04-5.032-7.08-9.169-15.29-12.41-24.65-3.471-10.11-5.211-19.9-5.211-29.378 0-10.857 2.346-20.221 7.045-28.068 3.693-6.303 8.606-11.275 14.755-14.925s12.793-5.51 19.948-5.629c3.915 0 9.049 1.211 15.429 3.591 6.362 2.388 10.447 3.599 12.238 3.599 1.339 0 5.877-1.416 13.57-4.239 7.275-2.618 13.415-3.702 18.445-3.275 13.63 1.1 23.87 6.473 30.68 16.153-12.19 7.386-18.22 17.731-18.1 31.002 0.11 10.337 3.86 18.939 11.23 25.769 3.34 3.17 7.07 5.62 11.22 7.36-0.9 2.61-1.85 5.11-2.86 7.51zm-31.26-123.01c0 8.1021-2.96 15.667-8.86 22.669-7.12 8.324-15.732 13.134-25.071 12.375-0.119-0.972-0.188-1.995-0.188-3.07 0-7.778 3.386-16.102 9.399-22.908 3.002-3.446 6.82-6.3113 11.45-8.597 4.62-2.2516 8.99-3.4968 13.1-3.71 0.12 1.0831 0.17 2.1663 0.17 3.2409z"})})},404553:(e,t,o)=>{"use strict";o.d(t,{M:()=>r().M});var r=()=>o(682890)},820545:(e,t,o)=>{"use strict";o.d(t,{I:()=>n});o(667294);var r=o(785893);const n=(0,o(827282).IU)("arrowLeftRounded",{viewBox:"0 0 16 13",svg:(0,r.jsx)("path",{d:"M0.617188 6.85156C0.617188 6.60677 0.710938 6.39323 0.898438 6.21094L6.03906 1.07812C6.13281 0.984375 6.23177 0.914062 6.33594 0.867188C6.4401 0.820312 6.54948 0.796875 6.66406 0.796875C6.90365 0.796875 7.10417 0.875 7.26562 1.03125C7.42708 1.1875 7.50781 1.38281 7.50781 1.61719C7.50781 1.74219 7.48438 1.85677 7.4375 1.96094C7.39062 2.0599 7.32812 2.14844 7.25 2.22656L5.5 4L2.59375 6.66406L2.3125 6.15625L5.02344 5.99219H14.5156C14.776 5.99219 14.9844 6.07292 15.1406 6.23438C15.3021 6.39062 15.3828 6.59635 15.3828 6.85156C15.3828 7.10156 15.3021 7.30729 15.1406 7.46875C14.9844 7.625 14.776 7.70312 14.5156 7.70312H5.02344L2.3125 7.54688L2.59375 7.04688L5.5 9.70312L7.25 11.4688C7.32812 11.5469 7.39062 11.638 7.4375 11.7422C7.48438 11.8464 7.50781 11.9583 7.50781 12.0781C7.50781 12.3125 7.42708 12.5078 7.26562 12.6641C7.10417 12.8203 6.90365 12.8984 6.66406 12.8984C6.4349 12.8984 6.22917 12.8099 6.04688 12.6328L0.898438 7.49219C0.710938 7.3099 0.617188 7.09635 0.617188 6.85156Z"})})},660065:(e,t,o)=>{"use strict";o.d(t,{r:()=>n});o(667294);var r=o(785893);const n=(0,o(827282).IU)("arrowRightRounded",{viewBox:"0 0 16 13",svg:(0,r.jsx)("path",{d:"M15.3828 6.85156C15.3828 7.09635 15.2917 7.3099 15.1094 7.49219L9.95312 12.6328C9.77083 12.8099 9.5651 12.8984 9.33594 12.8984C9.09635 12.8984 8.89583 12.8203 8.73438 12.6641C8.57812 12.5078 8.5 12.3125 8.5 12.0781C8.5 11.9583 8.52083 11.8464 8.5625 11.7422C8.60938 11.638 8.67188 11.5469 8.75 11.4688L10.5 9.70312L13.4141 7.04688L13.6875 7.54688L10.9766 7.70312H1.48438C1.22396 7.70312 1.01302 7.625 0.851562 7.46875C0.695312 7.30729 0.617188 7.10156 0.617188 6.85156C0.617188 6.59635 0.695312 6.39062 0.851562 6.23438C1.01302 6.07292 1.22396 5.99219 1.48438 5.99219H10.9766L13.6875 6.15625L13.4141 6.66406L10.5 4L8.75 2.22656C8.67188 2.14844 8.60938 2.0599 8.5625 1.96094C8.52083 1.85677 8.5 1.74219 8.5 1.61719C8.5 1.38281 8.57812 1.1875 8.73438 1.03125C8.89583 0.875 9.09635 0.796875 9.33594 0.796875C9.45052 0.796875 9.5599 0.820312 9.66406 0.867188C9.76823 0.914062 9.86719 0.984375 9.96094 1.07812L15.1094 6.21094C15.2917 6.39323 15.3828 6.60677 15.3828 6.85156Z"})})},536635:(e,t,o)=>{"use strict";o.d(t,{Z:()=>n});o(667294);var r=o(785893);const n=(0,o(827282).IU)("arrowUp",{viewBox:"0 0 16 16",svg:(0,r.jsx)("path",{d:"M8 14.5586C8.44434 14.5586 8.74512 14.251 8.74512 13.7998V5.30957L8.69043 3.83984L10.4951 5.84961L12.0469 7.38086C12.1836 7.51074 12.3682 7.59961 12.5801 7.59961C12.9902 7.59961 13.291 7.28516 13.291 6.86816C13.291 6.66992 13.2158 6.49219 13.0586 6.32812L8.55371 1.81641C8.40332 1.66602 8.20508 1.57715 8 1.57715C7.79492 1.57715 7.59668 1.66602 7.44629 1.81641L2.94141 6.32812C2.78418 6.49219 2.70898 6.66992 2.70898 6.86816C2.70898 7.28516 3.0166 7.59961 3.42676 7.59961C3.63184 7.59961 3.82324 7.51074 3.95312 7.38086L5.50488 5.84961L7.30957 3.83301L7.25488 5.30957V13.7998C7.25488 14.251 7.5625 14.5586 8 14.5586Z"})})},581205:(e,t,o)=>{"use strict";o.d(t,{h:()=>n});o(667294);var r=o(785893);const n=(0,o(827282).IU)("mailRound",{viewBox:"0 0 17 12",svg:(0,r.jsx)("path",{d:"M3.09961 11.9639H14.1055C15.3359 11.9639 16.0469 11.2529 16.0469 9.84473V2.29785C16.0469 0.896484 15.3291 0.185547 13.9004 0.185547H2.89453C1.66406 0.185547 0.953125 0.889648 0.953125 2.29785V9.84473C0.953125 11.2598 1.6709 11.9639 3.09961 11.9639ZM7.68652 6.41992L2.52539 1.32715C2.67578 1.26562 2.85352 1.23145 3.05859 1.23145H13.9414C14.1533 1.23145 14.3379 1.26562 14.4883 1.33398L9.34082 6.41992C9.04688 6.71387 8.78027 6.84375 8.51367 6.84375C8.24023 6.84375 7.97363 6.70703 7.68652 6.41992ZM1.99902 9.84473V2.29785C1.99902 2.24316 1.99902 2.27051 1.99902 2.22266L5.92969 6.08496L2.00586 9.96094C1.99902 9.92676 1.99902 9.88574 1.99902 9.84473ZM15.001 2.30469V9.85156C15.001 9.87891 15.001 9.91309 15.001 9.94043L11.0977 6.08496L15.001 2.24316C15.001 2.30469 15.001 2.30469 15.001 2.30469ZM3.05859 10.918C2.86719 10.918 2.70312 10.8906 2.55957 10.8291L6.64746 6.78906L7.0918 7.22656C7.57031 7.69824 8.02832 7.89648 8.51367 7.89648C8.99219 7.89648 9.45703 7.69824 9.93555 7.22656L10.3799 6.78906L14.4609 10.8223C14.3105 10.8906 14.1396 10.918 13.9414 10.918H3.05859Z"})})},487706:(e,t,o)=>{"use strict";o.d(t,{C:()=>n});o(667294);var r=o(785893);const n=(0,o(827282).IU)("notionLogoStroked",{viewBox:"0 0 41 42",svg:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("path",{d:"M4.253 2.903h0-.01c-1.02.09-1.806.481-2.322 1.142-.5.642-.671 1.441-.671 2.21v23.228c0 1.267.47 2.316 1.416 3.577h0l.006.008 4.99 6.477h0l.005.005c.465.593.963 1.017 1.617 1.256.63.23 1.33.26 2.138.221h.01l24.652-1.49h.008c1.137-.08 2.038-.396 2.632-1.071.588-.668.746-1.543.746-2.431V9.904c0-.584-.133-1.05-.508-1.486-.27-.311-.669-.602-1.113-.925a54.305 54.305 0 01-.176-.13l-.007-.004-.005-.004-6.772-4.761c-.838-.609-1.516-1.017-2.365-1.21-.824-.187-1.75-.156-3.047-.044L4.253 2.903z",fill:"#fff",stroke:"#fff",strokeWidth:"1.5"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.257 3.158L5.176 4.637c-1.62.14-2.184 1.197-2.184 2.464v21.971c0 .987.352 1.83 1.198 2.959l4.72 6.126c.776.987 1.48 1.198 2.96 1.127l23.32-1.408c1.973-.14 2.537-1.057 2.537-2.606V10.552c0-.801-.316-1.032-1.25-1.714l-.16-.117-6.41-4.507c-1.55-1.126-2.184-1.268-4.65-1.056zM12.4 10.146c-1.904.129-2.337.158-3.418-.72l-2.75-2.183c-.28-.283-.14-.635.565-.705L26.102 5.13c1.62-.141 2.466.423 3.1.916l3.311 2.394c.141.07.493.492.07.492L12.645 10.13l-.245.016zM10.179 35.06V14.074c0-.916.281-1.338 1.126-1.41l22.898-1.337c.777-.07 1.128.423 1.128 1.338v20.844c0 .916-.14 1.691-1.41 1.761l-21.91 1.268c-1.269.07-1.832-.352-1.832-1.48zm21.63-19.86c.141.635 0 1.268-.635 1.34l-1.056.21v15.492c-.916.493-1.761.775-2.466.775-1.128 0-1.41-.352-2.255-1.408l-6.905-10.845v10.493l2.185.493s0 1.267-1.763 1.267l-4.86.282c-.142-.282 0-.986.492-1.127l1.269-.351V17.947l-1.761-.142c-.141-.634.21-1.549 1.197-1.62l5.214-.351 7.187 10.986V17.1l-1.832-.21c-.14-.776.422-1.339 1.127-1.409l4.863-.283z",fill:"#222"})]})})},795269:(e,t,o)=>{"use strict";o.d(t,{c:()=>n});o(667294);var r=o(785893);const n=(0,o(827282).IU)("pageErrorUnsafe",{viewBox:"0 0 72 72",svg:(0,r.jsx)("path",{d:"M36 68C36.5 68 37.2812 67.8125 38.0625 67.4062C55.8438 58.0938 61.5625 53.4375 61.5625 42.2188V18.6562C61.5625 15.4375 60.1875 14.4062 57.5625 13.3125C53.9062 11.8125 42.2188 7.5625 38.5938 6.3125C37.75 6.03125 36.875 5.875 36 5.875C35.125 5.875 34.25 6.0625 33.4375 6.3125C29.7812 7.5 18.0938 11.8438 14.4375 13.3125C11.8438 14.375 10.4375 15.4375 10.4375 18.6562V42.2188C10.4375 53.4375 16.4688 57.5625 33.9375 67.4062C34.75 67.8438 35.5 68 36 68ZM36 41.5938C34.375 41.5938 33.5 40.6875 33.4688 39.0312L33.0312 22C33 20.3438 34.2188 19.1562 35.9688 19.1562C37.6875 19.1562 38.9688 20.375 38.9375 22.0312L38.5 39.0312C38.4688 40.7188 37.5625 41.5938 36 41.5938ZM36 52.0625C34.125 52.0625 32.5 50.5625 32.5 48.7188C32.5 46.875 34.0938 45.3438 36 45.3438C37.9062 45.3438 39.5 46.8438 39.5 48.7188C39.5 50.5938 37.875 52.0625 36 52.0625Z"})})},395272:(e,t,o)=>{"use strict";o.d(t,{p:()=>n});o(667294);var r=o(785893);const n=(0,o(827282).IU)("trashSmall",{viewBox:"0 0 16 16",svg:(0,r.jsx)("path",{d:"M5.31055 14.3398C4.85742 14.3398 4.49414 14.2129 4.2207 13.959C3.95117 13.7051 3.80664 13.3516 3.78711 12.8984L3.38867 4.45508H2.74414C2.59961 4.45508 2.47656 4.4043 2.375 4.30273C2.27344 4.20117 2.22266 4.07812 2.22266 3.93359C2.22266 3.79297 2.27344 3.67383 2.375 3.57617C2.47656 3.47461 2.59961 3.42383 2.74414 3.42383H13.2617C13.4062 3.42383 13.5273 3.47266 13.625 3.57031C13.7266 3.66797 13.7773 3.78906 13.7773 3.93359C13.7773 4.07812 13.7266 4.20117 13.625 4.30273C13.5273 4.4043 13.4062 4.45508 13.2617 4.45508H12.6172L12.2188 12.8926C12.1992 13.3457 12.0527 13.6992 11.7793 13.9531C11.5059 14.2109 11.1445 14.3398 10.6953 14.3398H5.31055ZM5.42773 13.3027H10.5723C10.7363 13.3027 10.8711 13.248 10.9766 13.1387C11.082 13.0332 11.1387 12.8926 11.1465 12.7168L11.5273 4.45508H4.45508L4.85352 12.7168C4.86133 12.8887 4.91797 13.0293 5.02344 13.1387C5.12891 13.248 5.26367 13.3027 5.42773 13.3027ZM6.27734 12.3535C6.15625 12.3535 6.05859 12.3203 5.98438 12.2539C5.91016 12.1836 5.87109 12.0898 5.86719 11.9727L5.69141 5.83203C5.6875 5.71875 5.72266 5.62695 5.79688 5.55664C5.87109 5.48242 5.96875 5.44531 6.08984 5.44531C6.21094 5.44531 6.30859 5.48047 6.38281 5.55078C6.45703 5.62109 6.49414 5.71289 6.49414 5.82617L6.67578 11.9668C6.67578 12.084 6.63867 12.1777 6.56445 12.248C6.49414 12.3184 6.39844 12.3535 6.27734 12.3535ZM8 12.3535C7.87891 12.3535 7.7793 12.3184 7.70117 12.248C7.62695 12.1777 7.58984 12.0859 7.58984 11.9727V5.83203C7.58984 5.71875 7.62695 5.62695 7.70117 5.55664C7.7793 5.48242 7.87891 5.44531 8 5.44531C8.125 5.44531 8.22461 5.48242 8.29883 5.55664C8.37695 5.62695 8.41602 5.71875 8.41602 5.83203V11.9727C8.41602 12.0859 8.37695 12.1777 8.29883 12.248C8.22461 12.3184 8.125 12.3535 8 12.3535ZM9.72852 12.3535C9.60352 12.3535 9.50391 12.3184 9.42969 12.248C9.35938 12.1777 9.32617 12.084 9.33008 11.9668L9.50586 5.83203C9.50977 5.71484 9.54883 5.62109 9.62305 5.55078C9.69727 5.48047 9.79297 5.44531 9.91016 5.44531C10.0352 5.44531 10.1328 5.48242 10.2031 5.55664C10.2773 5.62695 10.3125 5.71875 10.3086 5.83203L10.1328 11.9727C10.1289 12.0898 10.0898 12.1836 10.0156 12.2539C9.94141 12.3203 9.8457 12.3535 9.72852 12.3535ZM5.33984 3.81055V2.54492C5.33984 2.0957 5.47461 1.74609 5.74414 1.49609C6.01758 1.24219 6.39648 1.11523 6.88086 1.11523H9.10742C9.5918 1.11523 9.9707 1.24219 10.2441 1.49609C10.5176 1.74609 10.6543 2.0957 10.6543 2.54492V3.81055H9.57031V2.59766C9.57031 2.44922 9.52148 2.33008 9.42383 2.24023C9.32617 2.14648 9.19531 2.09961 9.03125 2.09961H6.95703C6.79688 2.09961 6.66797 2.14648 6.57031 2.24023C6.47266 2.33008 6.42383 2.44922 6.42383 2.59766V3.81055H5.33984Z"})})},848854:(e,t,o)=>{"use strict";o.d(t,{v:()=>r().v});var r=()=>o(545914)},201023:(e,t,o)=>{"use strict";o.d(t,{default:()=>n});class r extends(()=>o(263184))().default{getInitialState(){return{open:!1}}}const n=new r},688745:(e,t,o)=>{"use strict";o.d(t,{D5:()=>w,Ym:()=>k,cP:()=>I});o(821057),o(267602),o(916054),o(653476),o(241792),o(667294);var r=()=>o(146947),n=()=>o(780741),i=()=>o(481529),a=()=>o(494616),s=()=>o(396136),l=()=>o(752778),c=()=>o(139978),d=()=>o(483791),u=()=>o(212360),m=()=>o(788860),p=()=>o(513670),f=()=>o(696459),g=()=>o(250303),h=()=>o(984871),v=()=>o(308186),S=()=>o(269299),b=()=>o(90065),y=()=>o(826955),C=()=>o(382474),x=o(785893);function I(e){let{transaction:t,collectionStore:o,templateId:r,instance:n,logger:m}=e;m.debug(`Creating/updating ${u().qB} record for "${r}".`);const p=o.getSpaceId(),g=n.id;if("automation"===n.type){const e={table:a().cv,id:g,spaceId:p};S().applyOperation({store:y().Mz.createChildStore(o,e),operation:i().op.set({pointer:e,path:["properties","workflow_template_instance"],args:{template_id:r}}),transaction:t})}else if("block"===n.type){const e={table:s().iU,id:g,spaceId:p};S().applyOperation({store:y().G.createChildStore(o,e),operation:i().op.set({pointer:e,path:["format","workflow_template_instance"],args:{template_id:r}}),transaction:t})}else if("collection"===n.type){const e={table:l().vF,id:g,spaceId:p};S().applyOperation({store:o,operation:i().op.set({pointer:e,path:["format","workflow_template_instance"],args:{template_id:r}}),transaction:t})}else if("collection_view"===n.type){const e={table:c().np,id:g,spaceId:p};S().applyOperation({store:y().Xr.createChildStore(o,e),operation:i().op.set({pointer:e,path:["format","workflow_template_instance"],args:{template_id:r}}),transaction:t})}else if("layout"===n.type){const e={table:d().Bh,id:g,spaceId:p};S().applyOperation({store:y().xj.createChildStore(o,e),operation:i().op.set({pointer:e,path:["format","workflow_template_instance"],args:{template_id:r}}),transaction:t})}else if("compound"===n.type){if(n.instancePointers.length<2)throw new Error(`Compound template instance ${n.id} must contain 2 or more instances`);const e=n.instancePointers.map((e=>{switch(e.type){case"automation":return{type:"automation",id:e.id};case"block":return{type:"block",id:e.id};case"collection_view":return{type:"collection_view",id:e.id};case"layout":return{type:"layout",id:e.id};case"property":return{type:"property",id:e.id}}(0,f().t1)(e)}));S().applyOperation({store:o,operation:{command:"keyedObjectListUpdate",pointer:o.pointer,path:["format","compound_workflow_template_instances"],args:{value:{template_id:r,id:n.id,instance_pointers:e}}},transaction:t})}else"property"===n.type?S().applyOperation({store:o,operation:i().op.update({pointer:o.pointer,path:["schema",n.id],args:{workflow_template_instance:{template_id:r}}}),transaction:t}):(0,f().t1)(n)}function k(e){let{environment:t,collectionStore:o,propertyId:r,compoundTemplateInstancesToDelete:i,collectionContextStore:a,from:s}=e;if(!i.every((e=>e.templateId===n()._5)))return!1;if(!(0,b().h$)())return!1;const l=(0,C().OA)({environment:t,collectionStore:o,compoundTemplateInstancesToDelete:i}),c=p().jj(l.filter((e=>"property"===e.type&&e.id!==r)).map((e=>e.id)));return F({environment:t,collectionStore:o,clickedPropertyId:r,otherPropertyIds:c,collectionContextStore:a,from:s}),!0}function w(e){let{environment:t,collectionStore:o,propertyId:r,collectionContextStore:n,from:i}=e;const a=o.getSchema(),s=Object.keys(a).filter((e=>e!==r&&((0,b().TJ)({collectionStore:o,propertyId:e})||(0,b().e_)(e))));return F({environment:t,collectionStore:o,clickedPropertyId:r,otherPropertyIds:s,collectionContextStore:n,from:i}),!0}function F(e){var t;let{environment:o,collectionStore:n,clickedPropertyId:i,otherPropertyIds:a,collectionContextStore:s,from:l}=e;const c=[i,...a],d=[{label:(0,x.jsx)(m()._H,{id:"workflowTemplateInstanceActions.deleteRequiredProperty.deleteOption",defaultMessage:"{count, plural, one {Delete {count} property} other {Delete {count} properties}}",values:{count:c.length}}),color:"red",onAccept:()=>function(e){let{environment:t,collectionStore:o,collectionContextStore:r,propertyIds:n,from:i}=e;S().createAndCommit({userAction:"workflowTemplateInstanceActions.handleDeleteAccept",environment:t,canUndo:!0,perform:e=>{const a=o.getSchema();for(const s of n){h().E2({environment:t,collectionStore:o,schema:a,property:s,transaction:e});const n=a[s];n&&g().y9({environment:t,collectionContextStore:r,property_type:n.type,from:i,property:s})}}})}({environment:o,collectionStore:n,collectionContextStore:s,propertyIds:c,from:l})}],u=n.getSchema(),p=a.map((e=>{if(e===i)return;const t=u[e];return null==t?void 0:t.name})).filter(f().$K),b=null===(t=u[i])||void 0===t?void 0:t.name,y=new Intl.ListFormat(r().locale,{style:"long",type:"conjunction"}),C=(0,x.jsx)(m()._H,{id:"workflowTemplateInstanceActions.deleteRequiredProperty.deletePropertyFromDb",defaultMessage:"{hasPropertyName, select, true {Delete {propertyName} from this database? This will also delete the following properties: {otherPropertyNames}} other {Delete this property from this database? This will also delete the following properties: {otherPropertyNames}}}",values:{hasPropertyName:Boolean(b),propertyName:b,otherPropertyNames:y.format(p)}});v().vC({message:(0,x.jsx)("span",{children:C}),showCancel:!0,keepFocus:!0,innerStyle:{width:400},items:d})}},877727:(e,t,o)=>{"use strict";o.d(t,{C3:()=>s,D:()=>l,QZ:()=>a,fo:()=>i});var r=()=>o(146947),n=()=>o(749826);function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n().default.checkGate({gateName:"packaging_m2_additional_entrypoints"})&&a(e,t)}function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!e.device.isPhone&&s(t)}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n().default.checkGate({gateName:"workflow_templates_prototype",...e})||"control"!==l(e)}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r().locale.startsWith("en-")||n().default.checkGate({gateName:"packaging_m2_localize_templates"})?n().default.getEligibleGroup({experimentId:"packaging_m2_entry_point",defaultGroup:"control",...e}):"control"}},999582:(e,t,o)=>{"use strict";o.d(t,{Z:()=>i});class r extends(()=>o(263184))().default{getInitialState(){return{}}}const n=new r;o(947115).exposeDebugValue("SpaceWorkflowTemplateInstanceMapStore",n);const i=n},29488:(e,t,o)=>{"use strict";function r(e){return`${e.table}:${e.id}`}o.d(t,{O:()=>r})},682890:(e,t,o)=>{"use strict";o.d(t,{M:()=>n});o(667294);var r=o(785893);const n=(0,o(827282).IU)("arrowDown",{viewBox:"0 0 16 16",svg:(0,r.jsx)("path",{d:"M8 1.57715C7.5625 1.57715 7.25488 1.88477 7.25488 2.33594V10.8262L7.30957 12.3027L5.50488 10.2861L3.95312 8.75488C3.82324 8.625 3.63184 8.53613 3.42676 8.53613C3.0166 8.53613 2.70898 8.85059 2.70898 9.26758C2.70898 9.46582 2.78418 9.64355 2.94141 9.80762L7.44629 14.3193C7.59668 14.4697 7.79492 14.5586 8 14.5586C8.20508 14.5586 8.40332 14.4697 8.55371 14.3193L13.0586 9.80762C13.2158 9.64355 13.291 9.46582 13.291 9.26758C13.291 8.85059 12.9902 8.53613 12.5801 8.53613C12.3682 8.53613 12.1836 8.625 12.0469 8.75488L10.4951 10.2861L8.69043 12.2959L8.74512 10.8262V2.33594C8.74512 1.88477 8.44434 1.57715 8 1.57715Z"})})},994085:(e,t,o)=>{"use strict";o.d(t,{m:()=>l});o(492176),o(7961),o(398858),o(461318),o(33228);const r="://",n="www.",i=/.+\..+\..+/,a=/\.{2,}/,s=/.+\..+/;function l(e){const t=e.trim();if(0===t.length)return!1;if(-1===t.indexOf(".")&&-1===t.indexOf("localhost"))return!1;if("."===t.at(t.length-1)||-1!==t.indexOf(" "))return!1;let o,l=`${-1===t.indexOf(r)?"http://":""}${t}`;try{o=new URL(l)}catch(d){const e=-1===l.indexOf(n),[t,i]=l.split(r);l=`${t}${r}${e?"www.":""}${i}`;try{o=new URL(l)}catch(d){return!1}}const c=o.hostname;return!a.test(c)&&(!(t.includes(n)&&"localhost"!==c&&!i.test(c))&&!("localhost"!==c&&!s.test(c)))}},824654:()=>{}}]);