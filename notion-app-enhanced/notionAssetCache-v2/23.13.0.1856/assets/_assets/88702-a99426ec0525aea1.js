"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[88702],{579217:(e,t,n)=>{n.d(t,{_:()=>s,s:()=>o});var i=()=>n(677559);const o=(0,i().kF)(new(i().Ss)("UniversalQnaModals",(async()=>await Promise.all([n.e(62743),n.e(52774),n.e(90698),n.e(84885),n.e(37358),n.e(5242),n.e(7312),n.e(90424),n.e(81580),n.e(84325),n.e(31189),n.e(69343),n.e(46293),n.e(2971),n.e(80741),n.e(72586),n.e(53335),n.e(71896),n.e(46616),n.e(54940),n.e(49396),n.e(98721),n.e(98032),n.e(57229),n.e(63707),n.e(86609),n.e(91253),n.e(4642),n.e(5006),n.e(6612),n.e(61171),n.e(23179),n.e(75377),n.e(31020),n.e(2942),n.e(73682),n.e(58591),n.e(54803),n.e(1953),n.e(10216),n.e(58565),n.e(69197),n.e(42055),n.e(38739),n.e(44751),n.e(81567),n.e(58183)]).then(n.bind(n,260685)))),(e=>e.UniversalQnaModals)),s=(0,i().kF)(new(i().Ss)("SlackConnectionOptions",(async()=>await n.e(16982).then(n.bind(n,945272)))),(e=>e.SlackConnectionOptions))},388573:(e,t,n)=>{n.d(t,{DF:()=>j,Ri:()=>L,Xi:()=>T,YF:()=>I,Zo:()=>D,bh:()=>M});n(670560),n(122556),n(582845),n(250570),n(533019),n(721473),n(788208),n(22624),n(267602),n(653476),n(30005);var i=()=>n(492788),o=()=>n(279865),s=()=>n(26970),r=()=>n(513670),a=()=>n(248825),l=()=>n(799454),c=()=>n(282662),d=()=>n(636340),u=()=>n(844085),m=()=>n(203927),p=()=>n(970105),h=()=>n(269299),g=()=>n(109757),f=()=>n(852465),v=()=>n(505462),y=()=>n(826955),S=()=>n(781022),x=()=>n(600785),b=()=>n(596308),w=()=>n(52566),C=()=>n(354988),_=()=>n(433908),k=()=>n(533492);function j(e){var t,n;const{environment:i,store:s,text:r,files:l,transaction:c,discussionLocation:d,property_id:u,blockStore:m}=e,h=f().GP(s);if(!h)return;const{filesToCreate:g,fileStoresToDelete:v}=function(e,t){const n=[],i=new Set;t.forEach((e=>{"local"===e.type&&e.file instanceof File?n.push(e.file):i.add(e.id)}));const o=f().le(e),s=o.filter((e=>e.getAlive()&&!i.has(e.id)));return{filesToCreate:n,fileStoresToDelete:s}}(s,l);D({commentStore:s,fileBlocks:v,transaction:c}),(0,C().J)({commentStore:s,files:g,environment:i,transaction:c});const y=f().zP(s);p().sO({environment:i,store:y,value:r,transaction:c}),(0,k().Q)(s,c);const x=null==s||null===(t=s.getParentStore())||void 0===t?void 0:t.getParentStore(),w=o().B7.includes(d),_=null==h||null===(n=h.getParentStore())||void 0===n?void 0:n.getNavigableBlockStore(),{property_type:j,collection_id:I,collection_view_id:M,view_type:T,collection_view_block_id:L}=(0,b().o)(u,m);a().zd(i,{from:d,comment_id:s.id,discussion_id:h.id,discussion_type:h.getType(),parent_block_id:h.getParentId(),parent_collection_id:null==x?void 0:x.getParentCollectionIdUpToTwoLevels(),...w&&{inbox_session_id:S().default.state.sessionId,notification_page_id:null==_?void 0:_.id},property_type:j,collection_id:I,collection_view_id:M,view_type:T,collection_view_block_id:L})}function I(e){var t,n;const{environment:i,commentStore:s,transaction:r,discussionLocation:l}=e,c=f().GP(s);if(!c)return;const u=f().ak(c),m=u.getValue();if(!m)return;D({commentStore:s,fileBlocks:f().le(s),transaction:r}),d().sW({store:s,transaction:r,data:{alive:!1}}),h().applyOperation({store:u,operation:{pointer:u.pointer,path:u.path,command:"listRemove",args:{id:s.id}},transaction:r}),(0===m.length||1===m.length&&m[0]===s.id)&&(0,_().d)({environment:i,discussionStore:c,transaction:r}),(0,k().Q)(s,r);const p=o().B7.includes(l),g=null==c||null===(t=c.getParentStore())||void 0===t?void 0:t.getNavigableBlockStore();a().k$(i,{from:e.discussionLocation,discussion_id:c.id,discussion_type:c.getType(),comment_id:s.id,parent_block_id:c.getParentId(),parent_collection_id:null===(n=c.getParentStore())||void 0===n?void 0:n.getParentCollectionIdUpToTwoLevels(),...p&&{inbox_session_id:S().default.state.sessionId,notification_page_id:null==g?void 0:g.id}})}function M(e){var t,n;const{environment:i,commentStore:s,discussionStore:r,transaction:l,discussionLocation:c}=e;d().sW({store:r,data:{resolved:!1},transaction:l});const u=o().B7.includes(c),m=null==r||null===(t=r.getParentStore())||void 0===t?void 0:t.getNavigableBlockStore();a().SU(i,{comment_id:s.id,discussion_id:r.id,from:e.discussionLocation,parent_block_id:r.getParentId(),parent_collection_id:null===(n=r.getParentStore())||void 0===n?void 0:n.getAssociatedCollectionId(),...u&&{inbox_session_id:S().default.state.sessionId,notification_page_id:null==m?void 0:m.id}})}function T(e){var t,n;const{environment:i,discussionStore:s,textValue:l,transaction:c,files:d,property_id:u,blockStore:m}=e,{id:p}=i.currentUser;if(!p)return;const h=g().dm(d);if(r().Xy(l,[])&&0===h.length)return;const f=(0,w().X)({discussionStore:s,text:l,files:h,environment:i,transaction:c}),v=o().B7.includes(e.discussionLocation),y=null===(t=s.getParentStore())||void 0===t?void 0:t.getNavigableBlockStore(),{property_type:x,collection_id:C,collection_view_id:_,view_type:k,collection_view_block_id:j}=(0,b().o)(u,m);a().d2(i,{from:e.discussionLocation,comment_id:f.id,discussion_id:s.id,discussion_type:s.getType(),parent_block_id:s.getParentId(),parent_collection_id:null==s||null===(n=s.getParentStore())||void 0===n?void 0:n.getParentCollectionIdUpToTwoLevels(),...v&&{inbox_session_id:S().default.state.sessionId,notification_page_id:null==y?void 0:y.id},property_type:x,collection_id:C,collection_view_id:_,view_type:k,collection_view_block_id:j})}function D(e){const{commentStore:t,fileBlocks:n,transaction:i}=e,o=f().ig(t);n.forEach((e=>{d().sW({store:e,data:{alive:!1},transaction:i}),c().Od({parentStore:o,childToRemoveStore:e,transaction:i})}))}async function L(e){var t;let{discussionStore:n,currentBlockStore:o,environment:r,analyticsFrom:a,currentEl:c}=e;if(!o)return null;if(!n.isDefined())return;function d(e){const t=(0,x().L)({discussionId:n.id,blockId:e});if(!t)return;const i=document.getElementsByClassName((0,s().dk)({discussionId:n.id}))[0];return i?u().bx({element:i,scrollerContext:t.getScrollerContext(),vertical:{reveal:"top"},horizontal:{reveal:"closest"},animate:!0}):u().XW({handle:t,vertical:{reveal:"top"},horizontal:{reveal:"closest"},animate:!0}),t.displaySelectionHalo(750),t}const p=(null===(t=n.getRecordStoreUIParent())||void 0===t?void 0:t.id)??n.getParentId();d(p)||(await m().Nz(o,[p]),await i().default.afterNextFlush(),d(p));const h=y().G.createChildStore(o,n.getParentPointer()),g=v().get(),f=null==g?void 0:g.commonAncestorContainer,S=!(null!=g&&g.collapsed)&&f&&(c===f||(null==c?void 0:c.contains(f)));l().Ib({environment:r,blockStore:h||o,analyticsFrom:a,discussionIds:[n.id],shouldFocusDiscussion:!S,recursivelyLoadAllDiscussions:!1})}},552814:(e,t,n)=>{n.d(t,{Z:()=>u});n(398858),n(461318),n(33228);var i=n(667294),o=()=>n(846550),s=()=>n(707513),r=()=>n(79555),a=()=>n(154186),l=()=>n(654133),c=()=>n(19029),d=n(785893);function u(e){let{title:t,source:n,size:u,file:m,store:p,onClick:h,showBlockActionMenuButton:g}=e;(0,i.useEffect)((()=>()=>{"local"===(null==m?void 0:m.type)&&null!=m&&m.dataURL&&URL.revokeObjectURL(m.dataURL)}),[m]);const f=(0,o().yK)((e=>({justBackgroundHovered:{background:e.surface.wash},wrapper:{height:48,width:214,background:e.surface.page,border:`1px solid ${e.regularDividerColor}`,borderRadius:12,padding:"7px 10px 8px 8px",cursor:h?"pointer":"default"},wrapperHoveredStyle:{background:e.surface.wash},iconContainer:{height:32,width:32,minWidth:32,background:e.tint.regular,borderRadius:6,display:"flex",justifyContent:"center",alignItems:"center"},icon:{height:24,width:24,fill:e.regularIconColor},fileName:{fontSize:14,fontWeight:s().Ue.medium,lineHeight:"18px",color:e.text.primary,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},fileSizeText:{fontSize:12,lineHeight:"15px",color:e.text.secondary},actionMenuHoveredStyle:{background:e.tint.regular}})),[h]),v=(0,c().getIcon)(n);return(0,d.jsx)(a().Z,{style:f.wrapper,hoveredStyle:p?f.wrapperHoveredStyle:f.justBackgroundHovered,pressedStyle:p?f.wrapperHoveredStyle:f.justBackgroundHovered,onClick:h,children:(0,d.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[(0,d.jsx)("div",{style:f.iconContainer,children:v(f.icon)}),(0,d.jsx)("div",{style:{overflow:"hidden",flexGrow:1},children:(0,d.jsx)(l().Z,{renderTooltip:()=>(0,d.jsx)("div",{children:t}),render:e=>(0,d.jsxs)("div",{style:{display:"flex",flexDirection:"column"},...e,children:[(0,d.jsx)("div",{style:f.fileName,children:t}),u&&(0,d.jsx)("span",{style:f.fileSizeText,children:(0,c().formatFileSize)(u)})]})})}),p&&g&&(0,d.jsx)(r().Z,{store:p,fadeIn:!1,actionSectionGroupKey:"comment_media",hideFilterActionsInput:!0,style:{borderRadius:50},hoveredStyle:f.actionMenuHoveredStyle,iconStyle:{width:12,height:12}})]})})}},585:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(667294),o=()=>n(142735),s=()=>n(846550),r=()=>n(788860),a=()=>n(1910),l=()=>n(842574),c=()=>n(250625),d=()=>n(333264),u=()=>n(225808),m=()=>n(840628),p=()=>n(520849),h=()=>n(561280),g=n(785893);const f=.8,v=(0,r().vU)({scrollLeftButtonAriaLabel:{defaultMessage:"Scroll left",id:"FilmStrip.scrollLeftButtonAriaLabel"},scrollRightButtonAriaLabel:{defaultMessage:"Scroll right",id:"FilmStrip.scrollRightButtonAriaLabel"}});function y(e){let{children:t,shouldShowGrayFog:n}=e;const y=(0,r().YB)(),S=(0,i.useRef)(null),x=(0,o().qz)(void 0,h().Z),b=(0,o().VK)((()=>x.state.elementRef),[x]),w=(0,d().T7)(b),C=(0,d().$E)(b),_=(0,d().B2)(b),k=(0,i.useCallback)((()=>{var e;null===(e=S.current)||void 0===e||e.getClientRect()}),[]);(0,i.useEffect)((()=>(c().lj(window,"resize",k),()=>{c().ZV(window,"resize",k)})),[k]),(0,i.useEffect)((()=>{k()}),[k]);const j=_>0,I=Math.ceil(_+w)<C,M=(0,i.useCallback)((e=>{var t;e.stopPropagation(),null===(t=S.current)||void 0===t||null===(t=t.getNode())||void 0===t||t.scrollBy({left:-f*w,behavior:"smooth"})}),[w]),T=(0,i.useCallback)((e=>{var t;e.stopPropagation(),null===(t=S.current)||void 0===t||null===(t=t.getNode())||void 0===t||t.scrollBy({left:f*w,behavior:"smooth"})}),[w]),D=(0,s().yK)((e=>({scrollerWrapper:{display:"flex",position:"relative"},scroller:{overflow:"auto",display:"flex",gap:4,zIndex:0,paddingTop:6,marginTop:-6,paddingRight:4},commonArrowStyles:{position:"absolute",borderRadius:12,width:24,height:24,background:e.tint.regular,top:12,boxShadow:"none"},iconHoveredStyle:{background:e.tint.regular},leftArrowStyle:{left:0},rightArrowStyle:{right:4},arrowIconStyle:{height:12,fill:e.icon.secondary},leftArrowContainer:{position:"absolute",height:"100%",width:30,background:`linear-gradient(to right, ${n?e.hoveredMarginDiscussionBackground:e.selectedMarginDiscussionBackground} 0px, ${e.contentBackgroundTransparent} 30px`},rightArrowContainer:{position:"absolute",height:"100%",width:30,right:0,background:`linear-gradient(to left, ${n?e.hoveredMarginDiscussionBackground:e.selectedMarginDiscussionBackground} 0px, ${e.contentBackgroundTransparent} 30px`}})),[n]);return(0,g.jsxs)("div",{style:D.scrollerWrapper,children:[(0,g.jsx)(l().Z,{ref:S,type:p().Z.X,store:x,onScroll:k,style:D.scroller,children:t}),j&&(0,g.jsx)("div",{style:D.leftArrowContainer,children:(0,g.jsx)(a().Z,{icon:u().Y,hovered:!1,showShadow:!0,onClick:M,ariaLabel:y.formatMessage(v.scrollLeftButtonAriaLabel),style:{...D.commonArrowStyles,...D.leftArrowStyle},iconStyle:D.arrowIconStyle,hoveredStyle:D.iconHoveredStyle})}),I&&(0,g.jsx)("div",{style:D.rightArrowContainer,children:(0,g.jsx)(a().Z,{icon:m().n,hovered:!1,showShadow:!0,onClick:T,ariaLabel:y.formatMessage(v.scrollRightButtonAriaLabel),style:{...D.commonArrowStyles,...D.rightArrowStyle},iconStyle:D.arrowIconStyle,hoveredStyle:D.iconHoveredStyle})})]})}},297490:(e,t,n)=>{n.d(t,{C:()=>C,Z:()=>w});n(670560),n(122556),n(582845),n(250570),n(533019),n(721473),n(788208),n(22624),n(667294);var i=()=>n(146947),o=()=>n(142735),s=()=>n(846550),r=()=>n(156642),a=()=>n(532850),l=()=>n(974888),c=()=>n(580397),d=()=>n(530980),u=()=>n(396136),m=()=>n(722917),p=()=>n(955620),h=()=>n(788860),g=()=>n(568017),f=()=>n(707513),v=()=>n(43360),y=()=>n(527278),S=()=>n(654953),x=n(785893);const b=new Set([r().Ti.toggle,r().Ti.bulletedList,r().Ti.numberedList,r().Ti.quote,r().Ti.toDo,r().Ti.code,r().Ti.callout,r().Ti.header,r().Ti.subHeader,r().Ti.subSubHeader,r().Ti.tableRow]);function w(e){const t=(0,s().Fg)(),n=(0,h().YB)(),g=(0,o().VK)((()=>{var t;return e.store.isDefined()?null===(t=e.store.getParentStore())||void 0===t?void 0:t.getValue():null}),[e.store]),w=(0,o().VK)((()=>e.blockStore.getSpaceId()),[e.blockStore]),_=(0,o().VK)((()=>{const t=e.store.getParentStore();if(null==t||!t.isType("alias"))return;const n=t.getAliasTargetStore();return(null==n?void 0:n.table)===u().iU&&n.isFormBlock()?{store:n,value:n.getValue()}:void 0}),[e.store]);let k=(0,o().VK)((()=>{if(!e.store.isDefined())return;const t=e.store.getContext(),i=t?(0,c().Bb)({discussionContextData:t,discussionType:e.store.getType(),discussionId:e.store.id,intl:n}):void 0;if(!i)return;let o=p().VP_(i,(t=>!p().xw5(t)||p().h19(t)===e.store.id));return p().VrM(o)>50&&(o=p().Zdj(o,50),o.push((0,p().V3y)("…"))),o}),[e.store,n]);const j=(0,o().VK)((()=>{const t=e.blockStore.getAssociatedCollectionStore();if(!t||"collection"!==t.table)return;const n=t.getSchema(),i=e.store.getPropertyId();return void 0!==i?(0,a().Qm)({schema:n,property:i}):void 0}),[e.blockStore,e.store]),I=n=>{let{textValue:o,propertySchema:s,discussionParentValue:a}=n;const c=(0,x.jsx)("div",{style:{overflow:"hidden",lineHeight:"18px",maxHeight:72},children:(0,x.jsx)(v().KX,{value:{value:o,spaceId:w},propertySchema:s,labeled:!1,rootStore:e.blockStore,disableStyleAnnotations:!0,disableInsertedDeletedAnnotations:!0,disableDateStyleAnnotations:!0})});if(!a)return c;const d=a.type;return d===r().Ti.code?(0,x.jsx)(l().Z,{title:(0,v().SP)(a),theme:t,style:{marginTop:0,marginBottom:0},children:(0,x.jsx)("span",{style:{fontFamily:f().F5(i().locale).mono,fontSize:12,tabSize:2},children:c})}):(0,v().pH)(d)?(0,x.jsx)(l().Z,{title:(0,v().pH)(d),theme:t,style:{marginTop:0,marginBottom:0},children:c}):c},M={display:"flex",width:"100%",marginTop:6,marginBottom:6,fontSize:13,color:t.text.secondary};function T(e){k||(k=[[""]]);const t=(0,m().Kc)(y().Z.getIntl()).title;return t?(0,x.jsx)("div",{style:M,children:(0,x.jsxs)("div",{style:{display:"flex",width:"100%"},children:[(0,x.jsx)(C,{}),j&&(0,x.jsx)(S().Z,{propertySchema:j,dontShowColon:""===k[0][0]}),I({textValue:k,discussionParentValue:e,propertySchema:t})]})}):null}if("updates_sidebar"===e.discussionLocation){if(!g)return null;if("text"!==g.type&&void 0===j){const t=null!=_&&_.value?_.value:g,n=null!=_&&_.store?_.store:e.blockStore;return(0,x.jsx)("div",{onClick:e.onClick,style:{display:"flex",cursor:d().kk5.fromBlock(g).isType(r().Zi)?"text":void 0},children:k&&b.has(g.type)?T(g):(0,x.jsxs)("div",{style:M,children:[(0,x.jsx)(C,{}),(0,x.jsx)(v().ZP,{blockValue:t,rootStore:n,blockPreviewLocation:"comments_sidebar"})]})})}}return(0,x.jsx)("div",{onClick:e.onClick,style:{cursor:"text"},children:T()})}function C(){const e=(0,s().yK)((e=>({bar:{width:2,marginLeft:1,borderRadius:4,marginRight:8,background:(0,g().DB)(e.mode),flexShrink:0}})),[]);return(0,x.jsx)("div",{style:e.bar})}},887328:(e,t,n)=>{n.d(t,{Z:()=>ee});n(267602),n(653476),n(30005),n(241792),n(398858),n(461318),n(33228);var i=n(667294),o=()=>n(492788),s=()=>n(219727),r=()=>n(142735),a=()=>n(846550),l=()=>n(35980),c=()=>n(788860),d=()=>n(513670),u=()=>n(248825),m=()=>n(970105),p=()=>n(990966),h=()=>n(269299),g=()=>n(109757),f=()=>n(247724),v=()=>n(191003),y=()=>n(127519);function S(e,t){const i=n(852465).le(t),o=g().nQ(i);e.setState({...e.state,files:o})}var x=()=>n(19029),b=()=>n(1910),w=()=>n(654133),C=()=>n(681074),_=()=>n(688049),k=n(785893);const j=function(e){const t=(0,s().O7)(),{icon:n,onClick:i,tooltip:o}=e;return(0,k.jsx)(C().Z,{capture:!0,render:e=>(0,k.jsx)(w().Z,{renderTooltip:()=>o,render:s=>(0,k.jsx)(b().Z,{ariaLabel:o,icon:n,iconStyle:{width:t.device.isMobile?20:16,height:t.device.isMobile?20:16},style:{marginLeft:t.device.isMobile?16:0},onClick:i,...s,...e})})})};const I=function(e){const t=(0,c().YB)(),i=(0,s().O7)(),{device:o}=i,r=(0,a().yK)((e=>({cancelIcon:{background:e.mediumIconColor,borderRadius:"50%",pointerEvents:"auto",height:20,width:20,marginLeft:i.device.isMobile?4:0},cancelIconHovered:{background:e.lightIconColor}})),[i.device.isMobile]),{canSend:l,visible:d,onSend:u,onCancel:m,isEditing:p,animated:h,onMention:g,onAttach:f,sendTooltip:v}=e,y={opacity:d?1:0};return(0,k.jsx)(n(628370).Z,{animate:y,style:{display:"flex",flexDirection:"column-reverse",alignItems:"end",pointerEvents:d?void 0:"none",width:"min-content",...h&&y},children:(0,k.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:6},children:[(0,k.jsx)(j,{icon:n(679982).s,onClick:f,tooltip:t.formatMessage({id:"discussionInput.uploadFile.button.tooltip",defaultMessage:"Attach file"})}),!o.isMobileBrowser&&(0,k.jsx)(j,{icon:n(318142).O,onClick:g,tooltip:t.formatMessage({id:"discussionInput.insertMention.button.tooltip",defaultMessage:"Mention a person, page, or date"})}),p&&(0,k.jsx)("div",{style:{height:14,marginRight:6},children:(0,k.jsx)(n(666414).Z,{vertical:!0,size:1})}),p?(0,k.jsx)(C().Z,{capture:!0,render:e=>(0,k.jsx)(b().Z,{ariaLabel:t.formatMessage({id:"discussionInput.cancelButton.ariaLabel",defaultMessage:"Cancel editing comment"}),icon:_().D,isDarkIconColor:!0,onClick:m,iconStyle:{fill:"white",height:i.device.isMobile?18:16,width:i.device.isMobile?18:16},style:r.cancelIcon,hoveredStyle:r.cancelIconHovered,...e})}):null,p?(0,k.jsx)(C().Z,{capture:!0,render:e=>(0,k.jsx)(b().Z,{ariaLabel:t.formatMessage({id:"discussionInput.updateButton.ariaLabel",defaultMessage:"Update comment"}),icon:n(887863).r,onClick:u,isBlue:l,disabled:!l,iconStyle:{height:i.device.isMobile?23:21,width:i.device.isMobile?23:21},style:{pointerEvents:"auto",marginLeft:i.device.isMobile?16:2,height:24,width:24},...e})}):(0,k.jsx)(w().Z,{disableTooltip:!(0,n(696459).$K)(v),renderTooltip:()=>(0,k.jsx)(k.Fragment,{children:v}),render:e=>(0,k.jsx)(C().Z,{capture:!0,render:o=>(0,k.jsx)(b().Z,{ariaLabel:t.formatMessage({id:"discussionInput.sendButton.ariaLabel",defaultMessage:"Send comment"}),icon:n(317050)._,onClick:u,isBlue:l,disabled:!l,iconStyle:{height:i.device.isMobile?26:24,width:i.device.isMobile?26:24},style:{pointerEvents:"auto",marginLeft:i.device.isMobile?16:0,height:24,width:24},...(0,n(164079).Z)(o,e)})})})]})})},M=(0,c().vU)({defaultPlaceholder:{defaultMessage:"Add a comment…",id:"discussionInput.defaultPlaceholder.addComment"},pasteFileIntoCommentNotAllowed:{id:"clipboardActions.pasteFileIntoCommentError.message",defaultMessage:"Sorry, you cannot paste files into a comment."},replyInputPlaceholder:{defaultMessage:"Reply...",id:"updateSidebar.placeholder.addComment"}});var T=()=>n(455530),D=()=>n(518242),L=()=>n(135499);function B(e){const{url:t,imageNaturalHeight:n,imageNaturalWidth:o}=e,s=(0,i.useMemo)((()=>({display:"block",width:`min(${o}px, 100%)`,height:`min(${n}px, 100%)`,pointerEvents:"auto",objectFit:"cover"})),[o,n]);return(0,k.jsx)("div",{style:R,children:(0,k.jsx)(D().ZP,{src:t,style:s,placeholderLoadedStyle:{display:"flex",justifyContent:"center",alignItems:"center"}})})}const R={alignSelf:"center",margin:"0 auto",position:"relative",height:"100%",width:"100%",overflow:"hidden"};const z=function(e){let{file:t,isLarge:o}=e;const r=(0,i.useRef)(null),l=(0,s().O7)(),c=(0,a().yK)((e=>({imageThumbnail:{...{border:`1px solid ${e.stroke.secondary}`,borderRadius:8,cursor:"zoom-in"},...o?{objectFit:"contain",width:"auto",height:"auto",maxWidth:240,maxHeight:240,minWidth:48,minHeight:48}:{width:48,height:48}}})),[o]),d=(0,i.useCallback)((()=>{var e;const n=null===(e=r.current)||void 0===e?void 0:e.getImageDimensions();if(!n)return;const{naturalHeight:i,naturalWidth:o}=n;return"local"===t.type?(0,k.jsx)(B,{url:t.dataURL,imageNaturalHeight:i,imageNaturalWidth:o}):(0,k.jsx)(L().Z,{url:t.source,render:(e,t)=>(0,k.jsx)(B,{url:t,error:e,imageNaturalHeight:i,imageNaturalWidth:o}),isAuthenticated:!0,permissionRecord:t.store.pointer})}),[t]),u=(0,i.useCallback)((e=>{var t;e.stopPropagation();const i=null===(t=r.current)||void 0===t?void 0:t.getImageDimensions();i&&n(611253).ui({environment:l,renderFullScreenNode:d,fullScreenNodeRect:i.clientRect,contentAspectRatio:i.naturalWidth/i.naturalHeight})}),[d,l]);return"local"===t.type?(0,k.jsx)(D().ZP,{src:t.dataURL,style:c.imageThumbnail,placeholderStyle:c.imageThumbnail,onClick:u,ref:r}):(0,k.jsx)(L().Z,{url:t.source,isAuthenticated:!0,permissionRecord:t.store.pointer,render:(e,t)=>(0,k.jsx)(D().ZP,{src:t,style:c.imageThumbnail,placeholderStyle:c.imageThumbnail,onClick:u,ref:r})})};var F=()=>n(205228),Z=()=>n(552814),E=()=>n(585),P=()=>n(154186);function A(e){let{children:t,handleRemoveFileClicked:n}=e;const[o,r]=(0,i.useState)(!1),a=(0,s().O7)(),l=(0,c().YB)(),d=o||a.device.isMobile;return(0,k.jsxs)(P().Z,{onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),style:U,hoveredStyle:V,pressedStyle:V,children:[t,d&&(0,k.jsx)(b().Z,{icon:_().D,style:H,hasBackground:!0,isDarkIconColor:!0,hovered:!1,showShadow:!0,onClick:n,ariaLabel:l.formatMessage({id:"discussionInputAttachment.removeFileButton.label",defaultMessage:"Remove file"})})]})}const H={position:"absolute",top:-4,right:-3,height:18,width:18,borderRadius:18},U={position:"relative",cursor:"pointer",width:"min-content",height:"min-content",background:"transparent"},V={background:"transparent"},N=3,K=3;function W(e){let{files:t,onRemoveFile:n}=e;const{images:i,nonImages:o}=(0,r().VK)((()=>{const[e,n]=d().uK(t,(e=>function(e){if("local"===e.type){const t=e.file.type,[n]=t.split("/");if("image"===n)return!0}const t=(0,T().Dz)({url:"local"===e.type?e.file.name:e.source,baseUrl:F().default.domainBaseUrl,publicDomainName:F().default.publicDomainName});return"image"===t}(e)));return{images:e,nonImages:n}}),[t]);return(0,k.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column",gap:4,marginTop:4},children:[(0,k.jsx)(O,{files:i,onRemoveFile:n}),(0,k.jsx)($,{files:o,onRemoveFile:n})]})}function O(e){let{files:t,onRemoveFile:n}=e;return 0===t.length?null:t.length<=N?(0,k.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:4},children:t.map((e=>(0,k.jsx)(A,{handleRemoveFileClicked:()=>n(e),children:(0,k.jsx)(z,{file:e,isLarge:!0})},e.id)))}):(0,k.jsx)(E().Z,{children:t.map((e=>(0,k.jsx)(A,{handleRemoveFileClicked:()=>n(e),children:(0,k.jsx)(z,{file:e,isLarge:!1})},e.id)))})}function $(e){let{files:t,onRemoveFile:n}=e;if(0===t.length)return null;const i=t.map((e=>{const t=e.name??"",i="remote"===e.type?e.source:t,o=e.size??"";return(0,k.jsx)(A,{handleRemoveFileClicked:()=>n(e),children:(0,k.jsx)(Z().Z,{title:t,source:i,size:o,showBlockActionMenuButton:!1})},e.id)}));return t.length<=K?(0,k.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:4},children:i}):(0,k.jsx)(E().Z,{children:i})}const G=i.forwardRef((function(e,t){var b;const w=(0,s().O7)(),{device:C,currentUser:_}=w,{onFileUploaded:j}=e,[T,D,L]=(0,r().AF)(e.discussionInputStore),{textStore:B,files:R}=T,z=(0,r().VK)((()=>B.getValue()),[B]),[F,Z]=(0,i.useState)(!1),E=(0,i.useRef)(null),{commentStore:P,adjustWidthForDraftDiscussions:A,dontMoveCursorToInputEndOnFocus:H}=e,U=e.discussionFormat!==x().DiscussionFormat.Page;(0,i.useImperativeHandle)(t,(()=>({uploadFiles:te})));const V=(0,r().VK)((()=>(0,n(718959).B7)(w)),[w]),N=(0,i.useRef)(null===(b=e.blockStore)||void 0===b?void 0:b.clone()),K=(0,r().VK)((()=>{const e=y().default.state;return"editing"===e.mode&&(0,v().qS)(e.multiSelection)&&e.multiSelection.start.store===B}),[B]),O=(0,r().VK)((()=>({isEmpty:(0,x().inputIsEmpty)(L),hasChanged:(0,x().hasCommentChanged)(L,P),hasNewLineCharacter:L.hasNewLineCharacter()})),[L,P]),$=(0,r().VK)((()=>K||!O.isEmpty),[O.isEmpty,K]),G=(0,i.useCallback)((async()=>{const e=y().default.state;"editing"===e.mode&&(0,v().qS)(e.multiSelection)&&e.multiSelection.start.store===B||(p().setSelectionAtEnd({store:B}),await o().default.afterNextFlush())}),[B]),ee=(0,r().VK)((()=>Boolean(e.blockStore&&(0,n(95718).Eo)(e.blockStore))),[e.blockStore]),te=(0,i.useCallback)((async e=>{if(await G(),R.length+e.length>10)return void n(308186).UW((0,k.jsx)(c()._H,{id:"discussionInput.uploadFile.tooManyFilesErrorMessage",defaultMessage:"You cannot upload more than {maxFiles} files per comment.",values:{maxFiles:10}}));const t=e.map(g().Xo);D({...T,files:[...R,...t]}),null==j||j()}),[G,R,D,T,j]),ne=e.discussionFormat===x().DiscussionFormat.Margin,ie=e.discussionFormat===x().DiscussionFormat.Sidebar;(0,i.useEffect)((()=>{e.commentStore&&S(L,e.commentStore)}),[L,e.commentStore]);const oe=(0,i.useRef)(!1),se=(0,i.useCallback)((t=>{t?l().Z.set({userId:_.id,key:J(e.parentStore.id,e.inReplyToDiscussionId),value:t??null}):l().Z.remove({userId:_.id,key:J(e.parentStore.id,e.inReplyToDiscussionId)})}),[_.id,e.inReplyToDiscussionId,e.parentStore.id]);(0,i.useEffect)((()=>{e.shouldSaveUnsentComments&&oe.current&&se(z),oe.current=!0}),[e.shouldSaveUnsentComments,se,z]);const re=(0,i.useRef)(B);(0,i.useEffect)((()=>{if(!n(26796).Z.state.isOpen&&e.shouldSaveUnsentComments){const t=l().Z.get({userId:_.id,key:J(e.parentStore.id,e.inReplyToDiscussionId)});t&&h().createAndCommit({userAction:"DiscussionInput.willMount",environment:w,canUndo:!0,perform:e=>{m().sO({environment:w,store:re.current,value:t,transaction:e})}})}}),[w,_.id,e.inReplyToDiscussionId,e.parentStore.id,e.shouldSaveUnsentComments]);const ae=(0,i.useRef)(R);(0,i.useEffect)((()=>{ae.current=R}),[R]),(0,i.useEffect)((()=>()=>{ae.current&&ae.current.forEach((e=>{"local"===e.type&&e.dataURL&&URL.revokeObjectURL(e.dataURL)}))}),[]);const le=(0,i.useCallback)((()=>{var e;return null===(e=E.current)||void 0===e?void 0:e.focus()}),[]),{autoFocus:ce=!1}=e;(0,n(732811).K)((()=>{ce&&le()}));const de=R&&R.length>0,ue=e.discussionFormat===x().DiscussionFormat.Menu&&e.inReplyToDiscussionId,me=!e.disableFocusRing&&!ue&&(ie||ne&&!e.isNewComment),pe=void 0!==e.showCtaButtons?e.showCtaButtons:e.isEditingExistingComment||$||F,he=!e.isMobileSlideUpMenu,ge=(ne||ie)&&!e.isNewComment,fe=(0,a().yK)((e=>({inputWrapper:{display:"flex",width:A?"calc(100% + 6px)":"100%",fontSize:14,borderRadius:6,transition:"background 300ms ease",cursor:pe?"text":"pointer",alignSelf:"center",position:"relative",flexWrap:"wrap",justifyContent:"flex-end",background:"transparent",alignItems:"center",rowGap:4,columnGap:6,padding:"3.5px 4px 3px 4px",margin:"-3.5px -4px 0 -4px"},textFieldStyle:{fontSize:14,maxHeight:C.isMobileNative?"50vh":"70vh",WebkitOverflowScrolling:"touch",userSelect:"auto",lineHeight:"20px",overflow:"auto",whiteSpace:"pre-wrap",padding:"2.5px",margin:"-2.5px"}})),[A,pe,C]),ve=(0,r().VK)((()=>0===(B.getValue()||[]).length),[B]),ye=function(e){const{isEditing:t,onEditPreviousComment:n,textRef:i}=e;if(!t)return{};const o=e=>{"key"in e&&(e.metaKey||e.ctrlKey)&&i.current&&p().setSelectionAtStart({store:i.current.props.store})},s=e=>{"key"in e&&(e.metaKey||e.ctrlKey)&&i.current&&p().setSelectionAtEnd({store:i.current.props.store})};return{onUp:n??o,onDown:s}}({isEditing:K,shouldTrapCursorInInput:U,onEditPreviousComment:ve?e.onEditPreviousComment:void 0,textRef:E}),Se=()=>{se(void 0),e.onSubmit()},xe=(0,k.jsx)(I,{visible:pe,onAttach:async()=>{const{device:e}=w;e.isIOS&&e.isMobileNative&&!e.isTablet&&(p().clear({preventDismissMobileKeyboard:!0,environment:w}),await o().default.afterNextFlush());const t=await g().y({multiple:!0});await te(t),u().Zq(w,{type:"file_picker"})},onMention:async()=>{await G(),n(627817).lZ({environment:w,mentionTypes:{page:!0,heading:!0,createPage:!1,user:!0,inviteUserToWorkspace:!0,inviteUserToPage:!0,bot:!0,date:!0,reminder:!1,templateVariable:!1,group:!0,team:!0,formulaContextVariable:!1}})},canSend:!O.isEmpty&&!ee,onSend:Se,onCancel:e.onCancel,isEditing:e.isEditingExistingComment||!1,animated:ne,inline:!0,sendTooltip:ee?(0,k.jsx)(c()._H,{id:"discussionInput.cannotSubmitBecauseOfAIEdits",defaultMessage:"Resolve pending edits before commenting"}):void 0});return(0,k.jsx)(n(94967).Z,{debugName:"DiscussionInput",capture:K,onCommandEnter:d().yR,children:(0,k.jsx)(Q,{enabled:!!N.current&&!!e.canDrop,store:N.current,onNativeDrop:async e=>{let{files:t}=e;await te(t),u().Zq(w,{type:"drop"})},children:(0,k.jsx)("div",{className:e.isEditingExistingComment?f().hzx:f().wFE,style:{...Y,...e.containerStyle||{}},onFocus:t=>{const i=t.target;var o;i instanceof HTMLElement&&(0,n(474788).E)(i)&&(null===(o=e.onFocus)||void 0===o||o.call(e),Z(!0))},onBlur:t=>{var n;null===(n=e.onBlur)||void 0===n||n.call(e),Z(!1)},children:(0,k.jsxs)("div",{style:q,children:[e.showAvatar&&(0,k.jsx)(n(981583).Z,{userStore:V,size:n(444851).IX,avatarShouldShowShadow:!1,style:{...X,marginTop:0,marginRight:8}}),(0,k.jsxs)("div",{className:me?f().Wh_:"",onClick:le,style:fe.inputWrapper,tabIndex:-1,children:[(0,k.jsx)("div",{dir:"auto",style:{flexGrow:1,display:"flex",minHeight:24,paddingTop:2,width:O.hasNewLineCharacter?"100%":""},children:(0,k.jsx)(n(345837).Z,{style:fe.textFieldStyle,store:B,parentStore:e.parentStore,disabled:!1,onEnter:()=>{if(!C.isMobile)return void Se();const e="editing"===y().default.state.mode&&y().default.state.multiSelection;e&&h().createAndCommit({userAction:"DiscussionInput.handleEnter",environment:w,canUndo:!0,perform:t=>{m().hJ({environment:w,editorMode:"default",string:"\n",multiSelection:e,disableMentions:!0,disableSlashCommands:!0,disableEmojiCommands:!0,transaction:t})}})},onCommandEnter:Se,onPasteFiles:async e=>{await te(e.files),u().Zq(w,{type:"paste"})},onEsc:e.onCancel,...ye,placeholder:n(527278).Z.formatMessage(ge?M.replyInputPlaceholder:M.defaultPlaceholder),ref:E,isDiscussionInput:!0,disableSlashCommands:!0,disableInsertText:!0,disableSelectAllBlocks:!0,disableSelectionDrag:!0,disableEmbedMenu:!0,disabledMentionTypes:{reminder:!0},disableMobileActionBar:!0,disableStyleAnnotations:C.isMobileBrowser,disableInsertedDeletedAnnotations:C.isMobileBrowser,pasteBehavior:"inline",inPageFind:n(12512).B3.none,className:"discussion-input-text-block",disableMoveCursorToEndOnFocus:H})}),de&&(0,k.jsx)(W,{files:R,onRemoveFile:e=>{const t=L.state;L.setState({...t,files:t.files.filter((t=>t.id!==e.id))})}}),xe]}),he&&(0,k.jsx)(n(69870).Z,{show:K,onDismiss:()=>p().clear({environment:w})})]})})})})})),Y={display:"flex",flexDirection:"column",width:"100%",cursor:"pointer"},q={display:"flex",alignItems:"center",flexGrow:1},X={flexShrink:0,flexGrow:0,marginRight:6,alignSelf:"flex-start",marginTop:6};function Q(e){const{enabled:t,children:i,store:o,onNativeDrop:s}=e;return t&&o?(0,k.jsx)(n(307369).Z,{store:o,analyticsName:"discussion_input",canNativeDropOnto:!0,onNativeDrop:s,keepTextSelectionOnDrop:!0,shouldShowDropZone:!0,children:i}):(0,k.jsx)(k.Fragment,{children:i})}function J(e,t){return t?`UnsentDiscussion-${e}-${t}`:`UnsentDiscussion-${e}`}const ee=i.memo(G)},654953:(e,t,n)=>{n.d(t,{Z:()=>r});n(667294);var i=()=>n(707513),o=()=>n(899316),s=n(785893);function r(e){const{propertySchema:t,dontShowColon:n}=e,r=t.name;return(0,s.jsx)("div",{style:{display:"inline-flex",paddingTop:2},children:(0,s.jsxs)("div",{style:{display:"flex",alignItems:"start",lineHeight:"110%",minWidth:0,fontSize:13,fill:"dark"},children:[(0,s.jsx)(o().oJ,{iconStyle:{marginTop:1},propertySchema:t,iconSize:12}),(0,s.jsx)("div",{style:{...i().Yu,marginLeft:4,maxWidth:100},children:(0,s.jsx)("span",{children:`${r}`})}),(0,s.jsx)("span",{style:{...i().Yu,marginRight:4},children:n?null:":"})]})})}},19029:(e,t,n)=>{n.r(t),n.d(t,{DiscussionFormat:()=>M,DiscussionLocationToAvatarSize:()=>$,anyDiscussionCommentsLoading:()=>N,commentComparator:()=>F,discussionLocationToDiscussionFormat:()=>K,formatFileSize:()=>G,getAndSortCommentStoresByTime:()=>Z,getDiscussions:()=>R,getDiscussionsForSidebar:()=>z,getFirstComment:()=>E,getIcon:()=>I,getLatestRelevantComment:()=>T,getSetOfUsersInDiscussions:()=>W,hasCommentChanged:()=>V,inputIsEmpty:()=>U,isCommentAllEmojis:()=>O,lineClampForCommentCount:()=>B,sortDiscussionStoresByLatestComment:()=>H});n(267602),n(653476),n(241792),n(228244);var i=()=>n(816512),o=()=>n(862967),s=()=>n(462035),r=()=>n(455287),a=()=>n(955620),l=()=>n(513670),c=()=>n(696459),d=()=>n(916673),u=()=>n(852465),m=()=>n(619555),p=()=>n(404437),h=(n(667294),()=>n(827282)),g=n(785893);const f=(0,h().IU)("compressedFile",{viewBox:"0 0 23 24",svg:(0,g.jsx)("path",{d:"M5.297 17.758V5.968c0-.838.213-1.473.64-1.905.428-.438 1.06-.657 1.899-.657h8.32c.839 0 1.472.219 1.899.656.427.433.64 1.068.64 1.907v11.789c0 .844-.213 1.482-.64 1.914-.427.432-1.06.648-1.899.648h-8.32c-.839 0-1.471-.216-1.899-.648-.427-.432-.64-1.07-.64-1.914zm1.539-.094c0 .36.094.635.281.828.188.193.472.29.852.29h8.062c.38 0 .664-.097.852-.29.187-.193.281-.469.281-.828V6.07c0-.364-.094-.643-.281-.836-.188-.198-.471-.296-.852-.296H7.97c-.38 0-.664.098-.852.296-.187.193-.281.472-.281.836v11.594zm4.617 1.906V8.648h1.086V19.57h-1.086zM12 8.953c-.62 0-1.107-.17-1.46-.508-.35-.338-.524-.804-.524-1.398 0-.115.005-.23.015-.344.016-.114.037-.226.063-.336l.734-3.21a.637.637 0 01.242-.384.709.709 0 01.438-.14h.984a.68.68 0 01.43.14.672.672 0 01.25.383l.734 3.211c.021.11.037.222.047.336.016.115.024.23.024.344 0 .594-.175 1.06-.524 1.398-.349.339-.833.508-1.453.508zm0-1.125c.24 0 .438-.08.594-.242a.826.826 0 00.242-.61.82.82 0 00-.242-.593.795.795 0 00-.594-.25c-.24 0-.44.083-.602.25a.825.825 0 00-.242.594c0 .24.078.442.235.609a.826.826 0 00.609.242zm0 2.89V9.696h1.828c.146 0 .268.05.367.149a.464.464 0 01.149.351c0 .146-.05.271-.149.375a.498.498 0 01-.367.149H12zm-1.836 1.024a.516.516 0 01-.367-.148.525.525 0 01-.149-.375c0-.14.05-.258.149-.352a.516.516 0 01.367-.148H12v1.023h-1.836zM12 12.79v-1.023h1.828c.146 0 .268.05.367.148a.49.49 0 01.149.36.5.5 0 01-.149.367.498.498 0 01-.367.148H12zm-1.836 1.024a.516.516 0 01-.367-.149.516.516 0 01-.149-.367c0-.14.05-.258.149-.352a.516.516 0 01.367-.148H12v1.015h-1.836zM12 14.867v-1.023h1.828c.146 0 .268.05.367.148a.473.473 0 01.149.36.5.5 0 01-.149.367.499.499 0 01-.367.148H12zm-1.836 1.024a.508.508 0 01-.516-.523.48.48 0 01.149-.352.516.516 0 01.367-.149H12v1.024h-1.836zM12 16.945v-1.023h1.828c.146 0 .268.05.367.148a.473.473 0 01.149.36c0 .14-.05.263-.149.367a.499.499 0 01-.367.148H12zm-1.836 1.04a.516.516 0 01-.367-.15.499.499 0 01-.149-.366c0-.146.05-.266.149-.36a.516.516 0 01.367-.148H12v1.023h-1.836z"})});var v=()=>n(439002);const y=(0,h().IU)("executable",{viewBox:"0 0 23 23.5",svg:(0,g.jsx)("path",{d:"M5.164 16.883c-.37-.209-.651-.448-.844-.719-.187-.276-.28-.69-.28-1.242V8.609c0-.416.08-.763.241-1.039.162-.28.417-.52.766-.718l5.492-3.079c.484-.27.971-.406 1.461-.406.49 0 .974.136 1.453.406l5.492 3.079c.35.197.604.437.766.718.161.276.242.623.242 1.04v6.312c0 .552-.094.966-.281 1.242-.188.27-.469.51-.844.719l-6.047 3.39c-.52.287-1.044.287-1.57 0l-6.047-3.39zm.844-1.203l5.265 2.976v-6.265L5.43 9.094v5.687c0 .203.041.375.125.516.088.14.24.268.453.383zm11.976 0c.214-.115.362-.242.446-.383a.95.95 0 00.133-.516V9.094l-5.844 3.297v6.265l5.265-2.976zM12 11.11l5.773-3.235-4.937-2.781c-.552-.318-1.112-.318-1.68 0l-4.93 2.781L12 11.109z"})}),S=(0,h().IU)("file3D",{viewBox:"0 0 23 24",svg:(0,g.jsx)("path",{d:"M5.648 16.352l5.61-2.82v-6.65h1.492v6.65l5.61 2.82-.75 1.273-5.61-2.82-5.61 2.82-.742-1.273zm-1.945 1.195l1.32-2.985c.105-.25.243-.427.415-.53a.643.643 0 01.539-.071c.187.052.349.198.484.437l1.937 3.352c.146.245.196.46.149.648a.61.61 0 01-.336.43c-.177.1-.404.133-.68.102l-3.242-.36c-.297-.036-.5-.146-.61-.328-.103-.182-.096-.414.024-.695zm16.594 0c.12.281.125.513.015.695-.104.182-.304.292-.601.328l-3.242.36c-.271.03-.498-.003-.68-.102a.634.634 0 01-.344-.43c-.041-.187.01-.403.157-.648l1.937-3.352c.135-.24.294-.385.477-.437a.638.638 0 01.539.07c.177.104.32.281.43.531l1.312 2.985zm-8.89-12.985c.181-.25.377-.372.585-.367.208 0 .404.123.586.367l1.93 2.618c.167.229.252.445.258.648a.596.596 0 01-.204.5c-.14.13-.354.195-.64.195h-3.86c-.276 0-.486-.065-.632-.195a.637.637 0 01-.203-.508c.005-.208.088-.422.25-.64l1.93-2.617z"})}),x=(0,h().IU)("fileAttachment",{viewBox:"0 0 28 28",svg:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("rect",{width:"28",height:"28",fill:"none"}),(0,g.jsx)("path",{d:"M7.70703 27.3799H21.2783C23.7412 27.3799 24.9854 26.1104 24.9854 23.6348V11.7266C24.9854 10.3555 24.8076 9.74609 23.9697 8.88281L16.5049 1.3418C15.6924 0.516602 15.0322 0.326172 13.8008 0.326172H7.70703C5.26953 0.326172 4 1.58301 4 4.05859V23.6348C4 26.1104 5.25684 27.3799 7.70703 27.3799ZM7.7832 25.8057C6.32324 25.8057 5.57422 25.0312 5.57422 23.5967V4.09668C5.57422 2.7002 6.32324 1.8877 7.7959 1.8877H13.7246V9.53027C13.7246 10.9775 14.4609 11.6631 15.8701 11.6631H23.4238V23.5967C23.4238 25.0312 22.6621 25.8057 21.2021 25.8057H7.7832ZM16.0352 10.1777C15.4512 10.1777 15.21 9.94922 15.21 9.36523V2.20508L23.1064 10.1777H16.0352Z"})]})}),b=(0,h().IU)("font",{viewBox:"0 0 24 24",svg:(0,g.jsx)("path",{d:"M17.008 17.766c-.724 0-1.354-.185-1.89-.555-.537-.37-.957-.888-1.259-1.555-.296-.672-.445-1.458-.445-2.36 0-.895.149-1.676.445-2.343.303-.672.722-1.193 1.258-1.562.537-.375 1.167-.563 1.89-.563.433 0 .834.07 1.204.211.375.14.7.344.977.61.28.26.5.572.656.937h.062V9.64c0-.256.073-.459.219-.61a.738.738 0 01.555-.226c.234 0 .424.075.57.226.146.151.219.354.219.61v7.312c0 .255-.073.453-.219.594a.771.771 0 01-.57.219.773.773 0 01-.547-.203c-.146-.136-.221-.331-.227-.586v-.954h-.062a2.688 2.688 0 01-1.094 1.29c-.495.302-1.076.453-1.742.453zm.453-1.368c.484 0 .906-.125 1.266-.375.364-.255.643-.611.835-1.07.198-.463.297-1.01.297-1.64 0-.63-.099-1.178-.297-1.641-.197-.469-.476-.83-.835-1.086a2.1 2.1 0 00-1.266-.39 2.13 2.13 0 00-1.266.382c-.354.25-.627.607-.82 1.07-.193.464-.29 1.014-.29 1.649s.097 1.185.29 1.648c.193.464.466.823.82 1.078.36.25.782.375 1.266.375zm-14.07 1.32c-.271 0-.485-.072-.641-.218-.151-.146-.227-.349-.227-.61 0-.156.034-.335.102-.538l3.477-9.375C6.33 6.326 6.784 6 7.46 6c.36 0 .651.08.875.242.23.162.404.406.523.735l3.454 9.335c.072.204.109.391.109.563 0 .26-.084.466-.25.617-.162.151-.38.227-.656.227-.26 0-.466-.06-.618-.18-.145-.115-.26-.312-.343-.594l-.867-2.422H5.226l-.868 2.422c-.083.282-.2.48-.351.594-.146.12-.352.18-.617.18zM5.68 13.07h3.57L7.484 7.992h-.039L5.68 13.07z"})});const w=(0,h().IU)("presentation",{viewBox:"0 0 24 24",svg:(0,g.jsx)("path",{d:"M6.305 20.703c-.844 0-1.482-.213-1.914-.64-.433-.428-.649-1.06-.649-1.899v-8.031c0-.839.216-1.472.649-1.899.432-.427 1.07-.64 1.914-.64h11.383c.843 0 1.481.216 1.914.648.437.427.656 1.057.656 1.89v8.032c0 .833-.219 1.464-.656 1.89-.433.433-1.07.65-1.915.65H6.306zm.093-1.531h11.196c.36 0 .635-.096.828-.29.198-.187.297-.47.297-.85v-7.766c0-.38-.1-.664-.297-.852-.193-.193-.469-.289-.828-.289H6.398c-.364 0-.643.096-.835.29-.188.187-.282.47-.282.85v7.766c0 .38.094.664.282.852.192.193.47.289.835.289zM5.461 6.32c.057-.37.185-.656.383-.86.203-.202.513-.304.93-.304h10.453c.416 0 .724.102.921.305.204.203.334.49.391.86H5.461zm1.594-2.258c.02-.348.133-.611.336-.789.208-.182.5-.273.875-.273h7.468c.375 0 .664.091.868.273.203.178.32.44.351.79H7.055z"})});var C=()=>n(645817),_=()=>n(6333);const k=()=>n(160809),j={doc:v().w,docx:v().w,pages:v().w,md:v().w,txt:v().w,rtf:v().w,xls:C().Y,xlsx:C().Y,csv:C().Y,tsv:C().Y,ods:C().Y,pdf:n(621736).B,pptx:w,ppt:w,zip:f,br:f,bz2:f,gz:f,"7z":f,dmg:f,pkg:f,jar:f,rar:f,tar:f,xar:f,stl:S,obj:S,fbx:S,amf:S,iges:S,mp3:m().l,m4a:m().l,wav:m().l,aac:m().l,ogg:m().l,flac:m().l,alac:m().l,wma:m().l,exe:y,otf:b,ttf:b,woff:b,eof:b,py:p().y,java:p().y,js:p().y,ts:p().y,tsx:p().y,c:p().y,h:p().y,cpp:p().y,go:p().y,rs:p().y,css:p().y,php:p().y,swift:p().y,kt:p().y,lua:p().y,m:p().y,bash_profile:p().y,bashrc:p().y,zshrc:p().y,vimrc:p().y,vim:p().y};function I(e){const t=function(e){if(!e)return"";const{pathname:t}=d().Qc(e);if(!t)return"";const n=t.split(".");return n[n.length-1]}(e).toLowerCase();return j[t]??x}let M=function(e){return e[e.Menu=0]="Menu",e[e.Page=1]="Page",e[e.Sidebar=2]="Sidebar",e[e.Margin=3]="Margin",e[e.Unfurl=4]="Unfurl",e}({});function T(e){let{recordStore:t,currentUserId:n,timestamp:i}=e;return A({recordStore:t,currentUserId:n,timestamp:i})||E(t)}const D=6,L=3;function B(e){return e>1?L:D}function R(e){return e?u().al(e,{recursivelyLoadAllDiscussions:!0,includeLoadingDiscussions:!0}):[]}function z(e){let{blockStore:t,currentUserId:n,ignoreAfterTime:i}=e;if(!t)return[];return u().al(t,{recursivelyLoadAllDiscussions:!0,includeLoadingDiscussions:!0,includePropertyDiscussions:!0}).sort(((e,t)=>{const o=T({recordStore:e,currentUserId:n,timestamp:i}),s=T({recordStore:t,currentUserId:n,timestamp:i});return null!=o&&o.isDefined()?null!=s&&s.isDefined()?-(o.getCreatedTime()-s.getCreatedTime()):1:-1}))}function F(e,t){return e&&e.isDefined()?t&&t.isDefined()?e.getCreatedTime()-t.getCreatedTime():1:-1}function Z(e){return u().D4(e).sort(((e,t)=>F(e,t)))}function E(e){return Z(e)[0]}function P(e){return A({recordStore:e,currentUserId:void 0})}function A(e){let{recordStore:t,currentUserId:n,timestamp:i}=e;const o=u().D4(t).filter((e=>i?e.isDefined()&&e.getCreatedTime()<i:e.isDefined())).sort(((e,t)=>F(e,t)));return o[o.length-1]}function H(e){return e.sort(((e,t)=>F(P(e),P(t))))}function U(e){const t=e.state.textStore.getValue(),n=(e.state.files??[]).length>0,i=t&&t.length>0;return!n&&!i}function V(e,t){const n=e.state.textStore.getValue(),i=e.state.files;if(!t)return n&&0!==n.length||i&&i.length>0;const o=u().zP(t).getValue();return!l().Xy(o,n)||function(e,t){const n=e.state.files,i=u().le(t);if(i.length!==n.length)return!0;return i.some(((e,t)=>e.id!==n[t].id))}(e,t)}function N(e){if(e.some((e=>!e.isReady())))return!0;return!!e.map((e=>u().D4(e))).flat().some((e=>!e.isReady()||!e.getCreatedTime()))}function K(e){switch(e){case"block_menu":case"ai_reject_all_suggestions":case"reply_menu_mentions_comments":case"reply_menu_all_updates":case"reply_menu_archive":case"reply_menu_updates_sidebar":case"updates_menu_mentions_comments":case"updates_menu_all_updates":case"updates_menu_archive":return M.Menu;case"page_discussion":case"post_discussion":return M.Page;case"updates_sidebar":return M.Sidebar;case"margin_comments":return M.Margin;case"comment_unfurl":return M.Unfurl;default:(0,c().t1)(e)}}function W(e){return l().mN(l().VS(e,(e=>u().D4(e).map((e=>({store:e,pointer:e.getCreatedByPointer()}))))),(e=>{var t;return null===(t=e.pointer)||void 0===t?void 0:t.id})).filter((e=>(0,c().$K)(e.pointer))).map((e=>{let{store:t,pointer:n}=e;return _().RecordStores.createChildStore(t,n)})).map((e=>e.getModel())).filter(c().$K).map((e=>e instanceof r().T?(0,i().dp)(e):e instanceof s().LG?(0,i().D$)(e):e instanceof o().R?(0,i().Jp)(e):void(0,c().t1)(e))).filter(c().$K)}function O(e){for(const n of e){if(!n.length)return!1;if(!n[1]||!n[1].some(a().VOE)){var t;const e=n[0].trim(),i=k()();if((null===(t=e.match(i))||void 0===t?void 0:t.join(""))!==e)return!1}}return!0}const $={updates_menu_all_updates:28,updates_menu_mentions_comments:28,updates_menu_archive:28,block_menu:20,reply_menu_all_updates:20,reply_menu_mentions_comments:20,reply_menu_archive:20,reply_menu_updates_sidebar:20,page_discussion:20,post_discussion:20,updates_sidebar:23,margin_comments:20,comment_unfurl:32,ai_reject_all_suggestions:28};function G(e){return((null==e?void 0:e.match(/[0-9.]+|[a-z]+/gi))??[]).join(" ")}},12530:(e,t,n)=>{n.d(t,{N:()=>s,Z:()=>a});n(667294);var i=n(785893);const o={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:16,height:16,fontSize:10,textAlign:"center",fontWeight:n(707513).Ue.semibold,borderRadius:4,color:n(568017).ZP.white,position:"static",marginLeft:6,WebkitFontSmoothing:"auto"};let s=function(e){return e[e.Red=0]="Red",e[e.Gray=1]="Gray",e}({});function r(e){return!!e&&e>0}const a=function(e){let{count:t,color:a,style:c,numberStyle:d,fadeIn:u}=e;const m=a===s.Red,p=(0,n(846550).yK)((e=>({badge:{...o,...c,...(t??0)>99&&{width:void 0,padding:2},background:m?e.redBadgeBackground:e.lightIconColor,...u&&{transition:"opacity 0.1s",opacity:r(t)?1:0}}})),[t,u,m,c]);return u||r(t)?(0,i.jsx)("div",{style:p.badge,children:(0,i.jsx)(l,{count:t,numberStyle:d})}):null};function l(e){let{count:t,numberStyle:n}=e;return t?1===t?(0,i.jsx)("span",{style:{marginLeft:-.5,...n},children:"1"}):t>99?(0,i.jsx)("span",{style:{letterSpacing:-.5,...n},children:"99+"}):t>9?(0,i.jsx)("span",{style:{letterSpacing:-.5,marginLeft:-.5,...n},children:t}):(0,i.jsx)("span",{style:{...n},children:t}):null}},681074:(e,t,n)=>{n.d(t,{Z:()=>s});var i=()=>n(142735),o=()=>n(236029);function s(e){let{capture:t,render:n}=e;const s=(0,o().Z)(t);return(0,i().VK)((()=>n(s)),[s,n])}},404437:(e,t,n)=>{n.d(t,{y:()=>i().y});var i=()=>n(742922)},439002:(e,t,n)=>{n.d(t,{w:()=>i().w});var i=()=>n(512883)},356140:(e,t,n)=>{n.d(t,{W:()=>s});var i=()=>n(142735),o=()=>n(876822);function s(){const{currentSpaceStore:e}=(0,i().VK)((()=>o().default.state),[]);return null==e?void 0:e.id}},974442:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(263184).default.createValue({open:!1},{name:"ConfirmOverwriteModalStore"})},779522:(e,t,n)=>{n.d(t,{Z:()=>o});const i=new(n(168469).q)((e=>{let{spaceId:t}=e;return t}),(async function(e,t){var i;let{spaceId:o}=t;const s=await Promise.resolve().then(n.bind(n,824462)),r=await s.callApi({eventName:"getInternalDomains",environment:e,data:{spaceId:o}});return"success"===r.type?null===(i=r.data)||void 0===i?void 0:i.internalDomainsWithInfo:void 0}));n(947115).exposeDebugValue("InternalDomainsStore",i);const o=i},994875:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});class i extends(()=>n(263184))().default{getInitialState(){return{discussionIdToExpansionStartPointMap:{}}}}const o=new i},184441:(e,t,n)=>{n.d(t,{default:()=>s});class i extends(()=>n(263184))().default{getInitialState(){return{open:!1,isShowingLoadingState:!1}}updateUserCustomizations(e,t){this.state.open&&this.state.collectionTemplate&&this.setState({...this.state,userCustomizations:{...this.state.userCustomizations,[e]:t}})}updateCollectionTemplate(e){this.state.open&&this.state.collectionTemplate&&this.setState({...this.state,collectionTemplate:e})}updatePreviewCollectionViewTemplateId(e){this.state.open&&this.state.collectionTemplate&&this.setState({...this.state,previewCollectionViewTemplateId:e})}getParentStore(){return this.state.open?this.state.parentStore:void 0}getShouldShowExpandedTemplateList(){return this.state.open&&this.state.shouldShowExpandedTemplateList}setShouldShowExpandedTemplateList(e){this.state.open&&this.setState({...this.state,shouldShowExpandedTemplateList:e})}close(e){var t,n;this.state.open&&(null===(t=(n=this.state).onClose)||void 0===t||t.call(n,e),this.setState({open:!1,isShowingLoadingState:!1}))}reset(){this.setState(this.getInitialState())}}const o=new i;(0,n(947115).exposeDebugValue)("InitializeWorkflowTemplateModalStore",o);const s=o},512883:(e,t,n)=>{n.d(t,{w:()=>o});n(667294);var i=n(785893);const o=(0,n(827282).IU)("document",{viewBox:"0 0 23.5 23.5",svg:(0,i.jsx)("path",{d:"M9.14 8.156a.494.494 0 01-.5-.5c0-.14.047-.258.141-.351a.487.487 0 01.36-.14h5.718a.477.477 0 01.492.492.494.494 0 01-.14.35.464.464 0 01-.352.15H9.141zm0 2.664a.487.487 0 01-.359-.14.504.504 0 01-.14-.36c0-.135.046-.25.14-.343a.487.487 0 01.36-.141h5.718a.477.477 0 01.493.484c0 .14-.047.26-.141.36a.477.477 0 01-.352.14H9.141zm0 2.672a.487.487 0 01-.359-.14.468.468 0 01-.14-.344c0-.14.046-.258.14-.352a.473.473 0 01.36-.148h2.765c.146 0 .266.05.36.148a.48.48 0 01.14.352c0 .135-.047.25-.14.344a.487.487 0 01-.36.14H9.141zm-3.843 4.266V5.968c0-.838.213-1.473.64-1.905.428-.438 1.06-.657 1.899-.657h8.32c.839 0 1.472.219 1.899.656.427.433.64 1.068.64 1.907v11.789c0 .844-.213 1.482-.64 1.914-.427.432-1.06.648-1.899.648h-8.32c-.839 0-1.471-.216-1.899-.648-.427-.432-.64-1.07-.64-1.914zm1.539-.094c0 .36.094.635.281.828.188.193.472.29.852.29h8.062c.38 0 .664-.097.852-.29.187-.193.281-.469.281-.828V6.07c0-.364-.094-.643-.281-.836-.188-.198-.471-.296-.852-.296H7.97c-.38 0-.664.098-.852.296-.187.193-.281.472-.281.836v11.594z"})})},809461:(e,t,n)=>{n.d(t,{w:()=>s});n(667294);var i=n(785893);const o={viewBox:"0 0 20 20",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M10 7c-1.654 0-3 1.346-3 3s1.346 3 3 3 3-1.346 3-3-1.346-3-3-3m0 4.5c-.827 0-1.5-.673-1.5-1.5s.673-1.5 1.5-1.5 1.5.673 1.5 1.5-.673 1.5-1.5 1.5"}),(0,i.jsx)("path",{d:"M18.307 8.445a.7.7 0 0 0-.57-.56l-1.643-.283-.056-.138.973-1.378a.7.7 0 0 0 .008-.795 8.5 8.5 0 0 0-2.244-2.264.7.7 0 0 0-.8.006l-1.36.96-.138-.056-.289-1.661a.7.7 0 0 0-.554-.567 8.5 8.5 0 0 0-3.188-.015.7.7 0 0 0-.562.569l-.282 1.643-.139.056-1.377-.971a.7.7 0 0 0-.794-.01q-.68.457-1.284 1.06a8.5 8.5 0 0 0-.98 1.185.7.7 0 0 0 .005.799l.961 1.36q-.03.069-.057.139l-1.66.287a.7.7 0 0 0-.569.555 8.5 8.5 0 0 0-.015 3.188.7.7 0 0 0 .57.561l1.643.283.056.14-.971 1.375a.7.7 0 0 0-.01.793 8.6 8.6 0 0 0 2.244 2.267.7.7 0 0 0 .8-.006l1.36-.961.14.058.286 1.66a.7.7 0 0 0 .555.568 8.5 8.5 0 0 0 3.188.015.7.7 0 0 0 .561-.57l.283-1.643q.07-.027.138-.056l1.378.972a.7.7 0 0 0 .795.008 8.6 8.6 0 0 0 2.264-2.243.7.7 0 0 0-.006-.8l-.961-1.36.058-.138 1.66-.289a.7.7 0 0 0 .567-.554q.159-.806.16-1.656a8.5 8.5 0 0 0-.144-1.533m-1.314 2.45-1.567.271a.7.7 0 0 0-.545.47c-.09.27-.189.508-.303.726a.7.7 0 0 0 .05.728l.904 1.28a7 7 0 0 1-1.22 1.207l-1.297-.915a.7.7 0 0 0-.716-.055 5 5 0 0 1-.734.298.7.7 0 0 0-.476.548l-.267 1.549a7.2 7.2 0 0 1-1.717-.009l-.27-1.567a.7.7 0 0 0-.47-.545 5 5 0 0 1-.728-.303.69.69 0 0 0-.726.05l-1.281.904a7.2 7.2 0 0 1-1.208-1.22l.916-1.297a.7.7 0 0 0 .054-.717 5 5 0 0 1-.297-.732.7.7 0 0 0-.549-.477l-1.548-.267a7.2 7.2 0 0 1 .009-1.717l1.567-.27a.7.7 0 0 0 .545-.468c.09-.273.19-.512.303-.731a.7.7 0 0 0-.05-.726l-.904-1.28a7.2 7.2 0 0 1 1.22-1.208l1.298.916c.21.15.486.17.716.054a5 5 0 0 1 .732-.297.7.7 0 0 0 .478-.549l.266-1.548a7.3 7.3 0 0 1 1.717.008l.271 1.568a.7.7 0 0 0 .468.545c.271.09.51.19.73.303a.7.7 0 0 0 .725-.05l1.281-.904a7.2 7.2 0 0 1 1.208 1.22l-.916 1.298a.7.7 0 0 0-.054.716c.117.233.216.48.297.733.08.25.291.433.548.477l1.549.267a7 7 0 0 1-.009 1.716"})]})},s=(0,n(827282).IU)("gear",o)}}]);