"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[2942],{183680:(e,s,t)=>{t.d(s,{VR:()=>u,ac:()=>c,zq:()=>d});t(667294);var i=()=>t(846550),o=()=>t(788860),a=()=>t(518530),n=()=>t(733641),r=t(785893);function l(e){const{enabled:s,labelIfEnabled:t,labelIfDisabled:o}=e,a=(0,i().yK)((e=>({container:{color:s?e.mediumTextColor:e.lightTextColor}})),[s]);return(0,r.jsxs)("div",{style:a.container,children:[p(s)," ",s?t:o]})}function d(e){const s="none"!==e;return[(0,r.jsx)(l,{enabled:s&&e.read_content,labelIfEnabled:(0,r.jsx)(o()._H,{id:"capabilitiesTooltip.mixedAccess.readContent.enabled",defaultMessage:"Can read content."}),labelIfDisabled:(0,r.jsx)(o()._H,{id:"capabilitiesTooltip.mixedaccess.readContent.disabled",defaultMessage:"Cannot read content."})},"read_content"),(0,r.jsx)(l,{enabled:s&&e.insert_content,labelIfEnabled:(0,r.jsx)(o()._H,{id:"capabilitiesTooltip.mixedaccess.insertContent.enabled",defaultMessage:"Can insert content."}),labelIfDisabled:(0,r.jsx)(o()._H,{id:"capabilitiesTooltip.mixedaccess.insertContent.disabled",defaultMessage:"Cannot insert content."})},"insert_content"),(0,r.jsx)(l,{enabled:s&&e.update_content,labelIfEnabled:(0,r.jsx)(o()._H,{id:"capabilitiesTooltip.mixedaccess.updateContent.enabled",defaultMessage:"Can update content."}),labelIfDisabled:(0,r.jsx)(o()._H,{id:"capabilitiesTooltip.mixedaccess.updateContent.disabled",defaultMessage:"Cannot update content."})},"update_content"),(0,r.jsx)(l,{enabled:s&&e.insert_comment,labelIfEnabled:(0,r.jsx)(o()._H,{id:"capabilitiesTooltip.insertComment.enabled",defaultMessage:"Can comment."}),labelIfDisabled:(0,r.jsx)(o()._H,{id:"capabilitiesTooltip.insertComment.disabled",defaultMessage:"Cannot comment."})},"insert_comment"),(0,r.jsx)(l,{enabled:s&&e.read_comment,labelIfEnabled:(0,r.jsx)(o()._H,{id:"capabilitiesTooltip.readComment.enabled",defaultMessage:"Can read comments."}),labelIfDisabled:(0,r.jsx)(o()._H,{id:"capabilitiesTooltip.readComment.disabled",defaultMessage:"Cannot read comments."})},"read_comment")]}function c(e){return[(0,r.jsx)(l,{enabled:e.read_user_without_email,labelIfEnabled:(0,r.jsx)(o()._H,{id:"capabilitiesTooltip.userAccess.readUsers.enabled",defaultMessage:"Can view users."}),labelIfDisabled:(0,r.jsx)(o()._H,{id:"capabilitiesTooltip.userAccess.readUsers.disabled",defaultMessage:"Cannot view users."})},"read_user_without_email"),(0,r.jsx)(l,{enabled:e.read_user_with_email,labelIfEnabled:(0,r.jsx)(o()._H,{id:"capabilitiesTooltip.userAccess.readUserEmailAddresses.enabled",defaultMessage:"Can view user email addresses."}),labelIfDisabled:(0,r.jsx)(o()._H,{id:"capabilitiesTooltip.userAccess.readUserEmailAddresses.disabled",defaultMessage:"Cannot view user email addresses."})},"read_user_with_email")]}function u(e){return[(0,r.jsx)(l,{enabled:e.link_preview,labelIfEnabled:(0,r.jsx)(o()._H,{id:"capabilitiesTooltip.linkPreview.enabled",defaultMessage:"Can preview links."}),labelIfDisabled:(0,r.jsx)(o()._H,{id:"capabilitiesTooltip.linkPreview.disabled",defaultMessage:"Cannot preview links."})},"link_preview"),(0,r.jsx)(l,{enabled:e.synced_database,labelIfEnabled:(0,r.jsx)(o()._H,{id:"capabilitiesTooltip.syncedDatabase.enabled",defaultMessage:"Can sync databases."}),labelIfDisabled:(0,r.jsx)(o()._H,{id:"capabilitiesTooltip.syncedDatabase.disabled",defaultMessage:"Cannot sync databases."})},"synced_database")]}function p(e){const s={width:12,display:"inline",verticalAlign:"middle"};return e?(0,n().k)(s):(0,a().U)(s)}},670346:(e,s,t)=>{t.d(s,{_:()=>d});t(667294);var i=()=>t(219727),o=()=>t(528514),a=()=>t(788860),n=()=>t(183680),r=()=>t(18748),l=t(785893);function d(e){const{role:s}=e,t=(0,a().YB)(),{device:d}=(0,i().O7)(),c=(0,n().zq)(s);return(0,l.jsx)(r().ZP,{...e,title:t.formatMessage((0,o().Gx)(s,void 0).label),shouldWrapCaption:!0,style:d.isMobile?{padding:"12px 4px"}:{padding:4,marginTop:2,marginBottom:2},captionStyle:{marginTop:4},caption:(0,l.jsx)("div",{children:c})})}},777814:(e,s,t)=>{t.d(s,{M:()=>_,d:()=>h});t(667294);var i=()=>t(219727),o=()=>t(142735),a=()=>t(846550),n=()=>t(528514),r=()=>t(630315),l=()=>t(255933),d=()=>t(788860),c=()=>t(568017),u=()=>t(696459),p=()=>t(151684),m=()=>t(913813),b=()=>t(779733),g=()=>t(92175),f=t(785893);function h(e){let{type:s,role:t,events:n,disabled:r,buttonStyle:l,buttonContents:c,icon:u,table:h,isCurrentUser:x,from:v}=e;const{isMobile:y}=(0,i().Fy)(),M=(0,a().yK)((e=>({button:{marginRight:8,...l},icon:{width:10,marginLeft:4,fill:e.lightIconColor},label:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},iconContainer:{fill:e.icon.secondary,padding:2}})),[l]),w=u||!r&&p().E,C=(0,o().VK)((()=>"shareMenu"===v&&(0,b().wZ)()),[v]);return y&&"shareMenu"===v&&C?r?null:(0,f.jsx)(g().Z,{...n,disabled:r,style:M.iconContainer,children:(0,m().O)({height:24,width:24})}):(0,f.jsxs)(g().Z,{...n,disabled:r,style:M.button,children:[c||(0,f.jsx)("span",{className:"notranslate",style:M.label,children:(0,f.jsx)(d()._H,{..._({type:s,role:t,table:h,isRemovable:!1,isCurrentUser:x,isRedesignEnabled:C}).label})}),w&&w(M.icon)]})}function _(e){let{type:s,role:t,table:i,isRemovable:o,isCurrentUser:a,isRedesignEnabled:d}=e;if("access"===t)return{label:n().mq.variousAccessLabel};if("limited"===t)return{label:n().mq.limitedAccessLabel};if((0,n().oF)(t))return(0,n().Gx)(t,i);switch(t){case"editor":return i===l().bx||i===r().V7?{label:n().mq.workspaceOwnerLabel,caption:n().mq.workspaceOwnerCaption}:{label:n().mq.fullAccessLabel,caption:d?n().mq.fullAccessCaptionV2:n().mq.fullAccessCaption};case"membership_admin":return i===l().bx||i===r().V7?{label:n().mq.membershipAdminLabel,caption:n().mq.membershipAdminCaption}:{label:n().mq.canEditLabel,caption:d?n().mq.canEditCaptionV2:n().mq.canEditCaption};case"read_and_write":return i===l().bx||i===r().V7?{label:n().mq.memberLabel,caption:n().mq.memberCaption}:{label:n().mq.canEditLabel,caption:d?n().mq.canEditCaptionV2:n().mq.canEditCaption};case"content_only_editor":return{label:n().mq.canEditContentLabel,caption:n().mq.canEditContentCaption};case"reader":return{label:n().mq.canReadLabel,caption:d?void 0:n().mq.canReadCaption};case"comment_only":return{label:n().mq.canCommentLabel,caption:d?n().mq.canCommentCaptionV2:n().mq.canCommentCaption};case"none":return"public_permission"===s?{label:d?n().mq.unpublishPageLabelV2:n().mq.unpublishPageLabel,caption:n().mq.unpublishPageCaption}:o?i===l().bx||i===r().V7?a?{label:n().mq.leaveWorkspaceLabel,style:{color:c().ZP.red}}:{label:n().mq.removeFromWorkspaceLabel,style:{color:c().ZP.red}}:{label:n().mq.removeWorkspaceLabel,style:{color:c().ZP.red}}:{label:n().mq.noAccessLabel,style:{color:c().ZP.red}};default:(0,u().t1)(t)}}},370005:(e,s,t)=>{t.d(s,{ZP:()=>G});t(670560),t(267602),t(653476),t(470928),t(749411),t(241792),t(667294);var i=()=>t(219727),o=()=>t(142735),a=()=>t(846550),n=()=>t(714230),r=()=>t(528514),l=()=>t(933868),d=()=>t(630315),c=()=>t(255933),u=()=>t(788860),p=()=>t(696459),m=()=>t(912732),b=()=>t(308186),g=()=>t(205228),f=()=>t(247724),h=()=>t(527278),_=()=>t(352230),x=()=>t(164079),v=()=>t(122479),y=()=>t(148126),M=()=>t(15409),w=()=>t(733641),C=()=>t(356140),j=()=>t(998901),k=()=>t(876822),R=()=>t(965014),P=()=>t(654133),I=()=>t(385337),T=t(785893);function S(e){const s=(0,i().O7)(),{render:t,upsell:o,analyticsName:a,renderUpgradeTooltip:n,onUpgradeClick:r,alwaysAllowClick:l,tooltipPlacement:d,upgradeButtonDesktopStyle:c,upgradeButtonMobileStyle:u}=e;let p,{onClick:m,renderTooltip:b}=e;return o&&"product"===o.type&&(p=(0,T.jsx)(I().R,{upsell:o,analyticsName:a,desktopStyle:{display:"inline-block",pointerEvents:"none",...c},mobileStyle:{display:"inline-block",pointerEvents:"none",...u}}),l||(m=e=>{R().y(s,{from:a,upsell:o}),r&&r(e)},b=n)),(0,T.jsx)(P().Z,{renderTooltip:b||(()=>null),render:e=>t((0,x().Z)(e,{onClick:m}),p),disableTooltip:!b,placement:d})}var H=()=>t(548812),U=()=>t(815277),B=()=>t(18281),A=()=>t(697623),Z=()=>t(827973),q=()=>t(448419),E=()=>t(198829),W=()=>t(255577),L=()=>t(946563),O=()=>t(388284),V=()=>t(67961),F=()=>t(765513),D=()=>t(777814),K=()=>t(73478);const N=(0,u().vU)({fullAccessTeamGuestsDisabledMessage:{id:"permissionRoleSelect.teamGuestPermissionItem.disabledPermissionitem.tooltip",defaultMessage:"Teamspace guests can't have full access."}});const G=function(e){let{isUserPermission:s,type:n,table:m,role:b,isInvite:g,availableRoleItems:x,roleItemOverrides:y,blockType:M,onClick:w,onClose:C,origin:j,isMenuItem:k,isRemovableOverride:R,disabled:P,buttonContents:I,buttonPopupStore:S,buttonStyle:H,placementToOrigin:U,alignmentToOrigin:B,upgradeButtonName:A,onUpgradeButtonClick:L,onChange:F,onRemoveMemberClick:K,header:G,footer:z,showPermissionOverrideWarning:Y,from:X}=e;const ee=(0,i().O7)(),se=(0,o().qz)(S,t(529048).Z),{device:te}=ee,ie=!!s,oe=(0,o().VK)((()=>function(e){let{type:s,table:t,role:i,isInvite:o,availableRoleItems:a,roleItemOverrides:n,blockType:r}=e;if(a&&a.length>0)return a;if("trusted_domain_permission"===s)return[{role:"reader"},{role:"none"}];if(t===d().V7){let e=l().an.map((e=>({role:e})));return o&&(e=e.filter((e=>"none"!==e.role))),e}const u=[];"explicit_team_guest_permission"===s?u.push({role:"editor",disabledInfo:{isDisabled:!0,disabledMessage:h().Z.formatMessage(N.fullAccessTeamGuestsDisabledMessage)}}):"bot_permission"!==s&&"public_permission"!==s&&u.push({role:"editor"});"space"===t&&(0,v().U7)()&&u.push({role:"membership_admin"});u.push({role:"read_and_write"}),"collection_view"!==r&&"collection_view_page"!==r||"bot_permission"===s&&"content_only_editor"!==i||"public_permission"===s||u.push({role:"content_only_editor"});t!==c().bx&&("bot_permission"!==s&&u.push({role:"comment_only"}),"bot_permission"===s&&"reader"!==i||u.push({role:"reader"}));o||u.push({role:"none"});if(!n)return u;return u.map((e=>{const s=n.find((s=>s.role===e.role));return s||e}))}({type:n,table:m,role:b,isInvite:g,availableRoleItems:x,roleItemOverrides:y,blockType:M})),[n,m,b,g,x,y,M]),ae=(0,o().VK)((()=>"shareMenu"===X&&(0,t(779733).wZ)()),[X]),ne=(0,o().VK)((()=>te.isMobile&&ae),[te,ae]),re=(0,a().yK)((e=>({buttonPopupSheet:{borderTopLeftRadius:12,borderTopRightRadius:12,overflow:"hidden",paddingBottom:10,background:e.surface.wash},menuList:{width:"100%",margin:"0 auto"},sectionMenuItem:{overflow:"hidden",background:e.buttonBackground,borderRadius:12,marginLeft:16,marginRight:16,marginBottom:16,borderWidth:1,borderStyle:"solid",borderColor:e.stroke.secondary,padding:void 0},scrollerStyle:{background:e.surface.wash},header:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",background:e.surface.wash,paddingTop:12,paddingBottom:20},headerLabel:{fontSize:16,fontWeight:t(707513).Ue.semibold,marginBottom:12},headerContent:{width:"100%"}})),[]);return(0,T.jsx)(q().ZP,{style:ne?re.buttonPopupSheet:void 0,onClick:e=>{e.preventDefault(),e.stopPropagation(),w&&w()},onClose:C,popupType:te.isMobile?q().Z4.SlideUp:q().Z4.Popup,buttonPopupStore:se,renderOrigin:e=>j||(k?(0,T.jsx)(Z().Z,{...e,title:(0,T.jsx)(u()._H,{...(0,D().M)({type:n,role:b,table:m,isRemovable:!1,isCurrentUser:ie,isRedesignEnabled:ae}).label}),focused:!1,showExtensionArrow:!0}):(0,T.jsx)(D().d,{type:n,role:b,events:e,disabled:P,buttonContents:I,buttonStyle:H,table:m,isCurrentUser:ie,from:X})),placementToOrigin:U||t(128119).Iw.Bottom,alignmentToOrigin:B,render:e=>{let i,o;if((0,r().oF)(b))i=[{key:"mixed_role_section",render:e=>(0,T.jsx)(O().Z,{...e,topBorder:!1}),items:[{key:"mixed_role_description",render:()=>(0,T.jsx)(t(670346)._,{role:b}),action:()=>{}}]},{key:"bot_capabilities_warning",render:e=>(0,T.jsx)(O().Z,{...e,topBorder:!0}),items:[{key:"warning_details",render:e=>(0,T.jsx)(t(18748).ZP,{...e,shouldWrapCaption:!0,caption:"Integration permissions cannot be changed on a page. You can manage integrations in settings."}),action:()=>{}}]},{key:"remove_bot",render:e=>(0,T.jsx)(O().Z,{...e,topBorder:!0}),items:[{key:"none",render:e=>(0,T.jsx)(Q,{role:b,upgradeButtonName:A,onUpgradeButtonClick:L,focused:e.focused,props:e,availableRole:{role:"none"},isCurrentUser:!!s,isRemovableOverride:R,table:m,type:n,isRedesignEnabled:ae}),action:()=>{$("none",m,b,n,A,ee,oe,F,L,s,K),e.close()}}]}];else if(i=[{key:"roles",render:e=>(0,T.jsx)(O().Z,{...e,topBorder:0!==e.index,style:ne?re.sectionMenuItem:void 0}),items:oe.flatMap((t=>{const i={key:t.role,render:e=>(0,T.jsx)(Q,{role:b,upgradeButtonName:A,onUpgradeButtonClick:L,focused:e.focused,props:e,availableRole:t,isCurrentUser:!!s,isRemovableOverride:R,table:m,type:n,isRedesignEnabled:ae}),action:()=>{$(t.role,m,b,n,A,ee,oe,F,L,s,K),e.close()}};return ae&&"none"===t.role?[]:[t.prefixItem,i].filter(p().$K)}))}],ae){const t=oe.find((e=>"none"===e.role));(null==t?void 0:t.prefixItem)&&!te.isMobile&&i.push({key:"prefix-item",render:e=>(0,T.jsx)(O().Z,{...e,topBorder:!0,style:ne?re.sectionMenuItem:void 0}),items:[null==t?void 0:t.prefixItem].filter(p().$K)});const o=oe.filter((e=>"none"===e.role));o.length>0&&i.push({key:"none-role",render:e=>(0,T.jsx)(O().Z,{...e,topBorder:!(te.isMobile&&ae),style:ne?re.sectionMenuItem:void 0}),items:o.flatMap((t=>{const i={key:t.role,render:e=>(0,T.jsx)(Q,{role:b,upgradeButtonName:A,onUpgradeButtonClick:L,focused:e.focused,props:e,availableRole:t,isCurrentUser:!!s,isRemovableOverride:R,table:m,type:n,isRedesignEnabled:ae}),action:()=>{$(t.role,m,b,n,A,ee,oe,F,L,s,K),e.close()}};return te.isMobile?[t.prefixItem,i].filter(p().$K):[i].filter(p().$K)}))})}return o=te.isMobile?{menuType:_().o.Modal,title:(0,T.jsx)(u()._H,{id:"userPermissionsMenu.mobile.title",defaultMessage:"Select role"}),right:(0,T.jsx)(u()._H,{id:"userPermissionsMenu.mobile.doneButton.label",defaultMessage:"Done"}),onClickRight:e.close}:{menuType:_().o.Popup,width:264},ne?(0,T.jsx)(E().Z,{scrollerStyle:re.scrollerStyle,menuType:_().o.Popup,height:"50vh",maxWidth:"100%",className:f().a6i,header:(0,T.jsxs)("div",{style:re.header,children:[(0,T.jsx)(V().Z,{style:re.headerLabel,children:(0,T.jsx)(u()._H,{defaultMessage:"Change access",id:"PermissionRoleSelect.Header.ChangeAccess"})}),(0,T.jsx)("div",{style:re.headerContent,children:G})]}),footer:(0,T.jsx)(T.Fragment,{children:z}),children:(0,T.jsx)(W().Z,{type:W().i.Vertical,initialFocus:void 0,sections:i,style:re.menuList})}):(0,T.jsx)(E().Z,{className:f().a6i,header:G,footer:(0,T.jsxs)(T.Fragment,{children:[z,Y&&(0,T.jsx)(J,{})]}),...o,children:(0,T.jsx)(W().Z,{type:W().i.Vertical,initialFocus:void 0,sections:i})})}})};function z(e,s,t,i){if(!i&&s!==d().V7){if((s===c().bx?l().RN(e):l().J5(e)&&!l().zz(e))&&"public_permission"!==t&&"bot_permission"!==t)return s===c().bx?(0,T.jsx)(K().Z,{imageURL:n().Z.images.tooltips.upsells.spaceReadAndWritePng,imageWidth:240,imageHeight:100,caption:(0,T.jsx)(u()._H,{defaultMessage:"Members cannot change workspace settings or invite new members.",id:"permissionRoleSelect.spaceReadAndWriteUpgradeTooltip.caption"}),title:(0,T.jsx)(u()._H,{defaultMessage:"Upgrade to add non-admin members",id:"permissionRoleSelect.spaceReadAndWriteUpgradeTooltip.title"})}):(0,T.jsx)(K().Z,{imageURL:n().Z.images.tooltips.upsells.userReadAndWritePng,imageWidth:240,imageHeight:100,caption:(0,T.jsx)(u()._H,{defaultMessage:"Users with edit access can edit a page but not share it with others.",id:"permissionRoleSelect.userReadAndWriteUpgradeTooltip.caption"}),title:(0,T.jsx)(u()._H,{defaultMessage:"Upgrade to add editors",id:"permissionRoleSelect.userReadAndWriteUpgradeTooltip.title"})})}return!1}function Y(e,s){if(void 0!==s)return s;switch(e){case"user_permission":case"bot_permission":case"group_permission":return!0;case"space_permission":case"explicit_team_permission":case"team_permission":case"team_owner_permission":case"explicit_team_owner_permission":case"explicit_team_guest_permission":case"public_permission":case"trusted_domain_permission":case"exclusive_user_permission":return!1;default:(0,p().t1)(e)}}async function $(e,s,t,i,o,a,n,l,p,f,h){var _,x;if(t===e)return;const v=()=>{l&&l(e)};m().Mv({newRole:e,availableRoles:n});const M=await(0,U().KQ)(a,{name:"block_read_and_write_role",spaceId:null===(_=k().default.state.currentSpaceStore)||void 0===_?void 0:_.id,userId:null===(x=k().default.state.currentUserStore)||void 0===x?void 0:x.id});if(z(e,s,i,M)&&!g().default.isAdminMode)R().y(a,{from:o,upsell:{type:"product",product:B().M9(a)||"plus",limit:{type:"none"}}}),p&&p();else if(function(e,s,t){return t&&(0,r().nl)(s,e)===s&&"none"===e}(e,t,f))b().vC({showCancel:!0,keepFocus:!1,message:s===c().bx||s===d().V7?(0,T.jsx)(u()._H,{id:"userPermissionsMenu.removePermissionsModal.removeSelfFromWorkspace.confirmationMessage",defaultMessage:"Are you sure you want to remove your own access? You will lose access to the workspace, and any private pages will be lost."}):(0,T.jsx)(u()._H,{id:"userPermissionsMenu.removePermissionsModal.removeSelfFromPage.confirmationMessage",defaultMessage:"Are you sure you want to remove your own access?"}),items:[{label:(0,T.jsx)(u()._H,{id:"userPermissionsMenu.removePermissionsModal.removeSelfButton.label",defaultMessage:"Remove"}),color:"red",onAccept:v}]});else if(function(e,s,t){return t&&(0,r().nl)(s,e)===s}(e,t,f))b().vC({showCancel:!0,keepFocus:!1,message:(0,T.jsx)(u()._H,{id:"userPermissionsMenu.downgradePermissionsModal.downgradeSelfFromWorkspaceOrPage.confirmationMessage",defaultMessage:"Are you sure you want to downgrade your own access?"}),items:[{label:(0,T.jsx)(u()._H,{id:"userPermissionsMenu.downgradePermissionsModal.downgradeSelfButton.label",defaultMessage:"Downgrade"}),color:"red",onAccept:v}]});else if(function(e,s){return(s===c().bx||s===d().V7)&&"none"===e}(e,s))if(h)h();else{await async function(e){const{message:s}=e;return new Promise((e=>{b().vC({showCancel:!0,keepFocus:!1,handleCancel:()=>e(!1),message:s,items:[{label:(0,T.jsx)(u()._H,{id:"userPermissionsMenu.removePermissionsModal.removeUserButton.label",defaultMessage:"Remove"}),color:"red",onAccept:()=>e(!0)}]})}))}({message:(w=!0,w&&(0,A().wP)()?(0,T.jsx)(u()._H,{id:"userPermissionsMenu.removePermissionsModal.removeUserFromWorkspace.enterprise.confirmationMessage",defaultMessage:"If you remove this member, they will lose workspace access. After their removal, you may transfer their private pages to another member. <transferpagelink>Learn more</transferpagelink>.",values:{transferpagelink:e=>(0,T.jsx)(F().Z,{href:(0,y().UY)("guides.transferContent"),external:!0,children:e})}}):w?(0,T.jsx)(u()._H,{id:"userPermissionsMenu.removePermissionsModal.removeUserFromWorkspace.confirmationMessage",defaultMessage:"Are you sure you want to remove this person? They will lose access to the workspace, and any private pages will be lost."}):(0,T.jsx)(u()._H,{id:"userPermissionsMenu.removePermissionsModal.removeUserFromPage.confirmationMessage",defaultMessage:"Are you sure you want to remove this person?"}))})&&v()}else if(function(e,s){return"public_permission"===e&&"none"===s}(i,e)){await async function(){return new Promise((e=>{b().vC({showCancel:!0,keepFocus:!1,handleCancel:()=>e(!1),description:(0,T.jsx)(u()._H,{id:"permissionRoleSelect.unpublishConfirmation.description",defaultMessage:"Removing access will unpublish this page from the web."}),message:(0,T.jsx)(u()._H,{id:"permissionRoleSelect.unpublishConfirmation.message",defaultMessage:"Are you sure you want to remove access?"}),items:[{label:(0,T.jsx)(u()._H,{id:"userPermissionsMenu.removePermissionsModal.unpublishAction.label",defaultMessage:"Remove access"}),color:"red",onAccept:()=>e(!0)}]})}))}()&&v()}else v();var w}function Q(e){const{availableRole:s,isCurrentUser:t,role:n,table:r,type:l,isRemovableOverride:d,upgradeButtonName:c,onUpgradeButtonClick:p,isRedesignEnabled:m}=e,{label:b,caption:g}=(0,D().M)({type:l,role:s.role,table:r,isRemovable:Y(l,d),isCurrentUser:t,isRedesignEnabled:m}),f=(0,a().Fg)(),h=(0,i().O7)(),_=(0,C().W)(),v=(0,o().VK)((()=>{var e;return null===(e=h.currentUser)||void 0===e?void 0:e.id}),[h]),{device:y}=h,{onClick:R,key:I,...B}=e.props,A=s.disabledInfo,q=y.isMobile&&m,E=(0,U().oo)({name:"block_read_and_write_role",spaceId:_,userId:v}),W=(0,o().VK)((()=>z(s.role,r,l,"available"===(null==E?void 0:E.type))),[s,r,l,E]),O=(0,o().VK)((()=>h.device.isMobile&&!H().bQ()),[h]),V=Boolean(W),F=(0,o().VK)((()=>{var e;return null===(e=k().default.getState().currentSpaceStore)||void 0===e?void 0:e.canAdmin()}),[]),K=V&&(!F||O),N=(0,a().yK)((e=>{const s={backgroundColor:e.surface.elevated,paddingTop:12,paddingBottom:12,borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:e.stroke.secondary};return{buttonMenuItem:{...s},redButtonMenuItem:{...s,color:e.text.uiRedPrimary},disabledButtonMenuItem:{...s,color:e.text.tertiary}}}),[]);return y.isMobileNative&&V?null:A&&A.isDisabled?(0,T.jsx)(P().Z,{delayThreshold:0,renderTooltip:e=>(0,T.jsx)("div",{...e,children:A.disabledMessage}),placement:j().Placement.Right,textWrap:!0,render:t=>(0,T.jsx)(Z().Z,{style:q?N.disabledButtonMenuItem:void 0,...t,focused:e.focused,disabled:!0,disabledFeedback:!0,right:n===s.role?(0,T.jsx)("div",{style:{width:y.isMobile?16:14},children:m?(0,w().k)():(0,M().e)()}):void 0,title:(0,T.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,T.jsx)("div",{style:{...e.style,marginRight:W?6:0},children:(0,T.jsx)(u()._H,{...b})})}),caption:g&&(0,T.jsx)("span",{style:{color:m?f.text.secondary:f.mediumTextColor},children:(0,T.jsx)(u()._H,{...g})}),shouldWrapCaption:!0})}):(0,T.jsx)(S,{upsell:V&&("upsell"===(null==E?void 0:E.type)||"blocked"===(null==E?void 0:E.type)?E.upsell:void 0),analyticsName:c,renderUpgradeTooltip:()=>W,tooltipPlacement:j().Placement.Left,onClick:R,onUpgradeClick:p,render:(t,i)=>{const{focused:o,...a}=(0,x().Z)(B,t);return(0,T.jsx)(Z().Z,{...a,style:q?"none"===s.role?N.redButtonMenuItem:N.buttonMenuItem:void 0,focused:o||e.focused,right:n===s.role?(0,T.jsx)("div",{style:{width:y.isMobile?16:14},children:m?(0,w().k)():(0,M().e)()}):void 0,title:(0,T.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,T.jsx)("div",{style:{...e.style,marginRight:W?6:0},children:(0,T.jsx)(u()._H,{...b})}),i,e.availableRole.tag&&(0,T.jsx)(L().Z,{desktopStyle:{marginLeft:7},children:e.availableRole.tag})]}),caption:g&&(0,T.jsx)("span",{style:{color:m?f.text.secondary:f.mediumTextColor},children:(0,T.jsx)(u()._H,{...g})}),shouldWrapCaption:!0,disabled:K,isRedOnHover:m&&!K&&"none"===s.role})}})}function J(){const e=(0,a().Fg)(),s=(0,i().O7)(),{device:t}=s;return(0,T.jsx)(V().Z,{style:{padding:12,backgroundColor:e.sidebarSecondaryBackground,boxShadow:`0 -1px 0 ${e.regularDividerColor}`,marginTop:t.isMobile?28:1},isMultiline:!0,isSmall:!0,children:(0,T.jsx)(u()._H,{id:"permissionRoleSelect.overrideMessage.caption",defaultMessage:"You’ll override permissions from the parent page if you change this role."})})}},807463:(e,s,t)=>{t.d(s,{TG:()=>o,ZP:()=>n,uq:()=>i});t(267602),t(653476),t(241792),t(228244);let i=function(e){return e.unselected="unselected",e.workspace_member="workspace_member",e.request_workspace_member="request_workspace_member",e.page_guest="page_guest",e.closed="closed",e}({}),o=function(e){return e[e.closed=0]="closed",e[e.share_page=1]="share_page",e[e.share_workspace=2]="share_workspace",e[e.request_workspace=3]="request_workspace",e}({});class a extends(()=>t(263184))().default{getInitialState(){return{inviteStage:o.closed,selection:i.workspace_member,order:[i.workspace_member,i.page_guest],invitedUsers:[],invitedEmailToUserIdMap:{},flowId:t(956057).Il()}}startWorkspaceInvite(){this.setState({...this.state,inviteStage:o.share_workspace,order:[i.workspace_member,i.page_guest],selection:i.workspace_member})}startRequestMembership(){this.setState({...this.state,inviteStage:o.request_workspace,order:[i.request_workspace_member,i.page_guest],selection:i.request_workspace_member})}hasGuests(){return this.state.invitedUsers.some((e=>e.isGuest))}getGuestEmails(){return this.state.invitedUsers.filter((e=>e.isGuest)).map((e=>e.email))}}const n=a},385337:(e,s,t)=>{t.d(s,{R:()=>f});t(667294);var i=()=>t(219727),o=()=>t(142735),a=()=>t(846550),n=()=>t(788860),r=()=>t(568017),l=()=>t(696459),d=()=>t(707513),c=()=>t(946563),u=()=>t(654133),p=()=>t(998901),m=()=>t(876822),b=()=>t(965014),g=t(785893);function f(e){let{upsell:s,mobileStyle:t,desktopStyle:f,analyticsName:h,onClick:_,disableTooltip:x}=e;const v=(0,a().Fg)(),y=(0,i().O7)(),{device:M}=y,w=(0,o().VK)((()=>{const{currentSpaceStore:e}=m().default.state;return null==e?void 0:e.canAdmin()}),[]),C=(0,o().VK)((()=>function(e,s){if("product"!==e.type)return{};switch(e.product){case"plus":case"business":case"enterprise":return{color:s.blueColor,background:"light"===s.mode?r().ZP.diffBackground:"rgba(35, 131, 226, 0.2)",fontWeight:d().Ue.medium};default:return{}}}(s,v)),[s,v]);if("product"!==s.type)return null;if(M.isMobileNative)return null;const j=(()=>{switch(s.product){case"personal":return(0,g.jsx)(n()._H,{defaultMessage:"Personal Pro",id:"upgradeButton.personal.text"});case"plus":return(0,g.jsx)(n()._H,{defaultMessage:"Plus ↗",id:"upgradeButton.plus.textWithArrow"});case"business":return(0,g.jsx)(n()._H,{defaultMessage:"Business ↗",id:"upgradeButton.business.textWithArrow"});case"enterprise":return(0,g.jsx)(n()._H,{defaultMessage:"Enterprise ↗",id:"upgradeButton.enterprise.textWithArrow"});case"ai":return(0,g.jsx)(n()._H,{defaultMessage:"AI ↗",id:"upgradeButton.ai.textWithArrow"});case"sites_custom_hostnames":return(0,g.jsx)(n()._H,{defaultMessage:"Custom Hostnames ↗",id:"upgradeButton.sites_custom_hostnames.textWithArrow"});default:(0,l().t1)(s.product)}})();return M.isMobile||!w?(0,g.jsx)(c().Z,{mobileStyle:t,children:j}):(0,g.jsx)(u().Z,{delayThreshold:120,disableTooltip:x,placement:p().Placement.Bottom,renderTooltip:()=>(0,g.jsx)("div",{style:{maxWidth:500},children:(0,g.jsx)(n()._H,{defaultMessage:"Upgrade to use this feature.",id:"premiumFeatureUpgradeButton.upgrade.tooltip"})}),originGap:6,render:e=>(0,g.jsx)(c().Z,{desktopStyle:f,innerStyle:C,onClick:e=>function(e,s,t,i,o){b().y(i,{from:s,upsell:t}),o&&o(e)}(e,h,s,y,_),...e,children:j})})}}}]);