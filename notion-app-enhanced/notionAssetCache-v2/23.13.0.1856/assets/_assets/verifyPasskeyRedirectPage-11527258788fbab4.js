"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[72679,31477],{167830:(e,t,n)=>{n.d(t,{Z:()=>o});n(667294);var r=n(785893);const o=function(e){const{hasMarginTop:t}=e,o=(0,n(846550).yK)((e=>{const n={display:"block",marginBottom:4,fontSize:12,color:e.mediumTextColor};return t&&(n.marginTop=14),{style:n}}),[t]),{forId:a,children:i,style:s}=e;return(0,r.jsx)("label",{style:{...o.style,...s},htmlFor:a,children:i})}},581205:(e,t,n)=>{n.d(t,{h:()=>o});n(667294);var r=n(785893);const o=(0,n(827282).IU)("mailRound",{viewBox:"0 0 17 12",svg:(0,r.jsx)("path",{d:"M3.09961 11.9639H14.1055C15.3359 11.9639 16.0469 11.2529 16.0469 9.84473V2.29785C16.0469 0.896484 15.3291 0.185547 13.9004 0.185547H2.89453C1.66406 0.185547 0.953125 0.889648 0.953125 2.29785V9.84473C0.953125 11.2598 1.6709 11.9639 3.09961 11.9639ZM7.68652 6.41992L2.52539 1.32715C2.67578 1.26562 2.85352 1.23145 3.05859 1.23145H13.9414C14.1533 1.23145 14.3379 1.26562 14.4883 1.33398L9.34082 6.41992C9.04688 6.71387 8.78027 6.84375 8.51367 6.84375C8.24023 6.84375 7.97363 6.70703 7.68652 6.41992ZM1.99902 9.84473V2.29785C1.99902 2.24316 1.99902 2.27051 1.99902 2.22266L5.92969 6.08496L2.00586 9.96094C1.99902 9.92676 1.99902 9.88574 1.99902 9.84473ZM15.001 2.30469V9.85156C15.001 9.87891 15.001 9.91309 15.001 9.94043L11.0977 6.08496L15.001 2.24316C15.001 2.30469 15.001 2.30469 15.001 2.30469ZM3.05859 10.918C2.86719 10.918 2.70312 10.8906 2.55957 10.8291L6.64746 6.78906L7.0918 7.22656C7.57031 7.69824 8.02832 7.89648 8.51367 7.89648C8.99219 7.89648 9.45703 7.69824 9.93555 7.22656L10.3799 6.78906L14.4609 10.8223C14.3105 10.8906 14.1396 10.918 13.9414 10.918H3.05859Z"})})},568194:(e,t,n)=>{n.d(t,{r:()=>o});n(667294);var r=n(785893);const o=(0,n(827282).IU)("personWithKey",{viewBox:"0 0 18 18",svg:(0,r.jsx)("g",{children:(0,r.jsx)("path",{d:"M7 7.656a2.894 2.894 0 01-1.602-.468A3.47 3.47 0 014.234 5.93a3.63 3.63 0 01-.43-1.766 3.488 3.488 0 011.602-2.976A2.916 2.916 0 017 .726a2.93 2.93 0 011.602.46 3.36 3.36 0 011.164 1.235c.291.52.437 1.096.437 1.726a3.64 3.64 0 01-.437 1.782 3.407 3.407 0 01-1.157 1.258A2.907 2.907 0 017 7.655zm-5.125 7.328c-.474 0-.846-.109-1.117-.328-.271-.219-.406-.518-.406-.898 0-.5.156-1.024.468-1.57.313-.553.758-1.068 1.336-1.547.584-.48 1.284-.868 2.102-1.164.818-.303 1.732-.454 2.742-.454.672 0 1.3.07 1.883.211a7.32 7.32 0 011.61.563 4.077 4.077 0 00.39 1.797 3.777 3.777 0 001.172 1.414v1.976H1.875zm12.54-7.789c.494 0 .942.12 1.343.36.406.24.726.56.96.96.24.402.36.847.36 1.337 0 .53-.15 1.013-.453 1.445-.297.427-.719.773-1.266 1.039l.844.836a.438.438 0 01.117.297.361.361 0 01-.11.265l-.905.899.617.625a.412.412 0 01.117.265.361.361 0 01-.117.282l-1.235 1.226a.317.317 0 01-.25.102.334.334 0 01-.234-.086l-.71-.672a.5.5 0 01-.165-.375v-3.703a2.62 2.62 0 01-1.148-.977 2.623 2.623 0 01-.43-1.468c0-.49.117-.935.352-1.336.24-.401.56-.722.96-.961a2.61 2.61 0 011.352-.36zm0 1.188a.767.767 0 00-.563.234.771.771 0 00-.227.555c0 .213.078.398.234.555a.758.758 0 00.555.234.733.733 0 00.547-.234.758.758 0 00.234-.555.758.758 0 00-.234-.555.733.733 0 00-.547-.234z"})})})},187406:(e,t,n)=>{n.r(t),n.d(t,{VerifyPasskeyRedirectPage:()=>d});n(667294);var r=()=>n(142735),o=()=>n(846550),a=()=>n(788860),i=()=>n(661641),s=()=>n(653274),c=()=>n(510795),l=()=>n(396339),u=n(785893);function d(e){let{callbackType:t}=e;const n=(0,r().qz)(void 0,c().Z),d=(0,o().yK)((e=>({pageContainer:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},header:{textAlign:"center",margin:"16px 0 8px 0"},subheader:{textAlign:"center",maxWidth:"312px",color:e.text.secondary,marginBottom:"20px"},button:{width:"312px"}})),[]);return(0,u.jsxs)("div",{style:d.pageContainer,children:[(0,u.jsx)(s().Z,{analyticsName:"passkeyRedirect",hideNotionText:!0}),(0,u.jsx)(i().q,{styleName:"UITitle-22px/Semibold",children:(0,u.jsx)("div",{style:d.header,children:(0,u.jsx)(a()._H,{id:"loginForm.passkeyRedirect.header",defaultMessage:"Authenticate with your passkey"})})}),(0,u.jsx)(i().q,{styleName:"UIRegular-14px/Regular",children:(0,u.jsx)("div",{style:d.subheader,children:(0,u.jsx)(a()._H,{id:"loginForm.passkeyRedirect.subheader",defaultMessage:"If you donâ€™t already see your passkey prompt, click log in with passkey below."})})}),(0,u.jsx)("div",{style:d.button,children:(0,u.jsx)(l().Z,{isSignup:!1,showInvitationVersion:!1,buttonsStore:n,themeOverride:void 0,isSmallScreen:!1,isMobile:!1,callbackType:t})})]})}},156603:(e,t,n)=>{function r(e){const t=new Uint8Array(e);let n="";for(const r of t)n+=String.fromCharCode(r);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function o(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=(4-t.length%4)%4,r=t.padEnd(t.length+n,"="),o=atob(r),a=new ArrayBuffer(o.length),i=new Uint8Array(a);for(let s=0;s<o.length;s++)i[s]=o.charCodeAt(s);return a}function a(){return void 0!==window?.PublicKeyCredential&&"function"==typeof window.PublicKeyCredential}function i(e){const{id:t}=e;return{...e,id:o(t),transports:e.transports}}function s(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}n.d(t,{oz:()=>g,startRegistration:()=>h});class c extends Error{constructor({message:e,code:t,cause:n,name:r}){super(e,{cause:n}),this.name=r??n.name,this.code=t}}const l=new class{createNewAbortSignal(){if(this.controller){const e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}},u=["cross-platform","platform"];function d(e){if(e&&!(u.indexOf(e)<0))return e}async function h(e){if(!a())throw new Error("WebAuthn is not supported in this browser");var t;const n={publicKey:{...e,challenge:o(e.challenge),user:{...e.user,id:(t=e.user.id,(new TextEncoder).encode(t))},excludeCredentials:e.excludeCredentials?.map(i)}};let u;n.signal=l.createNewAbortSignal();try{u=await navigator.credentials.create(n)}catch(A){throw function({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new c({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if("ConstraintError"===e.name){if(!0===n.authenticatorSelection?.requireResidentKey)return new c({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if("required"===n.authenticatorSelection?.userVerification)return new c({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if("InvalidStateError"===e.name)return new c({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if("NotAllowedError"===e.name)return new c({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if("NotSupportedError"===e.name)return 0===n.pubKeyCredParams.filter((e=>"public-key"===e.type)).length?new c({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new c({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if("SecurityError"===e.name){const t=window.location.hostname;if(!s(t))return new c({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(n.rp.id!==t)return new c({message:`The RP ID "${n.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("TypeError"===e.name){if(n.user.id.byteLength<1||n.user.id.byteLength>64)return new c({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if("UnknownError"===e.name)return new c({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return e}({error:A,options:n})}if(!u)throw new Error("Registration was not completed");const{id:h,rawId:g,response:w,type:R}=u;let m,f,y,E;if("function"==typeof w.getTransports&&(m=w.getTransports()),"function"==typeof w.getPublicKeyAlgorithm)try{f=w.getPublicKeyAlgorithm()}catch(b){p("getPublicKeyAlgorithm()",b)}if("function"==typeof w.getPublicKey)try{const e=w.getPublicKey();null!==e&&(y=r(e))}catch(b){p("getPublicKey()",b)}if("function"==typeof w.getAuthenticatorData)try{E=r(w.getAuthenticatorData())}catch(b){p("getAuthenticatorData()",b)}return{id:h,rawId:r(g),response:{attestationObject:r(w.attestationObject),clientDataJSON:r(w.clientDataJSON),transports:m,publicKeyAlgorithm:f,publicKey:y,authenticatorData:E},type:R,clientExtensionResults:u.getClientExtensionResults(),authenticatorAttachment:d(u.authenticatorAttachment)}}function p(e,t){console.warn(`The browser extension that intercepted this WebAuthn API call incorrectly implemented ${e}. You should report this error to them.\n`,t)}async function g(e,t=!1){if(!a())throw new Error("WebAuthn is not supported in this browser");let n;0!==e.allowCredentials?.length&&(n=e.allowCredentials?.map(i));const u={...e,challenge:o(e.challenge),allowCredentials:n},h={};if(t){if(!(await function(){const e=window.PublicKeyCredential;return void 0===e.isConditionalMediationAvailable?new Promise((e=>e(!1))):e.isConditionalMediationAvailable()}()))throw Error("Browser does not support WebAuthn autofill");if(document.querySelectorAll("input[autocomplete$='webauthn']").length<1)throw Error('No <input> with "webauthn" as the only or last value in its `autocomplete` attribute was detected');h.mediation="conditional",u.allowCredentials=[]}let p;h.publicKey=u,h.signal=l.createNewAbortSignal();try{p=await navigator.credentials.get(h)}catch(E){throw function({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new c({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if("NotAllowedError"===e.name)return new c({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if("SecurityError"===e.name){const t=window.location.hostname;if(!s(t))return new c({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(n.rpId!==t)return new c({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("UnknownError"===e.name)return new c({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return e}({error:E,options:h})}if(!p)throw new Error("Authentication was not completed");const{id:g,rawId:w,response:R,type:m}=p;let f;var y;return R.userHandle&&(y=R.userHandle,f=new TextDecoder("utf-8").decode(y)),{id:g,rawId:r(w),response:{authenticatorData:r(R.authenticatorData),clientDataJSON:r(R.clientDataJSON),signature:r(R.signature),userHandle:f},type:m,clientExtensionResults:p.getClientExtensionResults(),authenticatorAttachment:d(p.authenticatorAttachment)}}}}]);