"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[97127],{151165:(e,r,t)=>{t.d(r,{Z:()=>n});class o extends(()=>t(263184))().default{}const n=new o},396992:(e,r,t)=>{t.d(r,{Z:()=>n});const o=new(t(168469).q)((e=>{let{spaceId:r}=e;return r}),(async(e,r)=>{let{spaceId:o}=r;const n=await Promise.resolve().then(t.bind(t,824462)),a=await n.callApi({eventName:"getInvoiceData",environment:e,data:{spaceId:o,type:"upcoming"}});return"success"===a.type?a.data.invoiceData:void 0}));t(947115).exposeDebugValue("UpcomingInvoiceStore",o);const n=o},615389:(e,r,t)=>{t.d(r,{O:()=>n});class o extends(()=>t(263184))().default{getInitialState(){}waitUntilLoaded(){return this.waitUntil((()=>Boolean(this.state)))}}const n=new o},38812:(e,r,t)=>{t.r(r),t.d(r,{getStripe:()=>k,getStripeAppearanceV2:()=>I,injectStripe:()=>v,optionalPaymentMethodIdGivenPaymentData:()=>M,optionalStripeTokenGivenPaymentData:()=>C,stripeElementLocaleGivenNotionLocale:()=>S,translateStripeError:()=>B,useElementsOptions:()=>w});var o=()=>t(629756),n=()=>t(797894),a=t(667294),i=()=>t(219727),c=()=>t(142735),s=()=>t(846550),d=()=>t(578292);var u=()=>t(989478),l=()=>t(320080),p=()=>t(696459),m=()=>t(707513),g=()=>t(979614),x=()=>t(205228),h=()=>t(876822),f=()=>t(749826),b=t(785893);let y=null;function v(e){return function(r){const[t]=a.useState(k);return(0,b.jsx)(o().Elements,{stripe:t,children:(0,b.jsx)(o().ElementsConsumer,{children:t=>{let{stripe:o,elements:n}=t;const a={...r,stripe:o,elements:n};return(0,b.jsx)(e,{...a})}})})}}async function k(){return y||(n().loadStripe.setLoadParameters({advancedFraudSignals:!1}),y=(0,n().loadStripe)(x().default.stripe.key)),y}function S(e){switch(e){case"en-US":return"en";case"ko-KR":return"ko";case"ja-JP":return"ja";case"fr-FR":return"fr-FR";case"de-DE":return"de";case"es-ES":return"es-ES";case"es-LA":return"es-419";case"pt-BR":return"pt-BR";case"zh-CN":return"zh";case"zh-TW":return"zh-TW";case"da-DK":return"da";case"nl-NL":return"nl";case"fi-FI":return"fi";case"nb-NO":return"nb";case"sv-SE":return"sv";default:return"auto"}}function w(e){const r=(0,s().Fg)(),t=(0,i().O7)(),{type:o}=e,n="setup"===o||"subscription"===o?e.currency:void 0,m="subscription"===o?e.amount:void 0,g=(0,c().VK)((()=>{var e;return(null===(e=h().default.state)||void 0===e||null===(e=e.currentUserSettingsStore)||void 0===e||null===(e=e.getSettings())||void 0===e?void 0:e.preferred_locale)||d().al}),[]),x=(0,c().VK)((()=>"KRW"===n&&function(e){const{experimentService:r,actor:t}=e;return r.checkGate({actor:t,gateName:"kr_card_payment_method"})}({experimentService:f().default,actor:{table:u().KJ,id:t.currentUser.id??""}})),[t.currentUser,n]);return(0,a.useMemo)((()=>{const e={appearance:I(r),locale:S(g)},t={paymentMethodTypes:(0,l().Rb)({currency:n,isKrCardFeatureGateEnabled:x})};switch(o){case"address":return e;case"setup":return{...e,...t,currency:null==n?void 0:n.toLowerCase(),mode:"setup",paymentMethodCreation:"manual"};case"subscription":return{...e,...t,amount:m,currency:null==n?void 0:n.toLowerCase(),mode:"subscription",paymentMethodCreation:"manual",setupFutureUsage:"off_session"};default:(0,p().t1)(o)}}),[r,g,o,n,m,x])}function B(e,r,t){if(!t.code)return t.message||"";switch(g()._q(e,{error:t.code,stripe_decline_code:t.decline_code}),t.code){case"invalid_expiry_year_past":return r.formatMessage({id:"stripeHelpers.invalidExpiryYear.error.message",defaultMessage:"Your card's expiration year is in the past."});case"invalid_cvc":return r.formatMessage({id:"stripeHelpers.invalidCVC.error.message",defaultMessage:"Your card's security code is invalid."});case"invalid_number":return r.formatMessage({id:"stripeHelpers.invalidNumber.error.message",defaultMessage:"Your card number is not a valid credit card number."});case"card_declined":return function(e,r){switch(r){case"expired_card":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.expiredCard",defaultMessage:"Your card was declined because it is an expired card."});case"incorrect_number":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.incorrectNumber",defaultMessage:"Your card was declined because you input an incorrect number."});case"insufficient_funds":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.declinedFunds",defaultMessage:"Your card was declined because of insufficient funds."});case"invalid_cvc":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.invalidCvc",defaultMessage:"Your card was declined because you input an invalid CVC number"});case"invalid_amount":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.invalidAmount",defaultMessage:"Your card was declined because payment amount exceeds the amount that's allowed."});default:return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message",defaultMessage:"Your card was declined."})}}(r,t.decline_code);default:return t.message||""}}function I(e){return{labels:"floating",theme:"dark"===e.mode?"night":"stripe",variables:{spacingGridRow:"8px",spacingGridColumn:"8px",spacingUnit:"4px",spacingTab:"4px",colorPrimary:e.text.primary,colorPrimaryText:e.text.primary,colorText:e.text.primary,colorTextSecondary:e.text.secondary,colorTextPlaceholder:e.text.tertiary,colorIcon:e.text.primary,colorIconCheckmark:e.icon.contrast,colorDanger:e.text.uiRedPrimary,colorBackground:e.whiteButtonBackground,colorIconTabHover:e.text.primary,colorIconTabSelected:e.text.uiBluePrimary,colorIconChevronDown:e.text.primary,fontFamily:m().Gl.sans,fontWeightLight:`${m().Ue.light}`,fontWeightNormal:`${m().Ue.regular}`,fontWeightMedium:`${m().Ue.medium}`,fontWeightBold:`${m().Ue.semibold}`,fontSizeBase:"14px",fontSizeSm:"12px",colorLogo:e.mode,colorLogoBlock:e.mode,colorLogoTab:e.mode,colorLogoTabSelected:e.mode,borderRadius:"6px"},rules:{".Tab":{padding:"10px 16px 10px 10px",fontSize:"13px",fontWeight:"510",lineHeight:"16px",color:e.text.primary,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",backgroundColor:e.whiteButtonBackground},".Tab:hover":{backgroundColor:e.whiteButtonHoveredBackground,color:e.text.primary},".Tab:focus":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.primary}`,boxShadow:e.outlineBlueInputBoxShadow},".Tab--selected, .Tab--selected:hover, .Tab--selected:active":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.uiBluePrimary}`,color:e.text.primary,boxShadow:"none",outline:"none"},".Tab--selected:focus":{border:`1px solid ${e.stroke.uiBluePrimary}`,boxShadow:e.outlineBlueInputBoxShadow},".Input":{fontSize:"14px",lineHeight:"18px",letterSpacing:"-0.154px",padding:"4px 8px",boxShadow:"none",backgroundColor:e.surface.wash,border:`1px solid ${e.stroke.primary}`,color:e.text.primary},".Input--invalid":{border:"none",color:e.text.primary,boxShadow:e.outlineRedInputBoxShadow},".Label":{fontSize:"14px",lineHeight:"18px",letterSpacing:"-0.154px",color:e.text.tertiary},".Label--floating":{fontSize:"10px",fontWeight:"510",lineHeight:"13px",letterSpacing:"0.12px",marginTop:"4px",transition:"all 200ms ease",color:e.text.secondary},".Error":{fontSize:"12px",fontWeight:"400",lineHeight:"15px",color:e.text.uiRedPrimary},".CodeInput":{backgroundColor:e.surface.wash,border:`1px solid ${e.stroke.primary}`,boxShadow:"none"},".PickerItem, .PickerItem--selected":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",color:e.text.primary},".PickerItem:hover, .PickerItem--selected:hover":{backgroundColor:e.whiteButtonHoveredBackground,color:e.text.primary,border:`1px solid ${e.stroke.primary}`,boxShadow:"none"},".PickerItem--new":{fontSize:"14px",fontWeight:"500",lineHeight:"18px",color:e.text.primary},".PickerItem--highlight, .PickerItem--highlight:hover":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.uiBluePrimary}`,boxShadow:"none"},".PickerItem--highlight:hover":{backgroundColor:e.whiteButtonHoveredBackground},".TermsText":{color:e.text.secondary,fontSize:"12px",fontWeight:"400",lineHeight:"15px"},".CheckboxLabel":{color:e.text.primary,fontSize:"12px",fontWeight:"500",lineHeight:"15px"},".Action, .MenuAction":{color:e.text.primary,fontWeight:"400"},".Action:hover, .MenuAction:hover":{backgroundColor:e.buttonHoveredBackground},".BlockAction:focus, .CodeInput:focus, .Input:focus,.CheckboxInput:focus, .PickerItem:focus, .PickerAction:focus,.MenuAction:focus, .Action:focus, .SecondaryLink:focus":{boxShadow:e.outlineBlueInputBoxShadow},".MenuIcon, .MenuIcon:hover":{fill:e.text.primary},".Block":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",color:e.text.primary}}}}function C(e){return"stripeToken"===(null==e?void 0:e.type)?e.value:void 0}function M(e){return"paymentMethodId"===(null==e?void 0:e.type)?e.value:void 0}}}]);