"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[6900],{733246:(e,t,o)=>{o.r(t);function n(e){(0,o(353329).CM)(e)&&o(11422).Z.setState(e)}(0,o(947115).exposeDebugValue)("setWorkflowTemplatePersona",(e=>n(e)))},11422:(e,t,o)=>{o.d(t,{Z:()=>r});class n extends(()=>o(263184))().default{getInitialState(){}}const r=new n},347628:(e,t,o)=>{o.d(t,{Ig:()=>a,Vr:()=>r,X$:()=>l,b:()=>n});const n="notion://projects_app",r="notion://wiki_app",l="notion://docs_app",a="notion://meetings_app"},353329:(e,t,o)=>{o.d(t,{CM:()=>j,DY:()=>k,EL:()=>c,HR:()=>y,IH:()=>w,Js:()=>M,U2:()=>v,Wl:()=>q,Yg:()=>s,Zl:()=>b,aJ:()=>f,dI:()=>h,iI:()=>_,kw:()=>C,ni:()=>m,py:()=>$,qu:()=>g,uC:()=>T,ym:()=>d,yw:()=>I});o(821057),o(670560),o(267602),o(653476),o(241792),o(228244);var n=()=>o(696459),r=()=>o(226413),l=()=>o(578292),a=()=>o(197874),i=()=>o(780741),u=()=>o(191234);const p=!1;function c(e){let{template:t,logger:o}=e;const n=[],r=t.dependencyMap??{},l=e=>{n.push(...Object.values(r).map((t=>({templateId:t,debugSource:e}))))};if("property"===t.type&&"formula"===t.value.type)l("formula");else if("automation"===t.type)l("automation");else if("collection_view"===t.type){const e=s({template:t,dependencyMap:r,logger:o});n.push(...e)}return n}function s(e){var t,o,n,r;let{template:l,dependencyMap:a,logger:i}=e;const u=[],c=(e,t)=>{if(!e)return;const o=a[`property:${e}`];o?u.push({templateId:o,debugSource:t}):i&&i.warn(`Unable to find template mapping for property "${e}" from ${t}`)};if(c(null===(t=l.value.format)||void 0===t||null===(t=t.collection_group_by)||void 0===t?void 0:t.property,"collection_group_by"),c(null===(o=l.value.format)||void 0===o||null===(o=o.board_columns_by)||void 0===o?void 0:o.property,"board_columns_by"),c(null===(n=l.value.query2)||void 0===n?void 0:n.calendar_by,"calendar_by"),c(null===(r=l.value.query2)||void 0===r?void 0:r.timeline_by,"timeline_by"),p)for(const p of(null===(s=l.value.query2)||void 0===s?void 0:s.sort)??[]){var s;c(p.property,"sort")}for(const p of(null===(f=l.value.format)||void 0===f?void 0:f.property_filters)??[]){var f;c(p.filter.property,"filter")}return u}function f(e,t){return`${e}:${t}`}class m{constructor(e){this.fromIdOfType=e=>{const{templateId:t,type:o}=e,n=this.fromId(t);if(n.type!==o)throw new Error(`Expected template type ${o} but got ${n.type}`);return n},this.featureFromId=e=>{const t=this.fromId(e);if(!b(t))throw new Error(`${t.type} is not a feature template`);return t},this.allOfType=e=>{const{templateIds:t,type:o}=e;return t.map((e=>this.fromId(e))).filter((e=>v(e,o)))},this.fromId=e}}function d(e){var t;const{type:o}=e;switch(o){case"property":return e.value.description;case"collection_view":return null===(t=e.value.format)||void 0===t?void 0:t.description;case"collection":case"layout":case"compound":case"block":case"automation":return e.description;default:(0,n().t1)(o)}}function y(e){var t;const{template:o,isPlural:n,isUpperCase:r}=e,{targetCollection:i}=o.value;let u;return u=null!==(t=i.format)&&void 0!==t&&t.item_name_config_v2?(0,a().Tg)({intl:(0,l().vc)(),isPlural:n,itemNameConfigV2:i.format.item_name_config_v2}):n?i.itemName.plural:i.itemName.singular,r?u.charAt(0).toLocaleUpperCase()+u.slice(1):u.toLocaleLowerCase()}function v(e,t){return e.type===t}function b(e){return u().hM.some((t=>t===e.type))}function _(e){return e.type in u().lz}function g(e){return!(!b(e)||"compound"===e.type)}function h(e,t){return e.value.type===t}function I(e){return"property"===e.type&&"relation"===e.value.type&&Boolean(e.relatedCollectionTemplateId)}function w(e){return"property"===e.type&&"button"===e.value.type&&Boolean(e.buttonAutomationId)}function C(e){return(0,r().t)(e.value)}function k(e){let{object:t,callback:o}=e;if(!(0,n().Kn)(t))return;const r=t.property;r&&"string"==typeof r&&"title"!==r&&o(t);for(const n of Object.values(t))k({object:n,callback:o})}const $=["timeline_by","timeline_by_end","calendar_by"];function T(e,t){return e.filter((e=>e.optionality===t)).map((e=>e.pointer))}function M(e){return e.value.templateItems.map((e=>e.pointer))}function j(e){return u().H0.some((t=>t===e))}function q(e){return e===i()._q}}}]);