"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[35332],{622674:(e,t,a)=>{a.d(t,{p:()=>i});a(667294);var r=a(785893);const i=(0,a(827282).IU)("starFilled",{viewBox:"0 0 24 24",svg:(0,r.jsx)("path",{d:"M4.603 22.837c.375.277.826.2 1.4-.22l6.002-4.411 6.003 4.41c.561.42 1.024.498 1.387.221.375-.276.463-.73.232-1.403l-2.346-7.075 6.047-4.366c.572-.41.77-.83.627-1.271-.143-.432-.55-.653-1.255-.653l-7.424.045-2.269-7.108C12.787.32 12.457 0 12.005 0c-.463 0-.782.32-1.002 1.006l-2.27 7.108-7.423-.045c-.716 0-1.123.221-1.266.653-.144.442.066.862.638 1.27l6.036 4.367-2.335 7.075c-.231.674-.143 1.127.22 1.403z"})})},506037:(e,t,a)=>{a.d(t,{O:()=>o});var r=()=>a(924172),i=()=>a(824462),n=()=>a(367666);async function o(e){const{environment:t,productId:a,productTable:r,spaceId:o}=e,s=await i().callApi({eventName:"getMarketplaceAcquisitionByProduct",environment:t,data:{productId:a,productTable:r,spaceId:o,includeReview:!0}});if("success"===s.type&&s.data.success){const e=s.data.acquisition,t=s.data.hasSucceededAcquisition,a=s.data.isTemplateCreator;return e&&n().Z.setReviewId(e.id,e.review_id),{acquisition:e,hasSucceededAcquisition:t,isTemplateCreator:a,isEligibleToReview:l({isTemplateCreator:a,acquisition:e})}}return{acquisition:void 0,hasSucceededAcquisition:!1,isTemplateCreator:!1,isEligibleToReview:!1}}function l(e){var t;let{isTemplateCreator:a,acquisition:i}=e;if(!i)return!1;return!(0,r().OB)((null===(t=i.attributes)||void 0===t?void 0:t.succeeded_time)??i.created_time)&&!a}},541283:(e,t,a)=>{a.d(t,{D:()=>n});a(667294);var r=()=>a(846550),i=a(785893);function n(e){const{overrideStyles:t={},children:a}=e,n=(0,r().yK)((e=>({badgeContainer:{display:"flex",padding:"2px 6px",gap:10,borderRadius:6,backdropFilter:"blur(32px)"}})),[]);return(0,i.jsx)("div",{style:{...n.badgeContainer,...t},children:a})}},314072:(e,t,a)=>{a.d(t,{K7:()=>c,Zw:()=>p,wt:()=>d});a(667294);var r=()=>a(846550),i=()=>a(154186),n=()=>a(518242),o=()=>a(661641),l=()=>a(644248),s=a(785893);function d(e){const{children:t,onClick:a,width:n,height:o,shouldHideBorders:d=!1,href:c,orientation:p="vertical",style:u,isDisabled:m=!1,hoveredStyle:g,pressedStyle:h}=e,[x,v]=(0,l().C)(),y=function(e){const{width:t,height:a,orientation:i,isHovered:n,isDisabled:o}=e;return(0,r().yK)((e=>({marketplaceCardWrapper:{position:"relative",width:"100%",display:"flex"},marketplaceCardContainer:{position:"relative",borderRadius:"12px",transition:"background 20ms ease-in 0s",display:"flex",flexDirection:"vertical"===i?"column":"row",cursor:"pointer",overflow:"hidden",width:t??252,height:a??"auto",..."dark"===e.mode&&{background:"rgba(255, 255, 255, 0.05)"},flex:1},marketplaceCardContainerHovered:{background:"dark"===e.mode?"rgba(255, 255, 255, 0.05)":"none"},marketplaceCardContainerPressed:{background:"dark"===e.mode?"rgba(255, 255, 255, 0.05)":"none"},boxShadow:{position:"absolute",pointerEvents:"none",borderRadius:12,inset:0,zIndex:1,..."dark"===e.mode?{boxShadow:n&&!o?"rgba(255, 255, 255, 0.05) 0px 0px 0px 1px inset":"unset"}:{boxShadow:n&&!o?"0px 12px 32px 0px rgba(0, 0, 0, 0.03), 0px 0px 0px 1px rgba(0, 0, 0, 0.08)":"0px 12px 32px 0px rgba(0, 0, 0, 0.02), 0px 0px 0px 1px rgba(0, 0, 0, 0.05)"}}})),[i,t,a,n,o])}({width:n,height:o,orientation:p,isHovered:v,isDisabled:m});return(0,s.jsxs)("div",{ref:x,style:y.marketplaceCardWrapper,children:[(0,s.jsx)(i().Z,{style:{...y.marketplaceCardContainer,...u},hoveredStyle:{...y.marketplaceCardContainerHovered,...g},pressedStyle:{...y.marketplaceCardContainerPressed,...h},onClick:a,href:c,disabled:m,children:t}),!d&&(0,s.jsx)("div",{style:y.boxShadow})]})}function c(e){const{imageHeight:t,imageWidth:a,src:i,overlay:o,alt:d,shouldShowBorders:c=!1,imageContainerStyle:p={},imageStyle:u={},isDisabled:m=!1,imageBorderRadius:g=12,href:h}=e,[x,v]=(0,l().C)(),y=function(e){const{isHovered:t,imageHeight:a,src:i,href:n,borderRadius:o,isDisabled:l,imageWidth:s}=e;return(0,r().yK)((e=>({marketplaceCardImageContainer:{position:"relative",borderRadius:o,transition:"background 20ms ease-in 0s",cursor:n&&"pointer"},marketplaceCardImageOverlay:{position:"absolute",top:30,left:16},marketplaceCardImage:{borderRadius:o,objectPosition:"inherit",...void 0!==a?{height:a}:{height:"auto"},...void 0!==s?{width:s}:{width:"inherit"},...!i&&{background:e.surface.wash},..."dark"===e.mode&&{border:"1px solid",borderColor:e.marketplaceEditorial.border.white,...t&&{borderColor:e.marketplaceEditorial.border.hover.white}}},marketplaceCardImageBoxContainer:{objectPosition:"inherit"},boxShadow:{position:"absolute",pointerEvents:"none",borderRadius:o,inset:0,zIndex:1,..."dark"===e.mode?{boxShadow:t&&!l?"rgba(255, 255, 255, 0.05) 0px 0px 0px 1px inset":"unset"}:{boxShadow:t&&!l?"0px 12px 32px 0px rgba(0, 0, 0, 0.03), 0px 0px 0px 1px rgba(0, 0, 0, 0.08)":"0px 12px 32px 0px rgba(0, 0, 0, 0.02), 0px 0px 0px 1px rgba(0, 0, 0, 0.05)"}}})),[n,t,a,i,o,l,s])}({isHovered:v,imageHeight:t,imageWidth:a,src:i,isDisabled:m,href:h,borderRadius:g}),b=(0,s.jsxs)("div",{style:{...y.marketplaceCardImageContainer,...p},ref:x,children:[i?(0,s.jsx)(n().ZP,{src:i,style:{...y.marketplaceCardImage,...u},placeholderLoadedStyle:y.marketplaceCardImageBoxContainer,loading:"lazy",alt:d}):(0,s.jsx)("div",{style:{...y.marketplaceCardImage,...u}}),o&&(0,s.jsx)("div",{style:y.marketplaceCardImageOverlay,children:o}),c&&(0,s.jsx)("div",{style:y.boxShadow})]});return h?(0,s.jsx)("a",{href:h,children:b}):b}function p(e){const{title:t,subtitle:a,children:i,style:n}=e,l=(0,r().yK)((()=>({marketplaceCardContentContainer:{position:"relative",padding:"12px 16px 16px 16px"},marketplaceCardTitleContainer:{display:"flex",flexDirection:"column",gap:"2px",height:"100%"}})),[]);return(0,s.jsxs)("div",{style:{...l.marketplaceCardContentContainer,...n},children:[(0,s.jsxs)("div",{style:l.marketplaceCardTitleContainer,children:["string"==typeof t?(0,s.jsx)(o().q,{styleName:"Body-14px/Regular",colorName:"primary",children:t}):(0,s.jsx)(s.Fragment,{children:t}),a?"string"==typeof a?(0,s.jsx)(o().q,{styleName:"UISmall-12px/Medium",colorName:"secondary",children:a}):a:null]}),i]})}},786:(e,t,a)=>{a.d(t,{e:()=>o});a(667294);var r=()=>a(846550),i=()=>a(668001),n=a(785893);function o(e){const{width:t,height:a,borderRadius:o,marginBottom:l}=e,s=function(e){const{width:t,height:a,borderRadius:i,marginBottom:n}=e;return(0,r().yK)((()=>({loadingText:{width:t??120,height:a??14,borderRadius:i??2,marginBottom:n??0}})),[t,a,i,n])}({width:t,height:a,borderRadius:o,marginBottom:l});return(0,n.jsx)(i().Z,{style:s.loadingText})}},355582:(e,t,a)=>{a.d(t,{Bt:()=>u});a(667294);var r=()=>a(846550),i=()=>a(661641),n=()=>a(981583),o=()=>a(466431),l=()=>a(60090),s=()=>a(314072),d=()=>a(832069),c=()=>a(532720),p=a(785893);function u(e){var t;const{template:a,width:i="100%",showCreatorAvatar:n=!0}=e,l=(0,r().yK)((e=>({marketplaceTemplateCardImage:{boxShadow:"dark"===e.mode?"rgba(255, 255, 255, 0.05) 0px 0px 0px 1px inset":"0px 12px 32px 0px rgba(0, 0, 0, 0.02), 0px 0px 0px 1px rgba(0, 0, 0, 0.05)"},marketplaceTemplateCardContainer:{overflow:"initial",background:"dark"===e.mode?"rgba(255, 255, 255, 0.05)":"none",border:"dark"===e.mode?"1px solid rgba(255, 255, 255, 0.055)":"1px solid rgba(227, 226, 224, 0.5)"},noBackground:{background:"none"},pressed:{background:"dark"===e.mode?"rgba(255, 255, 255, 0.13)":e.buttonHoveredBackground,border:"dark"===e.mode?"1px solid rgba(255, 255, 255, 0.13)":"1px solid rgba(227, 226, 224, 1)"},mobileImageContainer:{background:e.surface.wash,padding:"18px 20px 0px 21px",width:"144px",height:"144px",display:"flex",justifyContent:"flex",alignItems:"center",overflow:"hidden",borderTopLeftRadius:12,borderBottomLeftRadius:12,borderRadius:"unset",minWidth:"144px"}})),[]),d=(0,o().q)();return(0,p.jsxs)(s().wt,{width:i,orientation:"horizontal",style:l.marketplaceTemplateCardContainer,hoveredStyle:l.noBackground,shouldHideBorders:!0,onClick:async()=>{var e;await(null===(e=d.handleTemplateClick)||void 0===e?void 0:e.call(d,a))},pressedStyle:l.pressed,children:[(0,p.jsx)(s().K7,{src:(null===(t=a.attributes.mobile_image)||void 0===t?void 0:t.url)||"",imageHeight:"auto",imageStyle:l.marketplaceTemplateCardImage,imageContainerStyle:l.mobileImageContainer}),(0,p.jsx)(m,{template:a,price:a.price??0,showCreatorAvatar:n})]})}function m(e){const{price:t,showCreatorAvatar:a,template:i}=e,n=(0,r().yK)((()=>({marketplaceTemplateTitleContainer:{padding:16,display:"flex",justifyContent:"space-between",flexDirection:"column"}})),[]);return(0,p.jsxs)("div",{style:n.marketplaceTemplateTitleContainer,children:[(0,p.jsx)(g,{template:i,showCreatorAvatar:a}),(0,p.jsx)(c().J,{price:t})]})}function g(e){const{showCreatorAvatar:t,template:a}=e,o=(0,r().yK)((()=>({avatar:{display:"flex",alignItems:"center",gap:6},marketplaceTemplateMetadataContainer:{display:"flex",flexDirection:"column",gap:"4px"},marketplaceTemplateTextContainer:{display:"flex",flexDirection:"column"},marketplaceTemplateName:{display:"flex",flexWrap:"wrap",gap:6}})),[]),s=(0,l().kl)(a.creator);return(0,p.jsxs)("div",{style:o.marketplaceTemplateMetadataContainer,children:[(0,p.jsxs)("div",{style:o.marketplaceTemplateName,children:[t&&(0,p.jsx)(n().Z,{size:16,avatar:s}),(0,p.jsx)(i().q,{styleName:"UIRegular-14px/Medium",colorName:"primary",children:a.name})]}),(0,p.jsx)(d().vR,{template:a})]})}},832069:(e,t,a)=>{a.d(t,{vR:()=>_,vS:()=>k});a(398858),a(461318),a(33228),a(667294);var r=()=>a(219727),i=()=>a(846550),n=()=>a(788860),o=()=>a(696459),l=()=>a(661641),s=()=>a(981583),d=()=>a(622674),c=()=>a(60090),p=()=>a(818036),u=()=>a(473147),m=()=>a(580294),g=()=>a(602422),h=()=>a(786),x=()=>a(314072),v=()=>a(355582),y=()=>a(163505),b=()=>a(532720),f=a(785893);function k(e){var t,a;const{template:n,width:l="100%",orientation:s="vertical",showCreatorAvatar:d=!0,showNewBadge:c=!0,titleStyles:p={},isDisabled:m=!1,imageBorderRadius:h,customTitle:b,shouldHideBorders:k,onClick:w,shouldUseHref:_=!0}=e,T=(0,r().O7)().device.isMobile,j=(0,g().d)(),I=(0,i().yK)((()=>({marketplaceTemplateCardImage:{aspectRatio:"16 / 10"},marketplaceTemplateCardContainer:{overflow:"initial",background:"none"},marketplaceTemplateCardContainerHorizontal:{overflow:"initial",background:"none",flexDirection:"row",justifyContent:"space-between",padding:"16px"},noBackground:{background:"none"},marketplaceHorizontalTemplateCardContainer:{flexDirection:"row"}})),[]);if(T)return(0,f.jsx)(v().Bt,{template:n,width:l,showCreatorAvatar:d});switch(s){case"horizontal":return(0,f.jsxs)(x().wt,{width:l,shouldHideBorders:k,href:_?(0,u().aD)(n.slug,j,n.creator):void 0,style:I.marketplaceTemplateCardContainerHorizontal,hoveredStyle:I.noBackground,pressedStyle:I.noBackground,isDisabled:m,onClick:w,children:[(0,f.jsx)(x().Zw,{style:p,title:void 0!==b?b:(0,f.jsx)(C,{template:n,showCreatorAvatar:d,orientation:s})}),(0,f.jsx)(x().K7,{src:(null===(t=n.attributes.image)||void 0===t?void 0:t.url)||"",imageHeight:"auto",imageWidth:170,shouldShowBorders:!k,imageStyle:I.marketplaceTemplateCardImage,imageBorderRadius:h,isDisabled:m}),c&&(0,u().ug)(n)&&(0,f.jsx)(y().V,{})]});case"vertical":return(0,f.jsxs)(x().wt,{width:l,shouldHideBorders:!0,href:_?(0,u().aD)(n.slug,j,n.creator):void 0,style:I.marketplaceTemplateCardContainer,hoveredStyle:I.noBackground,pressedStyle:I.noBackground,isDisabled:m,onClick:w,children:[(0,f.jsx)(x().K7,{src:(null===(a=n.attributes.image)||void 0===a?void 0:a.url)||"",imageHeight:"auto",shouldShowBorders:!0,imageStyle:I.marketplaceTemplateCardImage,imageBorderRadius:h,isDisabled:m}),(0,f.jsx)(x().Zw,{style:p,title:void 0!==b?b:(0,f.jsx)(C,{showCreatorAvatar:d,template:n,orientation:s})}),c&&(0,u().ug)(n)&&(0,f.jsx)(y().V,{})]});default:(0,o().t1)(s)}}function C(e){const{showCreatorAvatar:t,template:a,orientation:r}=e,n=function(e){const{orientation:t}=e;return(0,i().yK)((()=>({marketplaceTemplateTitleContainer:{display:"flex",height:"100%",flexDirection:"vertical"===t?"row":"column",justifyContent:"space-between",marginRight:-10,marginLeft:-10}})),[t])}({orientation:r});return(0,f.jsxs)("div",{style:n.marketplaceTemplateTitleContainer,children:[(0,f.jsx)(w,{showCreatorAvatar:t,template:a}),(0,f.jsx)(b().J,{price:a.price??0})]})}function w(e){const{template:t,showCreatorAvatar:a}=e,r=j(),i=(0,c().kl)(t.creator);return(0,f.jsxs)("div",{style:r.marketplaceTemplateMetadataContainer,children:[(0,f.jsxs)("div",{style:r.marketplaceTemplateNameContainer,children:[a&&(0,f.jsx)(s().Z,{size:22,avatar:i}),(0,f.jsx)("div",{style:r.marketplaceTemplateTextContainer,children:(0,f.jsx)("div",{style:r.marketplaceTemplateTitle,children:(0,f.jsx)(l().q,{styleName:"UIRegular-14px/Medium",colorName:"primary",style:r.marketplaceTemplateTitleText,children:t.name})})})]}),(0,f.jsx)(_,{template:t})]})}function _(e){const{template:t}=e,a=j(),{isReady:r,ratingsAttributes:i,checkoutEnabled:o}=(0,m().q)({listingId:t.listing_id}),l=t.attributes.purchase_url;if(!r)return(0,f.jsx)(h().e,{});if(l&&!o){const e=new URL(l).host;return e?(0,f.jsx)(T,{text:e}):null}const s=i?(0,p().k)(i):void 0;return(0,f.jsx)("div",{style:a.installationsAndRatingsContainer,children:void 0!==s&&(0,f.jsx)(T,{icon:(0,f.jsx)("span",{children:(0,d().p)(a.starIcon)}),text:(0,f.jsx)(n().BK,{value:s,minimumFractionDigits:1,maximumFractionDigits:1})})})}function T(e){const t=j(),{text:a,icon:r}=e;return(0,f.jsxs)("div",{style:t.iconTextContainer,children:[r,(0,f.jsx)(l().q,{styleName:"UISmall-12px/Medium",colorName:"secondary",children:a})]})}function j(){return(0,i().yK)((e=>({marketplaceTemplateNameContainer:{display:"flex",alignItems:"center",gap:"8px"},marketplaceTemplateMetadataContainer:{display:"flex",flexDirection:"column",gap:6},marketplaceTemplateTextContainer:{display:"flex",flexDirection:"column"},marketplaceTemplateTitle:{display:"flex",alignItems:"center"},installationsAndRatingsContainer:{display:"flex",alignItems:"center",gap:8},iconTextContainer:{display:"flex",alignItems:"center",gap:2},marketplaceTemplateTitleText:{overflow:"hidden",textWrap:"nowrap",maxWidth:"210px",textOverflow:"ellipsis"},starIcon:{width:10,height:10,fill:e.icon.tertiary}})),[])}},163505:(e,t,a)=>{a.d(t,{V:()=>s,b:()=>d});a(667294);var r=()=>a(846550),i=()=>a(788860),n=()=>a(661641),o=()=>a(541283),l=a(785893);function s(){const e=(0,r().yK)((e=>({badgeContainer:{position:"absolute",top:12,right:12}})),[]);return(0,l.jsx)(d,{overrideStyles:e.badgeContainer,children:(0,l.jsx)(i()._H,{id:"inApp.marketplace.template.badge.new.label",defaultMessage:"New"})})}function d(e){let{children:t,overrideStyles:a}=e;const i=(0,r().yK)((e=>({badgeContainer:{background:`linear-gradient(0deg, ${e.tint.uiBlueHover} 0%, ${e.tint.uiBlueHover} 100%), #FFF`}})),[]);return(0,l.jsx)(o().D,{overrideStyles:{...i.badgeContainer,...a},children:(0,l.jsx)(n().q,{styleName:"UIRegular-14px/Medium",colorName:"uiBluePrimary",children:t})})}},532720:(e,t,a)=>{a.d(t,{J:()=>c});a(667294);var r=()=>a(219727),i=()=>a(846550),n=()=>a(793331),o=()=>a(788860),l=()=>a(661641),s=()=>a(541283),d=a(785893);function c(e){const{price:t}=e,a=(0,r().O7)(),i=(0,o().YB)(),s=a.device.isMobile;return(0,d.jsx)(p,{children:(0,d.jsx)(l().q,{styleName:"UIRegular-14px/Medium",colorName:s?"primary":"secondary",children:0!==t?(0,d.jsx)(n().W,{cost:{amount:100*t,currencyCode:"USD"},intl:i,trailingZeroDisplay:"stripIfInteger"}):(0,d.jsx)(o()._H,{id:"inApp.marketplace.listing.free",defaultMessage:"Free"})})})}function p(e){const{children:t}=e,a=(0,r().O7)(),n=(0,i().yK)((e=>({badgeContainer:{background:e.fill.lightGraySecondary,height:"fit-content",width:"fit-content"}})),[]);return a.device.isMobile?(0,d.jsx)(d.Fragment,{children:t}):(0,d.jsx)(s().D,{overrideStyles:n.badgeContainer,children:t})}},466431:(e,t,a)=>{a.d(t,{q:()=>T,u:()=>j});var r=a(667294),i=()=>a(219727),n=()=>a(142735),o=()=>a(565630),l=()=>a(801812),s=()=>a(578292),d=()=>a(331749),c=()=>a(396136),p=()=>a(416641),u=()=>a(346249),m=()=>a(788860),g=()=>a(497065),h=()=>a(990966),x=()=>a(594546),v=()=>a(21688),y=()=>a(826955),b=()=>a(506037),f=()=>a(791642),k=()=>a(356140),C=()=>a(602422),w=a(785893);const _=r.createContext({view:{name:"marketplace",pageType:"templates"},setView:void 0,handleTemplateClick:void 0});function T(){return r.useContext(_)}function j(e){const{children:t,onTemplateClick:a,onPageChange:T}=e,j=(0,i().O7)(),I=(0,i().Fy)(),S=(0,k().W)(),[R,B]=r.useState({name:"marketplace",pageType:"templates"}),q=r.useCallback((async e=>{if(void 0===e.block_id||!S||!(0,u().e_)(e))return;const t=new(y().G)(j,{table:c().iU,id:e.block_id});if(await t.waitUntil((()=>t.isReady())),t.isDefined()){h().blurActiveElement();const r=await(0,b().O)({environment:j,productId:e.id,productTable:p().nE,spaceId:S});a({name:e.name,id:e.block_id,previewRootId:e.block_id,rootId:e.block_id,spaceId:t.getSpaceId(),marketplaceTemplateMetadata:{requiresEmailCapture:"required"===e.attributes.email_requirement||"optional"===e.attributes.email_requirement,marketplaceListingId:e.listing_id,isMobileMarketplaceTemplate:!0,isPaidTemplate:void 0!==e.price&&e.price>0,userHasAcquiredTemplate:r.hasSucceededAcquisition,paidTemplatePrice:e.price}}),(0,x().j)({environment:j,event:{eventName:"mobile_marketplace_visit",eventProperties:{marketplace_page_type:"templates",product_slug:e.slug,is_previewing:!0,from:{marketplace_page_type:"templates"===R.pageType?"home":R.pageType,product_slug:R.slug,search_query:R.query}}}})}else 0}),[a,S,j,R]),D=r.useCallback((async e=>{const t="web-mobile"===I.deviceType,a=e.slug;t?g().c4({environment:j,url:`/marketplace/templates/${a}`}):await q(e)}),[j,I,q]),N=r.useCallback((e=>{B((t=>(t.pageType!==e.pageType&&((0,x().j)({environment:j,event:{eventName:"mobile_marketplace_visit",eventProperties:{marketplace_page_type:"templates"===e.pageType?"home":e.pageType,product_slug:e.slug,search_query:t.query,from:{marketplace_page_type:"templates"===t.pageType?"home":t.pageType,product_slug:t.slug,search_query:t.query}}}}),T()),e)))}),[T,j]),A=function(){const e=(0,i().O7)(),t="web-mobile"===e.device.deviceType,a=(0,m().YB)(),c=(0,k().W)(),{pageType:p,slug:u}=(0,C().d)(),h=(0,n().VK)((()=>v().Z.state.open),[]),x=(0,o().D9)(h),y=p&&(0,d().GQ)(p)&&(0,d().H1)(p),[b,w]=r.useState(null);return(0,r.useEffect)((()=>{t&&p&&(0,d().GQ)(p)&&!y&&g().c4({environment:e,url:"/marketplace",redirect:!0})}),[t,y,e,p]),(0,l().r5)((async()=>{if(!t&&y)return null;if("templates"===p&&u){const t=await(0,f().N9)({environment:e,slug:u,locale:(0,s().E2)(a),currentSpaceId:c});w(t??null)}return null}),[u,e,a,c,t,y,p]),(0,r.useEffect)((()=>{y&&x&&!h&&b&&t&&(w(null),g().c4({environment:e,url:"/marketplace"}))}),[e,h,b,x,y,t]),b}();(0,r.useEffect)((()=>{A&&q(A)}),[A,q]);const H=r.useMemo((()=>({view:R,setView:N,handleTemplateClick:D})),[R,N,D]);return(0,w.jsx)(_.Provider,{value:H,children:t})}_.displayName="MarketplaceMobileContext"},60090:(e,t,a)=>{a.d(t,{CN:()=>d,eS:()=>u,kl:()=>s,qL:()=>c,tS:()=>p});a(398858),a(461318),a(33228);var r=()=>a(836273),i=()=>a(513670),n=()=>a(205228),o=()=>a(482001);const l=["creators"];function s(e){var t,a;return e?{email:null===(t=e.attributes)||void 0===t?void 0:t.contactEmail,name:e.name,avatarUrl:(null===(a=e.attributes)||void 0===a||null===(a=a.image)||void 0===a?void 0:a.url)??""}:{email:"",name:"",avatarUrl:""}}function d(e){const t=e.replace(/(^\w+:|^)\/\//,"").replace(/www\./,"");return i().lf(t,"/")}function c(e,t){const a=new URL(`\n\t\t${n().default.domainBaseUrl}${r()._j.marketplace}/creators/${encodeURIComponent(e)}`);if(t&&t.pageType&&l.includes(t.pageType)){const e=(0,o().K)(t.pageType,"");e&&a.searchParams.append("cr",encodeURIComponent(e))}return t&&t.crumbs&&(a.searchParams.has("cr")||t.crumbs===`cre:${e}`||a.searchParams.append("cr",encodeURIComponent(t.crumbs))),a.toString()}function p(e){const{filters:t}=e,a=new URL(`${n().default.domainBaseUrl}${r()._j.marketplace}/creators`);return t&&(t.orderBy&&"number_of_duplicates"!==t.orderBy&&a.searchParams.append("orderBy",encodeURIComponent(t.orderBy)),t.qualification&&"all"!==t.qualification&&a.searchParams.append("qualification",encodeURIComponent(t.qualification))),a.toString()}function u(e){const{qualification:t,orderBy:a}=e;return{qualification:(r=t,"certified"===r||"notion_recommended"===r?t:"all"),orderBy:m(a)?a:"number_of_duplicates"};var r}function m(e){return"number_of_templates"===e||"number_of_duplicates"===e||"alphabetical"===e}},818036:(e,t,a)=>{function r(e){const t=(null==e?void 0:e.rating_count)??0,a=(null==e?void 0:e.rating_sum)??0;if(0!==t&&0!==a)return a/t}a.d(t,{k:()=>r})},580294:(e,t,a)=>{a.d(t,{q:()=>l});var r=()=>a(219727),i=()=>a(142735),n=()=>a(355732),o=()=>a(983186);function l(e){const{listingId:t}=e,a=(0,r().O7)(),l=(0,i().VK)((()=>{if(!t)return!0;const e=new(o().y)(a,{table:n().Vj,id:t});return e.isReady()&&e.isDefined()}),[a,t]),s=(0,i().VK)((()=>{if(!t||!l)return{installationCount:0,ratingsAttributes:void 0,checkoutEnabled:!1};const e=new(o().y)(a,{table:n().Vj,id:t});return{installationCount:e.getInstallationCount()||0,ratingsAttributes:e.getRatingsAttributes(),checkoutEnabled:Boolean(e.getCheckoutEnabled())}}),[a,l,t]);return{isReady:l,...s}}},924172:(e,t,a)=>{a.d(t,{AG:()=>f,Gp:()=>b,Hs:()=>x,L8:()=>g,OB:()=>k,St:()=>p,d8:()=>s,n$:()=>C});var r=()=>a(696459),i=()=>a(575861),n=()=>a(431595),o=()=>a(567237);const l=15;function s(e){if(!o().ZK.includes(e))throw new(n().XV)("Rating must be an integer between 1 and 5.",{type:"marketplace_listing_review_invalid_rating"});return!0}const d=3,c=100;function p(e){if(e.length<d)throw new(n().XV)("Title too short",{type:"marketplace_listing_review_title_too_short"});if(e.length>c)throw new(n().XV)("Title too long",{type:"marketplace_listing_review_title_too_long"})}const u=50,m=1500;function g(e){if(e.length<u)throw new(n().XV)("Description too short",{type:"marketplace_listing_review_description_too_short"});if(e.length>m)throw new(n().XV)("Title too long",{type:"marketplace_listing_review_description_too_long"})}const h=40;function x(e){if(0===e.length)throw new(n().XV)("Name is required",{type:"marketplace_listing_review_name_too_short"});if(e.length>h)throw new(n().XV)("Name too long",{type:"marketplace_listing_review_name_too_long"})}const v=5,y=1500;function b(e){if(e.length<v)throw new(n().XV)("Creator response too short",{type:"marketplace_listing_review_creator_response_too_short"});if(e.length>y)throw new(n().XV)("Creator response too long",{type:"marketplace_listing_review_creator_response_too_long"})}function f(e){return void 0!==e.getTitle()&&void 0!==e.getSerializedContent()}function k(e){return(0,i().Je)(e)<l}function C(e){switch(e){case"mostRecent":return{columnName:"updated_time",direction:"descending"};case"highestRating":return{columnName:"rating",direction:"descending"};case"lowestRating":return{columnName:"rating",direction:"ascending"};default:(0,r().t1)(e)}}}}]);