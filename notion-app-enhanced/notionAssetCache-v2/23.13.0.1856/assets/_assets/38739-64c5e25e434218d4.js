"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[38739],{57194:(e,t,o)=>{o.d(t,{r:()=>n});var r=()=>o(974442);async function n(e){return new Promise((t=>{r().Z.setState({open:!0,onClose:()=>{r().Z.setState({open:!1}),t(!1)},onConfirm:()=>{r().Z.setState({open:!1}),t(!0)},...e})}))}},96724:(e,t,o)=>{o.d(t,{tA:()=>C});o(821057),o(122556),o(582845),o(250570),o(533019),o(721473),o(788208),o(22624),o(267602),o(653476);var r=()=>o(892981),n=()=>o(998411),i=()=>o(827370),a=()=>o(396136),l=()=>o(855741),s=()=>o(696459),c=()=>o(141735),d=()=>o(718959),p=()=>o(615676),u=()=>o(527278),f=()=>o(749826),m=()=>o(527135),g=()=>o(826955),y=()=>o(824462);const v=1e3;class h extends Error{constructor(e,t){super(t),this.type=e}}class I extends h{constructor(){super("query_collection_limit_outside_range",`Query collection limit must be between 0 andÂ ${v}`)}}class A extends h{constructor(e){super("query_collection_failed",`Query collection failed: ${e.reason}`),this.data=e}}class _ extends h{constructor(){super("query_collection_too_many_items","Query collection updating too many items")}}async function C(e,t){const{source:o,parentRecordStore:h,collectionPointer:C,filter:S,sort:k,limit:b}=t,w=b??v;if(w<0||w>v)return{error:new I};const x=g().NW.createChildStore(h,C);await x.load();const P=x.getModel();if(!P)return{error:new A({reason:"no collection value"})};const M=x.getParentBlockStore();if(!M)return{error:new A({reason:"no collection parent"})};await M.load();const T=M.getCollectionViewStores()[0],L=T.getSpaceId();if(!T||!L)return{error:new A({reason:"no first collection view"})};const O="results",F={[O]:{type:"results",limit:w}},j=Object.keys(t.aggregations??{});for(const r of j){var B;if(r===O)return{error:new A({reason:`${O} is a reserved reducer keyword.`})};const e=null===(B=t.aggregations)||void 0===B?void 0:B[r];if(!e)return{error:new A({reason:`no aggregation provided for ${r}.`})};e&&(F[r]={type:"aggregation",aggregation:e})}const W=x.getSchema(),R={filter:S&&r().Ih(S,W),sort:k&&r().zh(k,W),userId:e.currentUser.id,userTimeZone:(0,n().r)(),searchQuery:void 0,reducers:F},N=await y().callApi({eventName:"queryCollection",environment:e,data:{source:{type:"collection",id:C.id,spaceId:C.spaceId},collectionView:{id:T.id,spaceId:L},loader:R},tracking:{src:o}});if("failed"===N.type)return{error:new A({reason:"server query failed",cause:N.error})};const U=N.data.result.reducerResults[O];if(!U||"results"!==U.type)return{error:new A({reason:"unexpected server result"})};if(U.blockIds.length===v&&U.hasMore)return{error:new _};const{groupsReducerIds:V,reducerIdsWithNoGroupDependencies:H}=r().x3(R.reducers,R.reducerDependencies),Z=f().default.getConfigKey("collection_request_settings","clientFormulaTimeoutMs"),q=Date.now(),E=await c().F.formulas.load(),D={pageSort:[],schema:W,loader:R,userId:e.currentUser.id,userStartOfWeek:d().AK.state,currentTime:q,getRecordModel:h.getRecordModel,intl:u().Z.getIntl(),isSorted:!1,visibleProperties:void 0,relativeVariableResult:null==N?void 0:N.data.relativeVariableResult,currentPageInRelatedCollection:void 0,isSprintPlanningView:!1,collectionSourceType:"collection",groupsReducerIds:V,reducerIdsWithNoGroupDependencies:H,formulaTimeoutMs:Z,resultCache:new Map,regExpCache:new Map,experimentService:f().default,collectionFeatureGates:(0,p().W)(),formulasModule:E},K=r().fk(D);for(const n of U.blockIds){var z;const e=g().G.createChildStore(h,{table:a().iU,id:n}),t=null===(z=e.getAssociatedCollectionStore())||void 0===z?void 0:z.pointer;if(!(t&&i().dr.isEqualIdTable(t,x.pointer)))continue;const o=h.getRecordModel(e);o&&r().BW(o,P,D,K)}const G=m().Z.getEditedBlocksForCollection(P.id),$=new Set(U.blockIds);for(const n of G){if($.has(n))continue;const e=h.getRecordModel({table:a().iU,id:n});e&&r().BW(e,P,D,K)}const{result:Q}=r().kk(D,K),Y=r().aW({result:Q}),J={};for(const n of j){var X;const e=r().Oi({expectedAggregator:null===(X=t.aggregations)||void 0===X||null===(X=X[n])||void 0===X?void 0:X.aggregator,aggregationReducerResult:N.data.result.reducerResults[n]});if(l().x.isFail(e)){const t="no aggregation provided"===e.error?`no aggregation provided for ${n}`:"unexpected response returned for aggregation"===e.error?`unexpected response returned for aggregation ${n}`:(0,s().t1)(e.error);return{error:new A({reason:t})}}J[n]=e.value}return{value:{blockIds:Y,...J}}}},351763:(e,t,o)=>{o.r(t),o.d(t,{autofillPropertyForBlocks:()=>G,autofillPropertyForCollection:()=>Q,fillAllPagesMessages:()=>U,getDefaultAiInference:()=>X,getPropertyCompletionForBlock:()=>J,saveOrRemovePropertyAiInference:()=>Y,submitFeedbackForAiAutofill:()=>$,triggerAiAutofillUpsell:()=>K});o(670560),o(122556),o(582845),o(250570),o(533019),o(721473),o(788208),o(22624),o(267602),o(653476),o(470928),o(30005),o(241792);var r=o(667294),n=()=>o(66077),i=()=>o(226413),a=()=>o(532850),l=()=>o(956057),s=()=>o(481529),c=()=>o(255393),d=()=>o(788860),p=()=>o(956898),u=()=>o(696459),f=()=>o(562109),m=()=>o(250303),g=()=>o(824462),y=()=>o(959137),v=()=>o(57194),h=()=>o(308186),I=()=>o(421654),A=()=>o(102182),_=()=>o(970105),C=()=>o(269299),S=()=>o(932753),k=()=>o(82548),b=()=>o(78078),w=()=>o(312446),x=o(785893);const P=function(e){let{environment:t,inferenceIds:n,aiInference:i}=e;const a=(0,o(142735).VK)((()=>{const{state:e}=k().CollectionsAiAutofillProgressStore;return"uninitialized"===e.type?null:{numBlocksToAutofill:e.numBlocksToAutofill,numBlocksAutofilled:e.numBlocksAutofilled,propertySchema:e.propertySchema,collectionId:e.collectionId,sessionId:e.sessionId,haveAllBlocksCompletedAutofill:e.haveAllBlocksCompletedAutofill}}),[]),l=(0,r.useCallback)((()=>{a&&(n.forEach((e=>{f().qG(t,{ai_inference_type:i.type,type:"undo_from_snackbar",inference_id:e,collection_id:a.collectionId,session_id:a.sessionId})})),o(207874).Yw(t,!0),A().rN(),k().CollectionsAiAutofillProgressStore.setState({type:"filling",...a,didInterruptStreaming:!0}))}),[a,t,i,n]);if(!a)return null;const{numBlocksToAutofill:s,numBlocksAutofilled:c,propertySchema:{name:p}}=a;return c===s?(0,x.jsxs)(b().X2,{gap:4,alignItems:"center",children:[(0,o(733641).k)({width:16}),(0,x.jsx)(d()._H,{defaultMessage:'AI updated "{propertyName}" on {numPages, plural, one {1 page} other {# pages}}',id:"snackbar.aiAutofill.autofillInProgress",values:{propertyName:p,numPages:s}}),(0,x.jsx)(w().Pn,{onClick:l,children:(0,x.jsx)(d()._H,{defaultMessage:"Undo",id:"snackbar.aiAutofill.undo"})}),(0,x.jsx)(w().Pn,{onClick:()=>{A().rN()},children:(0,x.jsx)(d()._H,{defaultMessage:"Close",id:"snackbar.aiAutofill.close"})})]}):(0,x.jsxs)(b().X2,{gap:4,alignItems:"center",children:[(0,x.jsx)(o(312578).Z,{}),0===c?(0,x.jsx)(d()._H,{defaultMessage:'AI updating "{propertyName}" on {numPages, plural, one {1 page} other {# pages}}',id:"snackbar.aiAutofill.autofillStarting",values:{propertyName:p,numPages:s}}):(0,x.jsx)(d()._H,{defaultMessage:'AI updated "{propertyName}" on {numFilledPages} of {numTotalPages} pages',id:"snackbar.aiAutofill.completedAutofill",values:{propertyName:p,numFilledPages:c,numTotalPages:s}}),(0,x.jsx)(w().Pn,{onClick:l,children:(0,x.jsx)(d()._H,{defaultMessage:"Stop & undo",id:"snackbar.aiAutofill.undoAndStop"})})]})};var M=()=>o(964433),T=()=>o(542058),L=()=>o(527278),O=()=>o(549813),F=()=>o(876822),j=()=>o(826955),B=()=>o(584989),W=()=>o(965014),R=()=>o(897257),N=()=>o(254940);const U=(0,d().vU)({fillAllPagesTooltip:{defaultMessage:"{hasNames, select, true {Autofill {propertyName} for all pages in {collectionName}} other {Autofill this property for all pages in the database}}",id:"aiAutofill.fillAllPages.buttonTooltip"},fillAllPagesAddOnMessage:{defaultMessage:"Only with Notion AI add-on",id:"aiAutofill.fillAllPages.onlyWithAiAddOnMessageInTooltip"}});function V(e){const{environment:t,propertyId:o,propertySchema:r,storesWithCompletions:n,blockIdToInferenceId:i,useTemporaryStore:a,markdownLinkifyIt:l,tinyMceMicrosoftWordPasteFilter:s,clipboardActions:c,doneStreaming:d,aiInferenceOverride:p}=e;C().createAndCommit({userAction:"BlockPropertyValue.handleActionButtonClick.aiAutofill",environment:t,canUndo:!Boolean(a),undoCheckpoint:!0,perform:e=>{H({environment:t,propertyId:o,propertySchema:r,storesWithCompletions:n,blockIdToInferenceId:i,useTemporaryStore:a,markdownLinkifyIt:l,tinyMceMicrosoftWordPasteFilter:s,clipboardActions:c,doneStreaming:d,aiInferenceOverride:p,transaction:e})}})}function H(e){var t;const{environment:o,propertyId:r,propertySchema:n,storesWithCompletions:l,blockIdToInferenceId:s,useTemporaryStore:c,markdownLinkifyIt:d,tinyMceMicrosoftWordPasteFilter:p,clipboardActions:f,doneStreaming:m,aiInferenceOverride:g,transaction:y}=e;for(const{store:v,temporaryStore:h,completion:A}of l){const e=c?h:v;let l;switch(n.type){case"text":l=f.getInlineTitleValueFromClipboardTextHtml({text:A.trim(),stripText:!1,stripSurroundingWhitespace:!0,markdownLinkifyIt:d,tinyMceMicrosoftWordPasteFilter:p});break;case"multi_select":case"select":const e=c?null===(t=v.getAssociatedCollectionStore())||void 0===t?void 0:t.clone(h.inMemoryRecordCache):v.getAssociatedCollectionStore(),o=g??n.select_ai_inference;let s=A.trim().split(",").map((e=>e.trim()));if(m||(s=s.slice(0,-1)),e&&null!=o&&o.add_options){const t=(0,i().RR)({newTokenValues:s.length>0&&"select"===n.type?[[s[0]]]:[s],property:r,propertySchema:n,collectionId:e.id});if(t)for(const o of t)C().applyOperation({store:e,operation:o,transaction:y})}null!=o&&o.add_options||(s=s.filter((e=>{var t;return null===(t=n.options)||void 0===t?void 0:t.find((t=>t.value===e))}))),l=(0,a().zq)(s);break;default:(0,u().t1)(n)}_().sO({environment:o,store:e.getPropertyStore(r),value:l,transaction:y});const S=e.getFormat().ai_property_inference_map??{},k=s[v.id]??"";I().FH({stores:[e],update:{ai_property_inference_map:{...S,[r]:{inference_id:k,created_time:Date.now()}}},transaction:y})}}const Z=(0,d().vU)({FAILED_TO_AUTOFILL:{defaultMessage:"Something went wrong. Please try again later",id:"propertyCompletionActions.error.unableToAutofill"},INVALID_PROPERTY_FOR_AUTOFILL:{defaultMessage:"Invalid property configuration for AI autofill",id:"propertyCompletionActions.error.invalidPropertyForAutofill"},NO_BLOCKS_TO_AUTOFILL:{defaultMessage:"Nothing to update with AI",id:"propertyCompletionActions.error.noBlocksToAutofill"}}),q=(0,d().vU)({featureUnavailable:{id:"completionActions.featureNotEnabledError",defaultMessage:"This feature is not currently enabled"}});function E(e){let{autofillPropertyResult:t}=e;const o=L().Z.formatMessage(Z[t]);A().rN(),h().RL(o)}const D={ai_limit_property_autofill:(0,x.jsx)(d()._H,{defaultMessage:"This workspace has used all of its free AI responses. Contact your workspace owner to add Notion AI.",id:"aiAutofill.outOfAiUpsellDialogMessage"}),ai_autofill_on_page_edit:(0,x.jsx)(d()._H,{defaultMessage:"Auto-update requires the Notion AI Add-on. Contact your workspace owner to add Notion AI.",id:"aiAutofill.autoUpdateOnPageEditUpsellDialogMessage"}),ai_autofill_fill_all_pages:(0,x.jsx)(d()._H,{defaultMessage:"Updating all pages requires the Notion AI Add-on. Contact your workspace owner to add Notion AI.",id:"aiAutofill.fillAllPagesUpsellDialogMessage"}),ai_autofill_bulk_fill:(0,x.jsx)(d()._H,{defaultMessage:"Filling more pages at once requires the Notion AI Add-on. Contact your workspace owner to add Notion AI.",id:"aiAutofill.bulkFillUpsellDialogMessage"})};function K(e){var t;let{environment:o,from:r}=e;null!==(t=F().default.state.currentSpaceStore)&&void 0!==t&&t.canAdmin()||h().RL(D[r]),W().y(o,{from:r,upsell:{type:"product",product:"ai",limit:{type:"none"}}})}function z(e){let{errorCode:t,environment:o}=e;return 405===t?A().oV({label:L().Z.formatMessage(q.featureUnavailable)}):(402===t&&(A().rN(),K({environment:o,from:"ai_limit_property_autofill"})),N().showCompletionErrorWithCode(t))}async function G(e){var t;let{environment:o,stores:r,property:a,propertySchema:s,userEventForAnalytics:c,sessionIdForAnalytics:d,collectionContextStore:v,from:h,isBulkAction:I,aiInferenceOverride:_,transaction:C}=e;const S=d||l().Il(),b=a,w=r.map((e=>({spaceId:e.getSpaceId(),...e.pointer,propertyId:b,inferenceId:l().Il()}))),L=null===(t=r[0].getCollectionStore())||void 0===t?void 0:t.id,O=new(n().Z)({name:"propertyCompletionActions.autofillPropertyForBlocks"});if(k().CollectionsAiAutofillProgressStore.setIsWriting({stores:r,propertySchema:s,sessionIdForAnalytics:d}),"uninitialized"!==k().CollectionsAiAutofillProgressStore.state.type&&(0,i().qQ)(s)&&L){A().oV({label:(0,x.jsx)(P,{environment:o,inferenceIds:w.map((e=>e.inferenceId)),aiInference:(0,i().q3)(s)}),durationMs:B().JY});try{var j;if(o.defaultRecordCache.inMemoryRecordCache.addCacheOverride(O),!(0,u().Of)(w))return E({autofillPropertyResult:"NO_BLOCKS_TO_AUTOFILL"});const e=_||(0,i().q3)(s);if(!e)return E({autofillPropertyResult:"INVALID_PROPERTY_FOR_AUTOFILL"});w.forEach((t=>{f().qG(o,{type:c,inference_id:t.inferenceId,ai_inference_type:e.type,collection_id:L,session_id:S})})),null!==(j=F().default.state.currentSpaceStore)&&void 0!==j&&j.id&&g().callApi({eventName:"publishAiSession",environment:o,data:{inference_type:"autofill",id:S,spaceId:F().default.state.currentSpaceStore.id,metadata:{blockPropertyPointers:w,aiInference:e,collection_id:L}}});const t=await g().callStreamApi({eventName:"getCompletionForProperty",environment:o,data:{blockPropertyPointers:w,aiInference:e,aiSessionId:S,model:"default"}});if("success"!==t.type)return E({autofillPropertyResult:"FAILED_TO_AUTOFILL"});v&&m().rv({block_id:r[0].pointer.id,property:b,property_type:s.type,from:h,environment:o,collectionContextStore:v,isFromBulkActionsToolbar:I});const n=Object.fromEntries(r.map((e=>[e.pointer.id,{store:e,temporaryStore:e.clone(O),completion:""}]))),a=Object.fromEntries(w.map((e=>[e.id,e.inferenceId]))),l=new Set,[d,A,x]=await Promise.all([M().p.load(),T().m.load(),y().F.clipboardActions.load()]);if(p().H1.is(t.data)){for await(const e of t.data){if("error"===e.type)return k().CollectionsAiAutofillProgressStore.setState({...k().CollectionsAiAutofillProgressStore.state,didInterruptStreaming:!0}),z({errorCode:e.errorCode,environment:o});if(k().CollectionsAiAutofillProgressStore.state.didInterruptStreaming)return;const t=n[e.blockPropertyPointer.id],r=t.completion+e.completion;n[e.blockPropertyPointer.id]={...t,completion:r},l.add(e.blockPropertyPointer.id),C?H({environment:o,propertyId:b,propertySchema:s,storesWithCompletions:Object.values(n),blockIdToInferenceId:a,useTemporaryStore:!0,markdownLinkifyIt:d,tinyMceMicrosoftWordPasteFilter:A,clipboardActions:x,doneStreaming:!0,aiInferenceOverride:_,transaction:C}):V({environment:o,propertyId:b,propertySchema:s,storesWithCompletions:Object.values(n),blockIdToInferenceId:a,useTemporaryStore:!0,markdownLinkifyIt:d,tinyMceMicrosoftWordPasteFilter:A,clipboardActions:x,aiInferenceOverride:_}),k().CollectionsAiAutofillProgressStore.setState({...k().CollectionsAiAutofillProgressStore.state,numBlocksAutofilled:l.size})}k().CollectionsAiAutofillProgressStore.setState({...k().CollectionsAiAutofillProgressStore.state,haveAllBlocksCompletedAutofill:!0})}o.defaultRecordCache.inMemoryRecordCache.removeCacheOverride(O),C?H({environment:o,propertyId:b,propertySchema:s,storesWithCompletions:Object.values(n),blockIdToInferenceId:a,useTemporaryStore:!1,markdownLinkifyIt:d,tinyMceMicrosoftWordPasteFilter:A,clipboardActions:x,doneStreaming:!0,aiInferenceOverride:_,transaction:C}):V({environment:o,propertyId:b,propertySchema:s,storesWithCompletions:Object.values(n),blockIdToInferenceId:a,useTemporaryStore:!1,markdownLinkifyIt:d,tinyMceMicrosoftWordPasteFilter:A,clipboardActions:x,doneStreaming:!0,aiInferenceOverride:_})}finally{o.defaultRecordCache.inMemoryRecordCache.hasCacheOverride(O)&&o.defaultRecordCache.inMemoryRecordCache.removeCacheOverride(O)}}}function $(e){const{environment:t,inferenceId:o,feedbackType:r,userContent:n,shareWithNotion:i}=e;f().NF(t,{type:"property_autofill",inference_id:o,feedback_type:r,timestamp:(new Date).toUTCString(),user_comment:n,share_with_notion:i})}async function Q(e){var t;let{environment:o,collectionStore:r,propertySchema:n,property:a,sessionIdForAnalytics:d}=e;if(!(0,i().qQ)(n))return;const p=(0,i().q3)(n);if(!r||!n||!p)return;const u=(null===(t=R().subscriptionDataStoreInstance.state)||void 0===t?void 0:t.addOns)??[];if(!(0,c().de)(u))return void K({environment:o,from:"ai_autofill_fill_all_pages"});const m=L().Z.getIntl(),g=(0,O().vU)({environment:o,intl:m,store:r});if(!(await v().r({sourceAction:"fill_all_pages",propertyName:n.name,collectionName:g})))return;f().qG(o,{type:"generate_from_fill_all_pages",inference_id:l().Il(),ai_inference_type:p.type,collection_id:r.id,session_id:d??l().Il()});const y=[];y.push(s().op.update({pointer:r.pointer,path:["format","update_ai_inferences_status"],args:{[a]:{type:"requested",created_time:Date.now()}}})),S().HW({environment:o,collectionStore:r,performTransaction:e=>{for(const t of y)C().applyOperation({store:(0,j().Kv)(r,t.pointer),operation:t,transaction:e})}})}function Y(e){const{environment:t,propertySchema:o,collectionStore:r,property:n,draftAiInference:a}=e;let l="";switch(o.type){case"text":l="ai_inference";break;case"select":case"multi_select":l="select_ai_inference";break;default:return}const s=[];if(s.push({pointer:r.pointer,command:"set",path:["schema",n,l],args:a}),a)f()._e(t,{type:"set_ai_inference",ai_inference_type:a.type,collection_id:r.id});else{const e=(0,i().q3)(o);f()._e(t,{type:"remove_ai_inference",ai_inference_type:null==e?void 0:e.type,collection_id:r.id})}S().HW({environment:t,collectionStore:r,performTransaction:e=>{for(const t of s)C().applyOperation({store:(0,j().Kv)(r,t.pointer),operation:t,transaction:e})}})}async function J(e){var t;let{environment:o,store:r,property:n,propertySchema:i,userEventForAnalytics:a,sessionIdForAnalytics:s}=e;const c=s||l().Il(),d=n,u={spaceId:r.getSpaceId(),...r.pointer,propertyId:d,inferenceId:l().Il()},m=null===(t=r.getCollectionStore())||void 0===t?void 0:t.id,y=X(i,!1);if(!y)return"";f().qG(o,{type:a,inference_id:u.inferenceId,ai_inference_type:y.type,collection_id:m,session_id:c});const v=l().Il();g().callApi({eventName:"publishAiSession",environment:o,data:{inference_type:"autofill",id:v,metadata:{blockPropertyPointers:[u],aiInference:y,collection_id:m}}});const h=await g().callStreamApi({eventName:"getCompletionForProperty",environment:o,data:{blockPropertyPointers:[u],aiInference:y,aiSessionId:v,model:"default"}});if("success"!==h.type)return"";let I="";if(p().H1.is(h.data))for await(const l of h.data)"error"!==l.type&&(I+=l.completion);return I}function X(e,t){if(!(0,i().qQ)(e))return;const o=(0,i().q3)(e);return!o&&(0,i().cu)(e)?{type:e.type,auto_update_on_edit:t,add_options:!1}:o}},36763:(e,t,o)=>{o.d(t,{O:()=>f});o(667294);var r=()=>o(219727),n=()=>o(142735),i=()=>o(788860),a=()=>o(1910),l=()=>o(64260),s=()=>o(654133),c=()=>o(317050),d=()=>o(998901),p=()=>o(644329),u=o(785893);function f(e){const{onSubmit:t,canSend:o}=e,f=(0,p().bJ)(),m=(0,r().O7)(),g=(0,n().VK)((()=>m.device.isPhone),[m]);return(0,u.jsx)(s().Z,{renderTooltip:()=>(0,u.jsxs)("div",{children:[(0,u.jsx)(i()._H,{defaultMessage:"Send to AI",id:"completions.CompletionMenuActionBar.sendTooltip"}),(0,u.jsx)(l().Z,{style:f.keyboardShortcutInverted,name:"enter"})]}),placement:d().Placement.Bottom,render:e=>(0,u.jsx)(a().Z,{icon:c()._,onClick:t,isPurple:o,disabled:!o,iconStyle:{height:g?24:20,width:g?24:20},ariaLabel:"Send to AI",style:{pointerEvents:"auto",height:g?24:20,width:g?24:20},...e})})}},41109:(e,t,o)=>{o.d(t,{n:()=>l});o(667294);var r=()=>o(844958),n=()=>o(73898),i=o(785893);const a=16/(0,n().O)("small");function l(e){const{variant:t}=e,o=function(e){return(0,n().O)(e)*a}(t);return(0,i.jsx)(i.Fragment,{children:(0,r().t)({width:o,pointerEvents:"none"})})}},785673:(e,t,o)=>{o.d(t,{sW:()=>v,h9:()=>h,fy:()=>m,D_:()=>I,Oc:()=>g});var r=o(667294),n=()=>o(142735),i=()=>o(846550),a=()=>o(844958),l=()=>o(524434),s=()=>o(41109),c=()=>o(576917),d=()=>o(993491);const p=o.p+"c9223887dcb57b7d.gif",u=o.p+"7e9cbd56b1eca7b9.gif";var f=o(785893);function m(e){const{variant:t,style:o,forceSparkles:r}=e,i=(0,n().Kw)(l().r4);let a;return a=!r&&i?(0,f.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,f.jsx)(c().P,{variant:t,shadowVariant:"light"})}):(0,f.jsx)(s().n,{variant:r?"small":t}),(0,f.jsx)("div",{style:o,children:a})}function g(e){const{variant:t}=e,o=(0,n().Kw)(l().r4),r=(0,i().yK)((()=>({sparklesWrapper:{borderRadius:"100%",border:"2px solid RGB(182,208,240)",marginRight:8,marginLeft:8,padding:4},badge:{position:"absolute",left:"27px",top:"-5px"},faceWrapper:{marginRight:8}})),[]);return o?(0,f.jsx)("div",{style:r.faceWrapper,children:(0,f.jsx)(y,{variant:t})}):(0,f.jsxs)("div",{style:r.sparklesWrapper,children:[(0,f.jsx)(s().n,{variant:t}),(0,f.jsx)("div",{style:r.badge,children:(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"11",viewBox:"0 0 10 11",fill:"none",children:(0,f.jsx)("circle",{cx:"5",cy:"5.5",r:"4",fill:"#2383E2",stroke:"white",strokeWidth:"2"})})})]})}function y(e){const{variant:t}=e,o="dark"===(0,i().Fg)().mode,[n,a]=(0,r.useState)(!0);(0,r.useEffect)((()=>{setTimeout((()=>{a(!1)}),6e3)}),[]);const l=(0,r.useMemo)((()=>{if(n)return o?p:u}),[o,n]);return(0,f.jsx)("div",{style:{marginLeft:8},children:(0,f.jsx)(c().P,{variant:t,shadowVariant:"light",wrapWithPadding:!0,imgSource:l})})}function v(){const e=(0,n().Kw)(l().r4),t=(0,i().yK)((e=>({faceImgStyles:{width:20,height:20,background:e.assistantCornerButtonBackground,borderRadius:"50%",border:`1px solid ${e.tableDividerColor}`},sparklesIconStyle:{width:16,height:16,fill:e.icon.secondary}})),[]);return e?(0,f.jsx)("img",{style:t.faceImgStyles,src:d(),role:"presentation",alt:"Notion AI Face"}):(0,a().t)(t.sparklesIconStyle)}function h(){const e=(0,n().Kw)(l().r4),t=(0,i().yK)((e=>({faceImgStyles:{width:20,height:20,background:e.assistantCornerButtonBackground,borderRadius:"50%",border:`1px solid ${e.tableDividerColor}`},sparklesIconStyle:{width:16,height:16,fill:e.icon.secondary}})),[]);return e?(0,f.jsx)("img",{style:t.faceImgStyles,src:d(),role:"presentation",alt:"Notion AI Face"}):(0,a().t)(t.sparklesIconStyle)}function I(){const e=(0,n().Kw)(l().r4),t=(0,i().yK)((e=>({faceImgStyles:{width:20,height:20,background:e.assistantCornerButtonBackground,borderRadius:"50%",border:`1px solid ${e.tableDividerColor}`,marginLeft:-2,marginRight:2},sparklesIconStyle:{width:16,height:16,marginRight:2},sparklesIconWrapper:{borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center"}})),[]);return e?(0,f.jsx)("img",{style:t.faceImgStyles,src:d(),role:"presentation",alt:"Notion AI Face"}):(0,f.jsx)("div",{style:t.sparklesIconWrapper,children:(0,a().t)(t.sparklesIconStyle)})}},918745:(e,t,o)=>{o.d(t,{F:()=>l,U:()=>a});var r=()=>o(219727),n=()=>o(142735),i=()=>o(352230);function a(e){return e.device.isPhone||"actionSheet"===e.tabletBehavior&&e.device.isTablet?{menuType:i().o.ActionSheet}:{menuType:i().o.Popup,maxHeight:e.maxHeight,maxWidth:e.maxWidth,paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,width:e.width,minWidth:e.minWidth}}function l(e){const t=(0,r().Fy)();return(0,n().VK)((()=>a({device:t,maxHeight:null==e?void 0:e.maxHeight,maxWidth:null==e?void 0:e.maxWidth,paddingTop:null==e?void 0:e.paddingTop,paddingBottom:null==e?void 0:e.paddingBottom,width:null==e?void 0:e.width,minWidth:null==e?void 0:e.minWidth,tabletBehavior:null==e?void 0:e.tabletBehavior})),[t,null==e?void 0:e.maxHeight,null==e?void 0:e.maxWidth,null==e?void 0:e.paddingTop,null==e?void 0:e.paddingBottom,null==e?void 0:e.width,null==e?void 0:e.minWidth,null==e?void 0:e.tabletBehavior])}},536635:(e,t,o)=>{o.d(t,{Z:()=>n});o(667294);var r=o(785893);const n=(0,o(827282).IU)("arrowUp",{viewBox:"0 0 16 16",svg:(0,r.jsx)("path",{d:"M8 14.5586C8.44434 14.5586 8.74512 14.251 8.74512 13.7998V5.30957L8.69043 3.83984L10.4951 5.84961L12.0469 7.38086C12.1836 7.51074 12.3682 7.59961 12.5801 7.59961C12.9902 7.59961 13.291 7.28516 13.291 6.86816C13.291 6.66992 13.2158 6.49219 13.0586 6.32812L8.55371 1.81641C8.40332 1.66602 8.20508 1.57715 8 1.57715C7.79492 1.57715 7.59668 1.66602 7.44629 1.81641L2.94141 6.32812C2.78418 6.49219 2.70898 6.66992 2.70898 6.86816C2.70898 7.28516 3.0166 7.59961 3.42676 7.59961C3.63184 7.59961 3.82324 7.51074 3.95312 7.38086L5.50488 5.84961L7.30957 3.83301L7.25488 5.30957V13.7998C7.25488 14.251 7.5625 14.5586 8 14.5586Z"})})},428275:(e,t,o)=>{o.d(t,{r:()=>n});o(667294);var r=o(785893);const n=(0,o(827282).IU)("basicClock",{viewBox:"0 0 16 16",svg:(0,r.jsx)("path",{d:"M4.541 7.919a.53.53 0 01-.39-.157.53.53 0 01-.157-.39c0-.155.053-.282.157-.383a.53.53 0 01.39-.157h2.905V2.895c0-.15.053-.278.158-.383a.521.521 0 01.382-.158.53.53 0 01.39.158.521.521 0 01.157.383v4.477a.53.53 0 01-.157.39.53.53 0 01-.39.157H4.541zm3.452 6.207a6.789 6.789 0 01-2.727-.554 7.124 7.124 0 01-2.256-1.524 7.277 7.277 0 01-1.525-2.256 6.788 6.788 0 01-.553-2.728c0-.966.184-1.875.553-2.727A7.241 7.241 0 015.258.557 6.788 6.788 0 017.987.003c.971 0 1.882.184 2.735.554.852.369 1.604.88 2.256 1.53a7.136 7.136 0 011.53 2.25c.37.852.555 1.761.555 2.727 0 .967-.185 1.876-.554 2.728a7.218 7.218 0 01-3.787 3.78 6.789 6.789 0 01-2.728.554zm0-1.395c.789 0 1.525-.145 2.208-.437a5.678 5.678 0 001.805-1.217 5.68 5.68 0 001.217-1.805c.291-.683.437-1.42.437-2.208a5.55 5.55 0 00-.437-2.2 5.66 5.66 0 00-3.029-3.029 5.567 5.567 0 00-2.208-.438c-.784 0-1.52.146-2.208.438A5.6 5.6 0 003.98 3.052a5.715 5.715 0 00-1.21 1.811 5.55 5.55 0 00-.437 2.201c0 .789.146 1.525.438 2.208a5.735 5.735 0 001.21 1.805 5.598 5.598 0 004.013 1.654z"})})},271904:(e,t,o)=>{o.d(t,{a:()=>r().a});var r=()=>o(887860)},317050:(e,t,o)=>{o.d(t,{_:()=>n});o(667294);var r=o(785893);const n=(0,o(827282).IU)("sendArrow",{viewBox:"0 0 20 20",svg:(0,r.jsx)("path",{d:"M9.79883 18.5894C14.6216 18.5894 18.5894 14.6216 18.5894 9.79883C18.5894 4.96777 14.6216 1 9.79053 1C4.95947 1 1 4.96777 1 9.79883C1 14.6216 4.96777 18.5894 9.79883 18.5894ZM9.79883 14.3062C9.20947 14.3062 8.76953 13.9077 8.76953 13.3433V9.69922L8.86914 8.00586L8.25488 8.84424L7.3916 9.81543C7.23389 10.0063 6.98486 10.1143 6.72754 10.1143C6.21289 10.1143 5.84766 9.75732 5.84766 9.25928C5.84766 8.99365 5.92236 8.79443 6.12158 8.58691L8.96045 5.61523C9.19287 5.35791 9.4585 5.2417 9.79883 5.2417C10.1309 5.2417 10.4048 5.36621 10.6372 5.61523L13.4761 8.58691C13.667 8.79443 13.75 8.99365 13.75 9.25928C13.75 9.75732 13.3848 10.1143 12.8618 10.1143C12.6128 10.1143 12.3638 10.0063 12.2061 9.81543L11.3428 8.86914L10.7202 7.99756L10.8281 9.69922V13.3433C10.8281 13.9077 10.3799 14.3062 9.79883 14.3062Z"})})},488850:(e,t,o)=>{o.d(t,{V:()=>n});o(667294);var r=o(785893);const n=(0,o(827282).IU)("tag",{viewBox:"0 0 17 17",svg:(0,r.jsx)("path",{d:"M9.49219 15.4951C8.47363 16.5205 7.40039 16.5273 6.36133 15.4883L2 11.1406C0.960938 10.1084 0.981445 9.02148 1.99316 8.00977L8.70605 1.31055C9.23926 0.777344 9.54688 0.71582 10.3193 0.71582H12.917C13.6689 0.71582 13.9219 0.900391 14.4756 1.44727L16.041 3.0127C16.5947 3.56641 16.7725 3.81934 16.7725 4.57129V7.16895C16.7725 7.94141 16.7178 8.25586 16.1846 8.78906L9.49219 15.4951ZM8.62402 14.4697L15.248 7.83887C15.3779 7.70215 15.4531 7.57227 15.4531 7.34668V4.57812C15.4531 4.37305 15.3779 4.23633 15.2412 4.09961L13.3887 2.24707C13.2588 2.11035 13.1152 2.03516 12.9102 2.03516H10.1484C9.92285 2.03516 9.79297 2.11035 9.65625 2.25391L3.02539 8.87109C2.57422 9.32227 2.56055 9.80078 3.03223 10.2725L7.22266 14.4629C7.69434 14.9277 8.16602 14.9209 8.62402 14.4697ZM12.0693 6.40332C11.5088 6.40332 11.0918 5.96582 11.0918 5.41895C11.0918 4.87207 11.5088 4.44141 12.0693 4.44141C12.6299 4.44141 13.0469 4.87207 13.0469 5.41895C13.0469 5.96582 12.6299 6.40332 12.0693 6.40332Z"})})},53650:(e,t,o)=>{o.d(t,{V:()=>n});o(667294);var r=o(785893);const n=(0,o(827282).IU)("title",{viewBox:"0 0 14 10",svg:(0,r.jsx)("path",{d:"M10.674 9.45c.293 0 .576-.052.85-.153.273-.098.515-.238.726-.422.215-.184.383-.4.504-.65h.03v.662a.569.569 0 00.163.416c.11.101.25.152.422.152a.579.579 0 00.428-.164c.11-.105.164-.256.164-.451V4.973c0-.43-.104-.805-.31-1.125-.208-.32-.5-.569-.88-.744-.378-.18-.828-.27-1.347-.27-.594 0-1.114.115-1.559.346-.445.226-.75.533-.914.92-.031.07-.056.14-.076.21a.684.684 0 00-.03.194c0 .148.05.27.147.363.102.09.23.135.387.135a.61.61 0 00.287-.064.555.555 0 00.217-.2c.172-.32.377-.554.615-.703.238-.148.533-.223.885-.223.426 0 .76.112 1.002.334.242.223.363.528.363.915v.486l-1.828.1c-.77.042-1.361.23-1.775.562-.41.328-.616.773-.616 1.336 0 .379.09.71.27.996.183.285.435.508.756.668.324.16.697.24 1.119.24zm.328-.938c-.367 0-.666-.092-.897-.276a.906.906 0 01-.345-.738.86.86 0 01.34-.709c.23-.184.558-.29.984-.322l1.664-.106v.598c0 .293-.078.557-.234.791a1.69 1.69 0 01-.627.557c-.266.136-.56.205-.885.205zM.689 9.414c.2 0 .354-.045.463-.135.114-.086.202-.234.264-.445l.65-1.816h3.346l.65 1.816c.063.21.149.36.258.445.114.09.268.135.463.135.207 0 .371-.057.492-.17a.593.593 0 00.188-.463c0-.129-.027-.27-.082-.422L4.79 1.357c-.09-.246-.22-.43-.393-.55C4.23.686 4.012.625 3.742.625c-.508 0-.847.244-1.02.732L.116 8.39a1.3 1.3 0 00-.076.404c0 .195.057.348.17.457.117.11.277.164.48.164zm1.717-3.486L3.73 2.119h.03l1.324 3.809H2.406z"})})},887860:(e,t,o)=>{o.d(t,{a:()=>n});o(667294);var r=o(785893);const n=(0,o(827282).IU)("paintBrush",{viewBox:"0 0 16 18",svg:(0,r.jsx)("path",{d:"M1.506 16.447c-.593-.592-.891-1.219-.896-1.88-.004-.66.285-1.283.869-1.866.2-.2.455-.403.765-.608.315-.205.643-.406.985-.602.341-.2.665-.392.97-.574.31-.182.563-.353.759-.513L3.529 8.982c-.287-.287-.433-.592-.437-.916 0-.328.141-.633.424-.916l.895-.895c.283-.283.586-.422.91-.417.327 0 .635.143.922.43l5.435 5.449c.291.287.437.592.437.916.005.319-.132.622-.41.909l-.902.902c-.278.278-.581.415-.91.41-.328 0-.633-.143-.915-.43l-1.422-1.429a5.87 5.87 0 0 0-.52.752 84.79 84.79 0 0 0-.574.978c-.196.346-.397.674-.602.984-.2.314-.403.572-.608.772-.583.584-1.205.873-1.866.869-.661-.005-1.288-.306-1.88-.903Zm3.11-8.551c-.164.159-.164.32 0 .485l1.655 1.647a.565.565 0 0 1 .19.465c-.013.173-.095.34-.245.5-.132.136-.353.293-.663.47-.31.179-.661.377-1.053.596a20.55 20.55 0 0 0-1.155.704c-.383.25-.709.51-.978.779-.314.31-.471.645-.471 1.005.004.36.166.702.485 1.025.323.32.663.479 1.018.479.36.004.698-.15 1.012-.465.274-.269.533-.595.78-.978.25-.382.485-.768.704-1.155.218-.392.417-.74.594-1.046.183-.31.34-.53.472-.663.16-.155.326-.237.499-.246.173-.014.33.05.472.192l1.64 1.647c.164.168.326.166.486-.007l.52-.52c.159-.164.16-.325.006-.485L5.621 7.37c-.073-.077-.15-.114-.232-.11-.082 0-.162.04-.24.117l-.533.52ZM3.38 15.4a.783.783 0 0 1-.574-.239.783.783 0 0 1-.24-.574c0-.223.08-.415.24-.574.16-.16.35-.24.574-.24.223 0 .415.08.574.24.16.16.24.35.24.574 0 .223-.08.415-.24.574-.16.16-.35.24-.574.24Zm8.114-2.87-.889-.883 3.22-3.22a.588.588 0 0 0 .192-.423c0-.155-.071-.303-.212-.444l-5.08-5.073a.332.332 0 0 0-.211-.11.262.262 0 0 0-.192.07.425.425 0 0 0-.123.225 259.17 259.17 0 0 0-.417 1.545c-.114.428-.232.813-.355 1.155-.123.342-.28.68-.472 1.012a9.54 9.54 0 0 1-.759 1.107l-.902-.902a16 16 0 0 0 .526-.78 5.2 5.2 0 0 0 .356-.656 5.91 5.91 0 0 0 .26-.731c.082-.274.168-.602.26-.985l.334-1.435c.069-.296.192-.536.37-.718A1.323 1.323 0 0 1 8.73.91c.242.06.46.185.657.376l5.373 5.38c.405.41.61.84.615 1.292.01.451-.185.875-.581 1.272l-3.302 3.301Zm-1.1-3.993c-.083-.077-.076-.164.02-.26a6.96 6.96 0 0 0 .998-1.257c.287-.456.463-.987.527-1.593l1.503 1.497c-.173.219-.41.442-.71.67a7.87 7.87 0 0 1-.944.601 4.435 4.435 0 0 1-.875.37c-.255.072-.428.063-.52-.028Z"})})},993491:(e,t,o)=>{e.exports=o.p+"edfba4a6d1ff7acd.png"}}]);