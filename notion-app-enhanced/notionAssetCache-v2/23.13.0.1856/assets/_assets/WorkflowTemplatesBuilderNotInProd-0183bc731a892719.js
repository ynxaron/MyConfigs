"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[6532,95986],{344927:(t,e,o)=>{o.d(e,{E:()=>i});var n=()=>o(635596);class i{constructor(t,e,o){this.listener=void 0,this.didEmit=void 0,this.lastValue=void 0,this.handleEmit=(t,e,o)=>{let n=!0;this.didEmit||(this.didEmit=!0,n=!1),this.lastValue===e?n=!1:this.lastValue=e,n&&this.onEmit(e,o)},this.environment=t,this.listenerEventKey=e,this.onEmit=o,this.didEmit=!1,this.lastValue=void 0}subscribe(){this.listener=n().ZP.addListener(this.listenerEventKey,this.handleEmit,void 0,this.environment)}unsubscribe(){this.listener&&n().ZP.removeListener(this.listener,this.environment)}}},877727:(t,e,o)=>{o.d(e,{C3:()=>s,D:()=>a,QZ:()=>r,fo:()=>l});var n=()=>o(146947),i=()=>o(749826);function l(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i().default.checkGate({gateName:"packaging_m2_additional_entrypoints"})&&r(t,e)}function r(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!t.device.isPhone&&s(e)}function s(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i().default.checkGate({gateName:"workflow_templates_prototype",...t})||"control"!==a(t)}function a(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n().locale.startsWith("en-")||i().default.checkGate({gateName:"packaging_m2_localize_templates"})?i().default.getEligibleGroup({experimentId:"packaging_m2_entry_point",defaultGroup:"control",...t}):"control"}},999582:(t,e,o)=>{o.d(e,{Z:()=>l});class n extends(()=>o(263184))().default{getInitialState(){return{}}}const i=new n;o(947115).exposeDebugValue("SpaceWorkflowTemplateInstanceMapStore",i);const l=i},219544:(t,e,o)=>{o.r(e),o.d(e,{WorkflowTemplatesBuilderNotInProd:()=>v});var n=o(667294),i=()=>o(466970),l=()=>o(788860);o(821057),o(670560);Error;function r(t){throw new Error("usePrototypeCollectionRows should never be used in production")}o(241792);var s=()=>o(281236),a=()=>o(487333);function c(t){let{rows:e,intl:o,shouldFakeLocalization:n}=t;const i=function(t){const{collectionInfo:e,errors:o}=t,n=[];for(const l of t.rows)if(l.JSON)try{const t=JSON.parse(l.JSON);n.push({collectionRowId:l._id,template:t})}catch(i){if(!(i instanceof Error))throw i;o.push({id:l._id,error:i})}return{collectionInfo:e,errors:o,templatesWithRowIds:n,templateToRowIdMap:u(n)}}(e);i.errors.length>0&&console.warn("Errors loading prototype workflow template builder registry:",i.errors),a().Z.setState(i);const l=i.templatesWithRowIds.map((t=>t.template));(0,s().setDynamicBuilderWorkflowTemplates)({templates:l,intl:o,shouldFakeLocalization:n})}function u(t){const e=new Map;for(const o of t){const t=o.template.templateId,n=o.collectionRowId;e.has(t)&&console.warn(`Duplicate definition for template id "${t}" found.`,o.template),e.set(t,n)}return e}var d=()=>o(124199);d().object({required:{_id:d().string()},optional:{Name:d().string(),JSON:d().string()}});var p=()=>o(142735),h=()=>o(749826);const f=void 0;(0,o(947115).exposeDebugValue)("WorkflowTemplatesBuilderLocalRegistryViewUrlStore",f);var m=o(785893);function w(t){const e=(0,p().VK)((()=>f?f.getState():h().default.getConfigKey("workflow_templates_builder_config","prototype_registry_view_url")),[]);return e?(0,m.jsx)(g,{viewUrl:e,shouldFakeLocalization:t.shouldFakeLocalization}):null}function g(t){const e=(0,l().YB)(),{viewUrl:o,shouldFakeLocalization:i}=t,s=r();return(0,n.useEffect)((()=>{s.value&&c({rows:s.value,intl:e,shouldFakeLocalization:i})}),[s,e,i]),null}function v(t){return(0,i().E)("workflow_templates_builder")?(0,m.jsx)(_,{}):null}function _(){return(0,m.jsx)(w,{shouldFakeLocalization:!0})}},487333:(t,e,o)=>{o.d(e,{Z:()=>l});class n extends(()=>o(263184))().default{getInitialState(){return null}}const i=new n;o(947115).exposeDebugValue("WorkflowTemplatesBuilderStore",i);const l=i},347628:(t,e,o)=>{o.d(e,{Ig:()=>r,Vr:()=>i,X$:()=>l,b:()=>n});const n="notion://projects_app",i="notion://wiki_app",l="notion://docs_app",r="notion://meetings_app"},29488:(t,e,o)=>{function n(t){return`${t.table}:${t.id}`}o.d(e,{O:()=>n})}}]);