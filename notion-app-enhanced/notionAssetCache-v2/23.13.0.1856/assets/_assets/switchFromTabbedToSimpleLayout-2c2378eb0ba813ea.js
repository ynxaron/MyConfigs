"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[40284],{238198:(e,o,a)=>{a.r(o),a.d(o,{switchFromTabbedToSimpleLayout:()=>d});a(821057),a(267602),a(30005);var t=()=>a(792197),i=()=>a(215134),n=()=>a(639708),r=()=>a(696459),s=()=>a(269299),l=()=>a(826955);function d(e){const{environment:o,layoutStore:a}=e;a.isTabbedPageLayout()&&s().createAndCommit({environment:o,perform:e=>{const o=a.getRawModules();if(!o)throw new Error("Invalid state: no raw modules by area");const d=(0,i()._i)(o,(e=>"viewsMain"===e.type));if(!d)throw new Error("Invalid state: no views main module in page_main area");const{module:p,position:m}=d;if("page_layout_schema"!==m.area||!(0,n().aJ)(p))throw new Error("Invalid state: views main module not in page_main area");if(s().applyOperation({store:a,transaction:e,operation:t().CI.deleteModuleInArea({pointer:a.pointer,area:"page_layout_schema",moduleId:p.id})}),!o.views_main_tab_modules)throw new Error("Invalid state: no views_main_tab_modules area");const u=(0,r().Yd)(o.views_main_tab_modules);if(1!==u.length)throw new Error("Invalid state: expected 1 tab key in views_main_tab_modules but found 0 or more");const _=u[0],w=o.views_main_tab_modules[_];if(!w)throw new Error("Invalid state: no views main modules in views_main_tab_modules area");w.forEach((o=>{s().applyOperation({store:a,transaction:e,operation:t().CI.putModuleAfter({pointer:a.pointer,area:"page_layout_schema",module:o,afterId:void 0})})})),w.forEach((o=>{s().applyOperation({store:a,transaction:e,operation:t().CI.deleteModuleInArea({pointer:a.pointer,area:"views_main_tab_modules",viewId:_,moduleId:o.id})})}));const c=l().G.createChildStore(a,p.collection_view_block_pointer);s().applyOperation({store:a,transaction:e,operation:t().CI.updateFormat({pointer:a.pointer,format:{previousViewsMainCollectionViewBlockPointer:c.pointer}})})},userAction:"viewsModuleActions.switchFromTabbedToSimpleLayout"})}}}]);