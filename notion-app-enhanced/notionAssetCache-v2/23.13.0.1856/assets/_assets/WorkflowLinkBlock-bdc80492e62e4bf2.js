"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[52668],{850790:(e,t,i)=>{i.d(t,{K:()=>o});i(667294);var r=i(785893);const o=(0,i(827282).IU)("boltFilled",{svg:(0,r.jsx)("path",{d:"M0 12.117c0 .38.293.664.703.664h5.518l-2.91 7.91c-.381 1.006.664 1.543 1.318.723l8.877-11.094c.166-.205.254-.4.254-.625 0-.371-.293-.664-.703-.664H7.539l2.91-7.91C10.83.115 9.785-.422 9.131.408L.254 11.492c-.166.215-.254.41-.254.625z"}),viewBox:"0 0 14 22"})},464982:(e,t,i)=>{i.r(t),i.d(t,{default:()=>u});var r=i(667294),o=()=>i(142735),l=()=>i(506347),a=()=>i(627990),n=()=>i(614027),s=()=>i(429725),c=()=>i(286427),d=i(785893);function p(e,t){const{store:p}=e,u=(0,i(219727).O7)(),g=(0,r.useContext)(i(41340).Z),b=(0,i(466970).E)("workflows"),y=(0,r.useRef)(null),x=(0,i(846550).yK)((t=>({linkBox:{borderRadius:4,paddingTop:3,paddingBottom:3,paddingLeft:2,...e.style},titleWrap:{display:"flex",alignItems:"center",gap:8,marginLeft:4},icon:{width:16,height:16},statusPill:{borderRadius:12,padding:"2px 8px",fontSize:12,fontWeight:500,color:t.contentBackground},statusPillEnabled:{backgroundColor:t.accentColors.green[400]},statusPillDisabled:{backgroundColor:t.accentColors.gray[300]}})),[e.style]),k=(0,r.useCallback)((()=>{i(381140).Se(u),i(30238).SK(u,{page_visit_id:i(56810).$g.getCurrentPageVisitId(),mentioned_page_id:e.store.id,source_type:"page_block",hover_preview_enabled:!0,is_navigable_block:e.store.isNavigableBlock()}),i(773725).Z.recordVisit({id:e.store.id,systemBlockType:e.store.getSystemBlockTypeStore().getValue(),type:n().vu.Link,currentUserId:u.currentUser.id})}),[u,e.store]),j=(0,r.useCallback)((()=>{if(g){const t=(0,s().ZP)({store:e.store,pageVisitSource:l().tY.Create});g(t)}else i(47443)._c({environment:u,store:e.store,visitType:n().vu.Link,openInSidePeek:i(482162).default.isSidePeekOpen(),pageVisitSource:l().tY.Create})}),[u,g,e.store]),v=(0,o().VK)((()=>(0,s().ZP)({store:p,fullyQualified:!1,pageVisitSource:l().tY.LinkInPage})),[p]),f=(0,o().VK)((()=>{var e;const t=null===(e=p.getFormat())||void 0===e?void 0:e.workflow_id;if(t)return i(826955).hA.createChildStore(p,{table:i(361929).An,id:t,spaceId:p.getSpaceId()})}),[p]),h=(0,o().VK)((()=>f?(0,c().x)(f).name:"New Workflow"),[f]),_=(0,o().VK)((()=>f?(0,c().x)(f).enabled:null),[f]);return(0,i(480089).ez)(e.store,t,(0,r.useMemo)((()=>({renderedType:"workflow",getNode:()=>y.current,getBlockStore:()=>e.store,activate:j,handleCreated(){j(),i(475335).default.setKeyboardMode(!1)}})),[j,e.store]),b?(0,d.jsx)(i(58836).p,{allowSelectionWithin:!1,ref:y,children:(0,d.jsx)(i(729775).Z,{href:v,external:!1,onClick:k,style:x.linkBox,children:(0,d.jsx)(a().ZP,{alignment:a().v2.Center,children:(0,d.jsxs)("div",{style:x.titleWrap,children:[(0,i(850790).K)(x.icon),(0,d.jsx)("div",{children:h||"New Workflow"}),(0,d.jsx)("div",{style:{...x.statusPill,..._?x.statusPillEnabled:x.statusPillDisabled},children:_?"Enabled":"Disabled"})]})})})}):null)}const u=r.memo(r.forwardRef(p),i(632314).Z)},286427:(e,t,i)=>{i.d(t,{x:()=>n});var r=()=>i(124199);const o={enabled:!0},l=r().object({required:{value:r().string(),description:r().string()},optional:{},exact:!0}),a=r().union([r().object({required:{type:r().literal("title"),description:r().string()},optional:{},exact:!0}),r().object({required:{type:r().literal("content"),description:r().string()},optional:{},exact:!0}),r().object({required:{type:r().literal("text"),description:r().string()},optional:{},exact:!0}),r().object({required:{type:r().literal("url"),description:r().string()},optional:{},exact:!0}),r().object({required:{type:r().literal("email"),description:r().string()},optional:{},exact:!0}),r().object({required:{type:r().literal("phone_number"),description:r().string()},optional:{},exact:!0}),r().object({required:{type:r().literal("file"),description:r().string()},optional:{},exact:!0}),r().object({required:{type:r().literal("number"),description:r().string()},optional:{},exact:!0}),r().object({required:{type:r().literal("date"),description:r().string()},optional:{},exact:!0}),r().object({required:{type:r().literal("select"),options:r().array(l),description:r().string()},optional:{},exact:!0}),r().object({required:{type:r().literal("multi_select"),options:r().array(l),description:r().string()},optional:{},exact:!0}),r().object({required:{type:r().literal("status"),groups:r().object({required:{to_do:r().array(l),in_progress:r().array(l),complete:r().array(l)},optional:{},exact:!0}),description:r().string()},optional:{},exact:!0}),r().object({required:{type:r().literal("person"),description:r().string()},optional:{},exact:!0}),r().object({required:{type:r().literal("relation"),databaseKey:r().string(),description:r().string()},optional:{propertyKey:r().string()}}),r().object({required:{type:r().literal("external_relation"),object:r().literals("slack.message"),description:r().string()},optional:{},exact:!0}),r().object({required:{type:r().literal("checkbox"),description:r().string()},optional:{},exact:!0}),r().object({required:{type:r().literal("created_time"),description:r().string()},optional:{},exact:!0}),r().object({required:{type:r().literal("last_edited_time"),description:r().string()},optional:{},exact:!0})]);r().record(r().string(),a);function n(e){var t;return(null===(t=e.getModel())||void 0===t?void 0:t.getData())||o}}}]);