"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[33705],{408074:(t,e,n)=>{n.r(e),n.d(e,{TOASTER_ZINDEX:()=>I,Toaster:()=>B});n(267602),n(653476),n(241792);var i=n(667294),o=()=>n(219727),r=()=>n(142735),s=()=>n(846550),a=()=>n(513670),d=()=>n(369637),c=()=>n(748621),l=()=>n(589525),u=()=>n(975611),v=()=>n(565630),p=()=>n(568017),y=()=>n(212493),x=()=>n(154186),g=()=>n(1910),f=()=>n(603692),m=()=>n(661641),h=()=>n(442531),b=()=>n(677559),C=()=>n(688049),k=n(785893);function S(t){const{type:e,actionProps:n,invalidated:i}=t,o=(0,p().gh)({theme:"dark"}),r=(0,s().yK)((t=>({actionButton:{minHeight:28,padding:"4px 8px",gap:8,borderRadius:6,display:"flex"},primaryActionButton:{border:`1px solid ${p().FN.dark.translucentGray[400]}`},primaryActionButtonText:{color:o.text.primary},secondaryActionButtonText:{color:o.text.secondary},actionButtonHovered:{background:o.state.hover},actionButtonPressed:{background:o.state.pressed},buttonIcon:{color:o.icon.secondary}})),[o]);return(0,k.jsx)(x().Z,{style:{...r.actionButton,..."primary"===e?r.primaryActionButton:{}},hoveredStyle:r.actionButtonHovered,pressedStyle:r.actionButtonPressed,disabled:n.disabled||i,onClick:n.onAction,isLoading:n.isLoading,children:(0,k.jsxs)(y().jX,{direction:"row",align:"center",children:[n.leadingIconProps?(0,k.jsx)(f().y,{...n.leadingIconProps}):void 0,(0,k.jsx)(m().q,{styleName:"UISmall-12px/Medium",style:"primary"===e?r.primaryActionButtonText:r.secondaryActionButtonText,children:n.title}),n.trailingIconProps?(0,k.jsx)(f().y,{...n.trailingIconProps}):void 0]})})}function j(t){const{actions:e,invalidated:n}=t,i=(0,s().yK)((t=>({footerContainer:{paddingLeft:8,paddingBottom:4}})),[]),{primary:o,secondary:r}=e;return(0,k.jsxs)(y().jX,{direction:"row",align:"center-right",style:i.footerContainer,gap:8,children:[r&&(0,k.jsx)(S,{type:"secondary",actionProps:r,invalidated:n}),o&&(0,k.jsx)(S,{type:"primary",actionProps:o,invalidated:n})]})}function w(t){const{updatedAt:e,onReplace:n,onMouseEnter:o,onMouseLeave:r,framerMotion:a}=t,{motion:d}=a,c=(0,h()._7)(a),l=(0,v().D9)(e),u=(0,s().yK)((t=>{const e=(0,p().gh)({theme:"dark"});return{toastContainer:{display:"flex",alignItems:"flex-start",borderRadius:8,borderWidth:1,borderStyle:"solid",borderColor:e.stroke.secondary,outline:"none",background:e.surface.elevated,backdropFilter:"blur(15px)",width:280,padding:"8px 8px 4px 8px",pointerEvents:"auto",minHeight:40},toastContentContainer:{display:"flex",flexDirection:"column",alignItems:"flex-start",width:"100%"},toastContent:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:4,padding:"4px 28px 8px 4px"},iconContainer:{width:26,height:24,display:"flex",padding:"2px 4px 2px 2px",flexDirection:"column",justifyContent:"center",alignItems:"center"},icon:{display:"flex",width:14,height:14,flexDirection:"column",justifyContent:"center",alignItems:"center",fill:p().FN.dark.translucentGray[800]},title:{color:t.text.contrastPrimary,fontFeatureSettings:"'case' on",overflowWrap:"break-word"},toastMessage:{color:e.text.primary,fontFeatureSettings:"'case' on",overflowWrap:"break-word"},closeButton:{width:24,height:24,position:"absolute",right:8,top:8,gap:8,borderRadius:6,display:"flex",alignItems:"center",justifyContent:"center",zIndex:1},closeIcon:{width:14,height:14,paddingBottom:.5,fill:p().FN.dark.translucentGray[800]},closeIconHovered:{background:e.state.hover},closeIconPressed:{background:e.state.pressed}}}),[]);(0,i.useEffect)((()=>{(async()=>{e&&(!l||e>l)&&(n(),await c.start({scale:[1,1.05,1],transition:{duration:.15,ease:"easeIn"}}))})()}),[e,l,n,c]);const y=t.jsxMessage??t.message;let x=null;return t.icon?x=(0,k.jsx)("div",{style:u.iconContainer,children:t.icon({...u.icon,...t.iconStyles})}):t.iconGroup&&(x=(0,k.jsx)("span",{style:u.iconContainer,children:(0,k.jsx)(f().y,{iconGroup:t.iconGroup,colorName:t.iconGroupColorName,variantName:t.iconGroupVariant??"small"})})),(0,k.jsxs)(d.div,{role:"status","aria-live":"polite",onHoverStart:o,onHoverEnd:r,animate:c,style:u.toastContainer,custom:t.id,children:["blocking"!==t.presentationType&&(0,k.jsx)(g().Z,{ariaLabel:"close",icon:()=>(0,C().D)(u.closeIcon),style:u.closeButton,hoveredStyle:u.closeIconHovered,pressedStyle:u.closeIconPressed,onClick:t.onClose}),x,(0,k.jsxs)("div",{style:u.toastContentContainer,children:[(0,k.jsxs)("div",{style:u.toastContent,children:[t.title&&(0,k.jsx)(m().q,{styleName:"UISmall-12px/Semibold",style:u.title,children:t.title}),y&&(0,k.jsx)(m().q,{styleName:"UISmall-12px/Regular",customStyles:u.toastMessage,children:y})]}),t.actions?(0,k.jsx)(j,{actions:t.actions,invalidated:t.invalidated}):void 0]})]})}function P(t){const{value:e}=(0,b().XJ)(h().io);return e?(0,k.jsx)(w,{...t,framerMotion:e}):null}const I=201;function B(){const t=(0,o().O7)(),[e,n]=(0,i.useState)({}),[s,l]=(0,i.useReducer)((t=>t+1),0),v=(0,i.useRef)({}),p=(0,i.useRef)(),y=(0,i.useRef)({}),x=(0,r().VK)((()=>u().Z.state.toasts),[]),[g]=(0,r().VK)((()=>[t.WindowSizeStore.getSafePaddingBottomPx(20)]),[t.WindowSizeStore]),f=(0,i.useCallback)((()=>{let t;const n=Object.keys(e).filter((n=>{var i,o;return n===(null===(i=p.current)||void 0===i?void 0:i.toast.id)&&(t=e[n]),n!==(null===(o=p.current)||void 0===o?void 0:o.toast.id)})).map((t=>e[t])).sort(((t,e)=>{var n,i;return(null===(n=e.createdAt)||void 0===n?void 0:n.valueOf())-(null===(i=t.createdAt)||void 0===i?void 0:i.valueOf())}));if(t&&p.current&&void 0!==p.current.index){const{index:e}=p.current;n.splice(e,0,t),p.current.index=n.indexOf(t)}return n}),[e]),m=(0,i.useCallback)((t=>{clearTimeout(v.current[t]),delete v.current[t]}),[]),h=(0,i.useCallback)(((t,e)=>{var n,i;t.id===(null===(n=p.current)||void 0===n?void 0:n.toast.id)&&(p.current=void 0),m(t.id),null!==(i=y.current)&&void 0!==i&&i[t.id]&&(y.current[t.id].active=!1,e&&(y.current[t.id].suppressOnDismiss=e)),l()}),[m]),b=(0,i.useCallback)((t=>{var e,n;"transient"===t.presentationType&&!v.current[t.id]&&t.id!==(null===(e=p.current)||void 0===e?void 0:e.toast.id)&&null!==(n=y.current)&&void 0!==n&&null!==(n=n[t.id])&&void 0!==n&&n.active&&(m(t.id),v.current[t.id]=window.setTimeout((()=>h(t)),5e3))}),[m,h]),C=(0,i.useCallback)((()=>{requestAnimationFrame((()=>{const t=f();let e=0;for(const[i,o]of t.entries()){var n;const t=document.querySelector(`[data-toast-id='${o.id}']`);if(!t||o.id===(null===(n=p.current)||void 0===n?void 0:n.toast.id))continue;const r=t.getBoundingClientRect();if(!r.height)return void C();if(y.current[o.id]||(y.current[o.id]={toast:o,active:!0}),y.current[o.id].index=i,y.current[o.id].height=r.height,p.current){const t=p.current;e<t.yPos-t.height||e-r.height>t.yPos||(e=t.yPos+t.height+g)}y.current[o.id].yPos=e,e=e+r.height+g,e>window.innerHeight&&(y.current[o.id].active=!1),b(o)}l()}))}),[f,b,g]);(0,i.useEffect)((()=>{n((t=>{const e={...t,...x};for(const n of Object.values(e))y.current[n.id]&&!x[n.id]&&(y.current[n.id].active=!1);return e}))}),[x]),(0,i.useLayoutEffect)(C,[e,C]),(0,i.useEffect)((()=>(window.addEventListener("resize",C),()=>window.removeEventListener("resize",C))),[C]);const S=(0,i.useCallback)((t=>{var e;null!==(e=y.current)&&void 0!==e&&e[t.id]&&(y.current[t.id].userDismissed=!0),h(t)}),[h]),j=(0,i.useCallback)(((t,e)=>{var n,i,o;m(t.id),null===(n=y.current)||void 0===n||!n[t.id]||null!==(i=y.current)&&void 0!==i&&null!==(i=i[t.id])&&void 0!==i&&i.actionTriggered||null!==(o=y.current)&&void 0!==o&&null!==(o=o[t.id])&&void 0!==o&&o.userDismissed||(y.current[t.id].active=!0,p.current={...y.current[t.id]},C())}),[C,m]),w=(0,i.useCallback)((t=>{var e;t.id===(null===(e=p.current)||void 0===e?void 0:e.toast.id)?(p.current=void 0,C()):b(t)}),[C,b]),B=(0,i.useCallback)((t=>{m(t.id),b(t)}),[m,b]),E=(0,i.useCallback)((t=>{var i;const o=t.target,r=null==o?void 0:o.getAttribute("data-toast-id");if(o&&"opacity"===t.propertyName&&r&&null!==(i=y.current)&&void 0!==i&&i[r]){var s;const t=y.current[r];if(t.active)return;r===(null===(s=p.current)||void 0===s?void 0:s.toast.id)&&(p.current=void 0);const i=e[r];u().Z.state.toasts[i.id]&&d().Xd(i.id,t.suppressOnDismiss,t.userDismissed),delete y.current[r],n((t=>a().CE({...t},[r])))}}),[e]);return(0,k.jsx)(c().Z,{open:f().length>0,zIndex:I,children:f().map(((t,e)=>{var n;const i=null===(n=y.current)||void 0===n?void 0:n[t.id],o=void 0!==(null==i?void 0:i.yPos)&&(null==i?void 0:i.active),r=null!=i&&i.active?0:100;return(0,k.jsx)(T,{"data-toast-id":t.id,onTransitionEnd:E,yPos:void 0!==(null==i?void 0:i.yPos)?-i.yPos:r,visible:o,children:(0,k.jsx)(P,{...t,onMouseEnter:()=>j(t,e),onMouseLeave:()=>w(t),onReplace:()=>B(t),onClose:()=>S(t),actions:t.actions})},t.id)}))})}function T(t){const{yPos:e,visible:n,children:i,...a}=t,d=(0,o().O7)(),[c,u,v]=(0,r().VK)((()=>[d.WindowSizeStore.getSafePaddingLeftCSS(20),d.WindowSizeStore.getSafePaddingBottomCSS(20),(0,l().Wk)(d)]),[d]),p=(0,s().yK)((()=>({toastContainer:{left:v,transform:`translateY(${e??0}px) scale(${n?1:.96})`,transitionDuration:"0.3s",opacity:n?1:0,position:"fixed",bottom:0,transitionProperty:"opacity, transform",marginLeft:c,marginBottom:u}})),[v,c,u,e,n]);return(0,k.jsx)("div",{style:p.toastContainer,...a,children:i})}}}]);