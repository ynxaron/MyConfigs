"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[65645],{27188:(e,t,n)=>{n.r(t),n.d(t,{AutomationModal:()=>k});var o=n(667294),i=()=>n(219727),a=()=>n(142735),r=()=>n(846550),l=()=>n(788860),s=()=>n(513670),c=()=>n(707513),d=()=>n(594546),u=()=>n(57687),m=()=>n(12512),p=()=>n(407121),f=()=>n(826955),x=()=>n(206352),g=()=>n(708518),b=()=>n(92175),h=()=>n(906651),y=()=>n(943620),S=()=>n(345837),j=n(785893);const v=(0,l().vU)({confirmationDialogAriaLabel:{defaultMessage:"Confirmation",id:"automations.ConfirmationDialog.ariaLabel"}});function k(){const e=(0,a().Kw)(p().Z),t=(0,i().O7)(),n=(0,i().Fy)(),l=(0,a().VK)((()=>n.isPhone),[n]),s=(0,r().yK)((e=>({innerStyle:{padding:24,width:l?"calc(100% - 20px)":320}})),[l]),c=(0,o.useCallback)((e=>{p().Z.setState({open:!1,result:e});const n=p().Z.state;(0,d().j)({environment:t,event:{eventName:"click_automation_modal_option",eventProperties:{automation_id:n.open&&n.recordStore instanceof f().Mz?n.recordStore.id:void 0,option:e}}})}),[t]),u=(0,o.useCallback)((()=>c("cancel")),[c]),m=function(){const e=(0,a().Kw)(p().Z),[t,n]=(0,o.useReducer)(((e,t)=>e+1),1),i=(0,o.useRef)(void 0);return(0,o.useEffect)((()=>{e.open&&e.format!==i.current&&(n(void 0),i.current=e.format)}),[e,i]),t}();return(0,j.jsx)(g().Z,{open:e.open,keepFocus:!0,innerStyle:s.innerStyle,disableAnimation:!0,onDismiss:u,render:()=>e.open&&(0,j.jsx)(w,{id:`${m}`,modalState:e,onDismiss:c},`${m}`)})}function w(e){const{id:t,modalState:n,onDismiss:i}=e,{icon:a}=n.format,d=(0,l().YB)(),p=(0,o.useRef)(null);(0,o.useEffect)((()=>{null!==p.current&&p.current.focus()}),[]);const f=(0,r().yK)((e=>({wrap:{display:"flex",flexDirection:"column"},buttonWrap:{display:"flex",flexDirection:"column",gap:10,marginTop:10},textWrap:{whiteSpace:"pre-wrap",wordBreak:"break-word",textAlign:"center",fontWeight:c().Ue.medium,marginTop:10,marginBottom:10,display:"flex",flexDirection:"column",alignItems:"center"},icon:{marginBottom:10},cancelButton:{justifyContent:"center"}})),[]),{store:g}=(0,u().Cl)({initialValue:n.format.text,onChange:()=>{}}),k=[(0,j.jsx)(h().Z,{isLarge:!0,onClick:()=>i("continue"),ref:p,children:n.format.continueButtonText},"continue"),(0,j.jsx)(b().Z,{isLarge:!0,onClick:()=>i("cancel"),isLightGray:!0,style:f.cancelButton,children:n.format.cancelButtonText},"cancel")],w=`automation-modal-dialog-${t}`;return(0,j.jsx)(x().Z,{debugName:"AutomationModal",capture:!0,allowEsc:!0,children:(0,j.jsxs)("div",{"aria-modal":"true","aria-label":d.formatMessage(v.confirmationDialogAriaLabel),"aria-describedby":w,role:"dialog",style:f.wrap,children:[(0,j.jsxs)("div",{style:f.textWrap,children:[a&&(0,j.jsx)("div",{style:f.icon,children:(0,j.jsx)(y().Z,{size:50,icon:{icon:a,pointer:n.recordStore.pointer},disabled:!0,isEmptyPage:!1,bucket:"public",onChange:s().ZT})}),(0,j.jsx)("div",{id:w,children:(0,j.jsx)(S().Z,{disabled:!0,disableStyleAnnotations:!0,inPageFind:m().B3.none,store:g,parentStore:n.recordStore})})]}),(0,j.jsx)("div",{style:f.buttonWrap,children:k})]})})}},407121:(e,t,n)=>{n.d(t,{Z:()=>a});class o extends(()=>n(263184))().default{getInitialState(){return{open:!1}}}const i=new o;(0,n(947115).exposeDebugValue)("AutomationModalStore",i);const a=i}}]);