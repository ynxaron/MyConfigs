"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[92329],{477253:(e,t,r)=>{r.d(t,{Z:()=>n});r(667294);var o=r(785893);const n=function(e){let{switcherProps:t,...n}=e;return(0,o.jsx)(r(446955).Z,{right:(0,o.jsx)(r(471645).Z,{onClick:n.onClick,disabled:n.disabled,...t}),...n})}},877691:(e,t,r)=>{r.d(t,{J:()=>n});r(667294);var o=r(785893);const n=(0,r(827282).IU)("layout",{viewBox:"0 0 14 14",svg:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.39999 2.19999C2.28953 2.19999 2.19999 2.28953 2.19999 2.39998V11.5999C2.19999 11.7103 2.28953 11.7999 2.39999 11.7999H4.99997C5.11042 11.7999 5.19997 11.7103 5.19997 11.5999V2.39998C5.19997 2.28953 5.11042 2.19999 4.99997 2.19999H2.39999ZM1 2.39998C1 1.6268 1.62679 1 2.39999 1H4.99997C5.77316 1 6.39995 1.6268 6.39995 2.39998V11.5999C6.39995 12.3731 5.77316 12.9999 4.99997 12.9999H2.39999C1.62679 12.9999 1 12.3731 1 11.5999V2.39998ZM9 8.80036C8.88954 8.80036 8.8 8.88991 8.8 9.00036V11.6003C8.8 11.7108 8.88954 11.8003 9 11.8003H11.6C11.7105 11.8003 11.8 11.7108 11.8 11.6003V9.00036C11.8 8.88991 11.7105 8.80036 11.6 8.80036H9ZM7.60001 9.00036C7.60001 8.22717 8.2268 7.60037 9 7.60037H11.6C12.3731 7.60037 13 8.22717 13 9.00036V11.6003C13 12.3736 12.3731 13.0003 11.6 13.0003H9C8.2268 13.0003 7.60001 12.3736 7.60001 11.6003V9.00036ZM8.79994 2.39998C8.79994 2.28953 8.88949 2.19999 8.99994 2.19999H11.5999C11.7104 2.19999 11.7999 2.28953 11.7999 2.39998V4.99997C11.7999 5.11043 11.7104 5.19996 11.5999 5.19996H8.99994C8.88949 5.19996 8.79994 5.11043 8.79994 4.99997V2.39998ZM8.99994 1C8.22675 1 7.59995 1.6268 7.59995 2.39998V4.99997C7.59995 5.77316 8.22675 6.39995 8.99994 6.39995H11.5999C12.3731 6.39995 12.9999 5.77316 12.9999 4.99997V2.39998C12.9999 1.6268 12.3731 1 11.5999 1H8.99994Z"})})},697360:(e,t,r)=>{r.d(t,{kj:()=>c,zY:()=>l});r(821057);var o=()=>r(139224),n=()=>r(932753),i=()=>r(382474);const a={property:function(e){let{template:t,collectionStore:n,collectionViewStore:a,collectionSettingsStore:l}=e;const c=(0,i().ZQ)({collectionStore:n,templateId:t.templateId,instancePointerType:"property"});if(!c)throw new Error(`No property instance found for property template ${t.templateId}`);const s=a.getType();o().H4({collectionSettingsStore:l,item:{type:"property",property:c.id,formatKey:s?r(109477).oz(s):void 0}})},collection_view:function(e){let{template:t,environment:r,collectionStore:o,collectionContextStore:n}=e;const a=(0,i().ZQ)({collectionStore:o,templateId:t.templateId,instancePointerType:"collection_view"});if(!a)throw new Error(`No collection view instance found for property template ${t.templateId}`);c({environment:r,collectionContextStore:n,collectionViewId:a.id})},compound:function(e){}};function l(e){a[e.template.type](e)}function c(e){var t;let{environment:r,collectionContextStore:i,collectionViewId:a}=e;(null===(t=i.collectionViewStore())||void 0===t?void 0:t.id)!==a&&(0,n().f8)({environment:r,collectionContextStore:i,collectionViewId:a,isFullScreen:i.isFullScreenStore.state,isRootChild:i.isRootChildStore.state,isInPeekRenderer:i.isInPeekRendererStore.state}),o().H4({collectionSettingsStore:i.settingsStore,item:{type:"main"}})}},792329:(e,t,r)=>{r.r(t),r.d(t,{WorkflowSettingsConfirmAddTemplate:()=>H,isWorkflowTemplateWithConfirmStep:()=>Z});r(821057);var o=r(667294),n=()=>r(219727),i=()=>r(846550),a=()=>r(353329),l=()=>r(788860),c=()=>r(513670),s=()=>r(139224),p=()=>r(269299),d=()=>r(205951),y=()=>r(477253),g=()=>r(18748),m=()=>r(906651),u=()=>r(388284),b=()=>r(125659),f=()=>r(594546),x=()=>r(298032),v=()=>r(697360),h=()=>r(281236),w=(r(241792),()=>r(38883)),S=()=>r(246471),k=r(785893);function C(e){let{template:t,style:r}=e;const o=(0,i().yK)((e=>({container:{...r,padding:12,border:`1px solid ${e.regularDividerColor}`,borderRadius:6}})),[r]),n=function(e){if((0,a().U2)(e,"property")&&(0,a().kw)(e)){const{options:t=[]}=e.value;if(0===t.length)return;return(0,k.jsx)(j,{options:t})}}(t);return n?(0,k.jsx)("div",{style:o.container,children:n}):null}function j(e){let{options:t}=e;const r=(0,i().yK)((()=>({container:{display:"flex",flexDirection:"column",gap:8}})),[]);return(0,k.jsx)("div",{style:r.container,children:t.map((e=>(0,k.jsx)("div",{children:(0,k.jsx)(S().a,{format:w().lo.Medium,isSingle:!0,value:e.value,color:e.color,showRemoveButton:!1})},e.id)))})}var T=()=>r(499819);function H(e){let{template:t,collectionSettingsStore:r}=e;const[a,c]=(0,o.useState)("sample"===t.propertyOptionsType),{device:{isMobile:s}}=(0,n().O7)(),p=(0,i().yK)((e=>{const t={display:"flex",flexDirection:"column",minHeight:0};return{shrinkableHeight:t,noShrink:{flexShrink:0},featurePreviewWrapper:{...t,width:"-webkit-fill-available"},featurePreviewBody:{...t,gap:16,...s?{margin:"16px 0"}:{margin:0}},featurePreview:{...t,overflow:"auto"},addButtonContainer:{...s?{margin:"12px 0"}:{marginBottom:6}}}}),[s]),m=(0,h().getWorkflowTemplateName)(t);return(0,k.jsxs)(d().ZP,{collectionSettingsStore:r,title:(0,k.jsx)(l()._H,{id:"workflowTemplateSettings.confirmAddTemplate.title",defaultMessage:"Turn on {templateName}",values:{templateName:m}}),disableScroller:!0,menuScrollerStyle:p.shrinkableHeight,innerContentWrapperStyle:p.shrinkableHeight,children:[(0,k.jsx)(u().Z,{style:p.shrinkableHeight,children:(0,k.jsx)(g().ZP,{style:p.shrinkableHeight,textWrapperStyle:p.featurePreviewWrapper,bodyStyle:p.featurePreviewBody,body:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(I,{template:t,style:p.noShrink}),(0,k.jsx)(C,{template:t,style:p.featurePreview})]})})}),(0,k.jsx)(u().Z,{style:p.noShrink,children:t.value.options&&t.value.options.length>0&&(0,k.jsx)(y().Z,{title:(0,k.jsx)(l()._H,{id:"workflowTemplateSettings.confirmAddTemplate.propertyOptionsToggle",defaultMessage:"Set my own options"}),switcherProps:{on:a,disallowTabbing:!0},onClick:()=>{c(!a)}})}),(0,k.jsx)(u().Z,{style:p.noShrink,children:(0,k.jsx)(g().ZP,{body:(0,k.jsx)(V,{template:t,startEmpty:a}),bodyStyle:p.addButtonContainer})})]})}function I(e){let{template:t,style:r}=e;const o=(0,n().Fy)(),l=(0,i().yK)((()=>({container:{...r,display:"flex",alignItems:"center",gap:12},textWrapper:{lineHeight:o.isMobile?"20px":"18px"},title:{fontSize:o.isMobile?16:13},caption:{fontSize:o.isMobile?14:12,overflow:"hidden",color:"gray",whiteSpace:"nowrap",textOverflow:"ellipsis"}})),[o,r]),c=(0,h().getWorkflowTemplateName)(t),s=(0,a().ym)(t);return(0,k.jsxs)("div",{style:l.container,children:[(0,k.jsx)(T().$,{template:t,backgroundSize:32}),(0,k.jsxs)("div",{style:l.textWrapper,children:[(0,k.jsx)("div",{style:l.title,children:c}),s&&(0,k.jsx)("div",{style:l.caption,children:s})]})]})}function V(e){let{template:t,startEmpty:r}=e;const o=(0,i().yK)((()=>({section:{paddingTop:12,paddingBottom:12},button:{width:"100%"}})),[]),a=(0,n().O7)(),d=(0,b().Y$)(),y=(0,h().getWorkflowTemplateName)(t),g=c().Xh(t);return r&&delete g.value.options,(0,k.jsx)(m().Z,{style:o.button,isLarge:!0,onClick:()=>{p().createAndCommit({userAction:"WorkflowSettingsConfirmAddTemplate.addFeatureTemplateToTarget",environment:a,canUndo:!0,perform:e=>{const r=d.collectionStore();if(!r)throw new Error("collectionStore not found");x().rU({environment:a,transaction:e,collectionStore:r,template:g,logger:new(h().WorkflowTemplateLogger),origin:"suggested_feature"});const o=d.settingsStore;s().z$({collectionSettingsStore:o});const n=r.getWorkflowTemplateId();(0,f().j)({environment:a,event:{eventName:"suggested_feature_template_added",eventProperties:{origin:"suggested_properties",template_id_added:t.templateId,collection_template_id:n}}});const i=d.collectionViewStore();i&&(0,v().zY)({template:t,environment:a,collectionStore:r,collectionViewStore:i,collectionSettingsStore:o,collectionContextStore:d})}})},children:(0,k.jsx)(l()._H,{id:"workflowTemplateSettings.confirmAddTemplate.button",defaultMessage:"Add {templateName}",values:{templateName:y}})})}function Z(e){return"property"===e.type&&("select"===e.value.type||"multi_select"===e.value.type)}},499819:(e,t,r)=>{r.d(t,{$:()=>k,l:()=>w});r(821057),r(667294);var o=()=>r(142735),n=()=>r(846550),i=()=>r(353329),a=()=>r(445520),l=()=>r(766933),c=()=>r(890085),s=()=>r(696459),p=()=>r(716025),d=()=>r(828458),y=()=>r(850790),g=()=>r(383507),m=()=>r(877691),u=()=>r(80159),b=()=>r(413894),f=()=>r(281236),x=r(785893);const v=16;function h(e){let{icon:t,theme:r,size:o,style:i}=e;const l=(0,n().yK)((e=>({icon:{fill:(0,b().A)(t,e).icon.primary,...i}})),[t,i]);return(0,x.jsx)(a().Z,{icon:t,theme:r,size:o,style:l.icon})}function w(e){var t;let{template:r,size:o,iconStyle:a}=e;const l=o??v,d=(0,n().yK)((()=>({icon:{width:l,height:l,...a}})),[l,a]),b=(0,n().Fg)();if((0,i().Wl)(r.templateId))return(0,g().Q)(d.icon);const{type:f}=r;switch(f){case"property":return(0,x.jsx)(S,{template:r,iconSize:l,styles:d});case"collection_view":return(0,x.jsx)(p().F,{viewIcon:null===(t=r.value.format)||void 0===t?void 0:t.collection_view_icon,viewType:r.value.type,color:"lightGray",style:d.icon});case"layout":return(0,x.jsx)(x.Fragment,{children:(0,m().J)(d.icon)});case"block":return(0,x.jsx)(x.Fragment,{children:(0,u().w)(d.icon)});case"collection":case"compound":const e="collection"===r.type?r.value.targetCollection.icon:r.icon;if(!(0,c().V2)(e))throw new Error("Only Notion static icons are allowed for template icons");return(0,x.jsx)(h,{icon:e,theme:b,size:l,style:d.icon});case"automation":return(0,x.jsx)(x.Fragment,{children:(0,y().K)(d.icon)});default:(0,s().t1)(f)}}function S(e){let{template:t,iconSize:r,styles:i}=e;const a=(0,n().Fg)(),c=(0,o().VK)((()=>{const{relatedCollectionTemplateId:e}=t;if("relation"===t.value.type&&e){return f().globalWorkflowTemplates.fromIdOfType({templateId:e,type:"collection"}).value.targetCollection.icon}return t.value.icon}),[t]);return(0,x.jsx)(l().ZP,{type:t.value.type,icon:c,size:r,style:i.icon,theme:a})}function k(e){let{template:t,backgroundSize:r}=e;const o=(0,n().yK)((e=>({iconContainer:{background:C({theme:e,template:t})[30]},icon:{fill:C({theme:e,template:t})[400]}})),[t]);return(0,x.jsx)(d().I,{backgroundColor:o.iconContainer.background,backgroundSize:r,icon:(0,x.jsx)(w,{template:t,iconStyle:o.icon})})}function C(e){let{theme:t,template:r}=e;const{type:o}=r;switch(o){case"collection_view":case"automation":return t.accentColors.blue;case"property":return"relation"===r.value.type?t.accentColors.yellow:t.accentColors.red;case"layout":return t.accentColors.orange;case"block":return t.accentColors.purple;case"compound":return t.accentColors.green;case"collection":return t.accentColors.pink;default:(0,s().t1)(o)}}},413894:(e,t,r)=>{r.d(t,{A:()=>i});var o=()=>r(890085);const n={light:{gray:{stroke:{secondary:"rgba(84, 72, 49, 0.15)"},fill:{primary:"rgba(84, 72, 49, 0.15)",secondary:"rgba(84, 72, 49, 0.08)",tertiary:"rgba(84, 72, 49, 0.04)"},text:{primary:"#1D1B16"}},red:{stroke:{secondary:"rgba(244, 171, 159, 0.40)"},fill:{primary:"rgba(244, 171, 159, 0.40)",secondary:"rgba(244, 171, 159, 0.40)",tertiary:"rgba(243, 136, 118, 0.07)"},text:{primary:"#5D1715"}},brown:{stroke:{secondary:"rgba(210, 162, 141, 0.35)"},fill:{primary:"rgba(210, 162, 141, 0.35)",secondary:"rgba(210, 162, 141, 0.17)",tertiary:"rgba(210, 162, 141, 0.07)"},text:{primary:"#442A1E"}},orange:{stroke:{secondary:"rgba(224, 124, 57, 0.27)"},fill:{primary:"rgba(224, 124, 57, 0.27)",secondary:"rgba(224, 124, 57, 0.15)",tertiary:"rgba(224, 124, 57, 0.07)"},text:{primary:"#49290E"}},yellow:{stroke:{secondary:"rgba(236, 191, 66, 0.39)"},fill:{primary:"rgba(236, 191, 66, 0.39)",secondary:"rgba(215, 177, 24, 0.15)",tertiary:"rgba(215, 177, 24, 0.07)"},text:{primary:"#402C1B"}},green:{stroke:{secondary:"rgba(123, 183, 129, 0.27)"},fill:{primary:"rgba(123, 183, 129, 0.27)",secondary:"rgba(123, 183, 129, 0.15)",tertiary:"rgba(123, 183, 129, 0.07)"},text:{primary:"#1C3829"}},blue:{stroke:{secondary:"rgba(93, 165, 206, 0.27)"},fill:{primary:"rgba(93, 165, 206, 0.27)",secondary:"rgba(95, 167, 208, 0.15)",tertiary:"rgba(91, 166, 209, 0.07)"},text:{primary:"#183347"}},purple:{stroke:{secondary:"rgba(168, 129, 197, 0.27)"},fill:{primary:"rgba(168, 129, 197, 0.27)",secondary:"rgba(204, 170, 229, 0.15)",tertiary:"rgba(206, 175, 229, 0.07)"},text:{primary:"#412454"}},pink:{stroke:{secondary:"rgba(225, 136, 179, 0.27)"},fill:{primary:"rgba(225, 136, 179, 0.27)",secondary:"rgba(235, 159, 196, 0.15)",tertiary:"rgba(231, 147, 188, 0.07)"},text:{primary:"#4C2337"}}},dark:{gray:{stroke:{secondary:"rgba(255, 255, 255, 0.09)"},fill:{primary:"rgba(255, 255, 255, 0.13)",secondary:"rgba(255, 255, 255, 0.09)",tertiary:"rgba(255, 255, 255, 0.03)"},text:{primary:"rgba(255, 255, 255, 0.81)"}},red:{stroke:{secondary:"rgba(222, 85, 85, 0.25)"},fill:{primary:"rgba(222, 85, 84, 0.30)",secondary:"rgba(222, 85, 84, 0.30)",tertiary:"rgba(222, 85, 88, 0.10)"},text:{primary:"rgba(255, 255, 255, 0.87)"}},brown:{stroke:{secondary:"rgba(184, 101, 69, 0.25)"},fill:{primary:"rgba(184, 101, 68, 0.30)",secondary:"rgba(184, 101, 68, 0.30)",tertiary:"rgba(184, 101, 72, 0.08)"},text:{primary:"rgba(255, 255, 255, 0.87)"}},orange:{stroke:{secondary:"rgba(233, 126, 37, 0.20)"},fill:{primary:"rgba(233, 126, 36, 0.30)",secondary:"rgba(233, 126, 36, 0.30)",tertiary:"rgba(233, 126, 40, 0.06)"},text:{primary:"rgba(255, 255, 255, 0.87)"}},yellow:{stroke:{secondary:"rgba(179, 129, 61, 0.20)"},fill:{primary:"rgba(231, 161, 55, 0.30)",secondary:"rgba(231, 161, 55, 0.30)",tertiary:"rgba(162, 105, 50, 0.10)"},text:{primary:"rgba(255, 255, 255, 0.87)"}},green:{stroke:{secondary:"rgba(45, 153, 100, 0.20)"},fill:{primary:"rgba(45, 153, 100, 0.30)",secondary:"rgba(45, 153, 100, 0.30)",tertiary:"rgba(45, 153, 100, 0.08)"},text:{primary:"rgba(255, 255, 255, 0.87)"}},blue:{stroke:{secondary:"rgba(51, 126, 169, 0.20)"},fill:{primary:"rgba(51, 126, 169, 0.33)",secondary:"rgba(51, 126, 169, 0.33)",tertiary:"rgba(51, 126, 169, 0.08)"},text:{primary:"rgba(255, 255, 255, 0.87)"}},purple:{stroke:{secondary:"rgba(155, 97, 211, 0.18)"},fill:{primary:"rgba(155, 97, 211, 0.28)",secondary:"rgba(155, 97, 211, 0.28)",tertiary:"rgba(155, 97, 211, 0.08)"},text:{primary:"rgba(255, 255, 255, 0.87)"}},pink:{stroke:{secondary:"rgba(220, 76, 145, 0.22)"},fill:{primary:"rgba(220, 76, 145, 0.30)",secondary:"rgba(220, 76, 145, 0.30)",tertiary:"rgba(220, 76, 145, 0.06)"},text:{primary:"rgba(255, 255, 255, 0.87)"}}}};function i(e,t){const r=(0,o().mk)(e),i="lightgray"===r?"gray":r;return{...n[t.mode][i],icon:{primary:o().Lr[t.mode][i]}}}}}]);