"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[95076],{140798:(e,t,n)=>{n.d(t,{Lg:()=>g,N:()=>p,aG:()=>u});var o=()=>n(139978),i=()=>n(306164),r=()=>n(269299),a=()=>n(932753),s=()=>n(6006),l=()=>n(384334),d=()=>n(662062),c=()=>n(876822);function u(e){const{environment:t,currentSpaceViewStore:n,...o}=e;if(!n.getModel())return;const i=!(0,d().q)(n)[e.feature];r().createAndCommit({userAction:"userHomeActions.toggleHomeFeature",environment:t,canUndo:!0,perform:t=>{r().applyOperation({store:n,operation:{pointer:n.pointer,path:["settings","personal_home","enabled_features"],command:"update",args:{[e.feature]:i}},transaction:t})}}),(0,l().cY)({environment:t,show:i,...o})}function p(e){let{environment:t,option:n,from:o,userAction:i}=e;const a=c().default.state.currentSpaceViewStore;if(!a)return!1;const d=a.getOnAppStartStore().getValue();return r().createAndCommit({userAction:i,environment:t,canUndo:!0,perform:e=>{r().applyOperation({store:a,operation:{pointer:a.pointer,path:["settings","on_app_start"],command:"set",args:n},transaction:e})}}),(0,s().pJ)({spaceView:a.getModel(),preference:n}),(0,l().BX)({environment:t,oldValue:d,newValue:n,from:o}),!0}function g(e){const{environment:t,selectedStore:n,currentSpaceViewStore:s,collectionContextStore:d}=e,c=d.collectionViewStore(),u=d.collectionStore(),p=d.collectionViewBlockStore();if(!(u&&c&&p&&s))return;const g=s.getTeamsStores(),m=n.table===i().e0?g.indexOf(n)+1:0,h=n.table===i().e0?n.id:void 0;r().createAndCommit({environment:t,userAction:"PersonalHomeTrendingPanel.setCollectionViewSourceTeamId",canUndo:!0,perform:e=>{r().applyOperation({store:c,operation:{pointer:{id:c.id,table:o().np},path:["format","collection_view_source","teamId"],command:"set",args:h},transaction:e}),a().mc({environment:t,collectionViewBlockStore:p,collectionViewStore:c,collectionStore:u,collectionContextStore:d,isFullScreen:!1,isRootChild:!1,isInPeekRenderer:!1,viewsModuleContextType:void 0,forceLocalQueryCollection:!1})}}),(0,l().Ay)({environment:t,teamId:h,index:m})}},155056:(e,t,n)=>{n.d(t,{TX:()=>x,jf:()=>b,pj:()=>v,qc:()=>f});n(667294);var o=()=>n(506347),i=()=>n(836273),r=()=>n(788860),a=()=>n(594546),s=()=>n(718959),l=()=>n(429725),d=()=>n(890324),c=()=>n(438793),u=()=>n(308186),p=()=>n(401411),g=()=>n(579358),m=()=>n(497065),h=n(785893);async function b(e){c().T3(e,{variant:"open_notion"}),c().eb(e,{target:"open_notion"}),await g().yF(e,{utmContent:"topbar_cta",nextRoute:i()._j.root})}function f(e,t){const{RouterStore:n}=e,a=n.state.route,g=s().np();if(c().u_(e),"page"===a.name&&a.requestedOnPublicDomain&&g){const t=(0,l().ZP)({store:g,preferPublicLink:!1,pageVisitSource:o().tY.EditPublicPage,disableSlug:!0,embedded:!1});m().navigateOnBaseUrl({environment:e,url:t,openInNewTab:a.embedded})}else e.currentUser.isLoggedIn()?u().vC({showCancel:!0,keepFocus:!1,message:(0,h.jsx)(r()._H,{defaultMessage:"When you start editing, your name, email and photo may become visible to anyone who can view the page.",id:"action.startPublicEditDialog.message"}),items:[{label:(0,h.jsx)(r()._H,{defaultMessage:"Continue",id:"action.startPublicEditDialog.continueLabel"}),color:"blue",onAccept(){d().Z.setState({editing:!0,commenting:!0})}}]}):(p().Hr({currentUserId:e.currentUser.id,blockId:t}),m().navigateOnBaseUrl({environment:e,url:i()._j.login}))}function x(e,t){const{RouterStore:n}=e,r=n.state.route,a=s().np();if(c().WT(e),"page"===r.name&&r.requestedOnPublicDomain&&a){const t=(0,l().ZP)({store:a,preferPublicLink:!1,pageVisitSource:o().tY.CommentPublicPage,disableSlug:!0,embedded:!1});m().navigateOnBaseUrl({environment:e,url:t,openInNewTab:r.embedded})}else p().Hr({currentUserId:e.currentUser.id,blockId:t}),m().navigateOnBaseUrl({environment:e,url:i()._j.login})}function v(e,t){(0,a().j)({environment:e,event:{eventName:"report_form_clicked",eventProperties:{form_id:t}}}),m().navigateOnBaseUrl({environment:e,url:i()._j.reportInappropriateForm})}},672178:(e,t,n)=>{n.d(t,{b:()=>i});var o=()=>n(594546);function i(e){let{environment:t,source:n,sourceData:i,formId:r}=e;(0,o().j)({environment:t,event:{eventName:"forms_growth_click",eventProperties:{source:n,source_data:i,form_id:r}}})}},541589:(e,t,n)=>{n.d(t,{G:()=>g,r:()=>p});var o=()=>n(142735),i=()=>n(846550),r=()=>n(718959),a=()=>n(280056),s=()=>n(589525),l=()=>n(297861),d=()=>n(505121),c=()=>n(749826),u=()=>n(382736);function p(e){const{environment:t,rightEdgeDistance:n,isInPeekRenderer:a}=e,l=e.width??36,c=(0,o().VK)((()=>(0,s().ll)(t,a)-(0,s().vJ)(t)),[t,a]),p=(0,o().VK)((()=>g(t,16+d().Z.state)),[t]),m=(0,o().VK)((()=>n+d().Z.state),[n]),h=(0,o().VK)((()=>r().tu.state?0:1),[]),{roundButtonStyle:b}=(0,i().yK)((e=>({roundButtonStyle:{position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",background:e.whiteButtonBackground,bottom:p,right:m,width:l,height:l,borderRadius:"100%",fontSize:20,boxShadow:e.lightBoxShadow,opacity:h,transform:`translateX(-${c}px) translateZ(0)`,transition:`\n\t\t\t\t\topacity ${u().n}ms,\n\t\t\t\t\tcolor ${u().n}ms,\n\t\t\t\t\ttransform 200ms\n\t\t\t\t`}})),[c,p,m,l,h]);return b}function g(e,t){const n=c().default.checkGate({gateName:"tablet_refresh_gate"}),o=e.device.isMobileNative&&!n,i=(0,l().Y)("supportsNativeBottomBar"),r=o&&!i;return e.WindowSizeStore.getSafePaddingBottomCSS(t+(r?a().VG:0))}},981476:(e,t,n)=>{n.d(t,{Z:()=>b});n(667294);var o=()=>n(219727),i=()=>n(788860),r=()=>n(491927),a=()=>n(879952),s=()=>n(677559);const l=new(s().Ss)("publicTopbarMoreMenu",(async()=>await Promise.all([n.e(62743),n.e(52774),n.e(44832),n.e(39938),n.e(90698),n.e(84885),n.e(37358),n.e(5242),n.e(7312),n.e(90424),n.e(81580),n.e(84325),n.e(31189),n.e(69343),n.e(46293),n.e(94556),n.e(78701),n.e(38804),n.e(17100),n.e(11846),n.e(70355),n.e(2971),n.e(80741),n.e(72586),n.e(53335),n.e(71896),n.e(46616),n.e(54940),n.e(49396),n.e(98721),n.e(98032),n.e(57229),n.e(63707),n.e(86609),n.e(91253),n.e(4642),n.e(5006),n.e(6612),n.e(61171),n.e(23179),n.e(75377),n.e(31020),n.e(2942),n.e(73682),n.e(58591),n.e(54803),n.e(1953),n.e(10216),n.e(58565),n.e(69197),n.e(42055),n.e(38739),n.e(44751),n.e(81567),n.e(63257),n.e(34291),n.e(1913),n.e(56054),n.e(95076),n.e(92341),n.e(82658),n.e(4163),n.e(69583),n.e(22759),n.e(20343),n.e(21820),n.e(46945),n.e(10553),n.e(67019),n.e(27039),n.e(25265),n.e(14581),n.e(38632),n.e(61651),n.e(88702),n.e(54307),n.e(43184),n.e(87647),n.e(75861),n.e(46257),n.e(15819),n.e(45376),n.e(74943),n.e(23721),n.e(58461),n.e(72329),n.e(19592),n.e(3331),n.e(98672),n.e(52658),n.e(44642),n.e(78),n.e(58586)]).then(n.bind(n,445238)))),d=(0,s().kF)(l,(e=>e.PublicTopbarMoreMenu));var c=()=>n(314379),u=()=>n(913813),p=()=>n(560962),g=()=>n(154186),m=()=>n(448419),h=n(785893);const b=function(e){let{buttonPopupStore:t,isSiteTopbar:n,store:i}=e;const r=(0,o().O7)(),a=(0,o().MO)();return(0,h.jsx)(m().ZP,{popupType:a?m().Z4.SlideUp:m().Z4.Popup,buttonPopupStore:t,renderOrigin:e=>(0,h.jsx)(x,{buttonPopupEvents:e,isSiteTopbar:Boolean(n)}),onClick:()=>v(r),render:()=>(0,h.jsx)(d,{blockStore:i,onDismiss:()=>v(r)}),originGap:8})};function f(e){const{device:t}=e;return t.isMobile?{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",marginLeft:8,marginRight:8}:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:28,borderRadius:4}}function x(e){let{buttonPopupEvents:t,isSiteTopbar:n}=e;const r=(0,i().YB)(),a=(0,o().O7)(),{device:s}=a,l=s.isMobile;return(0,h.jsx)(g().Z,{ariaLabel:r.formatMessage({id:"publicTopbarMoreButton.ariaLabel",defaultMessage:"More actions"}),style:f(a),mobileFeedback:s.isMobile,...t,children:n?l?(0,p()._)({width:16,height:16}):(0,u().O)({width:18,height:18}):(0,c().o)({width:18,height:18})})}function v(e){a().ZH({environment:e}),r().Fj(e)}},969539:(e,t,n)=>{n.d(t,{Z:()=>I});var o=n(667294),i=()=>n(219727),r=()=>n(142735),a=()=>n(846550),s=()=>n(788860),l=()=>n(381140),d=()=>n(231077),c=()=>n(497065),u=()=>n(71410),p=()=>n(148126),g=()=>n(820545),m=()=>n(660065),h=n(785893);const b=(0,n(827282).IU)("plusRounded",{viewBox:"0 0 24 24",svg:(0,h.jsx)("path",{d:"M5.46094 11.8594C5.46094 12.1042 5.54688 12.3125 5.71875 12.4844C5.89062 12.651 6.09635 12.7344 6.33594 12.7344H11.125V17.5312C11.125 17.7656 11.2109 17.9688 11.3828 18.1406C11.5547 18.3125 11.7604 18.3984 12 18.3984C12.2448 18.3984 12.4531 18.3125 12.625 18.1406C12.7969 17.9688 12.8828 17.7656 12.8828 17.5312V12.7344H17.6641C17.9036 12.7344 18.1094 12.651 18.2812 12.4844C18.4531 12.3125 18.5391 12.1042 18.5391 11.8594C18.5391 11.6198 18.4531 11.4141 18.2812 11.2422C18.1094 11.0651 17.9036 10.9766 17.6641 10.9766H12.8828V6.19531C12.8828 5.95573 12.7969 5.75 12.625 5.57812C12.4531 5.40625 12.2448 5.32031 12 5.32031C11.7604 5.32031 11.5547 5.40625 11.3828 5.57812C11.2109 5.75 11.125 5.95573 11.125 6.19531V10.9766H6.33594C6.09635 10.9766 5.89062 11.0651 5.71875 11.2422C5.54688 11.4141 5.46094 11.6198 5.46094 11.8594Z"})});var f=()=>n(772529),x=()=>n(170210),v=()=>n(920719),y=()=>n(998901),S=()=>n(876822),C=()=>n(725751),w=()=>n(255810),j=()=>n(1910),k=()=>n(64260),M=()=>n(654133);const P=(0,s().vU)({newTabButton:{id:"desktopTopbarBrowserHistoryButton.newTabButton.label",defaultMessage:"New tab"},goBackButton:{id:"desktopTopbarBrowserHistoryButtons.goBackButton.label",defaultMessage:"Go back"},goForwardButton:{id:"desktopTopbarBrowserHistoryButton.goForwardButton.label",defaultMessage:"Go forward"}}),I=function(e){let{showPlusButton:t=!0}=e;const o=(0,r().VK)((()=>n(482162).default.isCenterPeekOpen()),[]);return(0,h.jsx)(n(967092).ZP,{style:{background:"transparent",borderRadius:0,boxShadow:"none"},origin:(0,h.jsx)(Z,{showPlusButton:t}),render:()=>(0,h.jsx)(Z,{showPlusButton:t}),placementToOrigin:y().Placement.Center,alignmentToOrigin:y().Alignment.Center,open:o,disableMouseCapture:!0,preventCaptureEsc:!0,preventScaleTransition:!0,preventOpacityTransition:!0,popupType:n(104088).k.Popup})};function _(){const e=(0,s().YB)(),t=(0,r().VK)((()=>C().default.state.isTabPositionSupported),[]);return(0,h.jsx)(M().Z,{renderTooltip:()=>(0,h.jsxs)("div",{style:{display:"flex"},children:[e.formatMessage(P.newTabButton),(0,h.jsx)(k().Z,{name:"newTab",style:{opacity:.5,marginLeft:4}})]}),placement:y().Placement.Bottom,alignment:y().Alignment.Center,originGap:6,render:n=>(0,h.jsx)(j().Z,{ariaLabel:e.formatMessage(P.newTabButton),icon:e=>b({...e,width:"24px",height:"24px"}),isDarkIconColor:!0,className:"notion-new-tab-button",style:{position:"relative"},onClick:()=>d().newTab(t),...n})})}function T(e){let{isNavigationHistorySupported:t}=e;const n=(0,s().YB)(),r=(0,i().O7)(),a=(0,o.useCallback)((e=>(0,g().I)({...e,width:"16px",height:"16px"})),[]),u=!(0,p().tx)("back");return(0,h.jsx)(M().Z,{renderTooltip:()=>(0,h.jsxs)("div",{style:{display:"flex"},children:[n.formatMessage(P.goBackButton),(0,h.jsx)(k().Z,{name:"goBack",style:{opacity:.5,marginLeft:4}})]}),placement:y().Placement.Bottom,alignment:y().Alignment.Center,originGap:6,render:e=>(0,h.jsx)(j().Z,{ariaLabel:n.formatMessage(P.goBackButton),icon:a,isDarkIconColor:!0,className:"notion-history-back-button",disabled:u,style:{position:"relative",width:24,height:24,marginRight:4},onClick:e=>function(e,t,n){var o;l().ME(t,{type:"back"});const i=e.metaKey||e.ctrlKey,r=null===(o=C().default.state.preferences)||void 0===o?void 0:o.isPinnedTabNewTabEnabled,a=w().default.state.currentTab.isPinned;n&&i?d().handleBackMetaClick():r&&a?d().handleBackPinnedClick():c().op(t)}(e,r,t),onContextMenu:e=>{!u&&t&&d().handleTabHistoryMenu("back",e.clientX,e.clientY)},...e})})}function B(e){let{isNavigationHistorySupported:t}=e;const n=(0,s().YB)(),r=(0,i().O7)(),a=(0,o.useCallback)((e=>(0,m().r)({...e,width:"16px",height:"16px"})),[]),u=!(0,p().tx)("forward");return(0,h.jsx)(M().Z,{renderTooltip:()=>(0,h.jsxs)("div",{style:{display:"flex"},children:[n.formatMessage(P.goForwardButton),(0,h.jsx)(k().Z,{name:"goForward",style:{opacity:.5,marginLeft:4}})]}),placement:y().Placement.Bottom,alignment:y().Alignment.Center,originGap:6,render:e=>(0,h.jsx)(j().Z,{ariaLabel:n.formatMessage(P.goForwardButton),icon:a,isDarkIconColor:!0,className:"notion-history-forward-button",disabled:u,style:{position:"relative",width:24,height:24,marginRight:4},onClick:e=>function(e,t,n){var o;l().ME(t,{type:"forward"});const i=e.metaKey||e.ctrlKey,r=null===(o=C().default.state.preferences)||void 0===o?void 0:o.isPinnedTabNewTabEnabled,a=w().default.state.currentTab.isPinned;n&&i?d().handleForwardMetaClick():r&&a?d().handleForwardPinnedClick():c().eH()}(e,r,t),onContextMenu:e=>{!u&&t&&d().handleTabHistoryMenu("forward",e.clientX,e.clientY)},...e})})}function Z(e){let{showPlusButton:t}=e;const n=(0,r().VK)((()=>{var e;return(null===(e=C().default.state.preferences)||void 0===e?void 0:e.isNavigationHistoryEnabled)&&C().default.state.isNavigationHistorySupported}),[]),o=(0,r().VK)((()=>{const{mainEditorCurrentBlockStore:e}=S().default.state;return(0,f().WE)(e)}),[]),i=(0,r().Kw)(v().Z),s=(0,a().yK)((e=>({container:{position:"relative",display:"flex",flexShrink:0,...o&&{padding:2,marginLeft:-2,marginRight:2}},homeBackground:{position:"absolute",top:0,left:0,right:0,bottom:0,opacity:i?0:1,...(0,x().Er)({isPhone:!1,theme:e,buttonState:"base"}),width:"100%",height:"100%",borderRadius:6,transition:"opacity 0.2s"}})),[i,o]);return(0,h.jsx)(u().Z,{capture:!0,render:e=>(0,h.jsxs)("div",{style:s.container,...e,children:[o&&(0,h.jsx)("div",{style:s.homeBackground}),(0,h.jsx)(T,{isNavigationHistorySupported:n}),(0,h.jsx)(B,{isNavigationHistorySupported:n}),t&&(0,h.jsx)(_,{})]})})}},382736:(e,t,n)=>{n.d(t,{n:()=>Be().nk,Z:()=>Ht});n(267602),n(228244);var o=n(667294),i=()=>n(219727),r=()=>n(142735),a=()=>n(82937),s=()=>n(990966),l=()=>n(514737),d=()=>n(718959),c=()=>n(566332),u=()=>n(247724),p=()=>n(949842),g=()=>n(846550),m=()=>n(416593),h=()=>n(299519),b=()=>n(969539),f=()=>n(71064),x=()=>n(265456),v=()=>n(728363),y=()=>n(508853),S=()=>n(45909),C=()=>n(105649),w=()=>n(589525),j=()=>n(183211),k=()=>n(725751),M=()=>n(697606),P=()=>n(170210),I=()=>n(681819),_=n(785893);const T=function(e){const t=(0,i().O7)(),n=(0,r().VK)((()=>M().Z.state.isHovered),[]),o=(0,r().VK)((()=>k().default.state.isShowingTabBar),[]),a=(0,r().VK)((()=>k().default.state.zoomFactor),[]),s=(0,r().VK)((()=>C().default.isPanelPinnedState()),[]),l=(0,r().VK)((()=>j().Z.state.isFullScreen),[]),c=(0,r().VK)((()=>(0,w().in)(t)),[t]),u=(0,r().VK)((()=>(0,d().h1)(t)),[t]),p=(0,r().VK)((()=>e.store.hasCover()),[e.store]),b=(0,g().yK)((e=>({container:{...v().zb({environment:t,isShowingTabBar:Boolean(o),shouldShowSidebar:u.shouldShowSidebar,isSidebarExpanded:c,isSecondarySidebarVisible:s,isBrowserFullScreen:l,isFloatingPersonalHomeTopbar:p,zoom:a||m().lO}),...p?{display:"flex",alignItems:"flex-start",paddingTop:12,opacity:n?1:0,transition:"opacity 0.2s ease"}:{}},divider:{flexGrow:1,flexShrink:1}})),[u.shouldShowSidebar,t,p,l,n,o,c,a,s]);return(0,_.jsx)(h().Z,{store:e.store,disableRectangularSelection:!0,disableEditNearestBlock:!0,render:()=>(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{style:b.container,onClick:e.handleClickTopbar,onMouseDown:e.handleMouseDown,onDoubleClick:x().wq,onMouseEnter:()=>M().Z.setState({isHovered:!0}),onMouseLeave:()=>M().Z.setState({isHovered:!1}),children:[(0,_.jsx)(B,{store:e.store,showSidebarButton:Boolean(e.showSidebarButton)}),!e.isInvalidPage&&(0,_.jsx)(f().Z,{}),(0,_.jsx)("div",{style:b.divider}),(0,_.jsx)(Z,{store:e.store,showSidebarButton:Boolean(e.showSidebarButton),isInvalidPage:e.isInvalidPage})]}),p&&(0,_.jsx)("div",{onMouseEnter:()=>M().Z.setState({isHovered:!0}),style:{pointerEvents:"none"}})]})})};function B(e){const t=(0,i().O7)(),n=(0,i().MO)(),o=(0,i().Fy)(),a=(0,r().VK)((()=>e.store.hasCover()),[e.store]),s=(0,r().VK)((()=>k().default.state.isShowingTabBar),[]),l=(0,r().VK)((()=>{const e=(0,w().in)(t);return s||e}),[t,s]),d=(0,g().yK)((e=>({noDragArea:{...(0,S().X)({noDrag:o.isElectronMac}),width:150,height:"100%"},electronButtonWrapper:{...(0,P().Er)({theme:e,isPhone:n,buttonState:"base"}),width:"fit-content",paddingLeft:2,paddingRight:2}})),[o.isElectronMac,n]);return a?o.isElectron?l?null:(0,_.jsx)("div",{style:d.noDragArea,children:(0,_.jsxs)("div",{style:d.electronButtonWrapper,children:[e.showSidebarButton&&(0,_.jsx)(y().o,{}),!s&&(0,_.jsx)(b().Z,{})]})}):(0,_.jsx)(_.Fragment,{children:e.showSidebarButton&&(0,_.jsx)(y().o,{isFloatingButton:!0})}):(0,_.jsxs)(_.Fragment,{children:[e.showSidebarButton&&(0,_.jsx)(y().o,{}),o.isElectron&&!s&&(0,_.jsx)(b().Z,{})]})}function Z(e){const t=(0,i().Fy)(),n=(0,r().VK)((()=>e.store.hasCover()),[e.store]),o=(0,g().yK)((()=>({noDragArea:{...(0,S().X)({noDrag:t.isElectronMac}),width:150,height:"100%",display:"flex",justifyContent:"flex-end"}})),[t.isElectronMac]);return n&&t.isElectron?(0,_.jsx)("div",{style:o.noDragArea,children:(0,_.jsx)(I().E,{store:e.store,isInvalidPage:e.isInvalidPage})}):(0,_.jsx)(I().E,{store:e.store,isInvalidPage:e.isInvalidPage})}var L=()=>n(772529),V=()=>n(677559);const E=new(V().Ss)("PublicSharingTopbar",(()=>Promise.all([n.e(62743),n.e(4611)]).then(n.bind(n,845723)))),K=(0,V().kF)(E,(e=>e.PublicSharingTopbar));var H=()=>n(291335),R=()=>n(658096),F=()=>n(876822),O=()=>n(749826),D=()=>n(826955),A=()=>n(922003),N=()=>n(853516),U=()=>n(527308);function W(e){const t=(0,i().Fy)(),n=(0,r().VK)((()=>k().default.state.isShowingTabBar),[]),o=(0,g().yK)((e=>({container:{display:"flex",flexGrow:1,fontSize:14}})),[]);return(0,_.jsxs)("div",{style:o.container,children:[e.showSidebarButton&&(0,_.jsx)(y().o,{}),t.isElectron&&!n&&(0,_.jsx)(b().Z,{}),(0,_.jsx)(N().Yo,{store:e.teamStore,showDivider:!1,maxWidth:160})]})}function z(e){const{isPhone:t}=(0,i().Fy)(),n=(0,g().yK)((()=>({container:{display:"flex"}})),[]);return(0,_.jsxs)("div",{style:n.container,children:[!t&&(0,_.jsx)(A().hx,{teamStore:e.teamStore}),(0,_.jsx)(U().o,{teamStore:e.teamStore})]})}const G=function(e){const t=(0,i().O7)(),n=(0,r().VK)((()=>k().default.state.isShowingTabBar),[]),o=(0,r().VK)((()=>k().default.state.zoomFactor),[]),a=(0,r().VK)((()=>C().default.isPanelPinnedState()),[]),s=(0,r().VK)((()=>j().Z.state.isFullScreen),[]),l=(0,r().VK)((()=>(0,w().in)(t)),[t]),c=(0,r().VK)((()=>(0,d().h1)(t)),[t]),u=(0,g().yK)((e=>({container:{...v().zb({environment:t,isShowingTabBar:Boolean(n),shouldShowSidebar:c.shouldShowSidebar,isSidebarExpanded:l,isSecondarySidebarVisible:a,isBrowserFullScreen:s,zoom:o||m().lO})},divider:{flexGrow:1,flexShrink:1}})),[c.shouldShowSidebar,t,s,n,l,o,a]);return(0,_.jsx)(h().Z,{store:e.teamStore,disableRectangularSelection:!0,disableEditNearestBlock:!0,render:()=>(0,_.jsxs)("div",{style:u.container,onDoubleClick:x().wq,onMouseEnter:()=>M().Z.setState({isHovered:!0}),onMouseLeave:()=>M().Z.setState({isHovered:!1}),children:[(0,_.jsx)(W,{teamStore:e.teamStore,showSidebarButton:Boolean(e.showSidebarButton)}),(0,_.jsx)(f().Z,{}),(0,_.jsx)("div",{style:u.divider}),(0,_.jsx)(z,{teamStore:e.teamStore})]})})},q={LoggedOutAppBanner:new(V().Ss)("LoggedOutAppBanner",(()=>n.e(84200).then(n.bind(n,518810))))},Y=(0,V().kF)(q.LoggedOutAppBanner,(e=>e.LoggedOutAppBanner));var $=()=>n(801812),X=()=>n(396136),J=()=>n(788860),Q=()=>n(438793),ee=()=>n(824462),te=()=>n(291338),ne=()=>n(155056),oe=()=>n(497065),ie=()=>n(205228),re=()=>n(122479),ae=()=>n(148126),se=()=>n(965910),le=()=>n(768927),de=()=>n(610898),ce=()=>n(720029),ue=()=>n(374469),pe=()=>n(108714),ge=()=>n(92175),me=()=>n(906651),he=()=>n(981476),be=()=>n(657320),fe=()=>n(506347),xe=()=>n(572680),ve=()=>n(836273),ye=()=>n(308186),Se=()=>n(401411),Ce=()=>n(278275),we=()=>n(429725),je=()=>n(772327),ke=()=>n(728757),Me=()=>n(291550),Pe=()=>n(279174),Ie=()=>n(890324),_e=()=>n(384241),Te=()=>n(714468),Be=()=>n(596986),Ze=()=>n(716228),Le=()=>n(644248),Ve=()=>n(68744),Ee=()=>n(953293),Ke=()=>n(918302),He=()=>n(793935),Re=()=>n(590972),Fe=()=>n(279386),Oe=()=>n(661297),De=(n(653476),n(241792),()=>n(728670)),Ae=()=>n(729775),Ne=()=>n(239482),Ue=()=>n(772084),We=()=>n(943620);function ze(e){const{store:t}=e,n=(0,r().VK)((()=>t.getSpaceStore()),[t]),o=(0,r().VK)((()=>{var e;if(!n)return[];const o=Ue().gR(t),i=null==o||null===(e=o.getSiteStore())||void 0===e||null===(e=e.getHeader())||void 0===e?void 0:e.customItems;return i?i.filter((e=>"block"===e.type)):[]}),[t,n]);return n&&o&&0!==o.length?(0,_.jsx)("div",{style:{display:"flex"},children:o.map((e=>(0,_.jsx)(Ge,{spaceStore:n,blockId:e.blockId},e.blockId)))}):null}function Ge(e){const{spaceStore:t,blockId:n}=e,{store:o,icon:i,isEmptyPage:a,url:s,isReady:l,hasPublicAccess:d}=(0,r().VK)((()=>{const e=D().G.createChildStore(t,{table:X().iU,id:n}),o=(0,we().ZP)({store:e,preferPublicLink:!0,pageVisitSource:fe().tY.SiteCustomHeader}),i=(0,Ne().fJ)(e),r=(0,De().$t)(i);return{store:e,icon:e.getIcon(),isEmptyPage:e.isEmptyPage(),url:o,isReady:e.isReady(),hasPublicAccess:r}}),[t,n]),c=(0,g().yK)((e=>({container:{display:"flex",alignItems:"center",gap:4,padding:4,borderRadius:4},pageTitle:{fontSize:14,wordBreak:"break-word",marginRight:4}})),[]);return d&&l?(0,_.jsxs)(Ae().Z,{href:s,style:c.container,children:[i&&(0,_.jsx)(We().Z,{icon:i,store:o,disabled:!0,size:14,isEmptyPage:a,emojiSize:20}),(0,_.jsx)(_e().Z,{store:o,style:c.pageTitle,maxLength:30})]}):null}var qe=()=>n(579358),Ye=()=>n(215791),$e=()=>n(741636);const Xe={width:18,height:18,marginRight:6};function Je(e){const t=(0,g().Fg)(),n=(0,i().O7)(),{device:o}=n,{store:r,isInvalidPage:a}=e;return o.isMobile||a?null:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(he().Z,{store:r,buttonPopupStore:ue().Z}),(0,_.jsx)("div",{style:v().DG(t)}),(0,_.jsx)(Qe,{store:r})]})}function Qe(e){const{store:t}=e,n=(0,i().O7)(),a=Boolean(n.currentUser.isLoggedIn()||n.publicDomainUserId),s=(0,r().VK)((()=>{const{publicPageData:e}=R().default.state;return null==e?void 0:e.isDLSViewer}),[]),l=(0,g().Fg)(),d=(0,r().VK)((()=>Ue().pq(t)),[t]),c=(0,o.useCallback)((async()=>{Q().T3(n,{variant:"open_notion"});const{currentUserRootStore:e}=F().default.state,t=null==e?void 0:e.getSpaceViewStores();if(s&&(!t||0===t.length))return void(await(0,$e().I1)(n,{type:"create-or-join",source:"topbar"}));const o=s?ve()._j.home:ve()._j.root;await qe().yF(n,{utmContent:"topbar_cta",nextRoute:o})}),[n,s]),u=(0,o.useCallback)((async()=>{Q().T3(n,{variant:"try_notion"}),await qe().yF(n,{utmContent:"topbar_cta",nextRoute:ve()._j.signup})}),[n]);return d?null:a?(0,_.jsxs)(ge().Z,{onClick:c,children:["light"===l.mode?(0,se().h)(Xe):(0,Ye().N)(Xe),(0,_.jsx)(J()._H,{defaultMessage:"Open Notion",id:"topbar.publicPage.cta.label.open"})]}):(0,_.jsxs)(ge().Z,{onClick:u,children:["light"===l.mode?(0,se().h)(Xe):(0,Ye().N)(Xe),(0,_.jsx)(J()._H,{defaultMessage:"Try Notion",id:"topbar.publicPage.cta.label.try"})]})}var et=()=>n(577521),tt=()=>n(270820);const nt={width:14,height:14};function ot(e){const{store:t,style:n,showTitle:o,onClick:i}=e,a=function(e){return(0,r().VK)((()=>Ue().iZ(e)),[e])}(t);return a?null:(0,_.jsxs)(ge().Z,{onClick:i,children:[(0,tt().R)({...nt,...n}),o&&(0,_.jsx)(J()._H,{defaultMessage:"Search",id:"topbar.publicPage.searchButton.label"})]})}const it={width:14,height:14,marginRight:6};function rt(e){const{store:t,isInvalidPage:n,forkPageRef:a,onDuplicatePageButtonClick:s,onEditButtonClick:l,onCommentButtonClick:d,onSearchButtonClick:c}=e,u=(0,i().O7)(),p=(0,J().YB)(),[m,h]=(0,Le().C)(),b=(0,r().VK)((()=>t.canEdit()&&!Ie().Z.state.editing),[t]),f=(0,r().VK)((()=>!u.currentUser.isLoggedIn()&&t.canComment()&&!t.canEdit()),[u,t]),x=(0,r().VK)((()=>(0,re().S4)(t)),[t]),v=(0,r().VK)((()=>Re().default.state.width),[]),y=(0,r().VK)((()=>(0,w().Sx)(u)),[u]),S=(0,r().VK)((()=>y&&(Re().default.state.mouseEntered||h)),[y,h]),C=(0,Be().Q4)(),j=(0,g().yK)((()=>({container:{display:"flex",width:y?v:void 0,justifyContent:"space-between",paddingLeft:C},rightButtons:{display:"flex"}})),[y,v,C]),k=(0,o.useCallback)((()=>{(0,He().setUpdateExpand)({environment:u,isExpanded:!1,from:"topbar",saveDetailsSidebarPreference:!0})}),[u]),M=(0,r().VK)((()=>{var e;return null===(e=Fe().MT.getStateForBlock(t.id))||void 0===e?void 0:e.mode}),[t.id]);return(0,_.jsxs)("div",{style:j.container,ref:m,children:[(0,_.jsx)(et().C,{isVisible:S,icon:Ve().t,caption:p.formatMessage({defaultMessage:"Close panel",id:"defaultPublicTopbar.updateSidebarUnexpandButton.closePanel.tooltip"}),onClick:k,keyboardShortcutName:"toggleUpdateSidebar"}),(0,_.jsxs)("div",{style:j.rightButtons,children:["suggest"===M&&(0,_.jsx)("div",{style:{marginRight:8,padding:"0 8px"},children:(0,_.jsx)(Ze().B,{store:t,isVisible:"suggest"===M,compact:!1})}),(0,_.jsx)(ze,{store:t}),b&&(0,_.jsxs)(Oe().Z,{onClick:l,style:{marginRight:8,padding:"0 8px"},children:[(0,Ee().R)(it),(0,_.jsx)(J()._H,{id:"topbar.publicPage.edit",defaultMessage:"Edit"})]}),!u.currentUser.isLoggedIn()&&f&&(0,_.jsxs)(Oe().Z,{onClick:d,style:{marginRight:8,padding:"0 8px"},children:[(0,Ke().s)(it),(0,_.jsx)(J()._H,{id:"topbar.publicPage.comment",defaultMessage:"Comment"})]}),(0,_.jsx)(ot,{store:t,style:it,showTitle:!0,onClick:c}),x&&(0,_.jsx)(ge().Z,{ref:a,onClick:s,children:(0,_.jsx)(J()._H,{defaultMessage:"Duplicate",id:"topbar.publicPage.duplicateButton.label"})}),(0,_.jsx)(Je,{store:t,isInvalidPage:n})]})]})}var at=()=>n(998901),st=()=>n(654133);function lt(e){const{iconStyle:t,store:n}=e,o=(0,i().O7)(),a=(0,r().VK)((()=>n.canComment()),[n]),s=(0,r().VK)((()=>Ie().Z.state.commenting),[]);return!a||s?null:(0,_.jsx)(st().Z,{renderTooltip:()=>(0,_.jsx)(J()._H,{id:"topbar.publicPage.commentButton.tooltip",defaultMessage:"Comment"}),placement:at().Placement.Bottom,alignment:at().Alignment.Center,originGap:6,render:e=>(0,_.jsx)(ge().Z,{...e,onClick:()=>ne().TX(o,n.id),children:(0,Ke().s)(t)})})}function dt(e){const{iconStyle:t,store:n}=e,o=(0,i().O7)(),a=(0,r().VK)((()=>n.canEdit()),[n]),s=(0,r().VK)((()=>Ie().Z.state.editing),[]);return!a||s?null:(0,_.jsx)(st().Z,{renderTooltip:()=>(0,_.jsx)(J()._H,{id:"topbar.publicPage.editButton.tooltip",defaultMessage:"Edit"}),placement:at().Placement.Bottom,alignment:at().Alignment.Center,originGap:6,render:e=>(0,_.jsx)(ge().Z,{...e,onClick:()=>ne().qc(o,n.id),children:(0,Ee().R)(t)})})}const ct=o.forwardRef((function(e,t){const{iconStyle:o,onClick:i}=e;return(0,_.jsx)(st().Z,{renderTooltip:()=>(0,_.jsx)("div",{style:{display:"flex"},children:(0,_.jsx)(J()._H,{id:"topbar.publicPage.duplicateButton.tooltip",defaultMessage:"Duplicate"})}),placement:at().Placement.Bottom,alignment:at().Alignment.Center,originGap:6,render:e=>(0,_.jsx)(ge().Z,{onClick:i,ref:t,...e,children:(0,n(802600).a)(o)})})}));var ut=()=>n(767628);function pt(e){const t=(0,i().O7)(),{device:n}=t,a=(0,J().YB)(),{store:s,isInvalidPage:l,iconStyle:d,onSearchButtonClick:c,forkPageRef:u,onDuplicatePageButtonClick:p}=e,[m,h]=(0,Le().C)(),b=(0,r().VK)((()=>ce().Z.isActiveDemo()),[]),f=(0,r().VK)((()=>(0,re().S4)(s)),[s]),x=(0,r().VK)((()=>Re().default.state.width),[]),v=(0,r().VK)((()=>(0,w().Sx)(t)),[t]),y=(0,r().VK)((()=>v&&(Re().default.state.mouseEntered||h)),[v,h]),S=(0,Be().Q4)(),C=(0,g().yK)((()=>({container:{display:"flex",width:v?x:void 0,justifyContent:"space-between",paddingLeft:S},rightButtons:{display:"flex"}})),[v,x,S]),j=(0,o.useCallback)((()=>{(0,He().setUpdateExpand)({environment:t,isExpanded:!1,from:"topbar",saveDetailsSidebarPreference:!0})}),[t]);return(0,_.jsxs)("div",{style:C.container,ref:m,children:[(0,_.jsx)(et().C,{isVisible:y,icon:Ve().t,caption:a.formatMessage({defaultMessage:"Close panel",id:"unauthedPublicTopbar.updateSidebarUnexpandButton.closePanel.tooltip"}),onClick:j,keyboardShortcutName:"toggleUpdateSidebar"}),(0,_.jsxs)("div",{style:C.rightButtons,children:[(0,_.jsx)(ze,{store:s}),(0,_.jsx)(ot,{store:s,onClick:c}),!b&&(0,_.jsxs)(_.Fragment,{children:[f&&(0,_.jsx)(ct,{ref:u,onClick:p,iconStyle:d}),(0,_.jsx)(lt,{store:s,iconStyle:d}),(0,_.jsx)(dt,{store:s,iconStyle:d}),!n.isMobile&&!l&&(0,_.jsx)(he().Z,{store:s,buttonPopupStore:ue().Z,isSiteTopbar:!0}),(0,_.jsx)(ut().Q,{store:s})]})]})]})}const gt={width:15,height:15};function mt(e){const{store:t,isInvalidPage:n,isElectron:a}=e,s=(0,i().O7)(),l=(0,be().l)(),{isShowingTabBar:d}=(0,r().Kw)(k().default),c=(0,r().qz)(void 0,Me().Z),u=(0,r().qz)(void 0,Pe().Z),p=Boolean(s.currentUser.isLoggedIn()||s.publicDomainUserId),g=(0,Be().xJ)({shouldRenderTemplateGalleryTopbar:!1}),m=(0,r().VK)((()=>t.isFormBlock()),[t]),h=(0,r().VK)((()=>{const e=s.RouterStore.state.route;return!!(0,xe().FK)(e)||Boolean(t.getIsFormClosed()||t.pathIsDead())}),[s,t]),b=(0,o.useRef)(!1);(0,o.useEffect)((()=>{const{RouterStore:e}=s,n=e.state.route,{publicPageData:o}=R().default.state;x().DK({store:t,environment:s})&&t.canComment()&&!t.canEdit()&&"page"===n.name&&!n.requestedOnPublicDomain&&x().cE(t,s)&&null!=o&&o.requireLogin?Ie().Z.setState({commenting:!0,editing:!1}):!x().DK({store:t,environment:s})||!t.canEdit()||"page"!==n.name||Ie().Z.state.editing||Ie().Z.state.commenting||n.shouldDuplicate||n.requestedOnPublicDomain||!x().cE(t,s)||b.current||null==o||!o.requireLogin||(b.current=!0,ht(s,t,l))}),[s,t,l]);const f=(0,o.useCallback)((()=>{Se().Hr({currentUserId:s.currentUser.id,blockId:t.id}),bt(s,l)||oe().navigateOnBaseUrl({environment:s,url:ve()._j.login})}),[s,t,l]),v=(0,o.useCallback)((()=>Ce().UT({environment:s,analyticsFrom:"public-page-topbar",isPublicPageSearch:!0})),[s]),y=(0,o.useRef)(null),S=(0,o.useCallback)((()=>{var e;const n=null===(e=y.current)||void 0===e?void 0:e.getBoundingClientRect();te().S({environment:s,store:t,originRect:n})}),[s,t,y]),C=(0,o.useCallback)((()=>{ht(s,t,l)}),[s,t,l]);return(0,_.jsxs)("div",{style:g,onDoubleClick:x().wq,children:[m&&!h&&(0,_.jsx)(_e().Z,{store:t,removeIfEmpty:!0,style:{fontSize:14}}),(0,_.jsx)(je()._,{loginModalStore:c,loginStore:u,title:(0,_.jsx)(ke().Z,{}),isSignup:!0}),Te().Z({isElectron:a,isShowingTabBar:d}),!m&&Te().Y({store:t,isInvalidPage:n}),(0,_.jsx)("div",{style:{flexGrow:1,flexShrink:1}}),p?(0,_.jsx)(rt,{store:t,isInvalidPage:n,onEditButtonClick:C,onCommentButtonClick:f,onSearchButtonClick:v,forkPageRef:y,onDuplicatePageButtonClick:S}):(0,_.jsx)(pt,{store:t,isInvalidPage:n,iconStyle:gt,forkPageRef:y,onDuplicatePageButtonClick:S,onSearchButtonClick:v})]})}function ht(e,t,n){bt(e,n)||(e.currentUser.isLoggedIn()?ye().vC({showCancel:!0,keepFocus:!1,message:(0,_.jsx)(J()._H,{defaultMessage:"When you start editing, your name, email and photo may become visible to anyone who can view the page.",id:"topbar.startPublicEditDialog.message"}),items:[{label:(0,_.jsx)(J()._H,{defaultMessage:"Continue",id:"topbar.startPublicEditDialog.continueLabel"}),color:"blue",onAccept(){Ie().Z.setState({editing:!0,commenting:!0})}}]}):(Se().Hr({currentUserId:e.currentUser.id,blockId:t.id}),oe().navigateOnBaseUrl({environment:e,url:ve()._j.login})))}function bt(e,t){const{RouterStore:n}=e,o=n.state.route,i=null==t?void 0:t.pageStore;if("page"===o.name&&o.requestedOnPublicDomain&&i){const t=(0,we().ZP)({store:i,preferPublicLink:!1,pageVisitSource:fe().tY.EditPublicPage});return oe().navigateOnBaseUrl({environment:e,url:t}),!0}return!1}function ft(e){const{blockStore:t,isInvalidPage:n}=e,r=(0,i().O7)(),a=(0,Be().xJ)({shouldRenderTemplateGalleryTopbar:!0}),s=(0,g().yK)((()=>({breadcrumb:v().Fy(),icon:{width:14,height:14,marginRight:6}})),[]),l=(0,o.useCallback)((()=>{Ce().UT({environment:r,analyticsFrom:"public-page-topbar",isPublicPageSearch:!0})}),[r]);return(0,_.jsxs)("div",{style:a,onDoubleClick:x().wq,children:[!n&&(0,_.jsx)(N().l2,{store:t,style:s.breadcrumb,maxAncestorCount:2,ancestorMaxWidth:160,currentPageMaxWidth:240,showCurrentPageControls:!0,isMobile:!1}),(0,_.jsx)("div",{style:{flexGrow:1,flexShrink:1}}),(0,_.jsxs)(ge().Z,{onClick:l,children:[(0,tt().R)(s.icon),(0,_.jsx)(J()._H,{defaultMessage:"Search",id:"topbar.publicPage.searchButton.label"})]})]})}var xt=()=>n(49489);function vt(e){var t,n,a;const{blockStore:s,isInvalidPage:l,isElectron:d}=e,c=(0,i().O7)(),u=(0,r().VK)((()=>R().default.state.publicPageData),[]),p=null==u||null===(t=u.template)||void 0===t?void 0:t.blockId,m=(0,o.useMemo)((()=>p?new(D().G)(c,{table:X().iU,id:p}):void 0),[p,c]),h=null==u||null===(n=u.template)||void 0===n?void 0:n.listingId,b=(0,r().VK)((()=>{var e;return O().default.getConfigKey("marketplace_public_purchase_url_optout","usernames").includes((null==u||null===(e=u.template)||void 0===e?void 0:e.creator.username)??"")}),[null==u||null===(a=u.template)||void 0===a?void 0:a.creator.username]),[f]=(0,$().r5)((async()=>{if(h){const e=await ee().callApi({eventName:"getMarketplacePurchaseRoute",environment:c,data:{marketplaceListingId:h}});if("success"===e.type&&e.data.success){if(b&&"checkout"===e.data.type)return null;if("free"===e.data.type||"checkout"===e.data.type)return e.data.url}return null}}),[c,h,b]),v="resolved"===f.status,S=f.value,C=(0,r().VK)((()=>m&&(0,re().S4)(m)),[m]),[w,j]=(0,o.useState)(!1),k=(0,Be().xJ)({shouldRenderTemplateGalleryTopbar:!0}),M=(0,g().yK)((e=>({borderBottom:{borderBottom:`1px solid ${e.lightDividerColor}`},topbarContents:{display:"flex",alignItems:"center"},notionLogoStyle:{width:20,height:20},templatesIcon:{width:20,height:20,marginRight:4,marginTop:2},templateGalleryButton:{display:"flex",alignItems:"center",fontSize:15,fontWeight:600},centerText:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",overflow:"hidden",textWrap:"nowrap"},templateNameText:{fontSize:13.5,fontWeight:600},templateCreatorText:{fontSize:12,color:e.lightTextColor},templateCreatorLink:{fontSize:12,color:e.lightTextColor,cursor:"pointer"},publicTopbarMoreButton:{marginRight:8}})),[]),P=(0,r().VK)((()=>ce().Z.getState().isActive),[]),I=(0,r().VK)((()=>{const e=(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(ge().Z,{disabled:P,onClick:async()=>{P||await ne().jf(c)},"aria-disabled":P,children:(0,se().h)(M.notionLogoStyle)}),(0,_.jsx)(xt().Z,{})]});return(0,ae().Sr)(c)?H().sidebarExpandedStore.state?null:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(y().o,{}),e]}):e}),[c,M.notionLogoStyle,P]),T=(0,o.useCallback)((()=>{S?oe().navigateOnBaseUrl({environment:c,url:S,extraSearchParams:{from:"public_page"}}):te().S({environment:c,store:s,originRect:void 0})}),[c,s,S]);if(!u||!u.template||!m)return(0,_.jsx)(mt,{store:s,isInvalidPage:l,isElectron:d});const B=(0,_.jsx)("a",{href:`${ie().default.domainBaseUrl}/@${u.template.creator.username}`,target:"_blank",style:M.templateCreatorLink,onClick:()=>{var e;Q().eb(c,{target:"creator",slug:null===(e=u.template)||void 0===e?void 0:e.creator.username})},children:u.template.creator.name});return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{style:{...k,...M.borderBottom},onDoubleClick:x().wq,children:[(0,_.jsxs)("div",{style:M.topbarContents,children:[I,!P&&(0,_.jsx)(pe().Z,{href:(0,ae().UY)("templateGallery"),external:!0,children:(0,_.jsxs)(ge().Z,{style:M.templateGalleryButton,onMouseEnter:()=>j(!0),onMouseLeave:()=>j(!1),onClick:()=>{Q().eb(c,{target:"gallery"})},children:[w?(0,de().U)(M.templatesIcon):(0,le().s)(M.templatesIcon),(0,_.jsx)(J()._H,{defaultMessage:"Templates",id:"templateGalleryPublicPageTopbar.templatesButton.label"})]})})]}),!P&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{style:M.centerText,children:[(0,_.jsx)(pe().Z,{href:`${(0,ae().UY)("templateGallery")}/${u.template.slug}`,style:M.templateNameText,external:!0,onClick:()=>{var e;Q().eb(c,{target:"template",slug:null===(e=u.template)||void 0===e?void 0:e.slug})},children:u.template.name}),(0,_.jsx)("div",{style:M.templateCreatorText,children:(0,_.jsx)(J()._H,{defaultMessage:"Template by {templateCreatorNameWithLink}",id:"templateGalleryPublicPageTopbar.templateName.subtitle",values:{templateCreatorNameWithLink:B}})})]}),(0,_.jsxs)("div",{style:M.topbarContents,children:[(0,_.jsx)("div",{style:M.publicTopbarMoreButton,children:(0,_.jsx)(he().Z,{store:s,buttonPopupStore:ue().Z})}),C&&v&&(0,_.jsx)(me().Z,{onClick:T,children:(0,_.jsx)(J()._H,{defaultMessage:"Start with this template",id:"templateGalleryPublicPageTopbar.duplicateButton.label"})})]})]})]}),(0,_.jsx)(ft,{blockStore:s,isInvalidPage:l})]})}var yt=()=>n(90065),St=()=>n(987503),Ct=()=>n(466970),wt=()=>n(779733),jt=()=>n(517632),kt=()=>n(342267),Mt=()=>n(632752),Pt=()=>n(78078),It=()=>n(396439),_t=()=>n(471645),Tt=()=>n(44105),Bt=()=>n(946735);const Zt=new(V().Ss)("topbarActionButtons",(()=>Promise.all([n.e(62743),n.e(34004),n.e(57710)]).then(n.bind(n,234004)))),Lt=(0,V().kF)(Zt,(e=>e.TopbarActionButtons));var Vt=()=>n(451102),Et=()=>n(730764);function Kt(e){const{store:t,isInvalidPage:n,isElectron:o,showSidebarButton:a,hideActionButtons:s,shouldRenderTemplateGalleryTopbar:l,handleClickTopbar:d,handleMouseDown:c}=e,u=(0,i().O7)(),{isMobile:p}=u.device,g=(0,r().VK)((()=>t.isFormBlock()),[t]),m=(0,r().VK)((()=>(0,wt().E1)()),[]),b=(0,r().VK)((()=>(0,re().IJ)(u,t)),[u,t]),{isShowingTabBar:S}=(0,r().Kw)(k().default),C=(0,r().VK)((()=>t.canEditCollection()),[t]),w=(0,r().VK)((()=>t.isRestricted()),[t]),j=(0,r().VK)((()=>(0,yt().$v)({blockStore:t})),[t]),M=(0,r().VK)((()=>t.isPost()&&!t.isPublishedPost()),[t]),P=(0,Be().xJ)({shouldRenderTemplateGalleryTopbar:l}),I=(0,r().VK)((()=>t.getIcon()),[t]),T=p?24:20,B="double_space"===(0,St().a)("css_margins"),Z=(0,Ct().E)("content_reskin_toggle");return(0,_.jsx)(h().Z,{store:t,disableRectangularSelection:!0,disableEditNearestBlock:!0,render:()=>(0,_.jsxs)("div",{style:P,onClick:d,onMouseDown:c,onDoubleClick:x().wq,children:[a&&(0,_.jsx)(y().o,{}),Te().Z({isElectron:o,isShowingTabBar:S}),!n&&!g&&(0,_.jsx)(N().l2,{store:t,style:v().Fy(),maxAncestorCount:2,ancestorMaxWidth:160,currentPageMaxWidth:240,showCurrentPageControls:!0,isMobile:!1}),Z&&(0,_.jsxs)(Pt().X2,{gap:4,children:[(0,_.jsx)(_t().Z,{on:B,onClick:()=>{jt().C.updateLocalOverrideConfig("css_margins",B?"control":"double_space")}}),(0,_.jsx)(Mt().p,{tooltipWidth:300,tooltipTitle:'Enable new margins ("content reskin")',tooltipDescription:(0,_.jsx)("div",{children:"We're testing out extra spacing between blocks. Let us know what you think in #proj-content-reskin."})})]}),g&&(0,_.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,_.jsx)(It().Z,{size:6}),Boolean(I)&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(We().Z,{disabled:!0,icon:I,isEmptyPage:!1,size:T,emojiSize:T,largeIcon:!0}),(0,_.jsx)(It().Z,{size:6})]}),(0,_.jsx)(_e().Z,{store:t,removeIfEmpty:!0,style:{fontSize:14,paddingLeft:0}}),(0,_.jsx)(It().Z,{size:8})]}),C&&(0,_.jsx)(Tt().Z,{store:t},t.id),j&&(0,_.jsx)(Bt().Dr,{blockStore:t}),w&&!m&&(0,_.jsx)(Vt().Z,{style:{marginRight:10},onClick:()=>{kt().Z.setState({open:!0})}}),!n&&(0,_.jsx)(f().Z,{}),(0,_.jsx)("div",{style:{flexGrow:1,flexShrink:1}}),!p&&!b&&!s&&(0,_.jsx)(Lt,{store:t,isInvalidPage:n}),M&&(0,_.jsx)(Et().n,{store:t})]})})}const Ht=function(e){const t=(0,i().O7)(),{device:o}=t,{store:a}=e,s=(0,n(733285)._)({store:a}),l=(0,r().VK)((()=>n(218689).C.state.banners.some((e=>"LoggedOutAppBanner"===e.id))),[]),c=(0,r().VK)((()=>j().Z.state.isFullScreen),[]),p=(0,r().VK)((()=>(0,w().in)(t)),[t]),g=(0,r().VK)((()=>d().h1(t).shouldShowSidebar),[t]),m=(0,r().Kw)(H().sidebarElectronMousePeekStore),{isShowingTabBar:h}=(0,r().Kw)(k().default),b=(0,r().VK)((()=>C().default.isVisible()),[]),f=m&&h&&g&&!p&&!b,v=o.isElectron&&!h&&!c?`${u().lIT} ${u().pMC}`:u().lIT,y=(0,Be().O$)({store:a,shouldRenderTemplateGalleryTopbar:s,isBrowserFullScreen:c});return(0,_.jsxs)("header",{style:y.header,children:[(0,_.jsxs)("div",{style:y.container,className:v,onFocus:x().Iw,onBlur:x().u1,children:[l&&(0,_.jsx)(Y,{}),(0,_.jsx)(Ft,{...e,shouldRenderTemplateGalleryTopbar:s})]}),(0,_.jsx)(n(188407).t,{banners:e.banners,isMobile:!1,isInPeekRenderer:!1}),f&&(0,_.jsx)(n(356294).o,{style:y.electronTopbarSidebarMousePeekArea})]})};function Rt(e){let{store:t,isInvalidPage:n,isElectron:o}=e;const{isShowingTabBar:i}=(0,r().Kw)(k().default),a=(0,Be().xJ)({shouldRenderTemplateGalleryTopbar:!1});return(0,_.jsxs)("div",{style:a,onDoubleClick:x().wq,children:[Te().Z({isElectron:o,isShowingTabBar:i}),Te().Y({store:t,isInvalidPage:n}),(0,_.jsx)("div",{style:{flexGrow:1,flexShrink:1}}),(0,_.jsx)(Je,{store:t,isInvalidPage:n})]})}function Ft(e){let{shouldRenderTemplateGalleryTopbar:t,store:n,routerState:d,isInvalidPage:u,isElectron:g,showSidebarButton:m,hideActionButtons:h}=e;const b=(0,i().O7)(),f=(0,o.useRef)(0),v=(0,o.useRef)(0),y=(0,o.useCallback)((()=>{f.current=window.screenX,v.current=window.screenY}),[]),S=(0,o.useCallback)((e=>{const t=window.screenX,n=window.screenY;f.current===t&&v.current===n&&(e.target===e.currentTarget&&s().clear({environment:b}),(0,p().ZP)({event:e,context:p().Af.EditorClick,callback:()=>{a().E5(b)}}))}),[b]),{isPersonalHome:C,isTeamHome:w,isBrowsePage:j,teamStore:k,shouldRenderPublicPageTopbar:M,shouldRenderTrustDomainPageTopbar:P,shouldRenderAWTLPageTopbar:I}=(0,r().VK)((()=>{const e=F().default.state.currentSpaceStore,t=!b.currentUser.isLoggedIn();if(!n){return{isTeamHome:!0,isPersonalHome:!1,teamStore:e&&D().t1.createChildStore(e,{table:"team",id:d.route.teamId,spaceId:e.id}),shouldRenderPublicPageTopbar:!1,shouldRenderTrustDomainPageTopbar:!1}}const{publicPageData:o}=R().default.state,i=x().cE(n,b),r=!!i&&(0,l().y)(i.permissionItem);return{isPersonalHome:(0,L().WE)(n),isBrowsePage:(0,c().iU)(b),isTeamHome:!1,teamStore:void 0,shouldRenderPublicPageTopbar:i&&!r,shouldRenderAWTLPageTopbar:r&&t,shouldRenderTrustDomainPageTopbar:null==o?void 0:o.isDLSViewer}}),[d.route,n,b]),B=(0,r().VK)((()=>x().DK({store:n,environment:b})),[n,b]),Z=(0,r().VK)((()=>"sidebar"===O().default.getEligibleGroup({experimentId:"sharing_logged_out_view_awtl",defaultGroup:"control"})),[]);return B?j?null:n&&I&&!b.currentUser.isLoggedIn()?(0,_.jsx)(K,{showSidebarButton:m&&Z,store:n,isInvalidPage:u,isElectron:g}):M&&n?t?(0,_.jsx)(vt,{blockStore:n,isInvalidPage:u,isElectron:g}):(0,_.jsx)(mt,{store:n,isInvalidPage:u,isElectron:g}):P&&n?(0,_.jsx)(Rt,{store:n,isInvalidPage:u,isElectron:g}):C&&n?(0,_.jsx)(T,{store:n,isInvalidPage:u,showSidebarButton:m,handleClickTopbar:S,handleMouseDown:y}):w&&k?(0,_.jsx)(G,{teamStore:k,showSidebarButton:m}):n?(0,_.jsx)(Kt,{store:n,isInvalidPage:u,isElectron:g,showSidebarButton:m,hideActionButtons:h,shouldRenderTemplateGalleryTopbar:t,handleClickTopbar:S,handleMouseDown:y}):null:null}},71064:(e,t,n)=>{n.d(t,{Z:()=>F});var o=n(667294),i=()=>n(629013),r=()=>n(219727),a=()=>n(142735),s=()=>n(846550),l=()=>n(114079),d=()=>n(788860),c=()=>n(540520),u=()=>n(308186),p=()=>n(40484),g=()=>n(45909),m=()=>n(59407),h=()=>n(352230),b=()=>n(506348),f=()=>n(423519),x=()=>n(804217),v=()=>n(725751),y=()=>n(764189),S=()=>n(207947),C=()=>n(568017),w=()=>n(176691),j=()=>n(764153),k=n(785893);function M(e){const t=(0,S().f)(500);if(e.device.isMobile)return(0,j().l)({width:24,height:"100%"});if("SpaceFrozenError"===e.error.retryReason)return(0,k.jsx)(d()._H,{defaultMessage:"Your workspace is frozen, sync is paused.",id:"connectionErrorIndicator.label.spaceFrozen"});if(void 0===e.error.approximateBackoffDelayEndTime)return(0,k.jsx)(d()._H,{defaultMessage:"Something's not right.",id:"connectionErrorIndicator.label.shortMessage"});const n=Math.floor((e.error.approximateBackoffDelayEndTime-t)/1e3);return n>0?(0,k.jsx)(d()._H,{defaultMessage:"Something's not right. Retrying in {numberOfSeconds}s…",values:{numberOfSeconds:n},id:"connectionErrorIndicator.label.retryingInSeconds"}):(0,k.jsx)(d()._H,{defaultMessage:"Something's not right. Retrying…",id:"connectionErrorIndicator.label.retrying"})}function P(e){(0,S().f)(1e4);const{startTime:t}=e,n=(0,w().IS)(t),i=(0,r().O7)();return(0,o.useEffect)((()=>{c().ap(i,{errorSinceMs:Date.now()-t})}),[i,t]),"SpaceFrozenError"===e.retryReason?(0,k.jsx)(d()._H,{defaultMessage:"{sinceSomeTimeAgo}: saving was paused because your workspace is frozen. We'll try again once your workspace is unfrozen.",values:{sinceSomeTimeAgo:n},id:"connectionErrorIndicator.details.spaceFrozen"}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(d()._H,{defaultMessage:"{sinceSomeTimeAgo}, an error occurred saving your changes. We'll try again soon.",values:{sinceSomeTimeAgo:n},id:"connectionErrorIndicator.details.message"}),e.retryReason?(0,k.jsx)("div",{style:{marginTop:8,fontSize:12,color:C().ZP.whiteWithAlpha(.7),fontStyle:"italic"},children:(0,k.jsx)(d()._H,{defaultMessage:"Debug info: {debugInfo}",values:{debugInfo:e.retryReason},id:"connectionErrorIndicator.details.debugInfo"})}):void 0]})}var I=()=>n(448419),_=()=>n(312578),T=()=>n(198829),B=()=>n(92175),Z=()=>n(654133);function L(e){return(0,k.jsx)(d()._H,{defaultMessage:"You can no longer make edits: {errorMessage} {usageInfoMessage}",id:"connectionState.errorIndicator.cannotMakeEdits.detailedMessage",values:{errorMessage:e.errorMessage,usageInfoMessage:e.usageInfoMessage}})}function V(e){const t=(0,s().Fg)(),n=(0,r().O7)(),i=(0,f().z)({marginLeft:6,width:14,height:14,fill:e.errorStateStyle.color}),a="transactionQueue"===e.type?e.message:void 0,l="lowStorage"===e.type?e.estimate:void 0;return(0,o.useEffect)((()=>{"transactionQueue"===e.type?c().sI(n,{message:a}):"connection"===e.type?c().SL(n):"lowStorage"===e.type&&c().zQ(n,{estimate:l})}),[e.type,a,l,n]),(0,o.useEffect)((()=>{a&&u().Hr((0,k.jsx)(L,{errorMessage:a}))}),[a]),n.device.isMobile?(0,k.jsx)(I().ZP,{popupType:I().Z4.SlideUp,renderOrigin:t=>(0,k.jsx)(B().Z,{style:e.errorStateStyle,...t,children:e.indicatorText||i}),render:n=>{let{close:o}=n;return(0,k.jsx)(T().Z,{menuType:h().o.ActionSheet,children:(0,k.jsx)("div",{style:{padding:15,background:t.errorText,color:"white"},onClick:o,children:e.detailsText})})}}):(0,k.jsx)(Z().Z,{renderTooltip:()=>(0,k.jsx)("div",{style:{width:320,whiteSpace:"normal"},children:e.detailsText}),render:t=>(0,k.jsxs)("div",{style:e.errorStateStyle,...t,children:[e.indicatorText,i]})})}function E(e){let{showLoadingSpinner:t}=e;const n=(0,r().O7)(),o=(0,a().VK)((()=>{var e;return null===(e=n.mobileNative)||void 0===e?void 0:e.supportsNativeHomeOnPhone()}),[n]);return(0,k.jsx)("div",{style:{display:"flex",alignItems:"center",height:"100%",marginLeft:"auto",paddingLeft:!o||t?4:0,paddingRight:!o||t?8:0,visibility:t?"visible":"hidden"},children:(!o||t)&&(0,k.jsx)(_().Z,{style:{height:18,width:18}})})}function K(e){return{display:"flex",alignItems:"center",marginRight:e?0:18,fontSize:e?12:14}}function H(e){let{isOnline:t,showLoadingSpinner:n}=e;const o=(0,d().YB)(),i=(0,r().Fy)(),l=(0,a().VK)((()=>Boolean(v().default.state.isShowingTabBar)),[]),c=(0,s().yK)((e=>({offlineBadge:{...(0,g().X)({noDrag:i.isElectron&&!l}),display:"flex",alignItems:"center",padding:"0px 6px",height:i.isMobile?20:24,borderRadius:4,marginRight:i.isMobile?4:18,whiteSpace:"nowrap",fontSize:i.isMobile?12:14,color:e.mediumTextColor,border:`1px solid ${e.darkDividerColor}`},loadingState:{...(0,g().X)({noDrag:i.isElectron&&!l}),...K(i.isMobile),color:e.lightTextColor}})),[i,l]);return t?n?(0,k.jsx)(Z().Z,{renderTooltip:()=>(0,k.jsx)(d()._H,{defaultMessage:"{percent} complete.",id:"connectionState.savePercentangeIndicator.tooltip",values:{percent:y().default.percentComplete(o)}}),render:e=>(0,k.jsxs)("div",{style:c.loadingState,...e,children:[(0,k.jsx)(_().Z,{style:{margin:4,marginRight:8}}),(0,k.jsx)(d()._H,{defaultMessage:"Saving…",id:"connectionState.saving.message"})]})}):null:(0,k.jsx)(Z().Z,{renderTooltip:()=>(0,k.jsx)("div",{style:{width:200},children:(0,k.jsx)(d()._H,{defaultMessage:"{numberOfEdits, plural, one {You have {numberOfEdits} edit that will be synced next time you are online.} other {You have {numberOfEdits} edits that will be synced next time you are online.}}",id:"connectionState.offlineBadge.tooltip",values:{numberOfEdits:y().default.state.totalPending}})}),textWrap:!0,render:e=>(0,k.jsx)("div",{style:c.offlineBadge,...e,children:(0,k.jsx)(d()._H,{defaultMessage:"Offline",id:"connectionState.offlineBadge.label"})})})}function R(){const e=(0,r().Fy)(),t=(0,a().VK)((()=>y().default.state.transactionQueueError),[]),n=(0,a().VK)((()=>y().default.state.storageUsageEstimate),[]),i=(0,d().YB)(),c=(0,a().VK)((()=>Boolean(v().default.state.isShowingTabBar)),[]),u=(0,s().yK)((t=>({errorState:{...(0,g().X)({noDrag:e.isElectron&&!c}),...K(e.isMobile),whiteSpace:"nowrap",color:t.errorText}})),[e,c]),m=(0,a().VK)((()=>(0,p().L)()),[]),h=()=>{if(n){const e=n.usage/n.quota;return(0,k.jsx)(d()._H,{defaultMessage:"Notion is using {percentageOfStorageBytesUsed} of its available storage on your device ({usedNumberOfBytes} of {totalNumberOfBytes}).",id:"connectionState.errorIndicator.possibleLostEdits.detailedMessagePart1",values:{usedNumberOfBytes:(0,l().uf)(n.usage,"bytes",i),totalNumberOfBytes:(0,l().uf)(n.quota,"bytes",i),percentageOfStorageBytesUsed:i.formatNumber(e,{style:"percent",maximumFractionDigits:2})}})}};if(t){const e=(0,k.jsx)(d()._H,{defaultMessage:"Cannot save changes",id:"connectionState.errorIndicator.cannotSaveChanges.message"}),n=(0,k.jsx)(L,{errorMessage:t.message,usageInfoMessage:h()});return(0,k.jsx)(V,{type:"transactionQueue",message:t.message,indicatorText:e,detailsText:n,errorStateStyle:u.errorState})}if(void 0!==n&&!(0,b().mn)(n)){const t=e.isBrowser?(0,k.jsx)(d()._H,{defaultMessage:"Low browser storage",id:"connectionState.errorIndicator.lowStorageOnWebApp.message"}):e.isMobileNative?(0,k.jsx)(d()._H,{defaultMessage:"Low app storage",id:"connectionState.errorIndicator.lowStorageOnMobileApp.message"}):(0,k.jsx)(d()._H,{defaultMessage:"Low disk space",id:"connectionState.errorIndicator.lowStorageOnDesktopApp.message"});return(0,k.jsx)(V,{type:"lowStorage",estimate:n,indicatorText:t,detailsText:(0,k.jsxs)(o.Fragment,{children:[h()," ",(0,k.jsx)(d()._H,{id:"connectionState.errorIndicator.possibleLostEdits.detailedMessagePart2",defaultMessage:"You may lose changes made while offline. Try closing and re-opening your app, and contact support if that doesn’t fix the issue."})]}),errorStateStyle:u.errorState})}return m?(0,k.jsx)(V,{type:"connection",indicatorText:(0,k.jsx)(M,{error:m,device:e}),detailsText:(0,k.jsx)(P,{...m}),errorStateStyle:u.errorState}):null}const F=function(){const e=(0,a().VK)((()=>x().default.state.online),[]),t=(0,a().VK)((()=>!y().n.state),[]),n=function(){const e=(0,o.useRef)(!1),[t,n]=(0,o.useState)(!1),r=(0,i().v)((()=>{x().default.state.syncing&&!e.current&&(e.current=!0,n(!0))}),8e3),a=(0,i().v)((()=>{e.current&&!x().default.state.syncing&&(e.current=!1,n(!1))}),200);return(0,o.useEffect)((()=>(x().default.addListener(r),x().default.addListener(a),()=>{x().default.removeListener(r),x().default.removeListener(a)})),[r,a]),e.current}(),s=function(e,t){const n=(0,r().O7)(),[i,a]=(0,o.useState)(!1),s=(0,o.useCallback)((o=>{(0,m().Z)(n,o,"command+s")&&(o.preventDefault(),e&&!i&&t&&(a(!0),setTimeout((()=>{a(!1)}),500)))}),[n,i,t,e]);return(0,o.useEffect)((()=>(window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)})),[s]),i}(e,t),l=(0,r().Fy)(),d=(0,a().VK)((()=>!(0,p().n)()),[]),c=(s||n)&&t&&d;return(0,k.jsxs)(k.Fragment,{children:[l.isMobile?(0,k.jsx)(E,{showLoadingSpinner:c}):(0,k.jsx)(H,{isOnline:e,showLoadingSpinner:c}),(0,k.jsx)(R,{})]})}},451102:(e,t,n)=>{n.d(t,{Z:()=>r});n(667294);var o=()=>n(788860),i=n(785893);const r=function(e){const t=(0,n(846550).Fg)(),r=(0,n(219727).O7)(),{device:a}=r;return(0,i.jsx)(n(654133).Z,{placement:n(998901).Placement.Bottom,renderTooltip:()=>(0,i.jsxs)("div",{style:{textAlign:"center"},children:[(0,i.jsx)(o()._H,{defaultMessage:"Access restricted from parent page",id:"blockAuthorInfo.restrictedBadge.infoText"}),(0,i.jsx)("br",{}),(0,i.jsx)("span",{style:{color:t.mediumInvertedTextColor},children:(0,i.jsx)(o()._H,{defaultMessage:"Click to view access",id:"blockAuthorInfo.restrictedBadge.clickText"})})]}),render:r=>(0,i.jsxs)(n(92175).Z,{onClick:e.onClick,style:{marginRight:a.isMobile?4:2,color:t.lightTextColor,fill:t.lightIconColor},...r,children:[(0,n(607031).B)({width:20,marginRight:4,fill:t.lightIconColor}),(0,i.jsx)("div",{style:{color:t.lightTextColor,fontSize:a.isMobile?16:14,lineHeight:a.isAndroid?1.5:1,whiteSpace:"nowrap"},children:(0,i.jsx)(o()._H,{id:"blockAuthorInfo.restrictedBadge",defaultMessage:"Restricted"})})]})})}},356294:(e,t,n)=>{n.d(t,{o:()=>s});n(667294);var o=()=>n(949842),i=()=>n(793935),r=()=>n(291335),a=n(785893);function s(e){let{children:t,style:n}=e;const s=e=>{(0,o().ZP)({event:e,context:o().Af.SidebarMouseMove,callback:()=>{const t=e.currentTarget.getBoundingClientRect();r().sidebarMousePeekXStore.setState(t.right),i().open({fromElectron:!1})}})};return(0,a.jsx)("div",{onMouseEnter:s,onMouseMove:s,style:n,children:t})}},577521:(e,t,n)=>{n.d(t,{C:()=>C,V:()=>y});var o=n(667294),i=()=>n(219727),r=()=>n(142735),a=()=>n(846550),s=()=>n(788860),l=()=>n(718959),d=()=>n(247724),c=()=>n(52446),u=()=>n(793935),p=()=>n(291335),g=()=>n(998901),m=()=>n(725751),h=()=>n(628370),b=()=>n(1910),f=()=>n(64260),x=()=>n(654133),v=n(785893);function y(e){const t=(0,i().O7)(),n=(0,i().Fy)(),o=(0,s().YB)(),a=(0,r().Kw)(p().sidebarMouseEnteredStore),d=(0,r().VK)((()=>m().default.state.isShowingTabBar||!1),[]),g=(0,r().Kw)(l().tu),h=o.formatMessage({defaultMessage:"Close sidebar",id:"sidebarUnexpandButton.closeSidebar.tooltip"}),b=(!n.isElectronMac||!g)&&!d&&a;return(0,v.jsx)(C,{isVisible:b,icon:c().D,caption:h,onClick:()=>{u().closeSidebarFromTopbarUnexpandButton(t)},keyboardShortcutName:"toggleSidebar",style:e.style,hoveredStyle:e.hoveredStyle})}const S={width:16,height:16,fill:"inherit"};function C(e){const t=(0,i().Fy)(),n=(0,a().yK)((t=>({keyboardShortcut:{color:t.mediumInvertedTextColor},button:{fill:t.mediumIconColor},enterAnimation:{opacity:e.isVisible?0:1},animation:{opacity:e.isVisible?1:0}})),[e.isVisible]),r=(0,o.useMemo)((()=>({position:"relative",marginLeft:10,...t.isMobile&&{height:"100%"},...n.button,...e.style})),[e.style,n.button,t.isMobile]);return(0,v.jsx)(x().Z,{renderTooltip:()=>(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{children:e.caption}),e.keyboardShortcutName&&(0,v.jsx)(f().Z,{style:n.keyboardShortcut,name:e.keyboardShortcutName})]}),originGap:6,placement:t.isElectron?g().Placement.Right:g().Placement.Bottom,render:n=>(0,v.jsx)(h().Z,{tag:b().Z,animate:{opacity:e.isVisible?1:0},ariaLabel:e.caption,disabled:!e.isVisible,icon:e.icon,style:r,hoveredStyle:e.hoveredStyle,iconStyle:S,mobileFeedback:t.isMobile,onClick:e.onClick,className:d().Mfh,...n})})}},730764:(e,t,n)=>{n.d(t,{n:()=>i});var o=()=>n(677559);const i=(0,o().kF)(new(o().Ss)("topbar",(()=>Promise.all([n.e(62743),n.e(28407)]).then(n.bind(n,801142)))),(e=>e.TopbarSubmitPostButton))},767628:(e,t,n)=>{n.d(t,{Q:()=>S});var o=n(667294),i=()=>n(219727),r=()=>n(732811),a=()=>n(142735),s=()=>n(846550),l=()=>n(572680),d=()=>n(836273),c=()=>n(788860),u=()=>n(824462),p=()=>n(672178),g=()=>n(965910),m=()=>n(215791),h=()=>n(772084),b=()=>n(661297),f=()=>n(265456),x=n(785893);const v={width:14,height:14},y={width:14,height:14,marginLeft:6};function S(e){const{store:t}=e,n=(0,i().O7)(),[S,C]=(0,o.useState)(!1),w=n.device.isMobile,j=(0,s().Fg)(),k=w?v:y,{isForm:M,formId:P,spaceId:I}=(0,a().VK)((()=>({isForm:t.isFormBlock(),formId:t.id,spaceId:t.getSpaceId()})),[t]),_=(0,a().VK)((()=>{const e=n.RouterStore.state.route;return(0,l().FK)(e)}),[n]),T=(0,a().VK)((()=>M?S&&h().pq(t):h().pq(t)),[t,M,S]);(0,r().K)((async()=>{var e;if(!M)return;const o=n.currentUser.id,i=await u().callApi({eventName:"getFormData",environment:n,data:{formId:t.id,spaceId:t.getSpaceId()},userId:o});"failed"!==i.type&&C((null===(e=i.data.additionalFeatures)||void 0===e?void 0:e.customization)??!1)}));const B=(0,o.useCallback)((async()=>{M?((0,p().b)({environment:n,source:"public_topbar_cta",sourceData:"Made with Notion",formId:P}),await f().tf({environment:n,route:d()._j.signup,formId:P,spaceId:I,openInNewTab:_})):await f().Uo({environment:n,route:d()._j.signup,openInNewTab:_})}),[M,n,P,I,_]);return T?null:(0,x.jsxs)(b().Z,{style:{padding:w?"0 8px":"0 10px",marginLeft:8},onClick:B,children:[!w&&(0,x.jsx)(c()._H,{defaultMessage:"Made with",id:"topbar.publicPage.cta.label.madeWithNotion"}),"light"===j.mode?(0,g().h)(k):(0,m().N)(k)]})}},265456:(e,t,n)=>{n.d(t,{$d:()=>I,DK:()=>x,Iw:()=>w,Kh:()=>M,Kr:()=>k,Tg:()=>P,Uo:()=>y,cE:()=>v,tf:()=>S,u1:()=>j,wq:()=>C});var o=()=>n(474788),i=()=>n(846550),r=()=>n(836273),a=()=>n(989478),s=()=>n(438793),l=()=>n(231077),d=()=>n(579358),c=()=>n(205228),u=()=>n(949842),p=()=>n(122479),g=()=>n(852465),m=()=>n(876822),h=()=>n(725751),b=()=>n(826955),f=()=>n(406012);function x(e){const{store:t,environment:n}=e,o=m().default.state.currentSpaceStore,i=!t||(0,g().Oh)(t),{id:r}=n.currentUser,s=r&&o?b().U6.createChildStore(o,{table:a().KJ,id:r}):void 0,l=!s||s.isReady();return i&&l}function v(e,t){return!c().default.isAdminMode&&(0,p().IJ)(t,e)}r()._j.signup,r()._j.product;async function y(e){const{environment:t,route:n,openInNewTab:o}=e;s().T3(t,{variant:"made_with_notion"}),await d().yF(t,{utmContent:"topbar_cta",nextRoute:n,openInNewTab:o})}async function S(e){const{environment:t,route:n,formId:o,spaceId:i,openInNewTab:r}=e;s().T3(t,{variant:"made_with_notion"}),await d().k1(t,{utmContent:"topbar_cta",nextRoute:n,formId:o,spaceId:i,openInNewTab:r})}function C(e){e.target!==e.currentTarget||h().default.state.isShowingTabBar||(0,u().ZP)({event:e,context:u().Af.EditorDoubleClick,callback:l().toggleMaximized})}function w(e){const t=e.target;t instanceof HTMLElement&&(0,o().E)(t)&&f().Z.setState(!0)}function j(){f().Z.setState(!1)}function k(){return{mobile_horizon1_quick_capture:(0,i().yK)((e=>I(e)),[]),mobile_horizon1_quick_capture_circle_icons:(0,i().yK)((e=>P(e)),[])}}function M(e){return{mobile_horizon1_quick_capture:I(e),mobile_horizon1_quick_capture_circle_icons:P(e)}}function P(e){return{iconContainer:{background:e.tint.regular,color:e.icon.secondary,display:"inline-flex",justifyContent:"center",alignItems:"center",marginRight:8,borderRadius:16,width:32,height:32},iconStyle:{height:16,width:16,fill:e.icon.secondary}}}function I(e){return{iconContainer:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",marginRight:14,color:e.icon.secondary,width:26},iconStyle:{height:26,width:26,fill:e.icon.primary}}}},714468:(e,t,n)=>{n.d(t,{Y:()=>l,Z:()=>s});n(667294);var o=()=>n(853516),i=()=>n(969539),r=()=>n(728363),a=n(785893);function s(e){const{isElectron:t,isShowingTabBar:n}=e;return t&&!n&&(0,a.jsx)(i().Z,{})}function l(e){const{store:t,isInvalidPage:n}=e;return!n&&(0,a.jsx)(o().l2,{store:t,style:(0,r().Fy)(),maxAncestorCount:2,ancestorMaxWidth:160,currentPageMaxWidth:240,showCurrentPageControls:!0,isMobile:!1})}},728363:(e,t,n)=>{n.d(t,{DG:()=>s,Fy:()=>r,zb:()=>a});var o=()=>n(416593),i=()=>n(467171);function r(){return{height:"100%",flexGrow:0,marginRight:8,fontSize:14,minWidth:0}}function a(e){let{environment:t,isShowingTabBar:n,shouldShowSidebar:r,isSidebarExpanded:a,isSecondarySidebarVisible:s,isBrowserFullScreen:l,shouldRenderTemplateGalleryTopbar:d,allowOverflow:c,isFloatingPersonalHomeTopbar:u,zoom:p}=e;const{device:g}=t,m=g.isElectronMac&&(!r||!a&&!s)&&!l&&!n,h=g.isElectronWindows&&!n,b=h&&(!r||!a&&!s);let f=i().R6(g.isElectronMac);return d?f=i().TT:u&&(f=i().Aj),{display:"flex",justifyContent:"space-between",alignItems:"center",overflow:c?"visible":"hidden",height:f,paddingLeft:m?(0,o().XW)(p):b?46:g.isMobile?4:12,paddingRight:h?(0,o().RO)(p)+4:g.isMobile?4:10}}function s(e){return{flex:"none",width:1,height:16,marginLeft:8,marginRight:8,background:e.darkDividerColor}}},733285:(e,t,n)=>{n.d(t,{_:()=>l});var o=()=>n(219727),i=()=>n(142735),r=()=>n(148126),a=()=>n(658096),s=()=>n(265456);function l(e){const{store:t}=e,n=(0,o().O7)();return(0,i().VK)((()=>{if(!t)return!1;const{device:e}=n;if(e.isMobile||!(0,r().Sr)(n))return!1;if(!(0,s().cE)(t,n))return!1;const{publicPageData:o}=a().default.state;return!(null==o||!o.template)}),[n,t])}},596986:(e,t,n)=>{n.d(t,{F_:()=>w,O$:()=>C,Q4:()=>y,nk:()=>v,xJ:()=>S,xN:()=>j});var o=n(667294),i=()=>n(219727),r=()=>n(142735),a=()=>n(846550),s=()=>n(416593),l=()=>n(467171),d=()=>n(492522),c=()=>n(718959),u=()=>n(772529),p=()=>n(123145),g=()=>n(105649),m=()=>n(589525),h=()=>n(183211),b=()=>n(725751),f=()=>n(9599);const x=10,v=700;function y(){const{isMobile:e,isElectronWindows:t}=(0,i().Fy)(),{isShowingTabBar:n,zoomFactor:a}=(0,r().VK)((()=>({isShowingTabBar:Boolean(b().default.state.isShowingTabBar),zoomFactor:b().default.state.zoomFactor||s().lO})),[]),l=t&&!n;return(0,o.useMemo)((()=>l?(0,s().RO)(a)+4:e?4:x),[e,l,a])}function S(e){let{isFloatingPersonalHomeTopbar:t,shouldRenderTemplateGalleryTopbar:n}=e;const a=(0,i().O7)(),{isShowingTabBar:d,zoomFactor:u}=(0,r().Kw)(b().default),p=(0,r().VK)((()=>c().h1(a).shouldShowSidebar),[a]),f=(0,r().VK)((()=>(0,m().in)(a)),[a]),x=(0,r().VK)((()=>g().default.isPanelPinnedState()),[]),v=(0,r().VK)((()=>h().Z.state.isFullScreen),[]),{device:y}=a,S=u||s().lO,C=y.isElectronMac&&(!p||!f&&!x)&&!v&&!d,w=y.isElectronWindows&&!d,j=w&&(!p||!f&&!x);let k=l().R6(y.isElectronMac);n?k=l().TT:t&&(k=l().Aj);return(0,o.useMemo)((()=>({display:"flex",justifyContent:"space-between",alignItems:"center",overflow:"hidden",height:k,paddingLeft:C?(0,s().XW)(S):j?46:y.isMobile?4:12,paddingRight:w?(0,s().RO)(S)+4:y.isMobile?4:10})),[k,C,S,j,y.isMobile,w])}function C(e){let{store:t,shouldRenderTemplateGalleryTopbar:n,isBrowserFullScreen:o}=e;const g=(0,i().O7)(),h=(0,i().Fy)(),x=(0,i().MO)(),y=(0,r().VK)((()=>(0,u().WE)(t)&&0===f().Z.state.banners.length),[t]);let S=l().R6(h.isElectronMac);n&&(S=2*l().TT);const C=(0,r().VK)((()=>p().VV()),[]),w=(0,r().Kw)(c().tu),{zoomFactor:j}=(0,r().Kw)(b().default),k=(0,m().vF)(g),M=l().Pv(h.isElectronMac,o,j||s().lO);return(0,a().yK)((e=>({header:{background:y&&!x?"transparent":e.contentBackground,maxWidth:"100vw",zIndex:d().lI,userSelect:"none"},container:{width:`calc(100% - ${C}px)`,maxWidth:"100vw",height:S,opacity:w?0:1,transition:`\n\t\t\t\t\t\topacity ${v}ms,\n\t\t\t\t\t\tcolor ${v}ms\n\t\t\t\t\t`,position:"relative",left:C},electronTopbarSidebarMousePeekArea:{position:"absolute",top:0,width:`${M}px`,height:`${k}px`}})),[y,x,C,w,S,M,k])}function w(e){return{iconButton:{width:34,height:28,marginRight:2},icon:{height:20,width:20,fill:e.regularIconColor}}}function j(){return(0,a().yK)(w,[])}},188407:(e,t,n)=>{n.d(t,{t:()=>r});var o=()=>n(677559);const i=new(o().Ss)("BannersRenderer",(async()=>Promise.all([n.e(62743),n.e(84885),n.e(5242),n.e(91253),n.e(4642),n.e(75377),n.e(73682),n.e(5485),n.e(41455),n.e(62849),n.e(39441),n.e(80317),n.e(5054)]).then(n.bind(n,661754)))),r=(0,o().kF)(i,(e=>e.BannersRenderer))},302485:(e,t,n)=>{n.d(t,{F:()=>r});var o=()=>n(677559);const i=new(o().Ss)("HelpButtonContent",(async()=>await n.e(53060).then(n.bind(n,905758)))),r=(0,o().kF)(i,(e=>e.HelpButtonContent))},416277:(e,t,n)=>{n.d(t,{R7:()=>r,TG:()=>a,gM:()=>s});var o=()=>n(677559);const i=new(o().Ss)("login",(async()=>{const{default:e}=await Promise.all([n.e(62743),n.e(37358),n.e(25350),n.e(18216),n.e(22759),n.e(42941),n.e(72802),n.e(54535)]).then(n.bind(n,604922)),{default:t}=await Promise.all([n.e(62743),n.e(37358),n.e(25350),n.e(18216),n.e(22759),n.e(42941),n.e(72802),n.e(54535)]).then(n.bind(n,663920)),{default:o}=await Promise.all([n.e(62743),n.e(37358),n.e(25350),n.e(18216),n.e(22759),n.e(42941),n.e(72802),n.e(54535)]).then(n.bind(n,735246)),{default:i}=await Promise.all([n.e(62743),n.e(37358),n.e(25350),n.e(18216),n.e(22759),n.e(42941),n.e(72802),n.e(54535)]).then(n.bind(n,854507)),{default:r}=await Promise.all([n.e(62743),n.e(37358),n.e(25350),n.e(18216),n.e(22759),n.e(42941),n.e(72802),n.e(54535)]).then(n.bind(n,12872));return{LoginPage:e,LoginDesktop:t,LoginMobileNative:o,FrontLoginPage:i,LoginModalContent:r}})),r=(0,o().kF)(i,(e=>e.LoginPage)),a=(0,o().kF)(i,(e=>e.FrontLoginPage)),s=(0,o().kF)(i,(e=>e.LoginModalContent))},508853:(e,t,n)=>{n.d(t,{o:()=>r});var o=()=>n(677559);const i=new(o().Ss)("topbarSidebarButton",(async()=>await n.e(37206).then(n.bind(n,157106)))),r=(0,o().kF)(i,(e=>e.TopbarSidebarButton))},716228:(e,t,n)=>{n.d(t,{B:()=>r});var o=()=>n(677559);const i=new(o().Ss)("topbarStopSuggestModeButton",(async()=>await Promise.all([n.e(62743),n.e(52774),n.e(44832),n.e(39938),n.e(90698),n.e(84885),n.e(37358),n.e(5242),n.e(7312),n.e(90424),n.e(81580),n.e(84325),n.e(31189),n.e(69343),n.e(46293),n.e(94556),n.e(78701),n.e(38804),n.e(17100),n.e(11846),n.e(70355),n.e(2971),n.e(80741),n.e(72586),n.e(53335),n.e(71896),n.e(46616),n.e(54940),n.e(49396),n.e(98721),n.e(98032),n.e(57229),n.e(63707),n.e(86609),n.e(91253),n.e(4642),n.e(5006),n.e(6612),n.e(61171),n.e(23179),n.e(75377),n.e(31020),n.e(2942),n.e(73682),n.e(58591),n.e(54803),n.e(1953),n.e(10216),n.e(58565),n.e(69197),n.e(42055),n.e(38739),n.e(44751),n.e(81567),n.e(63257),n.e(34291),n.e(1913),n.e(56054),n.e(95076),n.e(92341),n.e(82658),n.e(4163),n.e(69583),n.e(22759),n.e(20343),n.e(21820),n.e(46945),n.e(10553),n.e(67019),n.e(27039),n.e(25265),n.e(14581),n.e(38632),n.e(61651),n.e(88702),n.e(54307),n.e(43184),n.e(87647),n.e(75861),n.e(46257),n.e(15819),n.e(45376),n.e(74943),n.e(23721),n.e(58461),n.e(72329),n.e(19592),n.e(3331),n.e(98672),n.e(52658),n.e(44642),n.e(78),n.e(58586)]).then(n.bind(n,496669)))),r=(0,o().kF)(i,(e=>e.TopbarStopSuggestModeButton))},514737:(e,t,n)=>{n.d(t,{L:()=>r,y:()=>i});var o=()=>n(749826);function i(e){return o().default.checkGate({gateName:"sharing_anyone_with_the_link"})}function r(e){return!o().default.checkGate({gateName:"sharing_anyone_with_the_link"})&&"none"!==e.role}},871953:(e,t,n)=>{n.d(t,{TL:()=>u,nc:()=>c,ue:()=>d});var o=()=>n(816512),i=()=>n(934158),r=()=>n(696056),a=()=>n(989478),s=()=>n(696459),l=()=>n(826955);function d(e){const{parentStore:t,pointer:n}=e,i=(0,l().Kv)(t,n).getValue();if(i)return(0,o().LU)({table:n.table,value:i})}function c(e){const{parentStore:t,pointer:n}=e;return n.table===r().cZ?l().Qx.createChildStore(t,n):n.table===a().KJ?l().U6.createChildStore(t,n):n.table===i().y0?l().fg.createChildStore(t,n):void(0,s().t1)(n)}function u(e){return e.table===r().cZ?(0,o().ON)(e.getValue()):e.table===a().KJ?(0,o().m3)(e.getValue()):e.table===i().y0?(0,o().I4)(e.getValue()):void(0,s().t1)(e)}},566332:(e,t,n)=>{n.d(t,{cm:()=>c,iU:()=>d,ww:()=>p});n(241792);var o=()=>n(396136),i=()=>n(139978),r=()=>n(255933),a=()=>n(955620),s=()=>n(876822);const l="10";function d(e){var t;const n=s().default.state.currentSpaceStore;if(!n)return!1;const o=n.getSpaceId(),i=e.currentUser.id;if(!i)return!1;return c(i,e.idCreator.getSpaceIdCreatorSync(o))===(null===(t=s().default.state.mainEditorCurrentBlockStore)||void 0===t?void 0:t.id)}function c(e,t){return t.deterministicIdInSavedSpace(o().iU,`${e}:${t.getSpaceId()}:browse-v${l}:collectionViewBlock`)}function u(e,t,n){return t.deterministicIdInSavedSpace(i().np,`${e}:${t.getSpaceId()}:browse-v${l}:collectionView:${n}`)}function p(e){const{userId:t,spaceIdCreator:n}=e,i=n.getSpaceId(),s=c(t,n),l=function(e){const{userId:t,spaceIdCreator:n}=e,i=n.getSpaceId(),r=c(t,n),a={id:u(t,n,"createdByMe"),version:1,alive:!0,space_id:i,parent_table:o().iU,parent_id:r,name:"Created by me",type:"list",format:{collection_view_source:{type:"createdByMe",spaceId:i},hide_linked_collection_name:!0,collection_peek_mode:"side_peek",list_properties:[{property:"title",visible:!0},{property:"created_time",visible:!0},{property:"created_by",visible:!1},{property:"last_edited_by",visible:!1},{property:"last_edited_time",visible:!1},{property:"last_visited_time",visible:!1}],collection_group_by:{groupBy:"relative",hideEmptyGroups:!0,property:"created_time",sort:{type:"descending"},type:"created_time"}}},s={id:u(t,n,"recents"),version:1,alive:!0,space_id:i,parent_table:o().iU,parent_id:r,name:"Recents",type:"gallery",format:{collection_view_source:{type:"recents",spaceId:i},gallery_cover:{type:"page_cover"},gallery_properties:[{property:"title",visible:!0},{property:"created_by",visible:!0},{property:"created_time",visible:!0},{property:"last_edited_by",visible:!1},{property:"last_edited_time",visible:!1},{property:"last_visited_time",visible:!1}],hide_linked_collection_name:!0,collection_peek_mode:"side_peek"}},l={id:u(t,n,"mentionsMe"),version:1,alive:!0,space_id:i,parent_table:o().iU,parent_id:r,name:"Mentions me",type:"list",format:{collection_view_source:{type:"mentionsMe",spaceId:i},hide_linked_collection_name:!0,collection_peek_mode:"side_peek"}};return{createdByMeView:a,recentsView:s,mentionsMeView:l}}({userId:t,spaceIdCreator:n}),d=Object.values(l);return{block:{id:s,version:1,alive:!0,type:"collection_view_page",space_id:i,parent_table:r().bx,parent_id:i,permissions:[{type:"exclusive_user_permission",user_id:t,role:"read_and_write"}],properties:{title:(0,a().TPx)("Browse")},view_ids:d.map((e=>e.id))},collectionViews:d}}},228772:(e,t,n)=>{n.d(t,{r:()=>r});var o=()=>n(142735),i=()=>n(876822);function r(){return(0,o().VK)((()=>i().default.state.currentSpaceStore),[])}},820545:(e,t,n)=>{n.d(t,{I:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("arrowLeftRounded",{viewBox:"0 0 16 13",svg:(0,o.jsx)("path",{d:"M0.617188 6.85156C0.617188 6.60677 0.710938 6.39323 0.898438 6.21094L6.03906 1.07812C6.13281 0.984375 6.23177 0.914062 6.33594 0.867188C6.4401 0.820312 6.54948 0.796875 6.66406 0.796875C6.90365 0.796875 7.10417 0.875 7.26562 1.03125C7.42708 1.1875 7.50781 1.38281 7.50781 1.61719C7.50781 1.74219 7.48438 1.85677 7.4375 1.96094C7.39062 2.0599 7.32812 2.14844 7.25 2.22656L5.5 4L2.59375 6.66406L2.3125 6.15625L5.02344 5.99219H14.5156C14.776 5.99219 14.9844 6.07292 15.1406 6.23438C15.3021 6.39062 15.3828 6.59635 15.3828 6.85156C15.3828 7.10156 15.3021 7.30729 15.1406 7.46875C14.9844 7.625 14.776 7.70312 14.5156 7.70312H5.02344L2.3125 7.54688L2.59375 7.04688L5.5 9.70312L7.25 11.4688C7.32812 11.5469 7.39062 11.638 7.4375 11.7422C7.48438 11.8464 7.50781 11.9583 7.50781 12.0781C7.50781 12.3125 7.42708 12.5078 7.26562 12.6641C7.10417 12.8203 6.90365 12.8984 6.66406 12.8984C6.4349 12.8984 6.22917 12.8099 6.04688 12.6328L0.898438 7.49219C0.710938 7.3099 0.617188 7.09635 0.617188 6.85156Z"})})},660065:(e,t,n)=>{n.d(t,{r:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("arrowRightRounded",{viewBox:"0 0 16 13",svg:(0,o.jsx)("path",{d:"M15.3828 6.85156C15.3828 7.09635 15.2917 7.3099 15.1094 7.49219L9.95312 12.6328C9.77083 12.8099 9.5651 12.8984 9.33594 12.8984C9.09635 12.8984 8.89583 12.8203 8.73438 12.6641C8.57812 12.5078 8.5 12.3125 8.5 12.0781C8.5 11.9583 8.52083 11.8464 8.5625 11.7422C8.60938 11.638 8.67188 11.5469 8.75 11.4688L10.5 9.70312L13.4141 7.04688L13.6875 7.54688L10.9766 7.70312H1.48438C1.22396 7.70312 1.01302 7.625 0.851562 7.46875C0.695312 7.30729 0.617188 7.10156 0.617188 6.85156C0.617188 6.59635 0.695312 6.39062 0.851562 6.23438C1.01302 6.07292 1.22396 5.99219 1.48438 5.99219H10.9766L13.6875 6.15625L13.4141 6.66406L10.5 4L8.75 2.22656C8.67188 2.14844 8.60938 2.0599 8.5625 1.96094C8.52083 1.85677 8.5 1.74219 8.5 1.61719C8.5 1.38281 8.57812 1.1875 8.73438 1.03125C8.89583 0.875 9.09635 0.796875 9.33594 0.796875C9.45052 0.796875 9.5599 0.820312 9.66406 0.867188C9.76823 0.914062 9.86719 0.984375 9.96094 1.07812L15.1094 6.21094C15.2917 6.39323 15.3828 6.60677 15.3828 6.85156Z"})})},151684:(e,t,n)=>{n.d(t,{E:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("chevronDownRounded",{viewBox:"0 0 15 9",svg:(0,o.jsx)("path",{d:"M7.92188 8.65625C8.19531 8.64844 8.44531 8.54688 8.64844 8.32812L14.5859 2.25C14.7578 2.07812 14.8516 1.85938 14.8516 1.60156C14.8516 1.08594 14.4453 0.671875 13.9297 0.671875C13.6797 0.671875 13.4375 0.773438 13.2578 0.953125L7.92969 6.42969L2.58594 0.953125C2.40625 0.78125 2.17188 0.671875 1.91406 0.671875C1.39844 0.671875 0.992188 1.08594 0.992188 1.60156C0.992188 1.85938 1.08594 2.07812 1.25781 2.25L7.20312 8.32812C7.41406 8.54688 7.64844 8.65625 7.92188 8.65625Z"})})},759190:(e,t,n)=>{n.d(t,{Y:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("clockAlternate",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M10.417 6.09961C10.5811 6.09961 10.7201 6.15885 10.834 6.27734C10.9525 6.39128 11.0117 6.53027 11.0117 6.69434V11.2949L10.376 9.34668L12.5977 12.3408C12.7116 12.4867 12.7617 12.6416 12.748 12.8057C12.7344 12.9697 12.6592 13.0996 12.5225 13.1953C12.3721 13.3001 12.2148 13.3389 12.0508 13.3115C11.8913 13.2842 11.75 13.1908 11.627 13.0312L9.99316 10.8779C9.93392 10.8005 9.89062 10.7253 9.86328 10.6523C9.83594 10.5749 9.82227 10.4928 9.82227 10.4062V6.69434C9.82227 6.53027 9.87923 6.39128 9.99316 6.27734C10.1117 6.15885 10.2529 6.09961 10.417 6.09961ZM10.6768 17.126C9.93848 17.126 9.22298 17.0098 8.53027 16.7773C7.84212 16.5495 7.20638 16.2259 6.62305 15.8066C6.04427 15.3919 5.54297 14.9111 5.11914 14.3643C4.96875 14.182 4.90495 13.9928 4.92773 13.7969C4.95052 13.6009 5.03939 13.446 5.19434 13.332C5.36296 13.2135 5.53841 13.1748 5.7207 13.2158C5.90299 13.2568 6.06478 13.3571 6.20605 13.5166C6.54785 13.9678 6.94889 14.3597 7.40918 14.6924C7.87402 15.0205 8.37988 15.2734 8.92676 15.4512C9.47819 15.6335 10.0615 15.7269 10.6768 15.7314C11.4606 15.736 12.1943 15.5902 12.8779 15.2939C13.5661 15.0023 14.1676 14.599 14.6826 14.084C15.2021 13.5645 15.6077 12.9629 15.8994 12.2793C16.1956 11.5911 16.3438 10.8529 16.3438 10.0645C16.3438 9.2806 16.1956 8.54688 15.8994 7.86328C15.6077 7.17513 15.2021 6.57357 14.6826 6.05859C14.1676 5.53906 13.5661 5.13346 12.8779 4.8418C12.1943 4.55013 11.4606 4.4043 10.6768 4.4043C9.88835 4.4043 9.15234 4.55013 8.46875 4.8418C7.78971 5.12891 7.19043 5.52995 6.6709 6.04492C6.15137 6.5599 5.74349 7.15918 5.44727 7.84277C5.1556 8.52181 5.00749 9.25326 5.00293 10.0371H3.6084C3.61296 9.07096 3.7998 8.16406 4.16895 7.31641C4.53809 6.46875 5.0485 5.72135 5.7002 5.07422C6.35189 4.42708 7.10156 3.92122 7.94922 3.55664C8.80143 3.1875 9.71061 3.00293 10.6768 3.00293C11.6429 3.00293 12.5521 3.1875 13.4043 3.55664C14.2565 3.92578 15.0062 4.4362 15.6533 5.08789C16.305 5.73503 16.8154 6.4847 17.1846 7.33691C17.5537 8.18913 17.7383 9.09831 17.7383 10.0645C17.7383 11.0306 17.5537 11.9398 17.1846 12.792C16.8154 13.6442 16.305 14.3962 15.6533 15.0479C15.0062 15.6995 14.2565 16.2077 13.4043 16.5723C12.5521 16.9414 11.6429 17.126 10.6768 17.126ZM2.78809 8.66992H6.16504C6.33822 8.66992 6.4681 8.71094 6.55469 8.79297C6.64583 8.87044 6.68913 8.9707 6.68457 9.09375C6.68001 9.21224 6.63216 9.33984 6.54102 9.47656L4.87988 11.7803C4.76595 11.9352 4.63151 12.015 4.47656 12.0195C4.32161 12.0195 4.1849 11.9398 4.06641 11.7803L2.40527 9.47656C2.31413 9.3444 2.26628 9.2168 2.26172 9.09375C2.25716 8.9707 2.29818 8.87044 2.38477 8.79297C2.47591 8.71094 2.61035 8.66992 2.78809 8.66992Z"})})},560962:(e,t,n)=>{n.d(t,{_:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("hamburgerMenu",{viewBox:"0 0 14 14",svg:(0,o.jsx)("path",{d:"M0,1.25 L14,1.25 L14,2.75 L0,2.75 L0,1.25 Z M0,6.25 L14,6.25 L14,7.75 L0,7.75 L0,6.25 Z M0,11.25 L14,11.25 L14,12.75 L0,12.75 L0,11.25 Z"})})},469030:(e,t,n)=>{n.d(t,{I:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("mobileTopbarMore",{viewBox:"0 0 26 26",svg:(0,o.jsx)("path",{d:"M4.56613 14.857C5.5918 14.857 6.42327 14.0255 6.42327 12.9998C6.42327 11.9742 5.5918 11.1427 4.56613 11.1427C3.54046 11.1427 2.70898 11.9742 2.70898 12.9998C2.70898 14.0255 3.54046 14.857 4.56613 14.857Z M20.2923 14.8571C21.318 14.8571 22.1495 14.0257 22.1495 13C22.1495 11.9743 21.318 11.1428 20.2923 11.1428C19.2667 11.1428 18.4352 11.9743 18.4352 13C18.4352 14.0257 19.2667 14.8571 20.2923 14.8571Z M12.429 14.8571C13.4546 14.8571 14.2861 14.0257 14.2861 13C14.2861 11.9743 13.4546 11.1428 12.429 11.1428C11.4033 11.1428 10.5718 11.9743 10.5718 13C10.5718 14.0257 11.4033 14.8571 12.429 14.8571Z"})})},965910:(e,t,n)=>{n.d(t,{h:()=>o().h});var o=()=>n(968061)},215791:(e,t,n)=>{n.d(t,{N:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("notionLogoBlockMonoWhite",{viewBox:"0 0 381 396",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M235.875 0.868913L42.2191 15.1299L42.0716 15.1427C29.2402 16.2539 17.5452 21.4575 9.54377 31.7056C2.00788 41.3575 0 52.6286 0 61.8081V273.61C0 290.004 6.39474 302.931 16.1515 315.934L16.2408 316.053L61.92 375.319L61.9886 375.407C67.4438 382.345 74.2617 388.53 83.9092 392.051C92.764 395.282 101.803 395.406 109.715 395.029L109.86 395.022L335.006 381.426L335.127 381.417C347.547 380.535 360.717 376.889 370.12 366.212C379.335 355.75 380.958 342.967 380.958 333.359V95.0753C380.958 86.7983 378.898 78.5009 372.39 70.965C368.595 66.5704 363.178 62.6545 359.406 59.9283C358.887 59.5528 358.398 59.1998 357.95 58.8713L357.768 58.7383L295.914 15.2639C287.833 9.40276 279.51 4.11203 268.519 1.62123C258.306 -0.693516 247.597 -0.133719 235.875 0.868913ZM44.056 38.0569L237.701 23.7967C239.187 23.6692 240.605 23.5551 241.959 23.4557C262.28 21.965 268.533 23.8019 282.545 33.9806L344.359 77.4261C344.891 77.8156 345.404 78.1905 345.899 78.5522C354.904 85.1258 357.958 87.3558 357.958 95.0753V333.359C357.958 347.359 353.177 355.996 336.907 358.134C335.822 358.277 334.687 358.391 333.498 358.475L108.619 372.055C94.3416 372.736 87.5464 370.701 80.0693 361.191L34.5487 302.131C34.0389 301.451 33.5477 300.782 33.0748 300.123C25.9812 290.237 23 282.531 23 273.61V61.8081C23 60.2816 23.085 58.7867 23.2643 57.3368C23.7339 53.5393 24.8501 50.0501 26.7789 47.1082C26.814 47.0547 26.8493 47.0014 26.8849 46.9483C26.9254 46.8879 26.9662 46.8277 27.0074 46.7677C30.2624 42.0312 35.7039 38.7802 44.056 38.0569Z",fill:"white"}),(0,o.jsx)("path",{d:"M80.7599 84.2182C91.6206 93.0413 95.6948 92.3681 116.088 91.0076L308.351 79.463C312.429 79.463 309.038 75.3949 307.678 74.7188L275.747 51.6355C269.629 46.8857 261.478 41.446 245.855 42.8066L59.6871 56.3852C52.8978 57.0584 51.5415 60.453 54.2457 63.1742L80.7599 84.2182Z",fill:"white"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M92.3031 331.318V129.025C92.3031 120.201 95.021 116.125 103.169 115.44L323.977 102.546C331.466 101.868 334.857 106.623 334.857 115.44V316.376C334.857 325.208 333.495 332.686 321.261 333.359L109.964 345.585C97.7361 346.257 92.3031 342.191 92.3031 331.318ZM294.768 152.79C300.894 152.102 302.249 145.992 300.894 139.876L254.001 142.606C247.206 143.279 241.778 148.708 243.135 156.184L260.804 158.213V251.899L191.501 145.995L141.221 149.384C131.703 150.068 128.311 158.886 129.672 165.002L146.654 166.363V300.099L134.424 303.489C129.67 304.848 128.308 311.631 129.67 314.35L176.538 311.631C193.54 311.631 193.54 299.418 193.54 299.418L172.467 294.662V193.514L239.06 298.057C247.206 308.234 249.929 311.631 260.804 311.631C267.596 311.631 275.747 308.915 284.586 304.164V154.818L294.768 152.79Z",fill:"white"})]})})},768927:(e,t,n)=>{n.d(t,{s:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("templateGalleryNewLogo",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M12.0281 10H7.5V2.5H15V8.125H13.1125L12.0312 10H12.0281ZM6.25 11.25V6.875C3.83437 6.875 1.875 8.83437 1.875 11.25C1.875 13.6656 3.83437 15.625 6.25 15.625C8.66562 15.625 10.625 13.6656 10.625 11.25H6.25ZM14.9156 9.375H13.8344L10.0469 15.9375C10.2875 16.3531 10.3469 16.4594 10.5875 16.875H18.1656C18.4062 16.4594 18.4656 16.3531 18.7062 15.9375L14.9187 9.375H14.9156Z"})})},610898:(e,t,n)=>{n.d(t,{U:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("templateGalleryNewLogoColor",{viewBox:"0 0 20 20",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{fill:"#FFB110",fillRule:"evenodd",d:"M6.014 16.338a4.43 4.43 0 0 0 4.429-4.48H8.88c-.254 0-.512 0-.732-.018a2.3 2.3 0 0 1-.86-.226 2.24 2.24 0 0 1-.979-.979 2.3 2.3 0 0 1-.226-.86 10 10 0 0 1-.018-.731V7.48a4.44 4.44 0 0 1 4.179 3.111 4.431 4.431 0 0 0-8.659 1.318 4.43 4.43 0 0 0 4.43 4.43Z",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#097FE8",d:"M12.902 11.044c.463-.802.694-1.203.997-1.338a1.02 1.02 0 0 1 .828 0c.302.135.534.536.996 1.338l2.028 3.512c.463.802.695 1.203.66 1.532-.03.287-.18.548-.414.718-.267.194-.73.194-1.656.194h-4.057c-.925 0-1.388 0-1.656-.194a1.02 1.02 0 0 1-.414-.718c-.035-.329.197-.73.66-1.532z"}),(0,o.jsx)("path",{fill:"#F64932",fillRule:"evenodd",d:"M7.287 4.63c0-.571 0-.856.111-1.074.098-.192.254-.347.445-.445C8.061 3 8.346 3 8.916 3h4.379c.57 0 .855 0 1.073.111.191.098.347.253.445.445.11.218.11.503.11 1.073v3.852a2.24 2.24 0 0 0-1.521.109c-.46.204-.75.56-.94.83a13 13 0 0 0-.594.97l-.024.043-.118.203h-2.81c-.57 0-.855 0-1.073-.11a1 1 0 0 1-.445-.445c-.11-.218-.11-.503-.11-1.074V4.63Z",clipRule:"evenodd"})]})})},772327:(e,t,n)=>{n.d(t,{_:()=>g});var o=n(667294),i=()=>n(219727),r=()=>n(142735),a=()=>n(846550),s=()=>n(788860),l=()=>n(921981),d=()=>n(842574),c=()=>n(416277),u=()=>n(520849),p=n(785893);function g(e){let{loginModalStore:t,loginStore:n,title:a,description:s,isSignup:d,disableLoginLink:u,redirectURL:g,className:f,onDismiss:x,trustedDomain:v}=e;const y=(0,i().O7)(),S=(0,r().VK)((()=>t.state.open),[t]),C=(0,o.useId)(),w=(0,o.useId)(),j={loginStore:n,title:a,description:s,isSignup:d,redirectURL:g,disableLoginLink:u,titleAriaId:C,descriptionAriaId:w,trustedDomain:v};return(0,p.jsx)(l().c,{ariaLabelledBy:C,ariaDescribedBy:w,isOpen:S,onDismiss:()=>{b({loginModalStore:t,loginStore:n,onDismiss:x})},areaConstraint:{width:{type:"fixed",length:480},height:{type:"unlimited",scroll:"allow"}},deprecatedCompatibilityOverrides:{tabletsUsePhoneDisplayMode:!0},render:()=>(0,p.jsx)(m,{children:(0,p.jsxs)("div",{className:f,children:[!y.device.isMobile&&(0,p.jsx)(h,{loginModalStore:t,loginStore:n,onDismiss:x}),(0,p.jsx)(c().gM,{...j})]})})})}function m(e){let{children:t}=e;return(0,i().O7)().device.isMobile?(0,p.jsx)(d().Z,{type:u().Z.Y,children:t}):t}function h(e){let{loginModalStore:t,loginStore:n,onDismiss:o}=e;const i=(0,a().Fg)();return(0,p.jsx)("div",{style:{fontSize:14,color:i.mediumTextColor,position:"absolute",right:0,marginTop:16,marginRight:16,cursor:"pointer",zIndex:1},onClick:()=>{b({loginModalStore:t,loginStore:n,onDismiss:o})},children:(0,p.jsx)(s()._H,{defaultMessage:"Cancel",id:"sidebarSwitcherMultiAccount.addAccountModal.cancelButton.label"})})}function b(e){const{loginModalStore:t,loginStore:n,onDismiss:o}=e;n.reset(),t.setState({open:!1}),o&&o()}},728757:(e,t,n)=>{n.d(t,{Z:()=>c});n(667294);var o=()=>n(142735),i=()=>n(846550),r=()=>n(788860),a=()=>n(707513),s=()=>n(680887),l=()=>n(594723),d=n(785893);function c(e){let{isUpworkSignup:t,isPerfmarkTrialSignup:n}=e;const c=(0,i().Fg)(),u=(0,o().VK)((()=>(0,s().d)()),[]),p=(0,o().VK)((()=>(0,l().$O)()),[]),g=(0,o().VK)((()=>(0,l().u$)()),[]),m=t?(0,d.jsx)(r()._H,{id:"signupPage.upwork.title",defaultMessage:"Try Notion Plus, on us"}):n?(0,d.jsx)(r()._H,{id:"signupPage.perfmarkTrial.title",defaultMessage:"Start your free Notion Plus trial"}):u?(0,d.jsx)(r()._H,{id:"signupPage.formResponse.title",defaultMessage:"Sign up to see a copy of your form response"}):p?(0,d.jsx)(r()._H,{id:"signupPage.mail.title",defaultMessage:"Welcome to Notion Mail"}):g?(0,d.jsx)(r()._H,{id:"signupPage.calendar.title",defaultMessage:"Welcome to Notion Calendar"}):(0,d.jsx)(r()._H,{id:"signupPage.revamped.title",defaultMessage:"Think it. Make it."}),h=t?(0,d.jsx)(r()._H,{id:"signupPage.upwork.signInText",defaultMessage:"Sign up to get started"}):n?(0,d.jsx)(r()._H,{id:"signupPage.smbTrial.signInText",defaultMessage:"No credit card required"}):u?void 0:(0,d.jsx)(r()._H,{id:"signupPage.revamped.signInText",defaultMessage:"Create your Notion account"});return(0,d.jsxs)("div",{style:{display:"flex",flexDirection:"column",textAlign:"left",fontWeight:a().Ue.semibold,fontSize:22,letterSpacing:"-0.264px",lineHeight:"26px",width:320},children:[(0,d.jsx)("div",{children:m}),(0,d.jsx)("div",{style:{color:c.text.tertiary},children:h})]})}},681819:(e,t,n)=>{n.d(t,{E:()=>X});n(670560);var o=n(667294),i=()=>n(219727),r=()=>n(142735),a=()=>n(846550),s=()=>n(788860),l=()=>n(839821),d=()=>n(752127),c=()=>n(154186),u=()=>n(827973),p=()=>n(448419),g=()=>n(838003),m=()=>n(198829),h=()=>n(255577),b=()=>n(388284),f=()=>n(352230),x=()=>n(164079),v=()=>n(148126),y=()=>n(91502),S=()=>n(466970),C=()=>n(498403),w=()=>n(696347),j=()=>n(314379),k=()=>n(85876),M=()=>n(653457),P=()=>n(469030),I=()=>n(168509),_=()=>n(960852),T=()=>n(998901),B=()=>n(876822),Z=()=>n(595976),L=()=>n(548919),V=()=>n(701814),E=()=>n(182946),K=()=>n(21062),H=()=>n(343931),R=()=>n(384334),F=()=>n(170210);const O=(0,s().vU)({showHideWidgetsTitle:{id:"HomeTopbarActionButtons.showHideWidgets",defaultMessage:"Show/hide widgets"}});n(267602),n(653476),n(241792);var D=()=>n(140798),A=()=>n(45909),N=()=>n(15409),U=n(785893);const W={greeting:{key:"greeting",label:(0,U.jsx)(s()._H,{id:"HomeFeaturesMenu.greeting.label",defaultMessage:"Greeting"}),defaultValue:!0},tasks:{key:"tasks",label:(0,U.jsx)(s()._H,{id:"HomeFeaturesMenu.tasks.label",defaultMessage:"My Tasks"})},custom_db:{key:"custom_db",label:(0,U.jsx)(s()._H,{id:"HomeFeaturesMenu.customDb.label",defaultMessage:"Database Views"})},tips:{key:"tips",label:(0,U.jsx)(s()._H,{id:"HomeFeaturesMenu.tips.label",defaultMessage:"Learn"})},templates:{key:"templates",label:(0,U.jsx)(s()._H,{id:"HomeFeaturesMenu.templates.label",defaultMessage:"Featured Templates"}),shouldShow:e=>{let{device:t}=e;return!t.isMobile}},calendar:{key:"calendar",label:(0,U.jsx)(s()._H,{id:"HomeFeaturesMenu.calendar.label",defaultMessage:"Upcoming Events"}),shouldShow:e=>{let{device:t,spaceStore:o}=e;return(0,n(546438).W)({isPhone:t.isPhone,spaceStore:o})}}},z=["greeting","calendar","tasks","custom_db","tips","templates"];function G(e){let{parent:t}=e;const l=(0,i().O7)(),d=(0,s().YB)(),c=(0,i().Fy)(),p=(0,r().VK)((()=>B().default.state.currentSpaceStore),[]),g=(0,r().VK)((()=>z.map((e=>W[e])).filter((e=>{var t;return(null===(t=e.shouldShow)||void 0===t?void 0:t.call(e,{device:c,spaceStore:p}))??!0}))),[c,p]),{isPhone:x,isElectron:v}=(0,i().Fy)(),y=(0,r().VK)((()=>B().default.state.currentSpaceViewStore),[]),S=(0,r().VK)((()=>(0,n(662062).q)(y)),[y]),C=(0,o.useCallback)((e=>{y&&D().aG({environment:l,currentSpaceViewStore:y,feature:e,from:"home_more_menu"})}),[y,l]),w=(0,a().yK)((e=>({selectedOptionCheck:{width:x?16:14},icon:{width:20,height:20}})),[x]);let j;j=x?{menuType:f().o.Modal,title:d.formatMessage(O.showHideWidgetsTitle),right:(0,U.jsx)(s()._H,{defaultMessage:"Done",id:"settingItem.buttonPopup.done.label"}),onClickRight:t.close}:{menuType:f().o.Popup,width:200};const k=[{key:"settings-item-section",render:e=>(0,U.jsx)(b().Z,{...e}),items:g.map((e=>{let{key:t,label:n}=e;return{key:t,action:()=>C(t),render:e=>(0,U.jsx)(u().Z,{...e,title:n,shouldWrapCaption:!0,right:Boolean(S[t])?(0,U.jsx)("div",{style:w.selectedOptionCheck,children:(0,N().e)()}):void 0})}}))}];return(0,U.jsx)(m().Z,{...j,children:(0,U.jsx)(h().Z,{style:(0,A().X)({noDrag:v}),type:h().i.Vertical,sections:k.filter(n(696459).$K),initialFocus:void 0})})}const q=o.memo(G);function Y(e){let{onClose:t}=e;const l=(0,i().O7)(),d=(0,r().VK)((()=>(0,n(138390).o)()),[]),{isPhone:c,isElectron:p}=(0,i().Fy)(),g=(0,r().VK)((()=>{var e,t;return(0,n(345918).g4)(l,{space:null===(e=B().default.state.currentSpaceStore)||void 0===e?void 0:e.getModel(),spaceView:null===(t=B().default.state.currentSpaceViewStore)||void 0===t?void 0:t.getModel()})}),[l]),x=(0,o.useCallback)((e=>{const o=g;D().N({userAction:"userHomeActions.setPersonalHomeAsLandingPage",environment:l,option:e,from:"home_more_menu"}),n(102182).d4({item:{label:(0,U.jsx)(s()._H,{defaultMessage:"Updated default landing page",id:"openOnStartMenu.snackbar.updatedDefaultLandingPage"})},undoFunc:()=>D().N({userAction:"userHomeActions.setPersonalHomeAsLandingPage.undo",environment:l,option:o,from:"home_toast_undo_button"})}),t("selectedOption")}),[g,l,t]),v=(0,a().yK)((e=>({selectedOptionCheck:{width:c?16:14},icon:{width:20,height:20}})),[c]);let y;y=c?{menuType:f().o.Modal,title:(0,U.jsx)(s()._H,{id:"openOnStartMenuSetting.title",defaultMessage:"Open on start"}),right:(0,U.jsx)(s()._H,{defaultMessage:"Done",id:"settingItem.buttonPopup.done.label"}),onClickRight:()=>t("clickedDone")}:{menuType:f().o.Popup,width:250,onClickOutside:()=>t("clickedOutside")};const S=[{key:"settings-item-section",render:e=>(0,U.jsx)(b().Z,{...e}),items:d.map((e=>{let{key:t,label:n,renderIcon:o}=e;return{key:t,action:()=>x(t),render:e=>(0,U.jsx)(u().Z,{...e,title:n,icon:o(v.icon),shouldWrapCaption:!0,right:g===t?(0,U.jsx)("div",{style:v.selectedOptionCheck,children:(0,N().e)()}):void 0})}}))}];return(0,U.jsx)(m().Z,{...y,children:(0,U.jsx)(h().Z,{style:(0,A().X)({noDrag:p}),type:h().i.Vertical,sections:S,initialFocus:void 0})})}const $=o.memo(Y);function X(e){const t=(0,i().O7)(),n=(0,s().YB)(),l=(0,i().MO)(),{isElectronWindows:d}=t.device,u=(0,S().E)("home_cover_photo"),g=(0,r().VK)((()=>u&&e.store.hasCover()),[u,e.store]),m=(0,r().VK)((()=>{var e;return null===(e=B().default.state.currentSpaceStore)||void 0===e?void 0:e.getSpaceId()}),[]),h=(0,Z().p)({spaceId:m}),b=(0,E().Cf)(h),f=(0,o.useCallback)((()=>(0,R().lj)({environment:t})),[t]),v=(0,a().yK)((e=>({dotsIcon:{width:g?12:18,height:g?12:18,fill:e.regularIconColor},moreIconPhone:{width:26},pencilIcon:{width:20,height:20,padding:2},trialBadgeWrapper:{marginRight:6},button:l?{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",paddingLeft:8,paddingRight:8,marginRight:2,...g?(0,F().Er)({theme:e,isPhone:l,buttonState:"base"}):{}}:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:28,borderRadius:4,...g?(0,F().Er)({theme:e,isPhone:l,buttonState:"base"}):{}},buttonHovered:g?(0,F().Er)({theme:e,isPhone:l,buttonState:"hovered"}):{},buttonPressed:g?(0,F().Er)({theme:e,isPhone:l,buttonState:"pressed"}):{},moreButtonStyle:l?{}:{width:250,maxHeight:"80vh"}})),[g,l]);return e.isInvalidPage?null:(0,U.jsxs)(U.Fragment,{children:[b?(0,U.jsx)("div",{style:v.trialBadgeWrapper,children:(0,U.jsx)(V().z,{onClick:()=>(0,L().D)({openedFrom:"home_badge"})})}):null,(0,U.jsx)(p().ZP,{popupType:l?p().Z4.SlideUp:p().Z4.Popup,renderOrigin:e=>(0,U.jsx)(K().N,{step:"home_topbar_action_button",isFullWidth:!1,children:(0,U.jsx)(c().Z,{ariaLabel:n.formatMessage({id:"homeTopbarActionButtons.moreButton.ariaLabel",defaultMessage:"Open menu"}),style:v.button,hoveredStyle:v.buttonHovered,pressedStyle:v.buttonPressed,mobileFeedback:l,...(0,x().Z)(e,{onClick:f}),children:l?(0,P().I)(v.moreIconPhone):(0,j().o)(v.dotsIcon)})}),render:e=>(0,U.jsx)(J,{mainMenuParent:e,hasCover:g,allowCover:u}),originGap:d?12:4,trapFocus:!0,forceInitialInbound:!0,style:v.moreButtonStyle})]})}function J(e){let{mainMenuParent:t,hasCover:n,allowCover:o}=e;const{isPhone:c,isElectron:S}=(0,i().Fy)(),j=(0,i().O7)(),P=(0,s().YB)(),Z=(0,r().VK)((()=>B().default.state.mainEditorCurrentBlockStore),[]),L=(0,r().VK)((()=>(0,y().QI)("dev_only")),[]),V=(0,v().UY)("guides.sidebarHome"),E=(0,a().yK)((e=>{const t=(0,F().$K)(e);return{coverPhotoIcon:{width:18,height:18,padding:2,marginLeft:1,marginRight:1},pageIcon:{width:20,height:20,padding:2},messageIcon:{width:20,height:20,padding:2},repeatIconStyle:{width:15,height:15,marginLeft:3,marginRight:2},chevronRightIcon:{width:14,height:14,fill:e.lightIconColor},eyeIcon:{width:20,height:20},helpIconStyle:{width:16,height:16,fill:t.icon,marginLeft:2,marginRight:2},helpMenuItem:{color:t.text}}}),[]),K=[{key:"changeDefaultPage",render:e=>(0,U.jsx)(g().Z,{...e,stopClickPropagation:!0,popupType:c?p().Z4.SlideUp:p().Z4.Popup,render:e=>(0,U.jsx)($,{onClose:n=>(e=>{let{immediateParent:n,closeMainParent:o}=e;n.close(),o&&t.close()})({immediateParent:e,closeMainParent:"selectedOption"===n})}),placementToOrigin:T().Placement.Left,renderOrigin:t=>(0,U.jsx)(u().Z,{...(0,x().Z)(e,t),icon:(0,I().S)(E.pageIcon),right:(0,w().o)(E.chevronRightIcon),title:S?(0,U.jsx)(s()._H,{id:"HomeTopbarActionButtons.changeStartPage.desktop",defaultMessage:"Change default page"}):(0,U.jsx)(s()._H,{id:"HomeTopbarActionButtons.changeStartPage",defaultMessage:"Change default start page"})}),onClose:()=>{t.close()}}),action:()=>{}},{key:"showHideTiles",render:e=>(0,U.jsx)(g().Z,{...e,stopClickPropagation:!0,popupType:c?p().Z4.SlideUp:p().Z4.Popup,render:e=>(0,U.jsx)(q,{parent:e}),placementToOrigin:T().Placement.Left,renderOrigin:t=>(0,U.jsx)(u().Z,{...(0,x().Z)(e,t),icon:(0,k().N)(E.eyeIcon),right:(0,w().o)(E.chevronRightIcon),title:P.formatMessage(O.showHideWidgetsTitle)}),onClose:()=>{t.close()}}),action:()=>{}}];o&&K.push({key:"manageCoverPhoto",render:e=>(0,U.jsx)(u().Z,{...e,icon:(0,C().P)(E.coverPhotoIcon),right:(0,w().o)(E.chevronRightIcon),onClick:e=>{if(!Z)return;const t=e.currentTarget.getBoundingClientRect();l().j({environment:j,intl:P,store:Z,rect:t})},title:n?(0,U.jsx)(s()._H,{id:"HomeTopbarActionButtons.changeBackground",defaultMessage:"Change background"}):(0,U.jsx)(s()._H,{id:"HomeTopbarActionButtons.addBackground",defaultMessage:"Add background"})}),action:()=>{}}),L&&K.push({key:"reset-welcome-animation",render:e=>(0,U.jsx)(u().Z,{...e,icon:(0,_().N)(E.repeatIconStyle),onClick:e=>{H().YD({environment:j,newSeenWelcomeHomeValue:!1})},title:(0,U.jsx)(s()._H,{defaultMessage:"Reset Welcome Animation",id:"personalHome.resetWelcomeAnimation.title"})}),action:()=>{}}),K.push({key:"help",render:e=>(0,U.jsx)(u().Z,{...e,textWrapperStyle:E.helpMenuItem,icon:(0,M().m)(E.helpIconStyle),onClick:e=>{(0,R().gF)({environment:j}),d().D({url:V,environment:j})},title:(0,U.jsx)(s()._H,{defaultMessage:"Learn about Home",id:"personalHome.helpTooltip.title"})}),action:()=>{}});const D=[{key:"all",render:e=>(0,U.jsx)(b().Z,{...e}),items:K}];return(0,U.jsx)(m().Z,{menuType:c?f().o.ActionSheet:f().o.Popup,children:(0,U.jsx)(h().Z,{type:h().i.Vertical,sections:D,initialFocus:void 0})})}},546438:(e,t,n)=>{n.d(t,{W:()=>r});var o=()=>n(696459),i=()=>n(345918);function r(e){let{isPhone:t,spaceStore:n}=e;return!t&&(0,o().$K)(n)&&!(0,i().XY)({env:"production",spaceStore:n})}},662062:(e,t,n)=>{n.d(t,{q:()=>i});const o={greeting:!0,tasks:!1,tips:!1,templates:!1,calendar:!1,custom_db:!1};function i(e){const t=(null==e?void 0:e.getHomeEnabledFeatures())??{};return{...o,...t}}},920719:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n(263184).default.createValue(!0)},138390:(e,t,n)=>{n.d(t,{o:()=>u});n(670560),n(667294);var o=()=>n(788860),i=()=>n(91502),r=()=>n(759190),a=()=>n(168509),s=()=>n(709237),l=()=>n(844958),d=()=>n(524434),c=n(785893);function u(){const e=(0,i().QI)(),t=d().KR.isFullPageAssistantInStartOptions(),n=[];return e&&n.push({key:"personal_home",label:(0,c.jsx)(o()._H,{id:"pageOnAppStoreSetting.home.label",defaultMessage:"Home"}),renderIcon:e=>(0,s().z)({width:20,height:20,...e})}),n.push({key:"last_visited_page",label:(0,c.jsx)(o()._H,{id:"pageOnAppStoreSetting.lastVisitedPage.label",defaultMessage:"Last visited page"}),renderIcon:e=>(0,r().Y)({width:20,height:20,...e})},{key:"first_page",label:(0,c.jsx)(o()._H,{id:"pageOnAppStoreSetting.firstPage.label",defaultMessage:"Top page in sidebar"}),renderIcon:e=>(0,a().S)({width:20,height:20,padding:2,...e})}),t&&n.push({key:"chat",label:(0,c.jsx)(o()._H,{id:"pageOnAppStoreSetting.chat.label",defaultMessage:"Notion AI"}),renderIcon:e=>(0,l().t)({width:20,height:20,...e})}),n}},591707:(e,t,n)=>{n.d(t,{C:()=>r,E:()=>i});var o=()=>n(529048);const i=new(o().Z),r=new(o().Z)},183211:(e,t,n)=>{n.d(t,{Z:()=>r});var o=()=>n(231077);class i extends(()=>n(263184))().default{getInitialState(){return{isFullScreen:window.outerWidth===window.screen.width&&window.outerHeight===window.screen.height}}constructor(){super(),this.updateFromElectronState=async()=>{const e=await o().fullscreen.get();void 0!==e&&this.setState({isFullScreen:e})},o().fullscreen.addListener(this.updateFromElectronState),this.updateFromElectronState()}}const r=new i},218689:(e,t,n)=>{n.d(t,{C:()=>o});const o=new(n(55558).Z)},697606:(e,t,n)=>{n.d(t,{Z:()=>i});class o extends(()=>n(263184))().default{getInitialState(){return{isHovered:!1}}}const i=new o},632752:(e,t,n)=>{n.d(t,{p:()=>p});n(667294);var o=()=>n(846550),i=()=>n(73363),r=()=>n(212493),a=()=>n(154186),s=()=>n(603692),l=()=>n(661641),d=()=>n(654133),c=()=>n(998901),u=n(785893);function p(e){let{tooltipTitle:t,tooltipDescription:n,buttonProps:o,iconSize:a="small",tooltipWidth:p}=e;return(0,u.jsx)(d().Z,{placement:c().Placement.Top,style:p?{width:p}:void 0,renderTooltip:()=>(0,u.jsxs)(r().jX,{gap:2,direction:"column",children:[(0,u.jsx)(l().q,{styleName:"UISmall-12px/Medium",colorName:"contrastPrimary",children:t}),n?(0,u.jsx)(l().q,{styleName:"UISmall-12px/Regular",colorName:"contrastSecondary",children:n}):null]}),render:e=>(0,u.jsx)(g,{buttonProps:o,...e,children:(0,u.jsx)(s().y,{iconGroup:i().M,colorName:"tertiary",variantName:a})}),textWrap:Boolean(p)})}function g(e){let{children:t,buttonProps:n,...i}=e;const r=(0,o().yK)((()=>({button:{borderRadius:2}})),[]);return n?(0,u.jsx)(a().Z,{style:r.button,...n,...i,children:t}):(0,u.jsx)("span",{...i,children:t})}},663773:(e,t,n)=>{n.d(t,{Cv:()=>l,aJ:()=>d,kw:()=>c,zX:()=>u});var o=()=>n(219727),i=()=>n(142735),r=()=>n(799891),a=()=>n(629719),s=()=>n(515323);function l(e){let{spaceId:t}=e;const n=(0,o().O7)();return(0,i().VK)((()=>{if(t)return s().U.getData(n,{spaceId:t})}),[n,t])}function d(e){if("admin"===(null==e?void 0:e.type))return e}function c(e,t,n){if(!t)return 0;const o=(0,a().ry)({spaceId:e,logFunction:r().log.bind(r()),subscriptionState:t});return o?Math.max(o,n):0}function u(e){var t;const n=null===(t=(0,a().a7)(e,"plan"))||void 0===t?void 0:t.price;if(!n)return;const o=n.unitAmount,i="year"===n.billingInterval?12:1;return{amount:o.amount/i,currencyCode:o.currencyCode}}},595976:(e,t,n)=>{n.d(t,{p:()=>l});var o=()=>n(219727),i=()=>n(142735),r=()=>n(616433),a=()=>n(515323),s=()=>n(663773);function l(e){let{spaceId:t}=e;const n=(0,o().O7)(),l=(0,r().J)();return(0,i().VK)((()=>{if(!t||!l)return;const e=a().U.getData(n,{spaceId:t});return(0,s().aJ)(e)}),[n,t,l])}},548919:(e,t,n)=>{n.d(t,{D:()=>r,Qk:()=>s,we:()=>a});var o=()=>n(873463),i=()=>n(914575);function r(e){i().Z.setState({open:!0,...e})}function a(){i().Z.setState({open:!1})}function s(e){o().Z.setState({open:!0,...e})}},701814:(e,t,n)=>{n.d(t,{z:()=>x});n(667294);var o=()=>n(219727),i=()=>n(142735),r=()=>n(846550),a=()=>n(677200),s=()=>n(788860),l=()=>n(568017),d=()=>n(154186),c=()=>n(603692),u=()=>n(661641),p=()=>n(654133),g=()=>n(345918),m=()=>n(228772),h=()=>n(998901),b=()=>n(697623),f=n(785893);function x(e){let{onClick:t,showIcon:n=!0}=e;const r=y(n),a=(0,o().O7)(),l=(0,m().r)(),c=(0,i().VK)((()=>l&&(0,g().rn)(a,l)),[a,l]),x=(0,i().VK)((()=>(0,b().zt)()),[]);return void 0===t?(0,f.jsx)("div",{style:{...r.badge,cursor:"default"},children:(0,f.jsx)(v,{showIcon:n})}):(0,f.jsx)(p().Z,{placement:h().Placement.Bottom,style:r.tooltip,render:e=>(0,f.jsx)(d().Z,{onClick:t,style:{...r.badge,cursor:"pointer"},hoveredStyle:r.badgeHover,pressedStyle:r.badgePressed,...e,children:(0,f.jsx)(v,{showIcon:n})}),renderTooltip:()=>(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(u().q,{styleName:"UISmall-12px/Medium",colorName:"contrastPrimary",children:(0,f.jsx)(s()._H,{id:"trialBadge.tooltip.title",defaultMessage:"{hasSpaceName, select, true {{spaceName}} other {Your workspace}} is on a free {planName, select, plus {Plus} business {Business} enterprise {Enterprise} other {}} trial",values:{hasSpaceName:Boolean(c),spaceName:c,planName:x}})}),(0,f.jsx)(u().q,{styleName:"UISmall-12px/Regular",colorName:"contrastSecondary",children:(0,f.jsx)(s()._H,{id:"trialBadge.tooltip.description",defaultMessage:"Click to learn more"})})]}),textWrap:!0})}function v(e){let{showIcon:t}=e;const n=y(t);return(0,f.jsxs)(f.Fragment,{children:[t?(0,f.jsx)("span",{style:n.giftIcon,children:(0,f.jsx)(c().y,{iconGroup:a().$,variantName:"mini",colorName:"orangePrimary"})}):null,(0,f.jsx)(u().q,{styleName:"UISmall-12px/Medium",children:(0,f.jsx)(s()._H,{id:"trialBadge.title",defaultMessage:"Free trial"})})]})}function y(e){return(0,r().yK)((t=>({badge:{display:"flex",flexDirection:"row",gap:4,justifyContent:"center",alignItems:"center",color:t.icon.orangePrimary,background:t.fill.orangeSecondary,padding:e?"0px 6px 0px 4px":"0px 6px",height:e?22:20,borderRadius:6,width:"fit-content"},badgeHover:{background:l().FN[t.mode].orange[100]},badgePressed:{background:l().FN[t.mode].orange[200]},tooltip:{maxWidth:"240px",width:"max-content",display:"flex",padding:"4px 6px",flexDirection:"column",alignItems:"flex-start",gap:2,borderRadius:4},giftIcon:{paddingBottom:1}})),[e])}},873463:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n(263184).default.createValue({open:!1},{name:"TrialEndModalStore"})},914575:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n(263184).default.createValue({open:!1},{name:"TrialInfoModalStore"})},527308:(e,t,n)=>{n.d(t,{o:()=>p});n(667294);var o=()=>n(219727),i=()=>n(846550),r=()=>n(922003),a=()=>n(154186),s=()=>n(448419),l=()=>n(314379),d=()=>n(469030),c=()=>n(76225),u=n(785893);function p(e){const t=(0,o().Fy)(),n=t.isPhone,p=t.isElectronWindows,g=(0,c().aE)(),m=(0,i().yK)((e=>({dotsIcon:{width:18,height:18,fill:e.regularIconColor},moreIconPhone:{width:26},button:n?{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",paddingLeft:8,paddingRight:8,marginRight:2}:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:28,borderRadius:4},moreButtonStyle:n?g.popup:{width:250,maxHeight:"80vh"}})),[n,g.popup]);return(0,u.jsx)(s().ZP,{popupType:n?s().Z4.SlideUp:s().Z4.Popup,renderOrigin:e=>(0,u.jsx)(a().Z,{style:m.button,mobileFeedback:n,...e,children:n?(0,d().I)(m.moreIconPhone):(0,l().o)(m.dotsIcon)}),render:t=>(0,u.jsx)(r().V8,{mainMenuParent:t,teamStore:e.teamStore}),originGap:p?12:4,trapFocus:!0,forceInitialInbound:!0,style:m.moreButtonStyle})}},656221:(e,t,n)=>{n.d(t,{JT:()=>g,O:()=>h,Zb:()=>m,jL:()=>b,nk:()=>x,rX:()=>f,yP:()=>p});n(821057),n(670560),n(267602),n(653476),n(470928),n(241792);var o=()=>n(799891),i=()=>n(530980),r=()=>n(934165),a=()=>n(696459),s=()=>n(824462),l=()=>n(636340),d=()=>n(269299),c=()=>n(876822),u=()=>n(826955);function p(e){let{trustedDomainIds:t,spaceStore:n}=e;return t.map((e=>{const t=u().hf.createChildStore(n,{table:r().l,id:e,spaceId:n.id});if(t.canRead())return t})).filter(a().$K)}async function g(e){let{environment:t,spaceId:n,currentUserId:i,organizationId:r}=e;const a=await s().getTrustedDomainsNumberOfMembersForSpace(t,{spaceId:n,organizationId:r},i);return"failed"===a.type?(o().rateLimitedLog({from:"trustedDomainHelpers",level:"error",type:"getTrustedDomainsNumberOfMembersForSpaceFailed"}),[]):a.data.results}function m(e){let{environment:t,trustedEmailDomain:n,trustedDomainStores:o,spaceStore:i,spaceBasicSettingsStore:a}=e,s=o.find((e=>e.getEmailDomain()===n));const c=a.state.emailDomains;return s?(d().createAndCommit({userAction:"trustedDomainActions.setTrustedDomainDLSEnabled",environment:t,canUndo:!0,perform:e=>{l().sW({store:i,data:{email_domains:c},transaction:e}),l().sW({store:s,data:{domain_link_sharing_enabled:!0,join_space_method:"request_to_join"},transaction:e})}}),s):(d().createAndCommit({userAction:"trustedDomainActions.createTrustedDomain",environment:t,canUndo:!0,perform:e=>{l().sW({store:i,data:{email_domains:c},transaction:e});const o={space_id:i.id,join_space_method:"request_to_join",domain_link_sharing_enabled:!0,email_domain:n};s=l().ae({environment:t,table:r().l,value:o,inMemoryRecordCache:t.defaultRecordCache.inMemoryRecordCache,transaction:e})}}),s&&o.push(s),s)}function h(e){let{store:t,environment:n}=e;const{currentSpaceStore:o}=c().default.getState();if(!o)throw new Error("currentSpaceStore does not exist");if(o.id!==t.getSpaceId())throw new Error("Mismatched spaceId");return!!t.isReady()&&(d().createAndCommit({userAction:"trustedDomainActions.deleteTrustedDomain",environment:n,canUndo:!0,perform:e=>{l().sW({store:t,data:{domain_link_sharing_enabled:!1},transaction:e})}}),!0)}function b(e){let{store:t,environment:n,joinSpaceMethod:o}=e;const{currentSpaceStore:i}=c().default.getState();if(!i)throw new Error("currentSpaceStore does not exist");if(i.id!==t.getSpaceId())throw new Error("Mismatched spaceId");return!!t.isReady()&&(t.getJoinSpaceMethod()!==o&&(d().createAndCommit({userAction:"trustedDomainActions.setTrustedDomainJoinSpaceMethod",environment:n,canUndo:!0,perform:e=>{l().sW({store:t,data:{join_space_method:o},transaction:e})}}),!0))}async function f(e){let{environment:t,spaceId:n}=e;const o=await s().callApi({eventName:"getTrustedDomainsForSpace",environment:t,data:{spaceId:n}});if("success"!==o.type)return[];return o.data.results.filter((e=>e.domain_link_sharing_enabled)).map((e=>i().kk5.fromValue(r().l,e)))}async function x(e){let{environment:t,spaceId:n}=e;const o=await s().callApi({eventName:"getTrustedDomainForUser",environment:t,data:{spaceId:n}});if("success"===o.type)return i().kk5.fromValue(r().l,o.data.result)}},677200:(e,t,n)=>{n.d(t,{$:()=>o});const o=(0,n(827282).CZ)("gift",{default:{loader:()=>n.e(63636).then(n.bind(n,563636))},small:{loader:()=>n.e(19806).then(n.bind(n,719806))},mini:{loader:()=>n.e(73393).then(n.bind(n,373393))},large:{loader:()=>n.e(40651).then(n.bind(n,840651))}})},73363:(e,t,n)=>{n.d(t,{M:()=>o});const o=(0,n(827282).CZ)("questionMarkCircled",{default:{loader:()=>n.e(18872).then(n.bind(n,118872))},small:{loader:()=>n.e(95020).then(n.bind(n,295020))},mini:{loader:()=>n.e(51419).then(n.bind(n,651419))},large:{loader:()=>n.e(78727).then(n.bind(n,678727))}})}}]);