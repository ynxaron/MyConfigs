"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[34268],{354007:(e,o,t)=>{t.r(o),t.d(o,{default:()=>f});var l=t(667294),n=()=>t(846550),a=()=>t(788860),i=()=>t(58836),s=()=>t(1910),r=()=>t(92175),c=()=>t(654133),u=()=>t(314379),g=()=>t(998901),p=()=>t(579095),d=t(785893);const P=(0,a().vU)({ariaLabel:{id:"Layouts.InfoPanelToggleButton.ariaLabel",defaultMessage:"Show/close details panel"},buttonLabel:{id:"Layouts.InfoPanelToggleButton.show",defaultMessage:"Hide details"},buttonLabelNoProperties:{id:"Layouts.InfoPanelToggleButton.showNoProperties",defaultMessage:"View details"},buttonLabelClose:{id:"Layouts.InfoPanelToggleButton.close",defaultMessage:"Hide details"},tooltipShow:{id:"Layouts.InfoPanelToggleButton.tooltip.show",defaultMessage:"View details"},tooltipShowNoProperties:{id:"Layouts.InfoPanelToggleButton.tooltip.showNoProperties",defaultMessage:"Open details panel"},tooltipClose:{id:"Layouts.InfoPanelToggleButton.tooltip.close",defaultMessage:"Hide details"}});function f(e){const{collectionStore:o,variant:t,pageViewBlockContext:f}=e,h=(0,a().YB)(),S=(0,n().yK)((e=>({icon:{fill:e.icon.secondary}})),[]),{toggleDetailsPanel:b,isDetailsPanelOpen:w,pageDetailsPropertiesCount:L,canShowButton:k}=(0,p().g)({collectionStore:o,from:"more_properties",forceShowButtonIfNoProperties:!0,pageViewBlockContext:f});let C=P.buttonLabelClose;w||(C=L?P.buttonLabel:P.buttonLabelNoProperties);const B=l.useCallback((e=>"compact"===t?(0,d.jsx)(s().Z,{icon:u().o,iconStyle:S.icon,ariaLabel:h.formatMessage(P.ariaLabel),onClick:b,style:{width:30,height:30},...e}):(0,d.jsx)(r().Z,{icon:u().o,iconStyle:S.icon,isGray:!0,onClick:b,...e,children:(0,d.jsx)(a()._H,{...C,values:{propertiesCount:L}})})),[t,S.icon,h,b,C,L]);if(!k)return null;let y=P.tooltipClose;return w||(y=L?P.tooltipShow:P.tooltipShowNoProperties),(0,d.jsx)(c().Z,{render:e=>(0,d.jsx)(i().p,{allowSelectionWithin:!1,children:(0,d.jsx)(B,{...e})}),alignment:g().Alignment.Center,placement:g().Placement.Right,disableTooltip:"full"===t,renderTooltip:()=>(0,d.jsx)(a()._H,{...y,values:{propertiesCount:L}})})}},579095:(e,o,t)=>{t.d(o,{g:()=>g});var l=t(667294),n=()=>t(219727),a=()=>t(142735),i=()=>t(887430),s=()=>t(311562),r=()=>t(528770),c=()=>t(70191),u=()=>t(521635);function g(e){const{collectionStore:o,from:t,forceShowButtonIfNoProperties:g,pageViewBlockContext:p}=e,d=(0,a().VK)((()=>null==o?void 0:o.getLayoutStore()),[o]),P=(0,n().O7)(),f=p===s().S.PeekView,h=(0,a().VK)((()=>u().Z.getPanelState(f?"peek":"mainPage").isOpen),[f]),S=(0,a().VK)((()=>!!o&&i().eD({collectionStore:o,collectionViewBlockStore:o.getParentBlockStore(),checkNavigableAncestorLocked:!1})),[o]),b=(0,a().VK)((()=>!!d&&d.getModules().page_details.length>0),[d]),{count:w,isPropertiesModuleInPageDetails:L}=(0,a().VK)((()=>b&&o?(0,c().nJ)({collectionStore:o}):{count:0,isPropertiesModuleInPageDetails:!1}),[b,o]),k=l.useCallback((()=>{if(!d)return;const e={environment:P,layoutStore:d,from:t,panelLocation:f?"peek":"mainPage"};h?(0,r().n)(e):(0,r().U)(e)}),[P,t,h,f,d]),C=l.useMemo((()=>p!==s().S.InPageSnapShot&&(p!==s().S.Post&&(w>0||!!g&&(L&&S)))),[p,w,g,L,S]);return{pageDetailsPropertiesCount:w,toggleDetailsPanel:k,isDetailsPanelOpen:h,pageDetailsHasModules:b,canShowButton:C}}}}]);