"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[4642],{43360:(e,t,o)=>{o.d(t,{xP:()=>N,KX:()=>q,Hq:()=>$,Tl:()=>z,ZD:()=>E,ZP:()=>J,SP:()=>G,pH:()=>W,SX:()=>O});o(241792);var r=o(667294),i=()=>o(146947),l=()=>o(219727),n=()=>o(142735),a=()=>o(846550),s=()=>o(437187),d=()=>o(156642),c=()=>o(532850),u=()=>o(974888),p=()=>o(766933),h=()=>o(109477),m=()=>o(998411),x=()=>o(321160),b=()=>o(530980),g=()=>o(396136),f=()=>o(752778),v=()=>o(81954),y=()=>o(722917),j=()=>o(955620),S=()=>o(788860),k=()=>o(696459),_=()=>o(707513),T=()=>o(527278),V=()=>o(168509),w=()=>o(488949),C=()=>o(881688),M=()=>o(138912),I=()=>o(135499),R=()=>o(943620),Z=()=>o(283002),P=()=>o(836535),B=(o(670560),o(267602),o(30005),()=>o(334643)),L=()=>o(572948),H=()=>o(154186),K=o(785893);const A=2;function F(e){const{colIndex:t,blockValue:o,simpleTableValue:r,hasColumnHeader:i,hasRowHeader:l,columnOrder:s,environment:d,rootStore:c,theme:u,getRecordModel:p}=e,h=(0,a().yK)((()=>({cellSecondaryTitleTable:{color:u.lightTextColor},cellTitleLineHeight:{lineHeight:1.25}})),[u]),m=[(0,K.jsx)("span",{children:(0,K.jsx)(S()._H,{defaultMessage:"Table",id:"edit.simpleTableRowComponentByCell.table"})},`simple-edit${t}-title-box-notif`)],x=null==r?void 0:r.getChildren(),b=(0,n().VK)((()=>{if(x&&0!==x.length)return p({table:o.parent_table,id:x[0],spaceId:o.space_id})}),[o.parent_table,o.space_id,p,x]),g=b?O(b,s[t]):void 0,f=(0,n().VK)((()=>C().f7({environment:d,cellValue:g,spaceId:o.space_id,parentStore:c,theme:u})),[d,g,o.space_id,c,u]),v=O(o,s?s[0]:""),y=(0,n().VK)((()=>C().f7({environment:d,cellValue:v,spaceId:o.space_id,parentStore:c,theme:u})),[d,v,o.space_id,c,u]),k=(null==b?void 0:b.id)===o.id;return i&&b&&!k&&(j().PgY(g)||m.push((0,K.jsxs)("span",{style:h.cellSecondaryTitleTable,children:[" / ",f]},`simple-table-col-header-${t}${o.parent_id}`))),l&&b&&0!==t&&(j().PgY(v)||m.push((0,K.jsxs)("span",{style:h.cellSecondaryTitleTable,children:[" / ",y]},`simple-table-row-header-${t}${o.parent_id}`))),(0,K.jsx)("div",{style:h.cellTitleLineHeight,children:m},`simple-table-${t}edit-box`)}function U(e){let{blockValue:t,rootStore:o}=e;const i=(0,r.useMemo)((()=>b().omK.fromGetRecordValueFn(o.getRecordValue)),[o]),s=(0,a().Fg)(),d=(0,a().yK)((()=>({andMore:{color:s.lightTextColor,marginTop:4,borderRadius:6,padding:"2px 4px",marginLeft:"-4px",fontSize:12,maxWidth:"fit-content"},cellTitleTable:{color:s.mediumTextColor,marginTop:4,overflow:"visible"}})),[s]),[c,p]=(0,r.useState)(!1),h=(0,l().O7)(),m=(0,n().VK)((()=>{var e,r,l;const n=null==o?void 0:o.userId,a=[],m=i({table:t.parent_table,id:t.parent_id,spaceId:t.space_id}),x=!(null==m||null===(e=m.getFormat())||void 0===e||!e.table_block_row_header),b=!(null==m||null===(r=m.getFormat())||void 0===r||!r.table_block_column_header),g=null==m||null===(l=m.getFormat())||void 0===l?void 0:l.table_block_column_order;let f=0;null==g||g.forEach(((e,r)=>{const l=O(t,e);if((0,B().NT)({textValue:l,currentUserId:n,getRecordModel:i})){f+=1;const e=(0,K.jsx)(u().Z,{style:d.cellTitleTable,title:(0,K.jsx)(F,{colIndex:r,blockValue:t,simpleTableValue:m,hasColumnHeader:b,hasRowHeader:x,columnOrder:g,environment:h,rootStore:o,theme:s,getRecordModel:i}),theme:s,children:C().f7({environment:h,cellValue:(0,L().H4)({textValue:l,highlightStyle:"text_only",currentUserId:n,getRecordModel:i}),spaceId:t.space_id,parentStore:o,theme:s,disableStyleAnnotations:!1,disableSuggestionAnnotations:!0})},`simple-edit${r}-box-notif-${l}${t.parent_id}${t.id}`);a.push(e)}}));const v=c?a:a.slice(0,A);return(0,K.jsxs)(K.Fragment,{children:[v,f>A?c?(0,K.jsx)(H().Z,{style:d.andMore,onClick:()=>p(!1),children:(0,K.jsx)(S()._H,{defaultMessage:"Hide {numMore}",id:"edit.simpleTableRowComponentByCell.hideMoreCells",values:{numMore:f-A}})}):(0,K.jsx)(H().Z,{style:d.andMore,onClick:()=>p(!0),children:(0,K.jsx)(S()._H,{defaultMessage:"...{numMore} more",id:"edit.simpleTableRowComponentByCell.showMoreCells",values:{numMore:f-A}})}):null]})}),[o,i,t,c,d,s,h]);return(0,K.jsx)(K.Fragment,{children:m})}const D=(0,S().vU)({[d().Ti.quote]:{defaultMessage:"Quote",id:"edit.quoteBlock.label"},[d().Ti.callout]:{defaultMessage:"Callout",id:"edit.calloutBlock.label"},[d().Ti.button]:{defaultMessage:"Button",id:"edit.buttonBlock.label"},[d().Ti.factory]:{defaultMessage:"Template Button",id:"edit.templateButtonBlock.label"},[d().Ti.bookmark]:{defaultMessage:"Bookmark",id:"edit.bookmarkBlockProperty.label"},[d().Ti.equation]:{defaultMessage:"Equation",id:"edit.equationBlock.label"}});function W(e){return D[e]&&T().Z.formatMessage(D[e])}function O(e,t){return b().kk5.fromBlock(e).getProperties()[t]||[]}function q(e){let{value:t,propertySchema:o,labeled:r,rootStore:i,disableStyleAnnotations:l,disableInsertedDeletedAnnotations:n,disableDateStyleAnnotations:a}=e;return(0,K.jsx)($,{labeled:r,type:o.type,icon:o.icon,name:o.name,children:(0,K.jsx)(P().Z,{propertySchema:o,value:t,rootStore:i,disableStyleAnnotations:l,disableInsertedDeletedAnnotations:n,disableDateStyleAnnotations:a})})}function z(e){let{blockValue:t,prop:o,labeled:i,schema:l,rootStore:n}=e;const a=(0,S().YB)(),s=l||(0,y().Kc)(a),d=(0,r.useMemo)((()=>({value:O(t,o),spaceId:(0,v().J)(t.space_id)})),[t,o]),c=s[o];return c?(0,K.jsx)(q,{value:d,propertySchema:c,labeled:i,rootStore:n}):null}function E(e){let{children:t}=e;const o=(0,K.jsx)("div",{style:{width:"1em",height:"1em",display:"flex",alignSelf:"stretch",justifyContent:"center",flexShrink:0,marginLeft:6,marginRight:6,marginTop:6},children:(0,w().L)({width:"0.6875em",height:"0.6875em",transform:"rotateZ(90deg)"})});return(0,K.jsxs)("div",{style:{display:"inline-flex",alignItems:"center"},children:[o,(0,K.jsx)("span",{children:t})]})}function N(e){let{src:t,permissionRecord:o}=e;const r=(0,a().Fg)();return t?(0,K.jsx)(I().Z,{url:t,isAuthenticated:!0,permissionRecord:o,width:170,render:(e,t)=>{if(t)return(0,K.jsx)("img",{src:t,style:{maxHeight:170,maxWidth:170}})}}):(0,K.jsx)("div",{style:{backgroundColor:r.lightTextColor,height:170,width:170}})}function Y(e){let{icon:t,rootStore:o,blockValue:r}=e;if(t){if((0,x().Z)(t))return(0,K.jsx)("div",{style:{fontSize:16.2,display:"inline-block"},children:t});{const e=b().kk5.fromBlock(r).getRenderIcon({getRecordModel:o.getRecordModel});return(0,K.jsx)(R().Z,{disabled:!0,icon:e,isEmptyPage:!1,size:18,style:{marginTop:6,marginBottom:6}})}}return(0,V().S)({height:18,width:18})}function $(e){let{children:t,type:o,icon:r,name:i,labeled:l,style:n}=e;const s=(0,a().Fg)();return l?(0,K.jsxs)("div",{style:n,children:[(0,K.jsxs)("div",{style:{display:"flex",color:s.lightTextColor,paddingTop:7,fontSize:12,lineHeight:1,marginBottom:4},children:[(0,K.jsx)(p().ZP,{type:o,icon:r,size:14,theme:s}),(0,K.jsx)("div",{style:{marginLeft:6},children:i})]}),(0,K.jsx)("div",{style:{display:"flex",alignItems:"center",minHeight:24,overflow:"hidden"},children:t})]}):(0,K.jsx)("div",{style:n,children:t})}function G(e){const t=e&&e.properties&&e.properties.language;if(!t)return(0,K.jsx)(S()._H,{defaultMessage:"Code",id:"edit.codeBlockChanged.label"});const o=c().Sj(t,y().eg);return(0,K.jsx)(S()._H,{defaultMessage:"Code - {codeLanguage}",values:{codeLanguage:o},id:"edit.codeBlockWithLanguageChanged.label"})}const J=function(e){let{rootStore:t,blockValue:o,blockPreviewLocation:i,created:l,deleted:a}=e;const s=(0,r.useMemo)((()=>b().omK.fromGetRecordValueFn(t.getRecordValue)),[t]),c=(0,n().VK)((()=>{let e;return o.type===d().Ti.button&&(e=b().kk5.fromBlock(o).getAutomationPointer()),o.type===d().Ti.collectionViewPage&&(e=b().kk5.fromBlock(o).getCollectionPointer()),e?s(e):void 0}),[o,s]);switch(o.type){case d().Ti.text:case d().Ti.encryptedText:return(0,K.jsx)(re,{rootStore:t,blockValue:o});case d().Ti.header:return(0,K.jsx)(ie,{rootStore:t,blockValue:o});case d().Ti.subHeader:return(0,K.jsx)(le,{rootStore:t,blockValue:o});case d().Ti.subSubHeader:return(0,K.jsx)(ne,{rootStore:t,blockValue:o});case d().Ti.toggle:return(0,K.jsx)(ae,{rootStore:t,blockValue:o});case d().Ti.bulletedList:return(0,K.jsx)(se,{rootStore:t,blockValue:o});case d().Ti.numberedList:return(0,K.jsx)(de,{rootStore:t,blockValue:o});case d().Ti.quote:return(0,K.jsx)(me,{blockPreviewLocation:i,created:l,deleted:a,rootStore:t,blockValue:o});case d().Ti.factory:return(0,K.jsx)(xe,{blockPreviewLocation:i,created:l,rootStore:t,blockValue:o});case d().Ti.button:if((null==c?void 0:c.table)===b().iw5.table)return(0,K.jsx)(be,{blockPreviewLocation:i,created:l,deleted:a,automation:c});break;case d().Ti.equation:return(0,K.jsx)(ge,{blockPreviewLocation:i,created:l,deleted:a,rootStore:t,blockValue:o});case d().Ti.toDo:return(0,K.jsx)(ce,{rootStore:t,blockValue:o});case d().Ti.code:return(0,K.jsx)(fe,{blockPreviewLocation:i,created:l,deleted:a,rootStore:t,blockValue:o});case d().Ti.bookmark:return(0,K.jsx)(ye,{blockPreviewLocation:i,created:l,rootStore:t,blockValue:o});case d().Ti.page:case d().Ti.form:return(0,K.jsx)(_e,{rootStore:t,blockValue:o,blockModel:b().kk5.fromBlock(o)});case d().Ti.collectionView:case d().Ti.collectionViewPage:if((null==c?void 0:c.table)===b().tE1.table)return(0,K.jsx)(Te,{rootStore:t,blockValue:o,collectionModel:c});break;case d().Ti.image:return(0,K.jsx)(ue,{rootStore:t,blockPreviewLocation:i,blockValue:o});case d().Ti.embed:return(0,K.jsx)(ve,{blockPreviewLocation:i,created:l,deleted:a,rootStore:t,blockValue:o,type:"embed"});case d().Ti.framer:return(0,K.jsx)(ve,{blockPreviewLocation:i,created:l,deleted:a,rootStore:t,blockValue:o,type:"framer"});case d().Ti.tweet:return(0,K.jsx)(ve,{blockPreviewLocation:i,created:l,deleted:a,rootStore:t,blockValue:o,type:"tweet"});case d().Ti.gist:return(0,K.jsx)(ve,{blockPreviewLocation:i,created:l,deleted:a,rootStore:t,blockValue:o,type:"gist"});case d().Ti.drive:return(0,K.jsx)(ke,{deleted:a,blockPreviewLocation:i,created:l,rootStore:t,blockValue:o});case d().Ti.maps:return(0,K.jsx)(ve,{blockPreviewLocation:i,created:l,deleted:a,rootStore:t,blockValue:o,type:"maps"});case d().Ti.invision:return(0,K.jsx)(ve,{blockPreviewLocation:i,created:l,deleted:a,rootStore:t,blockValue:o,type:"invision"});case d().Ti.video:return(0,K.jsx)(ve,{blockPreviewLocation:i,created:l,deleted:a,rootStore:t,blockValue:o,type:"video"});case d().Ti.audio:return(0,K.jsx)(ve,{blockPreviewLocation:i,created:l,deleted:a,rootStore:t,blockValue:o,type:"audio"});case d().Ti.file:return(0,K.jsx)(ve,{blockPreviewLocation:i,created:l,deleted:a,rootStore:t,blockValue:o,type:"file"});case d().Ti.callout:return(0,K.jsx)(he,{created:l,blockPreviewLocation:i,deleted:a,rootStore:t,blockValue:o,getRecordModel:s});case d().Ti.whimsical:return(0,K.jsx)(ve,{blockPreviewLocation:i,created:l,deleted:a,rootStore:t,blockValue:o,type:"whimsical"});case d().Ti.miro:return(0,K.jsx)(ve,{blockPreviewLocation:i,created:l,deleted:a,rootStore:t,blockValue:o,type:"miro"});case d().Ti.abstract:return(0,K.jsx)(ve,{blockPreviewLocation:i,created:l,deleted:a,rootStore:t,blockValue:o,type:"abstract"});case d().Ti.mixpanel:return(0,K.jsx)(ve,{blockPreviewLocation:i,created:l,deleted:a,rootStore:t,blockValue:o,type:"mixpanel"});case d().Ti.sketch:return(0,K.jsx)(ve,{blockPreviewLocation:i,created:l,deleted:a,rootStore:t,blockValue:o,type:"sketch"});case d().Ti.excalidraw:return(0,K.jsx)(ve,{blockPreviewLocation:i,created:l,deleted:a,rootStore:t,blockValue:o,type:"excalidraw"});case d().Ti.replit:return(0,K.jsx)(ve,{blockPreviewLocation:i,created:l,deleted:a,rootStore:t,blockValue:o,type:"replit"});case d().Ti.pdf:return(0,K.jsx)(ve,{blockPreviewLocation:i,created:l,deleted:a,rootStore:t,blockValue:o,type:"pdf"});case d().Ti.table:return(0,K.jsx)(Ve,{rootStore:t,blockValue:o});case d().Ti.tableRow:return"notifications"===i?(0,K.jsx)(U,{rootStore:t,blockValue:o}):(0,K.jsx)(we,{rootStore:t,blockValue:o});case d().Ti.externalObjectInstance:return(0,K.jsx)(je,{created:l,blockPreviewLocation:i,deleted:a,blockValue:o});case d().Ti.linkToPage:case d().Ti.personalHomePage:case d().Ti.linkToCollection:case d().Ti.divider:case d().Ti.columnList:case d().Ti.column:case d().Ti.copyIndicator:case d().Ti.breadcrumb:case d().Ti.figma:case d().Ti.loom:case d().Ti.typeform:case d().Ti.codepen:case d().Ti.tableOfContents:case d().Ti.alias:case d().Ti.transclusionContainer:case d().Ti.transclusionReference:case d().Ti.hex:case d().Ti.tab:case d().Ti.deepnote:case d().Ti.externalObjectInstancePage:case d().Ti.aiBlock:case d().Ti.drawing:case d().Ti.slide:case d().Ti.post:case d().Ti.workflow:case d().Ti.transcription:return null;default:(0,k().t1)(o)}return null};function X(e,t){return Boolean(e&&e.properties&&e.properties[t])}function Q(e){let{blockValue:t}=e;const o=function(e){var t;const o=null==e||null===(t=e.properties)||void 0===t?void 0:t.source;return j().Jcv(o)}(t);return(0,K.jsx)("div",{style:{overflow:"hidden",textOverflow:"ellipsis"},children:(0,K.jsx)("span",{style:{wordBreak:"break-word"},children:o})})}function ee(e){let{blockValue:t,rootStore:o}=e;return(0,K.jsx)(z,{rootStore:o,blockValue:t,prop:"title",labeled:!1})}function te(e){let{blockValue:t,rootStore:o}=e;return(0,K.jsx)("div",{style:{marginRight:6,marginTop:3},children:(0,K.jsx)(z,{rootStore:o,blockValue:t,prop:"checked",labeled:!1})})}function oe(e){let{blockValue:t,rootStore:o}=e;return X(t,"caption")?(0,K.jsx)(z,{rootStore:o,blockValue:t,prop:"caption",labeled:!1}):null}function re(e){let{blockValue:t,rootStore:o}=e;return(0,K.jsx)(ee,{rootStore:o,blockValue:t})}function ie(e){let{blockValue:t,rootStore:o}=e;const r=(0,Z().Z)();return(0,K.jsx)("div",{style:r.header,children:(0,K.jsx)(ee,{rootStore:o,blockValue:t})})}function le(e){let{blockValue:t,rootStore:o}=e;const r=(0,Z().Z)();return(0,K.jsx)("div",{style:r.subHeader,children:(0,K.jsx)(ee,{rootStore:o,blockValue:t})})}function ne(e){let{blockValue:t,rootStore:o}=e;const r=(0,Z().Z)();return(0,K.jsx)("div",{style:r.subSubHeader,children:(0,K.jsx)(ee,{rootStore:o,blockValue:t})})}function ae(e){let{blockValue:t,rootStore:o}=e;return(0,K.jsx)(E,{children:(0,K.jsx)(ee,{rootStore:o,blockValue:t})})}function se(e){let{blockValue:t,rootStore:o}=e;return(0,K.jsx)("ul",{style:{margin:0,paddingLeft:28},children:(0,K.jsx)("li",{children:(0,K.jsx)(ee,{rootStore:o,blockValue:t})})})}function de(e){let{blockValue:t,rootStore:o}=e;return(0,K.jsx)("ol",{style:{margin:0,paddingLeft:28},children:(0,K.jsx)("li",{children:(0,K.jsx)(ee,{rootStore:o,blockValue:t})})})}function ce(e){let{blockValue:t,rootStore:o}=e;return(0,K.jsxs)("div",{style:{display:"inline-flex"},children:[(0,K.jsx)(te,{rootStore:o,blockValue:t}),(0,K.jsx)(ee,{rootStore:o,blockValue:t})]})}function ue(e){let{blockValue:t,rootStore:o,blockPreviewLocation:i}=e;const l=function(e){var t;const o=null==e||null===(t=e.properties)||void 0===t?void 0:t.source;return c().zB(o)}(t);if(!l)return null;const n=(0,K.jsx)(oe,{rootStore:o,blockValue:t});return"comments_sidebar"===i?(0,K.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,K.jsx)(N,{src:l,permissionRecord:{table:g().iU,id:t.id}}),n&&(0,K.jsx)("div",{style:{marginBottom:4},children:n})]}):(0,K.jsxs)(r.Fragment,{children:[(0,K.jsx)("div",{style:{display:"flex"},children:(0,K.jsx)("div",{style:{marginTop:4,marginBottom:4},children:(0,K.jsx)(N,{src:l,permissionRecord:{table:g().iU,id:t.id}})})}),n&&(0,K.jsx)("div",{style:{marginBottom:4},children:n})]})}function pe(e){return function(e){return"comments_sidebar"===e}(e)?{marginTop:0,marginBottom:0}:void 0}function he(e){var t;let{blockValue:o,created:r,blockPreviewLocation:i,deleted:l,rootStore:s,getRecordModel:c}=e;const p=(0,a().Fg)(),h=null==o||null===(t=o.format)||void 0===t?void 0:t.page_icon,m=(0,n().VK)((()=>{const e=b().kk5.fromBlock(o).getRenderTitleTextValue({getRecordModel:c});return void 0!==e&&0!==e.length}),[o,c]);return(0,K.jsxs)(u().Z,{title:W(d().Ti.callout),theme:p,created:r,style:pe(i),deleted:l,children:[void 0!==h&&(0,K.jsx)(Y,{icon:h,rootStore:s,blockValue:o}),m&&(0,K.jsx)(ee,{rootStore:s,blockValue:o})]})}function me(e){let{blockValue:t,blockPreviewLocation:o,created:r,deleted:i,rootStore:l}=e;const n=(0,a().Fg)();return(0,K.jsx)(u().Z,{title:W(d().Ti.quote),theme:n,style:pe(o),created:r,deleted:i,children:(0,K.jsx)(ee,{rootStore:l,blockValue:t})})}function xe(e){let{blockValue:t,blockPreviewLocation:o,created:r,rootStore:i}=e;const l=(0,a().Fg)();return(0,K.jsx)(u().Z,{title:W(d().Ti.factory),theme:l,style:pe(o),created:r,deleted:!0,children:(0,K.jsx)(ee,{rootStore:i,blockValue:t})})}function be(e){let{automation:t,blockPreviewLocation:o,created:r,deleted:i}=e;const l=(0,a().Fg)(),[s,c]=(0,n().VK)((()=>[t.getActionIds(),t.getProperties()]),[t]),p=(0,a().yK)((()=>({editBoxChildren:{..._().Yu,margin:0},workflow:{..._().Yu,marginBlock:"8px 0"},wrap:{overflow:"hidden"}})),[]);return(0,K.jsxs)("div",{style:p.wrap,children:[(0,K.jsx)(u().Z,{title:W(d().Ti.button),theme:l,style:pe(o),created:r,deleted:i,children:(0,K.jsx)("p",{style:p.editBoxChildren,children:(null==c?void 0:c.name)??(0,K.jsx)(S()._H,{defaultMessage:"Untitled",id:"edit.buttonBlock.defaultTitle"})})}),(0,K.jsx)("p",{style:p.workflow,children:(0,K.jsx)(S()._H,{defaultMessage:"{numberOfActions, plural, one {{numberOfActions} workflow step} other {{numberOfActions} workflow steps}}",id:"edit.buttonBlock.actionCount",values:{numberOfActions:s.length}})})]})}function ge(e){let{blockValue:t,blockPreviewLocation:o,created:r,deleted:i,rootStore:l}=e;const n=(0,a().Fg)();return(0,K.jsx)(u().Z,{title:W(d().Ti.equation),theme:n,style:pe(o),created:r,deleted:i,children:(0,K.jsx)(ee,{rootStore:l,blockValue:t})})}function fe(e){let{blockValue:t,blockPreviewLocation:o,created:r,deleted:l,rootStore:n}=e;const s=(0,a().Fg)();return(0,K.jsx)(u().Z,{title:G(t),theme:s,style:pe(o),created:r,deleted:l,children:(0,K.jsx)("span",{style:{fontFamily:_().F5(i().locale).mono,fontSize:12,tabSize:2},children:(0,K.jsx)(ee,{rootStore:n,blockValue:t})})})}function ve(e){let{blockValue:t,type:o,blockPreviewLocation:i,created:l,deleted:n,rootStore:d}=e;const c=(0,S().YB)(),p=(0,a().Fg)();return(0,K.jsxs)(r.Fragment,{children:[(0,K.jsx)(u().Z,{title:s().xg(c,o),theme:p,style:pe(i),created:l,deleted:n,children:(0,K.jsx)(Q,{blockValue:t})}),(0,K.jsx)("div",{style:{marginBottom:4},children:(0,K.jsx)(oe,{rootStore:d,blockValue:t})})]})}function ye(e){let{blockValue:t,blockPreviewLocation:o,created:r,rootStore:i}=e;const l=(0,a().Fg)(),n=X(t,"title"),s=(0,a().yK)((()=>({bookmark:{display:"flex",flexDirection:"column"},captionBox:{marginBottom:n?4:0}})),[n]),c=n&&(0,K.jsx)(u().Z,{title:W(d().Ti.bookmark),theme:l,style:pe(o),created:r,children:(0,K.jsx)(ee,{rootStore:i,blockValue:t})});return(0,K.jsxs)("div",{style:s.bookmark,children:[c,X(t,"caption")&&(0,K.jsx)("div",{style:s.captionBox,children:(0,K.jsx)(oe,{rootStore:i,blockValue:t})})]})}function je(e){let{blockValue:t,created:o,blockPreviewLocation:r,deleted:i}=e;const l=(0,a().Fg)(),d=(0,n().VK)((()=>b().kk5.fromBlock(t)),[t]),c=(0,n().VK)((()=>s().$F(T().Z.getIntl(),d,b().omK.fromRecordMap(M().default.getIntegrationsAsRecordMap()))),[d]);return(0,K.jsx)(u().Z,{title:(0,K.jsx)(S()._H,{...s().V1.editLabel}),theme:l,created:o,style:pe(r),deleted:i,children:c})}function Se(e){let{blockValue:t,columnID:o,rootStore:r}=e;const i=(0,a().Fg)(),s=(0,l().O7)(),d=(0,n().VK)((()=>O(t,o)),[t,o]),c=(0,n().VK)((()=>d&&d.length>0?C().f7({environment:s,cellValue:d,spaceId:t.space_id,parentStore:r,theme:i}):(0,K.jsx)("span",{children:" "})),[d,t,r,i,s]);return(0,K.jsx)("td",{style:{border:`1px solid ${i.tableDividerColor}`,height:"100%"},children:(0,K.jsx)("div",{style:{overflowWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis",width:"max-content",maxWidth:120,verticalAlign:"top",lineHeight:_().Nv.UIRegular.desktop,padding:4},children:c})})}function ke(e){let{blockValue:t,deleted:o,blockPreviewLocation:r,created:i,rootStore:l}=e;const n=(0,a().Fg)(),s=(0,h().v0)(b().kk5.fromBlock(t));return s&&s.title?(0,K.jsx)("div",{children:(0,K.jsx)(u().Z,{title:(0,K.jsx)(S()._H,{defaultMessage:"Google Drive file",id:"edit.googleDriveFile.label"}),created:!o,deleted:o,theme:n,style:pe(r),children:s.title})}):t.content?(0,K.jsx)(ve,{blockPreviewLocation:r,created:i,deleted:o,rootStore:l,blockValue:t,type:"drive"}):null}function _e(e){let{blockModel:t,rootStore:o,blockValue:i}=e;const l=(0,S().YB)(),a=(0,r.useMemo)((()=>b().omK.fromGetRecordValueFn(o.getRecordValue)),[o]),s=(0,n().VK)((()=>a({table:g().iU,id:t.id})),[t,a])||t,d=(0,n().VK)((()=>s.getRenderTitleWithPlaceholder({getRecordModel:a,userTimeZone:(0,m().r)(),intl:l})),[s,l,a]),c=(0,n().VK)((()=>{var e;return null==s||null===(e=s.getFormat())||void 0===e?void 0:e.page_icon}),[s]);return(0,K.jsxs)("div",{style:{display:"flex",alignItems:"center",overflow:"hidden"},children:[(0,K.jsx)("div",{style:{paddingRight:6},children:(0,K.jsx)(Y,{icon:c,rootStore:o,blockValue:i})}),(0,K.jsx)("div",{className:"notranslate",style:{flex:1,textOverflow:"ellipsis",overflow:"hidden"},children:d})]})}function Te(e){let{collectionModel:t,rootStore:o,blockValue:i}=e;const l=(0,S().YB)(),a=(0,r.useMemo)((()=>b().omK.fromGetRecordValueFn(o.getRecordValue)),[o]),s=(0,n().VK)((()=>a({table:f().vF,id:t.id})),[t,a])||t,d=(0,n().VK)((()=>s.getRenderTitleWithPlaceholder({intl:l,getRecordModel:a,userTimeZone:(0,m().r)()})),[s,l,a]),c=(0,n().VK)((()=>s.icon),[s]);return(0,K.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,K.jsx)("div",{style:{paddingRight:4},children:(0,K.jsx)(Y,{icon:c,rootStore:o,blockValue:i})}),(0,K.jsx)("div",{style:{flex:1},children:d})]})}function Ve(e){var t,o,i;let{blockValue:l,rootStore:a}=e;const s=(0,r.useMemo)((()=>b().omK.fromGetRecordValueFn(a.getRecordValue)),[a]),d=(null===(t=l.content)||void 0===t?void 0:t.length)||0,c=(null===(o=l.format)||void 0===o||null===(o=o.table_block_column_order)||void 0===o?void 0:o.length)||0,u=(0,n().VK)((()=>l.content?l.content.map((e=>s({table:l.parent_table,id:e,spaceId:l.space_id}))):[]),[l,s]);if(!d||!c)return null;const p=null===(i=l.format)||void 0===i?void 0:i.table_block_column_order;return(0,K.jsx)("div",{style:{overflow:"scroll"},children:(0,K.jsx)("table",{children:(0,K.jsx)("tbody",{children:u.map((e=>e?(0,K.jsx)("tr",{children:null==p?void 0:p.map((t=>(0,K.jsx)(Se,{rootStore:a,blockValue:e,columnID:t},t)))},e.id):void 0))})})})}function we(e){let{blockValue:t,rootStore:o}=e;const i=(0,r.useMemo)((()=>b().omK.fromGetRecordValueFn(o.getRecordValue)),[o]),l=(0,n().VK)((()=>i({table:t.parent_table,id:t.parent_id,spaceId:t.space_id})),[t,i]),a=(0,n().VK)((()=>{var e;return null==l||null===(e=l.getFormat())||void 0===e?void 0:e.table_block_column_order}),[l]);return t.properties&&0!==(0,k().Yd)(t.properties).length&&l?(0,K.jsx)("div",{style:{display:"flex",alignItems:"stretch",margin:4},children:(0,K.jsx)("table",{children:(0,K.jsx)("tr",{children:null==a?void 0:a.map((e=>(0,K.jsx)(Se,{rootStore:o,blockValue:b().kk5.fromBlock(t),columnID:e},e)))})})}):null}},283002:(e,t,o)=>{o.d(t,{Z:()=>n});var r=()=>o(846550),i=()=>o(568017),l=()=>o(707513);function n(){return(0,r().yK)((e=>({wrap:{display:"flex",flexDirection:"column",justifyContent:"center",flexGrow:1,overflow:"hidden",fontSize:14,minHeight:29},label:{fontSize:12,lineHeight:1,paddingTop:8,color:e.lightTextColor},header:{fontWeight:l().Ue.semibold},subHeader:{fontWeight:l().Ue.semibold},subSubHeader:{fontWeight:l().Ue.semibold},permission:{display:"flex",flexDirection:"column",minHeight:28,paddingTop:4,paddingBottom:4},group:{display:"flex",alignItems:"center",minHeight:28,fontSize:14,paddingTop:4,paddingBottom:4},userHeader:{fontSize:12,color:e.mediumTextColor},role:{fontSize:14,whiteSpace:"nowrap"},permissionTypeWrap:{display:"flex",alignItems:"center",fontSize:14,marginRight:6,whiteSpace:"nowrap"},diffWrap:{display:"flex",alignItems:"center"},added:{color:i().ZP.blue,backgroundColor:i().ZP.blueWithAlpha(.14)},deleted:{opacity:.4,marginBottom:6,textDecoration:"line-through"}})),[])}},204642:(e,t,o)=>{o.d(t,{Z:()=>pt});var r=o(667294),i=()=>o(142735),l=()=>o(696459),n=(o(241792),()=>o(146947)),a=()=>o(846550),s=()=>o(59438),d=()=>o(437187),c=()=>o(156642),u=()=>o(435140),p=()=>o(532850),h=()=>o(974888),m=()=>o(530980),x=()=>o(396136),b=()=>o(81954),g=()=>o(722917),f=()=>o(955620),v=()=>o(788860),y=()=>o(513670),j=()=>o(707513),S=()=>o(138912),k=()=>o(43360),_=o(785893);const T=(0,o(827282).IU)("historyForward",{viewBox:"0 0 14 14",svg:(0,_.jsx)("polygon",{points:"11.14107 6.25324 5.94392 1.0561 7 0 13.471958 6.47196 14 7 13.471958 7.52804 7 14 5.94392 12.94392 11.14107 7.74676 0 7.74676 1.77635684e-15 6.25324"})});var V=()=>o(83259),w=()=>o(943620);const C=function(e){let{edit:t,formatProperty:o,hideLabel:r}=e;return(0,_.jsx)(I,{edit:t,formatProperty:o,hideLabel:r})||null};function M(e){let{beforeValue:t,afterValue:o,edit:r,hideLabel:i}=e;const l=(0,a().Fg)();return t||o?(0,_.jsxs)(_.Fragment,{children:[!i&&(0,_.jsxs)("div",{style:{display:"flex",alignItems:"center",color:l.lightTextColor,fontSize:12,lineHeight:1,marginBottom:8},children:[(0,V().I)({width:12,height:12,marginRight:6}),(0,_.jsx)(v()._H,{id:"editFormatDiff.pageIcon.label",defaultMessage:"Page icon"})]}),(0,_.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,_.jsx)(w().Z,{disabled:!0,isEmptyPage:!1,size:20,icon:t?{pointer:{table:x().iU,id:r.block_data.before.block_value.id},icon:t}:void 0}),(0,_.jsx)("div",{style:{padding:"0px 8px"},children:T({width:14,height:14,fill:l.mediumIconColor})}),(0,_.jsx)(w().Z,{disabled:!0,isEmptyPage:!1,size:20,icon:o?{pointer:{table:x().iU,id:r.block_data.after.block_value.id},icon:o}:void 0})]})]}):null}function I(e){let{edit:t,formatProperty:o,hideLabel:r}=e;if("page_icon"===o){const e=t.block_data.before.block_value.format&&t.block_data.before.block_value.format[o],i=t.block_data.after.block_value.format&&t.block_data.after.block_value.format[o];return(0,_.jsx)(M,{edit:t,beforeValue:e,afterValue:i,hideLabel:r})}if("is_placeholder"===o)return null;(0,l().t1)(o)}var R=()=>o(219727),Z=()=>o(998411),P=()=>o(141735),B=()=>o(615676),L=()=>o(677559),H=()=>o(749826),K=()=>o(179947);function A(e){const t=(0,v().YB)();return(0,s().al)(e,t)}function F(e){const{edit:t,property:o,labeled:r,rootStore:l}=e,n=(0,R().O7)(),a=(0,v().YB)(),{value:s}=(0,L().XJ)(P().F.formulas),d=A(t),c=(0,i().VK)((()=>l.getRecordModel),[l]),u=(0,i().VK)((()=>p().wV({property:o,schema:d,block:m().kk5.fromBlock(t.block_data.before.block_value),getRecordModel:c,userId:n.currentUser.id,userTimeZone:(0,Z().r)(),intl:a,experimentService:H().default,collectionFeatureGates:(0,B().W)(),formulasModule:s})),[t.block_data.before.block_value,n.currentUser.id,c,a,o,d,s]),h=d[o];if(!h)return null;const x=(0,k().SX)(t.block_data.before.block_value,o),g=(0,k().SX)(t.block_data.after.block_value,o),f=h.type;return u&&"text"!==f&&"title"!==f?(0,_.jsx)(k().KX,{rootStore:e.rootStore,value:{value:g,spaceId:(0,b().J)(t.block_data.after.block_value.space_id)},propertySchema:h,labeled:r},o):(0,_.jsx)(k().Hq,{labeled:r,name:h.name,type:h.type,icon:h.icon,children:(0,_.jsx)(K().Z,{propertySchema:h,beforeValue:{value:x,spaceId:(0,b().J)(t.block_data.before.block_value.space_id)},afterValue:{value:g,spaceId:(0,b().J)(t.block_data.after.block_value.space_id)},rootStore:e.rootStore})})}var U=()=>o(109477);function D(e){let{edit:t,rootStore:o}=e;const r=m().kk5.fromBlock(t.block_data.before.block_value),i=(0,U().v0)(r),l=t.block_data.after.block_value,n=m().kk5.fromBlock(l);return i!==(0,U().v0)(n)&&"drive"===l.type?(0,_.jsx)(k().ZP,{blockValue:l,rootStore:o}):null}var W=()=>o(283002),O=()=>o(881688);function q(e){let{edit:t,rootStore:o}=e;const r=t.block_data.before.block_value,i=t.block_data.after.block_value,l=s().Yr({before:r,after:i}),n=(0,a().yK)((()=>({container:{display:"flex",alignItems:"stretch",flexDirection:"column"}})),[]);return(0,_.jsx)("div",{style:n.container,children:l.map(((e,t)=>(0,_.jsx)(z,{before:r,after:i,property:e,rootStore:o},t)))})}function z(e){let{before:t,after:o,property:r,rootStore:l}=e;const n=(0,R().O7)(),s=(0,a().Fg)(),d=t.properties&&r in t.properties?t.properties[r]:void 0,c=o.properties&&r in o.properties?o.properties[r]:void 0,u=(0,W().Z)(),p=(0,i().VK)((()=>O().f7({environment:n,cellValue:d,spaceId:t.space_id,parentStore:l,theme:s})),[n,d,t,l,s]),h=(0,i().VK)((()=>O().f7({environment:n,cellValue:c,spaceId:o.space_id,parentStore:l,theme:s})),[n,c,o,l,s]),m=(0,a().yK)((e=>({container:{display:"flex",border:`1px solid ${e.tableDividerColor}`,overflowWrap:"anywhere",width:"max-content",maxWidth:"100%",verticalAlign:"top",lineHeight:j().Nv.UIRegular.desktop,padding:4,marginBottom:4},before:{...u.deleted,marginBottom:void 0},historyForwardIcon:{width:12,height:12,fill:e.mediumIconColor,alignSelf:"center",margin:4}})),[u.deleted]);return(0,_.jsxs)("div",{style:m.container,children:[(0,_.jsx)("span",{style:m.before,children:p}),d&&c&&T(m.historyForwardIcon),(0,_.jsx)("span",{style:u.added,children:h})]})}function E(e){let{blockValue:t,rootStore:o}=e;const r=(0,W().Z)(),i=(0,_.jsx)(k().ZP,{rootStore:o,blockValue:t,deleted:!0});if(i)switch(t.type){case c().Ti.quote:case c().Ti.video:case c().Ti.code:case c().Ti.equation:case c().Ti.file:case c().Ti.bookmark:case c().Ti.factory:return(0,_.jsxs)("div",{children:[(0,_.jsx)("div",{style:r.label,children:(0,_.jsx)(v()._H,{defaultMessage:"Deleted",id:"edit.blockDeletedEditStyles.factoryLabel"})}),(0,_.jsx)("div",{style:r.wrap,children:i})]});case c().Ti.table:return null;case c().Ti.tableRow:return t.properties&&(0,l().Yd)(t.properties).length>0?(0,_.jsx)("div",{style:{...r.wrap,...r.deleted},children:i}):null;default:return(0,_.jsxs)("div",{children:[(0,_.jsx)("div",{style:r.label,children:(0,_.jsx)(v()._H,{defaultMessage:"Deleted",id:"edit.blockDeletedEditStyles.defaultLabel"})}),(0,_.jsx)("div",{style:{...r.wrap,...r.deleted},children:i})]})}return null}function N(e){const t=(0,W().Z)();return(0,_.jsx)("div",{style:t.wrap,children:(0,_.jsx)(pe,{...e})})}function Y(e){let{blockValue:t,rootStore:o}=e;const r=(0,W().Z)(),i=(0,_.jsx)(k().ZP,{blockValue:t,rootStore:o,created:!0});if(i)switch(t.type){case c().Ti.quote:case c().Ti.video:case c().Ti.code:case c().Ti.equation:case c().Ti.file:case c().Ti.bookmark:case c().Ti.factory:return(0,_.jsx)("div",{style:r.wrap,children:i});case c().Ti.table:return null;case c().Ti.tableRow:return t.properties&&(0,l().Yd)(t.properties).length>0?(0,_.jsx)("div",{style:{...r.wrap,...r.added},children:i}):null;default:return(0,_.jsx)("div",{style:{...r.wrap,...r.added},children:i})}return null}function $(e){const t=(0,a().Fg)(),o=(0,v().YB)(),{edit:i,type:l,rootStore:n}=e,s=ye(i,"source")&&(0,_.jsxs)(h().Z,{title:d().xg(o,l),theme:t,children:[(0,_.jsx)(je,{blockValue:i.block_data.after.block_value}),(0,_.jsx)(F,{rootStore:n,edit:i,property:"source",labeled:!1})]});return(0,_.jsxs)(r.Fragment,{children:[s,(0,_.jsx)("div",{style:{marginBottom:s?4:0},children:(0,_.jsx)(G,{edit:i,rootStore:n})})]})}function G(e){const{edit:t,rootStore:o}=e;return ye(t,"caption")?(0,_.jsx)(F,{rootStore:o,edit:t,property:"caption",labeled:!1}):null}function J(e){const{edit:t}=e,o=(0,a().Fg)();return(0,_.jsx)(h().Z,{title:(0,_.jsx)(v()._H,{defaultMessage:"Callout",id:"edit.calloutBlockChanged.label"}),theme:o,children:(0,_.jsx)(C,{edit:t,formatProperty:"page_icon",hideLabel:!0})})}function X(e){const t=(0,W().Z)(),{edit:o,rootStore:r}=e;return(0,_.jsx)("div",{style:t.header,children:(0,_.jsx)(ge,{edit:o,rootStore:r})})}function Q(e){const t=(0,W().Z)(),{edit:o,rootStore:r}=e;return(0,_.jsx)("div",{style:t.subHeader,children:(0,_.jsx)(ge,{edit:o,rootStore:r})})}function ee(e){const t=(0,W().Z)(),{edit:o,rootStore:r}=e;return(0,_.jsx)("div",{style:t.subSubHeader,children:(0,_.jsx)(ge,{edit:o,rootStore:r})})}function te(e){const{edit:t,rootStore:o}=e;return(0,_.jsx)(k().ZD,{children:(0,_.jsx)(ge,{edit:t,rootStore:o})})}function oe(e){const{edit:t,rootStore:o}=e;return(0,_.jsx)("ul",{style:{margin:0,paddingLeft:28},children:(0,_.jsx)("li",{children:(0,_.jsx)(ge,{edit:t,rootStore:o})})})}function re(e){const{edit:t,rootStore:o}=e;return(0,_.jsx)("ol",{style:{margin:0,paddingLeft:28},children:(0,_.jsx)("li",{children:(0,_.jsx)(ge,{edit:t,rootStore:o})})})}function ie(e){const{edit:t,rootStore:o}=e,r=(0,a().Fg)();return(0,_.jsx)(h().Z,{title:(0,_.jsx)(v()._H,{defaultMessage:"Quote",id:"edit.quoteBlockChanged.label"}),theme:r,children:(0,_.jsx)(ge,{edit:t,rootStore:o})})}function le(e){const{edit:t,rootStore:o}=e,r=(0,a().Fg)();return(0,_.jsx)(h().Z,{title:(0,_.jsx)(v()._H,{defaultMessage:"Template Button",id:"edit.templateButtonBlockChanged.label"}),theme:r,children:(0,_.jsx)(ge,{edit:t,rootStore:o})})}function ne(e){const{edit:t,rootStore:o}=e,r=(0,a().Fg)();return(0,_.jsx)(h().Z,{title:(0,_.jsx)(v()._H,{defaultMessage:"Equation",id:"edit.equationBlockChanged.label"}),theme:r,children:(0,_.jsx)(ge,{edit:t,rootStore:o})})}function ae(e){const{edit:t,rootStore:o}=e;return s().j4({before:t.block_data.before.block_value,after:t.block_data.after.block_value,property:"checked"})?(0,_.jsxs)("div",{style:{display:"inline-flex"},children:[(0,_.jsx)("div",{style:{marginRight:6,marginTop:3,lineHeight:1},children:(0,_.jsx)(F,{rootStore:o,edit:t,property:"checked",labeled:!1})}),(0,_.jsx)(ge,{edit:t,rootStore:o})]}):(0,_.jsxs)("div",{style:{display:"inline-flex"},children:[(0,_.jsx)(ve,{rootStore:o,blockValue:t.block_data.after.block_value}),(0,_.jsx)(ge,{edit:t,rootStore:o})]})}function se(e){const{edit:t,rootStore:o}=e,r=(0,a().Fg)();return s().j4({before:t.block_data.before.block_value,after:t.block_data.after.block_value,property:"language"})?(0,_.jsxs)(h().Z,{title:ke(t.block_data.after.block_value),theme:r,children:[(0,_.jsx)("span",{style:{fontFamily:j().F5(n().locale).mono,fontSize:12,tabSize:2},children:(0,_.jsx)(he,{rootStore:o,edit:t})}),(0,_.jsx)(F,{rootStore:o,edit:t,property:"language",labeled:!0})]}):(0,_.jsx)(h().Z,{title:ke(t.block_data.after.block_value),theme:r,children:(0,_.jsx)("span",{style:{fontFamily:j().F5(n().locale).mono,fontSize:12,tabSize:2},children:(0,_.jsx)(he,{rootStore:e.rootStore,edit:t})})})}function de(e){const t=(0,W().Z)(),{edit:o,rootStore:i}=e,l=Se(o.block_data.before.block_value),n=Se(o.block_data.after.block_value),a=l!==n&&(0,_.jsxs)("div",{style:{marginTop:4,marginBottom:4},children:[(0,_.jsx)("div",{style:{...t.label,marginBottom:4},children:(0,_.jsx)(v()._H,{defaultMessage:"Updated",id:"edit.imageBlockChanged.updatedTitle"})}),n&&(0,_.jsx)(k().xP,{src:n,permissionRecord:{table:x().iU,id:o.block_id}})]});return(0,_.jsxs)(r.Fragment,{children:[a,(0,_.jsx)("div",{style:{marginBottom:a?4:0},children:(0,_.jsx)(G,{edit:o,rootStore:i})})]})}function ce(e){const{edit:t,rootStore:o}=e,i=(0,a().Fg)(),l=(ye(t,"title")||ye(t,"source"))&&(0,_.jsxs)(h().Z,{title:(0,_.jsx)(v()._H,{defaultMessage:"Bookmark",id:"edit.bookmarkBlockPropertyChanged.label"}),theme:i,children:[(0,_.jsx)(ge,{edit:t,rootStore:o}),(0,_.jsx)(F,{rootStore:o,edit:t,property:"source",labeled:!0})]});return(0,_.jsxs)(r.Fragment,{children:[l,ye(t,"caption")&&(0,_.jsx)("div",{style:{marginBottom:l?4:0},children:(0,_.jsx)(G,{edit:t,rootStore:o})})]})}function ue(e){const{edit:t,rootStore:o}=e,r=u().OS({before:t.block_data.before.block_value,after:t.block_data.after.block_value,schema:t.block_schema}),i=s().B9({before:t.block_data.before.block_value,after:t.block_data.after.block_value});return(0,_.jsxs)("div",{children:[r.map(((e,r,i)=>(0,_.jsx)("div",{children:(0,_.jsx)(F,{rootStore:o,edit:t,property:e,labeled:!0})},e))),i.map(((e,o,i)=>{const l=0===r.length&&0===o,n=o===i.length-1;return(0,_.jsx)("div",{style:{marginTop:l?6:10,marginBottom:n?0:6},children:(0,_.jsx)(C,{formatProperty:e,edit:t})},e)}))]})}function pe(e){const{edit:t,rootStore:o}=e;switch(t.block_data.after.block_value.type){case c().Ti.text:case c().Ti.encryptedText:return(0,_.jsx)(be,{edit:t,rootStore:o});case c().Ti.header:return(0,_.jsx)(X,{edit:t,rootStore:o});case c().Ti.subHeader:return(0,_.jsx)(Q,{edit:t,rootStore:o});case c().Ti.subSubHeader:return(0,_.jsx)(ee,{edit:t,rootStore:o});case c().Ti.toggle:return(0,_.jsx)(te,{edit:t,rootStore:o});case c().Ti.bulletedList:return(0,_.jsx)(oe,{edit:t,rootStore:o});case c().Ti.numberedList:return(0,_.jsx)(re,{edit:t,rootStore:o});case c().Ti.quote:return(0,_.jsx)(ie,{edit:t,rootStore:o});case c().Ti.factory:return(0,_.jsx)(le,{edit:t,rootStore:o});case c().Ti.equation:return(0,_.jsx)(ne,{edit:t,rootStore:o});case c().Ti.toDo:return(0,_.jsx)(ae,{edit:t,rootStore:o});case c().Ti.code:return(0,_.jsx)(se,{edit:t,rootStore:o});case c().Ti.bookmark:return(0,_.jsx)(ce,{edit:t,rootStore:o});case c().Ti.page:return(0,_.jsx)(ue,{edit:t,rootStore:o});case c().Ti.collectionView:case c().Ti.collectionViewPage:return null;case c().Ti.drive:return(0,_.jsx)(D,{rootStore:o,edit:t});case c().Ti.tableRow:return(0,_.jsx)(q,{rootStore:o,edit:t});case c().Ti.image:return(0,_.jsx)(de,{rootStore:o,edit:t});case c().Ti.callout:return(0,_.jsx)(J,{rootStore:o,edit:t});case c().Ti.embed:case c().Ti.framer:case c().Ti.tweet:case c().Ti.gist:case c().Ti.maps:case c().Ti.invision:case c().Ti.video:case c().Ti.audio:case c().Ti.file:case c().Ti.whimsical:case c().Ti.miro:case c().Ti.abstract:case c().Ti.mixpanel:case c().Ti.sketch:case c().Ti.replit:case c().Ti.excalidraw:case c().Ti.hex:return(0,_.jsx)($,{edit:t,type:t.block_data.after.block_value.type,rootStore:o});case c().Ti.externalObjectInstance:return(0,_.jsx)(xe,{edit:t});default:return null}}function he(e){let{edit:t,rootStore:o}=e;return(0,_.jsx)(fe,{rootStore:o,edit:t,prop:"title",labeled:!1})}function me(e){let{edit:t,diffKey:o}=e;const r=t.block_data[o].block_value,l=(0,i().VK)((()=>m().kk5.fromBlock(r)),[r]),n=(0,v().YB)(),a=(0,i().VK)((()=>l.isType("external_object_instance")?d().$F(n,l,m().omK.fromRecordMap(S().default.getIntegrationsAsRecordMap())):null),[l,n]);return(0,_.jsx)(_.Fragment,{children:a})}function xe(e){let{edit:t}=e;const o=(0,a().Fg)(),r=(0,W().Z)();return(0,_.jsxs)(h().Z,{title:(0,_.jsx)(v()._H,{...d().V1.editLabel}),theme:o,children:[(0,_.jsx)("div",{style:r.deleted,children:(0,_.jsx)(me,{edit:t,diffKey:"before"})}),(0,_.jsx)("div",{children:(0,_.jsx)(me,{edit:t,diffKey:"after"})})]})}function be(e){const{edit:t,rootStore:o}=e;return(0,_.jsx)(ge,{edit:t,rootStore:o})}function ge(e){const{edit:t,rootStore:o}=e;return(0,_.jsx)(F,{edit:t,property:"title",labeled:!1,rootStore:o})}function fe(e){let{edit:t,prop:o,labeled:r,rootStore:i}=e;const l=A(t)[o],n="block-changed"===t.type?t.block_data.after.block_value:t.block_data.block_value,a=(0,k().SX)(n,o);return l?(0,_.jsx)(k().KX,{rootStore:i,value:{value:a,spaceId:(0,b().J)(n.space_id)},propertySchema:l,labeled:r},o):null}function ve(e){let{blockValue:t,rootStore:o}=e;return(0,_.jsx)("div",{style:{marginRight:6,marginTop:3},children:(0,_.jsx)(k().Tl,{rootStore:o,blockValue:t,prop:"checked",labeled:!1})})}function ye(e,t){return!y().Xy(e.block_data.before.block_value&&e.block_data.before.block_value.properties&&e.block_data.before.block_value.properties[t],e.block_data.after.block_value&&e.block_data.after.block_value.properties&&e.block_data.after.block_value.properties[t])}function je(e){let{blockValue:t}=e;const o=Se(t);return(0,_.jsx)("span",{style:{wordBreak:"break-word"},children:o})}function Se(e){const t=e&&e.properties&&e.properties.source;return f().Jcv(t)}function ke(e){const t=e&&e.properties&&e.properties.language;if(!t)return(0,_.jsx)(v()._H,{defaultMessage:"Code",id:"edit.codeBlockChanged.label"});const o=p().Sj(t,g().eg);return(0,_.jsx)(v()._H,{defaultMessage:"Code - {codeLanguage}",values:{codeLanguage:o},id:"edit.codeBlockWithLanguageChanged.label"})}var _e=()=>o(226413),Te=()=>o(942275),Ve=()=>o(572948);function we(e){const{blockId:t,property:o,blockPreviewLocation:r,highlightCurrentUser:l,rootStore:n,highlightCurrentUserStyle:a}=e,s=(0,R().O7)(),d=(0,W().Z)(),u=(0,i().VK)((()=>e.rootStore.getRecordModel),[e.rootStore]),{blockModel:p,associatedCollectionValue:h,blockValue:m}=(0,i().VK)((()=>{const e=u({table:x().iU,id:t});return{blockModel:e,blockValue:null==e?void 0:e.__IM_SORRY__getValue(),associatedCollectionValue:e?(0,Te().ky)({block:e,getRecordModel:u}):null}}),[t,u]),b=(0,i().VK)((()=>{var e;if(!m)return null;const t=null===(e=m.properties)||void 0===e?void 0:e.title;return{...m,properties:{...m.properties,title:l&&t?(0,Ve().H4)({textValue:t,highlightStyle:a??"background_only",currentUserId:s.currentUser.id,getRecordModel:u}):t}}}),[m,s.currentUser.id,u,l,a]);if(!p||!m)return null;if(h){const e=_e().oC(h);return(0,_.jsx)("div",{style:d.wrap,children:(0,_.jsx)(k().Tl,{rootStore:n,blockValue:m,prop:o,labeled:!0,schema:e})})}{if(!b)return null;const e=m.type===c().Ti.tableRow&&"notifications"===r;return(0,_.jsx)("div",{style:{...d.wrap,...e&&{overflow:"visible"}},children:(0,_.jsx)(k().ZP,{blockValue:b,rootStore:n,blockPreviewLocation:r})})}}o(267602),o(653476);function Ce(e){let{edit:t,rootStore:o}=e;const r=(0,W().Z)();return(0,_.jsx)("div",{children:Object.entries(t.property_updates).map((e=>{var i;let[l,n]=e;const a=null===(i=t.filtered_block_schema)||void 0===i?void 0:i[l];if(!a)return null;const s=n.before?n.before.value:[],d=n.after?n.after.value:[],c=(0,_.jsx)(Me,{rootStore:o,labeled:!0,propertySchema:a,beforeValue:s,afterValue:d,spaceId:t.space_id});return c?(0,_.jsx)("div",{style:r.wrap,children:c},l):void 0})).filter(l().$K)})}function Me(e){const{labeled:t,propertySchema:o,beforeValue:r,afterValue:i,rootStore:l,spaceId:n}=e,a=(0,b().J)(n);return(0,_.jsx)(k().Hq,{labeled:t,name:o.name,type:o.type,icon:o.icon,children:(0,_.jsx)(K().Z,{propertySchema:o,beforeValue:{value:r,spaceId:a},afterValue:{value:i,spaceId:a},rootStore:l})})}function Ie(e){let{spaceId:t,args:o,rootStore:r}=e;const i=(0,W().Z)();if(!o||!o.before&&!o.after)return null;const l=o.before&&o.before.description||[],n=o.after&&o.after.description||[];return(0,_.jsx)("div",{style:i.wrap,children:(0,_.jsx)(k().Hq,{labeled:!0,name:(0,_.jsx)(v()._H,{defaultMessage:"Description",id:"edit.descriptionPropertyChanged.label"}),icon:void 0,type:"text",children:(0,_.jsx)(K().Z,{propertySchema:{type:"text",name:""},beforeValue:{value:l,spaceId:t},afterValue:{value:n,spaceId:t},rootStore:r})})})}function Re(e){let{description:t,rootStore:o}=e;const r=(0,W().Z)();return t?(0,_.jsx)("div",{style:r.wrap,children:(0,_.jsx)(k().Hq,{labeled:!0,name:(0,_.jsx)(v()._H,{defaultMessage:"Description",id:"edit.descriptionPropertyCreated.label"}),type:"text",icon:void 0,children:(0,_.jsx)(K().Z,{propertySchema:{type:"text",name:""},beforeValue:{value:[],spaceId:t.spaceId},afterValue:t,rootStore:o})})}):null}o(916054);var Ze=()=>o(568017),Pe=()=>o(841663);function Be(e){let{edit:t}=e;const{before:o,after:r}=t.collection_property_data||{},i=(0,W().Z)();if(!o||!r)return null;const l=p().IQ({before:o,after:r});if(!l)return null;const{newOptions:n,modifiedOptions:a,removedOptions:s}=l;return[n,a,s].every((e=>0===e.length))?null:(0,_.jsx)("div",{style:{...i.wrap,paddingTop:6,paddingBottom:4},children:(0,_.jsx)(Le,{after:r,newOptions:n,modifiedOptions:a,removedOptions:s})})}function Le(e){let{after:t,newOptions:o,modifiedOptions:r,removedOptions:i}=e;const l=(0,a().Fg)(),n=e=>{let{option:t,strikethrough:o=!1}=e;const r=(0,Ze().KR)(l,null==t?void 0:t.color);return(0,_.jsx)(Pe().Z,{...r,strikethrough:o,children:t.value})};return(0,_.jsx)(k().Hq,{labeled:!0,name:t.name,icon:t.icon,type:t.type,children:(0,_.jsxs)("div",{style:{display:"flex",flexDirection:"column",rowGap:4},children:[o.length>0&&(0,_.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",columnGap:4},children:[(0,_.jsx)(v()._H,{defaultMessage:"Added",id:"Edit.renderCollectionPropertyChangedDiff.addedProperty"}),o.map((e=>(0,_.jsx)("span",{children:n({option:e})},e.id)))]}),i.length>0&&(0,_.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",columnGap:4},children:[(0,_.jsx)(v()._H,{defaultMessage:"Removed",id:"Edit.renderCollectionPropertyChangedDiff.removedProperty"}),i.map((e=>(0,_.jsx)("span",{children:n({option:e,strikethrough:!0})},e.id)))]}),r.length>0&&(0,_.jsxs)("div",{style:{display:"flex",flex:1,flexDirection:"row"},children:[(0,_.jsx)("span",{children:(0,_.jsx)(v()._H,{defaultMessage:"Edited",id:"Edit.renderCollectionPropertyChangedDiff.editedProperty"})}),(0,_.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:r.map((e=>(0,_.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[(0,_.jsx)("span",{style:{marginLeft:4},children:n({option:e.before,strikethrough:!0})}),(0,_.jsx)("span",{style:{padding:"0px 8px"},children:T({width:10,height:10,fill:l.mediumIconColor})}),n({option:e.after})]},e.before.id)))})]})]})})}var He=()=>o(816512),Ke=()=>o(890684),Ae=()=>o(580397),Fe=()=>o(602299),Ue=()=>o(542973),De=()=>o(874018),We=()=>o(826955),Oe=()=>o(836535);function qe(e){var t;const{edit:o,discussionLocation:r,hideAuthorName:l,lineClamp:n,type:a,rootStore:s,highlightCurrentUser:d,highlightCurrentUserStyle:c,onReactionToggle:u}=e,p=(0,W().Z)(),h=(0,i().VK)((()=>e.rootStore.getRecordModel),[e.rootStore]),m=(0,i().VK)((()=>h({table:Ue().qF,id:o.discussion_id,spaceId:o.space_id})),[h,o.discussion_id,o.space_id]),x=null===(t=o.authors)||void 0===t?void 0:t[0],b=(0,i().VK)((()=>x?h(x):void 0),[x,h]);return m&&b?(0,_.jsx)("div",{style:p.wrap,children:(0,_.jsx)(Ge,{discussionModel:m,actorModel:b,discussionLocation:r,hideAuthorName:l,lineClamp:n,type:a,getRecordModel:h,rootStore:s,highlightCurrentUser:d,highlightCurrentUserStyle:c,onReactionToggle:u})}):null}function ze(e){const{edit:t,discussionLocation:o,hideAuthorName:r,lineClamp:l,type:n,rootStore:a,highlightCurrentUser:s,highlightCurrentUserStyle:d,onReactionToggle:c}=e,u=(0,W().Z)(),p=(0,i().VK)((()=>e.rootStore.getRecordModel),[e.rootStore]),{latestComment:h,commentWasChanged:x}=(0,i().VK)((()=>{const e=p({table:Fe().x_,id:t.comment_id,spaceId:t.space_id});return{latestComment:e,commentWasChanged:Boolean(t.comment_data&&e&&(0,Ke().P)(m().kk5.fromValue(Fe().x_,t.comment_data),e))}}),[t.comment_data,t.comment_id,t.space_id,p]);return h?(0,_.jsx)("div",{style:u.wrap,children:(0,_.jsx)(Ye,{comment:h,discussionLocation:o,showEditedBadge:x,hideAuthorName:r,lineClamp:l,type:n,getRecordModel:p,rootStore:a,highlightCurrentUser:s,highlightCurrentUserStyle:d,onReactionToggle:c})}):null}function Ee(e){const t=(0,W().Z)();return(0,_.jsx)("div",{style:t.wrap,children:(0,_.jsx)($e,{commentData:e.edit.comment_data,rootStore:e.rootStore})})}function Ne(e){const{edit:t,discussionLocation:o,type:r,rootStore:l,highlightCurrentUser:n,highlightCurrentUserStyle:a,onReactionToggle:s}=e,d=(0,W().Z)(),c=(0,i().VK)((()=>e.rootStore.getRecordModel),[e.rootStore]),u=(0,i().VK)((()=>c({table:Fe().x_,id:t.comment_id,spaceId:t.space_id})),[t.comment_id,t.space_id,c]),p=m().kk5.fromValue(Fe().x_,t.comment_data)||u;return p?(0,_.jsx)("div",{style:{...d.wrap,...d.deleted},children:(0,_.jsx)(Ye,{comment:p,discussionLocation:o,showEditedBadge:!1,hideAuthorName:!1,type:r,getRecordModel:c,rootStore:l,highlightCurrentUser:n,highlightCurrentUserStyle:a,onReactionToggle:s})}):null}function Ye(e){const{comment:t,discussionLocation:o,showEditedBadge:n,hideAuthorName:s,lineClamp:d,getRecordModel:c}=e,[u,p]=(0,r.useState)(!1),h=(0,R().O7)(),m=(0,W().Z)(),x=(0,v().YB)(),g=(0,a().yK)((e=>({editedBadge:{color:e.mediumTextColor,paddingLeft:4}})),[]),f=(0,i().VK)((()=>{const o=t.getCreatedByTable(),r=t.getCreatedById();if(!o||!r)return null;const i=We().t1.createChildStore(e.rootStore,{table:Fe().x_,id:t.id,spaceId:(0,b().J)(e.rootStore.pointer.spaceId)}),n=We().bh.getUserVisibleReactions(i).length>0,a=c({table:o,id:r,spaceId:t.space_id}),s=a&&(0,He().LU)(a);return{commentStore:i,commentHasReactions:n,fullName:s?(0,He().$4)(x,s):(0,_.jsx)(v()._H,{defaultMessage:"Unknown author",id:"edit.unknownAuthor.label"}),imagesEdits:t.getContent().map((o=>{const r=c({table:"block",id:o,spaceId:t.space_id}),i=null==r?void 0:r.__IM_SORRY__getValue();return i&&(0,_.jsx)(k().ZP,{blockValue:i,rootStore:e.rootStore})})).filter(l().$K),commentText:t.getText()}}),[t,c,x,e.rootStore]);if(!f)return null;const{commentStore:y,commentHasReactions:S,fullName:T,imagesEdits:V,commentText:w}=f;if("comment-edit"!==e.type)return null;const C=w&&(0,_.jsx)(Oe().Z,{propertySchema:{type:"text",name:""},value:{spaceId:t.space_id,value:e.highlightCurrentUser?(0,Ve().H4)({textValue:w,highlightStyle:e.highlightCurrentUserStyle??"background_only",currentUserId:h.currentUser.id,getRecordModel:c}):w},rootStore:e.rootStore}),M=!S;return(0,_.jsxs)("div",{style:{...M&&{position:"relative"}},onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[!s&&(0,_.jsx)("div",{style:{...m.label,marginBottom:2},children:T}),(0,_.jsx)("span",{style:{...j().Yu,display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:d||6},children:C}),V,(0,_.jsx)("div",{style:{...M&&{position:"absolute",top:-3,right:3},...!M&&{marginTop:8}},children:(u||S)&&(0,_.jsx)(De().DU,{parentStore:y,discussionLocation:o,onReactionToggle:e.onReactionToggle})}),n&&(0,_.jsx)("span",{style:g.editedBadge,children:(0,_.jsx)(v()._H,{id:"edit.editedBadge",defaultMessage:"(edited)"})})]})}function $e(e){const{before:t,after:o}=e.commentData,l=(0,v().YB)(),n=(0,W().Z)(),a=(0,i().VK)((()=>{if(o.created_by_table&&o.created_by_id){const t=e.rootStore.getRecordModel({table:o.created_by_table,id:o.created_by_id,spaceId:o.space_id});return t&&(0,He().LU)(t)}}),[o.created_by_id,o.created_by_table,o.space_id,e.rootStore]),s=(0,i().VK)((()=>{var i,l;const n=null===(i=o.content)||void 0===i?void 0:i.filter((e=>{var o;return!(null!==(o=t.content)&&void 0!==o&&o.includes(e))})),a=null===(l=t.content)||void 0===l?void 0:l.filter((e=>{var t;return!(null!==(t=o.content)&&void 0!==t&&t.includes(e))})),s=e.rootStore.getRecordValue;return(0,_.jsxs)(r.Fragment,{children:[null==a?void 0:a.map((t=>{const r=s({table:x().iU,id:t,spaceId:o.space_id});return r&&(0,_.jsx)(E,{rootStore:e.rootStore,blockValue:r})})),null==n?void 0:n.map((t=>{const r=s({table:x().iU,id:t,spaceId:o.space_id});return r&&(0,_.jsx)(k().ZP,{blockValue:r,rootStore:e.rootStore})}))]})}),[o.content,o.space_id,t.content,e.rootStore]);if(!o.created_by_table||!o.created_by_id)return null;const d=a?(0,He().$4)(l,a):(0,_.jsx)(v()._H,{defaultMessage:"Unknown author",id:"edit.unknownAuthorCommentDiff.label"}),c=t.text&&o.text&&(0,_.jsx)(K().Z,{propertySchema:{type:"text",name:""},beforeValue:{value:t.text||[],spaceId:t.space_id},afterValue:{value:o.text||[],spaceId:o.space_id},rootStore:e.rootStore});return(0,_.jsxs)("div",{children:[(0,_.jsx)("div",{style:{...n.label,marginBottom:2},children:d}),c,s]})}function Ge(e){const{discussionModel:t,actorModel:o,discussionLocation:l,hideAuthorName:n,lineClamp:a}=e,[s,d]=(0,r.useState)(!1),c=(0,v().YB)(),u=(0,W().Z)(),{commentHasReactions:p,commentStore:h}=(0,i().VK)((()=>{const o=t.getComments().length>0?We().t1.createChildStore(e.rootStore,{table:Fe().x_,id:t.getComments()[0],spaceId:(0,b().J)(e.rootStore.pointer.spaceId)}):void 0;return{commentStore:o,commentHasReactions:!!o&&We().bh.getUserVisibleReactions(o).length>0}}),[t,e.rootStore]),m=(0,i().VK)((()=>t.getType()),[t]),x=(0,i().VK)((()=>t.getPersistedContext()??[]),[t]),g=(0,i().VK)((()=>(0,He().$4)(c,o.asActor)),[o.asActor,c]);if("suggestion"!==m)return null;if("comment-edit"!==e.type)return null;const f=(0,_.jsx)(Oe().Z,{propertySchema:{type:"text",name:""},value:{spaceId:t.space_id,value:(0,Ae().Bb)({discussionContextData:x,discussionType:"suggestion",discussionId:t.id,intl:c})},rootStore:e.rootStore}),y=!p;return(0,_.jsxs)("div",{style:{...y&&{position:"relative"}},onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[!n&&(0,_.jsx)("div",{style:{...u.label,marginBottom:2},children:g}),(0,_.jsx)("span",{style:{...j().Yu,display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:a||6},children:f}),(0,_.jsx)("div",{style:{...y&&{position:"absolute",top:-3,right:3},...!y&&{marginTop:8}},children:h&&(s||p)&&(0,_.jsx)(De().DU,{parentStore:h,discussionLocation:l,onReactionToggle:e.onReactionToggle})})]})}o(470928);var Je=()=>o(163262),Xe=()=>o(528514),Qe=()=>o(933868),et=()=>o(696056),tt=()=>o(255933),ot=()=>o(306164),rt=()=>o(989478),it=()=>o(499110),lt=()=>o(467806);function nt(e){const{edit:t,getRecordModel:o}=e,r=(0,W().Z)();return(0,_.jsxs)("div",{style:{...r.permission,...r.added,marginTop:3,marginBottom:3},children:[(0,_.jsx)("div",{children:(0,_.jsx)(ct,{getRecordModel:o,edit:t})}),(0,_.jsx)("div",{children:(0,_.jsx)(ut,{item:t.permission_data})})]})}function at(e){const{edit:t,getRecordModel:o}=e,r=(0,W().Z)();return(0,_.jsxs)("div",{style:{...r.permission,...r.deleted},children:[(0,_.jsx)("div",{children:(0,_.jsx)(ct,{getRecordModel:o,edit:t})}),(0,_.jsx)("div",{children:(0,_.jsx)(ut,{item:t.permission_data})})]})}function st(e){const{edit:t,getRecordModel:o}=e,r=(0,W().Z)();return(0,_.jsxs)("div",{style:r.permission,children:[(0,_.jsx)("div",{children:(0,_.jsx)(ct,{getRecordModel:o,edit:t})}),(0,_.jsx)("div",{children:(0,_.jsxs)("div",{style:r.diffWrap,children:[(0,_.jsx)(ut,{item:t.permission_data.before}),(0,_.jsx)("div",{style:{padding:"0px 8px"},children:T({width:14,height:14})}),(0,_.jsx)(ut,{item:t.permission_data.after})]})})]})}function dt(e){var t;const{edit:o,getRecordModel:i}=e,l=((null===(t=o.permission_data)||void 0===t?void 0:t.calculated_changes)||[]).map(((e,t)=>{let[l,n]=e;const a={timestamp:o.timestamp,space_id:o.space_id,type:"permission-changed",permission_data:{before:l,after:n}};return(0,_.jsx)(r.Fragment,{children:(0,_.jsx)(st,{getRecordModel:i,edit:a})},`inheritance-change-${t}`)}));return(0,_.jsx)(_.Fragment,{children:l})}function ct(e){const{edit:t,getRecordModel:o}=e,r=(0,W().Z)(),l=(0,v().YB)(),n="permission-changed"===t.type?t.permission_data.after:t.permission_data;return(0,i().VK)((()=>{if((0,Qe().jg)(n)){const e=o({table:rt().KJ,id:n.user_id}),t=(0,it().Nz)(l,e);return(0,_.jsx)("div",{style:r.permissionTypeWrap,children:(0,_.jsx)("div",{style:r.userHeader,children:t})})}if((0,Qe().Ir)(n)){const e=o({table:tt().bx,id:t.space_id}),i=e?e.name:(0,_.jsx)(v()._H,{defaultMessage:"Unknown",id:"edit.unknownSpacePermissionTarget.label"}),l=(0,Qe().tx)(n)?(0,_.jsx)(v()._H,{id:"linkSharingPill.visibilityTitle.anyoneWithLink",defaultMessage:"Anyone with link at {spaceName}",values:{spaceName:i}}):(0,_.jsx)(v()._H,{id:"linkSharingPill.visibilityTitle.everyoneInWorkspace",defaultMessage:"Everyone at {spaceName}",values:{spaceName:i}});return(0,_.jsx)("div",{style:r.permissionTypeWrap,children:(0,_.jsx)("div",{style:r.userHeader,children:l})})}if((0,Qe().$D)(n))return(0,_.jsx)("div",{style:r.permissionTypeWrap,children:(0,_.jsx)("div",{style:r.userHeader,children:(0,_.jsx)(v()._H,{defaultMessage:"Published link",id:"edit.publishToWebPermissionTarget.label"})})});if((0,Qe().hV)(n)){var e;const t=(null===(e=lt().Z.state.permissionGroupsAndMemberCounts.find((e=>e.group.group_id===n.group_id)))||void 0===e?void 0:e.group.name)||(0,_.jsx)(v()._H,{defaultMessage:"Deleted group",id:"edit.deletedPermissionGroup.label"});return(0,_.jsx)("div",{style:r.permissionTypeWrap,children:(0,_.jsx)("div",{style:r.userHeader,children:t})})}if((0,Qe().FB)(n)){const e=o({table:et().cZ,id:n.bot_id,spaceId:t.space_id}),i=(0,Je().Mh)(e);return(0,_.jsx)("div",{style:r.permissionTypeWrap,children:(0,_.jsx)("div",{style:r.userHeader,children:i})})}if((0,Qe().zU)(n)){const e=o({table:ot().e0,id:n.team_id,spaceId:t.space_id});let i=(0,_.jsx)(v()._H,{defaultMessage:"Members of an unknown teamspace",id:"edit.teamMemberPermissionChanged.unknownTeam"});return null!=e&&e.name&&(i=(0,_.jsx)(v()._H,{defaultMessage:"Members of {teamName}",id:"edit.teamMemberPermissionChanged.knownTeam",values:{teamName:e.name}})),(0,_.jsx)("div",{style:r.permissionTypeWrap,children:(0,_.jsx)("div",{style:r.userHeader,children:i})})}if((0,Qe().LW)(n)){const e=o({table:ot().e0,id:n.team_id,spaceId:t.space_id});let i=(0,_.jsx)(v()._H,{defaultMessage:"Owners of an unknown teamspace",id:"edit.teamOwnerPermissionChanged.unknownTeam"});return null!=e&&e.name&&(i=(0,_.jsx)(v()._H,{defaultMessage:"Owners of {teamName}",id:"edit.teamOwnerPermissionChanged.knownTeam",values:{teamName:e.name}})),(0,_.jsx)("div",{style:r.permissionTypeWrap,children:(0,_.jsx)("div",{style:r.userHeader,children:i})})}return(0,Qe().RO)(n)?(0,_.jsx)("div",{style:r.permissionTypeWrap,children:(0,_.jsx)("div",{style:r.userHeader,children:(0,_.jsx)(v()._H,{id:"edit.trustedDomainPermissionTarget.label",defaultMessage:"Users with email domain access"})})}):null}),[t.space_id,r.permissionTypeWrap,r.userHeader,o,l,n])}function ut(e){let{item:t}=e;const o=(0,v().YB)(),r=t.role??"none",i=(0,W().Z)(),l=(0,Xe().kD)(r,void 0);return l?(0,_.jsx)("div",{style:i.role,children:o.formatMessage(l)}):null}const pt=function(e){var t,o;const r=(0,i().VK)((()=>e.rootStore.getRecordModel),[e.rootStore]);if("comment-edit"===e.type){const{edit:t,discussionLocation:o,hideAuthorName:r,lineClamp:i,type:n,highlightCurrentUser:a,highlightCurrentUserStyle:s,onReactionToggle:d,rootStore:c}=e;switch(t.type){case"comment-created":return(0,_.jsx)(ze,{edit:t,discussionLocation:o,hideAuthorName:r,lineClamp:i,type:n,rootStore:c,highlightCurrentUser:a,highlightCurrentUserStyle:s,onReactionToggle:d});case"comment-changed":return(0,_.jsx)(Ee,{edit:t,rootStore:c});case"comment-deleted":return(0,_.jsx)(Ne,{edit:t,discussionLocation:o,type:n,rootStore:c,highlightCurrentUser:a,highlightCurrentUserStyle:s,onReactionToggle:d});case"suggestion-created":return(0,_.jsx)(qe,{edit:t,discussionLocation:o,type:n,lineClamp:i,rootStore:c,highlightCurrentUser:a,highlightCurrentUserStyle:s,onReactionToggle:d,hideAuthorName:r});default:(0,l().t1)(t)}}const{edit:n}=e;switch(n.type){case"block-created":return(0,_.jsx)(Y,{rootStore:e.rootStore,blockValue:n.block_data.block_value});case"block-deleted":return(0,_.jsx)(E,{rootStore:e.rootStore,blockValue:n.block_data.block_value});case"block-changed":return(0,_.jsx)(N,{edit:n,rootStore:e.rootStore});case"block-property-changed":return(0,_.jsx)(Ce,{rootStore:e.rootStore,edit:n});case"collection-property-changed":return(0,_.jsx)(Be,{edit:n});case"collection-changed":return(0,_.jsx)(Ie,{rootStore:e.rootStore,spaceId:n.space_id,args:n.collection_data});case"collection-created":return(0,_.jsx)(Re,{rootStore:e.rootStore,description:(null===(t=n.collection_data)||void 0===t?void 0:t.description)&&{value:null===(o=n.collection_data)||void 0===o?void 0:o.description,spaceId:n.space_id}});case"mention-created":case"permission-group-mention-created":case"team-mention-created":return(0,_.jsx)(we,{blockId:n.mentioned_block_id,property:n.mentioned_property,blockPreviewLocation:"notifications",highlightCurrentUser:e.highlightCurrentUser,highlightCurrentUserStyle:e.highlightCurrentUserStyle,rootStore:e.rootStore});case"permission-created":return(0,_.jsx)(nt,{getRecordModel:r,edit:n});case"permission-changed":return(0,_.jsx)(st,{getRecordModel:r,edit:n});case"permission-deleted":return(0,_.jsx)(at,{getRecordModel:r,edit:n});case"permission-restriction-created":case"permission-restriction-deleted":return(0,_.jsx)(dt,{getRecordModel:r,edit:n});case"reminder-created":return(0,_.jsx)(we,{blockId:n.reminder_block_id,property:n.reminder_property,highlightCurrentUser:e.highlightCurrentUser,highlightCurrentUserStyle:e.highlightCurrentUserStyle,rootStore:e.rootStore});case"collection-page-layout-edited":case"team-mention-deleted":case"permission-group-mention-deleted":case"mention-deleted":return null;default:return(0,l().P)(n),null}}},836535:(e,t,o)=>{o.d(t,{Z:()=>B});o(670560),o(267602),o(470928),o(30005),o(241792);var r=o(667294),i=()=>o(219727),l=()=>o(142735),n=()=>o(846550),a=()=>o(552221),s=()=>o(532850),d=()=>o(803021),c=()=>o(712198),u=()=>o(160916),p=()=>o(396136),h=()=>o(696056),m=()=>o(81954),x=()=>o(989478),b=()=>o(955620),g=()=>o(788860),f=()=>o(568017),v=()=>o(513670),y=()=>o(696459),j=()=>o(707513),S=()=>o(718611),k=()=>o(641702),_=()=>o(466970),T=()=>o(15409),V=()=>o(231750),w=()=>o(826955),C=()=>o(51620),M=()=>o(239444),I=()=>o(308252),R=()=>o(841663),Z=()=>o(364700),P=o(785893);function B(e){const{propertySchema:t,value:o,rootStore:n,disableStyleAnnotations:a,disableInsertedDeletedAnnotations:d,disableDateStyleAnnotations:h,disableSuggestionAnnotations:m}=e,x=(0,i().O7)(),b=(0,r.useCallback)((e=>w().G.createChildStore(n,{table:p().iU,id:e})),[n]),g=(0,r.useMemo)((()=>c().o.fromMonomorphicFunctionUnsafe((e=>b(e.id).getRecordModel(e)),u().mF.fromMonomorphicFunctionUnsafe((e=>b(e.id).getRecordValue(e))))),[b]),f=(0,r.useCallback)((e=>{const t=b(e.id).getValue();return t&&(0,s().wS)(t,"title")||[]}),[b]),j=(0,_().E)("relations_show_deleted"),S=(0,_().E)("relations_show_invalid_collection"),k=(0,_().E)("relations_show_no_access"),T=(0,r.useCallback)((()=>{if("relation"===t.type)return s().j$({relationValue:s().rq(o.value),getRecordModel:g,propertySchema:t,includeDeleted:j,includeInvalidCollection:S,includeNoAccess:k})}),[t,o.value,g,j,S,k]),V=(0,r.useCallback)((()=>{if("text"===t.type||"title"===t.type)return o.value;if("relation"===t.type){const e=T();if(!e)return;const t=e.map(f);return v().xH(t)}}),[t,o.value,f,T]);(0,r.useEffect)((()=>{"text"!==t.type&&"title"!==t.type&&"relation"!==t.type||x.KatexStore.loadIfNeeded(V)}),[x,t,V]);const C=(0,l().VK)(T,[T]),M=t.type;return"checkbox"!==M&&0===o.value.length?(0,P.jsx)($,{}):"text"===M?(0,P.jsx)(G,{value:o,disableStyleAnnotations:!!a,disableInsertedDeletedAnnotations:!!d,disableDateStyleAnnotations:!!h,disableSuggestionAnnotations:!!m,rootStore:n}):"checkbox"===M?(0,P.jsx)(A,{value:o}):"multi_select"===M?(0,P.jsx)(J,{propertySchema:t,value:o,rootStore:n}):"select"===M?(0,P.jsx)(Q,{propertySchema:t,value:o,rootStore:n}):"status"===M?(0,P.jsx)(ee,{propertySchema:t,value:o,rootStore:n}):"person"===M?(0,P.jsx)(Y,{value:o,propertySchema:t,rootStore:n}):"number"===M?(0,P.jsx)(F,{value:o}):"date"===M?(0,P.jsx)(U,{propertySchema:t,value:o}):"url"===M?(0,P.jsx)(D,{value:o}):"file"===M?(0,P.jsx)(W,{value:o}):"email"===M?(0,P.jsx)(O,{value:o}):"phone_number"===M?(0,P.jsx)(q,{value:o}):"title"===M?(0,P.jsx)(G,{value:o,disableStyleAnnotations:!!a,disableInsertedDeletedAnnotations:!!d,disableDateStyleAnnotations:!!h,disableSuggestionAnnotations:!!m,rootStore:n}):"created_time"===M?(0,P.jsx)(U,{propertySchema:t,value:o}):"created_by"===M?(0,P.jsx)(Y,{value:o,propertySchema:t,rootStore:n}):"relation"===M?(0,P.jsx)(H,{relationValue:C,getPageTitle:f,rootStore:n,disableStyleAnnotations:!!a,disableInsertedDeletedAnnotations:!!d,disableDateStyleAnnotations:!!h,disableSuggestionAnnotations:!!m}):"auto_increment_id"===M?(0,P.jsx)(F,{value:o}):"verification"===M?(0,P.jsx)(z,{value:o,rootStore:n}):"formula"===M||"rollup"===M||"last_edited_by"===M||"last_edited_time"===M||"last_visited_time"===M||"button"===M||"location"===M?null:void(0,y().t1)(M)}const L=5;function H(e){const{rootStore:t,getPageTitle:o,disableStyleAnnotations:l,disableInsertedDeletedAnnotations:a,disableDateStyleAnnotations:s,disableSuggestionAnnotations:d,relationValue:c}=e,u=(0,i().O7)(),p=(0,n().Fg)(),h=(0,r.useCallback)((e=>{const{value:o,pointer:r}=e;return k().IY({environment:u,textValue:{value:o,spaceId:(0,m().J)(r.spaceId)},parentStore:t,disableHover:!0,disableStyleAnnotations:l,disableInsertedDeletedAnnotations:a,disableDateStyleAnnotations:s,disableSuggestionAnnotations:d,disabled:!0,theme:p,emojiType:(0,S().e_)(u),katex:u.KatexStore.getKatex(),formulaValueTypes:[]})}),[u,t,p,l,a,s,d]);if(!c)return null;const x=c.length>L,b=x?c.slice(0,L):c;return(0,P.jsxs)("div",{children:[b.map(((e,t)=>(0,P.jsx)(K,{pointer:e,renderText:h,getPageTitle:o},t))),x&&(0,P.jsx)("div",{style:{maxWidth:180,color:f().ZP.mediumTextColor},children:(0,P.jsx)(g()._H,{defaultMessage:"{leftoverCountNumber} more",id:"editProperty.relationEditedProperties.moreCount.label",values:{leftoverCountNumber:c.length-L}})})]})}function K(e){const{pointer:t,renderText:o,getPageTitle:r}=e,i=(0,l().VK)((()=>o({value:r(t),pointer:t})),[t,o,r]);return(0,P.jsx)("div",{style:{maxWidth:180,...j().Yu},children:i})}function A(e){let{value:t}=e;const o=s().Ml(t.value);return(0,P.jsx)("div",{style:{width:16,height:16,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,backgroundColor:o?f().ZP.blue:f().ZP.transparent},children:o?(0,T().e)({fill:f().ZP.white,width:12,height:12}):(0,V().z)()})}function F(e){let{value:t}=e;const o=s().VY(t.value);return(0,P.jsx)("div",{children:o})}function U(e){let{propertySchema:t,value:o}=e;const r=t,i=(0,a().G)(o.value);return(0,P.jsx)(I().Z,{value:i,dateFormat:r.date_format||d().sF,timeFormat:r.time_format||d().c_,displayInUserTimezone:!0})}function D(e){let{value:t}=e;return(0,P.jsx)(P.Fragment,{children:b().Jcv(t.value)})}function W(e){let{value:t}=e;const o=s().g(t.value);return(0,P.jsx)("div",{style:{display:"inline-flex"},children:o.map(((e,t,o)=>{const r=o.length-1===t;return(0,P.jsx)(R().Z,{rightMargin:!r,children:e.url},t)}))})}function O(e){let{value:t}=e;const o=b().Jcv(t.value);return(0,P.jsx)("div",{children:o})}function q(e){let{value:t}=e;const o=b().Jcv(t.value);return(0,P.jsx)("div",{children:o})}function z(e){let{value:t,rootStore:o}=e;return(0,P.jsx)(Z().e,{textValue:t.value,rootStore:o})}function E(e){let{userId:t,rootStore:o,isLast:r}=e;const i=(0,l().VK)((()=>function(e,t){return w().U6.createChildStore(t,{table:x().KJ,id:e}).getValue()}(t,o)),[t,o]);return(0,P.jsx)("div",{style:{marginTop:4,marginRight:r?0:8},children:(0,P.jsx)(M().Z,{userValue:i,inline:!0,avatarSize:18,style:{fontSize:12},avatarShouldShowShadow:!0})})}function N(e){let{isLast:t,botId:o,rootStore:i}=e;const l=(0,r.useMemo)((()=>function(e,t){return w().Qx.createChildStore(t,{table:h().cZ,id:e})}(o,i)),[o,i]);return(0,P.jsx)("div",{style:{marginTop:4,marginRight:t?0:8},children:(0,P.jsx)(C().Z,{botStore:l})})}function Y(e){let{value:t,propertySchema:o,rootStore:r}=e;const i=s().DW({textValue:t.value,propertySchema:o,blockCreatorPointer:void 0}),l=[];return i.forEach(((e,t)=>{const o=i.length-1===t;e.table===x().KJ?l.push((0,P.jsx)(E,{userId:e.id,rootStore:r,isLast:o},t)):l.push((0,P.jsx)(N,{botId:e.id,rootStore:r,isLast:o},t))})),(0,P.jsx)("div",{style:{display:"inline-flex"},children:l})}function $(){const e=(0,n().Fg)();return(0,P.jsx)("div",{style:{color:e.mediumTextColor,fontSize:12},children:(0,P.jsx)(g()._H,{defaultMessage:"Empty",id:"editProperty.emptyProperty.label"})})}function G(e){let{value:t,disableStyleAnnotations:o,disableInsertedDeletedAnnotations:r,disableDateStyleAnnotations:a,disableSuggestionAnnotations:s,rootStore:d}=e;const c=(0,n().Fg)(),u=(0,i().O7)(),p=(0,l().VK)((()=>k().IY({environment:u,textValue:t,parentStore:d,disableStyleAnnotations:o,disableInsertedDeletedAnnotations:r,disableDateStyleAnnotations:a,disableSuggestionAnnotations:s,disableHover:!0,disabled:!0,theme:c,emojiType:(0,S().e_)(u),katex:u.KatexStore.getKatex(),formulaValueTypes:[]})),[u,t,d,c,o,r,a,s]);return(0,P.jsx)("span",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:p})}function J(e){let{propertySchema:t,value:o,rootStore:r}=e;const i=t.options||[],l=s().Ak(o.value);return(0,P.jsx)("div",{style:{display:"inline-flex"},children:l.map(((e,t,l)=>(0,P.jsx)(X,{token:e,options:i,index:t,arr:l,rootStore:r,value:o},t)))})}function X(e){let{token:t,options:o,index:r,arr:i,rootStore:a,value:s}=e;const d=(0,n().Fg)(),c=(o??[]).find((e=>e.value===t)),u=i.length-1===r,p=(0,f().KR)(d,null==c?void 0:c.color),h=(0,l().VK)((()=>t??k().Xh(s.value,a)),[t,s,a]);return(0,P.jsx)(R().Z,{...p,rightMargin:!u,children:h})}function Q(e){let{propertySchema:t,value:o,rootStore:r}=e;const i=(0,n().Fg)(),a=t.options||[],d=s().Sj(o.value,a),c=(0,l().VK)((()=>d??k().Xh(o.value,r)),[d,o,r]),u=a.find((e=>e.value===d)),p=(0,f().KR)(i,null==u?void 0:u.color);return(0,P.jsx)("div",{style:{display:"inline-flex"},children:(0,P.jsx)(R().Z,{...p,children:c})})}function ee(e){let{propertySchema:t,value:o,rootStore:r}=e;const i=(0,n().Fg)(),a=t,d=s().yp(o.value,a),c=(0,l().VK)((()=>d??k().Xh(o.value,r)),[d,o,r]),u=(a.options??[]).find((e=>e.value===d)),p=(0,f().KR)(i,null==u?void 0:u.color);return(0,P.jsx)("div",{style:{display:"inline-flex"},children:(0,P.jsx)(R().Z,{...p,children:c})})}},841663:(e,t,o)=>{o.d(t,{Z:()=>l});o(667294);var r=()=>o(707513),i=o(785893);function l(e){const{children:t,textColor:o,backgroundColor:l,rightMargin:n,strikethrough:a}=e;return(0,i.jsx)("div",{style:{backgroundColor:l,color:o,display:"inline-flex",alignItems:"center",fontSize:12,height:18,paddingLeft:8,paddingRight:8,borderRadius:4,marginRight:n?4:0,textDecoration:a?"line-through":void 0},children:(0,i.jsx)("span",{style:{...r().Yu},children:t})})}},179947:(e,t,o)=>{o.d(t,{Z:()=>b});o(667294);var r=()=>o(142735),i=()=>o(846550),l=()=>o(226413),n=()=>o(532850),a=()=>o(695644),s=()=>o(396136),d=()=>o(955620),c=()=>o(696459),u=()=>o(985481),p=()=>o(749826),h=()=>o(826955),m=()=>o(836535),x=o(785893);function b(e){const t=l().LS(e.propertySchema);switch(t){case"text":return(0,x.jsx)(g,{...e});case"relation":return(0,x.jsx)(f,{propertySchema:e.propertySchema,beforeValue:e.beforeValue,afterValue:e.afterValue,rootStore:e.rootStore});case"arrow":return(0,x.jsx)(v,{...e});default:(0,c().t1)(t)}}function g(e){const t={value:a().Mg({before:e.beforeValue.value,after:e.afterValue.value,insertionAnnotation:[d().GKr.Inserted],deletionAnnotation:[d().GKr.Deleted]}),spaceId:e.beforeValue.spaceId};return(0,x.jsx)(m().Z,{value:t,propertySchema:e.propertySchema,rootStore:e.rootStore})}function f(e){const{beforeValue:t,afterValue:o,propertySchema:i,rootStore:l}=e,a=(0,r().VK)((()=>n().NT({beforeValue:t.value,afterValue:o.value,propertySchema:i,getRecordModel:l.getRecordModel,getBlockTitle:e=>h().G.createChildStore(l,{table:s().iU,id:e.id}).getPropertyValue("title"),includeDeletedRelations:p().default.checkGate({gateName:"relations_show_deleted"}),includeInvalidCollection:p().default.checkGate({gateName:"relations_show_invalid_collection"}),includeNoAccess:p().default.checkGate({gateName:"relations_show_no_access"})})),[t,o,i,l]);return(0,x.jsx)(m().Z,{value:{value:a,spaceId:t.spaceId},propertySchema:{type:"title",name:"Title"},rootStore:l})}function v(e){const t=(0,i().yK)((()=>({arrowDiffWrap:{display:"inline-flex",alignItems:"center",overflow:"hidden",flexWrap:"wrap",rowGap:6}})),[]);return(0,x.jsxs)("div",{style:t.arrowDiffWrap,children:[(0,x.jsx)(m().Z,{value:e.beforeValue,propertySchema:e.propertySchema,rootStore:e.rootStore}),(0,x.jsx)(y,{}),(0,x.jsx)(m().Z,{value:e.afterValue,propertySchema:e.propertySchema,rootStore:e.rootStore})]})}function y(){const e=(0,i().yK)((e=>({container:{padding:"0px 8px"},icon:{width:15,height:15,fill:e.mediumIconColor}})),[]);return(0,x.jsx)("div",{style:e.container,children:(0,u().k)(e.icon)})}},364700:(e,t,o)=>{o.d(t,{e:()=>b});var r=o(667294),i=()=>o(142735),l=()=>o(934158),n=()=>o(696056),a=()=>o(989478),s=()=>o(501274),d=()=>o(496205),c=()=>o(788860),u=()=>o(696459),p=()=>o(826955),h=()=>o(51620),m=()=>o(239444),x=o(785893);function b(e){const{textValue:t,rootStore:o}=e,b=(0,c().YB)(),g=(0,r.useMemo)((()=>{const e=(0,d()._w)(t);return e?d().WN(e):{type:"none"}}),[t]),f=(0,i().VK)((()=>{if("none"!==g.type)return p().t1.createChildStore(o,g.actorPointer)}),[g,o]);if("none"===g.type)return(0,x.jsx)("span",{children:b.formatMessage(d().X3.none)});let v;return void 0===f?v=(0,x.jsx)(m().Z,{userStore:void 0,inline:!0,style:{display:"inline-flex",alignItems:"baseline"},avatarSize:18,avatarMarginRight:3}):f.table===a().KJ?v=(0,x.jsx)(m().Z,{userStore:f,inline:!0,style:{display:"inline-flex",alignItems:"baseline"},avatarSize:18,avatarMarginRight:3}):f.table===n().cZ?v=(0,x.jsx)(h().Z,{botStore:f,style:{display:"inline-flex",alignItems:"baseline"}}):f.table===l().y0?v=(0,x.jsx)(m().Z,{userStore:void 0,inline:!0,style:{display:"inline-flex",alignItems:"baseline"},avatarSize:18,avatarMarginRight:3}):(0,u().t1)(f),"verified"===g.type&&g.isIndefinite?(0,x.jsx)("div",{children:b.formatMessage(d().X3.verifiedIndefinitely,{actor:v})}):(0,x.jsx)("div",{children:b.formatMessage(d().X3.verifiedUntil,{actor:v,datetime:s().nK({dateTime:g.dateTimeRange.end,intl:b,displayInUserTimezone:!0})})})}},83259:(e,t,o)=>{o.d(t,{I:()=>i});o(667294);var r=o(785893);const i=(0,o(827282).IU)("random",{viewBox:"0 0 14 14",svg:(0,r.jsx)("path",{d:"M9.45002,6.2999567 C8.87013,6.2999567 8.40002,5.8298565 8.40002,5.24995625 C8.40002,4.670056 8.87013,4.1999558 9.45002,4.1999558 C10.0299,4.1999558 10.5,4.670056 10.5,5.24995625 C10.5,5.8298565 10.0299,6.2999567 9.45002,6.2999567 Z M4.55,6.2999567 C3.9701,6.2999567 3.5,5.8298565 3.5,5.24995625 C3.5,4.670056 3.9701,4.1999558 4.55,4.1999558 C5.1299,4.1999558 5.6,4.670056 5.6,5.24995625 C5.6,5.8298565 5.1299,6.2999567 4.55,6.2999567 Z M6.993,0 C10.864,0 14,3.13600534 14,7.000007 C14,10.8639987 10.864,14 6.993,14 C3.129,14 0,10.8639987 0,7.000007 C0,3.13600534 3.129,0 6.993,0 Z M7,12.5999994 C10.094,12.5999994 12.6,10.0939983 12.6,7.000007 C12.6,3.90600567 10.094,1.4000046 7,1.4000046 C3.906,1.4000046 1.4,3.90600567 1.4,7.000007 C1.4,10.0939983 3.906,12.5999994 7,12.5999994 Z M7,10.8499986 C5.369,10.8499986 3.976,9.83499821 3.416,8.4000076 L4.585,8.4000076 C5.075,9.23299796 5.964,9.7999982 7,9.7999982 C8.036,9.7999982 8.932,9.23299796 9.415,8.4000076 L10.584,8.4000076 C10.024,9.83499821 8.631,10.8499986 7,10.8499986 Z"})})},974888:(e,t,o)=>{o.d(t,{Z:()=>l});o(667294);var r=()=>o(568017),i=o(785893);const l=function(e){const{children:t,created:o,deleted:l,style:n,theme:a,title:s}=e,d={boxShadow:`inset 0 0 0 1px ${a.regularDividerColor}`,borderRadius:4,padding:"6px 8px",fontSize:14,overflow:"hidden",flexGrow:1,marginTop:4,marginBottom:4,...o&&{color:r().ZP.diffTextColor,backgroundColor:r().ZP.diffBackground},...n},c={fontSize:12,lineHeight:1,marginTop:2,marginBottom:4,color:a.regularTextColor};return(0,i.jsxs)("div",{style:d,children:[(0,i.jsx)("div",{style:c,children:s}),(0,i.jsx)("div",{style:{...l&&{opacity:.4,marginBottom:6,textDecoration:"line-through"}},children:t})]})}},695644:(e,t,o)=>{o.d(t,{Mg:()=>u,Q$:()=>d,n9:()=>c});o(821057),o(670560),o(267602),o(653476),o(30005),o(241792);var r=o.n(o(467266)),i=o.n(o(205242)),l=()=>o(513670),n=()=>o(696459),a=()=>o(659278),s=()=>o(955620);let d=function(e){return e[e.removed=-1]="removed",e[e.added=1]="added",e[e.same=0]="same",e}({});function c(e,t){const o=new(i())({timeout:2,editCost:6}),r=o.main(t,e);return o.cleanupSemantic(r),r}function u(e){const{before:t,after:o,isIncompleteAfter:i,insertCursor:u}=e,p={count:0,encoding:{},decoding:{},annotationEncoding:{},annotationDecoding:{}},h=e=>{const t=p.encoding[e];if(t)return t;{const t=String.fromCharCode(p.count);return p.count++,p.encoding[e]=t,p.decoding[t]=e,t}},m=e=>{const t=r()(e),o=p.annotationEncoding[t];if(o)return o;{const o=String.fromCharCode(p.count);return p.count++,p.annotationEncoding[t]=o,p.annotationDecoding[o]=e,o}},x=t=>l().xH(s().lzi(t).map((t=>{let o=[];o="word"===e.mode?t[0].split(" ").map((e=>`${e} `)):a().p4(t[0]);const r=o.map(h);if(s().km_(t)){const e=s().hDy(t),o=s().I$B(e);o&&(r[0]=m({type:"mention",value:o}),e.forEach((e=>{s().ZAl(e)||s().kuv(e)||s().QVC(e)||(r.unshift(m({type:"start",value:e})),r.push(m({type:"end",value:e})))})))}else if(s().YrK(t)){const e=s().hDy(t),o=s().Ap(e);if(o){r[0]=m({type:"equation",value:o});for(const t of e)s().ZAl(t)||s().kuv(t)||s().QVC(t)||(r.unshift(m({type:"start",value:t})),r.push(m({type:"end",value:t})))}}else if(s().AJd(t)){s().hDy(t).forEach((e=>{r.unshift(m({type:"start",value:e})),r.push(m({type:"end",value:e}))}))}return r}))).join("");if(p.count>65535)throw new Error("This string has way too many different characters.");const b=c(x(o),x(t)),g=[];let f=[],v=0;const y=i?l().qr(b,(e=>0===e[0]||1===e[0])):0;let j=!1;const S=e.insertionAnnotation,k=e.deletionAnnotation;return b.forEach((e=>{let[t,o]=e;o.split("").forEach((e=>{if(p.decoding[e]){const o=p.decoding[e];t===d.added?g.push([o,[...f,S]]):t===d.removed&&(!i||v<=y)?g.push([o,[...f,k]]):(i&&u&&!j&&v===y+1&&(j=!0,g.push(["",[["tc"]]])),g.push([o,f]))}else{const o=p.annotationDecoding[e];if(t===d.added)if("mention"===o.type)g.push([s().qyI,[...f,S,o.value]]);else if("start"===o.type)f=[...f,o.value];else if("end"===o.type)f=f.filter((e=>!l().Xy(e,o.value)));else if("equation"===o.type){const e=s().xey(o.value),t=s().qZ6(e,[...f,S]);g.push(t)}else(0,n().t1)(o);else if(t===d.removed){if("mention"===o.type)g.push([s().qyI,[...f,k,o.value]]);else if("equation"===o.type){const e=s().xey(o.value),t=s().qZ6(e,[...f,k]);g.push(t)}}else if(t===d.same)if("mention"===o.type)g.push([s().qyI,[...f,o.value]]);else if("start"===o.type)f=[...f,o.value];else if("end"===o.type)f=f.filter((e=>!l().Xy(e,o.value)));else if("equation"===o.type){const e=s().xey(o.value),t=s().qZ6(e,f);g.push(t)}else(0,n().t1)(o)}})),i&&(v+=1)})),s().Zxt(g)}}}]);