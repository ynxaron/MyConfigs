"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[88430],{787738:(e,t,o)=>{o.d(t,{K:()=>s});var r=()=>o(594546);function s(e,t){const{spaceId:o,pageId:s,joinSpaceMethod:i}=t;(0,r().j)({environment:e,event:{eventName:"trusted_domain_banner_cta_clicked",eventProperties:{spaceId:o,pageId:s,joinSpaceMethod:i}}})}},837600:(e,t,o)=>{o.d(t,{Z:()=>i});var r=o(667294),s=()=>o(231077);function i(e){return(0,r.useEffect)((()=>{document.title=e.title,s().setWindowTitle(e.title)}),[e.title]),e.children}},184495:(e,t,o)=>{o.d(t,{Z:()=>C});var r=o(667294),s=()=>o(219727),i=()=>o(142735),n=()=>o(263184),a=()=>o(788860),l=()=>o(568017),c=()=>o(696459),d=()=>o(707513),u=()=>o(438793),g=()=>o(912732),p=()=>o(787738),m=()=>o(824462),f=()=>o(443269),h=()=>o(352230),x=()=>o(876822),v=()=>o(697623),b=()=>o(154439),j=()=>o(206352),S=()=>o(291198),y=()=>o(198829),_=()=>o(661297),w=()=>o(906651),M=o(785893);const k={marginBottom:10},P={...k,width:"100%",height:"100%",padding:10,alignItems:"top",borderRadius:0},I=(0,a().vU)({requestAccessMessagePlaceholder:{defaultMessage:"Message (optional)",id:"requestAccessForm.messageInput.placeholder"},rateLimitError:{defaultMessage:"You have recently requested access to this page.",id:"requestAccessForm.errorMessage.rateLimit"},currentUserNotFound:{defaultMessage:"Current user not found.",id:"requestAccessForm.errorMessage.currentUserNotFound"}});function E(){return(0,M.jsx)(a()._H,{defaultMessage:"Cancel",id:"requestAccessForm.cancelButton.label"})}const A=n().default.createClass(0,{name:"RequestAttemptStore"}),T=n().default.createClass(void 0,{name:"MessageStore"});const C=function(e){const t=(0,s().O7)(),n=(0,s().MO)(),l=(0,i().qz)(void 0,o(529048).Z),c=(0,i().qz)(void 0,T),g=(0,i().qz)(void 0,A),m=(0,r.useCallback)((()=>q(l)),[l]),f=(0,r.useCallback)((()=>(0,M.jsx)(Z,{...e,requestAttemptStore:g,messageStore:c,buttonPopupStore:l})),[e,g,c,l]),h=(0,i().VK)((()=>g.state>0),[g]),x=(0,i().VK)((()=>l.state.open),[l]);if("current-actor-to-block"===e.type)return(0,M.jsx)(R,{type:"page",block:e.block,flowId:e.flowId,buttonType:e.buttonType});if("current-actor-to-collection"===e.type)return(0,M.jsx)(R,{type:"collection",collection:e.collection,flowId:e.flowId,buttonType:e.buttonType});const v="primary"===e.buttonType?w().Z:_().Z;return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(v,{isLarge:!0,disabled:h,onClick:()=>{var o,r;return function(e,t){const{environment:o,flowId:r,type:s,source:i,spaceId:n,pageId:a}=e;"trusted_domain_page"===i&&n&&p().K(o,{spaceId:n,pageId:a,joinSpaceMethod:"request_to_join"});"current-actor-to-block"===s?u().zX(o,{button_name:"request-access",flow_id:r,request_access_type:"page"}):"current-actor-to-space-via-team"===s&&u().zX(o,{button_name:"request-access",flow_id:r,request_access_type:"team"});t.setState({open:!0})}({environment:t,flowId:e.flowId,type:e.type,source:e.source,pageId:null===(o=e.block)||void 0===o?void 0:o.id,spaceId:null===(r=e.block)||void 0===r?void 0:r.spaceId},l)},style:"outline"===e.buttonType?{fontWeight:d().Ue.semibold}:{},children:h?(0,M.jsx)(a()._H,{id:"fullPageError.requestAccessButton.requested",defaultMessage:"Requested access"}):V(e.type)}),n?(0,M.jsx)(o(967092).ZP,{popupType:o(104088).k.SlideUp,open:x,render:f}):(0,M.jsx)(o(708518).Z,{open:x,onDismiss:m,render:f})]})};function D(e){let{result:t}=e;return t&&t.error?(0,M.jsx)("div",{style:{color:l().ZP.redWithAlpha(1),textAlign:"center",width:"100%",marginBottom:16},children:t.error}):null}function B(e){e.update((e=>e+1))}function q(e){return e.setState({open:!1})}function H(e){let{error:t,result:o,ready:n,requestAttemptStore:l,messageStore:c,type:u}=e;const g=(0,a().YB)(),p=(0,s().MO)(),m=(0,r.useCallback)((()=>B(l)),[l]),f=(0,r.useCallback)((e=>function(e,t){t.setState(e.target.value)}(e,c)),[c]),h=(0,i().VK)((()=>Boolean(0===l.state||n&&o&&o.error)),[l,n,o]),x=(0,i().VK)((()=>c.state||""),[c]);return(0,M.jsxs)(M.Fragment,{children:[!p&&(0,M.jsx)("div",{style:{fontSize:16,fontWeight:d().Ue.semibold,marginBottom:16},children:V(u)}),(0,M.jsx)(S().Z,{format:p?S().B.Transparent:void 0,textarea:!0,value:x,onChange:f,disabled:!h,placeholder:g.formatMessage(I.requestAccessMessagePlaceholder),style:{...p?{...P,padding:"16px"}:{...k,marginBottom:16,padding:"8px 12px",alignItems:"flex-start"}}}),!p&&(0,M.jsx)(w().Z,{isLarge:!0,disabled:!h,onClick:m,style:k,children:(0,M.jsx)(a()._H,{defaultMessage:"Send request",id:"requestAccessForm.sendRequestButton.label"})}),(0,M.jsx)(D,{result:o})]})}function Z(e){const{requestAttemptStore:t,messageStore:o,buttonPopupStore:n}=e,l=(0,s().O7)(),d=(0,s().MO)(),u=(0,a().YB)(),p=(0,r.useCallback)(((r,s,i)=>(0,M.jsx)(H,{requestAttemptStore:t,messageStore:o,error:r,result:s,ready:i,type:e.type})),[t,o,e.type]),v=(0,i().VK)((()=>{var e;return null===(e=x().default.state.currentUserStore)||void 0===e?void 0:e.id}),[]),S=(0,r.useCallback)((t=>async function(e){const{messageStore:t,buttonPopupStore:o,type:r,teamId:s,requestAttempt:i,environment:n,currentUserId:a,intl:l,flowId:d}=e;if(0===i)return;const u=t.state,p=await async function(){if("current-actor-to-block"===r)return m().callApi({eventName:"requestAccess",environment:n,data:{type:"current-actor-to-block",block:e.block,message:u}});if("current-actor-to-collection"===r)return m().callApi({eventName:"requestAccess",environment:n,data:{type:"current-actor-to-collection",collection:e.collection,message:u}});if("current-actor-to-space-via-team"===r)return m().callApi({eventName:"requestAccess",environment:n,data:{type:"current-actor-to-space-via-team",teamId:s,message:u}});if("current-actor-to-space-via-block"===r){if(!a)return;return m().callApi({eventName:"requestAccess",environment:n,data:{type:"actor-to-space",spaceId:e.block.spaceId,message:u,forActorId:a,attributes:{add_permissions_on_approval:!1,origin_type:"trusted_domain_page"}}})}}();return p?"success"!==p.type?"UserRateLimitResponse"===(null===(h=p.body)||void 0===h?void 0:h.name)?{error:l.formatMessage(I.rateLimitError)}:{error:(0,f().wf)(l,p)}:("current-actor-to-block"===r?g().dU(n,{request_access_type:"page",flow_id:d,requestId:p.data.requestId}):"current-actor-to-space-via-team"===r?g().dU(n,{request_access_type:"team",flow_id:d}):"current-actor-to-space-via-block"===r?g().dU(n,{request_access_type:"space",flow_id:d,source:"trusted_domain_page"}):"current-actor-to-collection"===r?g().dU(n,{request_access_type:"collection",flow_id:d,requestId:p.data.requestId}):(0,c().t1)(r),o.reset(),{value:!0}):{error:l.formatMessage(I.currentUserNotFound)};var h}({...e,requestAttempt:t,environment:l,intl:u,currentUserId:v})),[l,u,e,v]),w=(0,r.useCallback)((()=>B(t)),[t]),k=(0,r.useCallback)((()=>q(n)),[n]),P=(0,i().Kw)(t);return d?(0,M.jsx)(y().Z,{menuType:h().o.Modal,whiteBackground:!0,title:V(e.type),left:E(),onClickLeft:k,right:(0,M.jsx)(a()._H,{id:"requestAccessForm.mobileSend.label",defaultMessage:"Send"}),onClickRight:w,children:(0,M.jsx)(j().Z,{debugName:"RequestAccessForm",capture:!0,children:(0,M.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"stretch",alignItems:"stretch",width:"100%",height:"100%"},children:(0,M.jsx)(b().Z,{request:P,performRequest:S,render:p})})})}):(0,M.jsx)(j().Z,{debugName:"RequestAccessForm",capture:!0,children:(0,M.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-evently",alignItems:"stretch",padding:"20px 28px 24px",width:"340px"},children:[(0,M.jsx)(b().Z,{request:P,performRequest:S,render:p}),(0,M.jsx)(_().Z,{onClick:k,children:E()})]})})}function R(e){const{type:t,flowId:o,buttonType:n}=e,l=(0,s().O7)(),d="outline"===n?_().Z:w().Z,[u,p]=(0,r.useState)(!1),[f,h]=(0,r.useState)(!1),x={attributes:{add_permissions_on_approval:!1,role:(0,i().VK)((()=>(0,v().QM)()),[])?"reader":"read_and_write"},message:void 0};let b;"page"===t?b={...x,type:"current-actor-to-block",block:{id:e.block.id,spaceId:e.block.spaceId}}:"collection"===t?b={...x,type:"current-actor-to-collection",collection:{id:e.collection.id,spaceId:e.collection.spaceId}}:(0,c().t1)(t);const j=(0,r.useCallback)((async()=>{var e;const r=await m().callApi({eventName:"requestAccess",environment:l,data:b});"success"===r.type&&r.data.request?(p(!0),g().dU(l,{request_access_type:t,previous_access_level:"none",requested_access_level:"read_and_write",flow_id:o,requestId:r.data.requestId})):"failed"===r.type&&"UserRateLimitResponse"===(null===(e=r.body)||void 0===e?void 0:e.name)&&h(!0)}),[l,b,t,o]);return(0,M.jsx)(d,{isLarge:!0,disabled:u||f,disabledFeedback:u||f,onClick:j,children:u?(0,M.jsx)(a()._H,{id:"fullPageError.requestAccessButton.edit.Requested",defaultMessage:"Requested access"}):f?(0,M.jsx)(a()._H,{id:"fullPageError.requestAccessButton.edit.TryAgain",defaultMessage:"Try again later"}):V("page"===t?"current-actor-to-block":"current-actor-to-collection")})}function V(e){return"current-actor-to-space-via-block"===e?(0,M.jsx)(a()._H,{defaultMessage:"Request membership",id:"requestAccessForm.requestAccessToSpaceButton.title"}):(0,M.jsx)(a()._H,{defaultMessage:"Request access",id:"requestAccessForm.requestAccessButton.title"})}},143234:(e,t,o)=>{o.r(t),o.d(t,{PageError:()=>ze,PageError404:()=>Tt,PageErrorDivider:()=>Ge,getPageWrapperStyle:()=>et});o(267602),o(916054),o(470928);var r=o(667294),s=()=>o(146947),i=()=>o(219727),n=()=>o(142735),a=()=>o(846550),l=()=>o(506347),c=()=>o(714230),d=()=>o(799891),u=()=>o(998411),g=()=>o(836273),p=()=>o(282017),m=()=>o(467171),f=()=>o(788860),h=()=>o(568017),x=()=>o(707513),v=()=>o(491927),b=()=>o(438793),j=()=>o(510161),S=()=>o(146630),y=()=>o(231077),_=()=>o(418216),w=()=>o(13382),M=()=>o(508383),k=()=>o(47443),P=()=>o(752127),I=()=>o(497065),E=()=>o(224597),A=()=>o(358414),T=()=>o(663366),C=()=>o(306743),D=()=>o(937419),B=()=>o(886123),q=()=>o(718959),H=()=>o(247724),Z=()=>o(527278),R=()=>o(148126),V=()=>o(345918),N=()=>o(323342),F=()=>o(676425),L=o(785893);const W=(0,o(827282).IU)("googlePlay",{viewBox:"0 0 14 14",svg:(0,L.jsx)("path",{d:"M3.41741,13.7929001 L13.0843,8.42241009 C14.2002,7.80245009 14.2002,6.19755009 13.0843,5.57759009 L3.41741,0.207109087 C2.33284,-0.395426913 1,0.388821087 1,1.62952009 L1,12.3705001 C1,13.6112001 2.33284,14.3954001 3.41741,13.7929001 Z"})});var O=()=>o(965910),K=()=>o(487706),U=()=>o(371873),z=()=>o(739479),Y=()=>o(341691),G=()=>o(302447),J=()=>o(347390),X=()=>o(772327),$=()=>o(158177),Q=()=>o(594723),ee=()=>o(274328),te=()=>o(210673),oe=()=>o(291550),re=()=>o(279174),se=()=>o(741636),ie=()=>o(686350),ne=()=>o(707138),ae=()=>o(845465),le=()=>o(681832),ce=()=>o(793935),de=()=>o(853249),ue=()=>o(998901),ge=()=>o(876822),pe=()=>o(183211),me=()=>o(804217),fe=()=>o(972218),he=()=>o(725751),xe=()=>o(749826),ve=()=>o(257934),be=()=>o(148882),je=()=>o(350974),Se=()=>o(56810),ye=()=>o(482162),_e=()=>o(885414),we=()=>o(897257),Me=()=>o(431041),ke=()=>o(154186),Pe=()=>o(666414),Ie=()=>o(573357),Ee=()=>o(108714),Ae=()=>o(729775),Te=()=>o(661297),Ce=()=>o(92175),De=()=>o(906651),Be=()=>o(943620),qe=()=>o(67961),He=()=>o(837600),Ze=()=>o(323107),Re=()=>o(765513),Ve=()=>o(251932),Ne=()=>o(441305),Fe=()=>o(184495);function Le(e){let{canRequestAccess:t,pageTitle:o,inSudoModeAndInTrash:r}=e;return t?r?o?(0,L.jsx)(f()._H,{id:"fullPageError.canReqestAccess.inTrash.titleWithPageName",defaultMessage:"No access to {pageTitle} in Trash",values:{pageTitle:o}}):(0,L.jsx)(f()._H,{id:"fullPageError.canRequestAccess.inTrash.title",defaultMessage:"No access to this page in Trash"}):o?(0,L.jsx)(f()._H,{id:"fullPageError.canRequestAccess.titleWithPageName",defaultMessage:"No access to {pageTitle}",values:{pageTitle:o}}):(0,L.jsx)(f()._H,{id:"fullPageError.canRequestAccess.title",defaultMessage:"No access to this page"}):(0,L.jsx)(f()._H,{id:"fullPageError.noAccess.title",defaultMessage:"Page not found"})}const We={fontWeight:x().Ue.bold},Oe={display:"flex",justifyContent:"center",marginBottom:16,marginTop:16,flexWrap:"wrap",zIndex:1},Ke={width:14,height:14,marginRight:6,flexShrink:0},Ue={maxWidth:300};function ze(e){let{route:t,publicPageData:o,shouldRedirectFromHome:s}=e;const a=(0,i().O7)(),c=$e(a),d=(0,n().qz)(void 0,je().Z),u=(0,n().qz)(void 0,_e().Z),g=(0,n().qz)(void 0,ve().ZP),m=(0,n().qz)(void 0,oe().Z),f=(0,n().qz)(void 0,re().Z),h=(0,r.useRef)(!1),x=(0,n().VK)((()=>d.state.flowId),[d]),v=(0,n().VK)((()=>{var e;return null===(e=ge().default.state.mainEditorCurrentBlockStore)||void 0===e?void 0:e.id}),[]),b=(0,n().VK)((()=>{var e;return(null===(e=ge().default.state.mainEditorCurrentBlockStore)||void 0===e?void 0:e.isPlaceholderWorkflowTemplateBlock())??!1}),[]),j=(0,n().VK)((()=>d.state.didPerformAction),[d]),S=(0,n().VK)((()=>!me().default.state.online),[]),w=(0,n().VK)((()=>{var e;const{mainEditorCurrentBlockStore:t}=ge().default.state;return null==t||null===(e=t.getModel())||void 0===e?void 0:e.isNonverifiedContentClassification()}),[]);(0,r.useEffect)((()=>{ye().default.state.open&&M().E(ye().default.state.presenceStore,a,Se().jx,ye().default.state.targetStore),M().E(ge().default.state.presenceStore,a,Se().$g,ge().default.state.mainEditorCurrentBlockStore),ce().cancelSidebarInitialRenderLog()}),[a]),(0,r.useEffect)((()=>{if(!h.current&&(h.current=!0,_().setInitialRenderCompleted(),s&&async function(e){let{environment:t,flowId:o}=e;const r=ge().default.state.currentSpaceViewStore;if(!r)return;Qe("invalid_home_block",o,t);const s=await(0,V().rg)(t,r);s&&k()._c({environment:t,store:s,openInNew:void 0,templateGalleryItem:void 0,projectManagementLaunch:!1,pageVisitSource:l().tY.PersonalHomeErrorRedirect})}({environment:a,flowId:x}),$e(a)||(0,p().gi)(window.location.href),a.device.isElectron||a.mobileNative)){const e=null==o?void 0:o.requireInterstitial;if(e){const t=e+window.location.hash;P().D({environment:a,url:t}),R().NW(a)?I().op(a):y().closeTab()}}}),[a,x,null==o?void 0:o.requireInterstitial,s]);const E=(0,n().VK)((()=>ge().default.state.currentSpaceStore),[]);return(0,r.useEffect)((()=>{A().i({environment:a,sudoModeStore:u,pageBlockId:v,currentSpaceStore:E})}),[a,v,u,E]),j?null:S?(0,L.jsx)(ht,{store:d,sudoModeStore:u,loginModalStore:m,loginStore:f}):"teamsInvite"===t.name&&c?(0,L.jsx)(It,{publicPageData:o,route:t,store:d,sudoModeStore:u,inviteTargetsStore:g,loginModalStore:m,loginStore:f,data:o,source:"teamsInvite",canJoinSpace:!0}):"initiateExternalAuthenticationFromDesktop"===t.name?(0,L.jsx)(_t,{route:t,store:d,sudoModeStore:u,loginModalStore:m,loginStore:f}):b?(0,L.jsx)(Tt,{route:t,store:d}):o?o&&"onboarding"===t.name?(0,L.jsx)(It,{publicPageData:o,route:t,store:d,sudoModeStore:u,inviteTargetsStore:g,loginModalStore:m,loginStore:f,data:o,source:"onboarding",canJoinSpace:!1}):null!=o&&o.spaceName?w&&o.requireInterstitial?(0,L.jsx)(Tt,{route:t,store:d}):o.requireInterstitial?(0,L.jsx)(xt,{href:o.requireInterstitial+window.location.hash,urlToDisplay:o.requireInterstitial,store:d}):w?(0,L.jsx)(yt,{route:t,store:d}):c?(0,L.jsx)(Ct,{route:t,publicPageData:o,pageErrorStore:d,sudoModeStore:u,inviteTargetsStore:g,loginModalStore:m,loginStore:f}):(o.requireLogin,(0,L.jsx)(jt,{store:d,data:o})):(0,L.jsx)(Tt,{route:t,store:d}):(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(Xe,{}),(0,L.jsx)(de().Z,{skipFadeinDelay:!0})]})}function Ye(){return(0,K().C)({width:50,height:50,marginBottom:16})}function Ge(){return(0,L.jsx)(Pe().Z,{size:48,innerStyle:{maxWidth:280}})}function Je(e){let{inviteeEmail:t}=e;return t?(0,L.jsx)(f()._H,{id:"signupPage.subtitle.invitationVersion",defaultMessage:"Please check {invitee_email} for your temporary login code.",values:{invitee_email:(0,L.jsx)("b",{children:t})}}):null}function Xe(){const e=(0,i().Fy)(),{isShowingTabBar:t,isFullscreen:o}=(0,n().VK)((()=>({isShowingTabBar:he().default.state.isShowingTabBar,isFullscreen:pe().Z.state.isFullScreen})),[]);return!e.isElectron||t||o?null:(0,L.jsx)("div",{className:H().pMC,style:{width:"100%",height:m().R6(e.isElectronMac),position:"absolute",top:0,left:0}})}function $e(e){return!!e.currentUser.id}function Qe(e,t,o){b().AM(o,{type:e,flow_id:t})}function et(e){const{device:t}=e;return{width:"100vw",paddingLeft:t.isMobile?16:30,paddingRight:t.isMobile?16:30,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}}function tt(e){const{device:t}=e;return{width:"100vw",paddingLeft:t.isMobile?16:30,paddingRight:t.isMobile?16:30,display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",paddingTop:t.isTablet?"20vh":"12vh"}}function ot(){const e=(0,i().O7)(),{isMobile:t,isElectronMac:o,isElectron:r}=e.device,{isShowingTabBar:s,isFullscreen:a}=(0,n().VK)((()=>({isShowingTabBar:he().default.state.isShowingTabBar,isFullscreen:pe().Z.state.isFullScreen})),[]);return(0,L.jsxs)("div",{style:{display:"flex",alignItems:"center",paddingTop:!r||s||a?20:m().R6(o),maxWidth:1300,paddingLeft:20,paddingRight:20},children:[(0,K().C)({width:t?28:30,height:t?28:30,marginRight:10,flexShrink:0}),(0,L.jsx)("div",{style:{fontWeight:x().Ue.medium,fontSize:16},children:"Notion"})]})}function rt(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{device:r}=e;return{fontSize:r.isMobile?18:20,marginBottom:10,textAlign:"center",color:t.regularTextColor,fontWeight:500,maxWidth:350,...o}}function st(e){let{environment:t,currentRoute:o}=e;return(0,r.useEffect)((()=>{I().c4({environment:t,url:`/home?p=${o.peekViewBlockId}&pm=${o.peekMode}`})}),[t,o]),null}function it(e){let{isElectron:t,publicPageData:o,showInvitationVersion:r,inviterName:n,greetingStyle:l,iconBoxInitialStyle:c,trustedDomain:d,isImproveLoggedOutLandingExpDesktopEnabled:u,isImproveLoggedOutLandingExpMobileEnabled:g}=e;const p=(0,a().Fg)(),m=(0,i().O7)(),h=(0,f().YB)(),v=Boolean(d)&&"none"===o.publicAccessRole,b=vt();return(0,L.jsxs)(L.Fragment,{children:[t&&(0,L.jsx)(He().Z,{title:h.formatMessage({defaultMessage:"Log in",id:"errorPage.loggedOutWorkspace.title"})}),r?(0,L.jsx)("div",{style:{fontSize:28,fontWeight:700,maxWidth:358,letterSpacing:.364,lineHeight:1.2,textAlign:"center",fontFamily:x().F5(s().locale).sans},children:n?(0,L.jsx)("div",{children:(0,L.jsx)(f()._H,{id:"signupPage.title.showInvitationVersion",defaultMessage:"Verify your email to accept {inviter_name}'s invite",values:{inviter_name:n}})}):(0,L.jsx)("div",{children:(0,L.jsx)(f()._H,{id:"signupPage.title.showInvitationVersion.noInviterName",defaultMessage:"Verify your email to accept the invite"})})}):(0,L.jsxs)(L.Fragment,{children:[!g&&(0,L.jsx)(Ne().Z,{type:Ne().i.NoAccess,publicPageData:o,iconBoxInitialStyle:c}),(0,L.jsx)("div",{style:g?b.titleWrapper:rt(m,p,l),children:v?(0,L.jsx)(f()._H,{id:"fullPageError.domainSharingPage.message",defaultMessage:"Sign in to view this shared page"}):u?(0,L.jsx)(f()._H,{id:"fullPageError.improveLoggedOutLandingExp.message",defaultMessage:"Sign in to see this page in {workspaceName}",values:{workspaceName:o.spaceName}}):g?(0,L.jsx)("div",{style:b.title,children:(0,L.jsx)(f()._H,{id:"fullPageError.improveLoggedOutLandingExp.message",defaultMessage:"Sign in to see this page in {workspaceName}",values:{workspaceName:o.spaceName}})}):(0,L.jsx)(f()._H,{id:"fullPageError.loggedOut.message",defaultMessage:"Welcome to {workspaceName} on Notion.",values:{workspaceName:(0,L.jsx)("span",{style:We,children:o.spaceName})}})})]})]})}function nt(e){C().j_({environment:e,from:"page_error"})}function at(){const e=(0,i().O7)();return(0,L.jsx)("div",{style:Oe,children:(0,L.jsx)(qe().Z,{isSmall:!0,isSecondaryColor:!0,isMultiline:!1,style:{textAlign:"center",marginBottom:18,maxWidth:440},children:(0,L.jsxs)("div",{style:{display:"flex"},children:[(0,L.jsx)(f()._H,{id:"fullPageError.somethingWrong.label",defaultMessage:"Something wrong?"}),(0,L.jsx)(Ee().Z,{onClick:()=>nt(e),style:{textDecoration:"underline",paddingLeft:"4px"},children:(0,L.jsx)(f()._H,{id:"fullPageError.reportAProblem.label",defaultMessage:"Report a problem"})})]})})})}function lt(e){let{buttonStyles:t={}}=e;const o=(0,i().O7)();return(0,L.jsxs)("div",{style:Oe,children:[(0,L.jsx)(Ee().Z,{href:"https://www.notion.com/product",external:!0,children:(0,L.jsxs)(Ce().Z,{isGray:!0,...t,children:[(0,O().h)({width:16,height:16,marginRight:8}),(0,L.jsx)(f()._H,{id:"fullPageError.whatIsNotionButton.label",defaultMessage:"What is Notion?"})]})}),(0,L.jsx)(Ce().Z,{onClick:()=>nt(o),...t,style:{marginLeft:4,...t.style},isGray:!0,children:(0,L.jsx)(f()._H,{id:"fullPageError.sendMessageButton.label",defaultMessage:"Message support"})}),(0,L.jsx)(Ee().Z,{href:g()._j.termsAndPrivacy,external:!0,style:{marginLeft:4},children:(0,L.jsx)(Ce().Z,{isGray:!0,...t,children:(0,L.jsx)(f()._H,{id:"fullPageError.termsAndPrivacyButton.label",defaultMessage:"Terms"})})})]})}function ct(e){let{sudoModeStore:t}=e;const o=(0,a().Fg)(),r=(0,n().VK)((()=>t.shouldUserHaveAccessToPrivatePageBlock()),[t]),s=(0,n().Kw)(t);return r&&s.privatePageStore&&!s.changePermissionsEnabled?(0,L.jsxs)("div",{style:{background:o.cardBackground,borderRadius:4,padding:18,margin:24,width:400},children:[(0,L.jsx)(qe().Z,{isMultiline:!0,style:{textAlign:"center"},children:(0,L.jsx)(f()._H,{id:"fullPageError.workspaceOwner.canChangePermissionsMessage",defaultMessage:"As a <b>workspace owner</b>, you can change the permissions of this page to add yourself or others. Any changes will appear in the audit log.",values:{b:function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return(0,L.jsx)("b",{children:t})}}})}),(0,L.jsxs)(Te().Z,{style:{fontWeight:x().Ue.medium,justifyContent:"center",margin:"18px auto 12px"},onClick:()=>t.setState({...t.state,changePermissionsEnabled:!0}),children:[(0,U().I)({width:16,height:16,marginRight:6}),(0,L.jsx)(f()._H,{id:"fullPageError.workspaceOwner.canChangePermissionsMessageButton",defaultMessage:"Change permissions"})]})]}):null}function dt(e){let{sudoModeStore:t,inviteTargetsStore:o}=e;const r=(0,a().Fg)(),s=(0,n().VK)((()=>t.shouldUserHaveAccessToPrivatePageBlock()),[t]),i=(0,n().Kw)(t);return s&&i.privatePageStore&&i.changePermissionsEnabled?(0,L.jsx)("div",{style:{textAlign:"left",borderRadius:4,background:r.modalBackground,position:"relative",boxShadow:r.mediumBoxShadow,width:ae().SD,margin:"24px auto"},children:(0,L.jsx)(B()._,{store:i.privatePageStore,sudoModeStore:t,inviteTargetsStore:o,location:"no_access_page",onClose:()=>le().default.reset()})}):null}function ut(e){let{sudoModeStore:t,loginModalStore:o,loginStore:s,trustedDomain:l,hideChangePermissions:c}=e;const d=(0,a().Fg)(),u=(0,i().O7)(),p=(0,n().VK)((()=>(0,q().B7)(u)),[u]),m=be().transactionQueue.hasTasks(),h=(0,n().VK)((()=>ge().default.state.mainEditorCurrentBlockStore),[]),x=(0,n().VK)((()=>t.shouldUserHaveAccessToPrivatePageBlock()),[t]),v=(0,n().VK)((()=>null==p?void 0:p.getEmail()),[p]);let b;return(0,r.useEffect)((()=>{h&&S()._S({environment:u,store:h})}),[u,h]),b=m?(0,L.jsx)(qe().Z,{isSmall:!0,isMultiline:!0,style:{marginTop:4},children:(0,L.jsx)(f()._H,{id:"fullPageError.sendMessageForHelp.message",defaultMessage:"<sendmessagelink>Message support</sendmessagelink> for help.",values:{sendmessagelink:e=>(0,L.jsx)(Re().Z,{onClick:()=>nt(u),children:e})}})}):(0,L.jsx)(qe().Z,{isSmall:!0,isMultiline:!0,style:{marginTop:4},children:(0,L.jsx)(f()._H,{id:"fullPageError.wrongAccountRequestAccess.message",defaultMessage:"You might need to <loginlink>log in</loginlink> with a different email.",values:{loginlink:e=>Q().kH(u)?(0,L.jsxs)(Re().Z,{onClick:()=>{o.setState({open:!0})},children:[e,(0,L.jsx)(X()._,{loginModalStore:o,loginStore:s,title:(0,L.jsx)(f()._H,{id:"sidebarSwitcherMultiAccount.addAccount.title",defaultMessage:"Add an account"}),description:(0,L.jsx)(f()._H,{id:"sidebarSwitcherMultiAccount.addAccount.description",defaultMessage:"Use an existing account, or sign up with a new email. Your current account will remain logged in."}),className:H().zYS,trustedDomain:l})]}):(0,L.jsx)(Re().Z,{href:g()._j.logout,onClick:()=>Y().logout(u),children:e})}})}),(0,L.jsxs)("div",{style:{textAlign:"center"},children:[x&&!Boolean(c)?(0,L.jsx)(ct,{sudoModeStore:t}):(0,L.jsx)(Ge,{}),(0,L.jsx)(qe().Z,{isSmall:!0,isMultiline:!0,style:{marginTop:4},children:(0,L.jsx)(f()._H,{id:"fullPageError.wrongLoggedInUserError.message",defaultMessage:"You're currently logged in as {currentlyLoggedInUser}",values:{currentlyLoggedInUser:(0,L.jsx)("span",{style:{color:d.regularTextColor},children:v})}})}),b]})}function gt(e){const t=e.state.privatePageStore;if(!e.shouldUserHaveAccessToPrivatePageBlock()||!t)return;const o=t.getModel();if(!o)return;const r=o.getRenderTitleWithPlaceholder({getRecordModel:t.getRecordModel,userTimeZone:(0,u().r)(),intl:Z().Z.getIntl()}),s=o.getRenderIcon({getRecordModel:t.getRecordModel});return(0,L.jsxs)(L.Fragment,{children:[s&&(0,L.jsx)(Be().Z,{isEmptyPage:!0,disabled:!0,icon:s,size:24,style:{display:"inline-block",marginRight:4}}),r&&(0,L.jsx)("span",{children:r})]})}function pt(e){let{sudoModeStore:t}=e;const o=(0,a().Fg)(),r=(0,i().O7)(),s=(0,n().VK)((()=>gt(t)),[t]),l=(0,n().VK)((()=>{var e;return null===(e=ge().default.state.currentSpaceStore)||void 0===e?void 0:e.getName()}),[]);return(0,L.jsxs)("div",{style:{background:o.cardBackground,borderRadius:4,padding:18,margin:"24px auto 0",width:400},children:[(0,L.jsx)("div",{style:{...rt(r,o),fontWeight:x().Ue.semibold,marginBottom:6},children:s?(0,L.jsx)(f()._H,{id:"fullPageError.changePermissions.titleWithPageName",defaultMessage:"Change permissions for {pageTitle}",values:{pageTitle:s}}):(0,L.jsx)(f()._H,{id:"fullPageError.changePermissions.title",defaultMessage:"Change permissions for this page"})}),(0,L.jsx)(qe().Z,{isMultiline:!0,style:{textAlign:"center"},children:l?(0,L.jsx)(f()._H,{id:"fullPageError.workspaceOwner.changePermissions.descriptionWithSpaceName",defaultMessage:"As a workspace owner for <b>{spaceName}</b>, you can change the permissions of this page.",values:{b:function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return(0,L.jsx)("b",{children:t})},spaceName:l}}):(0,L.jsx)(f()._H,{id:"fullPageError.workspaceOwner.changePermissions.description",defaultMessage:"As an owner of this workspace, you can change the permissions of this page.",values:{b:function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return(0,L.jsx)("b",{children:t})}}})})]})}function mt(e){let{data:t,sudoModeStore:o,inSudoModeAndInTrash:r}=e;const s=(0,a().Fg)(),l=(0,i().O7)(),c=(0,n().VK)((()=>gt(o)),[o]),d=Boolean(t.canRequestAccess);return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("div",{children:Ye()}),(0,L.jsx)("div",{style:{...rt(l,s),fontWeight:x().Ue.semibold,marginBottom:6},children:(0,L.jsx)(Le,{canRequestAccess:d,pageTitle:c,inSudoModeAndInTrash:r})}),(0,L.jsx)("div",{style:{...rt(l,s),color:s.mediumTextColor,fontWeight:x().Ue.regular,lineHeight:1.4},children:d?r?(0,L.jsx)(f()._H,{id:"fullPageError.pageInTrash.message",defaultMessage:"As a <bold>workspace owner</bold>, you can restore this page to update access to it",values:{bold:e=>(0,L.jsx)("b",{children:e}),br:(0,L.jsx)("br",{})}}):(0,L.jsx)(f()._H,{id:"fullPageError.canRequestAccess.message",defaultMessage:"You can access this page if someone approves your request."}):(0,L.jsx)(f()._H,{id:"fullPageError.cannotRequestAccess.message",defaultMessage:"You don't have permission to access this page."})})]})}function ft(e){const{publicPageData:t,environment:o,flowId:r,store:s,skipClickLogging:i}=e;s.setState({...s.state,didPerformAction:!0}),i||b().zX(o,{button_name:"join-workspace",flow_id:r});const{currentUserRootStore:n,currentUserSettingsStore:a}=ge().default.state;if(n&&a&&t.spaceId){const e=t.spaceId;E().j({environment:o,userRootStore:n,spaceId:e,navigate:!0,analyticsFrom:"page_error",userSettingsStore:a})}}function ht(e){let{store:t,sudoModeStore:o,loginModalStore:s,loginStore:n}=e;const l=(0,a().Fg)(),c=(0,i().O7)();return(0,r.useEffect)((()=>{Qe("offline",t.state.flowId,c),v().DC(c,{type:"page_error"})}),[t,c]),(0,L.jsxs)("div",{style:et(c),children:[(0,L.jsx)(Xe,{}),(0,L.jsxs)("div",{style:rt(c,l),children:[(0,L.jsx)(f()._H,{id:"fullPageError.offlineError.message",defaultMessage:"Oops, you seem to be offline. Please go online to view this page."}),(0,L.jsx)(ut,{sudoModeStore:o,loginModalStore:s,loginStore:n})]})]})}function xt(e){let{href:t,urlToDisplay:o,store:s}=e;const n=(0,a().Fg)(),l=(0,i().O7)();return(0,r.useEffect)((()=>Qe("incorrect_domain_interstitial_block",s.state.flowId,l)),[s,l]),(0,L.jsxs)("div",{style:{position:"relative",height:"100%",width:"100%"},children:[(0,L.jsxs)("div",{style:{...et(l),height:"100%"},children:[(0,L.jsx)(Xe,{}),(0,L.jsx)("div",{style:{...rt(l,n),maxWidth:"240px"},children:(0,L.jsx)(f()._H,{id:"fullPageError.publicDomainInterstitial.title",defaultMessage:"Continue to external site by following the link below"})}),(0,L.jsx)(qe().Z,{isSmall:!1,isSecondaryColor:!0,isMultiline:!0,style:{textAlign:"center",marginBottom:18,maxWidth:440},children:(0,L.jsx)(Ee().Z,{href:t,external:!1,style:{textDecoration:"underline",color:h().ZP.blue,overflowWrap:"anywhere"},children:o})}),(0,L.jsxs)(Ve().gq,{gap:8,children:[(0,L.jsx)(Te().Z,{onClick:()=>{d().log({level:"info",from:"PageError",type:"incorrectDomainInterstitial",data:{miscDataToConvertToString:{action:"navigateBack",canGoBack:R().NW(l)}}}),R().NW(l)?I().op(l):I().c4({environment:l,url:"/home"})},children:(0,L.jsx)(f()._H,{id:"PageError.IncorrectDomainInterstitialButton.back.label",defaultMessage:"Go back"})}),(0,L.jsx)(Ce().Z,{isLightGray:!0,onClick:()=>{d().log({level:"info",from:"PageError",type:"incorrectDomainInterstitial",data:{miscDataToConvertToString:{action:"navigateHome"}}}),I().c4({environment:l,url:"/home"})},children:(0,L.jsx)(f()._H,{id:"PageError.IncorrectDomainInterstitialButton.home.label",defaultMessage:"Take me Home"})})]})]}),(0,L.jsx)("div",{style:{position:"fixed",width:"100%",bottom:0},children:(0,L.jsx)(at,{})})]})}function vt(){return(0,a().yK)((()=>({wrapper:{paddingTop:0,justifyContent:"start",paddingLeft:20,paddingRight:20},titleWrapper:{width:"100%",maxWidth:353},title:{maxWidth:"75%",fontSize:22,lineHeight:"28px",fontWeight:x().Ue.semibold},loginAction:{maxWidth:353},img:{height:239,marginBottom:10}})),[])}function bt(e){const t=(0,a().yK)((t=>{const o=e.themeOverride??t;return{backgroundImg:{position:"absolute",top:230,WebkitMask:"linear-gradient(to bottom, rgba(0,0,0,1) 50%, rgba(0,0,0,0) 100%)",zIndex:0},wrapper:{boxShadow:o.mediumBoxShadow,zIndex:1,border:`1px ${o.stroke.primary}`,background:o.modalBackground,borderRadius:20,display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",padding:40},loginDisclaimer:{color:o.text.secondary,maxWidth:400}}}),[e.themeOverride]);return e.isEnabled?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("img",{src:c().Z.images.onboarding.skeletonPageSvg,style:t.backgroundImg}),(0,L.jsx)("div",{style:t.wrapper,children:e.children}),(0,L.jsx)(J().E,{style:t.loginDisclaimer,themeOverride:e.themeOverride})]}):(0,L.jsx)(L.Fragment,{children:e.children})}function jt(e){var t;let{data:o,store:s}=e;const l=(0,a().Fg)(),d=(0,i().O7)(),{device:u}=d,{inviteeEmail:m,inviterName:x,showInvitationVersion:v}=(0,n().VK)((()=>{const{inviteeEmail:e,inviterName:t}=te().default.state;return{inviteeEmail:e,inviterName:t,showInvitationVersion:ee().Z.isTemporaryPasscode()&&e===ee().Z.state.email}}),[]),b=(0,h().gh)({theme:"light"}),j=null!==(t=o.trustedDomains)&&void 0!==t&&t.length&&"none"===o.publicAccessRole?o.trustedDomains[0]:void 0;(0,r.useEffect)((()=>{Qe("team_login",s.state.flowId,d),(0,p().Ko)(window.location.href)}),[s,d]);const S=(0,n().VK)((()=>!(u.isMobile||u.isElectron||v)&&(!!j||"on"===xe().default.getEligibleGroup({experimentId:"improve_logged_out_landing_exp_desktop",defaultGroup:"control"}))),[u.isElectron,u.isMobile,v,j]),y=(0,n().VK)((()=>!(!u.isMobile||v)&&"on"===xe().default.getEligibleGroup({experimentId:"improve_logged_out_landing_exp_mobile",defaultGroup:"control"})),[u.isMobile,v]),_=vt(),w=(0,n().VK)((()=>({...tt(d),...S&&{paddingTop:"5vh"},...y&&_.wrapper})),[d,S,y,_]),M=(0,n().VK)((()=>ee().Z.isMfa()),[]);return(0,L.jsx)(Ie().Z,{capture:!0,render:e=>(0,L.jsx)(Ze().Z,{analyticsName:"team_login",hideNavItems:!0,hideNotificationBanner:!0,...y&&{hideLogo:!1,hideNotionText:!1},children:(0,L.jsxs)("div",{style:w,...e,children:[(0,L.jsxs)(bt,{isEnabled:S,themeOverride:b,children:[(0,L.jsx)(it,{isElectron:d.device.isElectron,publicPageData:o,showInvitationVersion:v,inviterName:x,greetingStyle:{color:b.regularTextColor,overflow:"hidden",textOverflow:"ellipsis"},iconBoxInitialStyle:{background:b.regularDividerColor,color:b.mediumTextColor},trustedDomain:j,isImproveLoggedOutLandingExpDesktopEnabled:S,isImproveLoggedOutLandingExpMobileEnabled:y}),y&&(0,L.jsx)("img",{src:c().Z.images.onboarding.mobilePlaceholderSvg,style:_.img}),m&&v?(0,L.jsx)("div",{style:{fontSize:"18px",fontWeight:400,width:"100%",maxWidth:358,textAlign:"center",color:"#535353",lineHeight:"145.34%",opacity:.78,marginBottom:24},children:(0,L.jsx)(Je,{inviteeEmail:m})}):null,M?(0,L.jsx)($().Z,{loginStore:ee().Z}):(0,L.jsx)(G().ZP,{emailLabelType:"email",style:{...Ue,...y&&_.loginAction},emailPasscodePlaceholderType:v?"paste_code":"enter_code",emailInputAutoFocus:!0,from:"pageError",loginStore:ee().Z,showInvitationVersion:v,isSignup:v,themeOverride:b,trustedDomain:j,disableDisclaimer:S,isImproveLoggedOutLandingExpMobileEnabled:y,isSmallScreen:y})]}),!y&&u.isMobile&&!u.isMobileNative&&!v&&(0,L.jsxs)(r.Fragment,{children:[(0,L.jsx)("div",{style:{height:1,width:"100vw",background:l.regularDividerColor,marginTop:36,marginBottom:36}}),(0,L.jsxs)(De().Z,{style:{width:280},isLarge:!0,onClick:()=>{I().RX({url:window.location.href,environment:d})},children:[u.isIOS?(0,F().o)(Ke):W(Ke),(0,L.jsx)(f()._H,{id:"fullPageError.openInMobileAppButton.label",defaultMessage:"Open in mobile app"})]}),(0,L.jsx)(Ae().Z,{href:u.isIOS?g()._j.appStore:g()._j.playStore,external:!0,innerStyle:{marginTop:16},children:(0,L.jsx)(qe().Z,{isSmall:!0,style:{textDecoration:"underline",fontSize:14,color:b.mediumTextColor},children:(0,L.jsx)(f()._H,{id:"fullPageError.downloadMobileAppButton.label",defaultMessage:"Get mobile app"})})})]}),(0,L.jsx)(lt,{buttonStyles:{iconStyle:{fill:b.mediumTextColor},style:{color:b.mediumTextColor},pressedStyle:{background:b.buttonPressedBackground}}})]})})})}function St(e){let{color:t,canJoinSpaceWithData:o,route:r,store:s}=e;const c=(0,a().Fg)(),d=(0,i().O7)(),u=(0,n().VK)((()=>{const{currentUserRootStore:e}=ge().default.state;return e&&0===e.getSpaceViewPointers().length}),[]),{isCreatingSpace:p,flowId:m}=(0,n().VK)((()=>{const{isCreatingSpace:e,flowId:t}=s.state;return{isCreatingSpace:e,flowId:t}}),[s]),h=(0,n().VK)((()=>{const{currentUserStore:e}=ge().default.state;return!(null!=e&&e.getOnboardingCompleted())}),[]),v=e=>"blue"===t?(0,L.jsx)(De().Z,{...e}):(0,L.jsx)(Te().Z,{backgroundColor:c.whiteButtonBackground,...e,style:{fontWeight:x().Ue.medium,height:"auto",...e.style}});return o?(0,L.jsx)(v,{isLarge:!0,onClick:()=>ft({publicPageData:o,environment:d,flowId:m,store:s}),children:(0,L.jsx)(f()._H,{id:"fullPageError.joinSpaceButton.label",defaultMessage:"Join the space"})}):"onboarding"===r.name||h?(0,L.jsx)(v,{isLarge:!0,onClick:()=>function(e,t){b().zX(e,{button_name:"back-to-onboarding",flow_id:t}),w().vq();const o=ne().default.state;o.isOnboarding?ie().n0(o)?se().I1(e,{type:"new-user",disableRedirectUrl:!0,source:"page_error"}):ie().y7(o)?se().I1(e,{type:"create-or-join",disableRedirectUrl:!0,source:"page_error"}):(ne().default.reset(),D().default.reset(),I().c4({environment:e,url:g()._j.root})):(ne().default.reset(),D().default.reset(),I().c4({environment:e,url:g()._j.root}))}(d,m),children:(0,L.jsx)(f()._H,{defaultMessage:"Back to onboarding",id:"fullPageError.returnToOnboardingButton.label"})}):u||p?(0,L.jsx)(v,{isLarge:!0,onClick:()=>async function(e,t,o){b().zX(e,{button_name:"create-account",flow_id:t});const{currentUserRootStore:r,currentUserStore:s}=ge().default.state;r&&s&&(o.setState({...o.state,isCreatingSpace:!0}),await se().xN(e),o.setState({...o.state,isCreatingSpace:!1}))}(d,m,s),disabled:p,children:(0,L.jsx)(f()._H,{id:"fullPageError.createOrJoinWorkspaceButton.label",defaultMessage:"Create or join a workspace"})}):(0,L.jsx)(v,{isLarge:!0,onClick:()=>function(e,t){if(b().zX(e,{button_name:"back-to-my-content",flow_id:t}),R().NW(e))return void I().op(e);const{currentUserRootStore:o,currentUserSettingsStore:r,currentSpaceViewStore:s}=ge().default.state;o&&r?s?E().y3({environment:e,spaceViewStore:s,userRootStore:o,userSettingsStore:r,pageVisitSource:l().tY.PageError,navigationType:"switchingToOrLoadingSpace"}):E().L5({environment:e,userRootStore:o,userSettingsStore:r,pageVisitSource:l().tY.PageError}):I().c4({environment:e,url:g()._j.root,redirect:!0})}(d,m),children:(0,L.jsx)(f()._H,{id:"fullPageError.backToMyContentButton.label",defaultMessage:"Back to my content"})})}function yt(e){let{route:t,store:o}=e;const s=(0,a().Fg)(),n=(0,i().O7)(),l=$e(n);return(0,r.useEffect)((()=>{Qe("content_classification_block",o.state.flowId,n)}),[n,o]),(0,L.jsxs)("div",{style:et(n),children:[(0,L.jsx)(Xe,{}),(0,L.jsx)(Ne().Z,{type:Ne().i.Unsafe}),(0,L.jsx)("div",{style:rt(n,s),children:(0,L.jsx)(f()._H,{id:"fullPageError.unsafePageError.title",defaultMessage:"This page has been flagged as unsafe"})}),(0,L.jsx)(qe().Z,{isSmall:!1,isSecondaryColor:!0,isMultiline:!0,style:{textAlign:"center",marginBottom:18,maxWidth:440},children:(0,L.jsx)(f()._H,{id:"fullPageError.unsafePageError.message",defaultMessage:"This page may contain spam, phishing, illegal, or inappropriate content. If you received this link from an unknown source, we suggest you to close this tab. <proceedanywaylink>Proceed anyway</proceedanywaylink>",values:{proceedanywaylink:e=>(0,L.jsx)(Re().Z,{onClick:()=>function(e){const{mainEditorCurrentBlockStore:t}=ge().default.state;t&&(fe().Z.bypassPage(t.id),b().ux(e))}(n),children:e})}})}),l&&(0,L.jsx)(St,{route:t,store:o,color:"blue"}),!l&&(0,L.jsx)(lt,{})]})}function _t(e){let{route:t,store:o,sudoModeStore:s,loginModalStore:l,loginStore:c}=e;const d=(0,a().Fg)(),u=(0,i().O7)(),{device:g}=u,p=$e(u);(0,r.useEffect)((()=>{Qe("oauth_no_access",o.state.flowId,u)}),[u,o]);const m=(0,n().VK)((()=>tt(u)),[u]);return(0,L.jsxs)("div",{children:[(0,L.jsx)(Xe,{}),(0,L.jsx)(ot,{}),(0,L.jsxs)("div",{style:{...m,marginTop:g.isMobile?0:"12vh",justifyContent:"start"},children:[(0,L.jsx)(Ne().Z,{type:Ne().i.NotFound}),(0,L.jsx)("div",{style:rt(u,d),children:(0,L.jsx)(f()._H,{id:"fullPageError.cannotRequestAccess.message",defaultMessage:"You don't have permission to access this page."})}),p&&(0,L.jsx)(St,{route:t,store:o,color:"blue"}),(0,L.jsx)(ut,{sudoModeStore:s,loginModalStore:l,loginStore:c})]})]})}function wt(e){let{publicPageData:t,sudoModeStore:o,inSudoModeAndInTrash:s,route:a,store:l}=e;const c=(0,n().VK)((()=>l.state.flowId),[l]),d=(0,i().O7)(),{spaceId:u,pageId:g}={...t},p=(0,r.useCallback)((async()=>{const{currentSpaceStore:e}=ge().default.state,t=o.state.privatePageStore;e&&t&&(await T().DV({environment:d,block:t,spaceId:t.pointer.spaceId||e.id,from:"page_error"}),o.reset())}),[o,d]);return t&&t.canRequestAccess&&u&&g?(0,L.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:8},children:[s?(0,L.jsx)(De().Z,{onClick:p,isLarge:!0,children:(0,L.jsx)(f()._H,{id:"fullPageError.pageInTrash.restoreButton",defaultMessage:"Restore page"})}):(0,L.jsx)(Fe().Z,{type:"current-actor-to-block",block:{id:g,spaceId:u},flowId:c}),(0,L.jsx)(St,{route:a,store:l,color:"white"})]}):(0,L.jsx)(St,{route:a,store:l,color:"blue"})}function Mt(e){let{route:t,store:o}=e;const r=(0,a().Fg)(),s=(0,i().O7)(),l=(0,n().VK)((()=>o.state.flowId),[o]);if("teamsInvite"!==t.name)return(0,L.jsx)(St,{route:t,store:o,color:"blue"});const{teamId:c}=t;return c?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("div",{style:{...rt(s,r),color:r.mediumTextColor,fontWeight:x().Ue.regular,lineHeight:1.4},children:(0,L.jsx)(f()._H,{id:"fullPageError.canRequestWorkspaceAccess.message",defaultMessage:"You can access this workspace if someone approves your request."})}),(0,L.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,L.jsx)("div",{children:(0,L.jsx)(Fe().Z,{type:"current-actor-to-space-via-team",teamId:c,flowId:l})}),(0,L.jsx)("div",{style:{width:10,height:10}}),(0,L.jsx)(St,{route:t,store:o,color:"white"})]})]}):(0,L.jsx)(St,{route:t,store:o,color:"blue"})}function kt(e){let{route:t,store:o,sudoModeStore:r,loginModalStore:s,loginStore:n,trustedDomain:l}=e;const c=(0,a().Fg)(),d=(0,i().O7)();return(0,L.jsxs)("div",{style:et(d),children:[(0,L.jsx)(Xe,{}),(0,L.jsx)("div",{children:Ye()}),(0,L.jsx)("div",{style:{...rt(d,c),fontWeight:x().Ue.semibold,marginBottom:6},children:(0,L.jsx)(f()._H,{id:"fullPageError.domainSharingPage.title",defaultMessage:"No access to this shared page"})}),(0,L.jsx)("div",{style:{...rt(d,c),color:c.mediumTextColor,fontWeight:x().Ue.regular,lineHeight:1.4,marginBottom:20},children:(0,L.jsx)(f()._H,{id:"fullPageError.domainSharingPage.messageV2",defaultMessage:"You can access this page by signing in to an account with a <b>@{trustedDomain}</b> email address.",values:{trustedDomain:l,b:e=>(0,L.jsx)("b",{children:e})}})}),(0,L.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,L.jsx)("div",{children:(0,L.jsxs)(De().Z,{isLarge:!0,onClick:()=>s.setState({open:!0}),children:[(0,L.jsx)(f()._H,{id:"fullPageError.domainSharingPage.login.",defaultMessage:"Log in"}),(0,L.jsx)(X()._,{loginModalStore:s,loginStore:n,title:(0,L.jsx)(f()._H,{id:"sidebarSwitcherMultiAccount.addAccount.title",defaultMessage:"Add an account"}),description:(0,L.jsx)(f()._H,{id:"sidebarSwitcherMultiAccount.addAccount.descriptionV2",defaultMessage:"Log in/sign up with a @makenotion.com email address. Your current account will remain logged in."}),className:"notion-space-settings",trustedDomain:l})]})}),(0,L.jsx)("div",{style:{width:10,height:10}}),(0,L.jsx)(St,{route:t,store:o,color:"white"})]}),(0,L.jsx)(ut,{sudoModeStore:r,loginModalStore:s,loginStore:n,trustedDomain:l})]})}function Pt(e){let{data:t,publicPageData:o,route:r,store:s,sudoModeStore:a,inviteTargetsStore:l,loginModalStore:c,loginStore:d}=e;const u=(0,i().O7)(),g=(0,n().VK)((()=>a.state.loading),[a]),p=(0,n().VK)((()=>a.shouldUserHaveAccessToPrivatePageBlock&&a.shouldUserHaveAccessToPrivatePageBlock()&&a.state.changePermissionsEnabled),[a]),m=(0,n().VK)((()=>a.shouldUserHaveAccessToPrivatePageBlock()),[a]),f=(0,n().VK)((()=>{if(!m||!xe().default.checkGate({gateName:"cdrr_deleted_from_trash_view"}))return!1;const e=a.state.privatePageStore;return!!e&&(e.pathHasDeletedPermission()&&!e.pathHasPurgedDeletedPermission())}),[a,m]),h=(0,n().VK)((()=>Boolean(a.state.privatePageStore&&a.state.privatePageStore.pathIsDead()&&xe().default.checkGate({gateName:"cdrr_deleted_from_trash_view"}))),[a]);return g?(0,L.jsx)(de().Z,{skipFadeinDelay:!0}):f?(0,L.jsxs)("div",{style:et(u),children:[(0,L.jsx)(Xe,{}),(0,L.jsx)(Bt,{isElectron:u.device.isElectron}),(0,L.jsx)(At,{sudoModeStore:a,route:r,store:s}),(0,L.jsx)(ut,{sudoModeStore:a,loginModalStore:c,loginStore:d,hideChangePermissions:!0})]}):(0,L.jsxs)("div",{style:et(u),children:[(0,L.jsx)(Xe,{}),(0,L.jsx)(Bt,{isElectron:u.device.isElectron}),p?(0,L.jsx)(pt,{sudoModeStore:a}):(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(mt,{sudoModeStore:a,data:t,inSudoModeAndInTrash:h}),(0,L.jsx)(wt,{publicPageData:o,sudoModeStore:a,inSudoModeAndInTrash:h,route:r,store:s})]}),m?(0,L.jsx)(dt,{sudoModeStore:a,inviteTargetsStore:l}):null,(0,L.jsx)(ut,{sudoModeStore:a,loginModalStore:c,loginStore:d,hideChangePermissions:h})]})}function It(e){const t=(0,a().Fg)(),o=(0,i().O7)(),{data:s,source:n,canJoinSpace:l,publicPageData:c,route:d,store:u,sudoModeStore:g,inviteTargetsStore:p,loginModalStore:m,loginStore:h}=e;if((0,r.useEffect)((()=>{"onboarding"===n?Qe("onboarding_error",u.state.flowId,o):"teamsInvite"===n?Qe("team_invite_no_access",u.state.flowId,o):s&&Qe("team_no_access",u.state.flowId,o)}),[n,s,u,o]),s){var x;const e=null!==(x=s.trustedDomains)&&void 0!==x&&x.length?s.trustedDomains[0]:void 0;return e?(0,L.jsx)(kt,{route:d,store:u,sudoModeStore:g,loginModalStore:m,loginStore:h,trustedDomain:e}):(0,L.jsx)(Pt,{publicPageData:c,route:d,store:u,sudoModeStore:g,inviteTargetsStore:p,loginModalStore:m,loginStore:h,data:s})}return(0,L.jsxs)("div",{style:et(o),children:[(0,L.jsx)(Xe,{}),(0,L.jsx)(Bt,{isElectron:o.device.isElectron}),(0,L.jsx)("div",{children:Ye()}),(0,L.jsx)("div",{style:rt(o,t),children:l?(0,L.jsx)(f()._H,{id:"fullPageError.notInWorkspace.message",defaultMessage:"You are not in this workspace."}):(0,L.jsx)(f()._H,{id:"fullPageError.accessNotAllowed.message",defaultMessage:"You do not have access to this page."})}),"teamsInvite"===n?(0,L.jsx)(Mt,{route:d,store:u}):(0,L.jsx)(St,{route:d,store:u,color:"blue",canJoinSpaceWithData:l?s:void 0}),(0,L.jsx)(ut,{sudoModeStore:g,loginModalStore:m,loginStore:h})]})}function Et(e){let{data:t,publicPageData:o,route:s,store:n,sudoModeStore:a,inviteTargetsStore:l,loginModalStore:c,loginStore:d}=e;const u=(0,i().O7)();return(0,r.useEffect)((()=>{Qe("team_page_no_access",n.state.flowId,u)}),[u,n]),(0,L.jsx)(Pt,{publicPageData:o,route:s,store:n,sudoModeStore:a,inviteTargetsStore:l,loginModalStore:c,loginStore:d,data:t})}function At(e){let{sudoModeStore:t,route:o,store:s}=e;const l=(0,i().O7)(),c=(0,n().VK)((()=>t.state.privatePageStore),[t]),d=(0,n().VK)((()=>t.shouldUserHaveAccessToPrivatePageBlock()),[t]),u=(0,n().Kw)(we().subscriptionDataStoreInstance),g=(0,N().$)({subscriptionData:u}),p=(0,r.useCallback)((()=>{c&&T().Yk({environment:l,blockStore:c,handleSuccess:()=>{j().H(l,{pageId:c.id,from:"page"}),I().CZ({environment:l,blocks:[c]})}})}),[l,c]),m=function(e){const{device:t}=e;return(0,a().yK)((e=>({buttonContainer:{display:"flex",flexDirection:"row",marginBottom:18},container:{display:"flex",alignItems:"center",flexDirection:"column"},heading:{fontSize:t.isMobile?18:22,textAlign:"center",color:e.regularTextColor,marginBottom:32},subheading:{fontSize:t.isMobile?18:17,marginBottom:20,textAlign:"center",color:e.mediumTextColor,fontWeight:x().Ue.regular,lineHeight:1.4},restoreButton:{marginRight:10},permanentlyDeleteButton:{display:"flex",color:e.text.secondary,fontSize:14},trashIcon:{width:14,marginRight:4}})),[t])}(l),h=(0,r.useCallback)((e=>(0,L.jsx)(De().Z,{...e,isLarge:!0,style:m.restoreButton,children:(0,L.jsx)(f()._H,{id:"fullPageError.deletedFromTrashPage.restoreButton",defaultMessage:"Restore page"})})),[m]),v=(0,n().VK)((()=>gt(t)),[t]);return c&&d?(0,L.jsxs)("div",{style:m.container,children:[(0,L.jsx)("div",{children:Ye()}),(0,L.jsx)("div",{style:m.heading,children:(0,L.jsx)(f()._H,{id:"fullPageError.deletedFromTrashPage.titleWithPageName",defaultMessage:"<bold>{pageTitle}</bold> has been deleted from the Trash",values:{pageTitle:v,bold:e=>(0,L.jsx)("b",{children:e})}})}),(0,L.jsx)("div",{style:m.subheading,children:(0,L.jsx)(f()._H,{id:"fullPageError.deletedFromTrashPage.message",defaultMessage:"As a workspace owner, you can restore this page. <br>This will be recorded in the audit log.</br>",values:{br:e=>(0,L.jsx)("div",{children:e})}})}),(0,L.jsxs)("div",{style:m.buttonContainer,children:[(0,L.jsx)(Me().L,{renderPopupOrigin:h,blockStore:c,environment:l,placementToOrigin:ue().Placement.Bottom,includeNonRestoreActions:!1,getValidDeletedPermissions:g,from:"retainedPage"}),(0,L.jsx)(St,{route:o,store:s,color:"white"})]}),(0,L.jsxs)(ke().Z,{style:m.permanentlyDeleteButton,onClick:p,children:[(0,z().y)(m.trashIcon),(0,L.jsx)(f()._H,{id:"fullPageError.deletedFromTrashPage.permanentlyDeleteButton",defaultMessage:"Permanently delete"})]})]}):null}function Tt(e){let{store:t,route:o}=e;const s=(0,a().Fg)(),l=(0,i().O7)(),{device:c}=l,d=$e(l),u=(0,n().VK)((()=>tt(l)),[l]);return(0,r.useEffect)((()=>Qe("404",t.state.flowId,l)),[t,l]),(0,L.jsxs)("div",{children:[(0,L.jsx)(Xe,{}),(0,L.jsx)(ot,{}),(0,L.jsxs)("div",{style:{...u,marginTop:c.isMobile?0:"12vh",justifyContent:"start"},children:[(0,L.jsx)(Ne().Z,{type:Ne().i.NotFound}),(0,L.jsx)("div",{style:rt(l,s),children:(0,L.jsx)(f()._H,{id:"fullPageError.contentDoesNotExist.title",defaultMessage:"This content does not exist"})}),!d&&(0,L.jsx)(lt,{}),d&&(0,L.jsx)(St,{route:o,store:t,color:"blue"}),(0,L.jsx)(Ge,{}),(0,L.jsx)(qe().Z,{isSmall:!0,style:{textAlign:"center"},children:(0,L.jsx)(f()._H,{id:"fullPageError.contentDoesNotExist.message",defaultMessage:"Having trouble? <helplink>Message support</helplink>",values:{helplink:e=>(0,L.jsx)(Re().Z,{onClick:()=>nt(l),children:e})}})})]})]})}function Ct(e){let{route:t,publicPageData:o,pageErrorStore:r,sudoModeStore:s,inviteTargetsStore:a,loginModalStore:l,loginStore:c}=e;const d=(0,i().O7)(),{allStoresLoaded:u,foundSpaceView:g}=(0,n().VK)((()=>{const{currentUserRootStore:e}=ge().default.state;if(!e||!e.isReady())return{allStoresLoaded:!1,foundSpaceView:null};const t=(null==e?void 0:e.getSpaceViewStores())||[];if(!t.every((e=>e.isReady())))return{allStoresLoaded:!1,foundSpaceView:null};return{allStoresLoaded:!0,foundSpaceView:t.find((e=>e.getSpaceId()===o.spaceId))}}),[o.spaceId]);return u?g&&"page"===t.name?t.peekViewBlockId?(0,L.jsx)(st,{environment:d,currentRoute:t}):(0,L.jsx)(Et,{publicPageData:o,route:t,store:r,sudoModeStore:s,inviteTargetsStore:a,loginModalStore:l,loginStore:c,data:o}):o.canJoinSpace?"space"===t.name?(0,L.jsx)(Dt,{publicPageData:o,pageErrorStore:r}):(0,L.jsx)(It,{publicPageData:o,route:t,store:r,sudoModeStore:s,inviteTargetsStore:a,loginModalStore:l,loginStore:c,data:o,source:"workspace",canJoinSpace:!0}):(0,L.jsx)(It,{publicPageData:o,route:t,store:r,sudoModeStore:s,inviteTargetsStore:a,loginModalStore:l,loginStore:c,data:o,source:"workspace",canJoinSpace:!1}):null}function Dt(e){let{publicPageData:t,pageErrorStore:o}=e;const s=(0,i().O7)(),a=(0,n().VK)((()=>o.state.flowId),[o]);return(0,r.useEffect)((()=>{ft({publicPageData:t,environment:s,flowId:a,store:o,skipClickLogging:!0})}),[t,s,a,o]),null}function Bt(e){let{isElectron:t}=e;const o=(0,f().YB)();return t?(0,L.jsx)(He().Z,{title:o.formatMessage({defaultMessage:"No access",id:"errorPage.workspaceNoAccess.title"})}):(0,L.jsx)(L.Fragment,{})}},350974:(e,t,o)=>{o.d(t,{Z:()=>s});class r extends(()=>o(263184))().default{getInitialState(){return{isCreatingSpace:!1,didPerformAction:!1,flowId:o(956057).Il()}}}const s=r},815277:(e,t,o)=>{o.d(t,{CH:()=>p,DE:()=>l().DE,KQ:()=>l().KQ,Rv:()=>l().Rv,V5:()=>g().V5,VX:()=>m,eB:()=>l().eB,oo:()=>l().oo});var r=()=>o(255933),s=()=>o(779709),i=()=>o(205228),n=()=>o(845682),a=()=>o(30795),l=()=>o(546464),c=()=>o(404791),d=()=>o(897257),u=()=>o(18281),g=()=>o(259408);const p={guests:e=>{if(!d().subscriptionDataStoreInstance.state)return"loading";return{current:(0,u().s1)(e.environment,e.spaceId,d().subscriptionDataStoreInstance.state)}},team_self_promotion:e=>{},internal_guests:e=>{if(!d().subscriptionDataStoreInstance.state)return"loading";return{current:(0,u().s1)(e.environment,e.spaceId,d().subscriptionDataStoreInstance.state),hasLowGuestLimit:(0,o(548812).fc)()}},members:e=>{const t=d().subscriptionDataStoreInstance.state;return{current:t?(0,a().W)(e.environment,e.spaceId,t):0}},non_admin_members:e=>{},view_chart:e=>{},form_filesize:e=>{},form_customization:e=>{},premium_automations:e=>{},move_to:e=>{},claimable_spaces:e=>{},domain_settings:e=>{},managed_users:e=>{},invite_user_to_workspace_mentions:e=>{},saml:e=>{},scim:e=>{},export_members:e=>{},hipaa_compliance:e=>{},sites_multiple_public_domains:e=>{},custom_image_upload_favicon:e=>{},custom_public_sites_layout:e=>{},seo_title_and_description:e=>{},admin_transfer_private_content:e=>{},ai_slack_qna:e=>{},configurable_mention_invites:e=>{},configurable_retention:e=>{},unbranded_forms:e=>{},ai_google_drive_qna:e=>{},watermarkless_chart_export:e=>{},configurable_deletion_and_retention_settings:e=>{},sudo_mode:e=>{},ai_github_connector:e=>{},ai_jira_connector:e=>{},slack_imports_invite:e=>{},content_reprovisioning:e=>{},ai_space_usage:e=>{var t;let{environment:o,spaceId:l}=e;const u=new(n().H)(o,{table:r().bx,id:l}).getModel(),g=(0,s().oc)(i().default.promotions.ai,u),p=(null===(t=c().Z.state)||void 0===t?void 0:t.spaceUsage)??0,m=d().subscriptionDataStoreInstance.state;return{current:p,memberCount:m?(0,a().W)(o,l,m):0,aiPromotionConfig:g,space:u}},ai_user_usage:e=>{var t;let{environment:o,spaceId:l}=e;const u=new(n().H)(o,{table:r().bx,id:l}).getModel(),g=(0,s().oc)(i().default.promotions.ai,u),p=(null===(t=c().Z.state)||void 0===t?void 0:t.userUsage)??0,m=d().subscriptionDataStoreInstance.state;return{current:p,memberCount:m?(0,a().W)(o,l,m):0,aiPromotionConfig:g,space:u}},block_read_and_write_role:e=>{}};function m(e){return(0,l().Rv)(e)??!1}},259408:(e,t,o)=>{o.d(t,{$W:()=>g,KQ:()=>u,_e:()=>m,Ay:()=>x,fS:()=>d,t:()=>i(),V5:()=>f,Kz:()=>h});o(267602),o(653476);var r=()=>o(513670),s=()=>o(696459),i=()=>o(124199),n=()=>o(629719);const a=["student","personal","plus","business","enterprise"];function l(e){return(0,s().DE)(a,e)}var c=()=>o(122792);const d=["plus","business","enterprise","ai","sites_custom_hostnames"];function u(e,t,o,r){return m(g(e,t,o,r))}function g(e,t,o,r){const{name:i,scope:n,actor:a}=r,l={...r,billingData:n.billingData},c=n.premiumFeatureOverrides,d=i in c?function(e,t,o){const r={type:"contact_account_manager"},i=e[t.name].type;if("check"===i){const e={type:"none"};return!0===o?{type:"available",limit:e}:{type:"upsell",upsell:r,limit:e}}if("per_use"===i){const e=t.amount,s={type:"per_use",amount:o};return"unlimited"===o||o>e?{type:"available",limit:s}:{type:"upsell",upsell:r,limit:s}}if("cumulative"===i){const e=t.amount,s=t.data.current,i={type:"cumulative",current:s,total:o};return"unlimited"===o||o>=s+e?{type:"available",limit:i}:{type:"upsell",upsell:r,limit:i}}(0,s().t1)(i)}(t,r,c[i]):o[i](l);let u;if("available"===d.type){const e=d.upsell?p(n.billingData,d.upsell,r.supportedProducts):void 0;u={...d,upsell:e}}else if("blocked"===d.type){const e=p(n.billingData,d.upsell,r.supportedProducts);u={...d,upsell:e}}else{const e=p(n.billingData,d.upsell,r.supportedProducts),t=function(e){const{actor:t,supportedProducts:o,upsell:r}=e;if(!t.isSpaceAdmin)return"blocked";const i=r.type;switch(i){case"product":return o.includes(r.product)?"upsell":"blocked";case"contact_sales":case"contact_account_manager":return"upsell";default:(0,s().t1)(i)}}({actor:a,supportedProducts:r.supportedProducts,upsell:e});u={...d,type:t,upsell:e}}return Math.random()<.001&&e({level:"info",from:"premiumFeatureFramework",type:"getPremiumFeatureAvailability",data:{featureName:i,featureScope:n,featureActor:a,featureAvailability:d}}),u}function p(e,t,o){if((0,n().Rd)(e.subscription))return{type:"contact_account_manager"};if("product"!==(null==t?void 0:t.type)||o.includes(t.product)||!l(t.product))return t;const s=t.product,i=o.filter((e=>l(e))).filter((e=>"student"!==e)).filter((e=>c().rC[e]>=c().rC[s])),a=(0,r().F)(i,(e=>c().rC[e]));return a?{...t,product:a}:t}function m(e){return"available"===(null==e?void 0:e.type)}function f(e,t){const{available:o}=t;let r,i;return"unavailable"in t?(r=t.unavailable,i=t.unavailable):(r=t.blocked,i=t.upsell),"available"===e.type?o():"upsell"===e.type?i(e):"blocked"===e.type?r(e):(0,s().t1)(e)}function h(e,t){if(void 0!==e)return f(e,{available:()=>{},blocked:t,upsell:()=>{}})}function x(e){return i().object({required:e,optional:{}})}}}]);