"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[44843],{660697:(e,t,o)=>{o.r(t),o.d(t,{FeatureIntroPopup:()=>k,default:()=>v});o(241792);var i=o(667294),n=()=>o(142735),r=()=>o(846550),s=()=>o(565630),l=()=>o(788860),a=()=>o(568017),d=()=>o(707513),u=()=>o(688049),c=()=>o(906249),g=()=>o(998901),p=()=>o(104088),h=()=>o(876822),m=()=>o(1910),x=()=>o(577741),y=()=>o(92175),f=()=>o(967092),b=()=>o(906651),j=o(785893);const B=function(e){const{imageSrc:t,imageStyles:o,title:i,subtitle:n}=e,s=(0,r().yK)((e=>({content:{padding:"0 24px",height:90},title:{fontSize:d().JB.UIRegular.desktop,fontWeight:d().Ue.semibold,marginBottom:5,marginTop:16},subtitle:{fontSize:d().JB.UIRegular.desktop,color:e.mediumTextColor},image:{display:"flex",margin:"auto"},imageWrapper:{borderBottom:`1px solid ${e.lightDividerColor}`,display:"flex"}})),[]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{style:s.imageWrapper,children:(0,j.jsx)("img",{style:{...s.image,...o},src:t},t)}),(0,j.jsxs)("div",{style:s.content,children:[(0,j.jsx)("div",{style:s.title,children:i}),(0,j.jsx)("div",{style:s.subtitle,children:n})]})]})};const C=function(e){const t=(0,r().yK)((e=>({headerContainer:{display:"flex",marginTop:12,marginBottom:8,justifyContent:"center"},headerText:{fontWeight:d().Ue.medium},iconContainer:{display:"flex",justifyContent:"center"},icon:{width:24,height:24,fill:e.mediumIconColor,marginTop:4},description:{fontSize:14,color:e.mediumTextColor,marginBottom:16,textAlign:"center"}})),[]);return(0,j.jsxs)(j.Fragment,{children:[e.icon&&(0,j.jsx)("div",{style:t.iconContainer,children:e.icon(e.iconStyle?e.iconStyle:t.icon)}),(0,j.jsx)("div",{style:t.headerContainer,children:(0,j.jsx)("div",{style:t.headerText,children:e.header})}),(0,j.jsx)("div",{style:t.description,children:e.description})]})};function k(e){const{initialPromo:t,steps:o,isUserEligible:k=!0,seenFeatureUserSetting:v,userSettingsStore:S,allowExternalMouseEvents:I,onDismiss:T,onTryFeatureClick:w,onPopupSeen:F,onLearnMore:P,ctaMessage:M,calloutId:H}=e,L=(0,l().YB)(),R=(0,r().yK)((e=>({popupContainer:{background:"light"===e.mode?e.contentBackground:e.surface.wash,borderRadius:8,width:320,padding:"20px 20px 16px",boxShadow:e.mediumBoxShadow},button:{display:"flex",alignItems:"center",justifyContent:"center"},dismissButton:{marginTop:10},closeButton:{position:"absolute",top:10,right:10,padding:0,borderRadius:"50%",height:24,width:24,background:e.buttonHoveredBackground},closeButtonHoveredStyle:{backgroundColor:e.buttonPressedBackground},closeButtonIcon:{width:14,height:14,fill:"light"===e.mode?a().FN.light.gray[400]:a().FN.dark.translucentGray[600]},backButton:{marginRight:8,fontWeight:d().Ue.medium},nextButton:{fontWeight:d().Ue.medium},inactiveDot:{fill:e.lightIconColor},dot:{width:6,height:6,marginRight:8},footer:{marginLeft:24,marginRight:24,marginBottom:16,marginTop:8,alignItems:"center",height:28,display:"flex"}})),[]),[U,D]=(0,i.useState)(0),Z=(0,i.useCallback)((()=>{const e=null==S?void 0:S.getSettings();return!e||Boolean(!0===e[v])}),[v,S]),_=(0,n().VK)((()=>!Z()&&k&&h().default.state.inAppCalloutStore.getCalloutVisibility(H).canShow||Boolean(e.forceShow)),[H,Z,k,e.forceShow]),W=(0,i.useCallback)((()=>{D(U+1),null==P||P()}),[U,P]),A=(0,s().D9)(_);return(0,i.useEffect)((()=>{_&&!A&&(null==F||F())}),[_,F,A]),(0,j.jsx)(f().ZP,{popupType:p().k.Popup,open:_,origin:(0,j.jsx)("div",{style:{position:"absolute",bottom:52,right:0}}),placementToOrigin:g().Placement.Top,alignmentToOrigin:g().Alignment.Center,originGap:15,disableMouseCapture:I,render:()=>{const e=0===U,i=e?(0,j.jsx)(C,{...t}):(0,j.jsx)(B,{...o[U-1]}),n=e?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(b().Z,{style:R.button,onClick:W,isLarge:!0,children:M||(0,j.jsx)(l()._H,{id:"FeatureIntroPopup.learnMore.text",defaultMessage:"Learn more"})}),(0,j.jsx)(y().Z,{onClick:T,isLightGray:!0,style:{...R.button,...R.dismissButton},children:(0,j.jsx)(l()._H,{id:"FeatureIntroPopup.dismissButton.text",defaultMessage:"Dismiss"})})]}):(0,j.jsxs)("div",{style:R.footer,children:[(0,j.jsx)("div",{style:{display:"flex"},children:[...Array(o.length)].map(((e,t)=>{let i=R.dot;return i=t===U-1?{...i}:{...i,...R.inactiveDot},t===o.length&&(i={...i,marginRight:0}),(0,c().h)(i)}))}),(0,j.jsxs)("div",{style:{...R.button,marginLeft:"auto"},children:[U>1&&(0,j.jsx)(y().Z,{onClick:()=>D(U-1),style:R.backButton,isGray:!0,children:(0,j.jsx)(l()._H,{id:"FeatureIntroPopup.backButton",defaultMessage:"Back"})}),U<o.length&&(0,j.jsx)(y().Z,{onClick:()=>D(U+1),style:R.nextButton,isBlue:!0,children:(0,j.jsx)(l()._H,{id:"FeatureIntroPopup.nextButton",defaultMessage:"Next"})}),U===o.length&&(0,j.jsx)(b().Z,{onClick:w,children:(0,j.jsx)(l()._H,{id:"FeatureIntroPopup.tryItOut.button",defaultMessage:"Try it out"})})]})]});return(0,j.jsxs)(x().P,{calloutId:H,children:[i,(0,j.jsx)(m().Z,{icon:u().D,style:R.closeButton,hoveredStyle:R.closeButtonHoveredStyle,iconStyle:R.closeButtonIcon,disableBackground:!0,onClick:T,ariaLabel:L.formatMessage({id:"FeatureIntroPopup.closeButton.ariaLabel",defaultMessage:"Close"})}),n]})},style:0===U?R.popupContainer:{...R.popupContainer,padding:void 0}})}const v=k}}]);