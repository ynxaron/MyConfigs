"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[97622],{235629:(e,t,i)=>{i.r(t),i.d(t,{default:()=>B});i(667294);var o=()=>i(142735),n=()=>i(548812),r=()=>i(30795),a=()=>i(897257),s=()=>i(219727),l=()=>i(732811),d=()=>i(665398),c=()=>i(788860),u=()=>i(979614),b=()=>i(636340),g=()=>i(269299),p=()=>i(489434),m=()=>i(616433),f=()=>i(876822),h=()=>i(965014),v=()=>i(18281),k=()=>i(595976),M=i(785893);const y=(0,c().vU)({overFreeBlockLimitLong:{id:"subscriptionActions.overFreeBlockLimit.longMessage",defaultMessage:"You are over the block limit for the Free plan"},overFreeBlockLimitMobileNative:{id:"subscriptionActions.overFreeBlockLimit.mobileNative",defaultMessage:"Your free blocks have been used up. Unfortunately, unlimited blocks cannot be purchased on mobile."},upgradeForUnlimited:{id:"subscriptionActions.upgradeForUnlimitedBlocks.longMessage",defaultMessage:"Upgrade for unlimited"},upgradePlan:{id:"subscriptionActions.upgradePlan",defaultMessage:"Upgrade plan"},gracePeriodMessage:{id:"subscriptionActions.gracePeriodMessage",defaultMessage:"You have {dayCount, plural, one {1 day} other {{dayCount} days}} left to upgrade"},overFreeBlockLimitShort:{id:"subscriptionActions.overFreeBlockLimitShort",defaultMessage:"You've used all of this workspace's free blocks"}});function F(){const{isMobileNative:e}=(0,s().Fy)(),t=(0,s().O7)(),i=(0,o().VK)((()=>f().default.state.currentSpaceStore),[]),n=(0,o().Kw)(a().subscriptionDataStoreInstance),d=(0,m().J)(),c=(0,r().V)(n);return(0,l().K)((()=>{const e=null==i?void 0:i.pointer.spaceId;if(e&&d){var o;const r=null===(o=i.getSettings())||void 0===o?void 0:o.reach_block_limit_time;!r&&n&&v().Ln(t,e,n,c)&&g().createAndCommit({userAction:"OverFreeBlockLimitBanner.initialMount",environment:t,canUndo:!0,perform:e=>{b().sW({store:i,data:{settings:{...i.getSettings(),reach_block_limit_time:Date.now()}},transaction:e})}}),u().x1(t,{reach_block_limit_time:r??Date.now(),eligible_for_trial:!1})}})),e?(0,M.jsx)(_,{}):(0,M.jsx)(S,{})}function S(){const e=(0,c().YB)(),t=(0,o().Kw)(a().subscriptionDataStoreInstance),i=(0,r().V)(t),l=(0,s().O7)(),u=(0,o().VK)((()=>(0,n().vT)(i)),[i]),b=(0,o().VK)((()=>{var e;return null===(e=f().default.state.currentSpaceStore)||void 0===e?void 0:e.id}),[]),g=(0,k().p)({spaceId:b}),m=(0,o().VK)((()=>v().Nf({billingData:g,spaceStore:f().default.state.currentSpaceStore})),[g]),F=(0,o().VK)((()=>function(e,t){if(!t)return e.formatMessage(y.overFreeBlockLimitLong);const i=(0,n().fQ)();return i>0?e.formatMessage(y.gracePeriodMessage,{dayCount:i}):e.formatMessage(y.overFreeBlockLimitShort)}(e,u)),[u,e]),S=(0,o().VK)((()=>function(e){if(!e)return"red";return(0,n().fQ)()>0?"yellow":"red"}(u)),[u]),_=[{label:u?e.formatMessage(y.upgradePlan):e.formatMessage(y.upgradeForUnlimited),onClick:()=>{h().y(l,{from:"block_limit_banner",upsell:{type:"product",product:"plus",limit:{type:"none"}}})}}];return(0,M.jsx)(p().j,{label:F,display:"full-width",tint:S,iconGroup:d().P,actions:m?_:[]})}function _(){const e=(0,c().YB)().formatMessage(y.overFreeBlockLimitMobileNative);return(0,M.jsx)(p().j,{label:e,display:"full-width",tint:"red"})}function B(){const e=(0,o().Kw)(a().subscriptionDataStoreInstance),t=(0,r().V)(e);return(0,o().VK)((()=>(0,n().vT)(t)),[t])?(0,M.jsx)("div",{style:{position:"sticky",left:0,right:"100%",width:"100%"},children:(0,M.jsx)(F,{})}):(0,M.jsx)(F,{})}},665398:(e,t,i)=>{i.d(t,{P:()=>o});const o=(0,i(827282).CZ)("blockLimit",{default:{loader:()=>i.e(72870).then(i.bind(i,372870))},small:{loader:()=>i.e(33898).then(i.bind(i,233898))},mini:{loader:()=>i.e(24744).then(i.bind(i,724744))},large:{loader:()=>i.e(7016).then(i.bind(i,107016))}})},73363:(e,t,i)=>{i.d(t,{M:()=>o});const o=(0,i(827282).CZ)("questionMarkCircled",{default:{loader:()=>i.e(18872).then(i.bind(i,118872))},small:{loader:()=>i.e(95020).then(i.bind(i,295020))},mini:{loader:()=>i.e(51419).then(i.bind(i,651419))},large:{loader:()=>i.e(78727).then(i.bind(i,678727))}})},981219:(e,t,i)=>{i.d(t,{U:()=>o});const o=(0,i(827282).CZ)("xmark",{default:{loader:()=>i.e(71448).then(i.bind(i,471448))},small:{loader:()=>i.e(24056).then(i.bind(i,624056))},mini:{loader:()=>i.e(84500).then(i.bind(i,384500))},large:{loader:()=>i.e(71533).then(i.bind(i,71533))}})}}]);