"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[43070],{41109:(e,r,t)=>{t.d(r,{n:()=>s});t(667294);var n=()=>t(844958),o=()=>t(73898),a=t(785893);const i=16/(0,o().O)("small");function s(e){const{variant:r}=e,t=function(e){return(0,o().O)(e)*i}(r);return(0,a.jsx)(a.Fragment,{children:(0,n().t)({width:t,pointerEvents:"none"})})}},785673:(e,r,t)=>{t.d(r,{sW:()=>f,h9:()=>b,fy:()=>m,D_:()=>y,Oc:()=>x});var n=t(667294),o=()=>t(142735),a=()=>t(846550),i=()=>t(844958),s=()=>t(524434),l=()=>t(41109),c=()=>t(576917),d=()=>t(993491);const u=t.p+"c9223887dcb57b7d.gif",p=t.p+"7e9cbd56b1eca7b9.gif";var g=t(785893);function m(e){const{variant:r,style:t,forceSparkles:n}=e,a=(0,o().Kw)(s().r4);let i;return i=!n&&a?(0,g.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,g.jsx)(c().P,{variant:r,shadowVariant:"light"})}):(0,g.jsx)(l().n,{variant:n?"small":r}),(0,g.jsx)("div",{style:t,children:i})}function x(e){const{variant:r}=e,t=(0,o().Kw)(s().r4),n=(0,a().yK)((()=>({sparklesWrapper:{borderRadius:"100%",border:"2px solid RGB(182,208,240)",marginRight:8,marginLeft:8,padding:4},badge:{position:"absolute",left:"27px",top:"-5px"},faceWrapper:{marginRight:8}})),[]);return t?(0,g.jsx)("div",{style:n.faceWrapper,children:(0,g.jsx)(h,{variant:r})}):(0,g.jsxs)("div",{style:n.sparklesWrapper,children:[(0,g.jsx)(l().n,{variant:r}),(0,g.jsx)("div",{style:n.badge,children:(0,g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"11",viewBox:"0 0 10 11",fill:"none",children:(0,g.jsx)("circle",{cx:"5",cy:"5.5",r:"4",fill:"#2383E2",stroke:"white",strokeWidth:"2"})})})]})}function h(e){const{variant:r}=e,t="dark"===(0,a().Fg)().mode,[o,i]=(0,n.useState)(!0);(0,n.useEffect)((()=>{setTimeout((()=>{i(!1)}),6e3)}),[]);const s=(0,n.useMemo)((()=>{if(o)return t?u:p}),[t,o]);return(0,g.jsx)("div",{style:{marginLeft:8},children:(0,g.jsx)(c().P,{variant:r,shadowVariant:"light",wrapWithPadding:!0,imgSource:s})})}function f(){const e=(0,o().Kw)(s().r4),r=(0,a().yK)((e=>({faceImgStyles:{width:20,height:20,background:e.assistantCornerButtonBackground,borderRadius:"50%",border:`1px solid ${e.tableDividerColor}`},sparklesIconStyle:{width:16,height:16,fill:e.icon.secondary}})),[]);return e?(0,g.jsx)("img",{style:r.faceImgStyles,src:d(),role:"presentation",alt:"Notion AI Face"}):(0,i().t)(r.sparklesIconStyle)}function b(){const e=(0,o().Kw)(s().r4),r=(0,a().yK)((e=>({faceImgStyles:{width:20,height:20,background:e.assistantCornerButtonBackground,borderRadius:"50%",border:`1px solid ${e.tableDividerColor}`},sparklesIconStyle:{width:16,height:16,fill:e.icon.secondary}})),[]);return e?(0,g.jsx)("img",{style:r.faceImgStyles,src:d(),role:"presentation",alt:"Notion AI Face"}):(0,i().t)(r.sparklesIconStyle)}function y(){const e=(0,o().Kw)(s().r4),r=(0,a().yK)((e=>({faceImgStyles:{width:20,height:20,background:e.assistantCornerButtonBackground,borderRadius:"50%",border:`1px solid ${e.tableDividerColor}`,marginLeft:-2,marginRight:2},sparklesIconStyle:{width:16,height:16,marginRight:2},sparklesIconWrapper:{borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center"}})),[]);return e?(0,g.jsx)("img",{style:r.faceImgStyles,src:d(),role:"presentation",alt:"Notion AI Face"}):(0,g.jsx)("div",{style:r.sparklesIconWrapper,children:(0,i().t)(r.sparklesIconStyle)})}},887863:(e,r,t)=>{t.d(r,{r:()=>o});t(667294);var n=t(785893);const o=(0,t(827282).IU)("circleCheckFilled",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M8 16c4.377 0 8-3.631 8-8 0-4.376-3.631-8-8.008-8C3.624 0 0 3.624 0 8c0 4.369 3.631 8 8 8zm-.886-4.165c-.267 0-.487-.11-.69-.384l-1.97-2.416a.852.852 0 01-.187-.51c0-.352.274-.643.627-.643.228 0 .4.07.596.33l1.592 2.055 3.35-5.38c.148-.236.352-.362.556-.362.345 0 .667.236.667.604 0 .173-.102.353-.196.518l-3.686 5.804c-.165.259-.393.384-.66.384z"})})},276571:(e,r,t)=>{t.d(r,{A:()=>o});t(667294);var n=t(785893);const o=(0,t(827282).IU)("cubeOutline",{viewBox:"0 0 14 16",svg:(0,n.jsx)("path",{d:"M1.01855 11.96C0.694987 11.7777 0.448893 11.568 0.280273 11.3311C0.116211 11.0895 0.0341797 10.7272 0.0341797 10.2441V4.7207C0.0341797 4.35612 0.104818 4.05306 0.246094 3.81152C0.38737 3.56543 0.610677 3.35579 0.916016 3.18262L5.72168 0.489258C6.14551 0.252279 6.57161 0.133789 7 0.133789C7.42839 0.133789 7.85221 0.252279 8.27148 0.489258L13.0771 3.18262C13.3825 3.35579 13.6058 3.56543 13.7471 3.81152C13.8883 4.05306 13.959 4.35612 13.959 4.7207V10.2441C13.959 10.7272 13.877 11.0895 13.7129 11.3311C13.5488 11.568 13.3027 11.7777 12.9746 11.96L7.68359 14.9268C7.22786 15.1774 6.76986 15.1774 6.30957 14.9268L1.01855 11.96ZM1.75684 10.9072L6.36426 13.5117V8.0293L1.25098 5.14453V10.1211C1.25098 10.2988 1.28743 10.4492 1.36035 10.5723C1.43783 10.6953 1.56999 10.807 1.75684 10.9072ZM12.2363 10.9072C12.4232 10.807 12.5531 10.6953 12.626 10.5723C12.7035 10.4492 12.7422 10.2988 12.7422 10.1211V5.14453L7.62891 8.0293V13.5117L12.2363 10.9072ZM7 6.9082L12.0518 4.07812L7.73145 1.64453C7.24837 1.36654 6.75846 1.36654 6.26172 1.64453L1.94824 4.07812L7 6.9082Z"})})},257185:(e,r,t)=>{t.d(r,{y:()=>n().y});var n=()=>t(949489)},953293:(e,r,t)=>{t.d(r,{R:()=>n().R});var n=()=>t(519454)},356140:(e,r,t)=>{t.d(r,{W:()=>a});var n=()=>t(142735),o=()=>t(876822);function a(){const{currentSpaceStore:e}=(0,n().VK)((()=>o().default.state),[]);return null==e?void 0:e.id}},38812:(e,r,t)=>{t.r(r),t.d(r,{getStripe:()=>k,getStripeAppearanceV2:()=>w,injectStripe:()=>C,optionalPaymentMethodIdGivenPaymentData:()=>M,optionalStripeTokenGivenPaymentData:()=>B,stripeElementLocaleGivenNotionLocale:()=>v,translateStripeError:()=>S,useElementsOptions:()=>j});var n=()=>t(629756),o=()=>t(797894),a=t(667294),i=()=>t(219727),s=()=>t(142735),l=()=>t(846550),c=()=>t(578292);var d=()=>t(989478),u=()=>t(320080),p=()=>t(696459),g=()=>t(707513),m=()=>t(979614),x=()=>t(205228),h=()=>t(876822),f=()=>t(749826),b=t(785893);let y=null;function C(e){return function(r){const[t]=a.useState(k);return(0,b.jsx)(n().Elements,{stripe:t,children:(0,b.jsx)(n().ElementsConsumer,{children:t=>{let{stripe:n,elements:o}=t;const a={...r,stripe:n,elements:o};return(0,b.jsx)(e,{...a})}})})}}async function k(){return y||(o().loadStripe.setLoadParameters({advancedFraudSignals:!1}),y=(0,o().loadStripe)(x().default.stripe.key)),y}function v(e){switch(e){case"en-US":return"en";case"ko-KR":return"ko";case"ja-JP":return"ja";case"fr-FR":return"fr-FR";case"de-DE":return"de";case"es-ES":return"es-ES";case"es-LA":return"es-419";case"pt-BR":return"pt-BR";case"zh-CN":return"zh";case"zh-TW":return"zh-TW";case"da-DK":return"da";case"nl-NL":return"nl";case"fi-FI":return"fi";case"nb-NO":return"nb";case"sv-SE":return"sv";default:return"auto"}}function j(e){const r=(0,l().Fg)(),t=(0,i().O7)(),{type:n}=e,o="setup"===n||"subscription"===n?e.currency:void 0,g="subscription"===n?e.amount:void 0,m=(0,s().VK)((()=>{var e;return(null===(e=h().default.state)||void 0===e||null===(e=e.currentUserSettingsStore)||void 0===e||null===(e=e.getSettings())||void 0===e?void 0:e.preferred_locale)||c().al}),[]),x=(0,s().VK)((()=>"KRW"===o&&function(e){const{experimentService:r,actor:t}=e;return r.checkGate({actor:t,gateName:"kr_card_payment_method"})}({experimentService:f().default,actor:{table:d().KJ,id:t.currentUser.id??""}})),[t.currentUser,o]);return(0,a.useMemo)((()=>{const e={appearance:w(r),locale:v(m)},t={paymentMethodTypes:(0,u().Rb)({currency:o,isKrCardFeatureGateEnabled:x})};switch(n){case"address":return e;case"setup":return{...e,...t,currency:null==o?void 0:o.toLowerCase(),mode:"setup",paymentMethodCreation:"manual"};case"subscription":return{...e,...t,amount:g,currency:null==o?void 0:o.toLowerCase(),mode:"subscription",paymentMethodCreation:"manual",setupFutureUsage:"off_session"};default:(0,p().t1)(n)}}),[r,m,n,o,g,x])}function S(e,r,t){if(!t.code)return t.message||"";switch(m()._q(e,{error:t.code,stripe_decline_code:t.decline_code}),t.code){case"invalid_expiry_year_past":return r.formatMessage({id:"stripeHelpers.invalidExpiryYear.error.message",defaultMessage:"Your card's expiration year is in the past."});case"invalid_cvc":return r.formatMessage({id:"stripeHelpers.invalidCVC.error.message",defaultMessage:"Your card's security code is invalid."});case"invalid_number":return r.formatMessage({id:"stripeHelpers.invalidNumber.error.message",defaultMessage:"Your card number is not a valid credit card number."});case"card_declined":return function(e,r){switch(r){case"expired_card":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.expiredCard",defaultMessage:"Your card was declined because it is an expired card."});case"incorrect_number":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.incorrectNumber",defaultMessage:"Your card was declined because you input an incorrect number."});case"insufficient_funds":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.declinedFunds",defaultMessage:"Your card was declined because of insufficient funds."});case"invalid_cvc":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.invalidCvc",defaultMessage:"Your card was declined because you input an invalid CVC number"});case"invalid_amount":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.invalidAmount",defaultMessage:"Your card was declined because payment amount exceeds the amount that's allowed."});default:return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message",defaultMessage:"Your card was declined."})}}(r,t.decline_code);default:return t.message||""}}function w(e){return{labels:"floating",theme:"dark"===e.mode?"night":"stripe",variables:{spacingGridRow:"8px",spacingGridColumn:"8px",spacingUnit:"4px",spacingTab:"4px",colorPrimary:e.text.primary,colorPrimaryText:e.text.primary,colorText:e.text.primary,colorTextSecondary:e.text.secondary,colorTextPlaceholder:e.text.tertiary,colorIcon:e.text.primary,colorIconCheckmark:e.icon.contrast,colorDanger:e.text.uiRedPrimary,colorBackground:e.whiteButtonBackground,colorIconTabHover:e.text.primary,colorIconTabSelected:e.text.uiBluePrimary,colorIconChevronDown:e.text.primary,fontFamily:g().Gl.sans,fontWeightLight:`${g().Ue.light}`,fontWeightNormal:`${g().Ue.regular}`,fontWeightMedium:`${g().Ue.medium}`,fontWeightBold:`${g().Ue.semibold}`,fontSizeBase:"14px",fontSizeSm:"12px",colorLogo:e.mode,colorLogoBlock:e.mode,colorLogoTab:e.mode,colorLogoTabSelected:e.mode,borderRadius:"6px"},rules:{".Tab":{padding:"10px 16px 10px 10px",fontSize:"13px",fontWeight:"510",lineHeight:"16px",color:e.text.primary,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",backgroundColor:e.whiteButtonBackground},".Tab:hover":{backgroundColor:e.whiteButtonHoveredBackground,color:e.text.primary},".Tab:focus":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.primary}`,boxShadow:e.outlineBlueInputBoxShadow},".Tab--selected, .Tab--selected:hover, .Tab--selected:active":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.uiBluePrimary}`,color:e.text.primary,boxShadow:"none",outline:"none"},".Tab--selected:focus":{border:`1px solid ${e.stroke.uiBluePrimary}`,boxShadow:e.outlineBlueInputBoxShadow},".Input":{fontSize:"14px",lineHeight:"18px",letterSpacing:"-0.154px",padding:"4px 8px",boxShadow:"none",backgroundColor:e.surface.wash,border:`1px solid ${e.stroke.primary}`,color:e.text.primary},".Input--invalid":{border:"none",color:e.text.primary,boxShadow:e.outlineRedInputBoxShadow},".Label":{fontSize:"14px",lineHeight:"18px",letterSpacing:"-0.154px",color:e.text.tertiary},".Label--floating":{fontSize:"10px",fontWeight:"510",lineHeight:"13px",letterSpacing:"0.12px",marginTop:"4px",transition:"all 200ms ease",color:e.text.secondary},".Error":{fontSize:"12px",fontWeight:"400",lineHeight:"15px",color:e.text.uiRedPrimary},".CodeInput":{backgroundColor:e.surface.wash,border:`1px solid ${e.stroke.primary}`,boxShadow:"none"},".PickerItem, .PickerItem--selected":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",color:e.text.primary},".PickerItem:hover, .PickerItem--selected:hover":{backgroundColor:e.whiteButtonHoveredBackground,color:e.text.primary,border:`1px solid ${e.stroke.primary}`,boxShadow:"none"},".PickerItem--new":{fontSize:"14px",fontWeight:"500",lineHeight:"18px",color:e.text.primary},".PickerItem--highlight, .PickerItem--highlight:hover":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.uiBluePrimary}`,boxShadow:"none"},".PickerItem--highlight:hover":{backgroundColor:e.whiteButtonHoveredBackground},".TermsText":{color:e.text.secondary,fontSize:"12px",fontWeight:"400",lineHeight:"15px"},".CheckboxLabel":{color:e.text.primary,fontSize:"12px",fontWeight:"500",lineHeight:"15px"},".Action, .MenuAction":{color:e.text.primary,fontWeight:"400"},".Action:hover, .MenuAction:hover":{backgroundColor:e.buttonHoveredBackground},".BlockAction:focus, .CodeInput:focus, .Input:focus,.CheckboxInput:focus, .PickerItem:focus, .PickerAction:focus,.MenuAction:focus, .Action:focus, .SecondaryLink:focus":{boxShadow:e.outlineBlueInputBoxShadow},".MenuIcon, .MenuIcon:hover":{fill:e.text.primary},".Block":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",color:e.text.primary}}}}function B(e){return"stripeToken"===(null==e?void 0:e.type)?e.value:void 0}function M(e){return"paymentMethodId"===(null==e?void 0:e.type)?e.value:void 0}},97081:(e,r,t)=>{function n(e){return Boolean(null==e?void 0:e.canRead())}t.r(r),t.d(r,{PlansModalContent:()=>se,PlansSidebarButton:()=>ke,canShowPlans:()=>n,showPlans:()=>Ce});t(267602),t(653476),t(241792);var o=t(667294),a=()=>t(219727),i=()=>t(142735),s=()=>t(629719),l=()=>t(681941),c=()=>t(122792),d=()=>t(454393),u=()=>t(916095),p=()=>t(228772),g=()=>t(576387),m=()=>t(437594),x=()=>t(697623),h=()=>t(661769),f=()=>t(415339),b=()=>t(272353),y=()=>t(30795),C=()=>t(205729),k=()=>t(419157),v=()=>t(897257),j=()=>t(539306),S=()=>t(18281);var w=()=>t(86580),B=()=>t(368958),M=()=>t(232695),I=()=>t(180410),L=()=>t(846550),P=()=>t(788860),T=()=>t(707513),R=()=>t(212493),_=()=>t(154186),D=()=>t(19072),N=()=>t(357371),U=()=>t(793331),K=()=>t(696459),H=()=>t(661641),O=()=>t(661297),V=()=>t(906651),A=t(785893);function W(e){const{ctaType:r,asyncPrice:t,priceStore:n,onClick:o}=e,a=(0,P().YB)(),s=(0,i().VK)((()=>n.selectedCurrencyCode),[n]);if(!t.isLoaded)return null;const l=t.result?t.result.getMonthlyUnitCost().toMoneyValue():{amount:0,currencyCode:s};return(0,A.jsxs)(R().jX,{direction:"row",gap:"auto",align:"center",children:[(0,A.jsx)(H().q,{styleName:"iOS/Caption-12px/Regular",colorName:"primary",children:a.formatMessage(D().j2.ctaPrice,{money:(0,A.jsx)(U().W,{cost:l,trailingZeroDisplay:"stripIfInteger",intl:a})})}),o?(0,A.jsx)(F,{ctaType:r,onClick:o}):null]})}function F(e){const{ctaType:r,onClick:t}=e,n=(0,P().YB)();switch(r){case"upgrade":return(0,A.jsx)(V().Z,{onClick:t,children:n.formatMessage(D().j2.upgrade)});case"downgrade":return(0,A.jsx)(O().Z,{onClick:t,children:n.formatMessage(D().j2.restrictions)});case"equal":case void 0:return null;default:(0,K().t1)(r)}}var z=()=>t(575154);function $(e){const{caption:r,productImage:t,planName:n}=e;return(0,A.jsxs)(R().jX,{gap:10,children:[t,(0,A.jsxs)(R().jX,{gap:2,children:[(0,A.jsx)(H().q,{styleName:"iOS/Title-3/Bold",children:n}),r?(0,A.jsx)(H().q,{styleName:"iOS/Callout-16px/Regular",colorName:"secondary",children:r}):null]})]})}var X=()=>t(759251),Y=()=>t(733641);function E(e){const{label:r}=e,t=(0,L().yK)((e=>({icon:{height:18,width:18,fill:e.icon.tertiary}})),[]);return(0,A.jsxs)(R().jX,{direction:"row",align:"center-left",gap:6,children:[(0,Y().k)(t.icon),(0,A.jsx)(H().q,{styleName:"iOS/Callout-16px/Regular",colorName:"primary",children:r})]})}function Z(e){const{product:r}=e,t=(0,P().YB)(),n=D().gU[r],o=X().LU[r].highlights;return n&&o?(0,A.jsxs)(R().jX,{gap:8,children:[(0,A.jsx)(H().q,{styleName:"iOS/Subhead-15px/Medium-Compact",colorName:"secondary",children:t.formatMessage(n)}),(0,A.jsx)(R().jX,{gap:4,children:o.map((e=>(0,A.jsx)(E,{label:t.formatMessage(e)},e.id)))})]}):null}function q(e){const{product:r}=e,t=(0,P().YB)(),n=D().or[r];return(0,A.jsxs)(R().jX,{gap:20,children:[(0,A.jsx)($,{planName:t.formatMessage(c().aw[r]),caption:n?t.formatMessage(n):void 0,productImage:(0,A.jsx)(z().q,{product:r})}),(0,A.jsx)(Z,{product:r})]})}function G(e){const{ctaType:r,asyncPrice:t,subscriptionTier:n,priceStore:o,onClick:a}=e,i=(0,L().yK)((e=>({card:{borderRadius:16,border:`1px solid ${e.stroke.secondary}`,background:e.cardContentBackground},footer:{borderTop:`0.5px solid ${e.stroke.secondary}`}})),[]),s=(0,l().KE)(n);return(0,A.jsxs)(R().jX,{gap:2,style:i.card,children:[(0,A.jsx)(R().jX,{gap:20,padding:16,children:(0,A.jsx)(q,{product:s})}),t?(0,A.jsx)(R().jX,{direction:"row",gap:8,padding:16,style:i.footer,children:(0,A.jsx)(W,{asyncPrice:t,ctaType:r,onClick:a,priceStore:o})}):null]})}var Q=()=>t(887863);function J(){const e=(0,P().YB)(),r=(0,L().yK)((e=>({icon:{width:16,color:e.icon.purplePrimary}})),[]);return(0,A.jsxs)(R().jX,{gap:13,children:[(0,A.jsx)(H().q,{styleName:"iOS/Subhead-15px/Medium-Compact",colorName:"secondary",children:e.formatMessage(D().j2.aiAddOnLabel)}),(0,A.jsxs)(R().jX,{direction:"row",gap:6,children:[(0,Q().r)(r.icon),(0,A.jsx)(H().q,{styleName:"iOS/Callout-16px/Regular",children:e.formatMessage(D().j2.aiAddedToPlan)})]})]})}var ee=()=>t(86048);function re(e){const{buttonLabel:r,label:t,onClick:n,progressBarColors:o,usageLabel:a,usage:i}=e,s=i.usedCount/i.totalCount*100;return(0,A.jsxs)(R().jX,{gap:13,children:[(0,A.jsx)(H().q,{styleName:"iOS/Subhead-15px/Medium-Compact",colorName:"secondary",children:t}),(0,A.jsxs)(R().jX,{gap:12,children:[(0,A.jsxs)(R().jX,{gap:8,children:[(0,A.jsx)(ee().k,{percentage:s,height:8,filledColor:o.filled,unfilledColor:o.unfilled}),(0,A.jsx)(H().q,{styleName:"iOS/Callout-16px/Regular",children:a})]}),n?(0,A.jsx)(O().Z,{onClick:n,children:r}):null]})]})}function te(e){const{usage:r,onClick:t}=e,n=(0,P().YB)(),o=function(){const e=(0,L().Fg)(),r="dark"===e.mode?e.accentColors.gray[200]:e.accentColors.gray[75];return{filled:e.icon.purplePrimary,unfilled:r}}();return(0,A.jsx)(re,{buttonLabel:n.formatMessage(D().j2.addToPlan),label:n.formatMessage(D().j2.aiAddOnLabel),onClick:t,progressBarColors:o,usage:r,usageLabel:n.formatMessage(D().j2.aiAddOnUsage,{usedCount:r.usedCount,totalCount:r.totalCount})})}function ne(e){const{onClick:r,usage:t}=e,n=(0,P().YB)(),o=function(){const e=(0,L().Fg)(),r=e.tint.regular;return{filled:e.accentColors.gray[900],unfilled:r}}();return(0,A.jsx)(re,{buttonLabel:n.formatMessage(D().j2.upgrade),label:n.formatMessage(D().j2.teamBlocksLabel),onClick:r,progressBarColors:o,usage:t,usageLabel:n.formatMessage(D().j2.teamBlocksUsage,{usedCount:t.usedCount,totalCount:t.totalCount})})}function oe(e){const{subscriptionTier:r,aiAvailability:t,teamBlocksAvailability:n}=e,o=(0,L().yK)((e=>({card:{borderRadius:16,border:`1px solid ${e.stroke.secondary}`,background:e.cardContentBackground}})),[]),a=(0,l().KE)(r);return(0,A.jsx)(R().jX,{gap:2,style:o.card,children:(0,A.jsxs)(R().jX,{gap:31,padding:16,children:[(0,A.jsx)(q,{product:a}),n?(0,A.jsx)(ne,{usage:n.usage,onClick:n.onClickUpgradePlan}):null,"limited"===(null==t?void 0:t.type)?(0,A.jsx)(te,{usage:t.usage,onClick:t.onClickAddAI}):null,"unlimited"===(null==t?void 0:t.type)?(0,A.jsx)(J,{}):null]})})}function ae(e){const{title:r,children:t}=e;return(0,A.jsxs)(R().jX,{gap:10,children:[(0,A.jsx)(H().q,{styleName:"iOS/Subhead-15px/Medium-Compact",colorName:"secondary",children:r}),(0,A.jsx)(R().jX,{gap:16,children:t})]})}function ie(e){const r=v().subscriptionDataStoreInstance,{currentPlan:t,availableTiers:n}=e,i=(0,P().YB)(),s=(0,L().yK)((e=>({wrapper:{background:e.surface.wash},allPlansLink:{display:"flex",color:"dark"===e.mode?e.accentColors.gray[900]:e.accentColors.gray[400],fontSize:14,fontWeight:T().Ue.regular,marginBottom:16,padding:4,marginLeft:-4}})),[]),l=(0,a().O7)(),[d,u]=(0,o.useState)(!1),p=(0,o.useCallback)((()=>{u((e=>!e))}),[u]),g=(0,o.useMemo)((()=>n.filter((e=>"upgrade"===(0,c().NY)({oldTier:t.subscriptionTier,newTier:e.subscriptionTier})))),[n,t.subscriptionTier]),m=(0,h().Hy)(r,l),x=n.length>g.length,f=d?n:g;return(0,A.jsxs)(R().jX,{gap:33,padding:"32px 16px 16px 16px",style:s.wrapper,children:[(0,A.jsx)(ae,{title:i.formatMessage(D().j2.activePlan),children:(0,A.jsx)(oe,{...t})}),(0,A.jsxs)(ae,{title:i.formatMessage(D().j2.otherPlans),children:[x?(0,A.jsx)(_().Z,{style:s.allPlansLink,onClick:p,children:i.formatMessage(D().j2.seeAllPlans)}):null,f.map(((e,r)=>(0,A.jsx)(G,{...e},r))),m&&(0,A.jsx)(N().X,{})]})]})}function se(){(0,C().h)();const{isMobile:e}=(0,a().Fy)();return e?(0,A.jsx)(le,{}):(0,A.jsx)(I().Y,{})}function le(){var e;const r=v().subscriptionDataStoreInstance,t=(0,o.useContext)(u().gv),[n,C]=o.useState(!1),I=(0,a().O7)(),L=(0,p().r)(),P=(0,i().VK)((()=>(0,x().zt)()),[]),T=(0,f().T)(r),R=(0,h().pQ)({spaceId:null==L?void 0:L.id}),_=null==R||null===(e=R.subscription)||void 0===e||null===(e=e.currentPeriodEnd)||void 0===e?void 0:e.toMillis(),D=(0,M().K)(),N=l().$3.filter((e=>e!==P)),U=(0,B().O)({billingInterval:T,priceStore:k().Z,products:N}),K=(0,b().e)(R),H=(0,s().ri)(R),O=K&&!H,V=(0,w().H)({billingData:R,canClick:O,source:"mobile_plans",onDismiss:t}),W=function(e){const{canClick:r,subscriptionDataStore:t,billingData:n,currentTier:o}=e,s=(0,a().O7)(),l=(0,p().r)(),d=(0,i().Kw)(t),u=(0,y().V)(d),m=(0,i().VK)((()=>{if(null!=l&&l.id)return function(e,r,t,n,o){return o>1&&(0,c().QM)(n)&&t?{showBlockUsage:!0,blockUsage:(0,S().Lz)(e,r,t,o),blockUsagePercent:+(100*(0,S().zl)(t,e,r,o)).toFixed(0)}:{showBlockUsage:!1,blockUsage:0,blockUsagePercent:0}}(s,l.id,t.state,o,u)}),[s,l,t,o,u]),x=(0,c().v5)();if(!m||!l||!m.showBlockUsage)return;const h=r?()=>{n&&(0,g().sv)({environment:s,product:"plus",billingData:n,spaceStore:l,from:"mobile_plans"})}:void 0;return{usage:{usedCount:m.blockUsage,totalCount:x},onClickUpgradePlan:h}}({canClick:O,currentTier:P,subscriptionDataStore:r,billingData:R});return L&&V?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(ie,{currentPlan:{subscriptionTier:P,aiAvailability:V,teamBlocksAvailability:W},availableTiers:N.map((e=>{const r=(0,c().NY)({oldTier:P,newTier:e});return{subscriptionTier:e,priceStore:k().Z,ctaType:r,asyncPrice:U[e],onClick:O?()=>{R&&("downgrade"!==r?(0,g().sv)({environment:I,product:e,billingData:R,spaceStore:L,from:"mobile_plans"}):C(!0))}:void 0}}))}),n?(0,A.jsx)(m().vS,{billingInterval:T,billingData:R,currentPeriodEnd:_,salesStatus:D,isOpen:n,onClose:()=>C(!1),onClickManageGuests:()=>{d().r$({openedFrom:"share_menu",currentTab:"members"})},onRequestDowngrade:g().sv,onRequestUpgrade:j().l}):null]}):null}var ce=()=>t(945634);const de=(0,t(827282).IU)("settingsPlans",{viewBox:"0 0 20 20",svg:(0,A.jsx)("path",{d:"M2.75781 17.7656C2.95312 17.7656 3.15625 17.6953 3.40625 17.5547L7.38281 15.4141L11.7031 17.8359C11.9844 17.9922 12.2891 18.0703 12.5781 18.0703C12.8516 18.0703 13.125 18 13.3594 17.8672L17.4453 15.5469C17.9141 15.2891 18.125 14.9141 18.125 14.3906V3.86719C18.125 3.28906 17.8047 2.96875 17.2422 2.96875C17.0469 2.96875 16.8438 3.03125 16.5859 3.17188L12.4453 5.47656L8.20312 2.875C7.96094 2.73438 7.6875 2.65625 7.41406 2.65625C7.13281 2.65625 6.85156 2.73438 6.60938 2.875L2.54688 5.1875C2.08594 5.45312 1.875 5.82812 1.875 6.35156V16.8594C1.875 17.4375 2.19531 17.7656 2.75781 17.7656ZM6.875 14.1719L3.35156 16.1094C3.3125 16.125 3.27344 16.1484 3.23438 16.1484C3.17188 16.1484 3.13281 16.1016 3.13281 16.0234V6.65625C3.13281 6.46875 3.20312 6.33594 3.39062 6.22656L6.59375 4.35156C6.69531 4.29688 6.78125 4.25 6.875 4.19531V14.1719ZM8.13281 14.2969V4.35938C8.21094 4.40625 8.30469 4.45312 8.38281 4.5L11.8672 6.625V16.3906C11.7578 16.3281 11.6406 16.2734 11.5234 16.2109L8.13281 14.2969ZM13.125 16.5312V6.54688L16.6484 4.625C16.6875 4.60156 16.7266 4.58594 16.7578 4.58594C16.8281 4.58594 16.8672 4.63281 16.8672 4.71094V14.0781C16.8672 14.2734 16.7891 14.4062 16.6094 14.5156L13.4766 16.3359C13.3594 16.4062 13.2422 16.4766 13.125 16.5312Z"})});var ue=()=>t(672788),pe=()=>t(76999),ge=()=>t(979614),me=()=>t(631842),xe=()=>t(921981),he=()=>t(630047);const fe=(0,t(677559).kF)(t(361223).rq,(e=>e.PlansModalContent));function be(e){const{isOpen:r,onClosed:t,onDismiss:n}=e;return(0,A.jsx)(xe().c,{isOpen:r,onClosed:t,onDismiss:n,areaConstraint:{width:{type:"min",length:1e3},height:{type:"unlimited",scroll:"allow"}},render:e=>{let{displayMode:r}=e;return(0,A.jsx)(u().a5,{displayMode:r,title:(0,A.jsx)(P()._H,{defaultMessage:"Plans",id:"subscription.plans.title"}),children:(0,A.jsx)(fe,{renderLoading:e=>(0,A.jsx)(he().F,{shouldShowSpinner:e})})})}})}let ye=!1;async function Ce(e){const{environment:r,from:t}=e;if(!ye){ye=!0;try{ge().Qr(r,{from:t}),await me().o.showAsyncModalComponent(be),ge().xo(r)}finally{ye=!1}}}function ke(){const e=(0,L().yK)((e=>({icon:{fill:e.mediumIconColor,width:16}})),[]),r=(0,a().O7)(),t=(0,pe().t)(v().subscriptionDataStoreInstance),s=function(){const e=(0,p().r)();return(0,i().VK)((()=>n(e)),[e])}(),l=t?de(e.icon):(0,ue()._)(e.icon),c=(0,o.useCallback)((()=>{Ce({environment:r,from:"mobile_sidebar"})}),[r]);return s?(0,A.jsx)(_().Z,{mobileFeedback:!0,onClick:c,children:(0,A.jsx)(ce().Z,{left:l,disableMobileBorder:!0,children:t?(0,A.jsx)(P()._H,{id:"plansSidebarButton.plans.title",defaultMessage:"Plans"}):(0,A.jsx)(P()._H,{id:"plansSidebarButton.upgrade.title",defaultMessage:"Upgrade"})})}):null}},519454:(e,r,t)=>{t.d(r,{R:()=>o});t(667294);var n=t(785893);const o=(0,t(827282).IU)("pencil",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M3.926 13.307H14.11c.183 0 .34-.066.472-.199a.644.644 0 00.198-.471.652.652 0 00-.198-.479.644.644 0 00-.472-.198H5.272l-1.346 1.347zm-.704-.636l7.683-7.684-1.312-1.319-7.69 7.684-.67 1.606c-.037.1-.017.191.06.273.083.082.174.105.274.069l1.655-.63zm8.34-8.326l.738-.732c.182-.187.278-.376.287-.567.009-.192-.068-.374-.232-.547l-.267-.267c-.169-.168-.351-.246-.547-.232-.196.014-.385.11-.567.287l-.739.732 1.327 1.326z"})})},993491:(e,r,t)=>{e.exports=t.p+"edfba4a6d1ff7acd.png"}}]);