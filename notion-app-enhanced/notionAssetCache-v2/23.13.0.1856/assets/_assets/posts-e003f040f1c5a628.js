"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[66287],{942834:(e,t,o)=>{o.d(t,{k:()=>a});var n=()=>o(431143),r=()=>o(253502),s=()=>o(636340),i=()=>o(269299);function a(e){const{environment:t,key:o,selectedKey:a,following:l,followSettings:c,navigableBlockId:d,userId:u,spaceId:p,from:m}=e;i().createAndCommit({userAction:"UpdateSidebarFollowControl.setFollowing",environment:e.environment,canUndo:!1,perform:t=>{s().Ue({environment:e.environment,table:n().t0,args:{following:l,followSettings:c,navigableBlockId:d,userId:u,spaceId:p},inMemoryRecordCache:e.environment.defaultRecordCache.inMemoryRecordCache,transaction:t})}}),l?r().RJ(t,{from:"page_updates"}):r().ub(t,{from:"page_updates"}),a!==o&&r().kL(t,{from:m,navigableBlockId:d,oldSetting:a,newSetting:o})}},128178:(e,t,o)=>{o.d(t,{I:()=>s,O:()=>r});var n=()=>o(132329);function r(e){const{cursors:t,rootStore:o}=e,r={};for(const n of t)for(const e of n.stack)for(const t of e)r[t.id]=t.index;n().default.setLimitParents(o,r)}function s(e){n().default.removeLimitParents(e.rootStore)}},745096:(e,t,o)=>{o.d(t,{Z:()=>N});o(821057),o(267602),o(653476),o(470928),o(749411);var n=o.n(o(467266)),r=o(667294),s=()=>o(504008),i=()=>o(492788),a=()=>o(219727),l=()=>o(142735),c=()=>o(926724),d=()=>o(156642),u=()=>o(565630),p=()=>o(741633),m=()=>o(217465),f=()=>o(81954),g=()=>o(680146),h=()=>o(720866),C=()=>o(513670),y=()=>o(839002),v=()=>o(342792),x=()=>o(696459),S=()=>o(418216),b=()=>o(128178),k=()=>o(853686),w=()=>o(401411),j=()=>o(143346),M=()=>o(203927),R=()=>o(824462);var I=()=>o(423402),P=()=>o(600785),_=()=>o(148976),T=()=>o(111599),Z=()=>o(275200),B=()=>o(391995),V=()=>o(113501),D=()=>o(32969),L=()=>o(658096),K=()=>o(876822),A=()=>o(804217),O=()=>o(749826),H=()=>o(688789),U=()=>o(601952),E=()=>o(842918),F=()=>o(822851);let q=!1;function N(e){return function(e){!function(e){const{pageStore:t,store:o}=e,{initialRequestCompleted:n,error:s}=(0,l().VK)((()=>({initialRequestCompleted:o.state.initialRequestCompleted,error:o.state.error})),[o]);(0,r.useEffect)((()=>{if(n&&!s)return V().Z.trackPage(t),()=>{V().Z.untrackPage(t)}}),[n,s,t])}(e);const{isCollectionInPage:t,updateIsCollectionInPage:o}=function(){const e=(0,a().O7)(),[t,o]=(0,r.useState)(!1),n=(0,r.useCallback)((o=>{var n;const{page:r,recordMap:s,inMemoryRecordCache:i}=o;if(t)return!0;const a=null===(n=i.getRecord({pointer:{table:"block",id:r.id,spaceId:r.spaceId},userId:e.currentUser.id}))||void 0===n?void 0:n.value;if(a)for(const e of s.getByTable("block")){var l,c,d;if(("collection_view"===(null===(l=e.value)||void 0===l||null===(l=l.value)||void 0===l?void 0:l.type)||"collection_view_page"===(null===(c=e.value)||void 0===c||null===(c=c.value)||void 0===c?void 0:c.type))&&a.parent_id!==(null===(d=e.value)||void 0===d||null===(d=d.value)||void 0===d?void 0:d.collection_id))return!0}return!1}),[e,t]);return{isCollectionInPage:t,updateIsCollectionInPage:(0,r.useCallback)((e=>{o(n(e))}),[n])}}(),n=(0,r.useRef)(null);(function(e){const{store:t,pageStore:o}=e,n=(0,a().O7)(),{loading:c,endOfResultsReached:d,initialRequestCompleted:u,error:f}=(0,l().VK)((()=>({loading:t.state.loading,endOfResultsReached:t.state.endOfResultsReached,initialRequestCompleted:t.state.initialRequestCompleted,error:t.state.error})),[t]),g=J(e),C=function(e){const{initialChunkSize:t,pageStore:o}=e,n=(0,a().O7)(),s=(0,a().Fy)(),i=W(e),l=z(e),c=J(e);return(0,r.useCallback)((async()=>{const e={page:{id:o.id,spaceId:o.getSpaceId()},limit:t,cursor:{stack:[]},verticalColumns:s.isMobile};try{return{firstPageChunkResult:await i({request:e,mode:"inMemoryOnly",isFirstChunk:!0})}}catch(f){}const r=function(e){const{pageId:t}=e,o=window.__serverSidePrefetchData;if(o&&(delete window.__serverSidePrefetchData,o.pageId===t)){const e=m().RecordMapWithRole.create(o.recordMap);return{source:"remoteV2",cursors:o.cursors,recordMap:e}}}({pageId:o.id});if(r)return{firstPageChunkResult:r};const a=G(e),d=a?n.prefetchCache.getPrefetchStatus(a):void 0,u=Boolean(n.defaultRecordCache.persistedRecordCache)&&"success"!==d,g=new AbortController,h=new AbortController,C=[...u?[i({request:e,mode:s.isAndroid?"inMemoryAndDiskCache":"inMemoryAndDiskCacheWithInexactPreload",isFirstChunk:!0,abortSignal:g.signal})]:[],l({request:e,headers:(0,p().Bb)({recordId:o.id,spaceId:o.getSpaceId()}),abortSignal:h.signal})];c.concurrentlyWithAsyncRequests();const y=await Promise.any(C);return"local"===y.source?h.abort():"remote"===y.source||"remoteV2"===y.source?g.abort():(0,x().t1)(y),{firstPageChunkResult:y}}),[c,s.isMobile,s.isAndroid,n.defaultRecordCache.persistedRecordCache,n.prefetchCache,t,i,l,o])}(e),v=function(e){const{pageStore:t,incrementChunkSize:o}=e,n=(0,a().Fy)(),s=W(e),i=z(e),l=J(e);return(0,r.useCallback)((async e=>{const{firstPageChunkResult:r}=e,a=e=>("remoteV2"===e.source?e.cursors:[e.cursor]).filter((e=>e.stack.length>0));let c=a(r);for(;c.length>0;){c=(await y().qd(c,10,(async e=>{const a={page:{id:t.id,spaceId:t.getSpaceId()},limit:o,cursor:e,verticalColumns:n.isMobile};let c;try{c="local"===r.source?await s({request:a,mode:"inMemoryAndDiskCache",isFirstChunk:!1}):await i({request:a,headers:(0,p().Bb)({cellId:"cellId"in e?e.cellId:void 0})})}catch(f){c="remoteV2"===r.source?{source:"remoteV2",cursors:[],recordMap:m().RecordMapWithRole.create({})}:{source:r.source,cursor:{stack:[]},recordMap:m().RecordMapWithRole.create({})}}return l.afterEachChunk(c),c}))).flatMap((e=>a(e)))}}),[l,n.isMobile,o,s,i,t])}(e);if(c||d||u&&f)return;async function b(){let e;t.setState({...t.state,loading:!0}),E().Z.markRequestFirstChunkStart(),U().default.state.initialRenderCompleted||S().setSubMetric({name:"render_end_to_await_page_chunk_start",startTime:e=>{var t;return null===(t=e.render_start_to_render_end)||void 0===t?void 0:t.endTime},endTime:performance.now()});try{e=(await C()).firstPageChunkResult}catch(f){return void j(f)}if(!U().default.state.initialRenderCompleted){S().setSubMetric({name:"await_page_chunk_start_to_await_page_chunk_end",startTime:e=>{var t;return null===(t=e.render_end_to_await_page_chunk_start)||void 0===t?void 0:t.endTime},endTime:performance.now()});const t=n.prefetchCache;S().updateMetricData({page_chunk_source:e.source,page_chunk_prefetch:t.getPrefetchAnalytic(`loadCachedPageChunk(${o.id})`)})}E().Z.markRequestFirstChunkEnd(e.source),k(),O().default.checkGate({gateName:"load_page_flush"})?await i().default.flush():await i().default.afterNextFlush(),g.afterEachChunk(e);const r=v({firstPageChunkResult:e});try{await r}catch(f){return void j(f)}w(),g.afterAllChunks()}function k(){t.setState({...t.state,initialRequestCompleted:!0})}function w(){t.setState({initialRequestCompleted:!0,ready:!0,loading:!1,endOfResultsReached:!0,error:void 0})}function j(e){t.setState({ready:!0,initialRequestCompleted:!0,loading:!1,endOfResultsReached:!1,error:(0,h().t)(e)})}s().Z.withListenerIgnored((()=>{b()}))})({...e,updateIsCollectionInPage:o,scrollerRef:n}),function(e){const{store:t,scrollToBlockIds:o,onReady:n,onDone:s,pageStore:a}=e;(0,r.useEffect)((()=>{let e;const r=C().IH((()=>{o&&n&&(e=async function(e,t){e&&await M().Nz(t,e)}(o,a))})),l=C().IH((()=>{n&&i().default.afterNextFlush((()=>{i().default.afterNextFlush((async()=>{if(e){const t=performance.now();await(0,y().aM)(e,5e3),U().default.state.initialRenderCompleted||S().updateMetricData({scroll_to_blocks_wait_time:performance.now()-t})}n()}))}))})),c=C().IH((()=>{null==s||s()})),d=()=>{t.state.loading&&r(),t.state.ready&&l(),(t.state.endOfResultsReached||t.state.error)&&c()};return t.addListener(d),()=>{t.removeListener(d)}}),[s,n,a,o,t])}(e),function(e){const{store:t}=e,o=(0,l().VK)((()=>t.state.error),[t]),n=(0,l().VK)((()=>A().default.state.online),[]),s=(0,u().D9)(n),i=void 0!==s&&(n&&!s);(0,r.useEffect)((()=>{i&&o&&t.reset()}),[i,t,o])}(e),function(){const e=(0,a().O7)(),t=(0,l().VK)((()=>{var e;return null===(e=K().default.state.mainEditorCurrentBlockStore)||void 0===e?void 0:e.id}),[]),o=(0,l().VK)((()=>K().default.state.currentUserRootStore),[]),n=(0,l().VK)((()=>A().default.state.online),[]),s=(0,u().D9)(n),i=void 0!==s&&(n&&!s);(0,r.useEffect)((()=>{async function n(){const{route:n}=e.RouterStore.state,r=await w().XB({environment:e,request:{...n,type:"block-space",blockId:t,spaceId:"spaceId"in n?n.spaceId:void 0,slug:"slug"in n?n.slug:void 0,spaceDomain:"spaceDomain"in n?n.spaceDomain:void 0,requestedOnPublicDomain:"requestedOnPublicDomain"in n?n.requestedOnPublicDomain:void 0,isBot:!1}});if("failed"===r.type)return;const s=r.data;if(L().default.setState({publicPageData:s}),s.spaceId&&o){const e=o.getSpaceViewStores().find((e=>e.getSpaceId()===s.spaceId));e&&K().default.setState({...K().default.state,currentSpaceStore:e.getSpaceStore(),currentSpaceViewStore:e})}}i&&t&&n()}),[i,e,t,o])}();const{store:c}=e;return{...(0,l().VK)((()=>({ready:c.state.ready,error:c.state.error,initialRequestCompleted:c.state.initialRequestCompleted,endOfResultsReached:c.state.endOfResultsReached})),[c]),isCollectionInPage:t,scrollerRef:n}}({...e,store:(0,l().qz)(e.store,F().Z)})}function z(e){const{pageStore:t}=e,o=(0,a().O7)();return(0,r.useCallback)((async e=>{const{request:n,headers:r,abortSignal:s}=e,i=T().e9(t),a=await T().HI({environment:o,request:{...n,...i?{omitExistingRecordVersions:i}:{}},abortSignal:s,prefetchCacheKey:G(n),headers:r});if(null!=s&&s.aborted)throw new Error("Abort signal received");if("success"===a.type){const e=m().RecordMapWithRole.create(a.data.recordMap),t=a.data;return"cursors"in t?{recordMap:e,cursors:t.cursors,source:"remoteV2"}:{recordMap:e,cursor:t.cursor,source:"remote"}}throw g().rn(a.error,{from:"useLoadRemotePageChunk",type:"pageLoadingError",data:{pageId:t.id,miscDataToConvertToString:{offline:a.offline,status:a.status,body:a.body}}}),new Error("No successful load result found.")}),[o,t])}function W(e){const{pageStore:t}=e,o=(0,a().O7)();return(0,r.useCallback)((async e=>{const{request:n,mode:r,isFirstChunk:s,abortSignal:i}=e,a=await B().A.measure("localLoadPageChunk",n.page.id,(()=>T().fV({mode:r,environment:o,request:n,isFirstChunk:s,abortSignal:i})));if(null!=i&&i.aborted)throw new Error("Abort signal received");const l=m().RecordMapWithRole.create(a.recordMap);return j().fL({environment:o,inMemoryRecordCache:t.inMemoryRecordCache,recordMap:l,debugSource:"PageLoadingContainer.performLocalLoadPageChunk"}),{source:"local",cursor:a.cursor,recordMap:l}}),[o,t])}function J(e){const{pageStore:t,store:o,scrollToDiscussionId:n,scrollerRef:s,scrollToPosition:l,scrollToBlockIds:u,updateIsCollectionInPage:p,pageVisitStore:m,disableSideEffects:f}=e,g=(0,a().O7)(),h=(0,r.useCallback)((()=>{f||(O().default.checkGate({gateName:"fetch_backlinks_after_page_load"})||Y({environment:g,blockPointer:t.pointer}),k().Ri(g,{blockStore:t,pageVisitStore:m,incremental:!1}).catch((()=>{})))}),[f,g,t,m]),y=(0,r.useCallback)((e=>{if(f)return;const r="remoteV2"===e.source?e.cursors:[e.cursor];var a,c;0===(a=r).length||1===a.length&&(!(c=a[0])||0===c.stack.length)||i().default.afterNextFlush((()=>{if(o.state.ready)return;const e=!n||(t=n,Boolean((0,P()._)({discussionId:t})));var t;const r=!0===function(e){const{scrollerRef:t,scrollToPosition:o}=e;if(null===t.current)return;const n=(0,Z().VW)(t.current);return!n||!C().hj(o)||o<=n.scrollHeight-n.clientHeight}({scrollerRef:s,scrollToPosition:l})&&function(e){return!e||D().C.findSelectablesFromIds(e).length===e.length}(u)&&e;r&&o.setState({...o.state,ready:!0})})),p({page:{id:t.id,spaceId:t.getSpaceId()},recordMap:e.recordMap,inMemoryRecordCache:t.inMemoryRecordCache}),g.currentUser.isLoggedIn()&&(H().default.addFromRecordMapWithRole(e.recordMap),H().default.isEmpty()||I().dY({environment:g})),b().O({rootStore:t,cursors:r})}),[f,g,t,u,n,l,s,o,p]),v=(0,r.useCallback)((()=>{if(!f&&(O().default.checkGate({gateName:"fetch_backlinks_after_page_load"})&&"personal_home_page"!==t.getType()&&Y({environment:g,blockPointer:t.pointer}),g.currentUser.isLoggedIn())){const e=t.getFormat(),o=t.getType();(0,_().K6)()&&o&&(0,d().dM)(o)&&((null==e?void 0:e.app_config_uri)===c().NB||(null==e?void 0:e.app_config_uri)===c().Aw)&&async function(e,t){await R().callApi({eventName:"resyncJiraCollection",environment:e,data:{pagePointer:t}})}(g,t.pointer)}}),[f,g,t]);return(0,r.useMemo)((()=>({concurrentlyWithAsyncRequests:h,afterEachChunk:y,afterAllChunks:v})),[h,y,v])}async function Y(e){const{blockPointer:t,environment:o}=e;o.LocalBacklinkStore.initializeBacklinks({block:{id:t.id,spaceId:(0,f().J)(t.spaceId)},currentUserId:o.currentUser.id,environment:o});try{await o.LocalBacklinkStore.awaitLoaded(t.id)}catch(n){}}function G(e){if(function(e){return!e.cursor||0===e.cursor.stack.length}(e))return`loadCachedPageChunk(${e.page.id})`;{const t=(0,v().Ul)(n()(e.cursor));return`loadCachedPageChunk(${e.page.id})-${t}`}}(0,o(947115).exposeDebugValue)("toggleLogLocalPageLoadFailures",(()=>{q=!q,console.info(q?"Local page load error logging enabled":"Local page load error logging disabled")}))},83447:(e,t,o)=>{o.d(t,{Z:()=>l});o(667294);var n=()=>o(846550),r=()=>o(788860),s=()=>o(654133),i=()=>o(623596),a=o(785893);function l(e){const{onClick:t}=e,o=(0,n().yK)((e=>({moreCommentsWrapper:{position:"absolute",display:"flex",justifyContent:"center",alignItems:"flex-start",zIndex:1,left:0,right:0,height:30,background:`linear-gradient(to bottom, ${e.contentBackgroundTransparent} 0px, ${e.selectedMarginDiscussionBackground} 30px`,marginTop:-28},tooltip:{...(0,s().J)(e,!1),cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",marginTop:-4,borderRadius:6,padding:"4px 10px 4px 8px"}})),[]),l=(0,n().Fg)();return(0,a.jsx)("div",{style:o.moreCommentsWrapper,children:(0,a.jsxs)("div",{style:o.tooltip,onClick:t,children:[(0,a.jsx)("div",{style:{marginRight:5},children:(0,i().K)({fill:l.regularInvertedTextColor,height:12,width:12})}),(0,a.jsx)(r()._H,{defaultMessage:"See more",id:"discussion.moreMessageTooltip"})]})})}},46335:(e,t,o)=>{o.d(t,{Z:()=>l});o(667294);var n=()=>o(846550),r=()=>o(707513),s=()=>o(998901),i=()=>o(654133),a=o(785893);function l(e){let{text:t,tooltipText:o,icon:l}=e;const c=(0,n().yK)((e=>({icon:{height:"1em",width:"1em",marginRight:"0.25em",fill:e.mediumIconColor,marginBottom:"0.1em"},tooltip:{background:e.contentBackground,boxShadow:e.lightBoxShadow},container:{display:"flex",alignItems:"center",fontWeight:r().Ue.regular,color:e.mediumTextColor,fontSize:r().JB.UISmall.desktop,textAlign:"center"},text:{display:"inline"}})),[]);return(0,a.jsx)(i().Z,{style:c.tooltip,render:e=>(0,a.jsx)("div",{style:c.text,...e,children:t}),renderTooltip:()=>(0,a.jsxs)("div",{style:c.container,children:[l(c.icon),(0,a.jsx)("div",{children:o})]}),alignment:s().Alignment.Start,placement:s().Placement.Bottom})}},972544:(e,t,o)=>{o.d(t,{S:()=>s,Z:()=>a});var n=o(667294),r=o(785893);const s=8;function i(e,t){let{isSelected:n}=e;const{radioButtonStyle:i,dotStyle:a}=(0,o(846550).yK)((e=>({radioButtonStyle:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:16,height:16,borderRadius:16,marginRight:s,background:n?e.blueColor:e.whiteButtonBackground,border:n?"none":`1px solid ${e.radioButtonBorder}`,transition:"background 100ms ease-out"},dotStyle:{width:6,height:6,borderRadius:6,background:e.regularInvertedTextColor,transition:"opacity 100ms ease-out",opacity:n?1:0}})),[n]);return(0,r.jsx)("div",{ref:t,style:i,children:(0,r.jsx)("div",{style:a})})}const a=n.forwardRef(i)},981697:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(667294),r=()=>o(219727);function s(e){const t=(0,r().O7)(),{onLongPress:o,hapticsEnabled:s=!0,timeout:i=300}=e,a=(0,n.useCallback)((()=>{var e,n,r;s&&(null!==(e=t.mobileNative)&&void 0!==e&&e.buzz?t.mobileNative.buzz():null===(n=(r=window.navigator).vibrate)||void 0===n||n.call(r,20));o()}),[t.mobileNative,s,o]),l=(0,n.useRef)(),c=(0,n.useRef)(0),d=(0,n.useRef)(0),u=(0,n.useCallback)((()=>clearTimeout(l.current)),[]);(0,n.useEffect)((()=>u),[u]);return{onTouchStart:(0,n.useCallback)((()=>{clearTimeout(l.current),l.current=setTimeout(a,i)}),[i,a]),onTouchMove:(0,n.useCallback)((e=>{const t=e.touches[0].clientX,o=e.touches[0].clientY;(Math.abs(t-c.current)>50||Math.abs(o-d.current)>50)&&clearTimeout(l.current)}),[]),onTouchEnd:u,onTouchCancel:u}}},623596:(e,t,o)=>{o.d(t,{K:()=>r});o(667294);var n=o(785893);const r=(0,o(827282).IU)("arrowDownSmall",{viewBox:"0 0 12 12",svg:(0,n.jsx)("path",{d:"M5.99756 0.850098C5.53564 0.850098 5.21875 1.17236 5.21875 1.65576V7.61768L5.27246 8.7832L4.19287 7.53711L2.98438 6.33398C2.84473 6.18896 2.66211 6.09229 2.42578 6.09229C2.00684 6.09229 1.68994 6.40381 1.68994 6.84424C1.68994 7.04834 1.77051 7.23633 1.93164 7.40283L5.42285 10.8994C5.56787 11.0498 5.78809 11.1357 5.99756 11.1357C6.2124 11.1357 6.42725 11.0498 6.57227 10.8994L10.0688 7.40283C10.23 7.23633 10.3105 7.04834 10.3105 6.84424C10.3105 6.40381 9.99365 6.09229 9.57471 6.09229C9.34375 6.09229 9.16113 6.18896 9.01611 6.33398L7.80762 7.53711L6.72803 8.7832L6.77637 7.61768V1.65576C6.77637 1.17236 6.46484 0.850098 5.99756 0.850098Z"})})},787356:(e,t,o)=>{o.d(t,{t:()=>n().t});var n=()=>o(394480)},193384:(e,t,o)=>{o.d(t,{j:()=>r});o(667294);var n=o(785893);const r=(0,o(827282).IU)("bellDisabled",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M7 15.2285C6.48047 15.2285 6.02246 15.11 5.62598 14.873C5.23405 14.6406 4.92188 14.333 4.68945 13.9502C4.46159 13.5719 4.33854 13.1618 4.32031 12.7197H1.51074C1.15072 12.7197 0.868164 12.6331 0.663086 12.46C0.462565 12.2822 0.362305 12.0475 0.362305 11.7559C0.362305 11.5143 0.426107 11.2842 0.553711 11.0654C0.681315 10.8421 0.843099 10.6279 1.03906 10.4229C1.23958 10.2178 1.44466 10.015 1.6543 9.81445C1.8138 9.65951 1.93685 9.45671 2.02344 9.20605C2.11003 8.9554 2.17611 8.67969 2.22168 8.37891C2.26725 8.07812 2.30371 7.77051 2.33105 7.45605C2.34017 7.08691 2.36296 6.73828 2.39941 6.41016C2.44043 6.08203 2.49512 5.77669 2.56348 5.49414L3.73926 6.66992C3.71647 6.8431 3.69596 7.02539 3.67773 7.2168C3.66406 7.4082 3.65495 7.60872 3.65039 7.81836C3.63216 8.12826 3.60482 8.41536 3.56836 8.67969C3.5319 8.94401 3.48405 9.18555 3.4248 9.4043C3.36556 9.62305 3.29264 9.81901 3.20605 9.99219C3.12402 10.1654 3.02604 10.3158 2.91211 10.4434C2.80273 10.571 2.68652 10.6963 2.56348 10.8193C2.44499 10.9378 2.33561 11.0472 2.23535 11.1475C2.13965 11.2477 2.06217 11.3275 2.00293 11.3867V11.4688H8.54492L10.0078 12.9385H9.64551C9.59538 13.3532 9.45182 13.7337 9.21484 14.0801C8.98242 14.4264 8.6748 14.7044 8.29199 14.9141C7.91374 15.1237 7.48307 15.2285 7 15.2285ZM7 14.1348C7.38737 14.1348 7.70866 14.0072 7.96387 13.752C8.21908 13.4967 8.35807 13.1527 8.38086 12.7197H5.6123C5.63965 13.1527 5.78092 13.4967 6.03613 13.752C6.29134 14.0072 6.61263 14.1348 7 14.1348ZM4.01953 2.99902C4.15625 2.89421 4.30208 2.7985 4.45703 2.71191C4.61654 2.62533 4.78516 2.55241 4.96289 2.49316C5.09049 2.04199 5.33431 1.66374 5.69434 1.3584C6.05436 1.05306 6.48958 0.900391 7 0.900391C7.50586 0.900391 7.9388 1.05306 8.29883 1.3584C8.65885 1.66374 8.90495 2.04199 9.03711 2.49316C9.9349 2.81673 10.5889 3.41146 10.999 4.27734C11.4137 5.14323 11.6416 6.2666 11.6826 7.64746C11.7008 7.9209 11.7282 8.17383 11.7646 8.40625C11.8011 8.63411 11.849 8.84603 11.9082 9.04199C11.972 9.2334 12.0518 9.41113 12.1475 9.5752C12.2477 9.73926 12.3685 9.89648 12.5098 10.0469C12.7786 10.3021 13.0293 10.5664 13.2617 10.8398C13.4941 11.1133 13.6104 11.4027 13.6104 11.708C13.6104 11.9587 13.5329 12.166 13.3779 12.3301L10.6641 9.55469C10.5911 9.39518 10.5342 9.22884 10.4932 9.05566C10.4567 8.87793 10.4271 8.68424 10.4043 8.47461C10.3815 8.26497 10.361 8.03027 10.3428 7.77051C10.3245 6.80892 10.222 6.04557 10.0352 5.48047C9.84831 4.91081 9.60449 4.4847 9.30371 4.20215C9.00293 3.9196 8.66569 3.72819 8.29199 3.62793C8.20996 3.6097 8.14616 3.5778 8.10059 3.53223C8.05501 3.4821 8.02767 3.41146 8.01855 3.32031C8.00033 2.97396 7.90007 2.69368 7.71777 2.47949C7.54004 2.2653 7.30078 2.1582 7 2.1582C6.69922 2.1582 6.45768 2.2653 6.27539 2.47949C6.0931 2.69368 5.99284 2.97396 5.97461 3.32031C5.97005 3.41146 5.94271 3.4821 5.89258 3.53223C5.84701 3.5778 5.78548 3.6097 5.70801 3.62793C5.57585 3.66439 5.44824 3.70996 5.3252 3.76465C5.20671 3.81934 5.09277 3.88542 4.9834 3.96289L4.01953 2.99902ZM0.615234 2.35645C0.514974 2.25163 0.464844 2.12402 0.464844 1.97363C0.464844 1.81868 0.514974 1.6888 0.615234 1.58398C0.724609 1.47917 0.854492 1.42676 1.00488 1.42676C1.15983 1.42676 1.28971 1.47917 1.39453 1.58398L13.8086 13.9912C13.9134 14.096 13.9658 14.2236 13.9658 14.374C13.9658 14.5244 13.9134 14.6543 13.8086 14.7637C13.7038 14.8685 13.5739 14.9209 13.4189 14.9209C13.2686 14.9209 13.141 14.8685 13.0361 14.7637L0.615234 2.35645Z"})})},999574:(e,t,o)=>{o.d(t,{L:()=>r});o(667294);var n=o(785893);const r=(0,o(827282).IU)("exitDoor",{viewBox:"0 0 20 20",svg:(0,n.jsx)("path",{d:"M4.121 17.468q-1.1 0-1.661-.568-.56-.567-.56-1.674V4.91q0-1.101.56-1.668.56-.574 1.661-.574h7.28q1.101 0 1.662.574.56.567.56 1.668v3.2h-1.34V4.998q0-.479-.246-.731-.246-.26-.745-.26H4.237q-.498 0-.745.26-.246.252-.246.731v10.145q0 .472.246.724.247.253.745.253h7.055q.5 0 .745-.253.246-.252.246-.724V12.02h1.34v3.206q0 1.107-.56 1.674-.561.568-1.662.568zm4.41-6.775a.6.6 0 0 1-.438-.184.6.6 0 0 1-.185-.444q0-.26.185-.445a.59.59 0 0 1 .437-.191h6.884l1.019.054-.506-.423-1.012-.964a.54.54 0 0 1-.191-.431q0-.233.15-.396a.51.51 0 0 1 .396-.165.55.55 0 0 1 .404.185l2.215 2.297a.7.7 0 0 1 .164.24.62.62 0 0 1 0 .478.8.8 0 0 1-.164.239l-2.215 2.297a.56.56 0 0 1-.403.178.51.51 0 0 1-.397-.165.6.6 0 0 1-.15-.403q0-.253.191-.424l1.012-.957.506-.424-1.019.048H8.53Z"})})},781860:(e,t,o)=>{o.d(t,{c:()=>r});o(667294);var n=o(785893);const r=(0,o(827282).IU)("expandFullPage",{viewBox:"0 0 14 14",svg:(0,n.jsx)("path",{d:"M1.16211 6.20312C0.947917 6.20312 0.770182 6.13249 0.628906 5.99121C0.48763 5.84538 0.416992 5.66764 0.416992 5.45801V1.71191C0.416992 1.32454 0.524089 1.02376 0.738281 0.80957C0.957031 0.59082 1.26237 0.481445 1.6543 0.481445H5.44141C5.66016 0.481445 5.83789 0.552083 5.97461 0.693359C6.11589 0.834635 6.18652 1.01237 6.18652 1.22656C6.18652 1.44531 6.11589 1.62533 5.97461 1.7666C5.83333 1.90332 5.6556 1.97168 5.44141 1.97168H4.91504L2.76172 1.82812L4.43652 3.4209L6.41895 5.38965C6.4873 5.46257 6.53971 5.54688 6.57617 5.64258C6.61719 5.73372 6.6377 5.83171 6.6377 5.93652C6.6377 6.16439 6.5625 6.34896 6.41211 6.49023C6.26628 6.63151 6.07715 6.70215 5.84473 6.70215C5.63965 6.70215 5.46647 6.63151 5.3252 6.49023L3.35645 4.50098L1.76367 2.82617L1.90723 4.97266V5.45801C1.90723 5.6722 1.83659 5.84993 1.69531 5.99121C1.55859 6.13249 1.38086 6.20312 1.16211 6.20312ZM8.55176 13.6543C8.33757 13.6543 8.15755 13.5837 8.01172 13.4424C7.87044 13.3011 7.7998 13.1234 7.7998 12.9092C7.7998 12.695 7.87044 12.5173 8.01172 12.376C8.15755 12.2347 8.33757 12.1641 8.55176 12.1641H9.07812L11.2383 12.3076L9.5498 10.7148L7.58105 8.74609C7.50358 8.67318 7.44434 8.59115 7.40332 8.5C7.36686 8.4043 7.34863 8.30404 7.34863 8.19922C7.34863 7.97135 7.42383 7.78678 7.57422 7.64551C7.72461 7.50423 7.91374 7.43359 8.1416 7.43359C8.35579 7.43359 8.53125 7.50423 8.66797 7.64551L10.6299 9.62793L12.2295 11.3096L12.0859 9.16309V8.67773C12.0859 8.46354 12.1566 8.28581 12.2979 8.14453C12.4391 8.00326 12.6146 7.93262 12.8242 7.93262C13.0384 7.93262 13.2161 8.00326 13.3574 8.14453C13.5033 8.28581 13.5762 8.46354 13.5762 8.67773V12.417C13.5762 12.8089 13.4668 13.112 13.248 13.3262C13.0339 13.5449 12.7308 13.6543 12.3389 13.6543H8.55176Z"})})},46845:(e,t,o)=>{o.d(t,{D:()=>n().D});var n=()=>o(396820)},603332:(e,t,o)=>{o.d(t,{Z:()=>s});var n=()=>o(431143),r=()=>o(696459);function s(e,t){switch(e){case"all":return{following:!0,followSettings:{...(0,n().yI)({explicitly_set_by_user:!0}),feed_setting:t}};case"important":return{following:!0,followSettings:{...(0,n().GC)({explicitly_set_by_user:!0}),feed_setting:t}};case"comments":return{following:!0,followSettings:{...(0,n().r$)({explicitly_set_by_user:!0}),feed_setting:t}};case"none":return{following:!1,followSettings:{...(0,n().vU)({explicitly_set_by_user:!0}),feed_setting:t}};default:(0,r().t1)(e)}}},199676:(e,t,o)=>{o.d(t,{b:()=>f});o(670560),o(429830),o(267602),o(241792),o(228244);var n=()=>o(481529),r=()=>o(728670),s=()=>o(528514),i=()=>o(933868),a=()=>o(255933),l=()=>o(332542),c=()=>o(269299),d=()=>o(205228),u=()=>o(872308),p=()=>o(774172),m=()=>o(20825);function f(e){const{environment:t,draftPostStore:o,onSubmitPost:i}=e,f=t.currentUser.id;o&&f&&(o.isPublishedPost()||(!function(e){const{environment:t,postStore:o}=e;c().createAndCommit({environment:t,perform:e=>(o.getContentStores().toReversed().some((t=>{if(!(0,p().y)(t))return!0;l().hr({childStore:t,parentStore:o,transaction:e})})),o),userAction:"PostChannel.trimPostDraft",canUndo:!1})}({environment:t,postStore:o}),function(e){const{environment:t,blockToDuplicateStore:o,userId:i}=e;if(!o.isDefined())return;const p=(0,r().DW)(o.getParentPointer(),o.getRecordModel),m=(0,s().Wo)(p).map((e=>({...e,role:g(e.role,"comment_only")})));m.push({type:"restricted_permission"}),m.push({type:"user_permission",user_id:i,role:"editor"}),c().createAndCommit({environment:t,perform:e=>{const[[r],s]=u().duplicateBlock({environment:t,stores:[o],addCopyName:!1,transaction:e,deepCopyTransclusionContainers:!1,resolveTemplateVariables:!1,targetSpaceId:o.getSpaceId(),baseUrl:d().default.domainBaseUrl,publicDomainName:d().default.publicDomainName,preferDuplicateLocation:"local",createActivities:!0});return c().applyOperation({store:r,operation:n().op.update({pointer:r.pointer,path:[],args:{alive:!0,parent_id:o.getParentId(),parent_table:o.getParentTable(),permissions:m,created_time:Date.now(),last_edited_time:Date.now()}}),transaction:e}),c().applyOperation({store:r,operation:{command:"update",pointer:r.pointer,path:["format"],args:{draft_status:"published"}},transaction:e}),c().applyOperation({store:o,operation:n().op.update({pointer:o.pointer,path:[],args:{alive:!1}}),transaction:e}),e.postSubmitCallbacks.push((()=>s.then((()=>c().createAndCommit({environment:t,perform:e=>(l().zo({blockStore:o,transaction:e}),c().applyOperation({store:o,operation:n().op.update({pointer:o.pointer,path:[],args:{parent_id:o.getSpaceId(),parent_table:a().bx,permissions:[{type:"restricted_permission"}]}}),transaction:e}),o),userAction:"PostChannel.cleanupDraft",canUndo:!1}))))),r},userAction:"PostChannel.publishDraft",canUndo:!1}).performResult}({environment:t,blockToDuplicateStore:o,userId:f}),null==i||i(),m().Z.setState({isOpen:!1})))}function g(e,t){if(!e)return e;const o="string"==typeof e&&e in i().xm?i().xm[e]:void 0;if(!o)return e;return o>i().xm[t]?t:e}},424629:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(667294),r=()=>o(788860),s=o(785893);function i(e){const t=(0,o(142735).VK)((()=>{if(!e.postStore)return 0;const t=(0,o(239482).tM)(e.postStore);return t?null==t?void 0:t.getRawMembership().length:0}),[e.postStore]);return(0,s.jsx)(o(708518).Z,{open:e.isOpen,onDismiss:e.onDismiss,render:()=>(0,s.jsx)(o(543631).ZP,{icon:o(46845).D,title:(0,s.jsx)(r()._H,{id:"posts.confirmMentionEveryoneModal.title",defaultMessage:"Notify {sizeOfTeam} people?",values:{sizeOfTeam:t}}),subtitle:(0,s.jsx)(r()._H,{id:"posts.confirmMentionEveryoneModal.subtitle",defaultMessage:"Using @everyone notifies everyone in the teamspace. Are you sure you want to send this?"}),confirmText:(0,s.jsx)(r()._H,{id:"posts.confirmMentionEveryoneModal.confirmText",defaultMessage:"Send"}),cancelText:(0,s.jsx)(r()._H,{id:"posts.confirmMentionEveryoneModal.cancelText",defaultMessage:"Edit message"}),confirmTextStyle:"red",radioOptions:[],onDismiss:e.onDismiss,onConfirm:e.onConfirm})})}const a=n.memo(i)},305172:(e,t,o)=>{o.r(t),o.d(t,{default:()=>ht});o(670560),o(267602),o(731107);var n=o(667294),r=()=>o(219727),s=()=>o(142735),i=()=>o(846550),a=()=>o(933868),l=()=>o(396136),c=()=>o(282662),d=()=>o(636340),u=()=>o(269299),p=()=>o(887430),m=()=>o(455876),f=()=>o(775316),g=()=>o(718959),h=()=>o(487270),C=()=>o(876822),y=()=>o(826955),v=()=>o(34910),x=()=>o(178025),S=()=>o(199676),b=()=>o(774172),k=()=>o(620358),w=()=>o(424629),j=(o(916054),()=>o(506347)),M=()=>o(955620),R=()=>o(788860),I=()=>o(513670),P=()=>o(696459),_=()=>o(707513),T=()=>o(497065),Z=()=>o(106502),B=()=>o(1910),V=()=>o(94967),D=()=>o(906651),L=()=>o(842574),K=()=>o(654133),A=()=>o(981583),O=()=>o(254805),H=()=>o(299519),U=()=>o(982855),E=()=>o(520849),F=()=>o(855249),q=()=>o(240703);const N={padding:20,paddingBottom:12},z=1;function W(e){let{isPhone:t,theme:o,borderOnly:n}=e;if("dark"===o.mode)return o.homeShadow.card.hovered;o.mode;const r=function(e){let{mode:t,isPhone:o}=e;switch(t){case"dark":return 0;case"light":return z;default:return(0,P().P)(t),0}}({mode:o.mode,isPhone:t});return(0,I().oA)([n||t?void 0:"0 12px 32px rgba(0, 0, 0, 0.02)",`0 0 0 ${r}px rgba(0, 0, 0, 0.05)`]).join(", ")}function J(e){const{isPhone:t,theme:o,borderOnly:n}=e;return{unhoveredBoxShadow:W({isPhone:t,theme:o,borderOnly:n}),hoveredBoxShadow:"light"===o.mode?["0 12px 32px rgba(0, 0, 0, 0.03)","0 0 0 1px rgba(0, 0, 0, 0.085)"].join(", "):"rgba(255, 255, 255, 0.1) 0px 0px 0px 1px inset"}}var Y=()=>o(429725);function G(e){return function(e){const{blockStore:t,pageVisitSource:o}=e;return(0,s().VK)((()=>(0,Y().ZP)({store:t,openInCenterPeek:!0,peekViewBlockId:t.id,pageVisitSource:o})),[t,o])}({blockStore:e,pageVisitSource:j().tY.PeekOpen})}var $=()=>o(20825),X=o(785893);function Q(e){const{teamStore:t,postStore:o,isEditing:r,composerStyle:s,onSubmit:i,createDraft:a,discardDraft:l,setComposerStyle:c}=e,[d,u]=(0,n.useState)(o);(0,n.useEffect)((()=>{(null==o?void 0:o.id)!==(null==d?void 0:d.id)&&u(o)}),[o,null==d?void 0:d.id]);const p=re(d),m=(0,n.useCallback)((e=>{r?$().Z.reset():(null==c||c("preview"),(e.deleteNonEmptyDraft||p)&&(u(void 0),l()))}),[r,c,p,l,u]);switch(s){case"preview":return(0,X.jsx)(te,{teamStore:t,postStore:d,setComposerStyle:c,createDraft:a});case"inline":return d?(0,X.jsx)(ne,{postStore:d,setComposerStyle:c,onSubmit:i,onDismiss:m}):null;default:(0,P().t1)(s)}}function ee(e){const{teamStore:t,postStore:a,setComposerStyle:l,createDraft:c}=e,d=(0,r().O7)(),u=(0,r().Fy)(),[p,m]=(0,n.useState)(!1),f=(0,s().VK)((()=>C().default.state.currentSpaceStore),[]),g=(0,s().VK)((()=>C().default.state.currentUserStore),[]),h=re(a),{canJoinTeam:y}=(0,x().K)({teamStore:t}),v=(0,n.useCallback)((()=>m(!0)),[]),S=(0,n.useCallback)((()=>m(!1)),[]),b=(0,n.useCallback)((()=>{if(!y)if(u.isMobile){var e;const t=a??c(),o=null==t||null===(e=t.getModel())||void 0===e?void 0:e.getRenderUrl({getRecordModel:t.getRecordModel,pageVisitSource:j().tY.TeamHomePage});o&&T().c4({environment:d,url:o})}else a||c(),null==l||l("inline")}),[c,u.isMobile,d,a,l,y]),k=(0,n.useCallback)((async()=>{f&&t&&await o(555813).um({environment:d,teamStore:t,currentSpaceStore:f,from:"team_home",andNavigateToTeamHome:!1})}),[f,d,t]),w=(0,i().yK)((e=>{const{unhoveredBoxShadow:t,hoveredBoxShadow:o}=J({isPhone:u.isPhone,theme:e}),n="dark"===e.mode;return{container:{cursor:"pointer",display:"flex",flexDirection:"row",alignItems:"center",gap:6,paddingTop:12,paddingBottom:12,paddingLeft:20,paddingRight:20,borderRadius:12,boxShadow:p?o:t,background:n?e.surface.wash:e.surface.page},previewContent:{display:"flex",flexDirection:"row",alignItems:"center",gap:12},joinIcon:{fill:e.icon.secondary},joinButton:{color:e.text.secondary}}}),[u.isPhone,p]);return(0,X.jsxs)("div",{style:w.container,onMouseEnter:v,onMouseLeave:S,onClick:b,children:[(0,X.jsx)(A().Z,{userStore:g,size:24,avatarShouldShowShadow:!1}),(0,X.jsx)(se,{postStore:a}),y&&(0,X.jsx)(o(92175).Z,{icon:o(999574).L,iconStyle:w.joinIcon,style:w.joinButton,isLarge:!0,onClick:k,children:(0,X.jsx)(R()._H,{id:"posts.postComposer.joinTeam",defaultMessage:"Join"})}),(0,X.jsx)(K().Z,{disableTooltip:!y,renderTooltip:()=>(0,X.jsx)(R()._H,{id:"posts.postButton.disabledTooltip",defaultMessage:"Join the teamspace to post"}),placement:o(998901).Placement.Top,render:e=>(0,X.jsx)(D().Z,{isLarge:!0,disabled:y,...e,children:h?(0,X.jsx)(R()._H,{id:"posts.postButton.label",defaultMessage:"Post"}):(0,X.jsx)(R()._H,{id:"posts.postButton.resume",defaultMessage:"Resume post"})})})]})}const te=n.memo(ee);function oe(e){const{postStore:t,onSubmit:s,onDismiss:a}=e,l=(0,r().Fy)(),[c,d]=(0,n.useState)(!1),u=re(t),p=(0,n.useCallback)((()=>d(!0)),[]),m=(0,n.useCallback)((()=>d(!1)),[]),f=G(t),g=(0,R().YB)(),h=(0,i().yK)((e=>{const{unhoveredBoxShadow:t,hoveredBoxShadow:o}=J({isPhone:l.isPhone,theme:e}),n="dark"===e.mode;return{container:{display:"flex",flexDirection:"column",gap:16,padding:24,borderRadius:12,boxShadow:c?o:t,background:n?e.surface.wash:e.surface.page,zIndex:1},scroller:{margin:-24,pointerEvents:"none",...N},fullScreenIconButton:{position:"absolute",right:u?24:54},closeIconButton:{position:"absolute",right:24},title:{marginRight:42,pointerEvents:"auto"},footer:{display:"flex",gap:8,justifyContent:"flex-end",alignItems:"center",zIndex:2},fullScreenIcon:{height:14,width:14}}}),[l.isPhone,c,u]);return t?(0,X.jsxs)("div",{style:h.container,onMouseEnter:p,onMouseLeave:m,children:[(0,X.jsx)(B().Z,{style:h.fullScreenIconButton,ariaLabel:g.formatMessage(q().s.fullScreenTooltip),icon:o(781860).c,iconStyle:h.fullScreenIcon,href:f}),!u&&(0,X.jsx)(K().Z,{renderTooltip:()=>g.formatMessage(q().s.deleteDraftTooltip),render:e=>(0,X.jsx)(B().Z,{style:h.closeIconButton,ariaLabel:g.formatMessage(q().s.deleteDraftTooltip),icon:o(518530).U,iconStyle:{height:16,width:16},onClick:()=>a({deleteNonEmptyDraft:!0}),...e})}),(0,X.jsx)(ie,{postStore:t,pageViewBlockContext:o(311562).S.Post,showSelectableHoverMenuOverlay:!1,scrollerStyle:h.scroller,titleStyle:h.title,children:(0,X.jsx)("div",{style:h.footer,children:(0,X.jsx)(D().Z,{onClick:s,disabled:u,isLarge:!0,children:(0,X.jsx)(R()._H,{id:"posts.postButton.label",defaultMessage:"Post"})})})})]}):null}const ne=n.memo(oe);function re(e){return(0,s().VK)((()=>!e||!!e.isEmptyTitle()&&e.getContentStores().every((e=>(0,b().y)(e)))),[e])}function se(e){const{postStore:t}=e,o=(0,r().Fy)(),n=(0,i().yK)((e=>({text:{fontSize:14,color:e.text.quaternary,flexGrow:1,flexShrink:1,..._().Yu}})),[]),a=re(t),l=(0,s().VK)((()=>{if(a)return o.isMobile?(0,X.jsx)(R()._H,{id:"posts.createPostButton.placeholder",defaultMessage:"Share an update..."}):(0,X.jsx)(R()._H,{id:"posts.createPostButton.placeholderFull",defaultMessage:"Share an update, @mention your team..."});let e=M().QaF((null==t?void 0:t.getTitleValue())??[]);const n=(null==t?void 0:t.getContentStores())??[];for(const t of n){const o=M().QaF(t.getTitleValue());if(o.length>0&&(e+=` ${o}`),e.length>300)break}return e}),[a,t,o.isMobile]);return(0,X.jsx)("div",{style:n.text,children:l})}function ie(e){const{postStore:t,pageViewBlockContext:o,showSelectableHoverMenuOverlay:n,children:r,scrollerStyle:i,titleStyle:a}=e,l=(0,R().YB)(),c=(0,s().VK)((()=>(0,U().GD)(void 0)),[]);return(0,X.jsxs)(V().Z,{debugName:"PostContentInput",capture:!0,onCommandEnter:I().yR,children:[(0,X.jsx)(H().Z,{store:t,isDefaultContainer:!0,isRootContainer:!0,render:e=>{let{selectableEvents:r,selectableHoverMenuOverlay:s}=e;return(0,X.jsxs)(L().Z,{type:E().Z.Y,style:i,store:F().Z,...r,children:[n&&s,(0,X.jsx)(O().ZP,{context:o,store:t,paddingBottom:20,titleStyle:a,disabled:!1,disableTopControls:!0,titlePlaceholder:l.formatMessage(q().s.postHeadingName)}),c&&(0,X.jsx)(Z().GC,{scrollerStore:F().Z})]})}}),r]})}o(241792);var ae=()=>o(146947),le=()=>o(646574),ce=()=>o(161002),de=()=>o(934158),ue=()=>o(696056),pe=()=>o(271839),me=()=>o(81954),fe=()=>o(989478),ge=()=>o(853686),he=()=>o(745096),Ce=()=>o(83447),ye=()=>o(138196),ve=()=>o(448419),xe=()=>o(108714),Se=()=>o(729775),be=()=>o(634760),ke=()=>o(46335),we=()=>o(98275),je=()=>o(345837),Me=()=>o(85307),Re=()=>o(965865),Ie=()=>o(12512),Pe=()=>o(239482),_e=()=>o(176691),Te=()=>o(981697),Ze=()=>o(155350),Be=()=>o(76225),Ve=()=>o(293936),De=()=>o(611252),Le=()=>o(469863),Ke=()=>o(383694),Ae=(o(653476),()=>o(491927)),Oe=()=>o(959137),He=()=>o(942834),Ue=()=>o(663366),Ee=()=>o(825270),Fe=()=>o(827973),qe=()=>o(198829),Ne=()=>o(255577),ze=()=>o(388284),We=()=>o(67961),Je=()=>o(141735),Ye=()=>o(352230),Ge=()=>o(677559),$e=()=>o(787356),Xe=()=>o(193384),Qe=()=>o(314379),et=()=>o(599631),tt=()=>o(953293),ot=()=>o(954593),nt=()=>o(739479),rt=()=>o(603332);const st=(0,R().vU)({addReaction:{id:"postActions.react.tooltip",defaultMessage:"React"},moreActions:{id:"postActions.more.tooltip",defaultMessage:"More actions"}});function it(e){const{show:t,blockStore:o}=e,n=(0,r().O7)(),{value:s}=(0,Ge().XJ)(Je().F.formulas),a=(0,r().Fy)(),l=(0,R().YB)(),c=(0,i().yK)((e=>({container:{position:"absolute",zIndex:1,right:16,opacity:t?1:0,transition:"opacity 100ms ease-out",display:"flex",padding:"2px",boxShadow:"0px 2px 12px 0px rgba(29, 27, 22, 0.06)",borderWidth:1,borderStyle:"solid",borderColor:e.stroke.secondary,borderRadius:6,backgroundColor:e.buttonGroupBackground,gap:1},moreMenuIcon:{height:16,width:16},reactIcon:{width:21,height:21,fill:e.icon.secondary}})),[t]),d=(0,Be().aE)();return(0,X.jsxs)("div",{style:c.container,children:[(0,X.jsx)(K().Z,{renderTooltip:()=>(0,X.jsx)(R()._H,{...st.addReaction}),render:e=>(0,X.jsx)(B().Z,{ariaLabel:l.formatMessage(st.addReaction),hasBackground:!1,showShadow:!1,icon:()=>(0,ot().V)(c.reactIcon),onClick:e=>{(0,Ee().t)({environment:n,blockStore:o,rect:e.currentTarget.getBoundingClientRect(),skipOpeningDiscussionOnSubmit:!0,formulasModule:s})},...e})}),(0,X.jsx)(ve().ZP,{style:d.popup,popupType:a.isMobile?ve().Z4.SlideUp:ve().Z4.Popup,placementToOrigin:ve().pO.Right,stopClickPropagation:!0,renderOrigin:e=>(0,X.jsx)(K().Z,{renderTooltip:()=>(0,X.jsx)(R()._H,{...st.moreActions}),render:t=>(0,X.jsx)(B().Z,{...e,...t,hasBackground:!1,showShadow:!1,icon:Qe().o,ariaLabel:l.formatMessage(st.moreActions)})}),render:e=>(0,X.jsx)(at,{blockStore:o,closeMenu:e.close})})]})}function at(e){const{blockStore:t,closeMenu:o}=e,n=(0,r().O7)(),a=(0,r().Fy)(),{value:l}=(0,Ge().XJ)(Je().F.formulas),c=G(t),d=function(e){return(0,s().VK)((()=>(0,Y().ZP)({store:e,peekViewBlockId:e.id,pageVisitSource:j().tY.CopyLink})),[e])}(t),p=(0,s().VK)((()=>{var e;return"all"===(null===(e=t.getFollowStore())||void 0===e||null===(e=e.getFollowSettings())||void 0===e?void 0:e.comments)}),[t]),m=(0,s().VK)((()=>[...a.isPhone&&t.canComment()?["addReaction"]:[],"copyLink","toggleNotifications",...t.canEdit()?["edit","delete"]:[]]),[t,a.isPhone]),f=(0,i().yK)((()=>({icon:{height:16,width:16}})),[]),g=(0,Be().aE)(),h=m.map(((e,r)=>{const s=r===m.length-1&&a.isMobile;switch(e){case"addReaction":return{key:e,render:e=>(0,X.jsx)(Fe().Z,{...e,icon:(0,ot().V)(f.icon),style:{...g.buttonMenuItem,...s&&g.transparentButtonMenuItemBorder},pressedStyle:g.buttonMenuItemPressed,titleStyle:g.title,title:(0,X.jsx)(R()._H,{id:"postActions.addReaction.button",defaultMessage:"React"}),onClick:e=>{(0,Ee().t)({environment:n,blockStore:t,rect:e.currentTarget.getBoundingClientRect(),skipOpeningDiscussionOnSubmit:!0,formulasModule:l}),o()}}),action:()=>{}};case"copyLink":return{key:e,render:e=>(0,X.jsx)(Fe().Z,{...e,icon:(0,et().N)(f.icon),style:{...g.buttonMenuItem,...s&&g.transparentButtonMenuItemBorder},pressedStyle:g.buttonMenuItemPressed,titleStyle:g.title,title:(0,X.jsx)(R()._H,{id:"postActions.copyLink.button",defaultMessage:"Copy link"})}),action:async()=>{const e=await Oe().F.clipboardActions.load();d&&e.copyString({environment:n,stringValue:d,copiedMessage:e.clipboardMessages.copiedLinkToClipboard})}};case"toggleNotifications":return{key:e,render:e=>p?(0,X.jsx)(Fe().Z,{...e,icon:(0,Xe().j)(f.icon),style:{...g.buttonMenuItem,...s&&g.transparentButtonMenuItemBorder},pressedStyle:g.buttonMenuItemPressed,titleStyle:g.title,title:(0,X.jsx)(R()._H,{id:"postActions.disableNotifications.button",defaultMessage:"Turn off reply notifications"})}):(0,X.jsx)(Fe().Z,{...e,icon:(0,$e().t)(f.icon),style:{...g.buttonMenuItem,...s&&g.transparentButtonMenuItemBorder},pressedStyle:g.buttonMenuItemPressed,titleStyle:g.title,title:(0,X.jsx)(R()._H,{id:"postActions.enableNotifications.button",defaultMessage:"Get notifications for replies"})}),action:()=>{const e=t.getModel(),{currentUserStore:o}=C().default.state;if(!e||!o)return;const{following:r,followSettings:s}=(0,rt().Z)(p?"none":"comments");He().k({environment:n,followSettings:s,following:r,navigableBlockId:t.id,userId:o.id,spaceId:t.getSpaceId(),key:"comments",selectedKey:"comments",from:"more_menu"})}};case"edit":return{key:e,render:e=>(0,X.jsx)(Fe().Z,{...e,icon:(0,tt().R)(f.icon),style:{...g.buttonMenuItem,...s&&g.transparentButtonMenuItemBorder},pressedStyle:g.buttonMenuItemPressed,titleStyle:g.title,title:(0,X.jsx)(R()._H,{id:"postActions.edit.button",defaultMessage:"Edit"})}),action:()=>c&&T().c4({environment:n,url:c})};case"delete":return{key:e,render:e=>(0,X.jsx)(Fe().Z,{...e,icon:(0,nt().y)(f.icon),isRedOnHover:!0,style:{...g.buttonMenuItem,...s&&g.transparentButtonMenuItemBorder},pressedStyle:g.buttonMenuItemPressed,titleStyle:g.title,title:(0,X.jsx)(R()._H,{id:"postActions.delete.button",defaultMessage:"Delete"})}),action:()=>{u().createAndCommit({userAction:"PostActions.delete",environment:n,canUndo:!0,perform:e=>{Ue().y8({environment:n,blocks:[t],transaction:e}),e.postSubmitCallbacks.push((e=>{e||Ae().dh(n,{analyticsName:"delete",from:"block_more_menu",block_id:t.id,block_type:t.getType(),collection_id:t.getParentId()})}))}})}}}})).filter(P().$K);return(0,X.jsx)(qe().Z,{menuType:Ye().o.Popup,height:a.isMobile?"50vh":void 0,minWidth:250,maxWidth:a.isMobile?"100vw":void 0,scrollerStyle:g.menuScroller,header:a.isMobile&&(0,X.jsx)(We().Z,{style:g.header,children:(0,X.jsx)(R()._H,{id:"postActions.moreActions",defaultMessage:"More actions"})}),children:(0,X.jsx)(Ne().Z,{type:Ne().i.Vertical,initialFocus:void 0,onAccept:o,sections:[{key:0,render:e=>(0,X.jsx)(ze().Z,{...e,style:g.sectionMenuItem}),items:h}]})})}const lt=6,ct=24,dt=600;function ut(e){const{store:t,showPostParent:o}=e,a=(0,r().O7)(),l=(0,r().Fy)(),c=(0,R().YB)(),d=l.isPhone,[u,p]=(0,n.useState)(!1),[m,f]=(0,n.useState)(!1),[g,h]=(0,n.useState)(!1),C=(0,n.useRef)(null),v=(0,n.useRef)(null),x=(0,Te().Z)({onLongPress:()=>{var e;return null===(e=v.current)||void 0===e?void 0:e.setOpen(!0)}}),S=(0,s().VK)((()=>t.getTitleStore()),[t]),b=(0,s().VK)((()=>t.getContentStore()),[t]),k=(0,s().VK)((()=>t.getCreatedByStore()),[t]),w=(0,s().VK)((()=>{if(k)return k.getDisplayName(c)}),[k,c]),{timeLabel:M,fullAbsoluteTimeLabel:I}=(0,s().VK)((()=>{const e=t.getCreatedTime();return{timeLabel:(0,_e().IS)(e,{useUltraCompactFormat:!0}),fullAbsoluteTimeLabel:(0,le().Yx)(e,"month_day_time",ae().locale)}}),[t]),P=(0,s().VK)((()=>(0,Y().ZP)({store:t,fullyQualified:!1,pageVisitSource:j().tY.LinkInPage})),[t]),T=G(t),Z=(0,s().VK)((()=>!t.isEmptyTitle()),[t]),{pageVisitStore:B,presenceStore:V}=(0,s().VK)((()=>({pageVisitStore:new(De().Z),presenceStore:new(Le().Z)})),[]),D=(0,s().VK)((()=>(0,Pe().VP)(t)),[t]),L=(0,s().VK)((()=>null==D?void 0:D.getName()),[D]),{ready:K}=(0,he().Z)({pageStore:t,pageVisitStore:B,initialChunkSize:30,incrementChunkSize:30,disableSideEffects:!0}),A=(0,n.useCallback)((async()=>{const e=a.currentUser.id;if(!K||!e)return;const o=(0,y().Kv)(t,{table:pe().UI,id:(0,pe().Pv)({parent_id:t.id,user_id:e}),spaceId:(0,me().J)(t.pointer.spaceId)});await o.load();o.getKeyStore("visited_at").getValue()||ge().UX(a,{blockStore:t,fromPageRefresh:!1,pageVisitStore:B,timestamp:Date.now()})}),[a,B,K,t]);(0,n.useEffect)((()=>{if(!C.current)return;const e=new IntersectionObserver((e=>{let[t]=e;t.isIntersecting&&A()}),{threshold:1});return e.observe(C.current),()=>e.disconnect()}),[C,A]),(0,n.useEffect)((()=>{t.id!==B.state.pageId&&B.setState({...B.getInitialState(),pageId:t.id}),ge().Ri(a,{blockStore:t,pageVisitStore:B,incremental:!1})}),[t,B,a,V]);const O=(0,n.useCallback)((()=>h(!0)),[]),H=(0,n.useCallback)((()=>h(!1)),[]),U=(0,n.useCallback)((e=>{const t=(null==e?void 0:e.height)??0;f(t>=dt&&!u)}),[u]),E=(0,n.useCallback)((()=>{p(!0),A()}),[p,A]),F=(0,i().yK)((e=>{const{unhoveredBoxShadow:t,hoveredBoxShadow:o}=J({isPhone:d,theme:e}),n="dark"===e.mode;return{container:{position:"relative",...N,borderRadius:"12px",boxShadow:g?o:t,background:n?e.surface.wash:e.surface.page},actorAndTime:{marginTop:Z?4:0,padding:Z?"6px 0":0,display:"flex",alignItems:"center",gap:lt,fontWeight:_().Ue.regular,color:e.text.secondary},nameAndTime:{display:"flex",gap:lt,alignItems:"center",fontSize:"14px"},time:{color:e.text.tertiary,fontWeight:_().Ue.regular},postParentPage:{display:"inline-block",marginLeft:-5,marginRight:-4},postSubject:{fontSize:26,fontWeight:_().Ue.semibold,...l.isMobile&&{fontSize:24,lineHeight:"130%"}},postContent:{fontSize:l.isMobile?16:14,overflowY:"hidden",maxHeight:u?void 0:dt,position:"relative"},commentContainer:{display:"flex",gap:lt,alignItems:"center",paddingTop:12},commentPlaceholder:{fontSize:14,color:e.text.tertiary},postIsReadCheckpoint:{position:"absolute",bottom:0,right:0,width:"100%"},teamIconAndName:{display:"flex",alignItems:"center",gap:5},linkBox:{borderRadius:4,padding:4,marginInline:-4},teamName:{fontWeight:_().Ue.medium,lineHeight:1.3,borderBottom:`1px solid ${e.darkDividerColor}`}}}),[Z,u,g,d,l.isMobile]),q=(0,Be().aE)(),z=(0,s().VK)((()=>(0,ye().Z)({environment:a,store:t,pageViewBlockStore:void 0})),[a,t]);return(0,X.jsx)(ve().ZP,{ref:v,style:q.popup,popupType:l.isMobile?ve().Z4.SlideUp:ve().Z4.Popup,stopClickPropagation:!0,render:e=>(0,X.jsx)(at,{blockStore:t,closeMenu:e.close}),renderOrigin:()=>(0,X.jsxs)("div",{style:F.container,onMouseEnter:O,onMouseLeave:H,...x,children:[!l.isPhone&&(0,X.jsx)(it,{show:g,blockStore:t}),(0,X.jsxs)("div",{children:[S&&Z&&(0,X.jsx)(xe().Z,{href:P,metaHref:T,children:(0,X.jsx)(je().Z,{style:F.postSubject,store:S,disabled:!0,disableEquationInteraction:!0,disableComment:!0,inPageFind:Ie().B3.none},t.id)}),(0,X.jsxs)("div",{style:F.actorAndTime,children:[(0,X.jsx)(pt,{actorStore:k,avatar:void 0,size:ct}),(0,X.jsxs)("div",{style:F.nameAndTime,children:[(0,X.jsxs)("div",{children:[w,D&&o&&(0,X.jsx)(R()._H,{id:"posts.post.inPreposition",defaultMessage:" in "})]}),D&&o&&(0,X.jsx)(Se().Z,{style:F.linkBox,href:(0,ce().y)({teamId:D.id}),children:(0,X.jsxs)("div",{style:F.teamIconAndName,children:[(0,X.jsx)(Ke().p,{size:14,store:D,disabled:!1}),(0,X.jsx)("span",{style:F.teamName,children:L})]})}),(0,X.jsx)("div",{style:F.time,children:(0,X.jsx)(ke().Z,{text:M,tooltipText:I,icon:Ze().C})})]})]})]}),(0,X.jsx)(Re().n4,{onSizeChange:U,children:(0,X.jsxs)("div",{style:{position:"relative"},children:[(0,X.jsx)("div",{style:F.postContent,children:(0,X.jsx)(Me().J.Provider,{value:!0,children:(0,X.jsx)(we().Z,{store:b,forceIsInsideMarginCollapseContainer:!0,disabled:!0,disableHoverMenu:!0,disableCommentMenu:!0})})}),m&&!u&&(0,X.jsx)(Ce().Z,{onClick:E}),!m&&(0,X.jsx)("div",{ref:C,style:F.postIsReadCheckpoint})]})}),(0,X.jsx)("div",{style:F.commentContainer,children:(0,X.jsx)(Ve().s,{store:t,pageDiscussionsRenderState:z,wrapper:e=>(0,X.jsx)("div",{style:{width:"100%"},children:e}),collapsed:!0,discussionLocation:"post_discussion",pageVisitStore:B,presenceStore:V})})]})})}function pt(e){const{actorStore:t,avatar:o}=e,n=e.size??28;return t?t.table===ue().cZ?(0,X.jsx)(be().Z,{botStore:t,size:n}):t.table===fe().KJ?(0,X.jsx)(A().Z,{userStore:t,size:n}):t.table===de().y0?(0,X.jsx)(A().Z,{userStore:void 0,size:n}):void(0,P().t1)(t):o?(0,X.jsx)(A().Z,{avatar:o,size:n}):(0,X.jsx)(A().Z,{userStore:void 0,size:n})}function mt(e){const{posts:t,showPostParent:o}=e;return(0,X.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:24},children:t.map((e=>(0,X.jsx)(ut,{store:e,showPostParent:o},e.id)))})}function ft(e){const{posts:t,draftPostStore:o,createDraft:a,composerStyle:l,setComposerStyle:c,showPostParent:p,canWritePosts:m,teamStore:f}=e,g=(0,r().O7)(),{canJoinTeam:h}=(0,x().K)({teamStore:f}),C=(0,s().VK)((()=>k().Z.state.isOpen),[]),y=(0,n.useCallback)((()=>{S().b({environment:g,draftPostStore:o}),null==c||c("preview")}),[o,g,c]),v=(0,n.useCallback)((()=>{o&&(0,b().g)(o)?k().Z.setState({isOpen:!0}):y()}),[o,y]),j=(0,n.useCallback)((()=>{o&&u().createAndCommit({environment:g,perform:e=>{d().sW({store:o,data:{alive:!1,permissions:[]},transaction:e})},userAction:"PostChannel.discardDraft",canUndo:!1})}),[o,g]),M=(0,i().yK)((()=>({container:{display:"flex",flexDirection:"column",gap:16,paddingTop:2,paddingLeft:0}})),[]);return(0,n.useEffect)((()=>{var e;null===(e=g.mobileNative)||void 0===e||e.markTransitionReady({type:"posts"})}),[g.mobileNative]),(0,X.jsxs)("div",{style:M.container,children:[(m||h)&&(0,X.jsx)(Q,{teamStore:f,postStore:o,isEditing:!1,onSubmit:v,createDraft:a,discardDraft:j,composerStyle:l,setComposerStyle:c}),(0,X.jsx)(mt,{posts:t,showPostParent:p}),(0,X.jsx)(w().Z,{postStore:o,isOpen:C,onDismiss:()=>k().Z.setState({isOpen:!1}),onConfirm:()=>{k().Z.setState({isOpen:!1}),y()}})]})}const gt=[];function ht(e){const{collectionViewStore:t,collectionContextStore:o,paddingLeft:x,paddingRight:S}=e,[b,k]=(0,n.useState)("preview"),w=(0,r().O7)(),j=(0,s().VK)((()=>{var e;return null===(e=(0,g().B7)(w))||void 0===e?void 0:e.id}),[w]),M=(0,s().VK)((()=>t.getCollectionStore()),[t]),R=(0,s().VK)((()=>o.collectionViewBlockStore()),[o]),I=(0,s().VK)((()=>null==R?void 0:R.getParentStore()),[R]),P=(0,s().VK)((()=>o.groupsStore.getGroupState(gt)),[o]),_={type:"results",filter:{operator:"and",filters:[]},limit:(0,s().VK)((()=>{var e;return(null==P||null===(e=P.currentLimit)||void 0===e?void 0:e.state)??10}),[null==P?void 0:P.currentLimit])},T=(0,m().Z)({id:"default_posts_collection_key",reducer:_,collectionContextStore:o,groupsPointer:gt}),[Z,B]=(0,n.useState)(!1);(0,n.useEffect)((()=>{null==P||P.reducerResultStore.setState(T),T&&B(!0)}),[T,null==P?void 0:P.reducerResultStore]);const{draftPosts:V,allPosts:D}=(0,s().VK)((()=>{if(null==P||!P.resultsStore||!Z)return{draftPosts:void 0,allPosts:void 0};return((null==P?void 0:P.resultsStore.state)??[]).reduce(((e,t)=>{t.uiLocation.removeParent();const o=t.getModel();return"draft"===(null==o?void 0:o.getDraftStatus())?e.draftPosts.push(t):e.allPosts.push(t),e}),{draftPosts:[],allPosts:[]})}),[null==P?void 0:P.resultsStore,Z]),L=(0,s().VK)((()=>p().VM({collectionContextStore:o,reducerResult:T,isFullScreen:!1})),[o,T]),K=(0,s().VK)((()=>R?(0,X.jsx)(f().ZP,{groupsPointer:gt,store:R,collectionContextStore:o,format:t.getFormat(),isFullScreen:o.isFullScreenStore.state,incrementLimitsInRelatedGroups:!1}):void 0),[R,o,t]),A=(0,s().VK)((()=>Boolean(j)&&(a().J5((null==M?void 0:M.getRole())??"none")??!1)),[j,M]),O=(0,n.useCallback)((()=>{const e=null==I?void 0:I.getSpaceId();if(!(j&&e&&M&&A))return;return u().createAndCommit({environment:w,perform:t=>{const o=d().j4({environment:w,transaction:t,type:"page",inMemoryRecordCache:w.defaultRecordCache.inMemoryRecordCache,permissions:[{role:"editor",type:"user_permission",user_id:j},{type:"restricted_permission"}]});d().sW({store:o,transaction:t,data:{alive:!0,parent_id:M.id,parent_table:M.table}}),d().sW({store:o.getFormatStore(),transaction:t,data:{draft_status:"draft"}});const n=y().G.createChildStore(o,(0,h().Ii)({environment:w,table:l().iU,spaceId:e}));return d().sW({store:n,transaction:t,data:{type:"text",alive:!0,parent_id:o.id,parent_table:o.table}}),c().R3({parentStore:o.getContentStore(),appendStore:n,transaction:t}),o},userAction:"PostChannel.createEmptyPostStore",canUndo:!1}).performResult}),[I,w,M,A,j]),H=(0,s().VK)((()=>{if(!(I instanceof y().b4))return;const e=I.getTeamId(),t=C().default.state.currentSpaceStore;return t&&e?y().t1.createChildStore(t,{table:"team",id:e,spaceId:t.id}):void 0}),[I]),U=(0,s().Kw)(o.isLoadedStore),E=(0,i().yK)((()=>({padding:{paddingLeft:x,paddingRight:S},loadMore:{paddingTop:24,paddingBottom:24},shimmerContainer:{display:"flex",flexDirection:"column",gap:24}})),[x,S]);return(0,X.jsx)("div",{style:E.padding,children:U&&void 0!==D&&I?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(ft,{posts:D,draftPostStore:null==V?void 0:V[0],composerStyle:b,setComposerStyle:k,createDraft:O,showPostParent:void 0===M,canWritePosts:A,teamStore:H}),L&&(0,X.jsx)("div",{style:E.loadMore,children:K})]}):(0,X.jsxs)("div",{style:E.shimmerContainer,children:[(0,X.jsx)(v().UJ,{}),(0,X.jsx)(v().Fp,{}),(0,X.jsx)(v().E1,{})]})})}},240703:(e,t,o)=>{o.d(t,{s:()=>n});const n=(0,o(788860).vU)({postsCollectionViewPageTitle:{id:"posts.collectionViewPage.title",defaultMessage:"Posts"},postsCollectionTitle:{id:"posts.collection.title",defaultMessage:"Posts DB"},postHeadingName:{id:"posts.collection.headingName",defaultMessage:"Subject"},deleteDraftTooltip:{id:"posts.deleteDraftTooltip",defaultMessage:"Delete draft"},fullScreenTooltip:{id:"posts.fullScreenTooltip",defaultMessage:"Full screen"}})},774172:(e,t,o)=>{o.d(t,{g:()=>s,y:()=>r});o(267602),o(749411);var n=()=>o(955620);function r(e){return!e.isTransclusionType()&&!e.hasContent()&&e.isEmptyTitle()}function s(e){const t=(0,n().y2U)(e.getTitleValue()),o=e.getContentStores().flatMap((e=>(0,n().y2U)(e.getTitleValue())));return t.length>0||o&&o.length>0}},620358:(e,t,o)=>{o.d(t,{Z:()=>r});class n extends(()=>o(263184))().default{getInitialState(){return{isOpen:!1}}}const r=new n},20825:(e,t,o)=>{o.d(t,{Z:()=>r});class n extends(()=>o(263184))().default{getInitialState(){return{isOpen:!1,blockStore:void 0}}}const r=new n},34910:(e,t,o)=>{o.d(t,{E1:()=>p,Fp:()=>u,UJ:()=>d,ZP:()=>l});o(667294);var n=()=>o(219727),r=()=>o(846550),s=()=>o(668001),i=()=>o(170210),a=o(785893);function l(){const e=(0,n().Fy)(),t=(0,r().yK)((t=>{const{unhoveredBoxShadow:o}=(0,i().Ae)({isPhone:e.isPhone,theme:t});return{container:{display:"flex",flexDirection:"column",alignItems:"center"},postContainer:{display:"flex",flexDirection:"column",gap:36,borderRadius:12,boxShadow:o,padding:24},feedContainer:{display:"flex",flexDirection:"column",width:e.isPhone?"100%":700,gap:24},postTitle:{width:80,height:20,borderRadius:10},postContent:{display:"flex",flexDirection:"column",gap:12},postButtonContainer:{display:"flex",justifyContent:"flex-end"},postButton:{width:80,height:20,borderRadius:10},postComments:{display:"flex",flexDirection:"column",gap:12},postComment:{display:"flex",gap:8},postReactions:{display:"flex",gap:8},postReaction:{width:40,height:20,borderRadius:10}}}),[e.isPhone]);return(0,a.jsx)("div",{style:t.container,children:(0,a.jsxs)("div",{style:t.feedContainer,children:[(0,a.jsx)(c,{}),(0,a.jsx)(d,{}),(0,a.jsx)(u,{}),(0,a.jsx)(p,{})]})})}function c(){const e=(0,r().yK)((()=>({teamHomeTitle:{display:"flex",gap:12,alignItems:"center",paddingTop:40},teamIcon:{width:40,height:40,borderRadius:6},teamName:{width:120,height:28,borderRadius:6}})),[]);return(0,a.jsxs)("div",{style:e.teamHomeTitle,children:[(0,a.jsx)(s().Z,{style:e.teamIcon}),(0,a.jsx)(s().Z,{style:e.teamName})]})}function d(){const e=m(),t=(0,n().MO)()?300:520;return(0,a.jsxs)("div",{style:e.postContainer,children:[(0,a.jsx)(s().Z,{style:e.postTitle}),(0,a.jsx)("div",{style:e.postContentContainer,children:(0,a.jsx)(s().Z,{style:{width:t,height:20,borderRadius:10}})}),(0,a.jsx)("div",{style:e.postButtonContainer,children:(0,a.jsx)(s().Z,{style:e.postButton})})]})}function u(){const e=m(),{shimmer1:t,shimmer2:o,shimmer3:n}=f();return(0,a.jsxs)("div",{style:e.postContainer,children:[(0,a.jsx)(s().Z,{style:e.postTitle}),(0,a.jsxs)("div",{style:e.postContentContainer,children:[(0,a.jsx)(s().Z,{style:t}),(0,a.jsx)(s().Z,{style:o}),(0,a.jsx)(s().Z,{style:n})]}),(0,a.jsxs)("div",{style:e.postComments,children:[(0,a.jsxs)("div",{style:e.postComment,children:[(0,a.jsx)(s().Z,{style:{width:20,height:20,borderRadius:10}}),(0,a.jsx)(s().Z,{style:{width:160,height:20,borderRadius:6}})]}),(0,a.jsxs)("div",{style:e.postComment,children:[(0,a.jsx)(s().Z,{style:{width:20,height:20,borderRadius:10}}),(0,a.jsx)(s().Z,{style:{width:80,height:20,borderRadius:6}})]})]})]})}function p(){const e=m(),{shimmer1:t,shimmer2:o,shimmer3:n}=f();return(0,a.jsxs)("div",{style:e.postContainer,children:[(0,a.jsx)(s().Z,{style:e.postTitle}),(0,a.jsxs)("div",{style:e.postContentContainer,children:[(0,a.jsx)(s().Z,{style:t}),(0,a.jsx)(s().Z,{style:o}),(0,a.jsx)(s().Z,{style:n})]}),(0,a.jsxs)("div",{style:e.postReactions,children:[(0,a.jsx)(s().Z,{style:e.postReaction}),(0,a.jsx)(s().Z,{style:e.postReaction}),(0,a.jsx)(s().Z,{style:e.postReaction})]})]})}function m(){const e=(0,n().Fy)();return(0,r().yK)((t=>{const{unhoveredBoxShadow:o}=(0,i().Ae)({isPhone:e.isPhone,theme:t});return{container:{display:"flex",flexDirection:"column",alignItems:"center"},postContainer:{display:"flex",flexDirection:"column",gap:36,borderRadius:12,boxShadow:o,padding:20,backgroundColor:t.surface.page},feedContainer:{display:"flex",flexDirection:"column",width:700,gap:24},postTitle:{width:80,height:20,borderRadius:10},postContentContainer:{display:"flex",flexDirection:"column",gap:12},postButtonContainer:{display:"flex",justifyContent:"flex-end"},postButton:{width:80,height:20,borderRadius:10},postComments:{display:"flex",flexDirection:"column",gap:12},postComment:{display:"flex",gap:8},postReactions:{display:"flex",gap:8},postReaction:{width:40,height:20,borderRadius:10}}}),[e.isPhone])}function f(){const e=(0,n().MO)();return(0,r().yK)((()=>({shimmer1:{width:e?300:520,height:20,borderRadius:10},shimmer2:{width:e?270:470,height:20,borderRadius:10},shimmer3:{width:e?225:425,height:20,borderRadius:10}})),[e])}},178025:(e,t,o)=>{o.d(t,{K:()=>i});var n=()=>o(219727),r=()=>o(142735),s=()=>o(619779);function i(e){const{teamStore:t}=e,o=(0,n().O7)(),i=(0,r().VK)((()=>s().Z.state.spacePermissionGroupIds),[]),a=(0,r().VK)((()=>{if(t&&o.currentUser.id)return t.getTeamRoleForUser(o.currentUser.id,i)}),[t,o.currentUser.id,i]),l=(0,r().VK)((()=>!!t&&"open"===t.getTeamAccessLevel()),[t]),c="none"===a||!a,d=!c;return{isTeamMember:d,canViewPosts:d||l,canJoinTeam:c&&l}}},394480:(e,t,o)=>{o.d(t,{t:()=>r});o(667294);var n=o(785893);const r=(0,o(827282).IU)("bell",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M1.36914 11.7627C1.36914 12.3369 1.80664 12.7266 2.51074 12.7266H5.32031C5.38184 14.0322 6.44824 15.2285 8 15.2285C9.55176 15.2285 10.6182 14.0391 10.6797 12.7266H13.4893C14.2002 12.7266 14.6309 12.3369 14.6309 11.7627C14.6309 11.0381 13.9678 10.416 13.3457 9.81445C12.8672 9.34277 12.751 8.39941 12.6621 7.46289C12.5732 4.87207 11.8213 3.14258 10.0371 2.49316C9.77734 1.59082 9.01855 0.900391 8 0.900391C6.98145 0.900391 6.22266 1.59082 5.96289 2.49316C4.17871 3.14258 3.42676 4.87207 3.33789 7.46289C3.24902 8.39941 3.13965 9.34277 2.6543 9.81445C2.03906 10.416 1.36914 11.0381 1.36914 11.7627ZM3.00293 11.4756V11.3936C3.18066 11.1953 3.57715 10.833 3.91211 10.4434C4.38379 9.90332 4.60254 8.92578 4.6709 7.62695C4.75293 4.85156 5.60059 3.92871 6.70801 3.62793C6.87207 3.58691 6.96777 3.50488 6.98145 3.32031C7.01562 2.62305 7.39844 2.1582 8 2.1582C8.60156 2.1582 8.99121 2.62305 9.01855 3.32031C9.03223 3.50488 9.12793 3.58691 9.29883 3.62793C10.3994 3.92871 11.2539 4.85156 11.3291 7.62695C11.3975 8.92578 11.623 9.90332 12.0879 10.4434C12.4297 10.833 12.8125 11.1953 12.9834 11.3936V11.4756H3.00293ZM6.6123 12.7266H9.3877C9.33984 13.5811 8.7793 14.1348 8 14.1348C7.22754 14.1348 6.66699 13.5811 6.6123 12.7266Z"})})},396820:(e,t,o)=>{o.d(t,{D:()=>r});o(667294);var n=o(785893);const r=(0,o(827282).IU)("megaphone",{viewBox:"0 0 64 64",svg:(0,n.jsx)("path",{d:"m54,10v40h-4l-20-10h-4l4,16h-10l-4-16c-4.94,0-8-3.06-8-8v-4c0-4.94,3.06-8,8-8h14l20-10h4Z"})})},429830:(e,t,o)=>{var n=o(79989),r=o(826166),s=o(165290),i=o(87370),a=Array;n({target:"Array",proto:!0},{toReversed:function(){return r(s(this),a)}}),i("toReversed")}}]);