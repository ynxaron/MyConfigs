"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[56054],{839821:(e,t,o)=>{o.d(t,{j:()=>u});var r=()=>o(685472),i=()=>o(774985),n=()=>o(308186),a=()=>o(421654),l=()=>o(762478),s=()=>o(269299),d=()=>o(109757);const c=1500,p=(0,o(788860).vU)({pageCover:{defaultMessage:"Page cover",id:"pageCover.title"},fileTypeCaption:{defaultMessage:"Images wider than {idealImageWidth} pixels work best.",id:"pageCover.fileType.caption"},uploadFailed:{defaultMessage:"Upload failed",id:"pageCover.errorDialogMessage.uploadFailed"},embedTitle:{defaultMessage:"Link",id:"pageCover.embedType.title"},embedPlaceholder:{defaultMessage:"Paste an image linkâ€¦",id:"pageCover.embedType.placeholder"},embedCaption:{defaultMessage:"Works with any image from the web.",id:"pageCover.embedType.caption"},embedSubmit:{defaultMessage:"Submit",id:"pageCover.embedType.buttonText"}});function u(e){let{environment:t,intl:o,store:r,rect:i}=e;l().$(t,{originGap:3,originRect:i,isSmallWidth:!1,popupWidth:540,maxHeight:485,title:o.formatMessage(p.pageCover),onDelete:()=>{!function(e){let{environment:t,store:o}=e;l().Z(),s().createAndCommit({userAction:"PageCover.handleDelete",environment:t,canUndo:!0,perform:e=>{a().MF({store:o,transaction:e})}})}({environment:t,store:r})},currentTab:"gallery",tabs:[{type:"gallery",onChange:e=>{let{url:o,position:i}=e;m({environment:t,store:r,url:o,position:i})}},{type:"file",fileUpload:!1,imageUpload:!0,videoUpload:!1,caption:o.formatMessage(p.fileTypeCaption,{idealImageWidth:c}),onUpload:e=>{l().Z(),d().cT({environment:t,file:e[0],bucket:"secure",record:r.pointer,onStart:y,onProgress:h,onComplete:e=>{var o;o={environment:t,store:r,url:e},g({...o,position:.5})},onError:()=>{n().UW(o.formatMessage(p.uploadFailed))}})}},{type:"embed",title:o.formatMessage(p.embedTitle),inputPlaceholder:o.formatMessage(p.embedPlaceholder),caption:o.formatMessage(p.embedCaption),buttonText:o.formatMessage(p.embedSubmit),onChange:e=>{var o;o={environment:t,store:r,url:e},g({...o,position:.5}),l().Z()}},{type:"unsplash",onChange:e=>{let{url:o,position:i}=e;m({environment:t,store:r,url:o,position:i})}}]})}async function g(e){const{environment:t,store:o,url:n,position:l}=e,{serverCommitResult:d}=s().createAndCommit({userAction:"PageCover.updatePageCover",environment:t,canUndo:!0,perform:e=>{a().fs({store:o,url:n,position:l||.5,transaction:e})}});await d,i().Z.state.loadingMode===r().NS&&i().Z.setState({loadingMode:r().EP,dataURL:i().Z.state.dataURL,uploadProgress:100})}function m(e){g(e),e.environment.device.isMobile&&l().Z()}function y(e){const{file:t,name:o,size:n}=e;if(l().Z(),i().Z.setState({loadingMode:r().SS,file:t,name:o,size:n}),t instanceof File&&t.type.indexOf("image")>=0){const e=new FileReader;e.onload=e=>{i().Z.state.loadingMode===r().SS&&i().Z.setState({...i().Z.state,uploadProgress:0,loadingMode:r().NS,dataURL:e.target.result})},e.readAsDataURL(t)}}function h(e){const{progressPercent:t}=e;i().Z.state.loadingMode===r().NS&&i().Z.setState({...i().Z.state,uploadProgress:t})}},397174:(e,t,o)=>{o.d(t,{Z:()=>c});o(267602),o(653476),o(241792),o(258429);var r=o(667294),i=()=>o(846550),n=()=>o(26970),a=()=>o(707513),l=()=>o(384510),s=o(785893);function d(e){const{button:t,isLast:o}=e,l=(0,i().yK)((e=>({button:{display:"flex",alignItems:"center",padding:"4px 6px",fontWeight:a().Ue.medium,borderRight:`1px solid ${e.regularDividerColor}`,color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor},buttonLast:{borderRight:"none"},buttonHovered:{background:e.whiteButtonHoveredBackground},buttonPressed:{background:e.whiteButtonPressedBackground}})),[]);return r.cloneElement(t,{...(0,n().iv)(t.props.style,l.button,o&&l.buttonLast),hoveredStyle:(0,n().iv)(l.buttonHovered,o&&l.buttonLast).style,pressedStyle:l.buttonPressed})}const c=function(e){let{children:t,isVisible:c,position:p,style:u}=e;const g=(0,o(219727).O7)(),m=(0,i().yK)((e=>({container:{color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor,fontSize:12,background:e.whiteButtonBackground,boxShadow:e.lightBoxShadow,display:"flex",whiteSpace:"nowrap",borderRadius:l().Z.borderRadius,maxWidth:"calc(100% - 16px)",minHeight:24,overflow:"hidden",pointerEvents:g.device.isMobile?"auto":"none",opacity:g.device.isMobile?1:0,fontFamily:a().F5(o(146947).locale).sans,position:"absolute",right:l().Z.horizontal.small,bottom:l().Z.vertical.small,zIndex:2},containerHover:{pointerEvents:"auto",opacity:1},containerTop:{top:l().Z.vertical.small,bottom:void 0}})),[g]),y=r.Children.toArray(t).filter(o(696459).$K),h=y.length;return(0,s.jsx)(o(628370).Z,{animate:{opacity:c?1:0},...(0,n().iv)(m.container,u,c&&m.containerHover,"top"===p&&m.containerTop),children:y.map(((e,t)=>{const i=t===h-1;if(e&&"object"==typeof e&&"type"in e){if(e.type===o(654133).Z&&r.isValidElement(e))return r.cloneElement(e,{render:(t,o)=>{const r=e.props.render(t,o);return(0,s.jsx)(d,{isLast:i,button:r},e.key)}});if(e.type===o(154186).Z&&r.isValidElement(e))return(0,s.jsx)(d,{isLast:i,button:e},e.key)}}))})}},75751:(e,t,o)=>{o.d(t,{Z:()=>v});var r=o(667294),i=()=>o(219727),n=()=>o(142735),a=()=>o(788860),l=()=>o(421654),s=()=>o(839821),d=()=>o(269299),c=()=>o(191586),p=()=>o(685472),u=()=>o(774985),g=()=>o(397174),m=()=>o(628370),y=()=>o(154186),h=()=>o(904912),f=o(785893);const v=function(e){let{store:t,disabled:a,paddingRight:s,paddingLeft:c,height:g,proxyWidth:m}=e;const y=(0,i().O7)(),h=(0,n().qz)(void 0,o(233417).Z),v=(0,n().VK)((()=>a||"suggest"===o(279386).MT.getMode(t)),[a,t]),b=(0,n().VK)((()=>t.getCover()),[t]),x=(0,n().Kw)(u().Z),[C,w]=(0,r.useState)(void 0);if(!b)return null;const k=x.loadingMode!==p().LU&&x.loadingMode!==p().SS;return(0,f.jsx)(o(910293).Z,{mouseStore:h,onFlushTemporaryPosition:e=>function(e,t,o){const{imagePosition:r,reset:i}=e;d().createAndCommit({userAction:"PageCover.handleFlushTemporaryPosition",environment:o,canUndo:!0,perform:e=>{l().Mp({store:t,coverPosition:r,transaction:e}),i()}})}(e,t,y),renderControl:e=>{let{handleRepositionClick:o,handleSavePositionClick:r,handleCancelClick:i,isVisible:n,isRepositioning:a}=e;return(0,f.jsx)(S,{handleRepositionClick:o,handleSavePositionClick:r,handleCancelClick:i,isVisible:n,isRepositioning:a,lastProxiedUrl:C,store:t,disabled:v,paddingRight:s,paddingLeft:c,mouseStore:h})},source:"page",store:t,style:{display:"flex",flexDirection:"column",alignItems:"center",height:g,maxHeight:280,cursor:"default"},render:e=>(0,f.jsxs)(r.Fragment,{children:[(0,f.jsx)(o(135499).Z,{url:b.cover,isAuthenticated:!0,permissionRecord:b.pointer,width:m,onFinishedLoadingProxyUrl:w,render:(t,r)=>{const i={width:"100%",height:g,maxHeight:280,objectFit:"cover",opacity:k?.5:1,objectPosition:`center ${100*(1-(e.imagePosition||0))}%`,borderRadius:0},n={width:"100%",height:g,maxHeight:280};return(0,f.jsx)(o(167499).B,{src:r,placeholderSrc:k?x.dataURL:void 0,placeholderBehavior:k?"force-show-placeholder":"show-placeholder-if-loading-src",containerStyle:n,imageStyle:i,onLoadComplete:P,testId:"pageCover"})}}),k&&(0,f.jsxs)("div",{style:o(518242).IA,children:[(0,f.jsx)(o(312578).Z,{style:{width:16,height:16,marginRight:4}}),(0,f.jsx)("div",{style:{minWidth:30,textAlign:"right"},children:(0,f.jsx)(o(410184).Z,{percentage:x.uploadProgress})})]})]})})};function P(){u().Z.reset()}function S(e){let{isVisible:t,isRepositioning:o,handleCancelClick:l,handleRepositionClick:d,handleSavePositionClick:v,lastProxiedUrl:P,store:S,disabled:b,paddingRight:x,paddingLeft:C,mouseStore:w}=e;const k=(0,i().O7)(),M=(0,a().YB)(),j=(0,r.useCallback)((e=>function(e,t,o,r,i){i.reset();const n=e.target.getBoundingClientRect();s().j({environment:t,intl:o,store:r,rect:n})}(e,k,M,S,w)),[k,M,S,w]),I=(0,n().VK)((()=>u().Z.state.loadingMode),[]),V=(0,n().VK)((()=>function(e){let t;return t=e.isFullWidth()?"100%":c().zL,t}(S)),[S]);if(b||I!==p().LU)return null;const{device:Z}=k,{isMobile:R}=Z;return(0,f.jsx)(m().Z,{animate:{width:V,opacity:t?1:0},style:{position:"absolute",pointerEvents:t?"auto":"none",maxWidth:"100%",top:48},children:(0,f.jsxs)(g().Z,{isVisible:t,position:"bottom",style:{marginRight:x,marginLeft:C},children:[!o&&(0,f.jsx)(y().Z,{style:{borderRight:R?"none":void 0,...h().ar},onClick:j,children:(0,f.jsx)(a()._H,{defaultMessage:"Change cover",id:"pageCover.changeCover.text"})}),!o&&!R&&(0,f.jsx)(y().Z,{style:{...h().ar,borderRight:"none"},onClick:e=>d(e,P),children:(0,f.jsx)(a()._H,{defaultMessage:"Reposition",id:"pageCover.reposition.text"})}),o&&!R&&(0,f.jsx)(y().Z,{style:h().ar,onClick:v,children:(0,f.jsx)(a()._H,{defaultMessage:"Save position",id:"pageCover.savePosition.text"})}),o&&!R&&(0,f.jsx)(y().Z,{style:{...h().ar,borderRight:"none"},onClick:l,children:(0,f.jsx)(a()._H,{defaultMessage:"Cancel",id:"pageCover.reposition.cancelText"})})]})})}},910293:(e,t,o)=>{o.d(t,{Z:()=>h});var r=o(667294),i=()=>o(146947),n=()=>o(219727),a=()=>o(142735),l=()=>o(26970),s=()=>o(788860),d=()=>o(568017),c=()=>o(513670),p=()=>o(707513),u=()=>o(326966),g=()=>o(628370),m=o(785893);const y={isRepositioning:!1};const h=function(e){const t=(0,r.useRef)(null),i=(0,n().O7)(),{isMobile:s}=(0,n().Fy)(),[d,p]=(0,r.useState)(y),g=(0,r.useCallback)((()=>{p(y)}),[]),{renderControl:h,onFlushTemporaryPosition:v,style:P,source:S,store:b}=e,{isRepositioning:x,image:C,startDragRenderedPosition:w,startDragImageScreenHeight:k}=d,M=(0,a().VK)((()=>0===o(965903).default.state.stores.length),[]),[j,I]=(0,r.useState)(!1),V=(0,a().qz)(e.mouseStore,o(233417).Z),Z=(0,a().VK)((()=>V.state.mouseEntered),[V]),R=(0,o(846550).yK)((()=>({dragContainer:{width:"100%",cursor:x?"move":"inherit"},container:{position:"relative",width:"100%",zIndex:1}})),[x]),B=(0,a().VK)((()=>function(e,t,o){return(0,c().hj)(o)?o:function(e,t){if("gallery"===e||"board"===e){const e=t.getFormat().card_cover_position;if((0,c().hj)(e))return e}const o=.5;if(t.isCollectionView()){const e=t.getCollectionStore();if(e){const t=e.getFormat().collection_cover_position;return(0,u().z4)(t)?o:t}}const r=t.getFormat(),i=r.page_cover_position;if((0,c().hj)(i))return i;return o}(e,t)}(S,b,d.temporaryPosition)),[d.temporaryPosition,S,b]);(0,r.useEffect)((()=>{const e=e=>{const o=t.current;o&&!o.contains(e.target)&&x&&v({imagePosition:B,reset:()=>{V.reset(),g()}})};return window.addEventListener("mousedown",e),()=>window.removeEventListener("mousedown",e)}),[B,x,V,v,g]),x&&!M&&g();const T=(0,r.useMemo)((()=>(0,c().P2)((e=>{V.setState({...V.state,mouseEntered:!0})}),100)),[V]),_=(0,r.useMemo)((()=>(0,c().Ds)((e=>{V.setState({...V.state,mouseEntered:!1})}),100)),[V]),A=(0,r.useCallback)(((e,t)=>{o(879952).ZH({environment:i});const r=new Image;r.onload=()=>{p((e=>({...e,isRepositioning:!0,image:r})))},t&&(r.src=t)}),[i]),L=(0,r.useCallback)((e=>{v({imagePosition:B,reset:()=>{g()}})}),[B,v,g]),H=(0,r.useCallback)((e=>{const t=e.target;void 0!==t&&t instanceof HTMLElement&&(0,o(474788).E)(t)&&I(!0)}),[]),O=(0,r.useCallback)((()=>{I(!0)}),[]),D=(0,r.useCallback)((e=>{if(C&&x){const e=t.current;if(e&&e instanceof Element){const t=e.getBoundingClientRect().width/C.width*C.height;p((e=>({...e,startDragImageScreenHeight:t,startDragRenderedPosition:B})))}}}),[C,B,x]),F=(0,r.useCallback)((e=>{if(x){const t=e.diffY/(k||0)+(w||0);p((e=>({...e,temporaryPosition:(0,c().NM)((0,o(120420).Z)(t,0,1),4)})))}}),[x,k,w]),K=(0,r.useCallback)((()=>{p((e=>({...e,startDragImageScreenHeight:void 0,startDragRenderedPosition:void 0})))}),[]),W=(0,a().VK)((()=>h({handleRepositionClick:A,handleSavePositionClick:L,handleCancelClick:g,isVisible:s||Z||j||x,isRepositioning:x})),[A,L,j,s,x,Z,h,g]);return(0,m.jsxs)("div",{ref:t,onFocus:H,onBlur:O,onMouseEnter:T,onMouseMove:T,onMouseLeave:_,...(0,l().iv)(R.container,P),children:[(0,m.jsx)(o(790964).Z,{onDraggableDragStart:D,onDraggableDragMove:F,onDraggableDragEnd:K,onDraggableDragCancel:K,disabled:!x,render:t=>(0,m.jsx)("div",{...(0,l().iv)(R.dragContainer),...t,children:e.render({imagePosition:B,isRepositioning:x})})}),(0,m.jsx)(f,{small:e.small,isRepositioning:x}),W]})};function f(e){let{small:t,isRepositioning:o}=e;if(t)return null;const r={background:d().ZP.blackWithAlpha(.4),borderRadius:4,color:d().ZP.white,fontSize:12,fontFamily:p().F5(i().locale).sans,width:180,left:"calc(50% - 90px)",padding:"0.3em 1.5em 0.3em",pointerEvents:"none",position:"absolute",top:"calc(50% - 10px)",textAlign:"center"};return(0,m.jsx)(g().Z,{visible:o,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:r,children:(0,m.jsx)(s()._H,{defaultMessage:"Drag image to reposition",id:"withImageRepositioning.dragImage.text"})})}},796386:(e,t,o)=>{o.d(t,{Z:()=>O});o(670560),o(122556),o(582845),o(250570),o(533019),o(721473),o(788208),o(22624),o(267602),o(30005),o(241792),o(228244);var r=o(667294),i=()=>o(219727),n=()=>o(142735),a=()=>o(226413),l=()=>o(788860),s=()=>o(887430),d=()=>o(982855),c=()=>o(876822),p=()=>o(749826),u=()=>o(890324),g=()=>o(404791),m=()=>o(768055),y=()=>o(119891),h=()=>o(177610),f=(o(470928),()=>o(492788)),v=()=>o(846550),P=()=>o(513670),S=()=>o(696459),b=()=>o(909240),x=()=>o(874018),C=()=>o(125659),w=()=>o(337897),k=()=>o(704713),M=()=>o(231272),j=()=>o(206658),I=()=>o(70191),V=()=>o(356321),Z=()=>o(63562),R=()=>o(251932),B=()=>o(663221),T=o(785893);function _(e){const{property:t,store:s,disabled:d,canConfigureCollection:u,onTab:g,onUntab:m,schema:y,blockPropertyValueOverlayStore:h,collectionStore:f,pagePropertiesStore:P,customization:S}=e,x=(0,i().O7)(),{device:w,currentUser:k}=x,M=(0,v().Fg)(),j=(0,C().DK)(),I=y[t],[Z,R]=r.useState(!1),{value:B}=(0,o(677559).XJ)(o(141735).F.formulas),_=(0,v().yK)((()=>({propertyOuter:{display:"flex",alignItems:"left",height:"100%",flex:"auto",flexDirection:"column",minWidth:0,...null!=S&&S.stackPropertyLabelAndValue?{marginLeft:0}:{marginLeft:4}},property:{display:"flex",alignItems:"center",height:"100%",flex:"auto",minWidth:0,...null!=S&&S.stackPropertyLabelAndValue?{marginLeft:0}:{marginLeft:4}},addPageButton:{fontSize:14,minHeight:o(820748).wI,color:M.lightTextColor,background:void 0,boxShadow:void 0,borderBottom:"none"}})),[null==S?void 0:S.stackPropertyLabelAndValue,M.lightTextColor]),A=(0,r.useCallback)((()=>{P.setState({...P.state,hoveredProperty:e.property}),R(!0)}),[e.property,P]),L=(0,r.useCallback)((()=>{P.setState({...P.state,hoveredProperty:void 0}),R(!1)}),[P]),H=(0,r.useCallback)((()=>{b().bA({environment:x,blockPropertyValueOverlayStore:h,store:s,property:t,format:V().C.Page,collectionContextStore:j})}),[x,h,s,t,j]),O=(0,n().VK)((()=>w.isMobile&&!d&&"relation"===(null==I?void 0:I.type)&&s.isDefined()&&!o(532850).wV({block:s.getModel(),property:t,schema:y,getRecordModel:s.getRecordModel,userId:k.id,userTimeZone:(0,o(998411).r)(),intl:o(527278).Z.getIntl(),experimentService:p().default,collectionFeatureGates:(0,o(615676).W)(),formulasModule:B})),[k.id,w.isMobile,d,t,I,y,s,B]),D=(0,n().VK)((()=>(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(o(661297).Z,{onClick:()=>{const e={name:"AI Summary",type:"text",ai_inference:{type:"summarize",auto_update_on_edit:!1}};o(106502).aiDependency.load().then((async t=>{let{propertyCompletionsActions:r}=t;await o(269299).createAndCommitAsync({userAction:"collectionPageAISummarySuggestion.tryOnThisPage",environment:x,waitForServerCommit:!1,perform:async t=>{const i=o(984871).G3({environment:x,collectionStore:f,collectionViewArgs:void 0,propertyType:"ai_summary",transaction:t,propertySchema:e});j&&o(250303)._H({environment:x,collectionContextStore:j,from:"try_on_this_page_suggestion",property_type:"text",property:"ai_summary",is_suggested_property:!0}),await r.autofillPropertyForBlocks({environment:x,stores:[s],property:i,propertySchema:e,userEventForAnalytics:"generate_from_try_on_this_page_suggestion",from:"page_properties",collectionContextStore:void 0,transaction:t})}})}))},icon:e=>(0,o(844958).t)({...e,fill:M.aiPurpleColor}),children:(0,T.jsx)(l()._H,{id:"AiSummaryTryOnThisPage",defaultMessage:"Try on this page"})}),Z&&(0,T.jsx)(o(654133).Z,{render:e=>(0,T.jsx)(o(1910).Z,{...e,icon:o(654723).X,ariaLabel:"clear",hoveredStyle:{background:"inherit"},onClick:()=>{var e;null!==(e=c().default.state.currentSpaceViewStore)&&void 0!==e&&e.isDefined&&o(261930).ce(x,c().default.state.currentSpaceViewStore)}}),renderTooltip:()=>(0,T.jsx)(l()._H,{id:"AiSummaryTryOnThisPage.dimissButtonTooltip",defaultMessage:"Dismiss suggestion"}),placement:o(998901).Placement.Top})]})),[j,f,x,Z,s,M.aiPurpleColor]);return(0,T.jsx)("div",{role:"cell",style:_.propertyOuter,children:(0,T.jsxs)(o(307369).Z,{store:s,analyticsName:"page_property",children:[(0,T.jsx)("div",{style:_.property,onMouseMove:A,onMouseLeave:L,children:t===a().ow?D:(0,T.jsx)(o(768826).m,{store:s,property:t,locked:!u,disabled:d,format:V().C.Page,onTab:g,onUntab:m,tableWrap:!1,blockPropertyValueOverlayStore:h,onOpenProperty:H,collectionStore:f})},t),O&&(0,T.jsx)(o(827973).Z,{focused:!1,icon:(0,o(521777).R)({width:14,fill:M.lightIconColor}),buttonStyle:{marginRight:0,width:"calc(100% - 4px)"},mobileIconStyle:{marginLeft:12},textWrapperStyle:{marginLeft:4},style:_.addPageButton,title:(0,T.jsx)(l()._H,{id:"pagePropertyRowValue.addRelationButtonMessage",defaultMessage:"Add page"}),onClick:H})]})})}const A=r.memo(_);function L(e){const{schema:t,format:o,store:a,collectionStore:l,disabled:s,locked:d,blockPropertyValueOverlayStore:c,isInPeekRenderer:p,property:u,mergedProperties:g,hideDragHandle:m,disablePropertyName:y,opacity:h,pagePropertiesStore:w,customization:_,isCollectionViewLocked:L,canConfigureCollection:O}=e,D=(0,r.useId)(),F=(0,i().O7)(),K=(0,C().DK)(),W=(0,r.useCallback)((()=>{const e=c.state;if(!e.isOpen)return;const o=g,r=o.findIndex((t=>t.property===e.property)),i=o.find(((e,o)=>o>r&&H(t,e.property)))||o.find(((e,o)=>H(t,e.property)));i&&f().default.afterNextFlush((()=>{b().bA({environment:F,blockPropertyValueOverlayStore:c,store:a,property:i.property,format:V().C.Page,collectionContextStore:K})})),b().xv({environment:F,blockPropertyValueOverlayStore:c})}),[c,K,F,g,t,a]),E=(0,r.useCallback)((()=>{const e=c.state;if(!e.isOpen)return;const o=g,r=o.findIndex((t=>t.property===e.property)),i=P().dF(o,((e,o)=>o<r&&H(t,e.property)))||P().dF(o,((e,o)=>H(t,e.property)));i&&f().default.afterNextFlush((()=>{b().bA({environment:F,blockPropertyValueOverlayStore:c,store:a,property:i.property,format:V().C.Page,collectionContextStore:K})})),b().xv({environment:F,blockPropertyValueOverlayStore:c})}),[c,K,F,g,t,a]),U=(0,j().E)(a),z=(0,n().VK)((()=>{var e;return"hide"===(null==U||null===(e=U.getFormat())||void 0===e?void 0:e.property_icons_visibility)}),[U]),G=Boolean(null==_?void 0:_.stackPropertyLabelAndValue),N=r.useRef(null),Y=(0,k().X)(N,50),[$,Q]=r.useState(0);(0,r.useEffect)((()=>{var e;Q((null==Y?void 0:Y.width)||(null===(e=N.current)||void 0===e?void 0:e.offsetWidth)||0)}),[Y]);const q=(0,v().yK)((e=>({container:{display:"flex",width:"100%",position:"relative",opacity:h??1,...null!=_&&_.stackPropertyLabelAndValue?{flexDirection:"column",marginBottom:null!=_&&_.disableRowBottomMargin?void 0:16}:{marginBottom:null!=_&&_.disableRowBottomMargin?void 0:4}},discussionIndicatorContainer:{position:"absolute",alignSelf:"center",...$?{left:$+4}:{right:0},top:6}})),[$,null==_?void 0:_.disableRowBottomMargin,null==_?void 0:_.stackPropertyLabelAndValue,h]),{isPropertyInPageDetails:X}=(0,I().d0)({store:a,propertyId:u}),{isMobile:J}=F.device,ee=(0,M().gM)({isMobile:J,stackPropertyLabelAndValue:G,isPropertyInPageDetails:X}),te=d||L;return(0,T.jsxs)("div",{role:"row","aria-labelledby":D,ref:N,style:q.container,children:[(0,T.jsx)(Z().uI,{origin:N}),(0,T.jsxs)(R().gq,{alignItems:"center",alignSelf:"flex-start",style:{...X?{width:"100%"}:void 0,...(0,S().$K)(ee)?{width:ee,flexShrink:0}:void 0},children:[(0,T.jsx)(B().Z,{schema:t,format:o,property:u,collectionStore:l,pagePropertiesStore:w,disabled:Boolean(s||y),locked:te,canConfigureCollection:O,isInPeekRenderer:p,hideIcon:z,hideDragHandle:m,showDragHandleAsIcon:!te&&!s,propertyNameAriaId:D,styleVariants:{height:{variant:null==_?void 0:_.heightVariant},width:(0,M().Gm)({stackPropertyLabelAndValue:G}),size:"medium",fontWeight:"regular"},blockStore:a}),!J&&(0,T.jsx)(x().zl,{store:a,propertyId:u,style:X?void 0:{position:"absolute",alignSelf:"center",...$?{left:$+4}:{right:0},top:6}})]}),(0,T.jsx)(A,{schema:t,property:u,store:a,collectionStore:l,pagePropertiesStore:w,disabled:s||d,canConfigureCollection:O,onTab:W,onUntab:E,blockPropertyValueOverlayStore:c,customization:_}),J&&(0,T.jsx)(x().zl,{store:a,propertyId:u,style:{marginTop:6}})]},u)}function H(e,t){return(0,w().AB)(e[t])}function O(e){const{disabled:t,locked:o,collectionStore:f,format:v,mergedProperties:P,propertyGroupId:S,showHiddenProperties:b,hideDragHandle:x,pagePropertiesStore:C,store:w}=e,k=(0,l().YB)(),M=(0,i().O7)(),j=P,I=(0,h().vg)(f),V=(0,h().G_)({collectionStore:f,format:v}),Z=(0,h().r$)({collectionStore:f,format:v,propertyGroupId:S}),R=S?Z:V,B=k.formatMessage({id:"pageProperties.tableLabel",defaultMessage:"Page properties"}),_=function(e){const{properties:t,showHiddenProperties:o}=e;return(0,r.useMemo)((()=>{const e=[];let r=0;return t.forEach((t=>{if("section"!==t.visibility)return o?(e.splice(r,0,t.property),void(r+=1)):void("hide"!==t.visibility&&("hide_if_empty"!==t.visibility||t.hasValue)?(e.splice(r,0,t.property),r+=1):e.push(t.property));e.push(t.property)})),{all:e,visible:e.slice(0,r)}}),[t,o])}({properties:j,showHiddenProperties:b}),A=(0,n().VK)((()=>{var e,t;if(M.device.isMobile)return!1;if(void 0!==S)return!1;const o=(null===(e=c().default.state.currentSpaceViewStore)||void 0===e||null===(e=e.getSettings())||void 0===e?void 0:e.dismissed_db_page_summary_suggestion)??0,r=Boolean(null===(t=g().Z.state)||void 0===t?void 0:t.isEligible),i=(0,d().RT)(u().Z.getMode(M,w),w),n=function(e){const{collectionStore:t,store:o,dismissedCount:r,isEligibleForAIUsage:i}=e;if(i){const e=Object.values(t.getSchema()).some((e=>{var t;return"text"===(null==e?void 0:e.type)&&"summarize"===(null===(t=e.ai_inference)||void 0===t?void 0:t.type)})),i=(0,m().W)(o)>500,n=r>0,a=Object.values(t.getDeletedSchema()).some((e=>{var t;return"text"===(null==e?void 0:e.type)&&"summarize"===(null===(t=e.ai_inference)||void 0===t?void 0:t.type)}));if(!e&&i&&!n&&!a)return!0}return!1}({collectionStore:f,store:w,dismissedCount:o,isEligibleForAIUsage:r&&i});return!!n&&"on"===p().default.getEligibleGroup({experimentId:"database_ai_summary_suggestion",defaultGroup:"control"})}),[f,M,w,S]),H=function(e){const{properties:t,shouldShowAISummary:o}=e;return(0,r.useMemo)((()=>o?[...t.visible,a().ow]:t.visible),[t,o])}({properties:{all:_.all,visible:_.visible},shouldShowAISummary:A}),O=(0,n().VK)((()=>(0,s().p1)(f)),[f]),D=t=>({...e.rowCustomization,...e.disableLastRowBottomPadding&&t===H.length-1?{disableRowBottomMargin:!0}:void 0});return t||o||!I||x?(0,T.jsx)("div",{role:"table","aria-label":B,style:y().yA,children:H.map(((t,o)=>(0,T.jsx)("div",{children:(0,T.jsx)(L,{...e,customization:D(o),property:t,pagePropertiesStore:C,isCollectionViewLocked:O,canConfigureCollection:I})},t)))}):(0,T.jsx)(y().ZP,{role:"table","aria-label":B,direction:"vertical",keys:H,getInvalidDropIndices:e=>{const t=H.indexOf(a().ow);return-1===t?new Set:new Set([t+1])},renderKey:(t,o)=>(0,T.jsx)(L,{...e,customization:D(o),property:t,pagePropertiesStore:C,isCollectionViewLocked:O,canConfigureCollection:I}),onDrop:R})}},794424:(e,t,o)=>{o.d(t,{Uv:()=>_,ZP:()=>A});o(241792);var r=o(667294),i=()=>o(219727),n=()=>o(142735),a=()=>o(846550),l=()=>o(788860),s=()=>o(874018),d=()=>o(125659),c=()=>o(164079),p=()=>o(704713),u=()=>o(644248),g=()=>o(864060),m=()=>o(162178),y=()=>o(521635),h=()=>o(26796),f=()=>o(998901),v=()=>o(529048),P=()=>o(279386),S=()=>o(311562),b=()=>o(768826),x=()=>o(356321),C=()=>o(628370),w=()=>o(154186),k=()=>o(448419),M=()=>o(967092),j=()=>o(654133),I=()=>o(251932),V=()=>o(663221),Z=()=>o(307369),R=()=>o(177610),B=()=>o(60613),T=o(785893);const _=130;function A(e){const{store:t,collectionStore:o,pagePropertiesStore:l,blockPropertyValueOverlayStore:c,compactProperties:f,disabled:w,locked:k,format:M,hiddenProperties:j,rowLength:_,variant:A,pageViewBlockContext:H}=e,O=(0,n().VK)((()=>o.getSchema()),[o]),[D,F]=(0,r.useState)(!1),K=(0,R().vg)(o),W=(0,n().VK)((()=>P().MT.getMode(t)),[t]),E=(0,i().Fy)(),{isFirefox:U}=E,z=(0,n().qz)(void 0,v().Z),G=(0,d().Y$)(),N=(0,n().VK)((()=>o.getLayoutStore()),[o]),[Y,$]=(0,r.useState)(!1),[Q,q,X]=(0,u().C)(),J=(0,p().X)(X,100),ee=((null==J?void 0:J.width)||0)>=B().h&&!E.isMobile,te=(0,n().VK)((()=>y().Z.getPanelState("mainPage").isOpen),[]),oe=Boolean((0,r.useContext)(m().eK)),re=(0,n().VK)((()=>{if(oe)return!1;const e=null==N?void 0:N.getModules();return!(!e||"pinned"!==A||0===e.page_details.length)}),[oe,N,A]),ie=(0,n().VK)((()=>ee&&te&&!q?"hidden":"visible"),[q,ee,te]),ne=ee,ae=(0,a().yK)((()=>{const e={display:"grid",gridTemplateColumns:`repeat(${f.length>_?_:"auto-fit"}, minmax(80px, max-content))`,columnGap:4,rowGap:4};return{container:{...re&&ne?{display:"flex",flexDirection:"row",gap:8}:void 0,...re&&!ne?{display:"flex",flexDirection:"column",gap:6}:void 0},row:{..."pinned"===A?{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(80px, max-content))",columnGap:4,rowGap:8,marginTop:10}:e,...re?{maxWidth:"100%",...U&&{flexGrow:1}}:void 0},propertyRowWrapper:{..."pinned"===A?{display:"flex",flexDirection:"column"}:void 0},LastPagePropertyWrapper:{position:"relative"},LastPagePropertyInnerHoverPlusButton:{position:"absolute",left:"calc(100% + 10px)",top:"50%",transform:"translateY(-50%)"},infoPanelToggleButtonContainer:{display:"flex",alignItems:"end",flexShrink:0,visibility:ie}}}),[f.length,U,ie,_,ne,re,A]),le=(0,r.useCallback)((()=>{F(!0)}),[]),se=(0,r.useCallback)((()=>{F(!1)}),[]),de=(0,n().VK)((()=>h().Z.state.isOpen),[]),ce=(0,n().VK)((()=>{var e;return"hide"===(null==N||null===(e=N.getFormat())||void 0===e?void 0:e.property_icons_visibility)}),[N]),pe=(0,r.useMemo)((()=>(0,T.jsx)(L,{onClose:se,hiddenProperties:j,canConfigureCollection:K&&"suggest"!==W,store:t,collectionStore:o,collectionContextStore:G,blockPropertyValueOverlayStore:c,disabled:w,locked:k,isInPeekRenderer:H===S().S.PeekView,format:M,buttonPopupStore:z,pagePropertiesStore:l,hideDragHandle:"pinned"===A})),[c,z,K,G,o,w,W,M,se,j,k,l,H,t,A]);return r.useEffect((()=>{$(!0)}),[]),(0,T.jsxs)("div",{style:ae.container,ref:Q,children:[(0,T.jsx)("div",{style:ae.row,onMouseEnter:le,onMouseLeave:se,children:0===f.length?pe:f.map(((r,i)=>{const n=i===f.length-1;return(0,T.jsxs)("div",{style:{...ae.propertyRowWrapper,...n?ae.LastPagePropertyWrapper:void 0},children:[(0,T.jsxs)(I().gq,{children:[(0,T.jsx)(V().Z,{schema:O,format:M,hideDragHandle:!0,property:r.property,blockStore:t,collectionStore:o,pagePropertiesStore:l,disabled:w,locked:k,canConfigureCollection:K&&"suggest"!==W,isInPeekRenderer:H===S().S.PeekView,styleVariants:{size:"small",fontWeight:"medium",width:{variant:"hug-content"},height:{variant:"small"}},hideDuplicatePropertyOption:Boolean(N),layoutModule:e.layoutModule,hideIcon:ce}),!de&&(0,T.jsx)(s().zl,{store:t,propertyId:r.property})]}),(0,T.jsx)(Z().Z,{store:t,analyticsName:"page_property",children:(0,T.jsx)(b().m,{store:t,collectionStore:o,blockPropertyValueOverlayStore:c,property:r.property,format:x().C.CompactPage,disabled:w,locked:k,tableWrap:!1})}),n&&"pinned"!==A&&(0,T.jsx)(C().Z,{visible:D||E.isMobile,initial:{opacity:0},animate:{opacity:1,marginLeft:"auto"},exit:{opacity:0},style:ae.LastPagePropertyInnerHoverPlusButton,children:pe})]},r.property)}))}),re&&(0,T.jsx)("div",{style:ae.infoPanelToggleButtonContainer,children:(0,T.jsx)(g().k,{collectionStore:o,variant:ne?"compact":"full",pageViewBlockContext:H})})]})}const L=r.memo((function(e){const{hiddenProperties:t,canConfigureCollection:s,collectionStore:d,isInPeekRenderer:p,buttonPopupStore:u,collectionContextStore:g,hideDragHandle:m,overflowButtonWrapperStyle:y,overflowButtonStyle:h,pagePropertiesStore:v}=e,P=(0,i().Fy)(),S=(0,i().O7)(),b=(0,n().VK)((()=>d.getSchema()),[d]),x=(0,a().yK)((e=>({overflowIcon:{width:16,height:16,fill:e.mediumIconColor},pagePropertiesOverflow:{width:"100%",fontSize:14,padding:m?"10px":"10px 10px 10px 28px",maxHeight:500,overflowY:"scroll"},overflowButtonWrapper:{display:"flex",alignItems:"center",paddingBottom:8,...y},overflowButton:{display:"flex",width:32,height:32,borderRadius:4,justifyContent:"center",alignItems:"center",...h}})),[m,y,h]),C=(0,r.useCallback)((()=>{o(984871).fH({environment:S,collectionContextStore:g,collectionStore:d,isInPeekRenderer:p,onCloseMenu:()=>{u.setState({open:!1})},pagePropertiesStore:v})}),[S,g,v,d,p,u]);return t.length?(0,T.jsx)(k().ZP,{onClose:e.onClose,popupWrapStyle:{width:500},buttonPopupStore:u,popupType:P.isMobile?M().kQ.SlideUp:M().kQ.Popup,render:()=>(0,T.jsx)(o(206352).Z,{debugName:"PagePropertiesCompact",capture:!0,children:(0,T.jsxs)("div",{style:x.pagePropertiesOverflow,children:[(0,T.jsx)(o(796386).Z,{showHiddenProperties:!0,schema:b,mergedProperties:t,format:e.format,store:e.store,collectionStore:e.collectionStore,disabled:e.disabled,locked:e.locked,blockPropertyValueOverlayStore:e.blockPropertyValueOverlayStore,isInPeekRenderer:e.isInPeekRenderer,hideDragHandle:m,pagePropertiesStore:v}),s&&(0,T.jsx)(o(686929).le,{collectionStore:d,pagePropertiesStore:v,isInPeekRenderer:p})]})}),renderOrigin:e=>(0,T.jsx)("div",{style:x.overflowButtonWrapper,children:(0,T.jsx)(j().Z,{renderTooltip:()=>(0,T.jsx)(l()._H,{defaultMessage:"{num, plural, one {1 more property} other {{num} more properties}}",id:"database.pageProperties.compact.showMoreTooltip",values:{num:t.length}}),placement:f().Placement.Bottom,render:t=>(0,T.jsx)(w().Z,{style:x.overflowButton,mobileFeedback:P.isMobile,...(0,c().Z)(e,t),children:(0,o(314379).o)(x.overflowIcon)})})})}):s?(0,T.jsx)("div",{style:x.overflowButtonWrapper,children:(0,T.jsx)(j().Z,{renderTooltip:()=>(0,T.jsx)(l()._H,{defaultMessage:"Add a property",id:"database.pageProperties.compact.addPropertyButtonTitle"}),placement:f().Placement.Bottom,render:t=>(0,T.jsx)(k().ZP,{popupType:S.device.isMobile?M().kQ.SlideUp:M().kQ.Popup,onClose:e.onClose,buttonPopupStore:u,originGap:1,alignmentToOrigin:k().vR.Start,render:()=>(0,T.jsx)(o(765458).PJ,{context:o(347577).HV.TopbarFilterPopup,collectionContextStore:g,collectionSettingsStore:g.settingsStore,hideDesktopHeader:!0}),onClick:C,onDismiss:()=>{const e=g.settingsStore;o(139224).E3({collectionSettingsStore:e})},renderOrigin:e=>(0,T.jsx)(w().Z,{style:x.overflowButton,mobileFeedback:P.isMobile,...(0,c().Z)(e,t),children:(0,o(521777).R)(x.overflowIcon)})})})}):null}))},686929:(e,t,o)=>{o.d(t,{ZP:()=>w,le:()=>k});o(670560),o(267602),o(653476);var r=o(667294),i=()=>o(219727),n=()=>o(142735),a=()=>o(846550),l=()=>o(788860),s=()=>o(984871),d=()=>o(139224),c=()=>o(765458),p=()=>o(125659),u=()=>o(347577),g=()=>o(164079),m=()=>o(486539),y=()=>o(521777),h=()=>o(529048),f=()=>o(763058),v=()=>o(154186),P=()=>o(448419),S=()=>o(92175),b=()=>o(967092),x=()=>o(177610),C=o(785893);function w(e){const{locked:t,disabled:o,collectionStore:r,mergedProperties:i,schema:a,isCompact:l,pagePropertiesStore:s,wrapperStyle:d}=e,c=(0,n().VK)((()=>s.state.forceShowProperties),[s]),p=Z(i,a,l),u=(0,x().vg)(r),g=[];return(c||0===p)&&(!t&&!o&&u)&&g.push((0,C.jsx)(k,{...e},"add-property")),p>0&&(c?g.push((0,C.jsx)(j,{mergedProperties:i,schema:a,isCompact:l,pagePropertiesStore:s},"hide-properties")):g.push((0,C.jsx)(M,{mergedProperties:i,schema:a,isCompact:l,pagePropertiesStore:s},"show-more"))),g.length>0&&d?(0,C.jsx)("div",{style:d,children:g}):(0,C.jsx)(C.Fragment,{children:g})}function k(e){const{collectionStore:t,isInPeekRenderer:o,pagePropertiesStore:a,propertyGroupId:m,onPropertyAdded:v,disabled:x,iconStyle:w}=e,k=(0,p().DK)(),M=(0,i().O7)(),j=(0,n().qz)(void 0,h().Z),I=V(),Z=(0,n().VK)((()=>null==k?void 0:k.settingsStore.state.open),[null==k?void 0:k.settingsStore]);(0,r.useEffect)((()=>{Z||j.setState({...j.state,open:!1})}),[j,Z]);const R=(0,n().qz)(a,f().pB),B=(0,r.useCallback)((()=>{k&&s().fH({environment:M,propertyGroupId:m,collectionContextStore:k,pagePropertiesStore:R,collectionStore:t,isInPeekRenderer:o,onCloseMenu:e=>{null==v||v(e),j.setState({open:!1})},propertyVisibility:"show"})}),[M,m,k,R,t,o,v,j]),T=(0,n().VK)((()=>null==k?void 0:k.permissionScopesStore.state),[k]);return null!=T&&T.isExternallyImportedAndSyncedCollection||!k?null:(0,C.jsx)("div",{style:{display:"flex"},children:(0,C.jsx)(P().ZP,{popupType:M.device.isMobile?b().kQ.SlideUp:b().kQ.Popup,buttonPopupStore:j,originGap:1,alignmentToOrigin:P().vR.Start,render:()=>(0,C.jsx)(c().PJ,{context:u().HV.TopbarFilterPopup,collectionContextStore:k,collectionSettingsStore:k.settingsStore,hideDesktopHeader:!0}),onClick:B,onClose:()=>{const e=k.settingsStore;d().E3({collectionSettingsStore:e})},renderOrigin:t=>(0,C.jsx)(S().Z,{style:I.AddOrTogglePropertyButtonStyle,iconStyle:{...I.ActionPropertyButtonIconStyle,...w},icon:y().R,disabled:x,disabledFeedback:!0,...(0,g().Z)(e,t),children:(0,C.jsx)(l()._H,{defaultMessage:"Add a property",id:"database.pageProperties.addPropertyButtonTitle"})})})})}function M(e){const{mergedProperties:t,schema:o,isCompact:i,pagePropertiesStore:n}=e,a=V(),s=Z(t,o,i),d=(0,r.useCallback)((e=>{e.stopPropagation(),n.setState({...n.state,forceShowProperties:!0})}),[n]);return(0,C.jsx)("div",{style:{display:"flex"},children:(0,C.jsx)("div",{style:a.AddOrToggleContainerStyle,children:(0,C.jsxs)(v().Z,{style:{...a.AddOrTogglePropertyButtonStyle,...e.style},onClick:d,children:[(0,m().Y)(a.ActionPropertyButtonIconStyle),(0,C.jsx)("div",{style:a.AddPropertyButtonTitleStyle,children:(0,C.jsx)(l()._H,{defaultMessage:"{num, plural, one {1 more property} other {{num} more properties}}",id:"database.pageProperties.showMorePropertyTitle",values:{num:s}})})]},"show-more")})})}function j(e){const{mergedProperties:t,schema:o,isCompact:i,pagePropertiesStore:n}=e,a=Z(t,o,i),s=V(),d=(0,r.useCallback)((e=>{e.stopPropagation(),n.setState({...n.state,forceShowProperties:!1})}),[n]);return(0,C.jsx)("div",{style:{display:"flex"},children:(0,C.jsxs)(v().Z,{style:{...s.AddOrTogglePropertyButtonStyle,...e.style},onClick:d,children:[(0,m().Y)({...s.ActionPropertyButtonIconStyle,transform:"rotate(180deg)"}),(0,C.jsx)("div",{style:s.AddPropertyButtonTitleStyle,children:(0,C.jsx)(l()._H,{defaultMessage:"{num, plural, one {Hide 1 property} other {Hide {num} properties}}",id:"database.pageProperties.hidePropertyTitle",values:{num:a}})})]},"hide-properties")})}const I=16;function V(){const e=(0,i().O7)();return(0,a().yK)((t=>{const{device:o}=e;return{AddOrToggleContainerStyle:{display:"grid"},AddOrTogglePropertyButtonStyle:{display:"flex",alignItems:"center",color:t.text.tertiary,fontSize:14,borderRadius:4,paddingLeft:6,paddingRight:6,height:34,width:o.isMobile?"100%":"auto",gridColumn:1,gridRow:1},ActionPropertyButtonIconStyle:{width:I,height:I,marginRight:6,marginTop:1,fill:t.icon.tertiary},AddPropertyButtonTitleStyle:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",minWidth:0,lineHeight:`${I}px`}}}),[e])}function Z(e,t,o){return(0,r.useMemo)((()=>e.filter((e=>"hide"===e.visibility||"hide_if_empty"===e.visibility&&!e.hasValue)).length),[e])}},177610:(e,t,o)=>{o.d(t,{G_:()=>f,nd:()=>h,r$:()=>v,vg:()=>y});o(821057),o(267602),o(653476),o(470928),o(241792);var r=o(667294),i=()=>o(219727),n=()=>o(142735),a=()=>o(788860),l=()=>o(513670),s=()=>o(421654),d=()=>o(269299),c=()=>o(887430),p=()=>o(141735),u=()=>o(677559),g=()=>o(170075),m=()=>o(70191);function y(e){return(0,n().VK)((()=>!!e&&c().eD({collectionStore:e,collectionViewBlockStore:e.getParentBlockStore(),checkNavigableAncestorLocked:!1})),[e])}function h(e){let{store:t,format:o,schema:r,collectionStore:l,propertyIds:s,propertyGroupId:d}=e;const c=(0,i().O7)(),g=(0,a().YB)(),{value:y}=(0,u().XJ)(p().F.formulas);return(0,n().VK)((()=>(0,m().WM)({store:t,format:o,schema:r,collectionStore:l,propertyIds:s,propertyGroupId:d,intl:g,environment:c,formulasModule:y})),[t,o,r,l,s,d,g,c,y])}function f(e){let{collectionStore:t,format:o}=e;const n=(0,i().O7)();return(0,r.useCallback)((e=>{const r=o.collection_page_properties||[],i=[...(0,l().oA)(e.map((e=>r.find((t=>t.property===e))))),...r.filter((t=>!e.includes(t.property)))];d().createAndCommit({userAction:"PageProperties.handleReorder",environment:n,canUndo:!0,perform:e=>{s().FH({stores:[t],update:{collection_page_properties:i},transaction:e})}})}),[t,n,o.collection_page_properties])}function v(e){let{collectionStore:t,format:o,propertyGroupId:n}=e;const a=(0,i().O7)();return(0,r.useCallback)((e=>{if(!n)throw new Error("cannot reorder properties for property group -- no property group id provided");d().createAndCommit({userAction:"PagePropertiesGroup.handleReorder",environment:a,canUndo:!0,perform:o=>{(0,g().N8)({collectionStore:t,newPartialPropertyIds:e,groupId:n,transaction:o})}})}),[t,a,n])}},60613:(e,t,o)=>{o.d(t,{h:()=>r});const r=408},946735:(e,t,o)=>{o.d(t,{Dr:()=>a,Su:()=>n});var r=()=>o(677559);const i={pageVerification:new(r().Ss)("pageVerification",(()=>Promise.all([o.e(62743),o.e(55253)]).then(o.bind(o,711296)))),pageVerificationBadge:new(r().Ss)("pageVerificationBadge",(()=>Promise.all([o.e(62743),o.e(2971),o.e(53335),o.e(46616),o.e(61171),o.e(23179),o.e(2942),o.e(10553),o.e(98672),o.e(62904),o.e(64153)]).then(o.bind(o,776864))))},n=(0,r().kF)(i.pageVerification,(e=>e.PageAddVerificationButton)),a=(0,r().kF)(i.pageVerificationBadge,(e=>e.PageVerificationBadge))},498403:(e,t,o)=>{o.d(t,{P:()=>i});o(667294);var r=o(785893);const i=(0,o(827282).IU)("addPageCover",{viewBox:"0 0 14 14",svg:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 0a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm0 12h10L8.5 5.5l-2 4-2-1.5L2 12z"})})},486539:(e,t,o)=>{o.d(t,{Y:()=>i});o(667294);var r=o(785893);const i=(0,o(827282).IU)("chevronDownThin",{viewBox:"0 0 16 16",svg:(0,r.jsx)("path",{d:"M8 11.4795C7.77214 11.4795 7.56478 11.3883 7.37793 11.2061L2.17578 5.88086C2.09831 5.80794 2.03906 5.72591 1.99805 5.63477C1.96159 5.53906 1.94336 5.43652 1.94336 5.32715C1.94336 5.17676 1.97754 5.04004 2.0459 4.91699C2.11882 4.79395 2.21452 4.69824 2.33301 4.62988C2.4515 4.55697 2.58594 4.52051 2.73633 4.52051C2.95508 4.52051 3.14648 4.60254 3.31055 4.7666L8.33496 9.91406H7.67188L12.6895 4.7666C12.8535 4.60254 13.0449 4.52051 13.2637 4.52051C13.4141 4.52051 13.5485 4.55697 13.667 4.62988C13.7855 4.69824 13.8789 4.79395 13.9473 4.91699C14.0202 5.04004 14.0566 5.17676 14.0566 5.32715C14.0566 5.54134 13.9792 5.72591 13.8242 5.88086L8.62207 11.2061C8.53548 11.2972 8.43978 11.3656 8.33496 11.4111C8.23014 11.4567 8.11849 11.4795 8 11.4795Z"})})},423519:(e,t,o)=>{o.d(t,{z:()=>i});o(667294);var r=o(785893);const i=(0,o(827282).IU)("collectionDescriptionSmall",{viewBox:"0 0 14 14",svg:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 4.667C6.69049 4.667 6.39366 4.54405 6.17481 4.32519C5.95595 4.10634 5.833 3.80951 5.833 3.5C5.833 3.19049 5.95595 2.89366 6.17481 2.67481C6.39366 2.45595 6.69049 2.333 7 2.333C7.30951 2.333 7.60634 2.45595 7.82519 2.67481C8.04405 2.89366 8.167 3.19049 8.167 3.5C8.167 3.80951 8.04405 4.10634 7.82519 4.32519C7.60634 4.54405 7.30951 4.667 7 4.667V4.667ZM8 11C8 11.2652 7.89464 11.5196 7.70711 11.7071C7.51957 11.8946 7.26522 12 7 12C6.73478 12 6.48043 11.8946 6.29289 11.7071C6.10536 11.5196 6 11.2652 6 11V7C6 6.73478 6.10536 6.48043 6.29289 6.29289C6.48043 6.10536 6.73478 6 7 6C7.26522 6 7.51957 6.10536 7.70711 6.29289C7.89464 6.48043 8 6.73478 8 7V11ZM7 0C5.14348 0 3.36301 0.737498 2.05025 2.05025C0.737498 3.36301 0 5.14348 0 7C0 8.85652 0.737498 10.637 2.05025 11.9497C3.36301 13.2625 5.14348 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.14348 13.2625 3.36301 11.9497 2.05025C10.637 0.737498 8.85652 0 7 0V0Z"})})},864060:(e,t,o)=>{o.d(t,{Z:()=>a,k:()=>n});var r=()=>o(677559);const i={PinnedInfoPanelToggleButton:new(r().Ss)("PinnedInfoPanelToggleButton",(async()=>o.e(34268).then(o.bind(o,354007)))),PageHeaderInfoPanelToggleButton:new(r().Ss)("PageHeaderInfoPanelToggleButton",(async()=>o.e(8505).then(o.bind(o,699029))))},n=(0,r().kF)(i.PinnedInfoPanelToggleButton,(e=>e.default)),a=(0,r().kF)(i.PageHeaderInfoPanelToggleButton,(e=>e.default))},106128:(e,t,o)=>{o.d(t,{NW:()=>a,Qi:()=>i,Rt:()=>r,WO:()=>l,wI:()=>n});let r=function(e){return e[e.SelectedPage=0]="SelectedPage",e[e.SearchPage=1]="SearchPage",e[e.NewPage=2]="NewPage",e}({});const i=4,n=32,a=400,l=20},820748:(e,t,o)=>{o.d(t,{ev:()=>a,NW:()=>r().NW,Qi:()=>r().Qi,wI:()=>r().wI});var r=()=>o(106128),i=()=>o(677559);const n=new(i().Ss)("RelationPropertyMenu",(async()=>{const{default:e}=await Promise.all([o.e(62743),o.e(44832),o.e(90698),o.e(84885),o.e(5242),o.e(90424),o.e(2971),o.e(80741),o.e(72586),o.e(53335),o.e(71896),o.e(46616),o.e(54940),o.e(49396),o.e(98721),o.e(98032),o.e(57229),o.e(63707),o.e(86609),o.e(91253),o.e(4642),o.e(5006),o.e(6612),o.e(2942),o.e(73682),o.e(1953),o.e(58565),o.e(34291),o.e(72329),o.e(13856)]).then(o.bind(o,835698));return{RelationPropertyMenu:e}})),a=(0,i().kF)(n,(e=>e.RelationPropertyMenu))},685472:(e,t,o)=>{o.d(t,{EP:()=>n,LU:()=>a,NS:()=>i,SS:()=>r,ZP:()=>s});const r="loadingLocalImage",i="uploading",n="downloading",a="loaded";class l extends(()=>o(263184))().default{getInitialState(){return{loadingMode:a}}}const s=l},774985:(e,t,o)=>{o.d(t,{Z:()=>r});const r=new(o(685472).ZP)},768055:(e,t,o)=>{o.d(t,{W:()=>n});o(267602),o(470928);var r=o.n(o(400939)),i=()=>o(163085);function n(e){const t=i().Z.find((t=>t.store===e));if(t){const e=t.getContentWrapEl();if(e)return r()(e.innerText)}return 0}}}]);