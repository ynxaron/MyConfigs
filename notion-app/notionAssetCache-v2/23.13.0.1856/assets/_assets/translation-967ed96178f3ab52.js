"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[63283],{758210:(e,a,s)=>{s.d(a,{B:()=>f});var n=s(667294),t=()=>s(142735),i=()=>s(565630),g=()=>s(219727),o=()=>s(594546),r=()=>s(358122),l=()=>s(234478);function u(e){const{pageStore:a,enabled:s}=e,t=(0,g().O7)(),i=(0,l().w)({pageStore:a,enabled:s}),u=(0,r().J)();return(0,n.useEffect)((()=>{i&&i!==u&&function(e){let{environment:a,detectedLanguage:s,suggestedLanguage:n}=e;(0,o().j)({environment:a,event:{eventName:"suggested_page_translation",eventProperties:{detected_language:s,suggested_language:n}}})}({environment:t,detectedLanguage:i,suggestedLanguage:u})}),[i,u,t]),i&&i!==u?{detectedPageLanguage:i,suggestedPageTranslationLanguage:u}:{detectedPageLanguage:void 0,suggestedPageTranslationLanguage:void 0}}var d=()=>s(876822),c=()=>s(524434),m=()=>s(279386);function f(e){const a=(0,t().VK)((()=>{var a;return null===(a=m().MT.getStateForBlock(e.id))||void 0===a?void 0:a.mode}),[e]),s=(0,t().VK)((()=>c().KR.isAmbientFullPageTranslateSuggestionEnabled()),[]),g=(0,t().VK)((()=>{const e=d().default.state.currentUserSettingsStore;return!!e&&void 0===e.getSettingsStore().getKeyStore("ai_page_translation_dismissed_at").getValue()}),[]),o=s&&g,{detectedPageLanguage:r,suggestedPageTranslationLanguage:l}=u({pageStore:e,enabled:o}),[f,b]=(0,n.useState)(!1);(0,i().D9)(e.id)!==e.id&&f&&b(!1);return{suggestTranslation:Boolean(!f&&o&&l&&(void 0===a||"default"===a)),detectedPageLanguage:r,suggestedPageTranslationLanguage:l,setTranslationSuggestionDismissed:b}}},880885:(e,a,s)=>{s.d(a,{H:()=>n});const n=s(263184).default.createValue(!1,{name:"AiPageTranslationCalloutStore"})},993996:(e,a,s)=>{s.r(a),s.d(a,{MobileTopbarAmbientSuggestTranslateRenderer:()=>y,TopbarAmbientSuggestTranslateButton:()=>w,TranslateBanner:()=>D().TranslateBanner});var n=s(667294),t=()=>s(219727),i=()=>s(142735),g=()=>s(846550),o=()=>s(697466),r=()=>s(788860),l=()=>s(696459),u=()=>s(676922),d=()=>s(348141),c=()=>s(154186),m=()=>s(1910),f=()=>s(442531),b=()=>s(594546),p=()=>s(45909),M=()=>s(677559),h=()=>s(289271),P=()=>s(688049),k=()=>s(733641),v=()=>s(590972),S=()=>s(880885),L=()=>s(725751),T=s(785893);const B=(0,r().vU)({translateToLabel:{defaultMessage:"Translate to {language}",id:"topbar.ambientSuggestTranslate.label"},dismissLabel:{defaultMessage:"Dismiss translation suggestion",id:"topbar.ambientSuggestTranslate.dismiss"},acceptSuggestionLabel:{defaultMessage:"Stop showing translation suggestions.",id:"topbar.ambientSuggestTranslate.accept"},dismissSuggestionLabel:{defaultMessage:"Dismiss translation suggestion for this page, but keep suggesting translations.",id:"topbar.ambientSuggestTranslate.dismissSuggestionLabel"}});function w(e){const{onDismiss:a,...s}=e,{value:t}=(0,M().XJ)(f().io),[i,g]=n.useState("suggesting");return t?"suggesting"===i?(0,T.jsx)(x,{...s,framerMotion:t,onDismiss:()=>g("dismissing")}):"dismissing"===i?(0,T.jsx)(C,{suggestedPageTranslationLanguage:e.suggestedPageTranslationLanguage,detectedPageLanguage:e.detectedPageLanguage,store:e.store,onDismiss:()=>{a(),g("suggesting")}}):(0,l().t1)(i):null}function x(e){let{store:a,isVisible:s,compact:d,framerMotion:f,suggestedPageTranslationLanguage:b,detectedPageLanguage:M,onDismiss:k}=e;const{AnimatePresence:S,motion:w}=f,x=(0,t().O7)(),C=(0,r().YB)(),D=(0,o().i)(C),j=(0,i().VK)((()=>Boolean(L().default.state.isShowingTabBar)),[]),y=(0,i().VK)((()=>v().default.state.expanded),[]),_=(0,g().yK)((e=>({button:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:256,color:e.text.uiBluePrimary,gap:2,height:28,background:e.accentColors.uiBlue[100],...(0,p().X)({noDrag:x.device.isElectron&&!j})},hoveredButton:{background:e.accentColors.uiBlue[200]},pressedButton:{background:e.accentColors.uiBlue[300]},translateIcon:{height:18,width:18,marginLeft:9,marginRight:3},text:{fontSize:14,lineHeight:1.428},closeIcon:{height:14,width:14,fill:e.text.uiBlueSecondary},dismissIconContainer:{borderRadius:14,marginRight:2,marginTop:2,marginBottom:2}})),[x.device.isElectron,j]),E=(0,n.useCallback)((()=>{u().V8({pageStore:a,environment:x}),u().LI({pageStore:a,targetLanguage:b,sourceLanguage:M,environment:x,triggeredFrom:"ambient_suggestion"}),k()}),[x,a,k,M,b]),I=(0,n.useRef)(null);return(0,T.jsx)(S,{children:s&&(0,T.jsx)(w.div,{ref:I,initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.1},children:(0,T.jsxs)(c().Z,{style:_.button,hoveredStyle:_.hoveredButton,pressedStyle:_.pressedButton,onClick:E,ariaLabel:C.formatMessage(B.translateToLabel,{language:(0,l().qg)(D,b)?D[b].name:"Unknown language"}),children:[(0,h().Q)(_.translateIcon),(0,T.jsx)(S,{initial:y,children:!d&&!y&&(0,l().qg)(D,b)&&(0,T.jsx)(w.div,{initial:{width:0},exit:{width:0},animate:{width:"auto"},transition:{duration:.1},style:_.text,children:(0,T.jsx)(r()._H,{...B.translateToLabel,values:{language:D[b].name}})})}),(0,T.jsx)(m().Z,{style:_.dismissIconContainer,icon:P().D,iconStyle:_.closeIcon,onClick:k,ariaLabel:C.formatMessage(B.dismissLabel)})]},"button")})})}function C(e){const{store:a,suggestedPageTranslationLanguage:s,detectedPageLanguage:i,onDismiss:o}=e,l=(0,r().YB)(),u=(0,t().O7)(),c=(0,n.useCallback)((()=>{o(),S().H.setState(!0),d().jh(u),(0,b().j)({environment:u,event:{eventName:"click_dismiss_translation_suggestion_forever",eventProperties:{source_language:i,suggested_language:s,page_id:a.id}}})}),[o,u,a,i,s]),f=(0,g().yK)((e=>({wrapper:{display:"flex",alignItems:"center",color:e.mediumTextColor,fontSize:14,lineHeight:1.428,gap:4},iconContainer:{borderRadius:14,marginRight:2,marginTop:2,marginBottom:2},checkIcon:{height:13,width:13,fill:e.lightIconColor},closeIcon:{height:14,width:14,fill:e.lightIconColor}})),[]);return(0,T.jsxs)("div",{style:f.wrapper,children:[(0,T.jsx)(r()._H,{defaultMessage:"Stop showing translation suggestions?",id:"topbar.ambientSuggestTranslate.dismissConfirmation"}),(0,T.jsx)(m().Z,{style:f.iconContainer,icon:k().k,iconStyle:f.checkIcon,onClick:c,ariaLabel:l.formatMessage(B.acceptSuggestionLabel)}),(0,T.jsx)(m().Z,{style:f.iconContainer,icon:P().D,iconStyle:f.closeIcon,onClick:o,ariaLabel:l.formatMessage(B.dismissSuggestionLabel)})]})}var D=()=>s(704562),j=()=>s(758210);function y(e){let{blockStore:a}=e;const{suggestTranslation:s,suggestedPageTranslationLanguage:i,detectedPageLanguage:g,setTranslationSuggestionDismissed:o}=(0,j().B)(a),r=(0,t().O7)();return(0,n.useEffect)((()=>{s&&(u().V8({pageStore:a,environment:r,status:"suggest_translation",sourceLanguage:g,targetLanguage:i}),o(!0))}),[a,r,s,g,i,o]),null}},697466:(e,a,s)=>{function n(e){return{"en-US":{label:"English",caption:e.formatMessage({defaultMessage:"English (US)",id:"languagePicker.captions.englishUS"})},"de-DE":{label:"Deutsch",caption:e.formatMessage({defaultMessage:"German",id:"languagePicker.captions.germanDE"})},"ko-KR":{label:"ÌïúÍµ≠Ïñ¥",caption:e.formatMessage({defaultMessage:"Korean",id:"languagePicker.captions.koreanKo"})},"zh-CN":{label:"ÁÆÄ‰Ωì‰∏≠Êñá",caption:e.formatMessage({defaultMessage:"Simplified Chinese",id:"languagePicker.captions.chineseS"})},"zh-TW":{label:"ÁπÅÈ´î‰∏≠Êñá",caption:e.formatMessage({defaultMessage:"Traditional Chinese",id:"languagePicker.captions.chineseT"})},"ja-JP":{label:"Êó•Êú¨Ë™û",caption:e.formatMessage({defaultMessage:"Japanese",id:"languagePicker.captions.japaneseJa"})},"es-ES":{label:"Espa√±ol (Espa√±a)",caption:e.formatMessage({defaultMessage:"Spanish (Spain)",id:"languagePicker.captions.spanishEs"})},"es-LA":{label:"Espa√±ol (Latinoam√©rica)",caption:e.formatMessage({defaultMessage:"Spanish (Latin America)",id:"languagePicker.captions.spanishLatam"})},"pt-BR":{label:"Portugu√™s (Brasil)",caption:e.formatMessage({defaultMessage:"Portuguese (Brazil)",id:"languagePicker.captions.portugueseBr"})},"fr-FR":{label:"Fran√ßais (France)",caption:e.formatMessage({defaultMessage:"French",id:"languagePicker.captions.frenchFr"})},"da-DK":{label:"Dansk",caption:e.formatMessage({defaultMessage:"Danish",id:"languagePicker.captions.danishDk"})},"fi-FI":{label:"Suomi",caption:e.formatMessage({defaultMessage:"Finnish",id:"languagePicker.captions.finnishFi"})},"nb-NO":{label:"Norsk",caption:e.formatMessage({defaultMessage:"Norwegian",id:"languagePicker.captions.norwegianNo"})},"nl-NL":{label:"Nederlands",caption:e.formatMessage({defaultMessage:"Dutch",id:"languagePicker.captions.dutchNl"})},"sv-SE":{label:"Svenska",caption:e.formatMessage({defaultMessage:"Swedish",id:"languagePicker.captions.swedishSe"})},pseudo:{label:"ü§°Pseudolocaleü§°",caption:e.formatMessage({defaultMessage:"Pseudolocale",id:"languagePicker.captions.pseudolocale"})}}}function t(e){return{en:{name:e.formatMessage({defaultMessage:"English",id:"languagePicker.name.english"}),abbreviation:e.formatMessage({defaultMessage:"EN",id:"languagePicker.abbreviation.english"})},de:{name:e.formatMessage({defaultMessage:"German",id:"languagePicker.name.german"}),abbreviation:e.formatMessage({defaultMessage:"DE",id:"languagePicker.abbreviation.german"})},ko:{name:e.formatMessage({defaultMessage:"Korean",id:"languagePicker.name.korean"}),abbreviation:e.formatMessage({defaultMessage:"KO",id:"languagePicker.abbreviation.korean"})},zh:{name:e.formatMessage({defaultMessage:"Chinese",id:"languagePicker.name.chinese"}),abbreviation:e.formatMessage({defaultMessage:"ZH",id:"languagePicker.abbreviation.chinese"})},ja:{name:e.formatMessage({defaultMessage:"Japanese",id:"languagePicker.name.japanese"}),abbreviation:e.formatMessage({defaultMessage:"JA",id:"languagePicker.abbreviation.japanese"})},es:{name:e.formatMessage({defaultMessage:"Spanish",id:"languagePicker.name.spanish"}),abbreviation:e.formatMessage({defaultMessage:"ES",id:"languagePicker.abbreviation.spanish"})},pt:{name:e.formatMessage({defaultMessage:"Portuguese",id:"languagePicker.name.portuguese"}),abbreviation:e.formatMessage({defaultMessage:"PT",id:"languagePicker.abbreviation.portuguese"})},fr:{name:e.formatMessage({defaultMessage:"French",id:"languagePicker.name.french"}),abbreviation:e.formatMessage({defaultMessage:"FR",id:"languagePicker.abbreviation.french"})},da:{name:e.formatMessage({defaultMessage:"Danish",id:"languagePicker.name.danish"}),abbreviation:e.formatMessage({defaultMessage:"DA",id:"languagePicker.abbreviation.danish"})},fi:{name:e.formatMessage({defaultMessage:"Finnish",id:"languagePicker.name.finnish"}),abbreviation:e.formatMessage({defaultMessage:"FI",id:"languagePicker.abbreviation.finnish"})},nb:{name:e.formatMessage({defaultMessage:"Norwegian",id:"languagePicker.name.norwegian"}),abbreviation:e.formatMessage({defaultMessage:"NB",id:"languagePicker.abbreviation.norwegian"})},nl:{name:e.formatMessage({defaultMessage:"Dutch",id:"languagePicker.name.dutch"}),abbreviation:e.formatMessage({defaultMessage:"NL",id:"languagePicker.abbreviation.dutch"})},sv:{name:e.formatMessage({defaultMessage:"Swedish",id:"languagePicker.name.swedish"}),abbreviation:e.formatMessage({defaultMessage:"SV",id:"languagePicker.abbreviation.swedish"})}}}s.d(a,{i:()=>t,t:()=>n})}}]);