"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[65548],{530916:(e,t,n)=>{n.d(t,{default:()=>ne});var i=n(667294),r=()=>n(219727),s=()=>n(142735),o=()=>n(846550),a=()=>n(707513),l=()=>n(772529),c=()=>n(876822),u=(n(267602),n(653476),n(241792),()=>n(788860)),d=()=>n(231077),p=()=>n(239482),m=()=>n(549813),h=()=>n(91502),f=()=>n(826955),g=()=>n(154186),b=()=>n(448419),v=()=>n(198829),x=()=>n(255577),_=()=>n(470386),j=()=>n(92175),y=()=>n(352230),M=()=>n(493686),S=n(785893);const k=function(e,t){return[{key:"results",render:e=>(0,S.jsx)(n(388284).Z,{...e}),items:t.map(((t,i)=>({key:t.id,render:e=>(0,S.jsx)(n(231219).Z,{...e,isSubpage:0!==i,store:t,hidePath:!0}),action:i=>{let{event:r}=i;const s=n(250625).DJ(r);t instanceof f().G&&n(47443)._c({environment:e,store:t,openInNew:s,visitType:n(614027).vu.Link,pageVisitSource:n(506347).tY.Breadcrumb})}})))}]};const w=function(e){const{isMobile:t,stores:n}=e,i=(0,r().O7)(),s={display:"flex",alignItems:"center",flexShrink:0};return(0,S.jsx)(b().ZP,{popupType:t?b().Z4.SlideUp:b().Z4.Popup,renderOrigin:e=>t?(0,S.jsxs)(g().Z,{style:{...s},mobileFeedback:!0,...e,children:[(0,S.jsx)(M().f,{}),(0,S.jsx)("div",{style:{marginLeft:8,marginRight:8},children:"..."}),(0,S.jsx)(M().f,{})]}):(0,S.jsxs)("div",{style:s,children:[(0,S.jsx)(j().Z,{isSmall:!0,...e,children:"..."}),(0,S.jsx)(M().f,{})]}),render:e=>{let r;return r=t?{menuType:y().o.Modal,title:(0,S.jsx)(u()._H,{defaultMessage:"Breadcrumb",id:"breadcrumb.mobileBreadcrumbMenu.title"}),right:(0,S.jsx)(_().DoneMenuText,{}),onClickRight:e.close}:{menuType:y().o.Popup,width:240},(0,S.jsx)(v().Z,{...r,children:(0,S.jsx)(x().Z,{type:x().i.Vertical,onAccept:e.close,initialFocus:void 0,sections:k(i,n)})})}})};var P=()=>n(922227),W=()=>n(453059);function C(e){const{ancestorMaxWidth:t,showDivider:n,store:i}=e;return i instanceof f().zX?(0,S.jsx)(W().Z,{store:i,showDivider:n,maxWidth:t}):(0,S.jsx)(P().Z,{store:i,showDivider:n,maxWidth:t})}function D(e){const{ancestorMaxWidth:t,isMobile:n,homeStore:o,store:a,maxAncestorCount:c}=e,g=(0,r().O7)(),b=(0,u().YB)(),[v,x]=(0,s().VK)((()=>{const e=p().uJ(a),t=a.isNavigableBlock()?e.slice(1):[...e];return t.reverse(),e.reverse(),[t,e]}),[a],{useDeepEqual:!0}),_=(0,s().VK)((()=>v.map((e=>(0,m().V)(e,b,g,!0)||(0,m().NO)(e,b)||""))),[g,b,v]);(0,i.useEffect)((()=>(d().setTabBreadcrumbs(_),()=>{d().setTabBreadcrumbs(void 0)})),[_]);const j=(0,s().VK)((()=>(0,l().Kj)(a.id)),[a]),y=(0,s().VK)((()=>(0,h().az)()>0),[]);if(j&&void 0!==o)return(0,S.jsx)(C,{ancestorMaxWidth:t,showDivider:v.length>0,store:o},o.id);if(v.length>c){const[e,i,r]=[v[0],v.slice(1,v.length-c+1),v.slice(v.length-c+1)];if(y)return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(C,{ancestorMaxWidth:t,showDivider:!n,store:e},e.id),(0,S.jsx)(w,{isMobile:n,stores:n?x:i},"pages-popup"),r.map((e=>e instanceof f().zX?(0,S.jsx)(W().Z,{store:e,showDivider:!0,maxWidth:t},e.id):(0,S.jsx)(P().Z,{store:e,showDivider:!0,maxWidth:t},e.id)))]});{const e=v.filter((e=>e instanceof f().G)),i=v.filter((e=>e instanceof f().G));return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(P().Z,{store:e[0],showDivider:!n,maxWidth:t},e[0].id),(0,S.jsx)(w,{isMobile:n,stores:n?i:e.slice(1,e.length-c+1)},"pages-popup"),e.slice(e.length-c+1).map((e=>(0,S.jsx)(P().Z,{store:e,showDivider:!0,maxWidth:t},e.id)))]})}}return(0,S.jsx)(S.Fragment,{children:v.map((e=>(0,S.jsx)(C,{ancestorMaxWidth:t,showDivider:!0,store:e},`${e.table}-${e.id}`)))})}var I=()=>n(491927),V=()=>n(547586),Z=()=>n(191586),R=()=>n(148126),K=()=>n(832924),B=()=>n(275200),T=()=>n(466970),O=()=>n(482162);const E=function(e){const{ancestorMaxWidth:t,ignoreMaxLength:i,showDivider:r,store:s}=e,a=(0,o().yK)((()=>({homeBreadCrumbWrapper:{marginLeft:-4},wrapper:{display:"flex",alignItems:"center",flexShrink:1,marginLeft:6,minWidth:0,maxWidth:i?void 0:"100%"}})),[i]);return(0,S.jsxs)("div",{style:a.wrapper,children:[(0,S.jsx)(n(543227).Z,{store:s,maxWidth:t,ignoreMaxLength:i}),r&&(0,S.jsx)(M().f,{})]})};function F(e,t,n,i){return(0,s().VK)((()=>{const r=i.canEdit(),s=i.isNonEditableState(),o=i.getCollectionStore(),a=null==o?void 0:o.isSyncedCollection(),c=i.isExternalObjectInstancePageBlockStore(),u=(0,Z().Wt)(i);return(0,l().Kj)(i.id)||t||(0,R().Sr)(e)||O().default.isCenterPeekOpen()||!n||!r||s||c||a||u}),[e,t,n,i])}function L(e,t,n,r){const s=F(e,t,n,r);return(0,i.useCallback)((()=>{if(s)return;const t=O().default.isCenterPeekOpen()?K().default.PeekViewScroller:K().default.PageScroller;if(t){const n=t.getNode();var i;if(n&&!B().$e(n))return null===(i=t.getNode())||void 0===i||i.scrollTo({top:0,behavior:"smooth"}),void I().Op(e)}const o=n.current;if(!o)return;if(!(o instanceof Element))return;const a=o.getBoundingClientRect();V().$({blockStore:r,originRect:a}),I().V(e)}),[s,e,n,r])}function N(e,t){const{currentPageMaxWidth:i,isMobile:o,currentPageRef:a,store:l}=e,c=(0,r().O7)(),u=F(c,o,a,l),d=(0,s().VK)((()=>l.isEmptyPage()),[l]),p=(0,s().VK)((()=>l.getIcon()),[l]),m=o?24:20,h=L(c,o,a,l);return(0,S.jsxs)(j().Z,{shouldShrink:!0,onClick:h,isSmall:!0,ref:t,disabled:u,children:[Boolean(p)&&(0,S.jsx)(n(943620).Z,{disabled:!0,icon:p,isEmptyPage:d,size:m,style:{marginRight:6},largeIcon:!0}),(0,S.jsx)(n(384241).Z,{store:l,style:{maxWidth:i},enableHover:!0})]})}const H=(0,i.forwardRef)(N);function A(e){const{ancestorMaxWidth:t,isMobile:n,currentPageRef:i,store:o}=e,a=(0,r().O7)(),{mobileNative:c}=a,u=(0,s().VK)((()=>(0,l().WE)(o)),[o]),d=L(a,n,i,o),m=(0,s().VK)((()=>{const e=p().uJ(o);return 0===(o.isNavigableBlock()?e.slice(1):[...e]).length}),[o]);return u?null:n?(0,S.jsx)(j().Z,{shouldShrink:!0,onClick:d,isSmall:!0,style:null!=c&&c.supportsNativeHomeOnPhone()?{paddingLeft:0}:void 0,children:(0,S.jsx)(E,{store:o,showDivider:!1,ignoreMaxLength:m,ancestorMaxWidth:t})}):(0,S.jsx)(j().Z,{shouldShrink:!0,onClick:d,isSmall:!0,style:{fontSize:"inherit"},children:(0,S.jsx)(E,{store:o,showDivider:!1,ancestorMaxWidth:t})})}function U(e){const{ancestorMaxWidth:t,store:n}=e,i=(0,r().O7)(),o={display:"flex",alignItems:"center",flexShrink:0},a=(0,s().VK)((()=>{const e=p().uJ(n);return e.reverse(),e}),[n]),l=(0,T().E)("mobile_use_bottom_sheet_popup_container");return(0,S.jsx)(b().ZP,{popupType:l?b().Z4.BottomSheet:b().Z4.SlideUp,bottomSheetInitialState:"half",renderOrigin:e=>(0,S.jsx)(g().Z,{style:{...o,maxWidth:"100%"},mobileFeedback:!0,...e,children:(0,S.jsx)(E,{store:n,showDivider:!1,ignoreMaxLength:!0,ancestorMaxWidth:t})}),render:e=>{const t={menuType:y().o.Modal,title:(0,S.jsx)(u()._H,{defaultMessage:"Breadcrumb",id:"breadcrumb.mobileBreadcrumbMenu.title"}),right:l?void 0:(0,S.jsx)(_().DoneMenuText,{}),onClickRight:e.close};return(0,S.jsx)(v().Z,{...t,children:(0,S.jsx)(x().Z,{type:x().i.Vertical,onAccept:e.close,initialFocus:void 0,sections:k(i,a)})})}},"pages-popup")}n(916054),n(228244);var z=n(973935),J=()=>n(933868),q=()=>n(765056),$=()=>n(525038),G=()=>n(654133),Q=()=>n(615634),X=()=>n(168441),Y=()=>n(998901),ee=()=>n(815277);function te(e){const{store:t}=e,n=(0,r().O7)(),a=(0,s().VK)((()=>t.getSpaceId()),[t]),l=(0,ee().VX)({name:"move_to",spaceId:a,userId:n.currentUser.id}),d=(0,s().VK)((()=>{if(!(0,h().bq)())return!1;if(!l)return!1;const{currentSpaceViewStore:e}=c().default.state,i=null==e?void 0:e.getPrivatePages(n);return null==i?void 0:i.some((e=>e.id===t.id))}),[n,t,l]),p=(0,s().VK)((()=>{const e=n.currentUser.id;return t.getPermissionItems().every((t=>(0,J().jg)(t)&&e===t.user_id))}),[n,t]),m=(0,o().Fg)(),f=(0,i.useRef)(null),g=(0,i.useCallback)((()=>{if(!f)return;const e=z.findDOMNode(f.current);if(!(e&&e instanceof Element))return;const i=e.getBoundingClientRect(),r=new DOMRect(i.x,i.y,i.width,i.height+5);q().Fo(n),$().bA({environment:n,blocks:[t],originRect:r,moveToContext:"topbar_breadcrumb"})}),[n,f,t]);return d&&p?(0,S.jsx)(G().Z,{placement:Y().Placement.Right,renderTooltip:e=>(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{children:(0,S.jsx)(u()._H,{defaultMessage:"Only you have access",id:"breadcrumb.moveTo.hasPermission.title"})}),(0,S.jsx)("div",{style:{color:m.mediumInvertedTextColor},children:(0,S.jsx)(u()._H,{defaultMessage:"Click to move",id:"breadcrumb.moveTo.hasPermission.subtitle"})})]}),render:e=>(0,S.jsxs)(j().Z,{isSmall:!0,disabled:!1,onClick:g,ref:f,...e,children:[(0,X().Q)({width:16,fill:m.lightIconColor}),(0,S.jsx)("span",{style:{color:m.lightTextColor,marginLeft:4,marginRight:5},children:(0,S.jsx)(u()._H,{defaultMessage:"Private",id:"breadcrumb.moveTo.privatePages"})}),(0,Q().i)({width:9,fill:m.lightIconColor})]})}):null}const ne=function(e){const{ancestorMaxWidth:t,maxAncestorCount:u,currentPageMaxWidth:d,isMobile:p,showCurrentPageControls:m,store:h,style:f}=e,g=(0,i.useRef)(null),b=(0,r().O7)(),v=(0,o().yK)((()=>({container:{display:"flex",alignItems:"center",lineHeight:1.2,fontSize:p?a().JB.UIRegular.mobile:a().JB.UIRegular.desktop,...f},enforceMaxLength:{maxWidth:"100%"}})),[p,f]),x=(0,s().VK)((()=>{var e;return!(null===(e=h.getTitleStore())||void 0===e||!e.isReady())}),[h]),_=(0,s().VK)((()=>{const{currentSpaceViewStore:e}=c().default.state;let t;return e&&e.isReady()&&(t=(0,l().Al)(e)),t}),[]),j=(0,s().VK)((()=>!(0,l().WE)(h)&&m&&h.isReady()),[m,h]),y=(0,s().VK)((()=>{var e;return null===(e=b.mobileNative)||void 0===e?void 0:e.supportsNativeHomeOnPhone()}),[b]);return(0,s().VK)((()=>{var e;if(Boolean(b.currentUser.isLoggedIn()||b.publicDomainUserId))return!1;const t=n(772084).gR(h),i=b.RouterStore.state.route;return!(!(0,n(572680).FK)(i)||(null==t?void 0:t.id)!==h.id)||(null==t||null===(e=t.getSiteStore())||void 0===e||null===(e=e.getHeader())||void 0===e?void 0:e.hideBreadcrumbs)}),[b,h])?null:x?y?(0,S.jsx)("div",{style:{...v.container,...v.enforceMaxLength},className:"notranslate",children:(0,S.jsx)(U,{store:h,ancestorMaxWidth:t})}):(0,S.jsxs)("div",{style:v.container,className:"notranslate shadow-cursor-breadcrumb",children:[(0,S.jsx)(D,{ancestorMaxWidth:t,maxAncestorCount:u,isMobile:p,homeStore:_,store:h}),j?(0,S.jsx)(H,{currentPageMaxWidth:d,isMobile:p,currentPageRef:g,ref:g,store:h}):(0,S.jsx)(A,{ancestorMaxWidth:t,isMobile:p,currentPageRef:g,store:h}),(0,S.jsx)(te,{store:h})]}):null}},815277:(e,t,n)=>{n.d(t,{CH:()=>m,DE:()=>l().DE,KQ:()=>l().KQ,Rv:()=>l().Rv,V5:()=>p().V5,VX:()=>h,eB:()=>l().eB,oo:()=>l().oo});var i=()=>n(255933),r=()=>n(779709),s=()=>n(205228),o=()=>n(845682),a=()=>n(30795),l=()=>n(546464),c=()=>n(404791),u=()=>n(897257),d=()=>n(18281),p=()=>n(259408);const m={guests:e=>{if(!u().subscriptionDataStoreInstance.state)return"loading";return{current:(0,d().s1)(e.environment,e.spaceId,u().subscriptionDataStoreInstance.state)}},team_self_promotion:e=>{},internal_guests:e=>{if(!u().subscriptionDataStoreInstance.state)return"loading";return{current:(0,d().s1)(e.environment,e.spaceId,u().subscriptionDataStoreInstance.state),hasLowGuestLimit:(0,n(548812).fc)()}},members:e=>{const t=u().subscriptionDataStoreInstance.state;return{current:t?(0,a().W)(e.environment,e.spaceId,t):0}},non_admin_members:e=>{},view_chart:e=>{},form_filesize:e=>{},form_customization:e=>{},premium_automations:e=>{},move_to:e=>{},claimable_spaces:e=>{},domain_settings:e=>{},managed_users:e=>{},invite_user_to_workspace_mentions:e=>{},saml:e=>{},scim:e=>{},export_members:e=>{},hipaa_compliance:e=>{},sites_multiple_public_domains:e=>{},custom_image_upload_favicon:e=>{},custom_public_sites_layout:e=>{},seo_title_and_description:e=>{},admin_transfer_private_content:e=>{},ai_slack_qna:e=>{},configurable_mention_invites:e=>{},configurable_retention:e=>{},unbranded_forms:e=>{},ai_google_drive_qna:e=>{},watermarkless_chart_export:e=>{},configurable_deletion_and_retention_settings:e=>{},sudo_mode:e=>{},ai_github_connector:e=>{},ai_jira_connector:e=>{},slack_imports_invite:e=>{},content_reprovisioning:e=>{},ai_space_usage:e=>{var t;let{environment:n,spaceId:l}=e;const d=new(o().H)(n,{table:i().bx,id:l}).getModel(),p=(0,r().oc)(s().default.promotions.ai,d),m=(null===(t=c().Z.state)||void 0===t?void 0:t.spaceUsage)??0,h=u().subscriptionDataStoreInstance.state;return{current:m,memberCount:h?(0,a().W)(n,l,h):0,aiPromotionConfig:p,space:d}},ai_user_usage:e=>{var t;let{environment:n,spaceId:l}=e;const d=new(o().H)(n,{table:i().bx,id:l}).getModel(),p=(0,r().oc)(s().default.promotions.ai,d),m=(null===(t=c().Z.state)||void 0===t?void 0:t.userUsage)??0,h=u().subscriptionDataStoreInstance.state;return{current:m,memberCount:h?(0,a().W)(n,l,h):0,aiPromotionConfig:p,space:d}},block_read_and_write_role:e=>{}};function h(e){return(0,l().Rv)(e)??!1}},259408:(e,t,n)=>{n.d(t,{$W:()=>p,KQ:()=>d,_e:()=>h,Ay:()=>b,fS:()=>u,t:()=>s(),V5:()=>f,Kz:()=>g});n(267602),n(653476);var i=()=>n(513670),r=()=>n(696459),s=()=>n(124199),o=()=>n(629719);const a=["student","personal","plus","business","enterprise"];function l(e){return(0,r().DE)(a,e)}var c=()=>n(122792);const u=["plus","business","enterprise","ai","sites_custom_hostnames"];function d(e,t,n,i){return h(p(e,t,n,i))}function p(e,t,n,i){const{name:s,scope:o,actor:a}=i,l={...i,billingData:o.billingData},c=o.premiumFeatureOverrides,u=s in c?function(e,t,n){const i={type:"contact_account_manager"},s=e[t.name].type;if("check"===s){const e={type:"none"};return!0===n?{type:"available",limit:e}:{type:"upsell",upsell:i,limit:e}}if("per_use"===s){const e=t.amount,r={type:"per_use",amount:n};return"unlimited"===n||n>e?{type:"available",limit:r}:{type:"upsell",upsell:i,limit:r}}if("cumulative"===s){const e=t.amount,r=t.data.current,s={type:"cumulative",current:r,total:n};return"unlimited"===n||n>=r+e?{type:"available",limit:s}:{type:"upsell",upsell:i,limit:s}}(0,r().t1)(s)}(t,i,c[s]):n[s](l);let d;if("available"===u.type){const e=u.upsell?m(o.billingData,u.upsell,i.supportedProducts):void 0;d={...u,upsell:e}}else if("blocked"===u.type){const e=m(o.billingData,u.upsell,i.supportedProducts);d={...u,upsell:e}}else{const e=m(o.billingData,u.upsell,i.supportedProducts),t=function(e){const{actor:t,supportedProducts:n,upsell:i}=e;if(!t.isSpaceAdmin)return"blocked";const s=i.type;switch(s){case"product":return n.includes(i.product)?"upsell":"blocked";case"contact_sales":case"contact_account_manager":return"upsell";default:(0,r().t1)(s)}}({actor:a,supportedProducts:i.supportedProducts,upsell:e});d={...u,type:t,upsell:e}}return Math.random()<.001&&e({level:"info",from:"premiumFeatureFramework",type:"getPremiumFeatureAvailability",data:{featureName:s,featureScope:o,featureActor:a,featureAvailability:u}}),d}function m(e,t,n){if((0,o().Rd)(e.subscription))return{type:"contact_account_manager"};if("product"!==(null==t?void 0:t.type)||n.includes(t.product)||!l(t.product))return t;const r=t.product,s=n.filter((e=>l(e))).filter((e=>"student"!==e)).filter((e=>c().rC[e]>=c().rC[r])),a=(0,i().F)(s,(e=>c().rC[e]));return a?{...t,product:a}:t}function h(e){return"available"===(null==e?void 0:e.type)}function f(e,t){const{available:n}=t;let i,s;return"unavailable"in t?(i=t.unavailable,s=t.unavailable):(i=t.blocked,s=t.upsell),"available"===e.type?n():"upsell"===e.type?s(e):"blocked"===e.type?i(e):(0,r().t1)(e)}function g(e,t){if(void 0!==e)return f(e,{available:()=>{},blocked:t,upsell:()=>{}})}function b(e){return s().object({required:e,optional:{}})}}}]);