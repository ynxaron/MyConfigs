"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[87983],{504117:(e,t,o)=>{o.d(t,{Um:()=>a,ZP:()=>l,kN:()=>i});o(667294);var n=()=>o(666414),r=o(785893);function i(e){return e?18:60}function a(){return(0,r.jsx)(n().Z,{size:37})}const l=function(e){let{children:t,controlRow:n,bannerText:a,controlRowPaddingTopBottom:l,removeBoxShadow:s,contentPaddingLeftRight:c,controlRowPaddingLeftRight:d,getPaddingTopBottom:u,disableScroller:p,maxWidth:m}=e;const f=(0,o(219727).O7)(),{device:y}=f,h=u?u():y.isMobile?18:36,v=(0,o(846550).yK)((e=>({containerWithScroller:{display:"flex",flexDirection:"column",width:"100%",height:"100%",maxWidth:m??void 0,backgroundColor:e.cardContentBackground},scroller:{flexGrow:1,WebkitOverflowScrolling:"touch",transform:"translateZ(0)",paddingLeft:c??i(y.isMobile),paddingRight:c??i(y.isMobile),paddingTop:a?15:h,paddingBottom:a?22:h},controlRowWithScroller:{flexGrow:0,flexShrink:0,paddingLeft:d??i(y.isMobile),paddingRight:d??i(y.isMobile),paddingTop:l,paddingBottom:l,boxShadow:s?void 0:`0 -1px 0 ${e.regularDividerColor}`},containerWithoutScroller:{paddingLeft:i(y.isMobile),paddingRight:i(y.isMobile)},childrenWithoutScroller:{paddingTop:h,paddingBottom:h},controlRowWithoutScroller:{paddingTop:l,paddingBottom:l,boxShadow:`0 -1px 0 ${e.regularDividerColor}`}})),[m,c,y.isMobile,a,h,d,l,s]);return p?(0,r.jsxs)("div",{style:v.containerWithoutScroller,children:[(0,r.jsx)("div",{style:v.childrenWithoutScroller,children:t}),n&&(0,r.jsx)("div",{style:v.controlRowWithoutScroller,children:n})]}):(0,r.jsxs)("div",{style:v.containerWithScroller,children:[a&&(0,r.jsx)(o(610146).Z,{styleKey:o(500174).v.Blue,isMobile:!1,children:a}),(0,r.jsx)(o(842574).Z,{type:o(520849).Z.All,style:v.scroller,children:t}),n&&(0,r.jsx)("div",{style:v.controlRowWithScroller,children:n})]})}},868614:(e,t,o)=>{o.d(t,{Z:()=>r});o(667294);var n=o(785893);const r=function(e){const t=(0,o(846550).Fg)(),{divider:r,large:i,block:a,children:l,hasMarginTop:s,small:c,style:d,smallMarginBottom:u,isCritical:p}=e,m="full"===r;return(0,n.jsx)("div",{style:{borderBottom:m?`1px solid ${t.regularDividerColor}`:0,marginBottom:m?16:u?2:8,marginTop:s?16:0,paddingBottom:m?12:0,fontSize:m?16:i?14:c?12:14,fontWeight:m?o(707513).Ue.medium:400,width:a?"100%":"auto",color:p?o(568017).ZP.red:t.regularTextColor,...d},children:l})}},945634:(e,t,o)=>{o.d(t,{Z:()=>u});o(667294);var n=()=>o(219727),r=()=>o(142735),i=()=>o(846550),a=()=>o(459805),l=()=>o(965913),s=()=>o(589525),c=o(785893);function d(){const e=(0,i().yK)((e=>({icon:{position:"absolute",width:"50%",height:"50%",right:0,bottom:0,fill:"dark"===e.mode?e.regularTextColor:"#3E3C38",stroke:"dark"===e.mode?e.surface.wash:"white",strokeWidth:"dark"===e.mode?"1.85px":"1.5px"}})),[]);return(0,c.jsx)("div",{children:(0,l().Y)(e.icon)})}function u(e){var t;const o=(0,n().O7)(),l=o.device.isMobile,u=(0,r().VK)((()=>{var t,n;if(l)return o.WindowSizeStore.getSafePaddingLeftCSS("number"==typeof(null===(t=e.style)||void 0===t?void 0:t.paddingLeft)?null===(n=e.style)||void 0===n?void 0:n.paddingLeft:10)}),[o.WindowSizeStore,l,null===(t=e.style)||void 0===t?void 0:t.paddingLeft]),p=(0,i().yK)((t=>({wrapper:{...l?{display:"flex",alignItems:"center",width:"100%",minHeight:26,fontSize:16,paddingTop:8,paddingBottom:8,paddingLeft:u,paddingRight:10,userSelect:"none",boxShadow:void 0,marginBottom:e.shouldShowMobileMarginBottom?12:1}:{display:"flex",alignItems:"center",width:"100%",fontSize:14,minHeight:e.isBottomItem?24:27,height:s().H3,paddingTop:4,paddingBottom:4,...(0,a().MF)()},...e.style},icon:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,width:l?28:22,height:l?24:18,marginRight:8,position:"relative"},right:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,height:"100%",...e.rightStyle},left:{flexShrink:0,flexGrow:0,borderRadius:4,color:t.mediumTextColor,width:l?24:s().MY,height:l?24:s().MY,display:"flex",alignItems:"center",justifyContent:"center",marginRight:e.icon?0:8},children:{flexGrow:1,flexShrink:1,flexBasis:"auto",whiteSpace:"nowrap",minWidth:0,overflow:"hidden",textOverflow:e.right&&!l?"clip":"ellipsis",...e.childrenStyle}})),[l,u,e.shouldShowMobileMarginBottom,e.isBottomItem,e.style,e.rightStyle,e.icon,e.right,e.childrenStyle]);return(0,c.jsxs)("div",{role:e.role,dir:"ltr","aria-current":e["aria-current"],"aria-expanded":e["aria-expanded"],"aria-owns":e["aria-owns"],"aria-labelledby":e["aria-labelledby"],style:p.wrapper,onFocus:e.onFocus,onBlur:e.onBlur,onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,onClick:e.onClick,className:e.className,children:[e.left&&(0,c.jsx)("div",{style:p.left,children:e.left}),e.icon&&(0,c.jsxs)("div",{style:p.icon,children:[e.icon,e.isAlias&&(0,c.jsx)(d,{})]}),(0,c.jsx)("div",{style:p.children,children:e.children}),e.right&&(0,c.jsx)("div",{style:p.right,children:e.right})]})}},512221:(e,t,o)=>{o.d(t,{AW:()=>M,SK:()=>C,mz:()=>I,xB:()=>w});o(267602),o(470928),o(241792),o(667294);var n=()=>o(142735),r=()=>o(846550),i=()=>o(788860),a=()=>o(352230),l=()=>o(641506),s=()=>o(15409),c=()=>o(615634),d=()=>o(128119),u=()=>o(827973),p=()=>o(448419),m=()=>o(715139),f=()=>o(312578),y=()=>o(198829),h=()=>o(255577),v=()=>o(661641),g=()=>o(92175),_=()=>o(906651),x=()=>o(388284),b=()=>o(750824),S=o(785893);function w(e){const{icon:t,title:o,byline:n}=e,i=(0,r().yK)((()=>({container:{margin:"0 auto",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",gap:8},title:{textAlign:"center"},byline:{textAlign:"center"}})),[]);return(0,S.jsxs)("div",{style:i.container,children:[t,(0,S.jsx)(v().q,{styleName:"Heading-17px/Semibold",customStyles:i.title,children:o}),(0,S.jsx)(v().q,{styleName:"UIRegular-14px/Regular",colorName:"secondary",customStyles:i.byline,children:n})]})}function I(e){const{primaryText:t,primaryAction:o,primaryDisabled:n,secondaryText:i,secondaryAction:a,isLightRed:l,isDarkRed:s,isLoading:c}=e,d=(0,r().yK)((e=>({container:{margin:"0 auto",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-end",gap:8,padding:"0 20px",marginLeft:-20,width:"calc(100% + 40px)"},fullWidth:{width:"100%",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center"}})),[]);return(0,S.jsxs)("div",{style:d.container,children:[l?(0,S.jsx)(b().m,{isLarge:!0,onClick:o,isRed:l,disabled:n,style:d.fullWidth,children:c?(0,S.jsx)(f().Z,{}):t}):(0,S.jsx)(_().Z,{isLarge:!0,onClick:o,disabled:n,style:d.fullWidth,isRed:s,children:c?(0,S.jsx)(f().Z,{}):t}),l||s?(0,S.jsx)(b().m,{isLarge:!0,onClick:a,style:d.fullWidth,children:i}):(0,S.jsx)(g().Z,{isLarge:!0,onClick:a,style:d.fullWidth,children:i})]})}function C(e){const{selectedId:t,options:o,onChange:n}=e,l=(0,r().yK)((e=>({container:{display:"flex",flexDirection:"column",gap:8},chevron:{width:12,marginLeft:3,marginRight:3,fill:e.lightIconColor},selectedButton:{width:"100%",margin:0,paddingTop:4,paddingBottom:4,border:`1px solid ${e.outlineButtonBorder}`},selectedCheckmark:{width:14},icon:{alignSelf:"center",marginTop:0,fill:e.icon.primary,height:18,width:18}})),[]);return(0,S.jsxs)("div",{style:l.container,children:[(0,S.jsx)(v().q,{styleName:"UISmall-12px/Medium",colorName:"secondary",children:(0,S.jsx)(i()._H,{id:"orgConsole.modal.dropdown.title",defaultMessage:"Select role"})}),(0,S.jsx)(p().ZP,{popupType:p().Z4.Popup,renderOrigin:e=>{const n=o.find((e=>e.id===t));return n?(0,S.jsx)(u().Z,{...e,title:n.title,caption:n.caption,icon:n.icon({fill:l.icon.fill}),desktopIconStyle:l.icon,disabled:!1,right:(0,c().i)(l.chevron),focused:!1,shouldWrapCaption:!0,buttonStyle:l.selectedButton}):null},placementToOrigin:d().Iw.Bottom,alignmentToOrigin:d().lU.Start,sameWidthAsOrigin:!0,render:e=>{const r=[{key:"options",render:e=>(0,S.jsx)(x().Z,{...e,topBorder:0!==e.index}),items:o.map((o=>{const r=o.id===t;return{key:o.id,render:e=>(0,S.jsx)(u().Z,{...e,title:o.title,caption:o.caption,icon:o.icon({fill:l.icon.fill}),desktopIconStyle:l.icon,right:r?(0,S.jsx)("div",{style:l.selectedCheckmark,children:(0,s().e)()}):void 0,shouldWrapCaption:!0,focused:!1}),action:()=>{n(o.id),e.close()}}}))}];return(0,S.jsx)(y().Z,{menuType:a().o.Popup,children:(0,S.jsx)(h().Z,{type:h().i.Vertical,initialFocus:void 0,sections:r})})}})]})}function M(e){const{items:t,selectedIds:o,disabledIds:i,onSelectHeader:a,onSelect:s,titleText:c,headerText:d,headerAction:u}=e,p=(0,r().yK)((e=>({container:{display:"flex",flexDirection:"column",gap:8,marginBottom:4},selectorContainer:{border:`1px solid ${e.stroke.secondary}`,boxShadow:"0px 2px 4px 0px #0000000a",borderRadius:8},checkbox:{display:"flex",justifyContent:"center",alignItems:"flex-start",flexDirection:"column"},headerText:{display:"flex",justifyContent:"center",alignItems:"flex-start",flexDirection:"column"},right:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end",flexDirection:"row"},workspace:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",gap:8},byline:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},iconContainer:{display:"flex",alignItems:"center",justifyContent:"center",height:28,width:28},selectorHeader:{padding:"4px 12px",borderBottom:`1px solid ${e.stroke.secondary}`,display:"grid",gridTemplateColumns:"24px 1fr 1fr"},selectorHeaderWithAction:{padding:"4px 4px 4px 12px",borderBottom:`1px solid ${e.stroke.secondary}`,display:"grid",gridTemplateColumns:"24px 1fr 1fr"},selectorBody:{paddingInline:12,display:"flex",flexDirection:"column",alignItems:"center",justifyItems:"center",width:"100%",maxHeight:204,overflowX:"hidden",overflowY:"auto"},selectorBodyRow:{display:"grid",gridTemplateColumns:"24px minmax(auto, 60%) 1fr",width:"100%",paddingBlock:8,borderTop:`1px solid ${e.stroke.secondary}`}})),[]),f=t.length-i.length,y=(0,n().VK)((()=>{let e=0;for(const n of t)o.includes(n.id)&&(e+=1);return 0!==e&&(e===f?0!==f:"partial")}),[t,o,f]);return(0,S.jsxs)("div",{style:p.container,children:[(0,S.jsx)(v().q,{styleName:"UISmall-12px/Medium",colorName:"secondary",children:c}),(0,S.jsxs)("div",{style:p.selectorContainer,children:[(0,S.jsxs)("div",{style:u?p.selectorHeaderWithAction:p.selectorHeader,children:[(0,S.jsx)("div",{style:p.checkbox,children:(0,S.jsx)(m().Z,{checked:y,size:14,checkSize:10,onClick:a})}),(0,S.jsx)(v().q,{styleName:"UISmall-12px/Medium",colorName:"secondary",customStyles:p.headerText,children:d}),(0,S.jsx)("div",{style:p.right,children:u})]}),(0,S.jsx)("div",{style:p.selectorBody,children:t.map(((e,t)=>{let{id:n,icon:r,name:a,byline:c}=e;return(0,S.jsxs)("div",{style:{...p.selectorBodyRow,borderTopWidth:0===t?0:1},children:[(0,S.jsx)("div",{style:p.checkbox,children:(0,S.jsx)(m().Z,{checked:o.includes(n)||i.includes(n),size:14,checkSize:10,onClick:()=>s(n),disabled:i.includes(n),style:{opacity:i.includes(n)?.3:1}})}),(0,S.jsxs)("div",{style:p.workspace,children:[(0,S.jsx)("div",{style:p.iconContainer,children:r}),(0,S.jsx)(v().q,{styleName:"UIRegular-14px/Medium",customStyles:{...(0,l().pd)(1),textOverflow:"ellipsis"},children:a})]}),(0,S.jsx)("div",{style:p.byline,children:c})]},n)}))})]})]})}},750824:(e,t,o)=>{o.d(t,{m:()=>s,s:()=>l});o(667294);var n=()=>o(846550),r=()=>o(568017),i=()=>o(661297),a=o(785893);const l={height:28,paddingLeft:8,paddingRight:8,paddingTop:4,paddingBottom:4,fontWeight:o(707513).Ue.medium};function s(e){const t=(0,n().yK)((t=>({buttonStyle:{...l,...e.isRed&&{color:"#D44C47",background:t.outlinefrontSecondaryButtonHoveredBackground,border:void 0},...e.isBlue&&{background:t.outlineBlueButtonHoveredBackground,border:void 0},...e.isLarge&&{height:32},...e.style},hoverStyle:{background:e.isRed?r().O9.redWithAlpha(.15):e.isBlue?r().O9.blueWithAlpha(.1):void 0}})),[e.isRed,e.isBlue,e.isLarge,e.style]);return(0,a.jsx)(i().Z,{...e,style:t.buttonStyle,hoveredStyle:t.hoverStyle})}},442531:(e,t,o)=>{o.d(t,{HZ:()=>r,YD:()=>a,_7:()=>i,io:()=>n});const n=new(o(677559).Ss)("framer-motion",(async()=>await Promise.all([o.e(37358),o.e(7312),o.e(70355),o.e(99464)]).then(o.bind(o,524138))));function r(e){return e.useAnimate()}function i(e){return e.useAnimation()}function a(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];return e.useInView(...o)}},669086:(e,t,o)=>{o.d(t,{y:()=>a});var n=()=>o(142735),r=()=>o(255393),i=()=>o(897257);function a(){return(0,n().VK)((()=>{var e;const t=(null===(e=i().subscriptionDataStoreInstance.state)||void 0===e?void 0:e.addOns)??[];return(0,r().de)(t)}),[])}},519563:(e,t,o)=>{o.d(t,{S:()=>i});var n=()=>o(142735),r=()=>o(876822);function i(){return(0,n().VK)((()=>{const{currentSpaceStore:e}=r().default.state;return(null==e?void 0:e.getMemberCountFromPublicSpaceData())||null}),[])}},403587:(e,t,o)=>{o.d(t,{R:()=>c});o(267602),o(916054),o(653476),o(241792);var n=()=>o(142735),r=()=>o(989478),i=()=>o(657120),a=()=>o(826955),l=()=>o(18281),s=()=>o(897257);function c(e){let{spaceStore:t}=e;return(0,n().VK)((()=>{const e=s().subscriptionDataStoreInstance.state;if(!e)return{loading:!0};const o=l().CM(e);if(!o.every((e=>a().U6.createChildStore(t,{table:r().KJ,id:e.userId}).isReady())))return{loading:!0};const n=o.filter(i().nB),c=o.filter(i().FN);return{loading:!1,members:n.map((e=>{let{userId:o}=e;return a().U6.createChildStore(t,{table:r().KJ,id:o})})),guests:c.map((e=>{let{userId:o}=e;return a().U6.createChildStore(t,{table:r().KJ,id:o})}))}}),[t])}},228772:(e,t,o)=>{o.d(t,{r:()=>i});var n=()=>o(142735),r=()=>o(876822);function i(){return(0,n().VK)((()=>r().default.state.currentSpaceStore),[])}},226994:(e,t,o)=>{o.d(t,{Z:()=>s,s:()=>c});var n=()=>o(142735),r=()=>o(989478),i=()=>o(788860),a=()=>o(876822),l=()=>o(826955);function s(e){const t=(0,i().YB)();return(0,n().VK)((()=>{const{currentSpaceStore:o}=a().default.state;if(!o||!e)return;return l().U6.createChildStore(o,{table:r().KJ,id:e}).getDisplayName(t)}),[t,e])}function c(){const e=(0,i().YB)();return(0,n().VK)((()=>{const{currentUserStore:t}=a().default.state,o=null!=t&&t.isDefined()?t.getModel():void 0;return o?o.getDisplayName(e):void 0}),[e])}},404553:(e,t,o)=>{o.d(t,{M:()=>n().M});var n=()=>o(682890)},985481:(e,t,o)=>{o.d(t,{k:()=>r});o(667294);var n=o(785893);const r=(0,o(827282).IU)("arrowRightSmaller",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M15.383 8.352a.877.877 0 01-.274.64l-5.156 5.14a.864.864 0 01-.617.266.831.831 0 01-.602-.234.795.795 0 01-.234-.586c0-.12.02-.232.063-.336a.912.912 0 01.187-.273l1.75-1.766 2.914-2.656.274.5-2.711.156H1.484c-.26 0-.471-.078-.632-.234a.851.851 0 01-.235-.617c0-.256.078-.461.235-.618a.856.856 0 01.632-.242h9.493l2.71.164-.273.508L10.5 5.5 8.75 3.727a.946.946 0 01-.188-.266.917.917 0 01-.062-.344c0-.234.078-.43.234-.586a.831.831 0 01.602-.234.79.79 0 01.328.07c.104.047.203.117.297.211l5.148 5.133a.877.877 0 01.274.64z"})})},632518:(e,t,o)=>{o.d(t,{I:()=>r});o(667294);var n=o(785893);const r=(0,o(827282).IU)("openTeamSearch",{viewBox:"0 0 16 14",svg:(0,n.jsx)("path",{d:"M9.506 13.342h4.447c.348 0 .621-.11.82-.328.2-.22.3-.516.3-.891V4.852c0-.375-.1-.67-.3-.885-.199-.219-.472-.328-.82-.328H9.922v1.136h3.709c.101 0 .178.026.228.077.051.05.076.127.076.228v6.815c0 .101-.025.177-.076.228-.05.05-.127.076-.228.076H9.506v1.143zm2.28-6.358h.925c.129 0 .193-.064.193-.193v-.896c0-.133-.064-.2-.193-.2h-.926c-.125 0-.187.067-.187.2v.896c0 .129.062.193.187.193zm0 2.168h.925c.129 0 .193-.066.193-.199v-.896c0-.133-.064-.2-.193-.2h-.926c-.125 0-.187.067-.187.2v.896c0 .133.062.2.187.2zm0 2.163h.925c.129 0 .193-.067.193-.2v-.896c0-.13-.064-.194-.193-.194h-.926c-.125 0-.187.065-.187.194v.896c0 .133.062.2.187.2zm-10.864.808c0 .375.1.672.299.89.199.22.474.329.826.329H9.44c.348 0 .621-.11.82-.328.204-.22.305-.516.305-.891V1.928c0-.38-.101-.676-.304-.89-.2-.22-.473-.329-.82-.329H2.046c-.352 0-.627.11-.826.328-.2.215-.3.512-.3.89v10.196zm1.142-.228V2.162c0-.105.026-.183.077-.234.05-.051.127-.076.228-.076h6.75c.102 0 .178.025.229.076.05.05.076.129.076.234v9.733c0 .101-.026.177-.076.228-.051.05-.127.076-.229.076H2.37c-.101 0-.178-.025-.228-.076-.051-.05-.077-.127-.077-.228zm1.588.85h.891v-1.946c0-.117.06-.176.182-.176h2.039c.12 0 .181.059.181.176v1.945h.89V10.5c0-.25-.058-.435-.175-.557-.117-.125-.295-.187-.533-.187H4.36c-.238 0-.416.062-.533.187-.117.122-.176.307-.176.557v2.244zm.17-8.362h1.12c.156 0 .234-.078.234-.235v-1.09c0-.156-.078-.234-.235-.234H3.822c-.148 0-.222.078-.222.235v1.09c0 .156.074.234.222.234zm2.719 0h1.12c.152 0 .228-.078.228-.235v-1.09c0-.156-.077-.234-.229-.234H6.541c-.152 0-.229.078-.229.235v1.09c0 .156.077.234.229.234zM3.822 6.627h1.12c.156 0 .234-.078.234-.234V5.309c0-.157-.078-.235-.235-.235H3.822c-.148 0-.222.078-.222.235v1.084c0 .156.074.234.222.234zm2.719 0h1.12c.152 0 .228-.078.228-.234V5.309c0-.157-.077-.235-.229-.235H6.541c-.152 0-.229.078-.229.235v1.084c0 .156.077.234.229.234zm-2.719 2.25h1.12c.156 0 .234-.08.234-.24V7.553c0-.157-.078-.235-.235-.235H3.822c-.148 0-.222.078-.222.235v1.084c0 .16.074.24.222.24zm2.719 0h1.12c.152 0 .228-.08.228-.24V7.553c0-.157-.077-.235-.229-.235H6.541c-.152 0-.229.078-.229.235v1.084c0 .16.077.24.229.24z"})})},657280:(e,t,o)=>{o.d(t,{o:()=>r});o(667294);var n=o(785893);const r=(0,o(827282).IU)("settingsIdentityProvisioning",{viewBox:"0 0 20 20",svg:(0,n.jsx)("path",{d:"M9.952 17.194a.8.8 0 0 1-.219-.04 1.5 1.5 0 0 1-.26-.103 48 48 0 0 1-2.488-1.45q-1.011-.635-1.633-1.237a3.8 3.8 0 0 1-.896-1.299q-.273-.704-.273-1.64V6.257q0-.609.239-.889.246-.287.752-.499.225-.096.636-.253.41-.157.909-.335.498-.185.991-.362.492-.178.895-.315.411-.143.636-.205.171-.04.356-.075.184-.04.355-.04.179 0 .363.033.19.034.355.082a98 98 0 0 1 1.531.54 63 63 0 0 1 1.9.684q.411.15.636.246.513.218.752.5.24.279.24.888v5.168q0 .936-.274 1.64-.273.697-.895 1.306-.615.602-1.634 1.237-1.012.636-2.489 1.443-.136.068-.266.102a.7.7 0 0 1-.219.041m0-1.442a.5.5 0 0 0 .164-.034q.09-.034.233-.123 1.155-.697 1.941-1.197.793-.505 1.265-.957.479-.45.683-.977.205-.533.205-1.292V6.476a.6.6 0 0 0-.047-.267q-.048-.096-.185-.144a64 64 0 0 1-.718-.253l-.84-.3-.869-.315-.813-.294a33 33 0 0 1-.656-.253 2 2 0 0 0-.206-.061.65.65 0 0 0-.314 0 2 2 0 0 0-.198.061q-.274.11-.657.246-.382.137-.82.288a75 75 0 0 0-1.716.615q-.396.143-.697.266-.144.056-.191.144a.6.6 0 0 0-.048.267v4.696q0 .751.205 1.278t.67.978q.471.444 1.258.95.792.506 1.962 1.217.143.089.232.123t.157.034m-.724-2.632a.7.7 0 0 1-.342-.082 1.2 1.2 0 0 1-.294-.26L6.979 10.81a.74.74 0 0 1-.178-.458.6.6 0 0 1 .17-.431.57.57 0 0 1 .425-.185q.157 0 .28.069.129.06.253.225L9.2 11.644l2.7-4.328q.213-.348.534-.348.24 0 .43.157a.5.5 0 0 1 .192.41.6.6 0 0 1-.055.24q-.047.116-.116.218l-3.056 4.778q-.219.35-.601.35Z"})})},672788:(e,t,o)=>{o.d(t,{_:()=>r});o(667294);var n=o(785893);const r=(0,o(827282).IU)("settingsUpgrade",{viewBox:"0 0 20 20",svg:(0,n.jsx)("path",{d:"M9.969 17.938c4.36 0 7.969-3.618 7.969-7.97C17.938 5.61 14.32 2 9.96 2 5.609 2 2 5.61 2 9.969c0 4.351 3.617 7.969 7.969 7.969zm0-1.329a6.609 6.609 0 01-6.633-6.64 6.602 6.602 0 016.625-6.64 6.627 6.627 0 016.648 6.64 6.61 6.61 0 01-6.64 6.64zm0-2.734a.562.562 0 00.586-.586V9.383l-.063-1.656.797.945.922.937a.52.52 0 00.414.172c.32 0 .57-.242.57-.562a.566.566 0 00-.164-.406L10.43 6.219c-.149-.149-.29-.227-.461-.227-.164 0-.297.07-.453.227l-2.61 2.593a.555.555 0 00-.148.407c0 .32.242.562.562.562a.572.572 0 00.414-.172l.93-.937.781-.938-.062 1.649v3.906c0 .344.25.586.586.586z"})})},383700:(e,t,o)=>{o.d(t,{X:()=>r});o(667294);var n=o(785893);const r=(0,o(827282).IU)("verificationCheck",{viewBox:"0 0 6 7",svg:(0,n.jsx)("path",{d:"M2.84245 6.11619C2.71116 6.30644 2.53392 6.40156 2.31072 6.40156C2.20131 6.40156 2.10066 6.37881 2.00875 6.33332C1.92123 6.28782 1.83589 6.21545 1.75274 6.11619L0.150985 4.25515C0.0503282 4.12694 0 3.99874 0 3.87053C0 3.73406 0.04814 3.61826 0.14442 3.52314C0.245077 3.42388 0.365427 3.37425 0.50547 3.37425C0.597374 3.37425 0.680525 3.39286 0.754923 3.43008C0.833698 3.46317 0.912473 3.52934 0.991247 3.6286L2.28446 5.21049L5.00875 1.07896C5.13129 0.892857 5.28446 0.799805 5.46827 0.799805C5.60394 0.799805 5.72648 0.841161 5.83589 0.923874C5.9453 1.00659 6 1.11618 6 1.25266C6 1.32297 5.98249 1.39327 5.94748 1.46358C5.91685 1.52975 5.88184 1.59178 5.84245 1.64968L2.84245 6.11619Z"})})},913011:(e,t,o)=>{o.d(t,{H:()=>p});o(821057);var n=()=>o(792197),r=()=>o(308240),i=()=>o(215134),a=()=>o(6623),l=()=>o(639708),s=()=>o(269299),c=()=>o(590434),d=()=>o(655260),u=()=>o(772669);function p(e){let{environment:t,transaction:o,layoutStore:p,position:m,sessionId:f,beforePerformDeleteModule:y}=e;const h=p.getModules();if(!h)throw new Error("[deleteModuleAtPosition] modules by area not found for layout store");const v=(0,i().h7)(h,(e=>e.id===m.moduleId));if(!v)throw new Error("[deleteModuleAtPosition] module to delete not found");const{module:g,position:_}=v;if(!(0,a().Fo)(g))throw new Error("[deleteModuleAtPosition] module to delete is not removeable");var x;(s().createAndCommitOrAppend({environment:t,transaction:o,canUndo:!0,perform(e){!function(e){const{transaction:t,layoutStore:o,moduleLocation:i,moduleToDelete:a,beforePerformDeleteModule:d}=e;d&&d(t);if((0,l().Fc)(a)){const e=(0,c().m)(o,a);e&&(0,u().deleteViewsModuleDependencies)({layoutStore:o,module:e,transaction:t})}if("form_conditional_modules"===i.area){const e=n().CI.removeChildModule({pointer:o.pointer,modulesByArea:o.getModules(),module:a});for(const n of e)s().applyOperation({transaction:t,store:o,operation:n})}else{const e="views_main_tab_modules"===i.area?{area:i.area,viewId:i.viewId}:{area:r().mt[i.area]};s().applyOperation({transaction:t,store:o,operation:n().CI.deleteModuleInArea({...e,pointer:o.pointer,moduleId:a.id})})}}({environment:t,transaction:e,layoutStore:p,moduleLocation:_,moduleToDelete:g,beforePerformDeleteModule:y})},userAction:"pageLayout.deleteActions.deleteModuleAtPosition"}),f)&&d().DZ({environment:t,module:g,sessionId:f,collectionId:null===(x=p.getCollectionModel())||void 0===x?void 0:x.id,layoutId:p.id,context:(0,r().AR)(m.area),area:m.area})}},142730:(e,t,o)=>{o.d(t,{IR:()=>j,L0:()=>A,MF:()=>T,gm:()=>B,iQ:()=>R,m2:()=>C});o(821057),o(492176),o(7961),o(267602),o(653476);var n=()=>o(956057),r=()=>o(530980),i=()=>o(308240),a=()=>o(215134),l=()=>o(667932),s=()=>o(137785),c=()=>o(639708),d=()=>o(483791),u=()=>o(593515),p=()=>o(82937),m=()=>o(497065),f=()=>o(269299),y=()=>o(887430),h=()=>o(487270),v=()=>o(793935),g=()=>o(876822),_=()=>o(482162),x=()=>o(826955),b=()=>o(26796),S=()=>o(913011),w=()=>o(655260),I=()=>o(356117);function C(e){let{environment:t,transaction:o,collectionStore:n,userId:i,modules:a}=e;const s=(0,h().Ii)({environment:t,spaceId:n.getSpaceId(),table:d().Bh}),c=x().t1.createChildStore(n,s),{model:u,operations:[p]}=r().rp4.create({pointer:s,parent:n.pointer,createdByUserId:i,modules:a??(0,l()._P)()});f().applyOperation({transaction:o,store:c,operation:p});const m=r().kj1.setLayout(n.pointer,s);return f().applyOperation({transaction:o,store:n,operation:m}),{model:u,store:c}}function M(e){let t;return e?t=e:_().default.state.open&&_().default.state.targetStore?t=_().default.state.targetStore:g().default.state.mainEditorCurrentBlockStore&&(t=g().default.state.mainEditorCurrentBlockStore),t}function k(e){v().setUpdateExpand({environment:e,isExpanded:!1,from:"keyboard_default",saveDetailsSidebarPreference:!1}),p().xv({environment:e,from:"open_page_layout_editor",preventAnimation:!0})}function j(e){var t,o;let{environment:r,blockStore:i,collectionStore:a,collectionViewStore:l,from:s}=e;const c=function(e){var t;let o=M(e);if(null!==(t=o)&&void 0!==t&&t.isCollectionView()){const e=(0,y().fm)(o);o=e?e.resultsInViewOrder(1).at(0):void 0}return o}(i),d=window.location.href;k(r);const u=n().Il();b().Z.setState({isOpen:!0,mode:"layout-editor",collectionStore:a,pageStore:c,siteRootBlockStore:void 0,sessionId:u,initialSelectedModuleId:null==c||null===(t=c.getAssociatedCollectionStore())||void 0===t||null===(t=t.getLayoutStore())||void 0===t||null===(t=t.getModel())||void 0===t||null===(t=t.firstRawModuleOfType("titleWithIcon"))||void 0===t?void 0:t.id,urlOnOpen:d}),(0,w().Rt)({environment:r,from:s,context:"layout",sessionId:u,collectionId:null==a?void 0:a.id,existingLayoutId:null==a||null===(o=a.getLayoutStore())||void 0===o?void 0:o.id,collectionViewId:null==l?void 0:l.id})}function T(e){let{environment:t,store:o,siteRootBlockStore:r,from:i}=e;const a=M(o);k(t);const l=n().Il();b().Z.setState({isOpen:!0,mode:"site-settings-editor",collectionStore:void 0,pageStore:a,siteRootBlockStore:r,sessionId:l}),(0,w().Rt)({environment:t,context:"site",from:i,sessionId:l,collectionId:void 0,existingLayoutId:void 0})}function A(e){b().Z.getState().isOpen&&B(e)}function B(e){let{environment:t}=e;const o=b().Z.getState();if(!o.isOpen)throw new Error("Cannot close page layout editor. Page layout editor is not open.");"layout-editor"===o.mode&&o.urlOnOpen&&window.location.href!==o.urlOnOpen&&m().op(t),b().Z.setState({isOpen:!1})}function R(e){var t;let{environment:o,transaction:n,property:r,layoutStore:l}=e;const d=b().Z.getSessionId(),p=null===(t=l.getModel())||void 0===t?void 0:t.getRawModules(),m=l.getCollectionModel();if(!p||!m)return;const f=x().NW.createChildStore(l,m.pointer),y=(0,a()._i)(p,(e=>"titleWithIcon"===e.type));if(y&&(0,c().p9)(y.module)){var h;const{module:e,position:t}=y,a={...e,type:"titleWithIcon",propertyIds:null===(h=e.propertyIds)||void 0===h?void 0:h.filter((e=>e!==r))};(0,I().Uq)({environment:o,sessionId:d,transaction:n,layoutStore:l,position:{area:(0,i().Gc)(t.area),moduleId:e.id},updatedModule:(0,s().V)(a)})}const v=(0,a().MI)(p,(e=>"property"===e.type&&e.propertyId===r));for(const{module:a,position:s}of v){const e=a.id,t=(0,i().Gc)(s.area);(0,S().H)({environment:o,sessionId:d,transaction:n,layoutStore:l,position:{area:t,moduleId:e}})}const g=m.getFormat().collection_page_sections;if(g){const e=g.filter((e=>e.section!==r));u().Do({store:f,pageSectionFormats:e,transaction:n,environment:o})}}},356117:(e,t,o)=>{o.d(t,{Uq:()=>m,Wb:()=>y});o(821057),o(267602),o(470928),o(30005);var n=()=>o(109477),r=()=>o(530980),i=()=>o(308240),a=()=>o(712185),l=()=>o(215134),s=()=>o(667932),c=()=>o(639708),d=()=>o(827370),u=()=>o(421654),p=()=>o(269299);function m(e){let{environment:t,transaction:o,layoutStore:n,position:s,updatedModule:c,sessionId:d}=e;const u=i().mt[s.area],m=n.getRawModules();if("form_conditional_modules"===u){const e=null==m?void 0:m[u];if(!(null==e?void 0:e[s.moduleId]))throw new Error("Unable to find module being updated.");return void p().createAndCommitOrAppend({environment:t,transaction:o,canUndo:!0,perform(e){p().applyOperation({transaction:e,store:n,operation:r().CIp.updateNestedModule(n.pointer,u,(0,a().cm)(c))})},userAction:"BuilderLayoutModules.updateModule"})}if(!m)throw new Error("Unable to find modules");const f=(0,l().mT)(m,(e=>e.id===s.moduleId));if(!f||f.area!==u)throw new Error("Unable to find module being updated.");p().createAndCommitOrAppend({environment:t,transaction:o,canUndo:!0,perform(e){p().applyOperation({transaction:e,store:n,operation:r().CIp.updateModuleInArea({pointer:n.pointer,module:(0,a().cm)(c),..."views_main_tab_modules"===f.area?{area:f.area,viewId:f.viewId}:{area:f.area}})})},userAction:"BuilderLayoutModules.updateModule"})}function f(e){var t,o,n;let{collectionStore:r,layoutStore:i}=e;const a=new Map,l=r.getFormat(),s=[...null===(t=i.getModules())||void 0===t?void 0:t.page_main,...null===(o=i.getModules())||void 0===o?void 0:o.page_details],d=new Map;null===(n=l.property_visibility)||void 0===n||n.forEach((e=>{d.set(e.property,e)})),s.forEach((e=>{if(!(0,c().LP)(e))return(0,c().f)(e)?(a.set(e.propertyId,{property:e.propertyId}),void d.set(e.propertyId,{property:e.propertyId,visibility:"show"})):void 0;e.propertyIds.forEach((e=>{a.set(e,{property:e}),d.set(e,{property:e,visibility:"show"})}))}));const u=r.getNormalizedPropertyGroups();var p;u?u.forEach((e=>{var t;null===(t=e.propertyIds)||void 0===t||t.forEach((e=>{a.has(e)||a.set(e,{property:e})}))})):null===(p=l.collection_page_properties)||void 0===p||p.forEach((e=>{a.has(e.property)||a.set(e.property,e)}));return{propertiesFormat:Array.from(a.values()),propertyVisibility:Array.from(d.values())}}function y(e){let{environment:t,transaction:o,collectionStore:i,layoutStore:a}=e;const{propertiesFormat:l,propertyVisibility:m}=f({collectionStore:i,layoutStore:a});p().createAndCommitOrAppend({environment:t,transaction:o,canUndo:!0,perform(e){const t=a.getBlockChildrenPointers(),o=a.firstModuleOfType("viewsMain");o&&(0,c().aJ)(o)&&t.find((e=>d().dr.isEqual(e,o.collection_view_block_pointer)))&&p().applyOperation({transaction:e,store:a,operation:r().CIp.removeBlockChild(a.pointer,o.collection_view_block_pointer.id)}),p().applyOperation({transaction:e,store:a,operation:r().CIp.setModulesByAreas(a.pointer,(0,s()._P)())}),p().applyOperation({transaction:e,store:a,operation:r().CIp.deleteFormat(a.pointer)});const f=i.getFormat(),{page_section_visibility:y}=f;u().FH({stores:[i],update:{property_groups:void 0,collection_page_properties:l,property_visibility:m,...y?{page_section_visibility:n().dN}:void 0},transaction:e})},userAction:"BuilderLayoutModules.resetLayoutToDefault"})}},772669:(e,t,o)=>{o.r(t),o.d(t,{deleteViewsModuleDependencies:()=>i});var n=()=>o(349220),r=()=>o(332542);function i(e){const{layoutStore:t,module:o,transaction:i}=e,a=(0,n().TO)(o.getCollectionViewBlockStore());r().hr({childStore:a,parentStore:t,transaction:i})}},590434:(e,t,o)=>{o.d(t,{m:()=>i});var n=()=>o(826955);class r{constructor(e,t){this.parentStore=e,this.impl=t}getType(){return this.impl.type}getCollectionViewBlockStoreWithParent(e){return n().G.createChildStore(e,this.impl.collection_view_block_pointer)}getCollectionViewBlockStore(){return this.getCollectionViewBlockStoreWithParent(this.parentStore)}getInitialCollectionViewPointer(){const e=this.getCollectionViewBlockStoreWithParent(this.parentStore).getCollectionViewPointers();if(e.length>0)return e[0]}getId(){return this.impl.id}isUnlistedView(){return!1}createCollectionViewContext(){const e=this.getCollectionViewBlockStoreWithParent(this.parentStore),t=this.getInitialCollectionViewPointer();if(!t)return;const o=n().Xr.createChildStore(e,t);return{type:"collectionView",collectionViewBlockStore:e,collectionStore:o.getCollectionStore(),collectionViewStore:o,pageVisitSourceOverride:void 0}}}function i(e,t){if("views"===t.type||"viewsMain"===t.type)return new r(e,t)}},151165:(e,t,o)=>{o.d(t,{Z:()=>r});class n extends(()=>o(263184))().default{}const r=new n},615389:(e,t,o)=>{o.d(t,{O:()=>r});class n extends(()=>o(263184))().default{getInitialState(){}waitUntilLoaded(){return this.waitUntil((()=>Boolean(this.state)))}}const r=new n},438665:(e,t,o)=>{o.d(t,{zL:()=>p,lB:()=>m,ZF:()=>u,DV:()=>h,an:()=>f,n9:()=>v,WV:()=>y});var n=()=>o(799891),r=()=>o(741633);const i={plans_page:["lic_25","lic_50","resurrection_offer","ai_fifty_percent_upgrade"],sidebar_upsell:["lic_25","lic_50"]};var a=()=>o(792409),l=()=>o(824462),s=()=>o(308186),c=()=>o(594546),d=()=>o(876822);async function u(e,t){var o;const{spaceId:n,offerCampaign:r}=t;if(!n||!r||null===(o=d().default.state.currentSpaceStore)||void 0===o||!o.canAdmin())return;const i=await l().callApi({eventName:"getCustomerOffer",environment:e,data:{spaceId:n,offerCampaign:r}});return"failed"!==i.type&&"offer"in i.data&&i.data.offer?i.data.offer:void 0}async function p(e){const{environment:t,spaceId:o,offerCampaign:n,entrypoint:r}=e,i=await l().callApi({eventName:"applyCustomerOffer",environment:t,data:{spaceId:o,offerCampaign:n,entrypoint:r??"unknown"}});if("failed"!==i.type)return i;s().x2(i)}async function m(e,t){const o=await l().callApi({eventName:"applyCustomerOffer",environment:e,data:{...t}});if("failed"!==o.type)return o;s().x2(o)}async function f(e){const{environment:t,spaceId:o,offerCampaign:n}=e;return void 0!==await u(t,{spaceId:o,offerCampaign:n})}async function y(e){var t;const{environment:o,hasReceived:i,offerType:s,newPlan:c,coupon:u}=e,p=null===(t=d().default.state.currentSpaceStore)||void 0===t?void 0:t.getSpaceId();if(!p)return;const m=await l().callApi({eventName:"updateCustomerOffer",environment:o,data:{spaceId:p,hasReceived:i,offerType:s,newPlan:c,coupon:u},headers:(0,r().Bb)({cellId:void 0,spaceId:p})});"failed"===m.type&&n().log({level:"error",from:"offerActions",type:"updateLegacyCustomerOfferFailed",error:(0,a().Ui)(m.error)})}async function h(e,t,o){const n=function(e){if(i.hasOwnProperty(e))return i[e]}(o);if(n)for(const r of n){const o=await u(e,{spaceId:t,offerCampaign:r});if((null==o?void 0:o.campaign)===r)return o}}function v(e){let{environment:t,spaceName:o,offerCampaign:n}=e;if(o)switch(n){case"lic_25":case"lic_50":(0,c().lu)(t,"lic_offer_eligible","lic_offer_eligible",3600,{workspace_name:o,lic_25:"lic_25"===n,lic_50:"lic_50"===n});break;case"resurrection_offer":(0,c().lu)(t,"resurrection_offer_eligible","resurrection_offer_eligible",3600,{workspace_name:o});break;default:return}}},498854:(e,t,o)=>{o.d(t,{E:()=>I});o(267602),o(228244);var n=o(667294),r=()=>o(219727),i=()=>o(142735),a=()=>o(846550),l=()=>o(255393),s=()=>o(381348),c=()=>o(788860),d=()=>o(824462),u=()=>o(661641),p=()=>o(765513),m=()=>o(148126),f=()=>o(876822),y=()=>o(145613),h=()=>o(548812),v=()=>o(144948),g=()=>o(366637),_=()=>o(419157),x=()=>o(897257),b=()=>o(707513),S=o(785893);const w=function(){const e=(0,a().yK)((e=>({discountDescription:{alignItems:"center",color:e.mediumTextColor,fontSize:12,lineHeight:b().Nv.UISmall.desktop}})),[]);return(0,S.jsx)("div",{style:e.discountDescription,children:(0,S.jsx)(c()._H,{id:"spaceSubscriptionSettings.orderOptions.estimatedPriceWarning",defaultMessage:"The final amount due may be impacted by prorations and member changes since your last invoice."})})};function I(e){const{products:t,showTrialEndDisclaimer:o}=e,n=(0,a().yK)((()=>({termsOfService:{display:"flex",flexDirection:"column",gap:12}})),[]),r=(0,i().VK)((()=>_().Z.state.selectedCurrencyCode),[]),l=t.includes("ai"),c=t.some((e=>"ai"!==e)),d=void 0!==r&&"USD"!==r,p=(0,i().VK)((()=>{var e;return y().Z.state.open?null===(e=y().Z.state)||void 0===e?void 0:e.coupon:void 0}),[]),m=(0,v().K)()&&t.includes("plus")&&(0,s().K0)(p);return(0,S.jsx)(u().q,{styleName:"Body-12px/Regular",colorName:"secondary",children:(0,S.jsxs)("div",{style:n.termsOfService,children:[o?(0,S.jsx)(C,{}):null,l&&!c?(0,S.jsx)(M,{}):null,l&&c?(0,S.jsx)(k,{}):null,!l&&c?(0,S.jsx)(j,{}):null,c&&m&&(0,S.jsx)(T,{}),d?(0,S.jsx)(A,{currencyCode:r}):null]})})}function C(){return(0,S.jsx)("div",{children:(0,S.jsx)(c()._H,{id:"spaceSubscriptionUpgradeModal.trialWillEndToday.message",defaultMessage:"Upgrading will end your trial and your workspace will be billed immediately."})})}function M(){const e=(0,r().O7)(),t=function(){const e=(0,r().O7)(),t=(0,i().VK)((()=>{var e;return null===(e=f().default.state.currentSpaceStore)||void 0===e?void 0:e.id}),[]),[o,a]=(0,n.useState)();return(0,n.useEffect)((()=>{async function o(){var o;if(!t)return!1;const n=await d().callApi({eventName:"getSpaceMembershipUpdates",environment:e,data:{spaceId:t}});if("failed"===n.type)return!1;const r=!1===(null===(o=n.data[0])||void 0===o?void 0:o.isProcessed);a(!!r)}o()}),[e,t]),o}(),o=(0,g().b)(),a=(0,i().VK)((()=>{var t;return(0,h().px)(e)&&!(0,l().de)(null===(t=x().subscriptionDataStoreInstance.state)||void 0===t?void 0:t.addOns)&&o}),[o,e]);return(0,S.jsxs)("div",{children:[a?(0,S.jsx)(c()._H,{id:"subscriptionUpgradeModal.confirmation.aiWithDiscount",defaultMessage:"By continuing, you agree to the <aiTerms>Notion AI Product Specific Terms</aiTerms> and agree to receive <bold>50% off Notion AI</bold> for the next 3 months with a paid plan. <terms>See details.</terms>",values:{br:(0,S.jsx)("br",{}),aiTerms:e=>(0,S.jsx)(p().Z,{href:(0,m().UY)("ai.terms"),external:!0,children:e}),bold:e=>(0,S.jsx)("b",{children:e}),terms:e=>(0,S.jsx)(p().Z,{href:(0,m().UY)("terms.discounts.ai.summer.2023"),external:!0,children:e})}}):(0,S.jsx)(c()._H,{id:"subscriptionUpgradeModal.confirmation.aiOnly",defaultMessage:"By continuing, you agree to the <aiTerms>Notion AI Product Specific Terms</aiTerms>.",values:{br:(0,S.jsx)("br",{}),aiTerms:e=>(0,S.jsx)(p().Z,{href:(0,m().UY)("ai.terms"),external:!0,children:e})}}),t?(0,S.jsx)(w,{}):null]})}function k(){return(0,S.jsx)("div",{children:(0,S.jsx)(c()._H,{id:"subscriptionUpgradeModal.confirmation.planWithAi",defaultMessage:"By continuing, you agree to the <terms>Notion Terms and Conditions</terms> and <aiTerms>Notion AI Product Specific Terms</aiTerms>.",values:{br:(0,S.jsx)("br",{}),terms:e=>(0,S.jsx)(p().Z,{href:(0,m().UY)("terms"),external:!0,children:e}),aiTerms:e=>(0,S.jsx)(p().Z,{href:(0,m().UY)("ai.terms"),external:!0,children:e})}})})}function j(){return(0,S.jsx)("div",{children:(0,S.jsx)(c()._H,{id:"subscriptionUpgradeModal.confirmation.planOnly",defaultMessage:"By continuing, you agree to the <terms>Notion Terms and Conditions</terms>.",values:{terms:e=>(0,S.jsx)(p().Z,{href:(0,m().UY)("terms"),external:!0,children:e})}})})}function T(){return(0,S.jsx)("div",{children:(0,S.jsx)(c()._H,{id:"subscriptionUpgradeModal.confirmation.planOnlyResurrection",defaultMessage:"Enjoy 50% off your first 3 months of billing, then standard rates apply. <learnMore>Learn more</learnMore>",values:{learnMore:e=>(0,S.jsx)(p().Z,{href:(0,m().UY)("resurrectionLearnMore"),external:!0,children:e})}})})}function A(e){return(0,S.jsx)("div",{children:(0,S.jsx)(c()._H,{id:"subscriptionUpgradeModal.confirmation.currency",defaultMessage:"<terms>Learn about FX rates</terms>. Rates will refresh throughout the billing period.",values:{terms:e=>(0,S.jsx)(p().Z,{href:(0,m().UY)("terms.currency.fxRates"),external:!0,children:e})}})})}},632752:(e,t,o)=>{o.d(t,{p:()=>p});o(667294);var n=()=>o(846550),r=()=>o(73363),i=()=>o(212493),a=()=>o(154186),l=()=>o(603692),s=()=>o(661641),c=()=>o(654133),d=()=>o(998901),u=o(785893);function p(e){let{tooltipTitle:t,tooltipDescription:o,buttonProps:n,iconSize:a="small",tooltipWidth:p}=e;return(0,u.jsx)(c().Z,{placement:d().Placement.Top,style:p?{width:p}:void 0,renderTooltip:()=>(0,u.jsxs)(i().jX,{gap:2,direction:"column",children:[(0,u.jsx)(s().q,{styleName:"UISmall-12px/Medium",colorName:"contrastPrimary",children:t}),o?(0,u.jsx)(s().q,{styleName:"UISmall-12px/Regular",colorName:"contrastSecondary",children:o}):null]}),render:e=>(0,u.jsx)(m,{buttonProps:n,...e,children:(0,u.jsx)(l().y,{iconGroup:r().M,colorName:"tertiary",variantName:a})}),textWrap:Boolean(p)})}function m(e){let{children:t,buttonProps:o,...r}=e;const i=(0,n().yK)((()=>({button:{borderRadius:2}})),[]);return o?(0,u.jsx)(a().Z,{style:i.button,...o,...r,children:t}):(0,u.jsx)("span",{...r,children:t})}},437594:(e,t,o)=>{o.d(t,{Dp:()=>a,iI:()=>l,vS:()=>i});var n=()=>o(677559);const r={DowngradeModal:new(n().Ss)("DowngradeModal",(async()=>Promise.all([o.e(62743),o.e(71025),o.e(5014),o.e(6881),o.e(31095)]).then(o.bind(o,541616)))),RemoveAddOnModal:new(n().Ss)("RemoveAddOnModal",(async()=>Promise.all([o.e(62743),o.e(71025),o.e(5014),o.e(6881),o.e(23055)]).then(o.bind(o,947989)))),DeletePaidWorkspaceModal:new(n().Ss)("DeletePaidWorkspaceModal",(async()=>Promise.all([o.e(62743),o.e(71025),o.e(5014),o.e(6881),o.e(45632)]).then(o.bind(o,558120))))},i=(0,n().kF)(r.DowngradeModal,(e=>e.DowngradeModal)),a=(0,n().kF)(r.RemoveAddOnModal,(e=>e.RemoveAddOnModal)),l=(0,n().kF)(r.DeletePaidWorkspaceModal,(e=>e.DeletePaidWorkspaceModal))},663773:(e,t,o)=>{o.d(t,{Cv:()=>s,aJ:()=>c,kw:()=>d,zX:()=>u});var n=()=>o(219727),r=()=>o(142735),i=()=>o(799891),a=()=>o(629719),l=()=>o(515323);function s(e){let{spaceId:t}=e;const o=(0,n().O7)();return(0,r().VK)((()=>{if(t)return l().U.getData(o,{spaceId:t})}),[o,t])}function c(e){if("admin"===(null==e?void 0:e.type))return e}function d(e,t,o){if(!t)return 0;const n=(0,a().ry)({spaceId:e,logFunction:i().log.bind(i()),subscriptionState:t});return n?Math.max(n,o):0}function u(e){var t;const o=null===(t=(0,a().a7)(e,"plan"))||void 0===t?void 0:t.price;if(!o)return;const n=o.unitAmount,r="year"===o.billingInterval?12:1;return{amount:n.amount/r,currencyCode:n.currencyCode}}},661769:(e,t,o)=>{o.d(t,{pQ:()=>a().p,eG:()=>l().e,bA:()=>s().b,nL:()=>p,Hy:()=>v,PL:()=>m().P,tw:()=>g().t,h1:()=>_().h});var n=()=>o(219727),r=()=>o(801812),i=()=>o(824462);var a=()=>o(595976),l=()=>o(272353),s=()=>o(366637),c=()=>o(142735),d=()=>o(616433),u=()=>o(214488);function p(e){let{spaceId:t}=e;const o=(0,n().O7)(),r=(0,d().J)();return(0,c().VK)((()=>{if(!t||!r)return;const e=u().Z.getData(o,{spaceId:t});return null==e?void 0:e.billingData}),[o,t,r])}var m=()=>o(258590),f=()=>o(629719),y=()=>o(876822),h=()=>o(18281);function v(e,t){const o=(0,c().Kw)(e),n=(0,c().VK)((()=>{var e;return null===(e=y().default.state.currentSpaceStore)||void 0===e?void 0:e.id}),[]),l=(0,a().p)({spaceId:n}),s=(0,c().VK)((()=>h().Nf({billingData:l,spaceStore:y().default.state.currentSpaceStore})),[l]),[{value:d}]=(0,r().r5)((()=>i().callApi({eventName:"isEmailEducation",environment:t,data:{}})),[t]);if(!d)return!1;if("failed"===d.type)return!1;if(!d.data.isEligible)return!1;if(!o)return!1;if(!l)return!1;if(Boolean((0,f().a7)(l.subscription,"plan")))return!1;const u=h().hn(o).length;return s&&1===u}var g=()=>o(76999),_=()=>o(205729)},595976:(e,t,o)=>{o.d(t,{p:()=>s});var n=()=>o(219727),r=()=>o(142735),i=()=>o(616433),a=()=>o(515323),l=()=>o(663773);function s(e){let{spaceId:t}=e;const o=(0,n().O7)(),s=(0,i().J)();return(0,r().VK)((()=>{if(!t||!s)return;const e=a().U.getData(o,{spaceId:t});return(0,l().aJ)(e)}),[o,t,s])}},415339:(e,t,o)=>{o.d(t,{T:()=>i});var n=()=>o(142735),r=()=>o(18281);function i(e){return(0,n().VK)((()=>r().AX(e.state)),[e])}},272353:(e,t,o)=>{o.d(t,{e:()=>a});var n=()=>o(142735),r=()=>o(876822),i=()=>o(18281);function a(e){return(0,n().VK)((()=>i().Nf({billingData:e,spaceStore:r().default.state.currentSpaceStore})),[e])}},144948:(e,t,o)=>{o.d(t,{K:()=>h});var n=o(667294),r=()=>o(219727),i=()=>o(142735),a=()=>o(893146),l=()=>o(381348),s=()=>o(824462),c=()=>o(345918),d=()=>o(228772),u=()=>o(876822),p=()=>o(438665),m=()=>o(595976),f=()=>o(629719),y=()=>o(548812);function h(){const e=(0,r().O7)(),t=(0,d().r)(),o=null==t?void 0:t.id,h=(0,m().p)({spaceId:o}),[v,g]=(0,n.useState)(!1),{currentSpaceStore:_}=(0,i().VK)((()=>{const{currentSpaceStore:e}=u().default.state;return{currentSpaceStore:e}}),[]),x=(0,i().VK)((()=>_?(0,c().rn)(e,_):void 0),[_,e]),b=function(e){return(0,i().VK)((()=>(0,y().a7)()&&Boolean("free"===(0,f().zt)(null==e?void 0:e.subscription))),[e])}(h),S=(0,i().VK)((()=>null==t?void 0:t.canAdmin()),[t]);return(0,n.useEffect)((()=>{!async function(){if(b&&o&&S)try{const t=await s().callApi({eventName:"getCustomerOffer",environment:e,data:{spaceId:o,offerCampaign:"resurrection_offer"}});if("failed"===t.type)return;if("offer"in t.data){const o=(0,a().iQ)(t.data.offer);(0,l().K0)(o)&&(g(!0),x&&(0,p().n9)({environment:e,spaceName:x,offerCampaign:"resurrection_offer"}))}}catch(t){return}}()}),[e,o,b,x,S]),v}},366637:(e,t,o)=>{o.d(t,{b:()=>h});var n=o(667294),r=()=>o(219727),i=()=>o(142735),a=()=>o(893146),l=()=>o(381348),s=()=>o(824462),c=()=>o(228772),d=()=>o(345918),u=()=>o(669086),p=()=>o(519563),m=()=>o(876822),f=()=>o(697623),y=()=>o(741380);function h(e){const t=(0,r().O7)(),[o,h]=(0,n.useState)(!1),v=function(e){const t=(0,y().m)("ai_fifty_percent_upgrade"),o=(0,u().y)(),n=(0,p().S)();return(0,i().VK)((()=>{const r=t&&!o&&(0,f().iJ)()&&1===n,i=(0,d().zP)(m().default.state.currentSpaceStore);return Boolean(r&&(!i||"sidebar"!==e||i>=7))}),[t,o,n,e])}(e),g=(0,c().r)(),_=(0,i().VK)((()=>null==g?void 0:g.canAdmin()),[g]),x=(0,i().VK)((()=>null==g?void 0:g.getSpaceId()),[g]);return(0,n.useEffect)((()=>{!async function(){if(v&&x&&_)try{const o=await s().callApi({eventName:"getCustomerOffer",environment:t,data:{spaceId:x,offerCampaign:"ai_fifty_percent_upgrade"}});if("failed"===o.type)return;if("offer"in o.data){var e;const t=(0,a().iQ)(null===(e=o.data)||void 0===e?void 0:e.offer);h((0,l().pp)(t))}}catch(o){return}}()}),[t,v,x,_]),o}},348964:(e,t,o)=>{o.d(t,{f:()=>a});var n=o(667294),r=()=>o(219727),i=()=>o(824462);function a(){const e=(0,r().O7)(),[t,o]=(0,n.useState)();return(0,n.useEffect)((()=>{!async function(){const t=await i().callApi({eventName:"getExternalOrgData",environment:e,data:{}});if("failed"===t.type)return;const n=t.data;o(n)}()}),[e]),t}},741380:(e,t,o)=>{o.d(t,{m:()=>s});var n=o(667294),r=()=>o(219727),i=()=>o(142735),a=()=>o(876822),l=()=>o(438665);function s(e){const t=(0,r().O7)(),[o,s]=(0,n.useState)(),c=(0,i().VK)((()=>{var e;return null===(e=a().default.state.currentSpaceStore)||void 0===e?void 0:e.getSpaceId()}),[]);return(0,n.useEffect)((()=>{!async function(){c&&s(await(0,l().an)({environment:t,spaceId:c,offerCampaign:e}))}()}),[t,c,e]),o}},258590:(e,t,o)=>{o.d(t,{P:()=>i});var n=o(667294),r=()=>o(348964);function i(){const e=(0,r().f)(),[t,o]=(0,n.useState)();return(0,n.useEffect)((()=>{o(!(!e||!("company_employee_count"in e))&&parseInt(e.company_employee_count)>99)}),[e]),t}},76999:(e,t,o)=>{o.d(t,{t:()=>i});var n=()=>o(142735),r=()=>o(18281);function i(e){return(0,n().VK)((()=>r().YK(e.state)),[e])}},147861:(e,t,o)=>{o.d(t,{Ko:()=>g,q7:()=>_,xU:()=>v});o(667294);var n=()=>o(219727),r=()=>o(142735),i=()=>o(724592),a=()=>o(359071),l=()=>o(788860),s=()=>o(454393),c=()=>o(603692),d=()=>o(594546),u=()=>o(345918),p=()=>o(151165),m=()=>o(293760),f=()=>o(548812),y=()=>o(93543),h=o(785893);function v(){const e=(0,r().VK)((()=>{const{editsBlocked:e}=m().default.state;return e??!1}),[]),t=(0,n().O7)();return(0,r().VK)((()=>(0,f().Un)(t)),[t])&&e}function g(){return(0,r().VK)((()=>{var e;const t=p().Z.state;return null==t||null===(e=t.data)||void 0===e?void 0:e.invoiceHostedUrl}),[])}function _(){const e=(0,n().O7)(),t=g(),o=(0,r().VK)((()=>{var e;const t=p().Z.state;return(null==t||null===(e=t.data)||void 0===e?void 0:e.overdueInvoiceCount)??0}),[]),d=(0,r().VK)((()=>(0,u().Fn)(e)),[e]),m=function(e,t){if(e)return t>1?(0,h.jsx)(l()._H,{defaultMessage:"Access to Notion is limited because we couldn’t process {overdueInvoiceCount, plural, one {your last payment} other {{overdueInvoiceCount} payments}}.",id:"uncollectibleExperience.uncollectibleExperienceOverlay.multipleInvoicesMessageContent",values:{overdueInvoiceCount:t}}):(0,h.jsx)(l()._H,{defaultMessage:"Access to Notion is limited because we couldn’t process your last payment",id:"uncollectibleExperience.uncollectibleExperienceOverlay.messageContent"});return(0,h.jsx)(l()._H,{id:"uncollectibleExperience.uncollectibleExperienceOverlay.memberMessageContent",defaultMessage:"Access to Notion is limited"})}(d,o),f=function(e){if(e)return;return(0,h.jsx)(l()._H,{id:"uncollectibleExperience.uncollectibleExperienceOverlay.memberSecondaryLabel",defaultMessage:"Contact a workspace owner to update your workspace’s payment method"})}(d),v=function(e,t,o){if(t){const n=(0,y().o)(o);return o=>{n&&(x(t,e),n(o))}}return o=>{x(t,e),s().r$()}}(e,d,t),_=function(e){if(e)return(0,h.jsx)(l()._H,{defaultMessage:"View unpaid invoice",id:"uncollectibleExperience.uncollectibleExperienceOverlay.buttonLabel"});return(0,h.jsx)(l()._H,{id:"uncollectibleExperience.uncollectibleExperienceOverlay.memberButtonLabel",defaultMessage:"View workspace owner"})}(d),b=function(e){if(e)return(0,h.jsx)(c().y,{iconGroup:i().R,variantName:"default",colorName:"primary"});return(0,h.jsx)(c().y,{iconGroup:a().s,variantName:"default",colorName:"primary"})}(d);return{clickAction:v,ctaMessage:_,primaryMessage:m,secondaryMessage:f,ctaIcon:b,tooltipBodyMessage:d?_:f,isWorkspaceOwner:d,overdueInvoiceCount:o}}function x(e,t){(0,d().j)({environment:t,event:{eventName:"subscription_uncollectible_blurred_experience_cta_clicked",eventProperties:{is_workspace_owner:e}}})}},205729:(e,t,o)=>{o.d(t,{h:()=>s});var n=o(667294),r=()=>o(219727),i=()=>o(142735),a=()=>o(876822),l=()=>o(254687);function s(){const e=(0,r().O7)(),[t,o]=(0,n.useState)([]),s=(0,i().VK)((()=>{var e;return null===(e=a().default.state.currentSpaceStore)||void 0===e?void 0:e.id}),[]);return(0,n.useEffect)((()=>{(async()=>{if(s){const t=await(0,l().aQ)({environment:e,spaceId:s});o(t)}})()}),[e,s]),t}},550649:(e,t,o)=>{o.d(t,{Z:()=>l});var n=()=>o(629719),r=()=>o(403587),i=()=>o(663773),a=()=>o(595976);function l(e){const t=(0,r().R)({spaceStore:e}),o=(0,a().p)({spaceId:e.id}),l=(0,i().kw)(e.id,null==o?void 0:o.subscription,t.loading?0:t.members.length);return Boolean(!(0,n().CO)(null==o?void 0:o.subscription)&&!(0,n().Rd)(null==o?void 0:o.subscription)&&!(0,n().FG)(null==o?void 0:o.subscription)&&l>0)}},548919:(e,t,o)=>{o.d(t,{D:()=>i,Qk:()=>l,we:()=>a});var n=()=>o(873463),r=()=>o(914575);function i(e){r().Z.setState({open:!0,...e})}function a(){r().Z.setState({open:!1})}function l(e){n().Z.setState({open:!0,...e})}},701814:(e,t,o)=>{o.d(t,{z:()=>g});o(667294);var n=()=>o(219727),r=()=>o(142735),i=()=>o(846550),a=()=>o(677200),l=()=>o(788860),s=()=>o(568017),c=()=>o(154186),d=()=>o(603692),u=()=>o(661641),p=()=>o(654133),m=()=>o(345918),f=()=>o(228772),y=()=>o(998901),h=()=>o(697623),v=o(785893);function g(e){let{onClick:t,showIcon:o=!0}=e;const i=x(o),a=(0,n().O7)(),s=(0,f().r)(),d=(0,r().VK)((()=>s&&(0,m().rn)(a,s)),[a,s]),g=(0,r().VK)((()=>(0,h().zt)()),[]);return void 0===t?(0,v.jsx)("div",{style:{...i.badge,cursor:"default"},children:(0,v.jsx)(_,{showIcon:o})}):(0,v.jsx)(p().Z,{placement:y().Placement.Bottom,style:i.tooltip,render:e=>(0,v.jsx)(c().Z,{onClick:t,style:{...i.badge,cursor:"pointer"},hoveredStyle:i.badgeHover,pressedStyle:i.badgePressed,...e,children:(0,v.jsx)(_,{showIcon:o})}),renderTooltip:()=>(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(u().q,{styleName:"UISmall-12px/Medium",colorName:"contrastPrimary",children:(0,v.jsx)(l()._H,{id:"trialBadge.tooltip.title",defaultMessage:"{hasSpaceName, select, true {{spaceName}} other {Your workspace}} is on a free {planName, select, plus {Plus} business {Business} enterprise {Enterprise} other {}} trial",values:{hasSpaceName:Boolean(d),spaceName:d,planName:g}})}),(0,v.jsx)(u().q,{styleName:"UISmall-12px/Regular",colorName:"contrastSecondary",children:(0,v.jsx)(l()._H,{id:"trialBadge.tooltip.description",defaultMessage:"Click to learn more"})})]}),textWrap:!0})}function _(e){let{showIcon:t}=e;const o=x(t);return(0,v.jsxs)(v.Fragment,{children:[t?(0,v.jsx)("span",{style:o.giftIcon,children:(0,v.jsx)(d().y,{iconGroup:a().$,variantName:"mini",colorName:"orangePrimary"})}):null,(0,v.jsx)(u().q,{styleName:"UISmall-12px/Medium",children:(0,v.jsx)(l()._H,{id:"trialBadge.title",defaultMessage:"Free trial"})})]})}function x(e){return(0,i().yK)((t=>({badge:{display:"flex",flexDirection:"row",gap:4,justifyContent:"center",alignItems:"center",color:t.icon.orangePrimary,background:t.fill.orangeSecondary,padding:e?"0px 6px 0px 4px":"0px 6px",height:e?22:20,borderRadius:6,width:"fit-content"},badgeHover:{background:s().FN[t.mode].orange[100]},badgePressed:{background:s().FN[t.mode].orange[200]},tooltip:{maxWidth:"240px",width:"max-content",display:"flex",padding:"4px 6px",flexDirection:"column",alignItems:"flex-start",gap:2,borderRadius:4},giftIcon:{paddingBottom:1}})),[e])}},873463:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o(263184).default.createValue({open:!1},{name:"TrialEndModalStore"})},914575:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o(263184).default.createValue({open:!1},{name:"TrialInfoModalStore"})},877727:(e,t,o)=>{o.d(t,{C3:()=>l,D:()=>s,QZ:()=>a,fo:()=>i});var n=()=>o(146947),r=()=>o(749826);function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r().default.checkGate({gateName:"packaging_m2_additional_entrypoints"})&&a(e,t)}function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!e.device.isPhone&&l(t)}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r().default.checkGate({gateName:"workflow_templates_prototype",...e})||"control"!==s(e)}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n().locale.startsWith("en-")||r().default.checkGate({gateName:"packaging_m2_localize_templates"})?r().default.getEligibleGroup({experimentId:"packaging_m2_entry_point",defaultGroup:"control",...e}):"control"}},999582:(e,t,o)=>{o.d(t,{Z:()=>i});class n extends(()=>o(263184))().default{getInitialState(){return{}}}const r=new n;o(947115).exposeDebugValue("SpaceWorkflowTemplateInstanceMapStore",r);const i=r},184441:(e,t,o)=>{o.d(t,{default:()=>i});class n extends(()=>o(263184))().default{getInitialState(){return{open:!1,isShowingLoadingState:!1}}updateUserCustomizations(e,t){this.state.open&&this.state.collectionTemplate&&this.setState({...this.state,userCustomizations:{...this.state.userCustomizations,[e]:t}})}updateCollectionTemplate(e){this.state.open&&this.state.collectionTemplate&&this.setState({...this.state,collectionTemplate:e})}updatePreviewCollectionViewTemplateId(e){this.state.open&&this.state.collectionTemplate&&this.setState({...this.state,previewCollectionViewTemplateId:e})}getParentStore(){return this.state.open?this.state.parentStore:void 0}getShouldShowExpandedTemplateList(){return this.state.open&&this.state.shouldShowExpandedTemplateList}setShouldShowExpandedTemplateList(e){this.state.open&&this.setState({...this.state,shouldShowExpandedTemplateList:e})}close(e){var t,o;this.state.open&&(null===(t=(o=this.state).onClose)||void 0===t||t.call(o,e),this.setState({open:!1,isShowingLoadingState:!1}))}reset(){this.setState(this.getInitialState())}}const r=new n;(0,o(947115).exposeDebugValue)("InitializeWorkflowTemplateModalStore",r);const i=r},29488:(e,t,o)=>{function n(e){return`${e.table}:${e.id}`}o.d(t,{O:()=>n})},912203:(e,t,o)=>{o.d(t,{$M:()=>h,GQ:()=>S,Jy:()=>C,LF:()=>I,NO:()=>m,Of:()=>M,SF:()=>u,TX:()=>b,XO:()=>v,Y_:()=>d,Ym:()=>y,bD:()=>_,cO:()=>p,fo:()=>w,rR:()=>f});o(267602),o(653476),o(228244);var n=()=>o(513670),r=()=>o(696459),i=()=>o(226413),a=()=>o(109477),l=()=>o(455222),s=()=>o(305580);(0,r().AO)((e=>(0,r().$K)(e)&&(0,r().$K)(e.target)&&(0,r().$K)(e.external_bot_id)?{true:{external_bot_id:e.external_bot_id,target:e.target}}:{false:e}));const c={checkbox:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,auto_increment_id:!1,button:!1,created_by:!1,created_time:!1,file:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1},d={checkbox:[{type:"checkbox"}],date:[{type:"date"}],email:[{type:"text"}],multi_select:[{type:"text"},{of:{type:"text"},type:"array"}],number:[{type:"number"}],person:[{type:"person"},{of:{type:"person"},type:"array"}],phone_number:[{type:"text"}],relation:[{type:"block"},{of:{type:"block"},type:"array"}],select:[{type:"text"},{of:{type:"text"},type:"array"}],status:[{type:"text"},{of:{type:"text"},type:"array"}],text:void 0,title:void 0,url:[{type:"text"}]};function u(e){return Boolean(c[e.type]&&!(0,i().NK)(e)&&(!(0,i().qQ)(e)||void 0===(0,i().q3)(e)))}function p(e){const{collectionFormat:t,collectionSchema:o,filter:l,sort:c,sourcePropertyIds:d}=e,p=(d??(0,r().Yd)(o)).filter(((t,n,r)=>{const a=o[t];return!(!a||!u(a))&&(("relation"!==a.type||!e.restrictCrossSpace||!(0,i().Qh)(e.spaceId,a))&&(!l||l([t,a],n,o)))}));if(0===p.length)return[];if(!t||!1===c)return p;const m=(0,s().i)(t,o,void 0,a().j5.Page).collection_page_properties||[];return n().MR(p,(e=>m.findIndex((t=>t.property===e))))}function m(e){const{collectionFormat:t,collectionSchema:o,sort:l}=e,c=(0,r().Yd)(o).filter(((e,t,n)=>{const r=o[e];return!(!r||!(0,i().U8)(r))}));if(0===c.length)return[];if(!t||!1===l)return c;const d=(0,s().i)(t,o,void 0,a().j5.Page).collection_page_properties||[];return n().MR(c,(e=>d.findIndex((t=>t.property===e))))}function f(e){return e.type===l().$E.InvalidCharacter?{type:e.type,character:e.character}:e.type===l().$E.TokenExpected?{type:e.type,token:e.token}:e.type===l().FY.MissingSchemaPropertyOnThisRow||e.type===l().FY.MissingSchemaPropertyOnCollection?{type:e.type,collectionId:e.collectionId,property:e.property}:e.type===l().FY.ThisRowBlockPropertyMismatchCollection?{type:e.type,thisRowCollection:e.thisRowCollection}:e.type===l().FY.MissingContextVariable?{type:e.type,valueId:e.valueId}:e.type===l().FY.FunctionCallTooFewArguments?{type:e.type,numArguments:e.numArguments}:e.type===l().FY.FunctionCallUnexpectedArgument?{type:e.type,parameterIndex:e.parameterIndex}:e.type===l().FY.FunctionCallArgumentWrongType?{type:e.type,argumentType:e.argumentType,libraryFunctionName:e.libraryFunction.name,parameterIndex:e.parameterIndex}:e.type===l().FY.MissingDataDependencyBlock?{type:e.type,blockPointer:e.blockPointer}:e.type===l().FY.MissingDataDependencyPerson?{type:e.type,personPointer:e.personPointer}:e.type===l().FY.MemberPropertyMismatchCollection?{type:e.type,blockCollection:e.blockCollection}:e.type===l().FY.DownstreamParseFailure?{type:e.type,collectionId:e.collectionId,property:e.property}:e.type===l().FY.ContextVariableWrongType?{type:e.type,valueId:e.valueId,expectedType:e.expectedType,resultType:e.resultType}:e.type===l().FY.DisallowedValueType?{type:e.type,expressionValue:e.expressionValue,allowedValueTypes:e.allowedValueTypes}:e.type===l().FY.LibraryFunctionExecutionError?{type:e.type,error:e.error,libraryFunctionName:e.libraryFunction.name}:{type:e.type}}const y={checkbox:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,button:!1,file:!1,verification:!1,auto_increment_id:!1,created_by:!1,created_time:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1};function h(e){return Boolean(y[e.type])}function v(e){const{collectionFormat:t,collectionSchema:o,filter:l,sort:c}=e,d=(0,r().Yd)(o).filter(((e,t,n)=>{var r;const a=o[e];return!(!a||!y[a.type])&&((!(0,i().qQ)(a)||null===(r=(0,i().q3)(a))||void 0===r||!r.auto_update_on_edit)&&(!l||l([e,a],t,o)))}));if(0===d.length)return[];if(!t||!1===c)return d;const u=(0,s().i)(t,o,void 0,a().j5.Page).collection_page_properties||[];return n().MR(d,(e=>u.findIndex((t=>t.property===e))))}const g={checkbox:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,auto_increment_id:!1,button:!1,created_by:!1,created_time:!1,date:!1,file:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1};function _(e){return g[e.type]}const x={checkbox:!0,created_by:!0,created_time:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,last_edited_by:!0,last_edited_time:!0,auto_increment_id:!1,button:!1,file:!1,formula:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1};function b(e){return x[e.type]}function S(e){return 0===e}function w(e){return function(e){return"button_block"===e||"button_property"===e}(e)}function I(e){const{property:t,collectionSchema:o}=e;return!!o&&!o[t]}function C(e){const{collectionSchema:t,property:o,type:n}=e,r=null==t?void 0:t[o];return!r||("action"===n?!u(r):!y[r.type])}function M(e){let{automationTrigger:t,collectionSchema:o}=e;if("event"===(null==t?void 0:t.type)||"notification_event"===(null==t?void 0:t.type)){const{pagesAdded:e,pagePropertiesEdited:n,source:i}=t.event;if(void 0===i)return!1;const a="some"===n.type&&n.some,l="all"===n.type&&n.all;if((a||l||[]).some((e=>I({collectionSchema:o,property:e.property})||C({collectionSchema:o,property:e.property,type:"trigger"}))))return!1;const s="some"===n.type&&(!(0,r().$K)(n.some)||0===n.some.length),c="all"===n.type&&(!(0,r().$K)(n.all)||0===n.all.length);if(!e&&("none"===n.type||s||c))return!1}else{if("recurrence"!==(null==t?void 0:t.type))return!1;if(!t.recurrence)return!1}return!0}},157955:(e,t,o)=>{o.r(t),o.d(t,{DEFAULT_MAX_RECURRENCE_DUPLICATION_PER_TASK:()=>T,MAXIMUM_DAILY_RECURRENCES_IN_PATH:()=>S,MAXIMUM_NESTED_RECURRENCE_LEVEL:()=>b,MAX_RECURRENCE_INTERVAL:()=>h,MAX_RECURRENCE_NUMBER_OF_RUNS:()=>v,RRULE_WEEKDAYS_MAP:()=>y,convertFromUnpersistedRecurrenceConfig:()=>R,convertToUnpersistedRecurrenceConfig:()=>A,getFormattedEndCondition:()=>j,getFormattedNextRecurrenceTime:()=>k,getNextDateUtc:()=>M,getRecurrenceAfter:()=>I,isRunningBetweenMidnightAnd3AM:()=>C,isValidRecurrenceInterval:()=>g,isValidRecurrenceNumberOfRuns:()=>_,rruleFromRecurrence:()=>x,templateAncestorsViolateRecurrenceNesting:()=>w});o(267602),o(653476),o(241792);var n=()=>o(730120);o(670560);function r(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];if(0===o.length)return e.map((e=>[e]));const i=[];for(const a of e)i.push(...r(o[0],...o.slice(1)).map((e=>[a,...e])));return i}var i=()=>o(696459),a=()=>o(326966),l=()=>o(803021),s=()=>o(646574),c=()=>o(998411),d=()=>o(578292);class u extends(()=>o(484885))().Ci{constructor(e,t){super(e,t)}after(e,t){return super.after(e,t)}}var p=()=>o(494616);const m=(0,o(788860).vU)({dateAtTime:{id:"automations.recurrenceHelpers.dateAtTime",defaultMessage:"{date} at {time}"},dateBetweenMidnightAnd3AM:{id:"automations.recurrenceHelpers.dateBetweenMidnightAnd3AM",defaultMessage:"{date} between 12–3 AM"},numberEndConditionDescription:{id:"automations.recurrenceHelpers.numberEndConditionDescription",defaultMessage:"{number, plural, one {After {number} run} other {After {number} runs}}"},noEndCondition:{id:"automations.recurrenceHelpers.noEndCondition",defaultMessage:"Never"}}),f={day:u.DAILY,week:u.WEEKLY,month:u.MONTHLY,year:u.YEARLY},y={MO:u.MO,TU:u.TU,WE:u.WE,TH:u.TH,FR:u.FR,SA:u.SA,SU:u.SU},h=99,v=999;function g(e){return(0,a().hj)(e)&&Number.isInteger(e)&&e>0&&e<=h}function _(e){return(0,a().hj)(e)&&Number.isInteger(e)&&e>0&&e<=v}function x(e){const{start_date:t,frequency:o,interval:n,weekdays:a,timezone:s,hour:c,minute:d}=e,p="week"===o&&a?a.map((e=>y[e])):void 0,m={};return(0,i().$K)(e.end_condition)&&("date"===e.end_condition.type?m.until=(0,l().pd)(e.end_condition.end_at):"number"===e.end_condition.type?m.count=e.end_condition.number_of_occurrences:(0,i().t1)(e.end_condition)),"month"===e.frequency&&(0,i().$K)(e.monthly_restriction)&&("monthdays"===e.monthly_restriction.type?m.bymonthday=e.monthly_restriction.monthdays:"weekdays_in_month"===e.monthly_restriction.type?m.byweekday=r(e.monthly_restriction.weekdays,e.monthly_restriction.week_numbers).map((e=>{let[t,o]=e;return y[t].nth(o)})):(0,i().t1)(e.monthly_restriction)),new u({freq:f[o],dtstart:(0,l().pd)(t),interval:n,byweekday:p,tzid:s,byhour:c??0,byminute:d??0,bysecond:0,...m})}const b=1,S=1;function w(e){var t;if(0===e.length)return{violatesConstraint:!1,templateNestingExceedsMaxDepth:!1,ancestorHasDailyTemplate:!1,nestedDepthOfAutomationAncestors:void 0,immediateAncestorRecurrenceType:void 0};const o=e.filter((e=>{var t;return"day"===(null===(t=e.getRecurrence())||void 0===t?void 0:t.frequency)})),n=e.length,r=null===(t=e[0].getRecurrence())||void 0===t?void 0:t.frequency,i=n>b,a=o.length>=S;return{violatesConstraint:i||a,templateNestingExceedsMaxDepth:i,ancestorHasDailyTemplate:a,nestedDepthOfAutomationAncestors:n,immediateAncestorRecurrenceType:r}}function I(e){const{recurrence:t,afterDate:o}=e;if((0,p().nA)(t)){const e=(0,l().kq)(o);return t.start_date>=e?new Date(t.start_date):void 0}{const e=x(t).after((0,l().pd)(o));if(!e)return;return(0,l().YL)(e)}}function C(e){return 0===e.hour||1===e.hour||2===e.hour}function M(e){return x(e).after((0,l().pd)((0,l().Jh)()))||void 0}function k(e){const{recurrence:t,intl:o}=e,r=M(R(t));if(!r)return;const i=C(t),a=n().ou.fromJSDate(r).toUTC().setZone("local",{keepLocalTime:!0}).setLocale((0,d().E2)(o)).setZone(t.timezone),l=(0,s().p6)({date:a,dateFormat:"relative",allowRelativeDates:!0,intl:o,shortenDate:!0});if(i)return o.formatMessage(m.dateBetweenMidnightAnd3AM,{date:l});{let e=a.toLocaleString(n().ou.TIME_SIMPLE);return t.timezone!==(0,c().r)()&&(e+=` ${a.toFormat("ZZZZ")}`),o.formatMessage(m.dateAtTime,{date:l,time:e})}}function j(e,t){return(0,i().$K)(e)?"number"===e.type?t.formatMessage(m.numberEndConditionDescription,{number:e.number_of_occurrences}):"date"===e.type?(0,s().p6)({date:n().ou.fromMillis(e.end_at),dateFormat:"relative",allowRelativeDates:!0,intl:t,shortenDate:!0}):void(0,i().t1)(e):t.formatMessage(m.noEndCondition)}const T=100;function A(e){return{...e,start_date:(0,l().kq)(e.start_date),end_condition:e.end_condition?"number"===e.end_condition.type?e.end_condition:"date"===e.end_condition.type?{type:"date",end_at:(0,l().kq)(e.end_condition.end_at)}:(0,i().t1)(e.end_condition):void 0}}function B(e,t){const o=n().ou.fromMillis(t.end_at).set({hour:e.hour??0,minute:e.minute??0});return{type:"date",end_at:(0,l().Jh)(o.toJSDate())}}function R(e){return{...e,start_date:(0,l().Jh)(new Date(e.start_date)),end_condition:e.end_condition?"number"===e.end_condition.type?e.end_condition:"date"===e.end_condition.type?B(e,e.end_condition):(0,i().t1)(e.end_condition):void 0}}},724592:(e,t,o)=>{o.d(t,{R:()=>n});const n=(0,o(827282).CZ)("arrowUpRightSquare",{default:{loader:()=>o.e(37795).then(o.bind(o,237795))},small:{loader:()=>o.e(23099).then(o.bind(o,423099))},mini:{loader:()=>o.e(16954).then(o.bind(o,516954))},large:{loader:()=>o.e(54753).then(o.bind(o,954753))}})},311988:(e,t,o)=>{o.d(t,{x:()=>n});const n=(0,o(827282).CZ)("exclamationMarkCircle",{default:{loader:()=>o.e(10155).then(o.bind(o,10155))},small:{loader:()=>o.e(17495).then(o.bind(o,417495))},mini:{loader:()=>o.e(63510).then(o.bind(o,163510))},micro:{loader:()=>o.e(39277).then(o.bind(o,639277))},large:{loader:()=>o.e(99949).then(o.bind(o,599949))},max:{loader:()=>o.e(99949).then(o.bind(o,599949))}})},677200:(e,t,o)=>{o.d(t,{$:()=>n});const n=(0,o(827282).CZ)("gift",{default:{loader:()=>o.e(63636).then(o.bind(o,563636))},small:{loader:()=>o.e(19806).then(o.bind(o,719806))},mini:{loader:()=>o.e(73393).then(o.bind(o,373393))},large:{loader:()=>o.e(40651).then(o.bind(o,840651))}})},359071:(e,t,o)=>{o.d(t,{s:()=>n});const n=(0,o(827282).CZ)("personCircle",{default:{loader:()=>o.e(68260).then(o.bind(o,68260))},small:{loader:()=>o.e(25958).then(o.bind(o,225958))},mini:{loader:()=>o.e(36734).then(o.bind(o,336734))},large:{loader:()=>o.e(13183).then(o.bind(o,813183))}})},73363:(e,t,o)=>{o.d(t,{M:()=>n});const n=(0,o(827282).CZ)("questionMarkCircled",{default:{loader:()=>o.e(18872).then(o.bind(o,118872))},small:{loader:()=>o.e(95020).then(o.bind(o,295020))},mini:{loader:()=>o.e(51419).then(o.bind(o,651419))},large:{loader:()=>o.e(78727).then(o.bind(o,678727))}})},981219:(e,t,o)=>{o.d(t,{U:()=>n});const n=(0,o(827282).CZ)("xmark",{default:{loader:()=>o.e(71448).then(o.bind(o,471448))},small:{loader:()=>o.e(24056).then(o.bind(o,624056))},mini:{loader:()=>o.e(84500).then(o.bind(o,384500))},large:{loader:()=>o.e(71533).then(o.bind(o,71533))}})},682890:(e,t,o)=>{o.d(t,{M:()=>r});o(667294);var n=o(785893);const r=(0,o(827282).IU)("arrowDown",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M8 1.57715C7.5625 1.57715 7.25488 1.88477 7.25488 2.33594V10.8262L7.30957 12.3027L5.50488 10.2861L3.95312 8.75488C3.82324 8.625 3.63184 8.53613 3.42676 8.53613C3.0166 8.53613 2.70898 8.85059 2.70898 9.26758C2.70898 9.46582 2.78418 9.64355 2.94141 9.80762L7.44629 14.3193C7.59668 14.4697 7.79492 14.5586 8 14.5586C8.20508 14.5586 8.40332 14.4697 8.55371 14.3193L13.0586 9.80762C13.2158 9.64355 13.291 9.46582 13.291 9.26758C13.291 8.85059 12.9902 8.53613 12.5801 8.53613C12.3682 8.53613 12.1836 8.625 12.0469 8.75488L10.4951 10.2861L8.69043 12.2959L8.74512 10.8262V2.33594C8.74512 1.88477 8.44434 1.57715 8 1.57715Z"})})},708325:(e,t,o)=>{o.d(t,{$:()=>r});o(667294);var n=o(785893);const r=(0,o(827282).IU)("chartLine",{viewBox:"0 0 20 20",svg:(0,n.jsx)("path",{d:"M15.625 10.625V8.2l-4.3 4.3-2.972-2.972-3.978 3.978v1.497H17.5v1.875h-15V3.125h1.875v7.728l3.978-3.978 2.972 2.972 2.972-2.972h-2.425V5h5.625v5.625h-1.875.003z"})})},667932:(e,t,o)=>{o.d(t,{KD:()=>s,_P:()=>d,l2:()=>u,x9:()=>c});o(267602),o(653476),o(241792);var n=()=>o(543172),r=()=>o(210349),i=()=>o(639708),a=()=>o(712185);const l={page_main:[{id:"cover",type:"cover"},{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyIds:[]},{id:"properties",type:"properties"},{id:"discussions",type:"discussions"},{id:"editor",type:"editor"}],page_details:[],form_layout_schema:[]},s={page_main:[{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyIds:[]},{id:"editor",type:"editor"}],page_details:[],form_layout_schema:[]};function c(e){return(0,a().Dl)({modulesByArea:l,collectionSchema:null==e?void 0:e.collectionSchema,collectionFormat:null==e?void 0:e.collectionFormat})}function d(){return{page_layout_schema:(0,a().L0)(l.page_main).map((e=>{if(!(0,i().zP)(e))return(0,r().T)(e)?{...e,id:(0,n().ZP)()}:e})).filter((e=>void 0!==e)),page_info_layout_schema:(0,a().L0)(l.page_details).map((e=>{if(!(0,i().zP)(e))return(0,r().T)(e)?{...e,id:(0,n().ZP)()}:e})).filter((e=>void 0!==e)),form_layout_schema:void 0}}function u(e,t){const o=void 0===t?[{id:(0,n().ZP)(),type:"formQuestion",formQuestionId:e}]:[{id:(0,n().ZP)(),type:"formQuestion",formQuestionId:e},{id:(0,n().ZP)(),type:"formQuestion",formQuestionId:t}];return{page_layout_schema:void 0,page_info_layout_schema:void 0,form_layout_schema:[{id:(0,n().ZP)(),type:"cover"},{id:(0,n().ZP)(),type:"formTitle"},...o,{id:(0,n().ZP)(),type:"formSubmit"}]}}},210349:(e,t,o)=>{o.d(t,{T:()=>a,s:()=>i});const n={normalizedTitleWithIcon:!0,properties:!0,property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,views:!0,viewsMain:!0,relationsGroup:!0,formQuestion:!0,placeholder:!0,deleted_property:!1,cover:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,transcript:!1,formTitle:!1,formSubmit:!1},r={properties:!0,property:!0,relationsGroup:!0,formQuestion:!0,placeholder:!0,titleWithIcon:!0,cover:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,transcript:!1,formTitle:!1,formSubmit:!1,views:!0,viewsMain:!0,collectionView:!0,collectionViewV2:!0};function i(e,t){return!("editor"!==e.type||null==t||!t.isLayoutViewModuleEnabled||null!=t&&t.isLayoutViewModuleNextEnabled)||n[e.type]}function a(e){return r[e.type]}},6623:(e,t,o)=>{o.d(t,{Fo:()=>i,m7:()=>a});const n={property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,deleted_property:!1,relationsGroup:!0,formSubmit:!0,formQuestion:!0,formTitle:!0,placeholder:!0,transcript:!0,cover:!1,normalizedTitleWithIcon:!1,properties:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,views:!0,viewsMain:!1},r={property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,deleted_property:!1,formSubmit:!1,formQuestion:!1,formTitle:!1,placeholder:!1,transcript:!1,cover:!1,normalizedTitleWithIcon:!1,properties:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,relationsGroup:!0,editor:!1,views:!1,viewsMain:!1};function i(e){return n[e.type]}function a(e){return r[e.type]}}}]);