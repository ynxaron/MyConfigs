"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[63257],{205951:(e,t,o)=>{o.d(t,{Lm:()=>k,P4:()=>b,ZP:()=>I});var r=o(667294),i=()=>o(142735),n=()=>o(846550),l=()=>o(788860),a=()=>o(707513),s=()=>o(139224),c=()=>o(154186),d=()=>o(1910),p=()=>o(94967),u=()=>o(198829),m=()=>o(347577),y=()=>o(949842),f=()=>o(352230),v=()=>o(565276),_=()=>o(880556),h=()=>o(688049),g=()=>o(26796),w=o(785893);const S=(0,l().vU)({back:{defaultMessage:"Back",id:"collectionsSettingsMenu.back"}}),b=290,k=400;function x(e){let{children:t,title:o,settingsStackLength:r,handleClose:s,handleBackArrowClick:p,hideDesktopHeader:u,hasBackStack:m}=e;const y=(0,i().VK)((()=>g().Z.state.isOpen),[]),f=(0,l().YB)(),v=(0,n().yK)((e=>({hiddenDesktopHeaderDiv:{height:0},nonHiddenDesktopHeaderDiv:{display:"flex",alignItems:y?"top":"center",padding:y?"0px 14px 6px 14px":"14px 16px 6px 16px",height:y?void 0:42},arrowButton:{marginRight:8,marginLeft:-2,height:22},arrowIcon:{width:16,height:16},title:{flexGrow:1,fontWeight:y?a().Ue.medium:a().Ue.semibold,fontSize:y?16:14,lineHeight:y?"24px":void 0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},closeButton:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",background:e.buttonHoveredBackground,width:18,height:18,flexShrink:0},closeButtonHover:{background:e.buttonPressedBackground},closeIcon:{width:14,fill:e.mediumTextColor}})),[y]),b=!y;return(0,w.jsxs)(w.Fragment,{children:[u?(0,w.jsx)("div",{style:v.hiddenDesktopHeaderDiv}):(0,w.jsxs)("div",{style:v.nonHiddenDesktopHeaderDiv,children:[(r>1||m)&&(0,w.jsx)(d().Z,{icon:_().W,style:v.arrowButton,iconStyle:v.arrowIcon,onClick:p,ariaLabel:f.formatMessage(S.back)}),(0,w.jsx)("span",{style:v.title,children:o}),b&&(0,w.jsx)(c().Z,{onClick:s,style:v.closeButton,hoveredStyle:v.closeButtonHover,children:(0,h().D)(v.closeIcon)})]}),t]})}function C(e,t){let{children:n,footer:a,header:c,unconstrainedWidth:_,desktopWidth:h,title:k,collectionSettingsStore:C,fullHeight:I,hideDesktopHeader:M,menuScrollerStyle:P,innerContentWrapperStyle:B,disableScroller:A,handleBackArrowClick:T,hasBackStack:L,handleClose:V}=e;const D=(0,l().YB)(),O=(0,o(219727).Fy)(),R=(0,o(125659).DK)(),H=(0,i().VK)((()=>g().Z.state.isOpen),[]),Z=(0,o(830700).o)({collectionContextStore:R}),E=(0,o(409318).L)(),j=Z&&!E,{currentTab:W,settingsStackLength:U,hideHeader:F}=(0,i().VK)((()=>{const e=C.state;return{currentTab:(0,o(642966).n)(C),settingsStackLength:e.stack.length,hideHeader:e.hideSettingsHeader}}),[C]),z=(0,r.useCallback)((()=>{var e;T?T():s().z$({collectionSettingsStore:C,keepPreviousRef:"form_editor"===(null==R||null===(e=R.collectionViewStore())||void 0===e?void 0:e.getType())})}),[T,C,R]),K=(0,r.useCallback)((e=>{V?V(e):(0,y().ZP)({event:e,context:y().Af.CollectionSettingsClick,callback:()=>{s().E3({collectionSettingsStore:C})}})}),[V,C]),Q=(0,r.useCallback)((e=>{(0,v().jM)(e.target)||(0,v().eO)(e.target)||(0,v().al)(e.target)||g().Z.state.isOpen||K(e)}),[K]),{MenuArrowKeysProvider:G,context:N}=(0,o(288141).ZP)();if(!W)return null;let $;if(O.isMobile)$={disableScroller:A,menuType:f().o.Modal,title:k,left:U>1&&(0,w.jsx)(d().Z,{icon:o(861050).S,onClick:z,ariaLabel:D.formatMessage(S.back)}),right:!E&&(0,w.jsx)(o(470386).DoneMenuText,{}),onClickRight:K,scrollerStyle:{...j&&{maxHeight:`calc(${m().DQ} - ${m().BM})`,height:`calc(${m().DQ} - ${m().BM})`},...P},paddingTop:j?"0px":void 0,innerRef:t};else{const e=_||h?void 0:H?280:b;$={disableScroller:A,menuType:f().o.Popup,minWidth:H?280:b,width:h,maxHeight:I?"100%":"80vh",...e&&{maxWidth:e},onClickOutside:Q,scrollerStyle:{flexGrow:0,...P},header:!F&&(0,w.jsx)(x,{settingsStackLength:U,handleClose:K,handleBackArrowClick:z,hasBackStack:L,hideDesktopHeader:M,title:k,children:c}),paddingTop:F?6:0,footer:a,innerRef:t}}const q=(0,w.jsxs)(w.Fragment,{children:[O.isMobile&&c,n,O.isMobile&&a]});return I?(0,w.jsx)(G,{value:N,children:(0,w.jsx)(p().Z,{debugName:"CollectionSettingsMenu",capture:!0,onUp:N.onKeyDown,onDown:N.onKeyDown,children:(0,w.jsx)(u().Z,{...$,children:q})})}):(0,w.jsx)(o(573357).Z,{capture:!0,allowMobileAutoScroll:!0,allowEsc:!0,render:e=>(0,w.jsx)(G,{value:N,children:(0,w.jsx)(p().Z,{debugName:"CollectionSettingsMenu",capture:!0,onUp:N.onKeyDown,onDown:N.onKeyDown,children:(0,w.jsx)(u().Z,{...$,...e,children:(0,w.jsx)("div",{style:B,children:q})})})})})}const I=(0,r.forwardRef)(C)},830700:(e,t,o)=>{o.d(t,{o:()=>n});var r=()=>o(219727),i=()=>o(142735);function n(e){let{collectionContextStore:t}=e;const o=(0,r().O7)(),n=(0,r().MO)(),l=(0,i().VK)((()=>o.WindowSizeStore.isLandscape()),[o.WindowSizeStore]);return(0,i().VK)((()=>"chart"===(null==t?void 0:t.getViewType())&&n&&!l),[t,n,l])}},347577:(e,t,o)=>{o.d(t,{BM:()=>s,DQ:()=>a,F4:()=>y,GC:()=>f,HV:()=>c,L2:()=>v,S7:()=>_,WY:()=>p,jI:()=>d,nt:()=>h,vw:()=>u});o(821057),o(667294);var r=()=>o(109477),i=()=>o(788860),n=()=>o(482162),l=o(785893);const a="300px",s="44px";let c=function(e){return e[e.ViewSettings=0]="ViewSettings",e[e.FilterBar=1]="FilterBar",e[e.TopbarFilterPopup=2]="TopbarFilterPopup",e[e.TopbarSortPopup=3]="TopbarSortPopup",e}({});function d(e){const{timelineViewTab:t,collectionContextStore:o}=e,i=p({collectionContextStore:o}),n=u({collectionContextStore:o});return"timeline"===i?"timeline"===t?"timeline_properties":n?"timeline_table_properties":void 0:(0,r().oz)(p({collectionContextStore:o}))}function p(e){var t;const{collectionContextStore:o}=e,r=null===(t=o.collectionViewStore())||void 0===t?void 0:t.getType();if(!r)throw new Error("View type was not defined.");return r}function u(e){const{collectionContextStore:t}=e,o=t.normalizedFormatStore.state;return Boolean(o.timeline_show_table)}const m=600;function y(e,t,o){const r=o||0,i=e.settingsStore.state;if(i.open&&!0!==i.hideSettingsPopup)return f(e,t,r)}function f(e,t,o){const r=o||0,i=e.settingsStore.state,l=p({collectionContextStore:e});return i.open&&"form_editor"===l||t||n().default.isSidePeekOpen()||e.isInHomeWidgetStore.state||e.isInlineViewStore.state||r<=m?"popup":"sidebar"}function v(e,t,o){return t?o?(0,l.jsx)(i()._H,{defaultMessage:"Unlock wiki",id:"action.unlockWikiName.name"}):(0,l.jsx)(i()._H,{defaultMessage:"Lock wiki",id:"action.lockWikiName.name"}):e?o?(0,l.jsx)(i()._H,{defaultMessage:"Unlock database",id:"database.viewSettings.mainTab.unlockDatabase.title"}):(0,l.jsx)(i()._H,{defaultMessage:"Lock database",id:"database.viewSettings.mainTab.lockDatabase.title"}):o?(0,l.jsx)(i()._H,{defaultMessage:"Unlock views",id:"database.viewSettings.mainTab.unlockViews.title"}):(0,l.jsx)(i()._H,{defaultMessage:"Lock views",id:"database.viewSettings.mainTab.lockViews.title"})}let _=function(e){return e[e.Source=0]="Source",e[e.Relation=1]="Relation",e[e.Automation=2]="Automation",e}({});const h=6},288141:(e,t,o)=>{o.d(t,{ZP:()=>c,o$:()=>s});o(122556),o(582845),o(250570),o(533019),o(721473),o(788208),o(22624),o(267602),o(653476),o(241792);var r=o(667294),i=()=>o(220427);const n=(0,r.createContext)({menuItemRefs:{current:new Set},activeRef:void 0,setActiveRef:()=>{},onKeyDown:()=>{}});function l(e){const t=new Map(Array.from(e).filter((e=>e.current)).map((e=>[e.current,e])));return{sortedElements:Array.from(t.keys()).sort(i().Z),nodeToRef:t}}function a(){return(0,r.useContext)(n)}function s(){const{menuItemRefs:e,activeRef:t,setActiveRef:o}=a(),i=(0,r.useRef)(null),n=(0,r.useCallback)((r=>{var n,l;function a(){t||o(i),null==r||r.removeEventListener("focus",a)}(i.current&&(null==r||r.removeEventListener("focus",a)),r)&&(0===(null===(l=e.current)||void 0===l?void 0:l.size)&&r.addEventListener("focus",a));i.current=r,null===(n=e.current)||void 0===n||n.add(i)}),[e,i,t,o]);return(0,r.useEffect)((()=>{const t=e.current;return()=>{null==t||t.delete(i)}}),[e]),(0,r.useEffect)((()=>{const r=e.current;return()=>{if(null===(null==t?void 0:t.current)&&t===i&&r){const{sortedElements:e,nodeToRef:t}=l(r),i=e[0];i&&t.has(i)&&o(t.get(i))}}}),[t,o,e]),[n,i]}n.displayName="MenuContext";const c=function(){let{direction:e="vertical"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,r.useRef)(new Set),[o,i]=(0,r.useState)(void 0),a=(0,r.useCallback)((r=>{let{code:n}=r;if("vertical"===e&&!["ArrowUp","ArrowDown"].includes(n)||"horizontal"===e&&!["ArrowLeft","ArrowRight"].includes(n))return;const{nodeToRef:a,sortedElements:s}=l(t.current),c=s.findIndex((e=>e===(null==o?void 0:o.current)));let d;if("vertical"===e&&"ArrowDown"===n||"horizontal"===e&&"ArrowRight"===n?d=c+1>=t.current.size?0:c+1:("vertical"===e&&"ArrowUp"===n||"horizontal"===e&&"ArrowLeft"===n)&&(d=c-1<0?t.current.size-1:c-1),void 0!==d){const e=s[d];e&&(i(a.get(e)),e.focus())}}),[o,e]);return{MenuArrowKeysProvider:n.Provider,context:{menuItemRefs:t,activeRef:o,setActiveRef:i,onKeyDown:a}}}},880556:(e,t,o)=>{o.d(t,{W:()=>i});o(667294);var r=o(785893);const i=(0,o(827282).IU)("arrowLeftThick",{viewBox:"0 0 16 16",svg:(0,r.jsx)("path",{d:"M1.54004 8.05762C1.54004 8.2627 1.62891 8.46094 1.78613 8.61133L6.29102 13.1162C6.45508 13.2734 6.63965 13.3486 6.82422 13.3486C7.25488 13.3486 7.5625 13.041 7.5625 12.6309C7.5625 12.4189 7.48047 12.2344 7.34375 12.1045L5.8125 10.5527L3.78906 8.70703L5.38867 8.80273H13.7012C14.1455 8.80273 14.46 8.49512 14.46 8.05762C14.46 7.61328 14.1455 7.3125 13.7012 7.3125H5.38867L3.7959 7.4082L5.8125 5.5625L7.34375 4.01074C7.48047 3.87402 7.5625 3.68945 7.5625 3.47754C7.5625 3.06738 7.25488 2.7666 6.82422 2.7666C6.63965 2.7666 6.45508 2.83496 6.27734 3.00586L1.78613 7.50391C1.62891 7.64746 1.54004 7.85254 1.54004 8.05762Z"})})},861050:(e,t,o)=>{o.d(t,{S:()=>i});o(667294);var r=o(785893);const i=(0,o(827282).IU)("historyBack",{viewBox:"0 0 14 14",svg:(0,r.jsx)("polygon",{points:"2.85893 7.74676 8.05608 12.9439 7 14 0.528042 7.52804 0 7 0.528042 6.47196 7 0 8.05608 1.05608 2.85893 6.25324 14 6.25324 14 7.74676"})})},913011:(e,t,o)=>{o.d(t,{H:()=>u});o(821057);var r=()=>o(792197),i=()=>o(308240),n=()=>o(215134),l=()=>o(6623),a=()=>o(639708),s=()=>o(269299),c=()=>o(590434),d=()=>o(655260),p=()=>o(772669);function u(e){let{environment:t,transaction:o,layoutStore:u,position:m,sessionId:y,beforePerformDeleteModule:f}=e;const v=u.getModules();if(!v)throw new Error("[deleteModuleAtPosition] modules by area not found for layout store");const _=(0,n().h7)(v,(e=>e.id===m.moduleId));if(!_)throw new Error("[deleteModuleAtPosition] module to delete not found");const{module:h,position:g}=_;if(!(0,l().Fo)(h))throw new Error("[deleteModuleAtPosition] module to delete is not removeable");var w;(s().createAndCommitOrAppend({environment:t,transaction:o,canUndo:!0,perform(e){!function(e){const{transaction:t,layoutStore:o,moduleLocation:n,moduleToDelete:l,beforePerformDeleteModule:d}=e;d&&d(t);if((0,a().Fc)(l)){const e=(0,c().m)(o,l);e&&(0,p().deleteViewsModuleDependencies)({layoutStore:o,module:e,transaction:t})}if("form_conditional_modules"===n.area){const e=r().CI.removeChildModule({pointer:o.pointer,modulesByArea:o.getModules(),module:l});for(const r of e)s().applyOperation({transaction:t,store:o,operation:r})}else{const e="views_main_tab_modules"===n.area?{area:n.area,viewId:n.viewId}:{area:i().mt[n.area]};s().applyOperation({transaction:t,store:o,operation:r().CI.deleteModuleInArea({...e,pointer:o.pointer,moduleId:l.id})})}}({environment:t,transaction:e,layoutStore:u,moduleLocation:g,moduleToDelete:h,beforePerformDeleteModule:f})},userAction:"pageLayout.deleteActions.deleteModuleAtPosition"}),y)&&d().DZ({environment:t,module:h,sessionId:y,collectionId:null===(w=u.getCollectionModel())||void 0===w?void 0:w.id,layoutId:u.id,context:(0,i().AR)(m.area),area:m.area})}},142730:(e,t,o)=>{o.d(t,{IR:()=>P,L0:()=>A,MF:()=>B,gm:()=>T,iQ:()=>L,m2:()=>C});o(821057),o(492176),o(7961),o(267602),o(653476);var r=()=>o(956057),i=()=>o(530980),n=()=>o(308240),l=()=>o(215134),a=()=>o(667932),s=()=>o(137785),c=()=>o(639708),d=()=>o(483791),p=()=>o(593515),u=()=>o(82937),m=()=>o(497065),y=()=>o(269299),f=()=>o(887430),v=()=>o(487270),_=()=>o(793935),h=()=>o(876822),g=()=>o(482162),w=()=>o(826955),S=()=>o(26796),b=()=>o(913011),k=()=>o(655260),x=()=>o(356117);function C(e){let{environment:t,transaction:o,collectionStore:r,userId:n,modules:l}=e;const s=(0,v().Ii)({environment:t,spaceId:r.getSpaceId(),table:d().Bh}),c=w().t1.createChildStore(r,s),{model:p,operations:[u]}=i().rp4.create({pointer:s,parent:r.pointer,createdByUserId:n,modules:l??(0,a()._P)()});y().applyOperation({transaction:o,store:c,operation:u});const m=i().kj1.setLayout(r.pointer,s);return y().applyOperation({transaction:o,store:r,operation:m}),{model:p,store:c}}function I(e){let t;return e?t=e:g().default.state.open&&g().default.state.targetStore?t=g().default.state.targetStore:h().default.state.mainEditorCurrentBlockStore&&(t=h().default.state.mainEditorCurrentBlockStore),t}function M(e){_().setUpdateExpand({environment:e,isExpanded:!1,from:"keyboard_default",saveDetailsSidebarPreference:!1}),u().xv({environment:e,from:"open_page_layout_editor",preventAnimation:!0})}function P(e){var t,o;let{environment:i,blockStore:n,collectionStore:l,collectionViewStore:a,from:s}=e;const c=function(e){var t;let o=I(e);if(null!==(t=o)&&void 0!==t&&t.isCollectionView()){const e=(0,f().fm)(o);o=e?e.resultsInViewOrder(1).at(0):void 0}return o}(n),d=window.location.href;M(i);const p=r().Il();S().Z.setState({isOpen:!0,mode:"layout-editor",collectionStore:l,pageStore:c,siteRootBlockStore:void 0,sessionId:p,initialSelectedModuleId:null==c||null===(t=c.getAssociatedCollectionStore())||void 0===t||null===(t=t.getLayoutStore())||void 0===t||null===(t=t.getModel())||void 0===t||null===(t=t.firstRawModuleOfType("titleWithIcon"))||void 0===t?void 0:t.id,urlOnOpen:d}),(0,k().Rt)({environment:i,from:s,context:"layout",sessionId:p,collectionId:null==l?void 0:l.id,existingLayoutId:null==l||null===(o=l.getLayoutStore())||void 0===o?void 0:o.id,collectionViewId:null==a?void 0:a.id})}function B(e){let{environment:t,store:o,siteRootBlockStore:i,from:n}=e;const l=I(o);M(t);const a=r().Il();S().Z.setState({isOpen:!0,mode:"site-settings-editor",collectionStore:void 0,pageStore:l,siteRootBlockStore:i,sessionId:a}),(0,k().Rt)({environment:t,context:"site",from:n,sessionId:a,collectionId:void 0,existingLayoutId:void 0})}function A(e){S().Z.getState().isOpen&&T(e)}function T(e){let{environment:t}=e;const o=S().Z.getState();if(!o.isOpen)throw new Error("Cannot close page layout editor. Page layout editor is not open.");"layout-editor"===o.mode&&o.urlOnOpen&&window.location.href!==o.urlOnOpen&&m().op(t),S().Z.setState({isOpen:!1})}function L(e){var t;let{environment:o,transaction:r,property:i,layoutStore:a}=e;const d=S().Z.getSessionId(),u=null===(t=a.getModel())||void 0===t?void 0:t.getRawModules(),m=a.getCollectionModel();if(!u||!m)return;const y=w().NW.createChildStore(a,m.pointer),f=(0,l()._i)(u,(e=>"titleWithIcon"===e.type));if(f&&(0,c().p9)(f.module)){var v;const{module:e,position:t}=f,l={...e,type:"titleWithIcon",propertyIds:null===(v=e.propertyIds)||void 0===v?void 0:v.filter((e=>e!==i))};(0,x().Uq)({environment:o,sessionId:d,transaction:r,layoutStore:a,position:{area:(0,n().Gc)(t.area),moduleId:e.id},updatedModule:(0,s().V)(l)})}const _=(0,l().MI)(u,(e=>"property"===e.type&&e.propertyId===i));for(const{module:l,position:s}of _){const e=l.id,t=(0,n().Gc)(s.area);(0,b().H)({environment:o,sessionId:d,transaction:r,layoutStore:a,position:{area:t,moduleId:e}})}const h=m.getFormat().collection_page_sections;if(h){const e=h.filter((e=>e.section!==i));p().Do({store:y,pageSectionFormats:e,transaction:r,environment:o})}}},356117:(e,t,o)=>{o.d(t,{Uq:()=>m,Wb:()=>f});o(821057),o(267602),o(470928),o(30005);var r=()=>o(109477),i=()=>o(530980),n=()=>o(308240),l=()=>o(712185),a=()=>o(215134),s=()=>o(667932),c=()=>o(639708),d=()=>o(827370),p=()=>o(421654),u=()=>o(269299);function m(e){let{environment:t,transaction:o,layoutStore:r,position:s,updatedModule:c,sessionId:d}=e;const p=n().mt[s.area],m=r.getRawModules();if("form_conditional_modules"===p){const e=null==m?void 0:m[p];if(!(null==e?void 0:e[s.moduleId]))throw new Error("Unable to find module being updated.");return void u().createAndCommitOrAppend({environment:t,transaction:o,canUndo:!0,perform(e){u().applyOperation({transaction:e,store:r,operation:i().CIp.updateNestedModule(r.pointer,p,(0,l().cm)(c))})},userAction:"BuilderLayoutModules.updateModule"})}if(!m)throw new Error("Unable to find modules");const y=(0,a().mT)(m,(e=>e.id===s.moduleId));if(!y||y.area!==p)throw new Error("Unable to find module being updated.");u().createAndCommitOrAppend({environment:t,transaction:o,canUndo:!0,perform(e){u().applyOperation({transaction:e,store:r,operation:i().CIp.updateModuleInArea({pointer:r.pointer,module:(0,l().cm)(c),..."views_main_tab_modules"===y.area?{area:y.area,viewId:y.viewId}:{area:y.area}})})},userAction:"BuilderLayoutModules.updateModule"})}function y(e){var t,o,r;let{collectionStore:i,layoutStore:n}=e;const l=new Map,a=i.getFormat(),s=[...null===(t=n.getModules())||void 0===t?void 0:t.page_main,...null===(o=n.getModules())||void 0===o?void 0:o.page_details],d=new Map;null===(r=a.property_visibility)||void 0===r||r.forEach((e=>{d.set(e.property,e)})),s.forEach((e=>{if(!(0,c().LP)(e))return(0,c().f)(e)?(l.set(e.propertyId,{property:e.propertyId}),void d.set(e.propertyId,{property:e.propertyId,visibility:"show"})):void 0;e.propertyIds.forEach((e=>{l.set(e,{property:e}),d.set(e,{property:e,visibility:"show"})}))}));const p=i.getNormalizedPropertyGroups();var u;p?p.forEach((e=>{var t;null===(t=e.propertyIds)||void 0===t||t.forEach((e=>{l.has(e)||l.set(e,{property:e})}))})):null===(u=a.collection_page_properties)||void 0===u||u.forEach((e=>{l.has(e.property)||l.set(e.property,e)}));return{propertiesFormat:Array.from(l.values()),propertyVisibility:Array.from(d.values())}}function f(e){let{environment:t,transaction:o,collectionStore:n,layoutStore:l}=e;const{propertiesFormat:a,propertyVisibility:m}=y({collectionStore:n,layoutStore:l});u().createAndCommitOrAppend({environment:t,transaction:o,canUndo:!0,perform(e){const t=l.getBlockChildrenPointers(),o=l.firstModuleOfType("viewsMain");o&&(0,c().aJ)(o)&&t.find((e=>d().dr.isEqual(e,o.collection_view_block_pointer)))&&u().applyOperation({transaction:e,store:l,operation:i().CIp.removeBlockChild(l.pointer,o.collection_view_block_pointer.id)}),u().applyOperation({transaction:e,store:l,operation:i().CIp.setModulesByAreas(l.pointer,(0,s()._P)())}),u().applyOperation({transaction:e,store:l,operation:i().CIp.deleteFormat(l.pointer)});const y=n.getFormat(),{page_section_visibility:f}=y;p().FH({stores:[n],update:{property_groups:void 0,collection_page_properties:a,property_visibility:m,...f?{page_section_visibility:r().dN}:void 0},transaction:e})},userAction:"BuilderLayoutModules.resetLayoutToDefault"})}},772669:(e,t,o)=>{o.r(t),o.d(t,{deleteViewsModuleDependencies:()=>n});var r=()=>o(349220),i=()=>o(332542);function n(e){const{layoutStore:t,module:o,transaction:n}=e,l=(0,r().TO)(o.getCollectionViewBlockStore());i().hr({childStore:l,parentStore:t,transaction:n})}},590434:(e,t,o)=>{o.d(t,{m:()=>n});var r=()=>o(826955);class i{constructor(e,t){this.parentStore=e,this.impl=t}getType(){return this.impl.type}getCollectionViewBlockStoreWithParent(e){return r().G.createChildStore(e,this.impl.collection_view_block_pointer)}getCollectionViewBlockStore(){return this.getCollectionViewBlockStoreWithParent(this.parentStore)}getInitialCollectionViewPointer(){const e=this.getCollectionViewBlockStoreWithParent(this.parentStore).getCollectionViewPointers();if(e.length>0)return e[0]}getId(){return this.impl.id}isUnlistedView(){return!1}createCollectionViewContext(){const e=this.getCollectionViewBlockStoreWithParent(this.parentStore),t=this.getInitialCollectionViewPointer();if(!t)return;const o=r().Xr.createChildStore(e,t);return{type:"collectionView",collectionViewBlockStore:e,collectionStore:o.getCollectionStore(),collectionViewStore:o,pageVisitSourceOverride:void 0}}}function n(e,t){if("views"===t.type||"viewsMain"===t.type)return new i(e,t)}},667932:(e,t,o)=>{o.d(t,{KD:()=>s,_P:()=>d,l2:()=>p,x9:()=>c});o(267602),o(653476),o(241792);var r=()=>o(543172),i=()=>o(210349),n=()=>o(639708),l=()=>o(712185);const a={page_main:[{id:"cover",type:"cover"},{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyIds:[]},{id:"properties",type:"properties"},{id:"discussions",type:"discussions"},{id:"editor",type:"editor"}],page_details:[],form_layout_schema:[]},s={page_main:[{id:"title_with_icon",type:"normalizedTitleWithIcon",propertyIds:[]},{id:"editor",type:"editor"}],page_details:[],form_layout_schema:[]};function c(e){return(0,l().Dl)({modulesByArea:a,collectionSchema:null==e?void 0:e.collectionSchema,collectionFormat:null==e?void 0:e.collectionFormat})}function d(){return{page_layout_schema:(0,l().L0)(a.page_main).map((e=>{if(!(0,n().zP)(e))return(0,i().T)(e)?{...e,id:(0,r().ZP)()}:e})).filter((e=>void 0!==e)),page_info_layout_schema:(0,l().L0)(a.page_details).map((e=>{if(!(0,n().zP)(e))return(0,i().T)(e)?{...e,id:(0,r().ZP)()}:e})).filter((e=>void 0!==e)),form_layout_schema:void 0}}function p(e,t){const o=void 0===t?[{id:(0,r().ZP)(),type:"formQuestion",formQuestionId:e}]:[{id:(0,r().ZP)(),type:"formQuestion",formQuestionId:e},{id:(0,r().ZP)(),type:"formQuestion",formQuestionId:t}];return{page_layout_schema:void 0,page_info_layout_schema:void 0,form_layout_schema:[{id:(0,r().ZP)(),type:"cover"},{id:(0,r().ZP)(),type:"formTitle"},...o,{id:(0,r().ZP)(),type:"formSubmit"}]}}},210349:(e,t,o)=>{o.d(t,{T:()=>l,s:()=>n});const r={normalizedTitleWithIcon:!0,properties:!0,property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,views:!0,viewsMain:!0,relationsGroup:!0,formQuestion:!0,placeholder:!0,deleted_property:!1,cover:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,transcript:!1,formTitle:!1,formSubmit:!1},i={properties:!0,property:!0,relationsGroup:!0,formQuestion:!0,placeholder:!0,titleWithIcon:!0,cover:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,transcript:!1,formTitle:!1,formSubmit:!1,views:!0,viewsMain:!0,collectionView:!0,collectionViewV2:!0};function n(e,t){return!("editor"!==e.type||null==t||!t.isLayoutViewModuleEnabled||null!=t&&t.isLayoutViewModuleNextEnabled)||r[e.type]}function l(e){return i[e.type]}},6623:(e,t,o)=>{o.d(t,{Fo:()=>n,m7:()=>l});const r={property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,deleted_property:!1,relationsGroup:!0,formSubmit:!0,formQuestion:!0,formTitle:!0,placeholder:!0,transcript:!0,cover:!1,normalizedTitleWithIcon:!1,properties:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,views:!0,viewsMain:!1},i={property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,deleted_property:!1,formSubmit:!1,formQuestion:!1,formTitle:!1,placeholder:!1,transcript:!1,cover:!1,normalizedTitleWithIcon:!1,properties:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,relationsGroup:!0,editor:!1,views:!1,viewsMain:!1};function n(e){return r[e.type]}function l(e){return i[e.type]}}}]);