"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[44003],{138196:(e,t,o)=>{o.d(t,{Z:()=>a});o(267602),o(653476);var n=()=>o(670655),i=()=>o(191586),l=()=>o(852465);function a(e){var t;const{store:o,pageViewBlockStore:a,environment:r}=e,s=l().vV(o,{recursivelyLoadAllDiscussions:!1}).sort(((e,t)=>t.getReactions().length-e.getReactions().length)),d=s.length>0,c=0===s.length,u=0===s.filter((e=>e.getComments().length>0)).length,p="PageDetailsStore"in r&&r.PageDetailsStore.getToggleState({environment:r,type:"discussion",id:o.id}),m={type:"hidden"},g=o.getAssociatedCollectionStore()??o,y="section_hide"===(0,n().vC)(null===(t=g.getFormat())||void 0===t?void 0:t.page_section_visibility);if(!(null==a?void 0:a.state.forceDiscussionOpen)&&(!o.isInsideCollection()||!c)&&(c||d&&(!1===p||void 0===p&&y)))return m;if(y)return m;const h=o.pathIsDead(),f=r.currentUser.isLoggedIn();if(c&&h)return m;const v=f&&o.canComment()&&u&&!(0,i().a_)(o)&&(!(0,i().Wt)(o)||(0,i().bm)(o));return!v&&c?m:{type:"visible",showDiscussionInput:v,unresolvedDiscussionStores:s}}},430836:(e,t,o)=>{o.r(t),o.d(t,{TopbarLayoutInfoButton:()=>T});var n=o(667294),i=()=>o(219727),l=()=>o(142735),a=()=>o(788860),r=()=>o(562219),s=()=>o(164079),d=()=>o(340398),c=()=>o(528770),u=()=>o(274707),p=()=>o(946650),m=()=>o(579095),g=()=>o(896641),y=()=>o(521635),h=()=>o(589525),f=()=>o(590972),v=()=>o(998901),b=()=>o(311562),S=()=>o(482162),C=()=>o(448419),_=()=>o(1910),B=()=>o(654133),w=()=>o(596986),x=o(785893);const k=(0,a().vU)({showInfoToolTip:{defaultMessage:"View details",id:"topbar.infoButton.tooltip"},hideInfoToolTip:{defaultMessage:"Close page info",id:"topbar.infoButton.tooltipToHide"},buttonAriaLabel:{defaultMessage:"Page info",id:"topbar.infoButton.text"},closeButtonAriaLabel:{id:"TopbarLayoutInfoButton.educationPopup.closeButton.ariaLabel",defaultMessage:"Close tooltip"}});function P(e){let{layoutStoreId:t,canShowEducationCallout:o,inPeek:i,onClick:r,dismissEducationCallout:s,...c}=e;const p=(0,a().YB)(),m=(0,w().xN)(),g=(0,l().VK)((()=>y().Z.getPanelState(i?"peek":"mainPage").isOpen),[i]),h=n.useCallback((e=>{let{children:t}=e;return o?(0,x.jsx)(u().yP,{onDismiss:s,children:t}):(0,x.jsx)(n.Fragment,{children:t})}),[o,s]);return(0,x.jsx)("div",{style:m.iconButton,children:(0,x.jsx)(h,{children:(0,x.jsx)(_().Z,{style:{width:m.iconButton.width,height:m.iconButton.height},icon:d().q,iconStyle:m.icon,ariaLabel:p.formatMessage(k.buttonAriaLabel),focused:g,onClick:e=>{null==r||r(e),o&&s()},...c})})})}function T(e){const{blockStore:t,buttonPopupStore:o,pageViewBlockContext:d}=e,u=(0,i().O7)(),_=(0,i().Fy)(),w=(0,n.useMemo)((()=>(0,x.jsx)("div",{style:{textAlign:"center"},children:(0,x.jsx)(a()._H,{...k.showInfoToolTip})})),[]),T=(0,n.useMemo)((()=>(0,x.jsx)("div",{style:{textAlign:"center"},children:(0,x.jsx)(a()._H,{...k.hideInfoToolTip})})),[]),V=(0,l().VK)((()=>{if(S().default.state.open)return S().default.state.targetStore}),[]),M=(0,l().VK)((()=>t.getAssociatedCollectionStore()),[t]),I=(0,l().VK)((()=>null==M?void 0:M.getLayoutStore()),[M]),j=(0,g().S)({pageStore:t,pageViewBlockStore:void 0,collectionStore:M}).page_details,D=V===t,K=(0,l().VK)((()=>y().Z.getPanelState(D?"peek":"mainPage").displayStyle),[D]),L=(0,h().Yj)({tab:f().gY.Info}),{shouldShowTooltip:Z,dismissTooltip:A}=(0,p().l)(),N=(0,l().Kw)(S().default.isSidePeekOpeningStore),E=D?"peek":"mainPage",{toggleDetailsPanel:F,canShowButton:H}=(0,m().g)({collectionStore:M,from:"topbar",forceShowButtonIfNoProperties:!0,pageViewBlockContext:d}),W=Z&&!N,z=(0,l().VK)((()=>y().Z.getPanelState(D?"peek":"mainPage").isOpen),[D]);if(!H||!I)return null;if(!D){const e=L?T:w;return(0,x.jsx)(B().Z,{placement:v().Placement.Bottom,disableTooltip:W,renderTooltip:()=>e,render:e=>(0,x.jsx)(P,{...e,layoutStoreId:I.id,inPeek:D,canShowEducationCallout:W,dismissEducationCallout:A,onClick:F})})}if("static_sidebar"===K){const e=z?T:w;return(0,x.jsx)(B().Z,{placement:v().Placement.Bottom,disableTooltip:W,renderTooltip:()=>e,render:e=>(0,x.jsx)(P,{...e,layoutStoreId:I.id,inPeek:D,canShowEducationCallout:W,dismissEducationCallout:A,onClick:F})})}return(0,x.jsx)(C().ZP,{popupType:_.isMobile?C().Z4.SlideUp:C().Z4.Popup,onClose:()=>{(0,c().n)({environment:u,layoutStore:I,from:"topbar",panelLocation:E})},buttonPopupStore:o,renderOrigin:e=>(0,x.jsx)(B().Z,{placement:v().Placement.Bottom,disableTooltip:W,renderTooltip:()=>w,render:t=>(0,x.jsx)(P,{...(0,s().Z)(e,t),canShowEducationCallout:W,dismissEducationCallout:A,layoutStoreId:I.id,inPeek:D,onClick:F})}),originGap:8,render:()=>(0,x.jsx)(r().J,{modules:j,store:t,context:D?b().S.PeekView:b().S.Frame,disabled:!1,shownAs:"popup"}),style:{width:380,overflow:"hidden"}})}},562219:(e,t,o)=>{o.d(t,{J:()=>l});var n=()=>o(677559);const i=new(n().Ss)("UpdateSidebarTabInfo",(async()=>await o.e(60895).then(o.bind(o,931656)))),l=(0,n().kF)(i,(e=>e.UpdateSidebarTabInfo))},340398:(e,t,o)=>{o.d(t,{q:()=>i});o(667294);var n=o(785893);const i=(0,o(827282).IU)("sidebarRight",{viewBox:"0 0 20 20",svg:(0,n.jsx)("path",{d:"M3.30469 17.1859C2.46094 17.1859 1.82292 16.9698 1.39062 16.5375C0.958333 16.1104 0.742188 15.4802 0.742188 14.6469V5.13906C0.742188 4.30052 0.958333 3.66771 1.39062 3.24062C1.82292 2.81354 2.46094 2.6 3.30469 2.6H16.6797C17.5286 2.6 18.1693 2.81354 18.6016 3.24062C19.0339 3.66771 19.25 4.30052 19.25 5.13906V14.6469C19.25 15.4802 19.0339 16.1104 18.6016 16.5375C18.1693 16.9698 17.5286 17.1859 16.6797 17.1859H3.30469ZM3.39844 15.6469H16.5938C16.9531 15.6469 17.2292 15.5531 17.4219 15.3656C17.6146 15.1781 17.7109 14.8943 17.7109 14.5141V5.26406C17.7109 4.88906 17.6146 4.60781 17.4219 4.42031C17.2292 4.23281 16.9531 4.13906 16.5938 4.13906H3.39844C3.03385 4.13906 2.75521 4.23281 2.5625 4.42031C2.375 4.60781 2.28125 4.88906 2.28125 5.26406V14.5141C2.28125 14.8943 2.375 15.1781 2.5625 15.3656C2.75521 15.5531 3.03385 15.6469 3.39844 15.6469ZM11.5859 15.8969V3.87344H13.0469V15.8969H11.5859ZM14.5781 6.99844C14.4375 6.99844 14.3151 6.94635 14.2109 6.84219C14.112 6.73802 14.0625 6.62344 14.0625 6.49844C14.0625 6.36302 14.112 6.24583 14.2109 6.14687C14.3151 6.04792 14.4375 5.99844 14.5781 5.99844H16.1797C16.3151 5.99844 16.4323 6.04792 16.5312 6.14687C16.6354 6.24583 16.6875 6.36302 16.6875 6.49844C16.6875 6.62344 16.6354 6.73802 16.5312 6.84219C16.4323 6.94635 16.3151 6.99844 16.1797 6.99844H14.5781ZM14.5781 9.09219C14.4375 9.09219 14.3151 9.04271 14.2109 8.94375C14.112 8.83958 14.0625 8.71979 14.0625 8.58437C14.0625 8.45417 14.112 8.33958 14.2109 8.24062C14.3151 8.14167 14.4375 8.09219 14.5781 8.09219H16.1797C16.3151 8.09219 16.4323 8.14167 16.5312 8.24062C16.6354 8.33958 16.6875 8.45417 16.6875 8.58437C16.6875 8.71979 16.6354 8.83958 16.5312 8.94375C16.4323 9.04271 16.3151 9.09219 16.1797 9.09219H14.5781ZM14.5781 11.1781C14.4375 11.1781 14.3151 11.1286 14.2109 11.0297C14.112 10.9307 14.0625 10.8161 14.0625 10.6859C14.0625 10.5505 14.112 10.4333 14.2109 10.3344C14.3151 10.2354 14.4375 10.1859 14.5781 10.1859H16.1797C16.3151 10.1859 16.4323 10.2354 16.5312 10.3344C16.6354 10.4333 16.6875 10.5505 16.6875 10.6859C16.6875 10.8161 16.6354 10.9307 16.5312 11.0297C16.4323 11.1286 16.3151 11.1781 16.1797 11.1781H14.5781Z"})})},857719:(e,t,o)=>{o.d(t,{J7:()=>x,Nx:()=>S,Pb:()=>b,Vc:()=>p,Vw:()=>_,Xg:()=>u,a3:()=>k,bj:()=>C,uI:()=>P,us:()=>f,w3:()=>m});o(241792);var n=o.n(o(294184)),i=o(667294),l=()=>o(846550),a=()=>o(696459),r=()=>o(802911),s=()=>o(78078),d=()=>o(521635),c=o(785893);const u=i.forwardRef((function(e,t){const{children:i,type:l,gap:a,withBottomPadding:r,style:s,onMouseDown:u,onClick:p,onDoubleClick:m,onContextMenu:g}=e,y=(0,o(309797).n1)(l),h=(0,o(142735).VK)((()=>d().Z.getPanelState("peek").isOpen&&"static_sidebar"===d().Z.getPanelState("peek").displayStyle),[]);return(0,c.jsx)("div",{className:n()("layout",{"layout-wide":"wide"===l,"layout-wide-right-margin-expanded":"wide-right-margin-expanded"===l,"layout-side-peek":"side-peek"===l,"layout-center-peek":"center-peek"===l&&!h,"layout-center-peek-with-layout-panel":"center-peek"===l&&h,"layout-home":"home"===l,"layout-home-phone":"home-phone"===l,"layout-home-redesign-desktop":"home-redesign-desktop"===l,"layout-form":"form"===l,"layout-form-viewer":"form-viewer"===l,"layout-form-viewer-embed":"form-viewer-embed"===l,"layout-phone":"phone"===l,"layout-tablet":"tablet"===l,"layout-template-preview":"template-preview"===l,"layout-chat":"chat"===l,"layout-layout-editor":"layout-editor"===l,"layout-layout-editor-wide":"layout-editor-wide"===l,"layout-layout-editor-narrow":"layout-editor-narrow"===l,"layout-marketplace":"marketplace"===l,"layout-marketplace-mobile":"marketplace-mobile"===l,"layout-team-home":"team-home"===l,"layout-team-home-mobile":"team-home-mobile"===l,"layout-create-post":"create-post"===l}),style:{paddingBottom:r?y:void 0,gap:a,...s},ref:t,onMouseDown:u,onClick:p,onDoubleClick:m,onContextMenu:g,children:i})})),p="layout-content",m="layout-full",g="layout-margin-left",y="layout-margin-right",h="layout-nested-grid",f="hide-scrollbar",v="layout-column",b=i.forwardRef((function(e,t){return(0,c.jsx)("div",{className:n()(p,e.className),style:e.style,ref:t,children:e.children})}));function S(e){return(0,c.jsx)("div",{className:m,style:e.style,children:e.children})}function C(e){return(0,c.jsx)("div",{className:g,style:{...e.style,pointerEvents:"none"},children:e.children})}function _(e){return(0,c.jsx)("div",{className:y,style:{...e.style,pointerEvents:"none"},children:e.children})}const B=(0,i.forwardRef)((function(e,t){return(0,c.jsx)("div",{className:n()(h,e.className),onClick:e.onClick,style:e.style,role:e.role,id:e.id,"aria-labelledby":e["aria-labelledby"],ref:t,children:e.children})}));function w(e){return"left-aligned"===e?"flex-start":"centered"===e?"center":"right-tabs"===e?"flex-end":void(0,a().t1)(e)}function x(e){const{items:t,style:o,index:n,setIndex:a,title:d}=e,u=(0,i.useRef)([]),p="centered"===o||"right-tabs"===o,m=(0,l().yK)((e=>({icon:{width:16,height:16,fill:"currentColor"},label:{fontSize:14,fontWeight:600},header:"right-tabs"===o?{display:"flex",justifyContent:"space-between",alignItems:"baseline"}:{},tablist:"right-tabs"===o?{display:"flex"}:{},tab:p?{cursor:"pointer",border:"none",padding:"6px 12px",borderRadius:20,color:e.text.secondary,background:"none"}:{cursor:"pointer",border:"none",borderBottom:"2px solid",borderColor:"transparent",padding:"6px 8px 12px",color:e.text.secondary,background:"none"},tabSelected:p?{color:e.text.primary,background:e.tint.regular}:{color:e.text.primary,borderColor:e.regularTextColor}})),[p,o]),g=(0,i.useId)(),y=(0,i.useCallback)((e=>`${g}-tab-${e}`),[g]),h=(0,i.useCallback)((e=>`${g}-tabpanel-${e}`),[g]),f=(0,i.useCallback)((e=>{let o;var i;("ArrowLeft"===e.key?(e.preventDefault(),o=(n+t.length-1)%t.length):"ArrowRight"===e.key&&(e.preventDefault(),o=(n+1)%t.length),void 0!==o)&&(a(o),null===(i=u.current[o])||void 0===i||i.focus())}),[n,a,t.length]);return(0,c.jsx)(r().Z,{name:"PageLayoutTabs",children:(0,c.jsxs)(B,{children:[(0,c.jsx)(b,{children:(0,c.jsxs)("div",{style:m.header,children:["right-tabs"===o&&d,(0,c.jsx)("div",{role:"tablist",style:m.tablist,children:(0,c.jsx)(s().X2,{justifyContent:w(o),children:t.map(((e,t)=>{var o;return(0,c.jsx)("button",{ref:e=>{e&&(u.current[t]=e)},id:y(t),role:"tab","aria-controls":h(t),"aria-selected":t===n,tabIndex:t===n?void 0:-1,onKeyDown:f,style:{...m.tab,...t===n&&m.tabSelected},onClick:e=>{e.stopPropagation(),a(t)},children:(0,c.jsxs)(s().X2,{gap:4,alignItems:"center",children:[null===(o=e.icon)||void 0===o?void 0:o.call(e,m.icon),e.label&&(0,c.jsx)("div",{style:m.label,children:e.label})]})},e.key)}))})})]})}),(0,c.jsx)(B,{id:h(n),role:"tabpanel","aria-labelledby":y(n),children:t[n]?t[n].children:null})]})})}function k(e){return(0,c.jsx)("div",{className:n()(v,e.className),style:{"--min-column-width":e.minWidth?`${e.minWidth}px`:"100%",...e.style},children:e.children})}function P(e){return(0,c.jsxs)(k,{minWidth:e.minWidth,className:e.className,style:e.style,children:[e.left,e.right]})}},946650:(e,t,o)=>{o.d(t,{l:()=>u,w:()=>p});var n=o(667294),i=()=>o(219727),l=()=>o(142735),a=()=>o(269299),r=()=>o(348141),s=()=>o(718959),d=()=>o(876822);function c(e){let{userSettingsDismissibleKey:t}=e;const o=(0,i().O7)(),c=(0,l().VK)((()=>d().default.state.currentUserSettingsStore),[]),u=(0,l().VK)((()=>{const e=null==c?void 0:c.getSettings();return!e||Boolean(e[t])}),[t,c]),p=(0,l().VK)((()=>{const e=(0,s().B7)(o),t=null==c?void 0:c.getSettings();return Boolean(e)&&Boolean(t)&&!o.device.isMobile&&!u}),[o,c,u]),m=n.useCallback((()=>{c&&!u&&p&&a().createAndCommit({environment:o,userAction:"LayoutInfoPanelButtonEducationTooltip.dismiss",canUndo:!1,perform:e=>{r().d2({userSettingsStore:c,transaction:e,data:{[t]:Date.now()}})}})}),[o,p,t,c,u]);return{shouldShowTooltip:p,dismissTooltip:m}}function u(){return c({userSettingsDismissibleKey:"layout_info_panel_button_education_tooltip_dismissed_at"})}function p(){return c({userSettingsDismissibleKey:"layout_builder_add_module_button_education_tooltip_dismissed_at"})}},274707:(e,t,o)=>{o.d(t,{Z4:()=>a,yP:()=>l});var n=()=>o(677559);const i={TopbarLayoutInfoButtonEducationTooltip:new(n().Ss)("TopbarLayoutInfoButtonEducationTooltip",(()=>Promise.all([o.e(62743),o.e(36815)]).then(o.bind(o,811418)))),BuilderAddModuleButtonEducationTooltip:new(n().Ss)("BuilderAddModuleButtonEducationTooltip",(()=>o.e(41103).then(o.bind(o,737690))))},l=(0,n().kF)(i.TopbarLayoutInfoButtonEducationTooltip,(e=>e.default),{renderLoading:(e,t)=>t.children}),a=(0,n().kF)(i.BuilderAddModuleButtonEducationTooltip,(e=>e.default))},494630:(e,t,o)=>{o.d(t,{Kq:()=>f,Wd:()=>B,Yq:()=>h,du:()=>_,wV:()=>C});o(821057),o(267602),o(470928);var n=o.n(o(294184)),i=o(667294),l=()=>o(219727),a=()=>o(142735),r=()=>o(639708),s=()=>o(696459),d=()=>o(177610),c=()=>o(311562),u=()=>o(70191),p=()=>o(761650),m=()=>o(896751),g=()=>o(857719),y=o(785893);const h=12,f=12,v=10,b=10;function S(e){let{collectionSchema:t,module:o}=e;return!(!t||"normalizedTitleWithIcon"!==o.type)&&(0,u().zD)({collectionSchema:t,module:o}).length>0}function C(e){let{layoutModule:t,area:o,context:u,collectionSchema:C,collectionStore:_,showDetailsPanelToggleButtonBelowTitle:B,modules:w}=e;const{isMobile:x}=(0,l().Fy)(),k=w.findIndex((e=>e.id===t.id)),P=null!=w&&w.length&&-1!==k?w[k+1]:void 0,T=(0,m().K)({collectionStore:_,layoutModule:P}),V=(0,d().vg)(_),M=(0,a().VK)((()=>Boolean(null==_?void 0:_.isPageTreeCollection())),[_]),[I,j]=(0,i.useMemo)((()=>{const e=S({collectionSchema:C,module:t});let n=!1;const i={};if("page_details"===o)i.marginBottom=v,i.paddingBottom=b;else if("page_main"===o)i.marginBottom=f,i.paddingBottom=h;else if("views_main_tab_modules"===o)i.marginBottom=f,i.paddingBottom=h;else{if("form_layout_schema"===o||"form_conditional_modules"===o)throw new Error("Not implemented for forms");(0,s().t1)(o)}const l="editor"===(null==P?void 0:P.type)||"views"===(null==P?void 0:P.type);l&&(n=!0,"normalizedTitleWithIcon"!==t.type||e||(n=!1,i.marginBottom=void 0,i.paddingBottom=void 0)),T&&i.marginBottom&&(i.marginBottom=Math.max(i.marginBottom-4,0)),"page_main"!==o&&"page_details"!==o||("discussions"===t.type?i.marginLeft=0:"normalizedTitleWithIcon"===t.type?i.marginLeft=-4:(0,r().f)(t)||"properties"===t.type||"relationsGroup"===t.type?i.marginLeft=-6:"editor"===t.type&&(i.marginLeft=-2));const a="views"===(null==P?void 0:P.type)||"editor"===(null==P?void 0:P.type);return"page_main"!==o&&"page_details"!==o||!i.paddingBottom||a||("property_text"===t.type||"property_relation"===t.type&&V?i.paddingBottom=Math.max(i.paddingBottom-4,0):"properties"===t.type&&(M&&!x||(i.paddingBottom=Math.max(i.paddingBottom-4,0))),"viewsMain"===(null==P?void 0:P.type)&&(i.paddingBottom=Math.max(i.paddingBottom-12,0))),"normalizedTitleWithIcon"===t.type&&(e?x&&"properties"===(null==P?void 0:P.type)&&!T&&(i.paddingBottom=void 0,i.marginBottom=4):(B?"discussions"===(null==P?void 0:P.type)&&(i.marginBottom=void 0):"properties"===(null==P?void 0:P.type)?(i.paddingBottom=void 0,i.marginBottom=8):"discussions"===(null==P?void 0:P.type)&&(i.paddingBottom=h),x&&"discussions"===(null==P?void 0:P.type)&&(i.marginBottom=void 0))),"bottomControls"===t.type&&(i.paddingBottom=void 0,i.marginBottom=void 0),"discussions"===t.type&&l&&(i.paddingBottom=void 0),"inlinePageSections"!==(null==P?void 0:P.type)&&"expandedBacklinks"!==(null==P?void 0:P.type)&&"bottomControls"!==(null==P?void 0:P.type)||(i.marginBottom=8),"editor"===t.type&&(i.marginTop=8),"views"!==t.type&&"editor"!==t.type||(i.paddingBottom=void 0,i.marginBottom=void 0),"viewsMain"===t.type&&(i.paddingBottom=void 0),u===c().S.Post&&(i.marginBottom=4,i.paddingBottom=0),[n,i]}),[C,t,o,null==P?void 0:P.type,T,M,u,V,x,B]);return(0,i.useMemo)((()=>function(e){return(0,y.jsx)(g().Pb,{className:n()({"layout-content-with-divider":I}),style:j,testId:(0,p().Z)(t),children:e})}),[t,I,j])}function _(e){let{layoutModule:t,area:o,collectionSchema:n,collectionStore:i,showDetailsPanelToggleButtonBelowTitle:r,pageMainModules:s}=e;const{isMobile:d}=(0,l().Fy)(),c=(0,a().VK)((()=>{if(!i)return!1;return!!s.find((e=>"normalizedTitleWithIcon"===e.type))&&r}),[i,s,r]);if(!i)return!1;if("properties"!==t.type&&"discussions"!==t.type&&"relationsGroup"!==t.type)return!1;if("page_main"!==o)return!0;const u=s.findIndex((e=>e.id===t.id));if(0===u||s.length<=1)return!1;const p=s[u-1];if("normalizedTitleWithIcon"!==(null==p?void 0:p.type))return!0;if("relationsGroup"===t.type&&c)return!0;if("properties"===t.type&&c&&!d)return!0;const m=S({collectionSchema:n,module:p});return("properties"!==t.type||!d||!m)&&m}function B(e){let{collectionStore:t,modulesByArea:o}=e;return!((t.getNormalizedPropertyGroups({publicPageDataFallbackEnabled:!0})||[]).length>0)&&0===(0,u().t5)({collectionStore:t,modulesByArea:o}).length}},761650:(e,t,o)=>{o.d(t,{Z:()=>l});var n=()=>o(639708),i=()=>o(696459);function l(e){const t=e.type;return"properties"===t?"module__properties_"+("pinned"===e.variant?"minimal":"expanded"):"normalizedTitleWithIcon"===t||"titleWithIcon"===t?"module__title_with_icon":"cover"===t?"cover__module":"views"===t?"module__views":"editor"===t?"module__editor":"formTitle"===t?"module__formTitle":"viewsMain"===t?"module__views_main":"transcript"===t?"module__transcript":"formSubmit"===t?"module__form_submit":"discussions"===t?"module__discussion":"placeholder"===t?"module__placeholder":"formQuestion"===t?"module__formQuestion":"bottomControls"===t?"module__bottomControls":"relationsGroup"===t?"module__relationsGroup":"deleted_property"===t?"module__deleted_property":"expandedBacklinks"===t?"module__expandedBacklinks":"inlinePageSections"===t?"module__inlinePageSections":"property"===t?`module__property_${e.id}`:"collectionView"===t?"module__collectionView":"collectionViewV2"===t?"module__collectionViewV2":(0,n().Vd)(t)?`module__property_${e.id}`:void(0,i().t1)(t)}},579095:(e,t,o)=>{o.d(t,{g:()=>u});var n=o(667294),i=()=>o(219727),l=()=>o(142735),a=()=>o(887430),r=()=>o(311562),s=()=>o(528770),d=()=>o(70191),c=()=>o(521635);function u(e){const{collectionStore:t,from:o,forceShowButtonIfNoProperties:u,pageViewBlockContext:p}=e,m=(0,l().VK)((()=>null==t?void 0:t.getLayoutStore()),[t]),g=(0,i().O7)(),y=p===r().S.PeekView,h=(0,l().VK)((()=>c().Z.getPanelState(y?"peek":"mainPage").isOpen),[y]),f=(0,l().VK)((()=>!!t&&a().eD({collectionStore:t,collectionViewBlockStore:t.getParentBlockStore(),checkNavigableAncestorLocked:!1})),[t]),v=(0,l().VK)((()=>!!m&&m.getModules().page_details.length>0),[m]),{count:b,isPropertiesModuleInPageDetails:S}=(0,l().VK)((()=>v&&t?(0,d().nJ)({collectionStore:t}):{count:0,isPropertiesModuleInPageDetails:!1}),[v,t]),C=n.useCallback((()=>{if(!m)return;const e={environment:g,layoutStore:m,from:o,panelLocation:y?"peek":"mainPage"};h?(0,s().n)(e):(0,s().U)(e)}),[g,o,h,y,m]),_=n.useMemo((()=>p!==r().S.InPageSnapShot&&(p!==r().S.Post&&(b>0||!!u&&(S&&f)))),[p,b,u,S,f]);return{pageDetailsPropertiesCount:b,toggleDetailsPanel:C,isDetailsPanelOpen:h,pageDetailsHasModules:v,canShowButton:_}}},896751:(e,t,o)=>{o.d(t,{K:()=>l});var n=o(667294),i=()=>o(142735);function l(e){let{collectionStore:t,layoutModule:o}=e;const l=(0,i().VK)((()=>Boolean(null==t?void 0:t.getNormalizedPropertyGroups({publicPageDataFallbackEnabled:!0}))),[t]);return(0,n.useMemo)((()=>!(!o||!t)&&("properties"===o.type&&"pinned"!==o.variant&&l)),[t,l,o])}},896641:(e,t,o)=>{o.d(t,{L:()=>p,S:()=>u});o(122556),o(582845),o(250570),o(533019),o(721473),o(788208),o(22624),o(267602),o(653476),o(470928),o(228244);var n=o(667294),i=()=>o(219727),l=()=>o(142735),a=()=>o(667932),r=()=>o(639708),s=()=>o(887430),d=()=>o(138196),c=()=>o(494630);function u(e){const{pageStore:t,pageViewBlockStore:o,isPostContext:a,collectionStore:u,collectionSchema:m}=e,{collectionStore:g,collectionFormat:y,collectionSchema:h,canConfigureCollection:f}=(0,l().VK)((()=>{const e=u||(null==t?void 0:t.getAssociatedCollectionStore()),o=m||(null==e?void 0:e.getSchema()),n=null==e?void 0:e.getFormat(),i=e&&s().eD({collectionStore:e,collectionViewBlockStore:e.getParentBlockStore(),checkNavigableAncestorLocked:!1});return{collectionStore:e,collectionSchema:o,collectionFormat:n,canConfigureCollection:i}}),[t,u,m]),v=(0,i().O7)(),b=(0,l().VK)((()=>(0,d().Z)({environment:v,store:t,pageViewBlockStore:o})),[v,t,o]),S=p({collectionFormat:y,collectionSchema:h,layoutStore:(0,l().VK)((()=>null==g?void 0:g.getLayoutStore()),[g]),isPostContext:a,pageStoreId:null==t?void 0:t.id}),C=(0,l().VK)((()=>{const e=S.page_main.some((e=>(0,r().z1)(e)))||S.page_details.some((e=>(0,r().z1)(e)));return!(!g||!e)&&(0,c().Wd)({modulesByArea:S,collectionStore:g})}),[S,g]),_=(0,n.useMemo)((()=>{const e=new Set;return(!Boolean(g)||!f&&C)&&e.add("properties"),"hidden"===(null==b?void 0:b.type)&&e.add("discussions"),e}),[f,g,null==b?void 0:b.type,C]);return(0,n.useMemo)((()=>0===_.size?S:{...S,page_main:S.page_main.filter((e=>!_.has(e.type))),page_details:S.page_details.filter((e=>!_.has(e.type)))}),[S,_])}function p(e){const{layoutStore:t,collectionSchema:o,collectionFormat:i,isPostContext:r,pageStoreId:s}=e,d=(0,n.useRef)(s),c=(0,n.useRef)(null);return(0,l().VK)((()=>{var e;if(r)return a().KD;let n=null==t?void 0:t.getModules();const l=s&&n&&s===d.current&&0===n.page_main.length&&(null===(e=c.current)||void 0===e?void 0:e.page_main.find((e=>"editor"===e.type)));return n&&!l||(n=(0,a().x9)({collectionSchema:o,collectionFormat:i})),d.current=s,c.current=n,n}),[r,t,s,o,i])}}}]);