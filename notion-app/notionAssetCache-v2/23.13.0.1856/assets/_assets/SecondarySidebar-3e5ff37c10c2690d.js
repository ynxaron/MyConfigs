"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[46101],{579217:(e,t,n)=>{n.d(t,{_:()=>i,s:()=>r});var o=()=>n(677559);const r=(0,o().kF)(new(o().Ss)("UniversalQnaModals",(async()=>await Promise.all([n.e(62743),n.e(52774),n.e(90698),n.e(84885),n.e(37358),n.e(5242),n.e(7312),n.e(90424),n.e(81580),n.e(84325),n.e(31189),n.e(69343),n.e(46293),n.e(2971),n.e(80741),n.e(72586),n.e(53335),n.e(71896),n.e(46616),n.e(54940),n.e(49396),n.e(98721),n.e(98032),n.e(57229),n.e(63707),n.e(86609),n.e(91253),n.e(4642),n.e(5006),n.e(6612),n.e(61171),n.e(23179),n.e(75377),n.e(31020),n.e(2942),n.e(73682),n.e(58591),n.e(54803),n.e(1953),n.e(10216),n.e(58565),n.e(69197),n.e(42055),n.e(38739),n.e(44751),n.e(81567),n.e(58183)]).then(n.bind(n,260685)))),(e=>e.UniversalQnaModals)),i=(0,o().kF)(new(o().Ss)("SlackConnectionOptions",(async()=>await n.e(16982).then(n.bind(n,945272)))),(e=>e.SlackConnectionOptions))},493843:(e,t,n)=>{n.d(t,{$o:()=>H,Fv:()=>A,IL:()=>Y,J4:()=>O,KA:()=>z,Nf:()=>D,_p:()=>G,cQ:()=>W,f$:()=>F,fX:()=>U,j2:()=>Z,k2:()=>N,mg:()=>Q,mz:()=>q,oP:()=>K,tF:()=>$,td:()=>E,x:()=>X});n(670560),n(267602),n(470928),n(30005),n(241792),n(228244);var o=()=>n(730120),r=()=>n(492788),i=()=>n(506347),a=()=>n(926724),s=()=>n(331540),l=()=>n(874459),c=()=>n(998411),d=()=>n(35980),u=()=>n(513670),p=()=>n(696459),m=()=>n(250303),S=()=>n(384667),f=()=>n(366257),h=()=>n(139224),g=()=>n(421654),v=()=>n(636340),y=()=>n(531515),x=()=>n(47443),b=()=>n(794586),C=()=>n(879952),_=()=>n(970105),w=()=>n(990966),P=()=>n(269299),I=()=>n(932753),k=()=>n(887430),j=()=>n(861026),V=()=>n(804217),T=()=>n(826955),M=()=>n(965903),L=()=>n(807230),B=()=>n(701182),R=()=>n(645843);function Z(e){const{collectionViewStore:t,collectionContextStore:n,timelineState:o,environment:r}=e,i=r.currentUser.id,a=(0,B().B8)(t.id),s=(0,B().pQ)(t,r),l=n.permissionScopesStore.state,c=u().Ds((()=>{if(o.destroyed)return;const e={zoomLevel:o.zoomLevel.state,centerTimestamp:(0,B().al)(o)};d().Z.set({userId:i,key:a,value:e})}),1e3),p=u().Ds((()=>{if(o.destroyed||!V().default.state.online||!r.currentUser.isLoggedIn()||!l.canConfigureBlock)return;const e={zoomLevel:o.zoomLevel.state,centerTimestamp:(0,B().al)(o)},n=t.getFormat().timeline_preference;u().Xy(n,e)||P().createAndCommit({userAction:"collectionTimelineViewActions.setRemotePreference",environment:r,canUndo:!0,perform:n=>{g().FH({stores:[t],update:{timeline_preference:e},transaction:n})}})}),5e3);o.savePreference=()=>{c(),p()},D({timelineState:o,environment:r,...s})}function D(e){const{timelineState:t,zoomLevel:n,centerTimestamp:o,environment:i}=e,{savePreference:a}=t,s=i.WindowSizeStore.state.width+2*B().Ge,l=(0,B().x2)(n,s),c=o-l/2,d=o+l/2;t.zoomLevel.setState(n),t.currentRange.setState({startTimestamp:c,endTimestamp:d}),r().default.afterNextFlush((()=>{z({timelineState:t,centerTimestamp:o}),a&&a()}))}function z(e){const{timelineState:t,centerTimestamp:n}=e,{horizontalScroller:o,outerSizeObserver:r}=t;if(!o)return;const i=t.zoomLevel.state,{startTimestamp:a,endTimestamp:s}=t.currentRange.state,l=r.rect.state.width;if(l===(0,B().e$)(i,s-a))return;const c=(0,B().e$)(i,n-a)-l/2;o.scrollLeft=c,t.scrollLeft.setState(c)}function K(e){const{environment:t,store:n,query:o,date:r,schema:i,transaction:a}=e,{timeline_by:s}=o;if(!s)return;const l=n.getAssociatedCollectionStore(),c=(null==l?void 0:l.getMappedProperty(s))??s,d=o.timeline_by_end?(null==l?void 0:l.getMappedProperty(o.timeline_by_end))??o.timeline_by_end:void 0,u=(0,B().TW)({store:n,dateValue:r,query:o,schema:(null==l?void 0:l.getSchema())??i}),p=n.getPropertyValue(c),m=d?n.getPropertyValue(d):void 0;return v().sW({store:n.getPropertiesStore(),data:u,transaction:a}),f().H({environment:t,store:n,dateProperty:{id:c,newValue:(null==u?void 0:u[c])??[],oldValue:p},otherDateProperty:d?{id:d,newValue:(null==u?void 0:u[d])??[],oldValue:m}:void 0}),n}function A(e){var t;const{environment:n,timelineState:r,collectionStore:i,collectionContextStore:a,store:s,query:d,groupFormat:u,transaction:p}=e,m=r.zoomLevel.state,f=(0,B().al)(r),{snapUnit:h,getDateRangePlaceholderDuration:g}=B().BJ[m],{timeline_by:v}=d;if(!v)return;const y=null===(t=a.groupsStore.getGroupState(u))||void 0===t?void 0:t.resultsStore.state;if(!y)return;const x=o().ou.fromMillis(f),b=(0,B().DS)(x,h),C=(0,B().DS)(g(x),h),_=(0,B().AZ)({startValue:(0,l().Lg)((0,c().r)()),snapUnit:h,desiredStart:b,desiredEnd:C});return K({environment:n,store:s,query:d,schema:i.getSchema(),date:_,transaction:p}),S().$T({environment:n,collectionStore:i,before:!0,store:y[0],insertStores:[s],collectionContextStore:a,groupsPointer:u?[u]:[],transaction:p}),s}function F(e){const{type:t,timelineState:n,store:o,startX:r,query:i,schema:a,intl:s,environment:l}=e,{horizontalScroller:c}=n,{startTimestamp:d}=n.currentRange.state;if(!c)return;C().Ys({environment:l,store:o});const p=c.scrollLeft,{stores:m}=M().default.state,S=u().oA(m.map((e=>{const t=(0,B().bk)({store:e,query:i,schema:a,userId:l.currentUser.id,intl:s,formulasModule:void 0});if(t)return{startValue:t,store:e}})));n.dragState.setState({type:t,startStore:o,stores:S.map((e=>{let{store:t}=e;return t})),startValues:S.map((e=>{let{startValue:t}=e;return t})),temporaryValues:S.map((e=>{let{startValue:t}=e;return t})),startX:r,startStartTimestamp:d,startScrollLeft:p})}function O(e){const{timelineState:t,store:n,startX:o,startY:r,schema:i,collectionContextStore:a,verticalScroller:s}=e,{horizontalScroller:l}=t,{startTimestamp:c}=t.currentRange.state;if(!l||!s)return;const d=l.scrollLeft,u=s.scrollTop,p=(0,B().YE)(a,n,i);t.drawState.setState({startStore:n,startDependencyRelationPointers:p,temporaryDependencyRelationPointers:[...p],startX:o,startY:r,startScrollLeft:d,startScrollTop:u,startStartTimestamp:c,xOffsetPx:0,yOffsetPx:0,tryToCompleteDrawnArrow:!1})}function E(e){const{timelineState:t,currentX:n}=e,{horizontalScroller:o}=t,r=t.zoomLevel.state,i=t.dragState.state,{startTimestamp:a}=t.currentRange.state;if(!i||!o)return;const{type:s,startStartTimestamp:c,startValues:d,startScrollLeft:m,startX:S,startStore:f,stores:h}=i,g=B().BJ[r],{snapUnit:v}=g,y=o.scrollLeft-m+(n-S)+(0,B().e$)(r,a-c),x=(0,B().x2)(r,y),b=d[h.indexOf(f)];let C;if(s===B().px.LeftResizer){const{start:e}=(0,B().XO)(b,v),t=e.plus(x);C=d.map((e=>{const n=(0,B().AZ)({startValue:e,snapUnit:v,desiredStart:t});return(0,l().gW)(n)}))}else if(s===B().px.RightResizer){const{end:e}=(0,B().XO)(b,v),t=e.plus(x);C=d.map((e=>{const n=(0,B().AZ)({startValue:e,snapUnit:v,desiredEnd:t});return(0,l().Qq)(n)}))}else s===B().px.ItemDrag?C=d.map((e=>{const{start:t,end:n}=(0,B().XO)(e,v),o=t.plus(x),r=o.plus(n.valueOf()-t.valueOf());return(0,B().AZ)({startValue:e,snapUnit:v,desiredStart:o,desiredEnd:r})})):(0,p().t1)(s);u().Xy(i.temporaryValues,C)||t.dragState.setState({...i,temporaryValues:C})}function q(e){const{timelineState:t,currentX:n,currentY:o,verticalScroller:r}=e,i=t.drawState.state,a=t.zoomLevel.state,{startTimestamp:s}=t.currentRange.state,{horizontalScroller:l}=t;if(!i||!l||!r)return;const{startDependencyRelationPointers:c,startStore:d,startX:p,startY:m,startScrollLeft:S,startScrollTop:f,startStartTimestamp:h}=i,g=l.scrollLeft,v=r.scrollTop,y=g-S+(n-p)+(0,B().e$)(a,s-h),x=v-f+(o-m),b=t.hoveredItem.state;if(b&&b!==d&&!c.some((e=>e.id===b.id))){const e=[...c,{table:"block",id:b.id,spaceId:b.getSpaceId()}];u().Xy(i.temporaryDependencyRelationPointers,e)||t.drawState.setState({...i,temporaryDependencyRelationPointers:e,xOffsetPx:void 0,yOffsetPx:void 0})}else t.drawState.setState({...i,temporaryDependencyRelationPointers:[...c],xOffsetPx:y,yOffsetPx:x})}function U(e){const{environment:t,collectionContextStore:n,timelineState:o,query:r,schema:i,transaction:a}=e,s=o.dragState.state,{timeline_by:l}=r;if(!s||!l)return;const{temporaryValues:c,stores:d}=s;c.forEach(((e,o)=>{const s=d[o];K({environment:t,store:s,query:r,schema:i,transaction:a,date:e}),m().rv({environment:t,collectionContextStore:n,block_id:s.id,property:l,property_type:"date",from:"timeline"})})),o.dragState.setState(void 0)}function H(e){var t;const{timelineState:n,environment:o,transaction:r,collectionContextStore:i,isFullScreen:a,isRootChild:s}=e,l=n.drawState.state,c=n.dateRangePlaceholder.state;if(!l)return;const{startStore:d,startDependencyRelationPointers:u,temporaryDependencyRelationPointers:p}=l;if(!d)return void n.drawState.setState(void 0);let S;if(c.active){const{date:e,store:t,parentStore:a,groupFormat:s,newTimelineItemProps:l,existingTimelineItemProps:u}=c;if(t&&u){const{query:n,schema:i}=u;K({environment:o,store:t,query:n,schema:i,date:e,transaction:r}),S={table:"block",id:t.id,spaceId:d.getSpaceId()}}else if(l){const{query:n,schema:c,isFullScreen:u,canEditTimelineItems:p,subitemPath:m}=l,f=Q({environment:o,date:e,store:t,parentStore:a,query:n,schema:c,isFullScreen:u,groupFormat:s,canEditTimelineItems:p,collectionContextStore:i,subitemPath:m,transaction:r,from:"timeline_complete_draw"});f&&(S={table:"block",id:f.id,spaceId:d.getSpaceId()})}n.dateRangePlaceholder.setState({active:!1})}else S=p.find((e=>!u.includes(e)));const f=(0,B()._e)(i);if(f){const{property:e}=f;S&&(y().hE({environment:o,propertyWithInverse:f,sourceStore:d,destStore:T().G.createChildStore(d,S),position:{type:"after"},transaction:r}),m().rv({environment:o,collectionContextStore:i,block_id:d.id,property:e,property_type:"relation",from:"timeline",isFromBulkActionsToolbar:!1,isUnthrottled:!0})),n.drawState.setState(void 0)}else h().wl({item:{type:"dependencies",from:"view_options"},collectionSettingsStore:i.settingsStore}),n.drawState.setState({...l,tryToCompleteDrawnArrow:!0});const g=null===(t=S)||void 0===t?void 0:t.id;g&&(0,R().LE)(o,{...(0,j().Pn)(i),...(0,R().Ii)({environment:o,collectionContextStore:i,timelineState:n,isFullScreen:a,isRootChild:s}),dependenciesPropertyID:null==f?void 0:f.property,blockedByStoreID:d.id,blockingStoreID:g})}function W(e){const{timelineState:t,environment:n}=e;t.dragState.state&&(t.dragState.setState(void 0),C().ZH({environment:n}))}function X(e){const{timelineState:t,environment:n}=e;t.drawState.state&&(t.drawState.setState(void 0),C().ZH({environment:n}))}function N(e){const{stores:t,collectionViewStore:n,schema:o,transaction:r}=e,i=n.getType(),a=n.getQuery(o),s=[];a&&("calendar"===i?a.calendar_by&&s.push(a.calendar_by):"timeline"===i&&(a.timeline_by&&s.push(a.timeline_by),a.timeline_by_end&&s.push(a.timeline_by_end)));for(const l of t)for(const e of s)_().sO({environment:l.environment,store:l.getPropertyStore(e),value:void 0,transaction:r})}function Y(e){const{dependency:t,collectionContextStore:n,environment:o,timelineState:r,isFullScreen:i,isRootChild:a}=e,s=(0,B()._e)(n),l=n.collectionStore();if(!s||!l)return;const{property:c}=s,{store:d,relationPointer:u}=t,p=d.getSchema()[c];p&&"relation"===p.type&&(P().createAndCommit({userAction:"CollectionTimelineDependenciesOverlay.handleRemoveRelation",environment:o,canUndo:!0,perform:e=>{y().Bl({environment:o,propertyWithInverse:s,sourceStore:d,destStore:T().G.createChildStore(d,u),transaction:e}),m().rv({environment:o,block_id:u.id,property:c,property_type:p.type,from:"timeline",collectionContextStore:n,isFromBulkActionsToolbar:!1,isUnthrottled:!0})}}),(0,R().lf)(o,{...(0,j().Pn)(n),...(0,R().Ii)({environment:o,collectionContextStore:n,timelineState:r,isFullScreen:i,isRootChild:a}),dependenciesPropertyID:c,blockedByStoreID:d.id,blockingStoreID:u.id}))}function $(e){const{collectionViewStore:t,newProperty:n,transaction:o}=e;g().FH({stores:[t],update:{timeline_arrows_by:{property:n}},transaction:o})}function G(e){var t;const{collectionContextStore:n,relationPropertyId:o,transaction:r}=e,i=n.collectionStore();if(!i)return;const l=o?i.getSchema()[o]:void 0,c="relation"===(null==l?void 0:l.type)&&l.property&&"relation"===(null===(t=i.getSchema()[l.property])||void 0===t?void 0:t.type)?l.property:void 0;g().FH({stores:[i],update:{collection_default_arrows_by:o,...i.getFormat().app_config_uri===s().iS?{app_uri_map:{...i.getFormat().app_uri_map?i.getFormat().app_uri_map:{},[a().Es.BlockingRelation]:o,[a().Es.BlockedRelation]:c}}:{}},transaction:r})}function Q(e){const{environment:t,transaction:n,date:o,parentStore:r,query:a,schema:s,isFullScreen:l,groupFormat:c,canEditTimelineItems:d,collectionContextStore:u,from:p}=e;if(!(0,L().ww)(t))return;const m=c?[c]:[],f=u.groupsStore.getGroupState(m);if(!f)return;if(r)return function(e){const{environment:t,transaction:n,date:o,store:r,parentStore:a,query:s,schema:l,groupFormat:c,canEditTimelineItems:d,collectionContextStore:u,subitemPath:p}=e;if(!r||!a)return;const m=c?[c]:[],f=S().yk({environment:t,collectionContextStore:u,groupsPointer:m,store:r,before:!1,collectionStore:a,transaction:n,subitemPath:p,subitemInsertDirection:"into"});if(f){if(K({environment:t,store:f,query:s,schema:l,date:o,transaction:n}),t.device.isMobile)x()._c({environment:t,store:f,pageVisitSource:i().tY.Create});else if(f&&d){const e=f.getBlockTitleStore();w().setSelectionAtStart({store:e})}return f}}(e);u.searchQueryStore.state&&I().Ug({searchQuery:"",collectionContextStore:u,isFullScreen:l});const h=S().IW({environment:t,collectionContextStore:u,groupsPointer:m,shouldCoerce:!0,templateStore:u.defaultPageTemplateStore.state,transaction:n,from:{createBlock:p},inMemoryRecordCache:t.defaultRecordCache.inMemoryRecordCache});if(!h)return;const g=h.coercionSucceeded,v=h.newStore;if(K({environment:t,store:v,query:a,schema:s,date:o,transaction:n}),t.device.isMobile)x()._c({environment:t,store:v,pageVisitSource:i().tY.Create});else if(g&&d){const e=v.getBlockTitleStore();w().setSelectionAtEnd({store:e})}else b().CH({environment:t,store:v,peekMode:(0,k().kr)(u),resultsStore:null==f?void 0:f.resultsStore,collectionContextStore:u,pageVisitSource:i().tY.Create});return v}},645843:(e,t,n)=>{n.d(t,{Al:()=>l,CB:()=>c,H6:()=>s,Ii:()=>S,LE:()=>p,gw:()=>d,iR:()=>i,lf:()=>m,ne:()=>u,zI:()=>a});n(267602),n(653476);var o=()=>n(594546),r=()=>n(701182);function i(e,t){o().lu(e,"timeline_view","timeline_view",5,t)}function a(e,t){o().K4(e,"timeline_zoom_level_update",t)}function s(e,t){o().K4(e,"timeline_today_click",t)}function l(e,t){o().K4(e,"timeline_shift_time_click",t)}function c(e,t){o().K4(e,"timeline_toggle_table_click",t)}function d(e,t){o().K4(e,"timeline_item_scroll_arrow_click",t)}function u(e,t){o().K4(e,"timeline_item_resize",t)}function p(e,t){o().K4(e,"timeline_dependency_arrow_add",t)}function m(e,t){o().K4(e,"timeline_dependency_arrow_delete",t)}function S(e){const{environment:t,collectionContextStore:n,timelineState:o,isFullScreen:i,isRootChild:a}=e,s=o.zoomLevel.state,l=n.normalizedFormatStore.state,c=(0,r().C1)({environment:t,format:l,isFullScreen:i,isRootChild:a}),d=c&&l.timeline_table_properties?l.timeline_table_properties.length:0,u=l.timeline_properties||[],p=u.filter((e=>"title"!==e.property));return{zoom_level:s,show_table:c,show_table_properties_count:d,show_timeline_title:u.length!==p.length,show_timeline_properties_count:p.length}}},985523:(e,t,n)=>{n.d(t,{B:()=>_,y:()=>C});n(267602),n(731107),n(667294);var o=()=>n(146947),r=()=>n(219727),i=()=>n(142735),a=()=>n(846550),s=()=>n(816512),l=()=>n(646574),c=()=>n(788860),d=()=>n(871953),u=()=>n(641702),p=()=>n(527278),m=()=>n(466970),S=()=>n(998901),f=()=>n(964118),h=()=>n(18748),g=()=>n(388284),v=()=>n(654133),y=()=>n(67961),x=()=>n(912826),b=n(785893);function C(e){let{isPageMoreButton:t,hideTopBorder:n,store:o,wordCountStores:l,showWordCount:d,shouldRenderMobileRefresh:u}=e;const m=(0,i().VK)((()=>_(o)),[o]),{device:C}=(0,r().O7)(),P=(0,i().VK)((()=>C.isPhone),[C]),I=p().Z.getIntl(),k=(0,a().yK)((()=>({menuItem:{paddingTop:P?8:n?0:6,paddingBottom:P?8:16}})),[n,P]);return m&&!m.canAccess?null:(0,b.jsx)(g().Z,{topBorder:!t&&!n,style:{paddingTop:t?0:8,paddingBottom:t?0:8},shouldRenderMobileRefresh:u,children:(0,b.jsx)(h().ZP,{style:m?void 0:k.menuItem,shouldWrapTitle:!0,shouldRenderMobileRefresh:u,title:m?(0,b.jsx)(v().Z,{placement:S().Placement.Right,render:e=>(0,b.jsxs)("div",{...e,children:[d&&(0,b.jsx)(y().Z,{isSmall:!0,isSecondaryColor:!0,isMobile:C.isPhone,isMultiline:!0,style:{marginBottom:4,marginTop:8},children:(0,b.jsx)(c()._H,{id:"pageMoreButton.wordCount.caption",defaultMessage:"Word count: {count}",values:{count:(0,b.jsx)(x().Z,{store:o})}})}),l&&(0,b.jsx)(w,{stores:l}),(0,b.jsx)(y().Z,{isSmall:!0,isSecondaryColor:!0,isMobile:C.isPhone,isMultiline:!0,style:{marginBottom:4},children:(0,b.jsx)(c()._H,{id:"blockAuthorInfo.label",defaultMessage:"Last edited by {author}",values:{author:m.lastEditedBy.asActor?(0,s().$4)(I,m.lastEditedBy):void 0}})}),(0,b.jsx)(y().Z,{isSmall:!0,isSecondaryColor:!0,isMobile:C.isPhone,style:{marginBottom:d?8:0},children:m.lastEditedTime})]}),renderTooltip:()=>(0,b.jsx)(f().Z,{store:o,compactFormat:!0})}):void 0,loading:!m})})}function _(e){const t=e.getCreatedByPointer(),n=e.getCreatedTime(),r=e.getLastEditedByPointer(),i=e.getLastEditedTime(),a=p().Z.getIntl();if(!e.canRead())return{canAccess:!1};if(t&&n&&i&&r){const s=(0,d().ue)({parentStore:e,pointer:t}),c=(0,l().$b)(n,o().locale,a),u=(0,d().ue)({parentStore:e,pointer:r}),p=(0,l().$b)(i,o().locale,a);if(!u)return;return{canAccess:!0,createdBy:s,createdTime:c,lastEditedBy:u,lastEditedTime:p}}}function w(e){const{stores:t}=e,n=(0,m().E)("selectable_word_count"),o=(0,i().VK)((()=>n?P(t):0),[n,t]);return n?(0,b.jsx)(y().Z,{isSmall:!0,isSecondaryColor:!0,style:{marginBottom:4},children:(0,b.jsx)(c()._H,{id:"blockMetadataMenuItem.wordCount",defaultMessage:"{count, plural, one {# word} other {# words}}",values:{count:o}})}):null}function P(e){return e.reduce(((e,t)=>{const n=(0,u().Xh)(t.getTitleValue(),t);return e+(0,u().WF)(n)+P(t.getContentStores())}),0)}},887330:(e,t,n)=>{n.d(t,{C:()=>r,L:()=>i});var o=()=>n(707513);function r(e){const{theme:t,isInHomeWidget:n}=e;return{display:"flex",alignItems:"center",fontSize:14,padding:6,...n?{height:24,width:24,color:t.lightTextColor,fill:t.lightIconColor}:{height:28,width:28,color:t.mediumIconColor,fill:t.mediumIconColor},fontWeight:o().Ue.regular,lineHeight:1,borderRadius:6}}function i(e){const{theme:t}=e;return{display:"flex",alignItems:"center",fontSize:14,height:28,padding:6,color:t.mediumIconColor,fontWeight:o().Ue.regular,lineHeight:1,borderRadius:4}}},12530:(e,t,n)=>{n.d(t,{N:()=>i,Z:()=>s});n(667294);var o=n(785893);const r={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:16,height:16,fontSize:10,textAlign:"center",fontWeight:n(707513).Ue.semibold,borderRadius:4,color:n(568017).ZP.white,position:"static",marginLeft:6,WebkitFontSmoothing:"auto"};let i=function(e){return e[e.Red=0]="Red",e[e.Gray=1]="Gray",e}({});function a(e){return!!e&&e>0}const s=function(e){let{count:t,color:s,style:c,numberStyle:d,fadeIn:u}=e;const p=s===i.Red,m=(0,n(846550).yK)((e=>({badge:{...r,...c,...(t??0)>99&&{width:void 0,padding:2},background:p?e.redBadgeBackground:e.lightIconColor,...u&&{transition:"opacity 0.1s",opacity:a(t)?1:0}}})),[t,u,p,c]);return u||a(t)?(0,o.jsx)("div",{style:m.badge,children:(0,o.jsx)(l,{count:t,numberStyle:d})}):null};function l(e){let{count:t,numberStyle:n}=e;return t?1===t?(0,o.jsx)("span",{style:{marginLeft:-.5,...n},children:"1"}):t>99?(0,o.jsx)("span",{style:{letterSpacing:-.5,...n},children:"99+"}):t>9?(0,o.jsx)("span",{style:{letterSpacing:-.5,marginLeft:-.5,...n},children:t}):(0,o.jsx)("span",{style:{...n},children:t}):null}},912826:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(667294),r=()=>n(788860),i=()=>n(768055),a=n(785893);function s(e){const t=(0,o.useMemo)((()=>(0,i().W)(e.store)),[e.store]);return(0,a.jsx)(r()._H,{id:"pageWordCount.wordCount",defaultMessage:"{count, plural, one {# word} other {# words}}",values:{count:t}})}},969138:(e,t,n)=>{n.d(t,{Z:()=>_});n(241792);var o=n(667294),r=()=>n(219727),i=()=>n(396136),a=()=>n(788860),s=()=>n(381140),l=()=>n(47443),c=()=>n(250625),d=()=>n(906591),u=()=>n(793935),p=()=>n(826955),m=()=>n(255577),S=()=>n(388284),f=()=>n(142735),h=()=>n(846550),g=n(785893);function v(e){const{icon:t,isAlias:o,isEmptyPage:i}=e,a=function(){const e=(0,r().O7)();return(0,h().yK)((t=>({wrap:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,width:e.device.isMobile?28:22,height:e.device.isMobile?24:18,position:"relative"},pageLinkInicator:{position:"absolute",width:"50%",height:"50%",right:0,bottom:-1,fill:"dark"===t.mode?t.regularTextColor:"#3E3C38",stroke:"dark"===t.mode?t.surface.wash:"white",strokeWidth:"dark"===t.mode?"1.85px":"1.5px"}})),[e])}();return(0,g.jsxs)("div",{style:a.wrap,children:[(0,g.jsx)(n(943620).Z,{disabled:!0,icon:t,isEmptyPage:i,size:19}),o&&(0,g.jsx)("div",{children:(0,n(965913).Y)(a.pageLinkInicator)})]})}function y(e){const t=(0,a().YB)(),{isPinned:o,store:i,spaceViewStore:l,type:c}=e,d=(0,r().O7)(),p=(0,r().MO)(),m=(0,f().VK)((()=>n(804217).default.state.online),[]),S=(0,f().VK)((()=>n(876822).default.state.currentUserSettingsStore),[]),v=(0,h().yK)((e=>({pinned:{width:p?18:16,height:p?18:16,fill:e.mediumIconColor},unpinned:{width:p?18:16,height:p?18:16,fill:e.mediumIconColor}})),[p]);return(0,g.jsx)(n(1910).Z,{icon:o?n(133009)._:n(149319).P,style:m?void 0:{cursor:"default"},iconStyle:o?v.unpinned:v.pinned,onClick:()=>{S&&n(269299).createAndCommit({userAction:"OutlinerViewAllMenuListItem2.onClick",environment:d,canUndo:!0,perform:e=>{o?(u().unpinSharedPage({environment:d,store:i,spaceViewStore:l,userSettingsStore:S,transaction:e}),s().An(d,{type:c,from:"sidebar_dropdown_menu"})):(u().pinSharedPage({environment:d,store:i,spaceViewStore:l,userSettingsStore:S,transaction:e}),s().qY(d,{type:c}))}})},disabled:!m,ariaLabel:t.formatMessage({defaultMessage:"Pin or unpin page",id:"outlinerViewAllPopover.pinButton.ariaLabel"})})}const x=o.forwardRef((function(e,t){const{store:o,timestamp:i,actorPointer:a,type:s,...l}=e,c=(0,f().VK)((()=>o.getIcon()),[o]),d=(0,f().VK)((()=>o.isEmptyPage()),[o]),u=(0,r().O7)();(0,f().VK)((()=>{(0,n(985523).B)(o)}),[o]);const p=(0,f().VK)((()=>(0,n(286338).yT)()),[]);return(0,g.jsx)(n(654133).Z,{placement:n(998901).Placement.Right,render:r=>(0,g.jsx)(n(827973).Z,{...(0,n(164079).Z)(l,r),ref:t,title:(0,g.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,g.jsx)(n(384241).Z,{store:o})}),icon:(0,g.jsx)(v,{icon:c,isEmptyPage:d,isAlias:!1}),right:(l.focused||e.isPinned||u.device.isMobile)&&(0,g.jsx)("div",{style:{display:"flex"},children:"shared"===e.type&&!p&&(0,g.jsx)(y,{...e})})}),renderTooltip:()=>(0,g.jsx)(n(964118).Z,{store:o})})}));function b(e){const{sections:t}=e,n=1===t.length;return t.map(((t,o)=>{let{key:r,pages:i}=t;return{key:r,items:C({...e,pages:i}),render:e=>(0,g.jsx)(S().Z,{...e,topBorder:0!==o,title:n?void 0:(0,d().BY)({section:r,isFirst:0===o})})}}))}function C(e){const{environment:t,spaceStore:n,pages:o,visiblePageIds:r,onClose:a,type:m,state:S}=e,f=r.length;return o.map((o=>{let{blockId:h,timestamp:v,authorPointer:y,index:b}=o;const C=p().G.createChildStore(n,{table:i().iU,id:h}),_=r.includes(h);return{key:h,action:e=>{let{event:n}=e;const o=c().DJ(n);o||a(),l()._c({environment:t,store:C,openInNew:o,pageVisitSource:(0,d().N)({type:m,from:"secondary_sidebar"})}),t.device.isPhone&&u().close(),s()._f(t,{type:m,queryStringLength:S.query.length,selectedItemIndex:b})},render:t=>(0,g.jsx)(x,{...t,...e,store:C,timestamp:v,actorPointer:y,isPinned:_,spaceId:n.id,pinnedAmount:f})}}))}const _=function(e){const{sections:t,onClose:i,state:s,menuListStore:l,setState:c,renderSections:d,...u}=e,p=(0,r().O7)(),f=n(513670).Cn(t,(e=>e.pages.length)),h=Math.min(f,s.numPagesShown),v=(0,o.useMemo)((()=>{let e=h;return t.map((t=>{const n={...t,pages:t.pages.slice(0,e)};return e=Math.max(0,e-t.pages.length),n}))}),[h,t]);return 0===t.length?(0,g.jsx)(S().Z,{style:{height:"40vh",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,g.jsx)(n(552064).Z,{icon:n(569144).a,title:(0,g.jsx)(a()._H,{defaultMessage:"No matches",id:"outlinerViewAllPopover.search.noMatchesTitle"}),description:(0,g.jsx)(a()._H,{defaultMessage:"Try checking for typos",id:"outlinerViewAllPopover.search.noMatchesDescription"})})}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(m().Z,{type:m().i.Vertical,initialFocus:void 0,sections:d?d(v):b({...u,setState:c,state:s,environment:p,onClose:i,sections:v,menuListStore:l}),store:l}),(0,g.jsx)(n(893405).Z,{fetchSize:h,resultSize:f,loading:!1,onLoadMore:()=>{c({query:s.query,numPagesShown:Math.min(f,h+n(976160).uO)})}})]})}},976160:(e,t,n)=>{n.d(t,{Ke:()=>o().K,k4:()=>r,uO:()=>i,vJ:()=>o().v});var o=()=>n(480361);const r=30,i=20},681035:(e,t,n)=>{n.d(t,{S:()=>i});var o=()=>n(677559);const r=new(o().Ss)("CollectionItemCover",(async()=>{const{CollectionItemCover:e}=await Promise.all([n.e(62743),n.e(37912)]).then(n.bind(n,682652));return{CollectionItemCover:e}})),i=(0,o().kF)(r,(e=>e.CollectionItemCover))},480361:(e,t,n)=>{n.d(t,{K:()=>i,v:()=>a});var o=()=>n(677559);const r=new(o().Ss)("outlinerViewAll",(async()=>{const{OutlinerViewAllButton:e}=await Promise.all([n.e(62743),n.e(54826)]).then(n.bind(n,342478)),{OutlinerViewAllPopup:t}=await Promise.all([n.e(62743),n.e(54826)]).then(n.bind(n,639088));return{OutlinerViewAllButton:e,OutlinerViewAllPopup:t}})),i=(0,o().kF)(r,(e=>e.OutlinerViewAllButton)),a=(0,o().kF)(r,(e=>e.OutlinerViewAllPopup))},850790:(e,t,n)=>{n.d(t,{K:()=>r});n(667294);var o=n(785893);const r=(0,n(827282).IU)("boltFilled",{svg:(0,o.jsx)("path",{d:"M0 12.117c0 .38.293.664.703.664h5.518l-2.91 7.91c-.381 1.006.664 1.543 1.318.723l8.877-11.094c.166-.205.254-.4.254-.625 0-.371-.293-.664-.703-.664H7.539l2.91-7.91C10.83.115 9.785-.422 9.131.408L.254 11.492c-.166.215-.254.41-.254.625z"}),viewBox:"0 0 14 22"})},756085:(e,t,n)=>{n.d(t,{f:()=>r});n(667294);var o=n(785893);const r=(0,n(827282).IU)("chevronLeft",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M3.61816 8.06445C3.61816 8.29688 3.70703 8.49512 3.8916 8.67285L9.22363 13.8887C9.36719 14.0391 9.55859 14.1143 9.77734 14.1143C10.2217 14.1143 10.5703 13.7725 10.5703 13.3213C10.5703 13.1025 10.4814 12.9043 10.3311 12.7539L5.52539 8.06445L10.3311 3.375C10.4814 3.21777 10.5703 3.01953 10.5703 2.80078C10.5703 2.35645 10.2217 2.01465 9.77734 2.01465C9.55859 2.01465 9.36719 2.08984 9.22363 2.24023L3.8916 7.45605C3.70703 7.63379 3.625 7.83203 3.61816 8.06445Z"})})},569144:(e,t,n)=>{n.d(t,{a:()=>r});n(667294);var o=n(785893);const r=(0,n(827282).IU)("docMagnifyingGlass",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M4.87695 14.1426C4.25195 14.1426 3.77734 13.9805 3.45312 13.6562C3.13281 13.332 2.97266 12.8535 2.97266 12.2207V3.38477C2.97266 2.75586 3.13281 2.2793 3.45312 1.95508C3.77734 1.62695 4.25195 1.46289 4.87695 1.46289H11.123C11.748 1.46289 12.2207 1.625 12.541 1.94922C12.8613 2.27344 13.0215 2.75195 13.0215 3.38477V9.30273C12.8652 9.13086 12.6895 8.97656 12.4941 8.83984C12.2988 8.70312 12.0918 8.59375 11.873 8.51172V3.45508C11.873 3.18555 11.7988 2.97852 11.6504 2.83398C11.5059 2.68555 11.2969 2.61133 11.0234 2.61133H4.97656C4.69531 2.61133 4.48242 2.68555 4.33789 2.83398C4.19727 2.97852 4.12695 3.18555 4.12695 3.45508V12.1621C4.12695 12.4355 4.19727 12.6426 4.33789 12.7832C4.48242 12.9238 4.69531 12.9941 4.97656 12.9941H7.40234C7.48438 13.2129 7.5918 13.4199 7.72461 13.6152C7.86133 13.8105 8.01562 13.9863 8.1875 14.1426H4.87695ZM5.86133 4.99609C5.74805 4.99609 5.65625 4.95898 5.58594 4.88477C5.51562 4.81055 5.48047 4.72266 5.48047 4.62109C5.48047 4.51953 5.51562 4.43359 5.58594 4.36328C5.65625 4.29297 5.74805 4.25781 5.86133 4.25781H10.1445C10.25 4.25781 10.3379 4.29297 10.4082 4.36328C10.4824 4.43359 10.5195 4.51953 10.5195 4.62109C10.5195 4.72266 10.4824 4.81055 10.4082 4.88477C10.3379 4.95898 10.25 4.99609 10.1445 4.99609H5.86133ZM5.86133 6.99414C5.74805 6.99414 5.65625 6.95898 5.58594 6.88867C5.51562 6.81445 5.48047 6.72461 5.48047 6.61914C5.48047 6.51758 5.51562 6.43164 5.58594 6.36133C5.65625 6.29102 5.74805 6.25586 5.86133 6.25586H10.1445C10.25 6.25586 10.3379 6.29102 10.4082 6.36133C10.4824 6.43164 10.5195 6.51758 10.5195 6.61914C10.5195 6.72461 10.4824 6.81445 10.4082 6.88867C10.3379 6.95898 10.25 6.99414 10.1445 6.99414H5.86133ZM10.4434 14.1426C9.9707 14.1426 9.53906 14.0254 9.14844 13.791C8.75781 13.5605 8.44336 13.25 8.20508 12.8594C7.9707 12.4688 7.85352 12.0371 7.85352 11.5645C7.85352 11.0879 7.9707 10.6543 8.20508 10.2637C8.44336 9.86914 8.75781 9.55664 9.14844 9.32617C9.53906 9.0918 9.9707 8.97461 10.4434 8.97461C10.9199 8.97461 11.3535 9.0918 11.7441 9.32617C12.1348 9.55664 12.4453 9.86719 12.6758 10.2578C12.9102 10.6484 13.0273 11.084 13.0273 11.5645C13.0273 12.0371 12.9102 12.4688 12.6758 12.8594C12.4453 13.25 12.1348 13.5605 11.7441 13.791C11.3535 14.0254 10.9199 14.1426 10.4434 14.1426ZM10.4434 13.252C10.752 13.252 11.0332 13.1758 11.2871 13.0234C11.5449 12.8711 11.75 12.666 11.9023 12.4082C12.0547 12.1543 12.1309 11.873 12.1309 11.5645C12.1309 11.252 12.0547 10.9688 11.9023 10.7148C11.75 10.4609 11.5449 10.2578 11.2871 10.1055C11.0332 9.94922 10.752 9.87109 10.4434 9.87109C10.1309 9.87109 9.8457 9.94922 9.58789 10.1055C9.33398 10.2578 9.12891 10.4609 8.97266 10.7148C8.82031 10.9688 8.74414 11.252 8.74414 11.5645C8.74414 11.873 8.82031 12.1543 8.97266 12.4082C9.12891 12.666 9.33398 12.8711 9.58789 13.0234C9.8457 13.1758 10.1309 13.252 10.4434 13.252ZM13.5078 15.209C13.3398 15.209 13.1895 15.1426 13.0566 15.0098L11.4629 13.416L12.2715 12.6719L13.8594 14.2598C13.9141 14.3105 13.957 14.3711 13.9883 14.4414C14.0195 14.5117 14.0352 14.582 14.0352 14.6523C14.0352 14.8125 13.9844 14.9453 13.8828 15.0508C13.7812 15.1562 13.6562 15.209 13.5078 15.209Z"})})},109806:(e,t,n)=>{n.d(t,{c:()=>r});n(667294);var o=n(785893);const r=(0,n(827282).IU)("eye",{viewBox:"0 0 32 32",svg:(0,o.jsx)("path",{d:"M16.006 25.812c8.863 0 14.994-7.17 14.994-9.406C31 14.16 24.858 7 16.006 7 7.252 7 1 14.16 1 16.406c0 2.236 6.252 9.406 15.006 9.406zm0-3.242a6.194 6.194 0 01-6.197-6.164c-.012-3.452 2.744-6.164 6.197-6.164 3.419 0 6.185 2.711 6.185 6.164 0 3.364-2.766 6.164-6.185 6.164zm0-3.94c1.228 0 2.246-1.007 2.246-2.224 0-1.228-1.018-2.235-2.246-2.235-1.24 0-2.258 1.007-2.258 2.235 0 1.217 1.018 2.224 2.258 2.224z"})})},149319:(e,t,n)=>{n.d(t,{P:()=>r});n(667294);var o=n(785893);const r=(0,n(827282).IU)("pin",{viewBox:"0 0 13 19",svg:(0,o.jsx)("path",{d:"M1.25 12.875h4.227v3.648c0 1.196.5 2.188.695 2.188.187 0 .687-.992.687-2.188v-3.648h4.227c.703 0 1.148-.438 1.148-1.102 0-1.648-1.32-3.304-3.359-4.109L8.617 4c.992-.648 1.93-1.383 2.328-1.914.211-.266.305-.531.305-.758 0-.476-.367-.828-.914-.828H2.008c-.555 0-.914.352-.914.828 0 .227.093.492.297.758.398.531 1.343 1.266 2.328 1.914L3.46 7.664C1.42 8.47.1 10.125.1 11.774c0 .664.446 1.101 1.149 1.101zm4.922-5.719c-.5 0-.984.047-1.438.14l.235-3.874c.008-.11-.008-.149-.086-.188-1.172-.601-2.078-1.312-2.14-1.468-.063-.102 0-.164.085-.164h6.68c.086 0 .148.062.086.164-.063.156-.969.867-2.14 1.468-.071.04-.095.079-.079.188l.234 3.875a7.177 7.177 0 00-1.437-.14zm-4.61 4.54c-.18 0-.257-.102-.226-.313.172-1.406 1.969-3.086 4.836-3.086 2.86 0 4.656 1.68 4.828 3.086.031.21-.047.312-.227.312h-9.21z"})})},133009:(e,t,n)=>{n.d(t,{_:()=>r});n(667294);var o=n(785893);const r=(0,n(827282).IU)("pinFilled",{viewBox:"0 0 13 19",svg:(0,o.jsx)("path",{d:"M.102 11.773c0 .665.445 1.102 1.148 1.102h4.227v3.648c0 1.196.5 2.188.695 2.188.187 0 .687-.992.687-2.188v-3.648h4.227c.703 0 1.148-.438 1.148-1.102 0-1.648-1.32-3.39-3.515-4.187L8.46 4c1.14-.648 2.078-1.383 2.484-1.906.203-.266.305-.531.305-.766 0-.476-.367-.828-.914-.828H2.008c-.555 0-.914.352-.914.828 0 .234.093.5.297.766.406.523 1.343 1.258 2.484 1.906l-.258 3.586C1.422 8.383.102 10.125.102 11.773z"})})},848854:(e,t,n)=>{n.d(t,{v:()=>o().v});var o=()=>n(545914)},356140:(e,t,n)=>{n.d(t,{W:()=>i});var o=()=>n(142735),r=()=>n(876822);function i(){const{currentSpaceStore:e}=(0,o().VK)((()=>r().default.state),[]);return null==e?void 0:e.id}},387736:(e,t,n)=>{n.r(t),n.d(t,{SecondarySidebar:()=>ie});var o=n(667294),r=()=>n(219727),i=()=>n(142735),a=()=>n(846550),s=()=>n(88829),l=()=>n(492522),c=()=>n(664601),d=()=>n(628370),u=()=>n(94967),p=()=>n(123256),m=()=>n(726143),S=()=>n(987503),f=()=>n(657174),h=()=>n(880290),g=()=>n(341643),v=()=>n(355435),y=()=>n(106342),x=()=>n(589525),b=()=>n(815532),C=(n(267602),n(653476),n(241792),()=>n(788860)),_=()=>n(696459),w=()=>n(381140),P=()=>n(711608),I=()=>n(47443),k=()=>n(879952),j=()=>n(796408),V=()=>n(206352),T=()=>n(740046),M=()=>n(198829),L=()=>n(842574),B=()=>n(388284),R=()=>n(369954),Z=()=>n(976160),D=()=>n(969138),z=()=>n(299519),K=()=>n(250625),A=()=>n(352230),F=()=>n(906591),O=()=>n(345918),E=()=>n(187709),q=()=>n(520849),U=()=>n(876822),H=()=>n(95718),W=()=>n(692304),X=()=>n(21688),N=()=>n(482162),Y=()=>n(561280),$=()=>n(105649),G=n(785893);const Q=(0,C().vU)({searchPlaceholder:{id:"morePagesSecondarySidebar.search.placeholder",defaultMessage:"Search for a page..."}});function J(e){let{type:t}=e;const n=(0,C().YB)(),s=(0,r().O7)(),l=(0,i().qz)(void 0,Y().Z),{currentSpaceStore:c,currentSpaceViewStore:d}=(0,i().Kw)(U().default),{allPagesStores:u}=(0,i().VK)((()=>{const{currentUserSettingsStore:e}=U().default.state;return d&&e?(0,O()._o)({environment:s,spaceViewStore:d,userSettingsStore:e,type:t}).state:{allPagesStores:[]}}),[d,s,t]),p=(0,o.useMemo)((()=>({query:"",numPagesShown:Z().k4})),[]),[m,S]=o.useState(p),f=(0,i().qz)(void 0,W().Z),h=(0,i().VK)((()=>{if(!d)return"manual";return(0,F().S4)({spaceViewStore:d,type:t}).sortOption}),[d,t]),g=(0,i().VK)((()=>{const e=(0,F().l6)({allPages:u,state:m,intl:n});return"manual"===h?e:(0,F().vs)({pageItems:e})}),[u,m,n,h]),v=(0,o.useMemo)((()=>"manual"===h?g.length>0?[{key:"all",pages:g.map(((e,t)=>({...e,index:t})))}]:[]:(0,F().jz)(g)),[h,g]),y=(0,a().yK)((()=>({container:{width:"100%",height:"100%",overflow:"hidden"},scroller:{height:"100%"}})),[]),x=(0,i().VK)((()=>$().default.state.mode),[]),w=(0,i().VK)((()=>N().default.isCenterPeekOpen()||X().Z.state.open),[]),k=(0,i().VK)((()=>$().default.isVisible()),[]),V=(0,o.useCallback)((()=>{b().TN({environment:s})}),[s]),T=(0,i().VK)((()=>void 0!==d&&(0,F().Wu)({spaceViewStore:d})),[d]),E=(0,i().VK)((()=>(0,H().wY)()),[]),Q=(0,i().VK)((()=>{if(d&&c)return(0,F().P4)({typeWithTeam:{type:"private"},currentSpaceStore:c,currentSpaceViewStore:d})}),[d,c]),J=(0,o.useCallback)((e=>{let{draggingStores:n}=e;return"private"===t&&(!!T&&(!!c&&(0,F().Pl)({environment:s,draggingStores:n,parentStore:Q,currentSpaceStore:c})))}),[t,T,c,s,Q]),ne=(0,o.useCallback)((async e=>{Q&&await P().NP({dropArgs:e,environment:s,type:"private",isDroppingOnFullSection:!0,parentStore:Q})}),[s,Q]);return c&&d&&k?(0,G.jsx)(z().Z,{droppable:!0,disableEditNearestBlock:!0,store:c,disable:w,disableRectangularSelection:!0,render:e=>{let{selectableEvents:n}=e;return(0,G.jsx)("div",{style:y.container,...n,children:(0,G.jsxs)(M().Z,{menuType:A().o.Popup,disableScroller:!0,header:(0,G.jsx)(ee,{state:m,setState:S,menuListStore:f,type:t}),maxHeight:"100%",children:[(0,G.jsx)(R().A,{scrollerStore:l}),(0,G.jsx)(L().Z,{store:l,type:q().Z.Y,style:y.scroller,children:(0,G.jsx)(j().GR,{dropTargetKey:"secondarySidebarPrivateSection",canDropOnto:!0,canDropBelow:!1,canAcceptDrop:J,onSelectableDrop:ne,shouldShowDropZone:T,children:(0,G.jsx)(D().Z,{sections:v,state:m,setState:S,type:t,spaceStore:c,spaceViewStore:d,visiblePageIds:[],onClose:V,menuListStore:f,renderSections:e=>function(e){const{sections:t,onClose:n,environment:o,mode:r,type:i,assistantCreatedPageIds:a}=e,s=1===t.length;return t.map(((e,l)=>{let{key:c,pages:d}=e;return{key:c,items:d.map((e=>{let{blockId:t,store:s,index:l}=e;if(!(0,_().$K)(a)||!a.includes(t))return{key:t,action:e=>{let{event:t}=e;const a=K().DJ(t);a||"peek"!==r||n(),I()._c({environment:o,store:s,openInNew:a,pageVisitSource:(0,F().N)({type:i,from:"secondary_sidebar"})})},render:()=>(0,G.jsx)(te,{store:s,itemIndex:l,type:i})}})).filter(_().$K),render:e=>(0,G.jsx)(B().Z,{...e,desktopTitleStyle:{paddingLeft:16,paddingTop:0===l?0:4},topBorder:!1,title:s?void 0:(0,F().BY)({section:c,isFirst:!1}),style:{paddingTop:0,marginTop:0,paddingBottom:l===t.length-1?30:0}})}}))}({spaceStore:c,environment:s,onClose:V,sections:e,mode:x,type:t,assistantCreatedPageIds:E})})})})]})})}}):null}function ee(e){let{state:t,setState:n,menuListStore:i,type:s}=e;const l=(0,o.useRef)(null),c=(0,r().O7)(),d=(0,C().YB)(),u=(0,a().yK)((e=>({inputOuter:{borderRadius:6,backgroundColor:e.whiteButtonBackground,padding:"4px 8px"},input:{paddingLeft:16,paddingRight:16},menuItem:{paddingTop:4,paddingBottom:16}})),[]),p=(0,o.useCallback)((e=>{n({query:e.target.value,numPagesShown:Z().k4}),i.setState({...i.state,focus:{section:0,indexLocal:0,indexGlobal:0,footerFocused:!1}}),w().SR(c,{sidebar_section_type:s,search_query:e.target.value,flow_id:$().default.state.flowId})}),[c,i,n,s]),m=(0,o.useCallback)((()=>{l.current&&k().ZH({environment:c})}),[c]);return(0,G.jsx)(B().Z,{style:u.menuItem,children:(0,G.jsx)(V().Z,{debugName:"MorePagesSecondarySidebarContentInput",capture:!0,allowSearch:!0,allowOpenLinkMenu:!0,allowEsc:!0,children:(0,G.jsx)(T().ZP,{ref:l,focusInitial:!0,onFocus:m,showClearButton:!0,inputOuterStyle:u.inputOuter,itemMarginLeft:0,itemMarginRight:0,style:u.input,placeholder:d.formatMessage(Q.searchPlaceholder),value:t.query,onChange:p})})})}function te(e){const t=(0,r().O7)(),{store:n,itemIndex:s,type:l}=e,{currentSpaceViewStore:c,currentSpaceStore:d}=(0,i().Kw)(U().default),u=(0,i().VK)((()=>{if(c&&d)return(0,F().P4)({typeWithTeam:{type:l},currentSpaceStore:d,currentSpaceViewStore:c})}),[c,d,l]),p=(0,i().VK)((()=>{if(!c)return"manual";return(0,F().S4)({spaceViewStore:c,type:l}).sortOption}),[c,l]),m=(0,a().yK)((()=>({outlinerContainer:{borderRadius:12,marginLeft:8,marginRight:8,width:"inherit",marginBottom:1}})),[]),S=(0,o.useCallback)((()=>{(0,F().Nb)({environment:t,store:n,type:l})}),[t,n,l]);return(0,G.jsx)("div",{style:m.outlinerContainer,children:(0,G.jsx)(E().ZP,{from:"secondary_sidebar",parentStore:u,variant:"manual"===p?"primary":"secondary",type:l,disabled:!1,store:n,itemIndex:s,itemDepth:0,onNavigate:S},n.id)})}var ne=()=>n(14801),oe=()=>n(690664);const re={duration:200};function ie(){const e=(0,r().O7)(),t=(0,i().VK)((()=>(0,x().L)(e)),[e]),{mode:n,openState:c,contentType:m,isOpen:S,isVisible:f,isTransitioningState:h,isPeekDismissable:y}=(0,i().VK)((()=>{const{mode:e,openState:t,contentType:n}=$().default.state;return{mode:e,openState:t,contentType:n,isOpen:$().default.isOpen(),isVisible:$().default.isVisible(),isTransitioningState:$().default.isTransitioningState(),isPeekDismissable:$().default.isPeekDismissableState()}}),[]);(0,o.useEffect)((()=>{setTimeout((()=>{"closing"===c&&$().default.setState({...$().default.state,openState:"closed"}),"opening"===c&&$().default.setState({...$().default.state,openState:"open"})}),re.duration+100)}),[c]);const C=(0,i().VK)((()=>oe().default.getWidth()),[]),_=(0,i().VK)((()=>$().default.state.isResizerHovered&&$().default.isOpen()),[]),w=(0,g().J4)(),P=(0,a().yK)((e=>{const o={transition:"box-shadow 300ms ease",boxShadow:_?e.secondarySidebarResizerBoxShadow:e.secondarySidebarBoxShadow};return{container:{order:s().Z.appCursorListener.secondarySidebar,cursor:"default",zIndex:f&&!h?l().I8:l().jM,width:C,height:w?`calc(100% - ${v().tL}px)`:"100%",background:e.contentBackground,flexShrink:0,display:"flex",visibility:f?"visible":"hidden",position:"fixed",left:t,..."peek"===n&&{boxShadow:e.largeLightBoxShadow,clipPath:"inset(0px -24px 0px 0px)"}},overlayBackground:{cursor:"default",position:"fixed",top:0,left:t,width:`calc(100vw - ${t}px)`,height:"100vh",zIndex:l().Dy},resizer:{position:"absolute",top:0,right:0,zIndex:1,height:"100%",width:2,...o}}}),[_,f,h,C,w,t,n]),I=(0,o.useCallback)((()=>{y&&b().TN({environment:e})}),[e,y]),k=(0,o.useCallback)((()=>{$().default.setState({...$().default.state,isMouseEntered:!0})}),[]),j=(0,o.useCallback)((()=>{$().default.setState({...$().default.state,isMouseEntered:!1})}),[]);return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(u().Z,{debugName:"SecondarySidebar",capture:y,onEsc:()=>{b().rQ({environment:e})}},String(y)),y&&(0,G.jsx)("div",{style:P.overlayBackground,onClick:I}),(0,G.jsxs)(d().Z,{forceCompositeLayer:!0,visible:S,initial:{opacity:.7,translateX:-C},exit:{opacity:.7,translateX:-C},animate:{opacity:1,translateX:0,width:C},skip:!h,config:re,onAnimationEnd:()=>{"opening"===c?$().default.setState({...$().default.state,openState:"open"}):"closing"===c&&$().default.setState({...$().default.state,openState:"closed"})},style:P.container,onMouseMove:k,onMouseLeave:j,children:[(0,G.jsx)(ae,{},m),(0,G.jsx)("div",{style:P.resizer}),(0,G.jsx)(p().Z,{type:"secondary_sidebar"})]})]})}function ae(){const{contentType:e}=(0,i().Kw)($().default),t=(0,a().yK)((()=>({content:{display:"flex",flexDirection:"column",width:"100%",height:"100vh"}})),[]),n="on"===(0,S().a)("inbox_activity_split");switch(e){case"private_pages":return(0,G.jsxs)("div",{style:t.content,children:[(0,G.jsx)(ne().A,{type:"private_pages"}),(0,G.jsx)(J,{type:"private"})]});case"shared_pages":return(0,G.jsxs)("div",{style:t.content,children:[(0,G.jsx)(ne().A,{type:"shared_pages"}),(0,G.jsx)(J,{type:"shared"})]});case"inbox":return(0,G.jsx)(h().B.Provider,{value:n?"inbox":void 0,children:(0,G.jsx)(f().hR,{})});case"activity":return(0,G.jsx)(h().B.Provider,{value:n?"activity":void 0,children:(0,G.jsx)(f().hR,{})});case"assistant":return(0,G.jsx)(m().JU,{surface:m().FP.fullPage,children:(0,G.jsxs)("div",{style:t.content,children:[(0,G.jsx)(ne().A,{type:"assistant"}),(0,G.jsx)(c().ZP,{})]})});case"teams":return(0,G.jsxs)("div",{style:t.content,children:[(0,G.jsx)(ne().A,{type:"teams"}),(0,G.jsx)(y().tn,{})]});default:return(0,G.jsx)(se,{})}}function se(){return(0,G.jsx)("div",{})}},974442:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n(263184).default.createValue({open:!1},{name:"ConfirmOverwriteModalStore"})},779522:(e,t,n)=>{n.d(t,{Z:()=>r});const o=new(n(168469).q)((e=>{let{spaceId:t}=e;return t}),(async function(e,t){var o;let{spaceId:r}=t;const i=await Promise.resolve().then(n.bind(n,824462)),a=await i.callApi({eventName:"getInternalDomains",environment:e,data:{spaceId:r}});return"success"===a.type?null===(o=a.data)||void 0===o?void 0:o.internalDomainsWithInfo:void 0}));n(947115).exposeDebugValue("InternalDomainsStore",o);const r=o},994875:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});class o extends(()=>n(263184))().default{getInitialState(){return{discussionIdToExpansionStartPointMap:{}}}}const r=new o},815277:(e,t,n)=>{n.d(t,{CH:()=>m,DE:()=>l().DE,KQ:()=>l().KQ,Rv:()=>l().Rv,V5:()=>p().V5,VX:()=>S,eB:()=>l().eB,oo:()=>l().oo});var o=()=>n(255933),r=()=>n(779709),i=()=>n(205228),a=()=>n(845682),s=()=>n(30795),l=()=>n(546464),c=()=>n(404791),d=()=>n(897257),u=()=>n(18281),p=()=>n(259408);const m={guests:e=>{if(!d().subscriptionDataStoreInstance.state)return"loading";return{current:(0,u().s1)(e.environment,e.spaceId,d().subscriptionDataStoreInstance.state)}},team_self_promotion:e=>{},internal_guests:e=>{if(!d().subscriptionDataStoreInstance.state)return"loading";return{current:(0,u().s1)(e.environment,e.spaceId,d().subscriptionDataStoreInstance.state),hasLowGuestLimit:(0,n(548812).fc)()}},members:e=>{const t=d().subscriptionDataStoreInstance.state;return{current:t?(0,s().W)(e.environment,e.spaceId,t):0}},non_admin_members:e=>{},view_chart:e=>{},form_filesize:e=>{},form_customization:e=>{},premium_automations:e=>{},move_to:e=>{},claimable_spaces:e=>{},domain_settings:e=>{},managed_users:e=>{},invite_user_to_workspace_mentions:e=>{},saml:e=>{},scim:e=>{},export_members:e=>{},hipaa_compliance:e=>{},sites_multiple_public_domains:e=>{},custom_image_upload_favicon:e=>{},custom_public_sites_layout:e=>{},seo_title_and_description:e=>{},admin_transfer_private_content:e=>{},ai_slack_qna:e=>{},configurable_mention_invites:e=>{},configurable_retention:e=>{},unbranded_forms:e=>{},ai_google_drive_qna:e=>{},watermarkless_chart_export:e=>{},configurable_deletion_and_retention_settings:e=>{},sudo_mode:e=>{},ai_github_connector:e=>{},ai_jira_connector:e=>{},slack_imports_invite:e=>{},content_reprovisioning:e=>{},ai_space_usage:e=>{var t;let{environment:n,spaceId:l}=e;const u=new(a().H)(n,{table:o().bx,id:l}).getModel(),p=(0,r().oc)(i().default.promotions.ai,u),m=(null===(t=c().Z.state)||void 0===t?void 0:t.spaceUsage)??0,S=d().subscriptionDataStoreInstance.state;return{current:m,memberCount:S?(0,s().W)(n,l,S):0,aiPromotionConfig:p,space:u}},ai_user_usage:e=>{var t;let{environment:n,spaceId:l}=e;const u=new(a().H)(n,{table:o().bx,id:l}).getModel(),p=(0,r().oc)(i().default.promotions.ai,u),m=(null===(t=c().Z.state)||void 0===t?void 0:t.userUsage)??0,S=d().subscriptionDataStoreInstance.state;return{current:m,memberCount:S?(0,s().W)(n,l,S):0,aiPromotionConfig:p,space:u}},block_read_and_write_role:e=>{}};function S(e){return(0,l().Rv)(e)??!1}},999582:(e,t,n)=>{n.d(t,{Z:()=>i});class o extends(()=>n(263184))().default{getInitialState(){return{}}}const r=new o;n(947115).exposeDebugValue("SpaceWorkflowTemplateInstanceMapStore",r);const i=r},184441:(e,t,n)=>{n.d(t,{default:()=>i});class o extends(()=>n(263184))().default{getInitialState(){return{open:!1,isShowingLoadingState:!1}}updateUserCustomizations(e,t){this.state.open&&this.state.collectionTemplate&&this.setState({...this.state,userCustomizations:{...this.state.userCustomizations,[e]:t}})}updateCollectionTemplate(e){this.state.open&&this.state.collectionTemplate&&this.setState({...this.state,collectionTemplate:e})}updatePreviewCollectionViewTemplateId(e){this.state.open&&this.state.collectionTemplate&&this.setState({...this.state,previewCollectionViewTemplateId:e})}getParentStore(){return this.state.open?this.state.parentStore:void 0}getShouldShowExpandedTemplateList(){return this.state.open&&this.state.shouldShowExpandedTemplateList}setShouldShowExpandedTemplateList(e){this.state.open&&this.setState({...this.state,shouldShowExpandedTemplateList:e})}close(e){var t,n;this.state.open&&(null===(t=(n=this.state).onClose)||void 0===t||t.call(n,e),this.setState({open:!1,isShowingLoadingState:!1}))}reset(){this.setState(this.getInitialState())}}const r=new o;(0,n(947115).exposeDebugValue)("InitializeWorkflowTemplateModalStore",r);const i=r},29488:(e,t,n)=>{function o(e){return`${e.table}:${e.id}`}n.d(t,{O:()=>o})},809461:(e,t,n)=>{n.d(t,{w:()=>i});n(667294);var o=n(785893);const r={viewBox:"0 0 20 20",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M10 7c-1.654 0-3 1.346-3 3s1.346 3 3 3 3-1.346 3-3-1.346-3-3-3m0 4.5c-.827 0-1.5-.673-1.5-1.5s.673-1.5 1.5-1.5 1.5.673 1.5 1.5-.673 1.5-1.5 1.5"}),(0,o.jsx)("path",{d:"M18.307 8.445a.7.7 0 0 0-.57-.56l-1.643-.283-.056-.138.973-1.378a.7.7 0 0 0 .008-.795 8.5 8.5 0 0 0-2.244-2.264.7.7 0 0 0-.8.006l-1.36.96-.138-.056-.289-1.661a.7.7 0 0 0-.554-.567 8.5 8.5 0 0 0-3.188-.015.7.7 0 0 0-.562.569l-.282 1.643-.139.056-1.377-.971a.7.7 0 0 0-.794-.01q-.68.457-1.284 1.06a8.5 8.5 0 0 0-.98 1.185.7.7 0 0 0 .005.799l.961 1.36q-.03.069-.057.139l-1.66.287a.7.7 0 0 0-.569.555 8.5 8.5 0 0 0-.015 3.188.7.7 0 0 0 .57.561l1.643.283.056.14-.971 1.375a.7.7 0 0 0-.01.793 8.6 8.6 0 0 0 2.244 2.267.7.7 0 0 0 .8-.006l1.36-.961.14.058.286 1.66a.7.7 0 0 0 .555.568 8.5 8.5 0 0 0 3.188.015.7.7 0 0 0 .561-.57l.283-1.643q.07-.027.138-.056l1.378.972a.7.7 0 0 0 .795.008 8.6 8.6 0 0 0 2.264-2.243.7.7 0 0 0-.006-.8l-.961-1.36.058-.138 1.66-.289a.7.7 0 0 0 .567-.554q.159-.806.16-1.656a8.5 8.5 0 0 0-.144-1.533m-1.314 2.45-1.567.271a.7.7 0 0 0-.545.47c-.09.27-.189.508-.303.726a.7.7 0 0 0 .05.728l.904 1.28a7 7 0 0 1-1.22 1.207l-1.297-.915a.7.7 0 0 0-.716-.055 5 5 0 0 1-.734.298.7.7 0 0 0-.476.548l-.267 1.549a7.2 7.2 0 0 1-1.717-.009l-.27-1.567a.7.7 0 0 0-.47-.545 5 5 0 0 1-.728-.303.69.69 0 0 0-.726.05l-1.281.904a7.2 7.2 0 0 1-1.208-1.22l.916-1.297a.7.7 0 0 0 .054-.717 5 5 0 0 1-.297-.732.7.7 0 0 0-.549-.477l-1.548-.267a7.2 7.2 0 0 1 .009-1.717l1.567-.27a.7.7 0 0 0 .545-.468c.09-.273.19-.512.303-.731a.7.7 0 0 0-.05-.726l-.904-1.28a7.2 7.2 0 0 1 1.22-1.208l1.298.916c.21.15.486.17.716.054a5 5 0 0 1 .732-.297.7.7 0 0 0 .478-.549l.266-1.548a7.3 7.3 0 0 1 1.717.008l.271 1.568a.7.7 0 0 0 .468.545c.271.09.51.19.73.303a.7.7 0 0 0 .725-.05l1.281-.904a7.2 7.2 0 0 1 1.208 1.22l-.916 1.298a.7.7 0 0 0-.054.716c.117.233.216.48.297.733.08.25.291.433.548.477l1.549.267a7 7 0 0 1-.009 1.716"})]})},i=(0,n(827282).IU)("gear",r)},259408:(e,t,n)=>{n.d(t,{$W:()=>p,KQ:()=>u,_e:()=>S,Ay:()=>g,fS:()=>d,t:()=>i(),V5:()=>f,Kz:()=>h});n(267602),n(653476);var o=()=>n(513670),r=()=>n(696459),i=()=>n(124199),a=()=>n(629719);const s=["student","personal","plus","business","enterprise"];function l(e){return(0,r().DE)(s,e)}var c=()=>n(122792);const d=["plus","business","enterprise","ai","sites_custom_hostnames"];function u(e,t,n,o){return S(p(e,t,n,o))}function p(e,t,n,o){const{name:i,scope:a,actor:s}=o,l={...o,billingData:a.billingData},c=a.premiumFeatureOverrides,d=i in c?function(e,t,n){const o={type:"contact_account_manager"},i=e[t.name].type;if("check"===i){const e={type:"none"};return!0===n?{type:"available",limit:e}:{type:"upsell",upsell:o,limit:e}}if("per_use"===i){const e=t.amount,r={type:"per_use",amount:n};return"unlimited"===n||n>e?{type:"available",limit:r}:{type:"upsell",upsell:o,limit:r}}if("cumulative"===i){const e=t.amount,r=t.data.current,i={type:"cumulative",current:r,total:n};return"unlimited"===n||n>=r+e?{type:"available",limit:i}:{type:"upsell",upsell:o,limit:i}}(0,r().t1)(i)}(t,o,c[i]):n[i](l);let u;if("available"===d.type){const e=d.upsell?m(a.billingData,d.upsell,o.supportedProducts):void 0;u={...d,upsell:e}}else if("blocked"===d.type){const e=m(a.billingData,d.upsell,o.supportedProducts);u={...d,upsell:e}}else{const e=m(a.billingData,d.upsell,o.supportedProducts),t=function(e){const{actor:t,supportedProducts:n,upsell:o}=e;if(!t.isSpaceAdmin)return"blocked";const i=o.type;switch(i){case"product":return n.includes(o.product)?"upsell":"blocked";case"contact_sales":case"contact_account_manager":return"upsell";default:(0,r().t1)(i)}}({actor:s,supportedProducts:o.supportedProducts,upsell:e});u={...d,type:t,upsell:e}}return Math.random()<.001&&e({level:"info",from:"premiumFeatureFramework",type:"getPremiumFeatureAvailability",data:{featureName:i,featureScope:a,featureActor:s,featureAvailability:d}}),u}function m(e,t,n){if((0,a().Rd)(e.subscription))return{type:"contact_account_manager"};if("product"!==(null==t?void 0:t.type)||n.includes(t.product)||!l(t.product))return t;const r=t.product,i=n.filter((e=>l(e))).filter((e=>"student"!==e)).filter((e=>c().rC[e]>=c().rC[r])),s=(0,o().F)(i,(e=>c().rC[e]));return s?{...t,product:s}:t}function S(e){return"available"===(null==e?void 0:e.type)}function f(e,t){const{available:n}=t;let o,i;return"unavailable"in t?(o=t.unavailable,i=t.unavailable):(o=t.blocked,i=t.upsell),"available"===e.type?n():"upsell"===e.type?i(e):"blocked"===e.type?o(e):(0,r().t1)(e)}function h(e,t){if(void 0!==e)return f(e,{available:()=>{},blocked:t,upsell:()=>{}})}function g(e){return i().object({required:e,optional:{}})}}}]);