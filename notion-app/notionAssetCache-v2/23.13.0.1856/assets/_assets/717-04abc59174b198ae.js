"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[717],{942834:(e,t,n)=>{n.d(t,{k:()=>a});var o=()=>n(431143),s=()=>n(253502),i=()=>n(636340),l=()=>n(269299);function a(e){const{environment:t,key:n,selectedKey:a,following:d,followSettings:r,navigableBlockId:c,userId:u,spaceId:m,from:p}=e;l().createAndCommit({userAction:"UpdateSidebarFollowControl.setFollowing",environment:e.environment,canUndo:!1,perform:t=>{i().Ue({environment:e.environment,table:o().t0,args:{following:d,followSettings:r,navigableBlockId:c,userId:u,spaceId:m},inMemoryRecordCache:e.environment.defaultRecordCache.inMemoryRecordCache,transaction:t})}}),d?s().RJ(t,{from:"page_updates"}):s().ub(t,{from:"page_updates"}),a!==n&&s().kL(t,{from:p,navigableBlockId:c,oldSetting:a,newSetting:n})}},361664:(e,t,n)=>{n.d(t,{H:()=>s});n(667294);var o=n(785893);const s=(0,n(827282).IU)("plusWithBorder",{viewBox:"0 0 22 22",svg:(0,o.jsx)("path",{d:"M20.4336 1.61719C21.0273 2.21094 21.4023 2.92187 21.5586 3.75C21.7227 4.57031 21.8047 5.48047 21.8047 6.48047V15.5859C21.8047 16.5938 21.7227 17.5078 21.5586 18.3281C21.4023 19.1484 21.0273 19.8594 20.4336 20.4609C19.832 21.0547 19.1172 21.4336 18.2891 21.5977C17.4609 21.7617 16.5469 21.8438 15.5469 21.8438H6.44141C5.44141 21.8438 4.52734 21.7617 3.69922 21.5977C2.87891 21.4336 2.16797 21.0547 1.56641 20.4609C0.964844 19.8594 0.585938 19.1484 0.429688 18.3281C0.273438 17.5078 0.195312 16.5938 0.195312 15.5859V6.45703C0.195312 5.47266 0.273438 4.57031 0.429688 3.75C0.59375 2.92969 0.972656 2.21875 1.56641 1.61719C2.16797 1.02344 2.87891 0.644531 3.69922 0.480469C4.52734 0.316406 5.43359 0.234375 6.41797 0.234375H15.5469C16.5469 0.234375 17.4609 0.316406 18.2891 0.480469C19.1172 0.644531 19.832 1.02344 20.4336 1.61719ZM19.918 6.16406C19.918 5.5625 19.8633 4.97266 19.7539 4.39453C19.6445 3.81641 19.4102 3.35156 19.0508 3C18.6992 2.64062 18.2305 2.40625 17.6445 2.29688C17.0664 2.17969 16.4766 2.12109 15.875 2.12109H6.16016C5.54297 2.12109 4.9375 2.17969 4.34375 2.29688C3.75781 2.40625 3.28906 2.63672 2.9375 2.98828C2.58594 3.34766 2.35547 3.82031 2.24609 4.40625C2.13672 4.98438 2.08203 5.58203 2.08203 6.19922V15.9141C2.08203 16.5156 2.13672 17.1055 2.24609 17.6836C2.35547 18.2617 2.58594 18.7266 2.9375 19.0781C3.29688 19.4297 3.76562 19.6641 4.34375 19.7812C4.92969 19.8984 5.52344 19.957 6.125 19.957H15.875C16.4766 19.957 17.0664 19.8984 17.6445 19.7812C18.2305 19.6719 18.6992 19.4375 19.0508 19.0781C19.4023 18.7266 19.6328 18.2617 19.7422 17.6836C19.8594 17.1055 19.918 16.5156 19.918 15.9141V6.16406ZM5.57422 11.0391C5.57422 10.7422 5.66406 10.5039 5.84375 10.3242C6.03125 10.1367 6.27734 10.043 6.58203 10.043H10.0273V6.59766C10.0273 6.30078 10.1172 6.05859 10.2969 5.87109C10.4766 5.68359 10.707 5.58984 10.9883 5.58984C11.2852 5.58984 11.5234 5.68359 11.7031 5.87109C11.8906 6.05078 11.9844 6.29297 11.9844 6.59766V10.043H15.4414C15.7383 10.043 15.9766 10.1367 16.1562 10.3242C16.3438 10.5039 16.4375 10.7422 16.4375 11.0391C16.4375 11.3203 16.3438 11.5508 16.1562 11.7305C15.9766 11.9102 15.7383 12 15.4414 12H11.9844V15.457C11.9844 15.7539 11.8906 15.9961 11.7031 16.1836C11.5234 16.3633 11.2852 16.4531 10.9883 16.4531C10.707 16.4531 10.4766 16.3633 10.2969 16.1836C10.1172 15.9961 10.0273 15.7539 10.0273 15.457V12H6.58203C6.28516 12 6.04297 11.9102 5.85547 11.7305C5.66797 11.5508 5.57422 11.3203 5.57422 11.0391Z"})})},326264:(e,t,n)=>{n.d(t,{SZ:()=>y,Zk:()=>b,bf:()=>g,t0:()=>w});n(667294);var o=()=>n(926724),s=()=>n(788860),i=()=>n(696459),l=()=>n(38562),a=()=>n(942834),d=()=>n(102182),r=()=>n(855238),c=()=>n(733641),u=()=>n(876822),m=()=>n(603332),p=n(785893);const f=(0,s().vU)({repliesAndMentions:{id:"pageNotificationSettings.repliesAndMentions.displayName",defaultMessage:"Mentions"},comments:{id:"pageNotificationSettings.comments.displayName",defaultMessage:"Comments"},allUpdates:{id:"pageNotificationSettings.allUpdates.displayName",defaultMessage:"All"},importantUpdates:{id:"pageNotificationSettings.importantUpdates.displayName",defaultMessage:"Important"}});function g(e){switch(e){case"Mentions":return f.repliesAndMentions;case"Comments":return f.comments;case"All":return f.allUpdates;case"Important":return f.importantUpdates;default:return}}function b(e){const{followSettingsKey:t,environment:n,blockStore:i,from:l}=e,a=S({key:"none",selectedKey:t,title:(0,p.jsx)(s()._H,{id:"GetNotifiedDropdown.repliesAndMentions.label",defaultMessage:"Replies and @mentions"}),displayName:f.repliesAndMentions,environment:n,blockStore:i,from:l}),d=S({key:"comments",selectedKey:t,title:(0,p.jsx)(s()._H,{id:"GetNotifiedDropdown.allComments.label",defaultMessage:"All comments"}),displayName:f.comments,environment:n,blockStore:i,from:l}),r=S({key:"all",selectedKey:t,title:(0,p.jsx)(s()._H,{id:"GetNotifiedDropdown.allUpdates.label",defaultMessage:"All updates"}),caption:(0,p.jsx)(s()._H,{id:"GetNotifiedDropdown.simpleAllUpdates.caption",defaultMessage:"All comments and property changes"}),displayName:f.allUpdates,environment:n,blockStore:i,from:l}),c=i.getAssociatedCollectionStore();if(!c)return[d,a];const u=c.getDatabaseType();if(u===o().Ym){return[r,S({key:"important",selectedKey:t,title:(0,p.jsx)(s()._H,{id:"GetNotifiedDropdown.importantUpdatesTasks.label",defaultMessage:"Important updates"}),caption:(0,p.jsx)(s()._H,{id:"GetNotifiedDropdown.importantUpdatesTasks.caption",defaultMessage:"All comments and changes to Status, Assignee, or Due Date"}),displayName:f.importantUpdates,environment:n,blockStore:i,from:l}),a]}if(u===o().wW){return[r,S({key:"important",selectedKey:t,title:(0,p.jsx)(s()._H,{id:"GetNotifiedDropdown.importantUpdatesProjects.label",defaultMessage:"Important updates"}),caption:(0,p.jsx)(s()._H,{id:"GetNotifiedDropdown.importantUpdatesProjects.caption",defaultMessage:"All comments and changes to Status or Date"}),displayName:f.importantUpdates,environment:n,blockStore:i,from:l}),a]}return[r,S({key:"comments",selectedKey:t,title:(0,p.jsx)(s()._H,{id:"GetNotifiedDropdown.onlyCommentsAllComments.label",defaultMessage:"All comments"}),displayName:f.comments,environment:n,blockStore:i,from:l}),a]}function S(e){const{key:t,title:n,caption:o,selectedKey:s,environment:i,blockStore:f,from:g,displayName:b}=e,S=w({key:t,userSelectedKey:s}),y={icon:{width:14,height:14},rightWrapper:o?{alignSelf:"flex-start",paddingTop:2}:{}};return{action:(0,l().cN)({key:t,displayName:b,analyticsName:t,validators:[],closeParentMenu:!0,action:()=>{const{currentUserRootStore:e}=u().default.state;if(e){const{following:n,followSettings:o}=(0,m().Z)(t),l=e.id,r=f.id,c=f.getSpaceId();a().k({environment:i,following:n,followSettings:o,navigableBlockId:r,spaceId:c,userId:l,from:g,key:t,selectedKey:s}),"inbox"!==g&&"more_menu"!==g||d().d4({item:{label:C(t)},undoFunc:()=>{const{following:e,followSettings:n}=(0,m().Z)(s);a().k({environment:i,following:e,followSettings:n,navigableBlockId:r,spaceId:c,userId:l,from:g,key:t,selectedKey:s})}})}},render:e=>(0,p.jsx)(r().Z,{...e,title:n,caption:o,shouldWrapCaption:!0,right:S?(0,c().k)(y.icon):(0,p.jsx)("div",{style:y.icon}),rightStyle:y.right})}),title:n,isSelectedOption:S}}function w(e){const{key:t,userSelectedKey:n}=e;return"important"===n||"comments"===n?"important"===t||"comments"===t:t===n}function y(e){switch(e){case"subscribed":return(0,p.jsx)(s()._H,{id:"GetNotifiedDropdown.followedFeedSettingSuccess.snackbarMessage",defaultMessage:"Followed the feed"});case"unsubscribed":return(0,p.jsx)(s()._H,{id:"GetNotifiedDropdown.unfollowedFeedSettingSuccess.snackbarMessage",defaultMessage:"Unfollowed the feed"});default:(0,i().t1)(e)}}function C(e){switch(e){case"none":return(0,p.jsx)(s()._H,{id:"GetNotifiedDropdown.subscribedRepliesAndMentionsSuccess.snackbarMessage",defaultMessage:"Subscribed to replies and @mentions"});case"comments":return(0,p.jsx)(s()._H,{id:"GetNotifiedDropdown.subscribedAllCommentsSuccess.snackbarMessage",defaultMessage:"Subscribed to all comments"});case"important":return(0,p.jsx)(s()._H,{id:"GetNotifiedDropdown.subscribedImportantUpdatesSuccess.snackbarMessage",defaultMessage:"Subscribed to important updates"});case"all":return(0,p.jsx)(s()._H,{id:"GetNotifiedDropdown.subscribedAllUpdatesSuccess.snackbarMessage",defaultMessage:"Subscribed to all updates"});default:(0,i().t1)(e)}}},603332:(e,t,n)=>{n.d(t,{Z:()=>i});var o=()=>n(431143),s=()=>n(696459);function i(e,t){switch(e){case"all":return{following:!0,followSettings:{...(0,o().yI)({explicitly_set_by_user:!0}),feed_setting:t}};case"important":return{following:!0,followSettings:{...(0,o().GC)({explicitly_set_by_user:!0}),feed_setting:t}};case"comments":return{following:!0,followSettings:{...(0,o().r$)({explicitly_set_by_user:!0}),feed_setting:t}};case"none":return{following:!1,followSettings:{...(0,o().vU)({explicitly_set_by_user:!0}),feed_setting:t}};default:(0,s().t1)(e)}}},801037:(e,t,n)=>{n.d(t,{N:()=>a});var o=()=>n(942834),s=()=>n(102182),i=()=>n(326264),l=()=>n(603332);function a(e,t,n,a,d){if(!t||!n||!a)return;const{newFeedSetting:r,currentFeedSetting:c}=d?{newFeedSetting:"unsubscribed",currentFeedSetting:"subscribed"}:{newFeedSetting:"subscribed",currentFeedSetting:"unsubscribed"},u=t.getFollowSettingsKey(),{following:m,followSettings:p}=(0,l().Z)(u,r);o().k({environment:e,followSettings:p,following:m,navigableBlockId:t.id,userId:n.id,spaceId:t.getSpaceId(),key:u,selectedKey:u,from:"more_menu"}),s().d4({item:{label:(0,i().SZ)(r)},undoFunc:()=>{const{following:s,followSettings:i}=(0,l().Z)(u,c);o().k({environment:e,followSettings:i,following:s,navigableBlockId:t.id,userId:n.id,spaceId:t.getSpaceId(),key:u,selectedKey:u,from:"more_menu"})}})}},171904:(e,t,n)=>{n.d(t,{b:()=>i});var o=()=>n(142735),s=()=>n(321542);function i(e){let{teamStore:t,collectionViewBlockStore:n}=e;const i=(0,o().VK)((()=>t.isDefined()),[t]),{isExplicitlySubscribedToFeed:l,isExplicitlyUnsubscribedToFeed:a,followDataIsLoaded:d}=(0,o().VK)((()=>{const e=null==n?void 0:n.getFollowStore();return{followDataIsLoaded:null==e?void 0:e.isReady(),isExplicitlySubscribedToFeed:null==e?void 0:e.isExplicitlySubscribedToFeed(),isExplicitlyUnsubscribedToFeed:null==e?void 0:e.isExplicitlyUnsubscribedToFeed()}}),[n]),r=(0,s().s)(t);if(!d||!i)return;return l||r&&!a}},321542:(e,t,n)=>{n.d(t,{s:()=>l});var o=()=>n(219727),s=()=>n(142735),i=()=>n(619779);function l(e){const t=(0,o().O7)();return(0,s().VK)((()=>{if(t.currentUser.id)return e.isMemberOrGuest(t.currentUser.id,i().Z.state.spacePermissionGroupIds)}),[t.currentUser.id,e])}}}]);