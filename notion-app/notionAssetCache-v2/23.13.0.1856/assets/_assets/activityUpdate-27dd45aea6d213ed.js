"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[57866],{900596:(e,t,o)=>{o.d(t,{Z:()=>a});o(667294);var r=()=>o(788860),i=o(785893);const a=function(e){let{collectionViewName:t,collectionViewType:a}=e;return t?(0,i.jsx)(o(827618).Z,{children:t}):"page"===a?(0,i.jsx)(r()._H,{id:"database.collectionView.untitledName.untitled",defaultMessage:"Untitled"}):(0,i.jsx)(r()._H,{...o(887430).b1[a]})}},623722:(e,t,o)=>{o.r(t),o.d(t,{ActivityUpdate:()=>H});var r=o(667294),i=()=>o(219727),a=()=>o(142735),l=()=>o(59438),s=()=>o(799891),n=()=>o(542973),c=()=>o(826955),d=()=>o(712910),u=()=>o(506347),h=()=>o(752778),p=()=>o(788860),g=()=>o(729775),v=()=>o(204642),b=()=>o(514380),m=()=>o(930845),A=()=>o(966842),y=()=>o(541714),O=()=>o(126514),f=()=>o(27625),S=o(785893);function j(e){let{edit:t,url:o,tabArgs:r,rootStore:a}=e;const l=(0,i().O7)(),{source:s}=r,n=l.device.isMobile;return(0,S.jsx)(g().Z,{href:o,innerStyle:(0,A().OD)({source:s,isMobile:n}),children:(0,S.jsx)(v().Z,{edit:t,rootStore:a})})}var x=()=>o(386617);o(241792);var V=()=>o(846550),T=()=>o(766933);function M(e){let{edit:t,url:o,tabArgs:r,rootStore:a}=e;const l=(0,i().O7)();if("collection-property-changed"!==t.type)return null;const{source:s}=r,n=l.device.isMobile;return(0,S.jsx)(g().Z,{href:o,innerStyle:(0,A().OD)({source:s,isMobile:n}),children:(0,S.jsx)(v().Z,{edit:t,rootStore:a})})}function _(e){let{propertySchema:t}=e;const o=(0,V().Fg)(),r=(0,V().yK)((()=>({icon:{width:12,height:12,display:"inline-block",verticalAlign:"middle",marginBottom:2,marginRight:4},container:{...A().nP,whiteSpace:"nowrap"}})),[]);return(0,S.jsxs)("span",{style:r.container,children:[(0,S.jsx)(T().ZP,{icon:t.icon,type:t.type,size:12,style:r.icon,theme:o}),t.name]})}var K=()=>o(396136);function k(e){const{activity:t,tabArgs:o,rootStore:r,isLast:l}=e,{notification:s,tab:n}=o,u=(0,i().O7)(),h=(0,a().VK)((()=>parseInt(t.end_time)),[t]),g=(0,a().VK)((()=>t.getEdits()),[t]),v=g[0],A=(0,a().VK)((()=>c().G.createChildStore(r,{table:K().iU,id:t.collection_row_id})),[t,r]),j=(0,a().VK)((()=>A.getProperties()),[A]),x=(0,a().VK)((()=>(0,d().P6)({edits:g,rootStore:r})),[g,r]),V=(0,a().VK)((()=>(0,d().XW)(x)),[x]),T=(0,a().VK)((()=>(0,d().jC)({recordId:A.id,recordType:"block",tab:n,rootStore:r,environment:u})),[A.id,u,r,n]);if(!g.length||!A||!j)return null;const M=(0,S.jsx)(y().Z,{titledRecordStore:A,activity:t,tabArgs:o,getRecordModel:r.getRecordModel}),_="collection-row-created"===v.type?(0,S.jsx)(p()._H,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} created {pageTitle}} other {{authorOrAuthors} created {pageTitle}}}",values:{numberOfAuthors:x.length,authorOrAuthors:V,pageTitle:M},id:"activity.collectionRowCreated.header"}):(0,S.jsx)(p()._H,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} deleted {pageTitle}} other {{authorOrAuthors} deleted {pageTitle}}}",values:{numberOfAuthors:x.length,authorOrAuthors:V,pageTitle:M},id:"activity.collectionRowDeleted.header"});return(0,S.jsx)(O().ZP,{timestamp:h,header:(0,S.jsx)("span",{children:_}),isLast:l,isPrivate:T,rootStore:r,navigableBlockId:A.id,icon:(0,S.jsx)(O().BE,{authors:x,size:24}),showSnapshotButton:(0,f().x)(o),...(0,b().h9)({notification:s,activity:t,environment:u,tab:n}),children:(0,S.jsx)(m().Z,{tabArgs:o,activity:t,isMobile:u.device.isMobile,environment:u,rootStore:r})})}var P=()=>o(716025),w=()=>o(900596);function R(e){const{edit:t,authors:o,collectionViewTitle:r,collectionTitle:i}=e,l=(0,a().VK)((()=>(0,d().XW)(o)),[o]);return"collection-view-created"===t.type?(0,S.jsx)(p()._H,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} created view {collectionViewTitle} in {collectionTitle}} other {{authorOrAuthors} created view {collectionViewTitle} in {collectionTitle}}}",values:{numberOfAuthors:o.length,authorOrAuthors:l,collectionTitle:i,collectionViewTitle:r},id:"activity.collectionViewCreated.header"}):"collection-view-deleted"===t.type?(0,S.jsx)(p()._H,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} deleted view {collectionViewTitle} in {collectionTitle}} other {{authorOrAuthors} deleted view {collectionViewTitle} in {collectionTitle}}}",values:{numberOfAuthors:o.length,authorOrAuthors:l,collectionTitle:i,collectionViewTitle:r},id:"activity.collectionViewDeleted.header"}):(0,S.jsx)(p()._H,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} edited view {collectionViewTitle} in {collectionTitle}} other {{authorOrAuthors} edited view {collectionViewTitle} in {collectionTitle}}}",values:{numberOfAuthors:o.length,authorOrAuthors:l,collectionTitle:i,collectionViewTitle:r},id:"activity.collectionViewEdited.header"})}function Z(e){let{collectionViewStore:t,rootStore:o,activity:r,tabArgs:l}=e;const s=(0,i().O7)(),{url:n,icon:c,type:d,name:h}=(0,a().VK)((()=>{var e;return{url:null===(e=t.getModel())||void 0===e?void 0:e.getRenderUrl({getRecordModel:o.getRecordModel,pageVisitSource:u().tY.Activity}),icon:t.getFormat().collection_view_icon,type:t.getType(),name:t.getName()}}),[t,o]);return d?(0,S.jsxs)(g().Z,{href:n,onClick:()=>(0,b().V3)({environment:s,activity:r,...l}),external:!1,innerStyle:{...A().lS,...A().nP},inline:!0,children:[(0,S.jsx)(P().F,{viewIcon:c,viewType:d,color:"light",style:{display:"inline-block",verticalAlign:"middle",marginRight:4,marginBottom:2},size:12}),(0,S.jsx)(w().Z,{collectionViewName:h,collectionViewType:d})]}):null}function I(e){const{activity:t,rootStore:r,isLast:l,tabArgs:s}=e,n=(0,i().O7)(),{notification:c,tab:u}=s,h=(0,a().VK)((()=>t.getEdits()),[t]),g=h[0],v=(0,a().VK)((()=>(0,d().P6)({edits:h,rootStore:r})),[h,r]),A=(0,a().VK)((()=>g&&r.getRecordStore(r,{table:K().iU,id:g.navigable_block_id,spaceId:g.space_id})),[g,r]),f=(0,a().VK)((()=>A&&(0,d().jC)({recordId:A.id,recordType:"block",tab:u,rootStore:r,environment:n})),[A,n,r,u]),j=(0,a().VK)((()=>(0,d().XW)(v)),[v]),x=(0,a().VK)((()=>t.type),[t]),V=(0,a().VK)((()=>t.end_time),[t]);if(!h.length||!g||!A)return null;const T=(0,S.jsx)(y().Z,{titledRecordStore:A,activity:t,tabArgs:s,getRecordModel:r.getRecordModel});let M;return"page-deleted"===x?M=(0,S.jsx)(p()._H,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} deleted {blockTitle}} other {{authorOrAuthors} deleted {blockTitle}}}",values:{numberOfAuthors:v.length,authorOrAuthors:j,blockTitle:T},id:"emailActivity.pageDeleted.header"}):"page-restored"===x?M=(0,S.jsx)(p()._H,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} restored {blockTitle}} other {{authorOrAuthors} restored {blockTitle}}}",values:{numberOfAuthors:v.length,authorOrAuthors:j,blockTitle:T},id:"emailActivity.pageRestored.header"}):"page-permanently-deleted"===x?M=(0,S.jsx)(p()._H,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} permanently deleted {blockTitle}} other {{authorOrAuthors} permanently deleted {blockTitle}}}",values:{numberOfAuthors:v.length,authorOrAuthors:j,blockTitle:T},id:"emailActivity.pagePermanentlyDeleted.header"}):(0,o(696459).t1)(x),(0,S.jsx)(O().ZP,{timestamp:parseInt(V),header:(0,S.jsx)("span",{children:M}),isPrivate:f,isLast:l,rootStore:r,navigableBlockId:A.id,icon:(0,S.jsx)(O().BE,{authors:v,size:24}),showSnapshotButton:!1,...(0,b().h9)({notification:c,activity:t,environment:n,tab:u}),children:(0,S.jsx)(m().Z,{tabArgs:s,activity:t,isMobile:n.device.isMobile,environment:n,rootStore:r})})}function B(e){const{activity:t,rootStore:o,isLast:r,tabArgs:l}=e,{notification:s,tab:n}=l,u=(0,i().O7)(),h=(0,a().VK)((()=>t.type),[t]),g=(0,a().VK)((()=>parseInt(t.end_time)),[t]),v=(0,a().VK)((()=>t.getEdits()),[t]),A=v[0],f=A&&A.navigable_block_id,j=(0,a().VK)((()=>f&&c().G.createChildStore(o,{table:K().iU,id:f})),[f,o]),x=(0,a().VK)((()=>(0,d().P6)({edits:v,rootStore:o})),[v,o]),V=(0,a().VK)((()=>(0,d().XW)(x)),[x]),T=(0,a().VK)((()=>f&&(0,d().jC)({recordId:f,recordType:"block",tab:n,rootStore:o,environment:u})),[f,n,o,u]);if(!v.length||!A||!j)return null;const M=(0,S.jsx)(y().Z,{titledRecordStore:j,activity:t,tabArgs:l,getRecordModel:o.getRecordModel}),_="page-locked"===h?(0,S.jsx)(p()._H,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} locked {blockTitle}} other {{authorOrAuthors} locked {blockTitle}}}",values:{numberOfAuthors:x.length,authorOrAuthors:V,blockTitle:M},id:"activity.pageLocked.header"}):(0,S.jsx)(p()._H,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} unlocked {blockTitle}} other {{authorOrAuthors} unlocked {blockTitle}}}",values:{numberOfAuthors:x.length,authorOrAuthors:V,blockTitle:M},id:"activity.pageUnlocked.header"});return(0,S.jsx)(O().ZP,{timestamp:g,header:(0,S.jsx)("span",{children:_}),isPrivate:T,isLast:r,rootStore:o,navigableBlockId:f,icon:(0,S.jsx)(O().BE,{authors:x,size:24}),showSnapshotButton:!1,...(0,b().h9)({notification:s,activity:t,environment:u,tab:n}),children:(0,S.jsx)(m().Z,{tabArgs:l,activity:t,isMobile:u.device.isMobile,environment:u,rootStore:o})})}o(670560),o(267602),o(653476),o(30005);function E(e){const{tabArgs:t,rootStore:o,activity:r,isLast:l}=e,{notification:s,tab:n}=t,u=(0,i().O7)(),h=(0,a().VK)((()=>parseInt(r.end_time)),[r]),g=(0,a().VK)((()=>r.getEdits()),[r]),v=g[0],m=(0,a().VK)((()=>c().G.createChildStore(o,{table:K().iU,id:r.top_level_block_id})),[r,o]),A=(0,a().VK)((()=>m.hasSpacePermission()),[m]),f=(0,a().VK)((()=>(0,d().P6)({edits:g,rootStore:o})),[g,o]),j=(0,a().VK)((()=>(0,d().XW)(f)),[f]),x=(0,a().VK)((()=>(0,d().jC)({recordId:m.id,recordType:"block",tab:n,rootStore:o,environment:u})),[m,n,o,u]);if(!g.length||!m)return null;const V=(0,S.jsx)(y().Z,{titledRecordStore:m,activity:r,tabArgs:t,getRecordModel:o.getRecordModel});let T;return T=A?"top-level-block-created"===v.type?(0,S.jsx)(p()._H,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} created workspace page {pageTitle}} other {{authorOrAuthors} created workspace page {pageTitle}}}",values:{numberOfAuthors:f.length,authorOrAuthors:j,pageTitle:V},id:"activity.topLevelBlockWorkspaceCreated.header"}):(0,S.jsx)(p()._H,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} deleted workspace page {pageTitle}} other {{authorOrAuthors} deleted workspace page {pageTitle}}}",values:{numberOfAuthors:f.length,authorOrAuthors:j,pageTitle:V},id:"activity.topLevelBlockWorkspaceDeleted.header"}):"top-level-block-created"===v.type?(0,S.jsx)(p()._H,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} created private page {pageTitle}} other {{authorOrAuthors} created private page {pageTitle}}}",values:{numberOfAuthors:f.length,authorOrAuthors:j,pageTitle:V},id:"activity.topLevelBlockPrivateCreated.header"}):(0,S.jsx)(p()._H,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} deleted private page {pageTitle}} other {{authorOrAuthors} deleted private page {pageTitle}}}",values:{numberOfAuthors:f.length,authorOrAuthors:j,pageTitle:V},id:"activity.topLevelBlockPrivateDeleted.header"}),(0,S.jsx)(O().ZP,{timestamp:h,header:(0,S.jsx)("span",{children:T}),isLast:l,isPrivate:x,rootStore:o,icon:(0,S.jsx)(O().BE,{authors:f,size:24}),showSnapshotButton:!1,...(0,b().h9)({notification:s,activity:r,environment:u,tab:n})})}function H(e){const{activity:t,rootStore:o,tabArgs:u,isLast:h}=e,p=(0,i().O7)();(0,r.useEffect)((()=>{!function(e,t){if("commented"===e.type){const r=c().t1.createChildStore(t,{table:n().qF,id:e.discussion_id,spaceId:e.space_id});if(r.isDefined()){const e=r.getCommentStores();for(const t of e){var o;null===(o=t.getCreatedByStore())||void 0===o||o.load()}}}}(t,o),p.KatexStore.loadIfNeeded((()=>function(e,t){const o=(0,d().cr)({activity:e,rootStore:t});if(!o)return;return o.context}(t,o)))}),[p.KatexStore,t,o]);const g=(0,a().VK)((()=>t.type),[t]);if(!l().KN(g))return s().log({level:"error",from:"ActivityUpdate",type:"unsupportedActivityType",data:{message:`Activity type ${g} is not supported for ActivityUpdate`}}),null;const v=L[g];return(0,S.jsx)(v,{activity:t,tabArgs:u,rootStore:o,isLast:h})}const L={"block-edited":o(472706).Z,"collection-row-created":k,"collection-row-deleted":k,"top-level-block-created":E,"top-level-block-deleted":E,"permissions-edited":function(e){const{tabArgs:t,rootStore:r,activity:s,isLast:n}=e,{notification:u,tab:h,source:g}=t,f=(0,i().O7)(),j=(0,a().VK)((()=>parseInt(s.end_time)),[s]),V=(0,a().VK)((()=>(0,x().hI)(s.getEdits())),[s]),T=V[0],{autojoinEdits:M,inheritanceEdits:_,otherEdits:k}=l().md(V),P=(0,a().VK)((()=>M.map((e=>{const t=(0,d().P6)({edits:[e],rootStore:r});return{edit:e,authors:t,authorPhrase:(0,d().XW)(t)}}))),[M,r]),w=(0,a().VK)((()=>_.map((e=>{const t=(0,d().P6)({edits:[e],rootStore:r});return{edit:e,authors:t,authorPhrase:(0,d().XW)(t)}}))),[_,r]),R=k.filter((e=>!e.inSudoMode)),Z=k.filter((e=>e.inSudoMode)),I=(0,a().VK)((()=>(0,d().P6)({edits:R,rootStore:r})),[R,r]),B=(0,a().VK)((()=>(0,d().XW)(I)),[I]),E=(0,a().VK)((()=>(0,d().P6)({edits:Z,rootStore:r})),[r,Z]),H=(0,a().VK)((()=>(0,d().XW)(E)),[E]),{isPrivate:L,pageOrSpace:C}=(0,a().VK)((()=>{if(T&&T.navigable_block_id){const e=c().G.createChildStore(r,{table:K().iU,id:T.navigable_block_id});return e.isDefined()?{pageOrSpace:(0,S.jsx)(y().Z,{titledRecordStore:e,activity:s,tabArgs:t,getRecordModel:r.getRecordModel}),isPrivate:(0,d().jC)({recordId:e.id,recordType:"block",tab:h,rootStore:r,environment:f})}:{pageOrSpace:void 0,isPrivate:!1}}{const e=T&&c().H2.createChildStore(r,{table:o(255933).bx,id:T.space_id});return e.isDefined()?{pageOrSpace:(0,S.jsx)(y().Z,{titledRecordStore:e,activity:s,tabArgs:t,getRecordModel:r.getRecordModel}),isPrivate:!1}:{pageOrSpace:void 0,isPrivate:!1}}}),[s,T,f,r,h,t]);if(!C||0===V.length)return null;const N=[];P.forEach(((e,t)=>{let{edit:o,authors:i,authorPhrase:a}=e;N.push((0,S.jsx)(O().ZP,{timestamp:o.timestamp,header:(0,S.jsx)("span",{children:(0,S.jsx)(p()._H,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} joined {pageOrSpaceName}} other {{authorOrAuthors} joined {pageOrSpaceName}}}",values:{numberOfAuthors:i.length,authorOrAuthors:a,pageOrSpaceName:C},id:"activity.permissionsActivity.header"})}),isLast:n,isPrivate:L,rootStore:r,navigableBlockId:o.navigable_block_id,icon:(0,S.jsx)(O().BE,{authors:i,size:24}),showSnapshotButton:!1,...(0,b().h9)({notification:u,activity:s,environment:f,tab:h})},`autojoin-${t}`))}));const D=f.device.isMobile;w.forEach(((e,o)=>{let i,{edit:a,authors:l,authorPhrase:c}=e;"permission-restriction-created"===a.type?i=(0,S.jsx)(p()._H,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} restricted access for {pageOrSpaceName}} other {{authorOrAuthors} restricted access for {pageOrSpaceName}}}{inSudoMode, select, true { using administrator privileges} other {}}",values:{numberOfAuthors:l.length,authorOrAuthors:c,pageOrSpaceName:C,inSudoMode:a.inSudoMode},id:"activity.restrictPermissionsForActivity.header"}):"permission-restriction-deleted"===a.type&&(i=(0,S.jsx)(p()._H,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} restored inherited access for {pageOrSpaceName}} other {{authorOrAuthors} restored inherited access for {pageOrSpaceName}}}{inSudoMode, select, true { using administrator privileges} other {}}",values:{numberOfAuthors:l.length,authorOrAuthors:c,pageOrSpaceName:C,inSudoMode:a.inSudoMode},id:"activity.restorePermissionsForActivity.header"})),N.push((0,S.jsxs)(O().ZP,{timestamp:j,header:(0,S.jsx)("span",{children:i}),isLast:n,isPrivate:L,rootStore:r,navigableBlockId:a.navigable_block_id,icon:(0,S.jsx)(O().BE,{authors:l,size:24}),showSnapshotButton:!1,...(0,b().h9)({notification:u,activity:s,environment:f,tab:h}),children:[(0,S.jsx)("div",{style:(0,A().OD)({source:g,isMobile:D}),children:(0,S.jsx)(v().Z,{edit:a,rootStore:r})}),(0,S.jsx)(m().Z,{tabArgs:t,activity:s,isMobile:D,environment:f,rootStore:r})]},`inheritance-${o}`))}));const U=(e,o,i,a)=>{e.length>0&&N.push((0,S.jsxs)(O().ZP,{timestamp:j,header:a,isLast:n,isPrivate:L,rootStore:r,navigableBlockId:T.navigable_block_id,icon:(0,S.jsx)(O().BE,{authors:o,size:24}),showSnapshotButton:!1,...(0,b().h9)({notification:u,activity:s,environment:f,tab:h}),children:[e.map(((e,t,o)=>(0,S.jsx)("div",{style:(0,A().OD)({source:g,isMobile:D}),children:(0,S.jsx)(v().Z,{edit:e,rootStore:r},t)},t))),(0,S.jsx)(m().Z,{tabArgs:t,activity:s,isMobile:f.device.isMobile,environment:f,rootStore:r})]},i))};return R.length>0&&U(R,I,"other",(0,S.jsx)("span",{children:(0,S.jsx)(p()._H,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} updated permission for {pageOrSpaceName}} other {{authorOrAuthors} updated permission for {pageOrSpaceName}}}",values:{numberOfAuthors:I.length,authorOrAuthors:B,pageOrSpaceName:C},id:"activity.updatedPermissionsForActivity.header"})})),Z.length>0&&U(Z,E,"other-sudo",(0,S.jsx)("span",{children:(0,S.jsx)(p()._H,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} updated permission for {pageOrSpaceName}} other {{authorOrAuthors} updated permission for {pageOrSpaceName}}} using administrator privileges",values:{numberOfAuthors:E.length,authorOrAuthors:H,pageOrSpaceName:C},id:"activity.updatedPermissionsForActivityInSudoMode.header"})})),(0,S.jsx)(S.Fragment,{children:N})},commented:o(121761).tB,"collection-edited":function(e){const{activity:t,tabArgs:o,rootStore:r,isLast:s}=e,{notification:n,tab:c}=o,g=(0,i().O7)(),v=(0,a().VK)((()=>parseInt(t.end_time)),[t]),A=(0,a().VK)((()=>t.collection_id),[t]),x=(0,a().VK)((()=>t.navigable_block_id),[t]),V=(0,a().VK)((()=>t.getEdits()),[t]),T=V[0],M=(0,a().VK)((()=>r.getRecordStore(r,{table:h().vF,id:A,spaceId:t.space_id})),[A,t,r]),_=(0,a().VK)((()=>{var e;return null===(e=M.getModel())||void 0===e?void 0:e.getRenderUrl({getRecordModel:r.getRecordModel,pageVisitSource:u().tY.Activity})}),[M,r.getRecordModel]),K=(0,a().VK)((()=>(0,d().P6)({edits:V,rootStore:r})),[V,r]),k=(0,a().VK)((()=>(0,d().XW)(K)),[K]),P=(0,a().VK)((()=>(0,d().jC)({recordId:A,recordType:"collection",tab:c,rootStore:r,environment:g})),[A,c,r,g]);if(!(M&&V.length&&T&&_))return null;const w=(0,S.jsx)(y().Z,{titledRecordStore:M,activity:t,tabArgs:o,getRecordModel:r.getRecordModel}),R="collection-created"===T.type?(0,S.jsx)(p()._H,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} created {collectionTitle}} other {{authorOrAuthors} created {collectionTitle}}}",values:{numberOfAuthors:K.length,authorOrAuthors:k,collectionTitle:w},id:"activity.collectionCreated.header"}):(0,S.jsx)(p()._H,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} edited {collectionTitle}} other {{authorOrAuthors} edited {collectionTitle}}}",values:{numberOfAuthors:K.length,authorOrAuthors:k,collectionTitle:w},id:"activity.collectionEdited.header"});return(0,S.jsxs)(O().ZP,{timestamp:v,header:(0,S.jsx)("span",{children:R}),isLast:s,isPrivate:P,rootStore:r,navigableBlockId:x,icon:(0,S.jsx)(O().BE,{authors:K,size:24}),showSnapshotButton:(0,f().x)(o),...(0,b().h9)({notification:n,activity:t,environment:g,tab:c}),children:[l().OC(T)&&(0,S.jsx)(j,{tabArgs:o,rootStore:r,edit:T,url:_}),(0,S.jsx)(m().Z,{tabArgs:o,activity:t,isMobile:g.device.isMobile,environment:g,rootStore:r})]})},"collection-view-edited":function(e){const{activity:t,tabArgs:r,rootStore:l,isLast:s}=e,{notification:n,tab:c}=r,u=(0,i().O7)(),p=(0,a().VK)((()=>parseInt(t.end_time)),[t]),g=(0,a().VK)((()=>t.collection_id),[t]),v=(0,a().VK)((()=>t.navigable_block_id),[t]),A=(0,a().VK)((()=>(0,x().hI)(t.getEdits())),[t]),j=A[0],V=(0,a().VK)((()=>l.getRecordStore(l,{table:h().vF,id:g,spaceId:t.space_id})),[t,g,l]),T=(0,a().VK)((()=>l.getRecordStore(l,{table:o(139978).np,id:t.collection_view_id,spaceId:t.space_id})),[t,l]),M=(0,a().VK)((()=>(0,d().P6)({edits:A,rootStore:l})),[A,l]),_=(0,S.jsx)(Z,{rootStore:l,collectionViewStore:T,activity:t,tabArgs:r}),K=(0,S.jsx)(y().Z,{titledRecordStore:V,activity:t,tabArgs:r,getRecordModel:l.getRecordModel}),k=(0,a().VK)((()=>(0,d().jC)({recordId:g,recordType:"collection",tab:c,rootStore:l,environment:u})),[g,c,l,u]);return j&&V&&T?(0,S.jsx)(O().ZP,{timestamp:p,header:(0,S.jsx)("span",{children:(0,S.jsx)(R,{edit:j,authors:M,collectionTitle:K,collectionViewTitle:_})}),isLast:s,isPrivate:k,rootStore:l,navigableBlockId:v,icon:(0,S.jsx)(O().BE,{authors:M,size:24}),showSnapshotButton:(0,f().x)(r),...(0,b().h9)({notification:n,activity:t,environment:u,tab:c}),children:(0,S.jsx)(m().Z,{tabArgs:r,activity:t,isMobile:u.device.isMobile,environment:u,rootStore:l})}):null},"collection-property-edited":function(e){const{activity:t,tabArgs:r,rootStore:l,isLast:s}=e,{notification:n,tab:c}=r,g=(0,i().O7)(),v=(0,a().VK)((()=>parseInt(t.end_time)),[t]),A=(0,a().VK)((()=>t.collection_id),[t]),j=(0,a().VK)((()=>t.navigable_block_id),[t]),V=(0,a().VK)((()=>(0,x().hI)(t.getEdits())),[t]),T=V[0],K=(0,a().VK)((()=>l.getRecordStore(l,{table:h().vF,id:A,spaceId:t.space_id})),[A,t.space_id,l]),k=(0,a().VK)((()=>{var e;return null===(e=K.getModel())||void 0===e?void 0:e.getRenderUrl({getRecordModel:l.getRecordModel,pageVisitSource:u().tY.Activity})}),[K,l]),P=(0,a().VK)((()=>(0,d().P6)({edits:V,rootStore:l})),[V,l]),w=(0,a().VK)((()=>(0,d().XW)(P)),[P]),R=(0,a().VK)((()=>(0,d().jC)({recordId:A,recordType:"collection",tab:c,rootStore:l,environment:g})),[A,c,l,g]);if(!K||!T||!k)return null;const Z="collection-property-changed"===T.type?T.collection_property_data.after:T.collection_property_data,I=(0,S.jsx)(y().Z,{titledRecordStore:K,activity:t,tabArgs:r,getRecordModel:l.getRecordModel}),B=(0,S.jsx)(_,{propertySchema:Z});let E;return E="collection-property-created"===T.type?(0,S.jsx)(p()._H,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} created property {collectionPropertyTitle} in {collectionTitle}} other {{authorOrAuthors} created property {collectionPropertyTitle} in {collectionTitle}}}",values:{numberOfAuthors:P.length,authorOrAuthors:w,collectionTitle:I,collectionPropertyTitle:B},id:"activity.collectionPropertyCreated.header"}):"collection-property-deleted"===T.type?(0,S.jsx)(p()._H,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} deleted property {collectionPropertyTitle} in {collectionTitle}} other {{authorOrAuthors} deleted property {collectionPropertyTitle} in {collectionTitle}}}",values:{numberOfAuthors:P.length,authorOrAuthors:w,collectionTitle:I,collectionPropertyTitle:B},id:"activity.collectionPropertyDeleted.header"}):(0,S.jsx)(p()._H,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} edited property {collectionPropertyTitle} in {collectionTitle}} other {{authorOrAuthors} edited property {collectionPropertyTitle} in {collectionTitle}}}",values:{numberOfAuthors:P.length,authorOrAuthors:w,collectionTitle:I,collectionPropertyTitle:B},id:"activity.collectionPropertyEdited.header"}),(0,S.jsxs)(O().ZP,{timestamp:v,header:(0,S.jsx)("span",{children:E}),isLast:s,isPrivate:R,rootStore:l,navigableBlockId:j,icon:(0,S.jsx)(O().BE,{authors:P,size:24}),showSnapshotButton:(0,f().x)(r),...(0,b().h9)({notification:n,activity:t,environment:g,tab:c}),children:[(0,S.jsx)(o(75308).Z,{visible:5,items:V.map((e=>(0,S.jsx)(M,{tabArgs:r,rootStore:l,edit:e,url:k},e.collection_property_id)))}),(0,S.jsx)(m().Z,{tabArgs:r,activity:t,isMobile:g.device.isMobile,environment:g,rootStore:l})]})},"page-locked":B,"page-unlocked":B,"page-deleted":I,"page-restored":I,"page-permanently-deleted":I,"collection-page-layout-edited":function(e){const{activity:t,tabArgs:o,rootStore:r,isLast:l}=e,{notification:s,tab:n}=o,c=(0,i().O7)(),g=(0,a().VK)((()=>parseInt(t.end_time)),[t]),v=(0,a().VK)((()=>t.collection_id),[t]),m=(0,a().VK)((()=>(0,x().hI)(t.getEdits())),[t]),A=m[0],j=(0,a().VK)((()=>r.getRecordStore(r,{table:h().vF,id:v,spaceId:t.space_id})),[v,t.space_id,r]),V=(0,a().VK)((()=>{var e;return null===(e=j.getModel())||void 0===e?void 0:e.getRenderUrl({getRecordModel:r.getRecordModel,pageVisitSource:u().tY.Activity})}),[j,r]),T=(0,a().VK)((()=>(0,d().P6)({edits:m,rootStore:r})),[m,r]),M=(0,a().VK)((()=>(0,d().XW)(T)),[T]),_=(0,a().VK)((()=>(0,d().jC)({recordId:v,recordType:"collection",tab:n,rootStore:r,environment:c})),[v,n,r,c]);if(!j||!A||!V)return null;const K=(0,S.jsx)(y().Z,{titledRecordStore:j,activity:t,tabArgs:o,getRecordModel:r.getRecordModel}),k=(0,S.jsx)(p()._H,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} edited the layout of {collectionTitle}} other {{authorOrAuthors} edited the layout of {collectionTitle}}}",values:{numberOfAuthors:T.length,authorOrAuthors:M,collectionTitle:K},id:"activity.collectionPageLayoutEdited.header"});return(0,S.jsx)(O().ZP,{timestamp:g,header:(0,S.jsx)("span",{children:k}),isLast:l,isPrivate:_,rootStore:r,icon:(0,S.jsx)(O().BE,{authors:T,size:24}),showSnapshotButton:(0,f().x)(o),...(0,b().h9)({notification:s,activity:t,environment:c,tab:n})})}}}}]);