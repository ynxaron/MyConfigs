"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[31095],{594777:(e,t,n)=>{n.d(t,{U:()=>s});n(241792);var r=()=>n(219727),o=()=>n(142735),a=()=>n(779522);function s(e){const t=(0,r().O7)();return(0,o().VK)((()=>{var n;const r=null==e?void 0:e.id;if(r)return null===(n=a().Z.getData(t,{spaceId:r}))||void 0===n?void 0:n.map((e=>e.domain))}),[t,e])}},276571:(e,t,n)=>{n.d(t,{A:()=>o});n(667294);var r=n(785893);const o=(0,n(827282).IU)("cubeOutline",{viewBox:"0 0 14 16",svg:(0,r.jsx)("path",{d:"M1.01855 11.96C0.694987 11.7777 0.448893 11.568 0.280273 11.3311C0.116211 11.0895 0.0341797 10.7272 0.0341797 10.2441V4.7207C0.0341797 4.35612 0.104818 4.05306 0.246094 3.81152C0.38737 3.56543 0.610677 3.35579 0.916016 3.18262L5.72168 0.489258C6.14551 0.252279 6.57161 0.133789 7 0.133789C7.42839 0.133789 7.85221 0.252279 8.27148 0.489258L13.0771 3.18262C13.3825 3.35579 13.6058 3.56543 13.7471 3.81152C13.8883 4.05306 13.959 4.35612 13.959 4.7207V10.2441C13.959 10.7272 13.877 11.0895 13.7129 11.3311C13.5488 11.568 13.3027 11.7777 12.9746 11.96L7.68359 14.9268C7.22786 15.1774 6.76986 15.1774 6.30957 14.9268L1.01855 11.96ZM1.75684 10.9072L6.36426 13.5117V8.0293L1.25098 5.14453V10.1211C1.25098 10.2988 1.28743 10.4492 1.36035 10.5723C1.43783 10.6953 1.56999 10.807 1.75684 10.9072ZM12.2363 10.9072C12.4232 10.807 12.5531 10.6953 12.626 10.5723C12.7035 10.4492 12.7422 10.2988 12.7422 10.1211V5.14453L7.62891 8.0293V13.5117L12.2363 10.9072ZM7 6.9082L12.0518 4.07812L7.73145 1.64453C7.24837 1.36654 6.75846 1.36654 6.26172 1.64453L1.94824 4.07812L7 6.9082Z"})})},492973:(e,t,n)=>{n.d(t,{n:()=>o});n(667294);var r=n(785893);const o=(0,n(827282).IU)("settingsMembers",{viewBox:"0 0 20 20",svg:(0,r.jsx)("path",{d:"M13.726 9.989c1.725 0 3.123-1.585 3.123-3.536 0-1.92-1.39-3.453-3.123-3.453-1.712 0-3.124 1.556-3.124 3.468.008 1.943 1.405 3.52 3.123 3.52zm-8.264.171c1.504 0 2.716-1.392 2.716-3.111 0-1.675-1.212-3.03-2.716-3.03-1.49 0-2.724 1.378-2.717 3.037 0 1.72 1.22 3.104 2.717 3.104zm8.264-1.474c-.985 0-1.819-.967-1.819-2.225 0-1.213.827-2.159 1.819-2.159.998 0 1.818.93 1.818 2.151 0 1.25-.827 2.233-1.819 2.233zm-8.264.186c-.806 0-1.49-.803-1.49-1.816 0-.967.677-1.756 1.49-1.756.827 0 1.497.774 1.497 1.749 0 1.02-.684 1.823-1.497 1.823zM1.54 17h5.54c-.392-.238-.656-.782-.606-1.273H1.476c-.136 0-.193-.067-.193-.193 0-1.705 1.911-3.327 4.172-3.327.798 0 1.597.208 2.21.566.242-.365.542-.678.934-.946-.906-.58-2.032-.893-3.144-.893C2.438 10.934 0 13.182 0 15.653 0 16.546.513 17 1.54 17zm7.743 0h8.885C19.4 17 20 16.59 20 15.712c0-2.046-2.453-4.77-6.274-4.77-3.822 0-6.275 2.724-6.275 4.77 0 .879.599 1.288 1.832 1.288zm-.228-1.303c-.164 0-.228-.059-.228-.193 0-1.139 1.761-3.26 4.899-3.26 3.137 0 4.898 2.121 4.898 3.26 0 .134-.064.194-.235.194H9.055z"})})},779522:(e,t,n)=>{n.d(t,{Z:()=>o});const r=new(n(168469).q)((e=>{let{spaceId:t}=e;return t}),(async function(e,t){var r;let{spaceId:o}=t;const a=await Promise.resolve().then(n.bind(n,824462)),s=await a.callApi({eventName:"getInternalDomains",environment:e,data:{spaceId:o}});return"success"===s.type?null===(r=s.data)||void 0===r?void 0:r.internalDomainsWithInfo:void 0}));n(947115).exposeDebugValue("InternalDomainsStore",r);const o=r},541616:(e,t,n)=>{n.r(t),n.d(t,{DowngradeModal:()=>re});n(821057),n(241792);var r=n(667294),o=()=>n(146947),a=()=>n(219727),s=()=>n(142735),i=()=>n(846550),c=()=>n(646574),l=()=>n(956057),u=()=>n(629719),d=()=>n(893146),g=()=>n(381348),m=()=>n(681941),p=()=>n(122792),f=()=>n(788860),v=()=>n(513670),h=()=>n(979614),w=()=>n(102182),b=()=>n(661641),y=()=>n(659278),_=()=>n(311988),S=()=>n(212493),x=()=>n(830581),D=()=>n(661297),M=()=>n(92175),j=n(785893);function C(e){const{downgradeProduct:t,excessGuests:n,formattedPeriodEndDate:r,internalDomains:o,spaceStore:a,onClickContinue:i,onClickManageGuests:c}=e,l=(0,f().YB)(),u=(0,s().VK)((()=>a.getName()),[a]),d=l.formatMessage(R[t]);return u&&n.length?(0,j.jsx)(x().sR,{header:(0,j.jsx)(x().vI,{iconAndTitle:(0,j.jsx)(x().kC,{iconGroup:_().x,iconColorName:"redPrimary",title:l.formatMessage(H.title,{planName:d,spaceName:u})}),description:l.formatMessage(H.description,{domain:o[0].url,number:n.length,date:r})}),footer:(0,j.jsx)(N,{onClickContinue:i,onClickManageGuests:c}),children:(0,j.jsx)(I,{excessGuests:n,spaceName:u})}):null}function I(e){const{excessGuests:t,spaceName:n}=e,r=(0,f().YB)(),o=(0,i().yK)((()=>({wrapper:{background:"#FDF5F3",textAlign:"center"}})),[]),a=(0,s().VK)((()=>t.map((e=>e.getKeyStore("given_name").getValue()??e.getDisplayName(r)))),[t,r]);return(0,j.jsx)(S().jX,{align:"top-center",borderRadius:6,direction:"column",gap:10,padding:"14px 12px",style:o.wrapper,width:"fill",children:(0,j.jsxs)(S().jX,{direction:"column",gap:8,align:"top-center",children:[(0,j.jsx)(S().jX,{direction:"row",align:"center",style:{paddingLeft:4},children:a.slice(0,3).map(((e,t)=>(0,j.jsx)(k,{givenName:e},t)))}),(0,j.jsxs)(S().jX,{direction:"column",gap:4,align:"center",children:[(0,j.jsx)(b().q,{colorName:"uiRedPrimary",styleName:"Body-14px/Medium",children:(0,j.jsx)(P,{givenNames:a,spaceName:n})}),(0,j.jsx)(b().q,{colorName:"redPrimary",styleName:"Caption-12px/Regular",children:r.formatMessage(H.recommendation)})]})]})})}function P(e){const{givenNames:t,spaceName:n}=e,r=(0,f().YB)();return 1===t.length?(0,j.jsx)(j.Fragment,{children:r.formatMessage(H.oneRemovedGuest,{name1:t[0],spaceName:n})}):2===t.length?(0,j.jsx)(j.Fragment,{children:r.formatMessage(H.twoRemovedGuests,{name1:t[0],name2:t[1],spaceName:n})}):(0,j.jsx)(j.Fragment,{children:r.formatMessage(H.manyRemovedGuests,{name1:t[0],name2:t[1],count:t.length-2,spaceName:n})})}function k(e){const{givenName:t}=e,n=(0,i().yK)((e=>({circle:{borderRadius:14,border:`1px dashed ${e.stroke.uiRedSecondary}`,background:e.surface.elevated,marginLeft:-4}})),[]);return(0,j.jsx)(S().jX,{style:n.circle,width:28,height:28,align:"center",children:(0,j.jsx)(b().q,{styleName:"Body-14px/Semibold",colorName:"uiRedPrimary",children:(0,y().p4)(t)[0].toUpperCase()})})}function N(e){const{onClickContinue:t,onClickManageGuests:n}=e,r=(0,f().YB)();return(0,j.jsx)(S().jX,{gap:16,children:(0,j.jsxs)(S().jX,{gap:8,align:"center",children:[(0,j.jsx)(D().Z,{"aria-label":r.formatMessage(H.manageGuests),onClick:n,style:{width:"100%"},children:r.formatMessage(H.manageGuests)}),(0,j.jsx)(M().Z,{"aria-label":r.formatMessage(H.continueWithDowngrade),onClick:t,style:{justifyContent:"center"},children:(0,j.jsx)(b().q,{colorName:"secondary",children:r.formatMessage(H.continueWithDowngrade)})})]})})}const H=(0,f().vU)({title:{id:"DowngradeWillRemoveGuestsModal.title",defaultMessage:"Downgrading to {planName} will remove guests from {spaceName}"},description:{id:"DowngradeWillRemoveGuestsModal.description",defaultMessage:"{number} of your guests with the email domain ‘@{domain}’ will be removed on {date} to align with your new plan's guest limit"},continueWithDowngrade:{id:"DowngradeWillRemoveGuestsModal.continueWithDowngrade",defaultMessage:"Continue with downgrade"},manageGuests:{id:"DowngradeWillRemoveGuestsModal.manageGuests",defaultMessage:"Manage guests"},manyRemovedGuests:{id:"DowngradeWillRemoveGuestsModal.manyRemovedGuests",defaultMessage:"{name1}, {name2}, and {count, plural, one {1 more guest} other {{count} more guests}} will be removed from {spaceName}"},twoRemovedGuests:{id:"DowngradeWillRemoveGuestsModal.twoRemovedGuests",defaultMessage:"{name1} and {name2} will be removed from {spaceName}"},oneRemovedGuest:{id:"DowngradeWillRemoveGuestsModal.oneRemovedGuest",defaultMessage:"{name1} will be removed from {spaceName}"},recommendation:{id:"DowngradeWillRemoveGuestsModal.recommendation",defaultMessage:"If you want them to retain access, we recommend upgrading them to members."}}),R={business:p().aw.business,enterprise:p().aw.enterprise,free:p().aw.free,personal:p().aw.personal,plus:p().aw.plus,student:p().aw.educationPlus};var G=()=>n(594777),T=()=>n(228772),L=()=>n(591914),A=()=>n(438665),V=()=>n(928657),B=()=>n(548812),U=()=>n(402421),O=()=>n(989478),K=(n(267602),n(653476),()=>n(703976));var F=()=>n(18281);var W=()=>n(779522);const z=new(n(168469).q)((e=>{let{spaceId:t,inviteeIds:n}=e;return`${t}:${n.sort().join(",")}`}),(async function(e,t){const r=await Promise.resolve().then(n.bind(n,824462)),o=await r.callApi({eventName:"getInvitesForInvitees",environment:e,data:t});return"success"===o.type?o.data.invites.map((e=>n(530980).kk5.fromValue(n(126139).Tu,e))):void 0}));n(947115).exposeDebugValue("InvitesForInviteesStore",z);const q=z;var Z=()=>n(277533),E=()=>n(815277),$=()=>n(897257);function Y(e){let{space:t,spaceUser:n,desiredState:r}=e;const o=(0,a().O7)(),i=(c=$().subscriptionDataStoreInstance,(0,s().VK)((()=>{const e=c.state;if(e)return(0,F().ND)(e)}),[c]));var c;const l=(0,s().VK)((()=>n.getUserId()),[n]),u=(0,E().eB)({name:"internal_guests",spaceId:t.id,userId:l,amount:0,state:r});return(0,s().VK)((()=>{var e;const n=t.getModel();if(!n||!u)return[];const r=(i??[]).map((e=>function(e,t){return new(Z().U)(e,{table:O().KJ,id:t})}(o,e.userId))).map((e=>e.getModel())),a=(0,v().oA)(r),s=n.id,c=a.map((e=>e.id)),l=q.getData(o,{spaceId:s,inviteeIds:c}),d=null===(e=W().Z.getData(o,{spaceId:s}))||void 0===e?void 0:e.map((e=>e.domain));return function(e){let{featureAvailability:t,guests:n,invites:r,domains:o}=e;const a=(0,v().vM)(r,(e=>e.invitee_id)),s=n.filter((e=>(0,K().is)(e.email,o))),i=(0,v().MR)(s,(e=>{const t=a[e.id]??[],n=(0,v().UT)(t,(e=>e.created_time));return null==n?void 0:n.created_time})),c=n.length,l=t.limit.total,u="unlimited"===l?0:Math.max(c-l,0);return i.slice(0,u)}({featureAvailability:u,guests:a,invites:l??[],domains:d??[]}).map((e=>new(Z().U)(o,{table:O().KJ,id:e.id})))}),[o,t,u,i])}var X=()=>n(19072),Q=()=>n(678231),J=()=>n(419157),ee=()=>n(984529),te=()=>n(135658),ne=()=>n(663544);function re(e){let{billingInterval:t,billingData:n,currentPeriodEnd:v,salesStatus:y,isOpen:_,onClose:S,onRequestDowngrade:x,onRequestUpgrade:D,onClickManageGuests:M}=e;const I=(0,m().KE)((0,u().zt)(null==n?void 0:n.subscription)),P=(0,Q().Oi)({billingInterval:t,priceStore:J().Z,products:X().cM}),k=(0,a().O7)(),N=(0,f().YB)(),H=(0,u().KU)(n),R=(0,T().r)(),O=(0,s().VK)((()=>Boolean(null==R?void 0:R.canAdmin())),[R]),K=(0,u().BU)({billingData:n,canUpdateBilling:O}),[F,W]=r.useState("plan_select"),[z,q]=r.useState({newProduct:I,reasons:[],reasonOther:void 0,reasonOtherTools:void 0}),[Z]=r.useState(l().Il()),[E,$]=r.useState(void 0);(0,r.useEffect)((()=>h().j(k,{name:"churn_survey",args:{newProduct:z.newProduct,churnType:I,reasons:z.reasons,reasonOther:z.reasonOther,reasonOtherTools:z.reasonOtherTools,stage:F,churnSurveyId:Z}})),[k,F,z,Z,I]);const ee=(0,L().r_)(),re=(0,G().U)(R),ae=Y({space:R,spaceUser:ee,desiredState:(0,u().oh)(z.newProduct)}),se=(0,i().Fg)(),ie=(0,s().VK)((()=>{const e=z.newProduct?(0,V().p)({highlightStyle:{color:se.text.uiRedPrimary},intl:N})[I][z.newProduct]:void 0;return null==e?void 0:e.map((e=>({icon:e.icon,beforeMessage:e.beforeDowngrade,message:e.afterDowngrade?(0,j.jsx)(b().q,{styleName:"Body-14px/Regular",colorName:"primary",customStyles:{display:"inline"},children:e.afterDowngrade}):null})))}),[I,z.newProduct,N,se]),ce=r.useCallback((()=>{h().j(k,{name:"churn_survey_close",args:{churnSurveyId:Z}}),S()}),[Z,k,S]),le=r.useCallback((e=>{R&&("upgrade"===(0,p().NY)({oldTier:I,newTier:e})&&"free"!==e?(h().sA(k,{from:"downgrade_modal",for_subscription_tier:e}),D({environment:k,spaceStore:R,billingData:n,product:e,pageSection:"downgrade_modal",from:"downgrade_modal"}),ce()):(q((t=>({...t,newProduct:e}))),W("survey")))}),[n,I,k,ce,D,R]),ue=v?(0,c().Yx)(v,"long",o().locale):void 0;return(0,j.jsx)(ne().r,{step:F,isOpen:_,onClose:ce,children:(()=>{switch(F){case"plan_select":return(0,j.jsx)(te().ud,{initialPlan:z.newProduct,asyncPriceByProduct:P,salesStatus:y,onSubmit:le});case"survey":return(0,j.jsx)(te().tt,{options:oe(),onSubmit:async e=>{h().j(k,{name:"churn_survey_submitted",args:{newProduct:z.newProduct,churnType:I,reasons:e.reasons,reasonOther:e.customTextByReason.other??void 0,reasonOtherTools:e.customTextByReason.switching??void 0,stage:F,churnSurveyId:Z}}),q((t=>({...t,reasons:e.reasons,reasonOther:e.customTextByReason.other??void 0,reasonOtherTools:e.customTextByReason.switching??void 0})));const t=await A().ZF(k,{spaceId:null==R?void 0:R.id,offerCampaign:(0,U().q)(k,null==R?void 0:R.id)}),n=(0,d().iQ)(t);if(n&&(0,g().$v)(n))return $(n),void W("offer");W("remove_guests")}});case"offer":return E?(0,j.jsx)(te().oR,{currentProduct:I,coupon:E,newProduct:z.newProduct,onSubmit:async e=>{if(e){h().j(k,{name:"offer_accepted",args:{coupon:E}});const e=null==R?void 0:R.id,t=(0,U().q)(k,e);H&&e&&K&&(0,g().$v)(E)&&((0,B().$u)()&&t?await A().zL({environment:k,spaceId:e,offerCampaign:t,entrypoint:"downgrade_flow"}):await A().lB(k,{customerId:H,offerType:"downgrade_flow",newPlan:I,coupon:E}),w().oV({label:(0,j.jsx)(f()._H,{id:"applyCoupon.success",defaultMessage:"Coupon successfully applied"})})),ce()}else W("remove_guests")}}):void W("remove_guests");case"remove_guests":const e=ae&&ae.length>0,t=re&&re.length>0;return e&&t&&ue&&R?(0,j.jsx)(C,{downgradeProduct:z.newProduct,excessGuests:ae,formattedPeriodEndDate:ue,internalDomains:re,spaceStore:R,onClickContinue:()=>W("downgrade"),onClickManageGuests:M}):void W("downgrade");case"downgrade":return(0,j.jsx)(te().hy,{newProduct:z.newProduct,title:(0,j.jsx)(f()._H,{id:"downgradeModal.header.downgrade.title",defaultMessage:"Continue downgrading to {planMessage}?",values:{planMessage:(0,p().v$)(z.newProduct,N)}}),description:ue?(0,j.jsx)(f()._H,{id:"downgradeFlow.restrictionStep.description",defaultMessage:"You can still utilize all the features of your current plan until {date}. You can resubscribe or switch to another plan anytime.",values:{date:(0,j.jsx)("span",{style:{fontWeight:590},children:ue})}}):null,restrictionList:ie,onSubmit:async e=>{if(h().j(k,{name:"continue_downgrade_button_clicked"}),R&&n){if(!(await x({billingData:n,environment:k,product:z.newProduct,spaceStore:R,from:"billing_page",churnState:null!=e&&e.churnImmediately?"churn_immediately":"churn_by_end_of_billing_period"})))return}W("confirmation")}});case"confirmation":if(n){if((0,u().zt)((0,u().Lg)(n))!==z.newProduct)throw new Error("Subscription tier has not changed and is not scheduled to be changed.")}return(0,j.jsx)(te().AF,{title:(0,j.jsx)(f()._H,{id:"downgradeFlow.confirmationStep.title",defaultMessage:"Thank you for switching to {plan}",values:{plan:(0,p().v$)(z.newProduct,N)}}),formattedPeriodEndDate:ue})}})()})}function oe(){return[...(0,v().TV)([ee().f.notUsingEnough,ee().f.switching,ee().f.tooExpensive,ee().f.tooDifficult,ee().f.missingFeatures,ee().f.upgradedByMistake,ee().f.consolidatingWorkspaces]),ee().f.other]}},928657:(e,t,n)=>{n.d(t,{p:()=>_});n(667294);var r=()=>n(114079),o=()=>n(788860),a=()=>n(708325),s=n(785893);const i=(0,n(827282).IU)("clockArrows",{viewBox:"0 0 18 15",svg:(0,s.jsx)("g",{children:(0,s.jsx)("path",{d:"M8.993.003c2.222 0 4.293 1.121 5.558 2.768.294.363.239.807-.075 1.026-.335.24-.732.137-1.005-.185a5.608 5.608 0 00-4.478-2.215 5.63 5.63 0 00-5.49 4.28h.978c.527 0 .664.403.376.793L3.203 8.773c-.225.315-.58.322-.813 0L.735 6.477c-.294-.404-.157-.8.376-.8h.964C2.731 2.457 5.603.003 8.993.003zM8.74 3.1c.328 0 .595.266.595.594v3.514l1.593 2.14c.212.294.191.656-.09.847-.293.212-.642.157-.888-.164L8.316 7.878a.767.767 0 01-.17-.465V3.694c0-.328.266-.594.594-.594zm.253 11.026c-2.215 0-4.286-1.114-5.55-2.769-.301-.362-.24-.8.075-1.025.335-.24.731-.137 1.004.185a5.61 5.61 0 004.471 2.221 5.66 5.66 0 005.503-4.279h-.984c-.527 0-.663-.41-.376-.8l1.654-2.304c.226-.314.581-.314.807 0l1.66 2.297c.288.404.158.807-.382.807h-.964c-.65 3.213-3.52 5.667-6.918 5.667z"})})});var c=()=>n(276571),l=()=>n(397643),u=()=>n(528921),d=()=>n(821149),g=()=>n(632518),m=()=>n(795269),p=()=>n(166104),f=()=>n(657280),v=()=>n(492973);const h=(0,s.jsx)(o()._H,{id:"churnSurvey.downgradeSection.restrictions.included.title",defaultMessage:"Included"}),w=(0,s.jsx)(o()._H,{id:"pricingGrid.planAttribute.value.unlimitedMembers",defaultMessage:"Unlimited"});function b(e,t){return(0,s.jsx)(o()._H,{id:"churnSurvey.downgradeSection.restrictions.versionHistory.limit",defaultMessage:"{number} days",values:{number:y(e,t)}})}function y(e,t){return(0,r().uf)(e,"number_with_commas",t)}function _(e){let{highlightStyle:t,intl:n}=e;const r=function(e,t){function n(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(0,s.jsx)("span",{style:e,children:n})}return{blocks:{icon:c().A,beforeDowngrade:w,afterDowngrade:(0,s.jsx)(o()._H,{id:"churnSurvey.downgradeSection.restrictions.blocks",defaultMessage:"<highlight>{number}</highlight> blocks",values:{number:y(1e3,t),highlight:n}})},guests:{icon:v().n,beforeDowngrade:y(100,t),afterDowngrade:(0,s.jsx)(o()._H,{id:"churnSurvey.downgradeSection.restrictions.guests",defaultMessage:"<highlight>{number}</highlight> guests",values:{number:y(10,t),highlight:n}})},charts:{icon:a().$,beforeDowngrade:w,afterDowngrade:(0,s.jsx)(o()._H,{id:"churnSurvey.downgradeSection.restrictions.charts",defaultMessage:"<highlight>{number}</highlight> chart",values:{number:y(1,t),highlight:n}})},fileUpload:{icon:l().R,beforeDowngrade:w,afterDowngrade:(0,s.jsx)(o()._H,{id:"churnSurvey.downgradeSection.restrictions.mbFileUpload",defaultMessage:"<highlight>{number}MB</highlight> upload limit",values:{number:y(5,t),highlight:n}})},versionHistory:{icon:i,beforeDowngrade:b(30,t),afterDowngrade:(0,s.jsx)(o()._H,{id:"churnSurvey.downgradeSection.restrictions.pageHistory",defaultMessage:"<highlight>{number} days</highlight> page history",values:{number:y(7,t),highlight:n}})},samlSso:{icon:f().o,beforeDowngrade:h,afterDowngrade:n([(0,s.jsx)(o()._H,{id:"churnSurvey.downgradeSection.restrictions.noSamlSso.title",defaultMessage:"No SAML SSO"},"churnSurvey.downgradeSection.restrictions.noSamlSso.title")])},privateTeamspaces:{icon:g().I,beforeDowngrade:w,afterDowngrade:n([(0,s.jsx)(o()._H,{id:"churnSurvey.downgradeSection.restrictions.noPrivateTeamspaces.title",defaultMessage:"No private teamspaces"},"churnSurvey.downgradeSection.restrictions.noPrivateTeamspaces.title")])},adminTools:{icon:p().H,beforeDowngrade:h,afterDowngrade:n([(0,s.jsx)(o()._H,{id:"churnSurvey.downgradeSection.restrictions.noAdminTools.title",defaultMessage:"No admin tools"},"churnSurvey.downgradeSection.restrictions.noAdminTools.title")])},permissionGroups:{icon:d().b,beforeDowngrade:w,afterDowngrade:n([(0,s.jsx)(o()._H,{id:"churnSurvey.downgradeSection.restrictions.noPermissionGroups.title",defaultMessage:"No permission groups"},"churnSurvey.downgradeSection.restrictions.noPermissionGroups.title")])},teamspaces:{icon:g().I,beforeDowngrade:w,afterDowngrade:n([(0,s.jsx)(o()._H,{id:"churnSurvey.downgradeSection.restrictions.noTeamspaces.title",defaultMessage:"No teamspaces"},"churnSurvey.downgradeSection.restrictions.noTeamspaces.title")])},auditLog:{icon:u().N,beforeDowngrade:h,afterDowngrade:n([(0,s.jsx)(o()._H,{id:"churnSurvey.downgradeSection.restrictions.noAuditLog.title",defaultMessage:"No audit log"},"churnSurvey.downgradeSection.restrictions.noAuditLog.title")])},security:{icon:m().c,beforeDowngrade:h,afterDowngrade:n([(0,s.jsx)(o()._H,{id:"churnSurvey.downgradeSection.restrictions.noAdvancedSecurity.title",defaultMessage:"No advanced security & controls"},"churnSurvey.downgradeSection.restrictions.noAdvancedSecurity.title")])},scim:{icon:f().o,beforeDowngrade:h,afterDowngrade:n([(0,s.jsx)(o()._H,{id:"churnSurvey.downgradeSection.restrictions.noSCIM.title",defaultMessage:"No SCIM"},"churnSurvey.downgradeSection.restrictions.noSCIM.title")])}}}(t,n);return{free:{},student:{free:[r.blocks,r.charts,r.fileUpload,r.versionHistory,r.guests]},personal:{free:[r.adminTools,r.permissionGroups,r.teamspaces]},plus:{free:[r.blocks,r.charts,r.fileUpload,r.versionHistory,r.guests]},business:{free:[r.blocks,r.charts,r.fileUpload,{...r.versionHistory,beforeDowngrade:b(90,n)},{...r.guests,beforeDowngrade:y(250,n)}],plus:[r.samlSso,r.privateTeamspaces,{...r.versionHistory,beforeDowngrade:b(90,n),afterDowngrade:(0,s.jsx)(o()._H,{id:"churnSurvey.downgradeSection.restrictions.pageHistory",defaultMessage:"<highlight>{number} days</highlight> page history",values:{number:y(30,n),highlight:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0,s.jsx)("span",{style:t,children:n})}}})}]},enterprise:{free:[r.blocks,r.charts,r.fileUpload,{...r.versionHistory,beforeDowngrade:w},{...r.guests,beforeDowngrade:y(250,n)}],plus:[r.samlSso,r.auditLog,r.security],business:[r.scim,r.auditLog,r.security]}}}},402421:(e,t,n)=>{n.d(t,{q:()=>a});var r=()=>n(629719),o=()=>n(518019);function a(e,t){if(!t)return;const n=o().Z.getData(e,{spaceId:t});if(!n)return;const a=(0,r().zt)(n.subscription),s=(0,r().Hw)(n.subscription);if(a&&s&&"year"!==s)switch(a){case"plus":return"team_three_months";case"business":return"business_three_months";case"enterprise":return"enterprise_three_months";default:return}}},815277:(e,t,n)=>{n.d(t,{CH:()=>m,DE:()=>c().DE,KQ:()=>c().KQ,Rv:()=>c().Rv,V5:()=>g().V5,VX:()=>p,eB:()=>c().eB,oo:()=>c().oo});var r=()=>n(255933),o=()=>n(779709),a=()=>n(205228),s=()=>n(845682),i=()=>n(30795),c=()=>n(546464),l=()=>n(404791),u=()=>n(897257),d=()=>n(18281),g=()=>n(259408);const m={guests:e=>{if(!u().subscriptionDataStoreInstance.state)return"loading";return{current:(0,d().s1)(e.environment,e.spaceId,u().subscriptionDataStoreInstance.state)}},team_self_promotion:e=>{},internal_guests:e=>{if(!u().subscriptionDataStoreInstance.state)return"loading";return{current:(0,d().s1)(e.environment,e.spaceId,u().subscriptionDataStoreInstance.state),hasLowGuestLimit:(0,n(548812).fc)()}},members:e=>{const t=u().subscriptionDataStoreInstance.state;return{current:t?(0,i().W)(e.environment,e.spaceId,t):0}},non_admin_members:e=>{},view_chart:e=>{},form_filesize:e=>{},form_customization:e=>{},premium_automations:e=>{},move_to:e=>{},claimable_spaces:e=>{},domain_settings:e=>{},managed_users:e=>{},invite_user_to_workspace_mentions:e=>{},saml:e=>{},scim:e=>{},export_members:e=>{},hipaa_compliance:e=>{},sites_multiple_public_domains:e=>{},custom_image_upload_favicon:e=>{},custom_public_sites_layout:e=>{},seo_title_and_description:e=>{},admin_transfer_private_content:e=>{},ai_slack_qna:e=>{},configurable_mention_invites:e=>{},configurable_retention:e=>{},unbranded_forms:e=>{},ai_google_drive_qna:e=>{},watermarkless_chart_export:e=>{},configurable_deletion_and_retention_settings:e=>{},sudo_mode:e=>{},ai_github_connector:e=>{},ai_jira_connector:e=>{},slack_imports_invite:e=>{},content_reprovisioning:e=>{},ai_space_usage:e=>{var t;let{environment:n,spaceId:c}=e;const d=new(s().H)(n,{table:r().bx,id:c}).getModel(),g=(0,o().oc)(a().default.promotions.ai,d),m=(null===(t=l().Z.state)||void 0===t?void 0:t.spaceUsage)??0,p=u().subscriptionDataStoreInstance.state;return{current:m,memberCount:p?(0,i().W)(n,c,p):0,aiPromotionConfig:g,space:d}},ai_user_usage:e=>{var t;let{environment:n,spaceId:c}=e;const d=new(s().H)(n,{table:r().bx,id:c}).getModel(),g=(0,o().oc)(a().default.promotions.ai,d),m=(null===(t=l().Z.state)||void 0===t?void 0:t.userUsage)??0,p=u().subscriptionDataStoreInstance.state;return{current:m,memberCount:p?(0,i().W)(n,c,p):0,aiPromotionConfig:g,space:d}},block_read_and_write_role:e=>{}};function p(e){return(0,c().Rv)(e)??!1}},678231:(e,t,n)=>{n.d(t,{HM:()=>r().H,Oi:()=>o().O});var r=()=>n(86580),o=()=>n(368958)},86580:(e,t,n)=>{n.d(t,{H:()=>g});var r=()=>n(219727),o=()=>n(142735),a=()=>n(629719),s=()=>n(979614),i=()=>n(876822),c=()=>n(663773),l=()=>n(404791),u=()=>n(419157),d=()=>n(539306);function g(e){const{billingData:t,canClick:n,source:g,onDismiss:m}=e,p=(0,r().O7)(),f=(0,o().Kw)(l().Z);if((0,a().ps)(null==t?void 0:t.subscription,"ai"))return{type:"unlimited"};if(!f)return;const v=(0,c().aJ)(t),h=n&&v?()=>{s().sA(p,{from:"plans_page",for_subscription_tier:(0,a().zt)(null==t?void 0:t.subscription),addOnFeature:"ai"}),s().NI(p,{location:"plans_page",cta_item:"ai",currency_code:u().Z.selectedCurrencyCode,page_section:g,button_text:"Purchase AI"}),(0,d().l)({environment:p,spaceStore:i().default.state.currentSpaceStore,billingData:v,from:"plans_page",product:"ai",pageSection:g,dismissMobilePlansModal:m})}:void 0;return{type:"limited",usage:{usedCount:f.spaceUsage,totalCount:f.spaceLimit},onClickAddAI:h}}},368958:(e,t,n)=>{n.d(t,{O:()=>a});var r=()=>n(219727),o=()=>n(142735);function a(e){const{billingInterval:t,priceStore:n,products:a}=e,s=(0,r().O7)();return(0,o().VK)((()=>{const e={};for(const r of a)e[r]=n.getPrice(s,(e=>e.product===r&&e.billingInterval===t));return e}),[t,s,n,a])}},85084:(e,t,n)=>{n.d(t,{F:()=>s});var r=()=>n(219727),o=()=>n(142735),a=()=>n(979614);function s(e){const{asyncPrice:t}=e,n=(0,r().O7)();return(0,o().VK)((()=>{if(t&&t.isLoaded&&t.result)return a().qP(n,{externalId:t.result.externalId}),t.result.getMonthlyUnitCost().toMoneyValue()}),[t,n])}},89715:(e,t,n)=>{n.d(t,{r:()=>o});var r=()=>n(846550);function o(){return(0,r().yK)((e=>({bulletList:{paddingInlineStart:0,marginBlock:"0px 0px",listStyleType:"none"},bulletItem:{display:"flex",minHeight:24,alignItems:"center"},bulletItemContent:{display:"flex",gap:4},coloredRow:{display:"flex",flexDirection:"row",gap:12,backgroundColor:e.surface.wash,borderRadius:2},column:{width:"100%",minWidth:150,paddingTop:10,paddingBottom:12},featureDetailsStyle:{paddingTop:12},gridSectionTitle:{paddingLeft:12},gridSection:{display:"flex",flexDirection:"column",gap:42},row:{display:"flex",flexDirection:"row",gap:12},lastRow:{borderBottom:`1px solid ${e.stroke.secondary}`},sidebar:{width:"100%",paddingTop:12,paddingBottom:12,maxWidth:118},titleSection:{paddingLeft:12}})),[])}},708325:(e,t,n)=>{n.d(t,{$:()=>o});n(667294);var r=n(785893);const o=(0,n(827282).IU)("chartLine",{viewBox:"0 0 20 20",svg:(0,r.jsx)("path",{d:"M15.625 10.625V8.2l-4.3 4.3-2.972-2.972-3.978 3.978v1.497H17.5v1.875h-15V3.125h1.875v7.728l3.978-3.978 2.972 2.972 2.972-2.972h-2.425V5h5.625v5.625h-1.875.003z"})})},703976:(e,t,n)=>{n.d(t,{TC:()=>s,dr:()=>o,is:()=>a});n(267602),n(470928);var r=()=>n(446866);function o(e,t){return!!e&&a(e.getEmail(),t)}function a(e,t){return void 0!==s(e,t)}function s(e,t){if(!e)return;const n=(0,r().Gd)(e);return t.find((e=>e.url===n))}},259408:(e,t,n)=>{n.d(t,{$W:()=>g,KQ:()=>d,_e:()=>p,Ay:()=>h,fS:()=>u,t:()=>a(),V5:()=>f,Kz:()=>v});n(267602),n(653476);var r=()=>n(513670),o=()=>n(696459),a=()=>n(124199),s=()=>n(629719);const i=["student","personal","plus","business","enterprise"];function c(e){return(0,o().DE)(i,e)}var l=()=>n(122792);const u=["plus","business","enterprise","ai","sites_custom_hostnames"];function d(e,t,n,r){return p(g(e,t,n,r))}function g(e,t,n,r){const{name:a,scope:s,actor:i}=r,c={...r,billingData:s.billingData},l=s.premiumFeatureOverrides,u=a in l?function(e,t,n){const r={type:"contact_account_manager"},a=e[t.name].type;if("check"===a){const e={type:"none"};return!0===n?{type:"available",limit:e}:{type:"upsell",upsell:r,limit:e}}if("per_use"===a){const e=t.amount,o={type:"per_use",amount:n};return"unlimited"===n||n>e?{type:"available",limit:o}:{type:"upsell",upsell:r,limit:o}}if("cumulative"===a){const e=t.amount,o=t.data.current,a={type:"cumulative",current:o,total:n};return"unlimited"===n||n>=o+e?{type:"available",limit:a}:{type:"upsell",upsell:r,limit:a}}(0,o().t1)(a)}(t,r,l[a]):n[a](c);let d;if("available"===u.type){const e=u.upsell?m(s.billingData,u.upsell,r.supportedProducts):void 0;d={...u,upsell:e}}else if("blocked"===u.type){const e=m(s.billingData,u.upsell,r.supportedProducts);d={...u,upsell:e}}else{const e=m(s.billingData,u.upsell,r.supportedProducts),t=function(e){const{actor:t,supportedProducts:n,upsell:r}=e;if(!t.isSpaceAdmin)return"blocked";const a=r.type;switch(a){case"product":return n.includes(r.product)?"upsell":"blocked";case"contact_sales":case"contact_account_manager":return"upsell";default:(0,o().t1)(a)}}({actor:i,supportedProducts:r.supportedProducts,upsell:e});d={...u,type:t,upsell:e}}return Math.random()<.001&&e({level:"info",from:"premiumFeatureFramework",type:"getPremiumFeatureAvailability",data:{featureName:a,featureScope:s,featureActor:i,featureAvailability:u}}),d}function m(e,t,n){if((0,s().Rd)(e.subscription))return{type:"contact_account_manager"};if("product"!==(null==t?void 0:t.type)||n.includes(t.product)||!c(t.product))return t;const o=t.product,a=n.filter((e=>c(e))).filter((e=>"student"!==e)).filter((e=>l().rC[e]>=l().rC[o])),i=(0,r().F)(a,(e=>l().rC[e]));return i?{...t,product:i}:t}function p(e){return"available"===(null==e?void 0:e.type)}function f(e,t){const{available:n}=t;let r,a;return"unavailable"in t?(r=t.unavailable,a=t.unavailable):(r=t.blocked,a=t.upsell),"available"===e.type?n():"upsell"===e.type?a(e):"blocked"===e.type?r(e):(0,o().t1)(e)}function v(e,t){if(void 0!==e)return f(e,{available:()=>{},blocked:t,upsell:()=>{}})}function h(e){return a().object({required:e,optional:{}})}}}]);