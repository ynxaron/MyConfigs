"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[65670],{256730:(t,e,i)=>{i.d(e,{V:()=>l().V});var l=()=>i(829466)},898270:(t,e,i)=>{i.r(e),i.d(e,{ScrollableSitesBannerContainer:()=>B});i(667294);var l=()=>i(219727),a=()=>i(142735),s=()=>i(500174),n=()=>i(846550),c=()=>i(836273),r=()=>i(788860),o=()=>i(752127),d=()=>i(497065),p=()=>i(489434),m=()=>i(256730),u=()=>i(166104),g=i(785893);function h(t){const{blockStore:e,template:i}=t,s=(0,l().O7)(),h=(0,a().VK)((()=>e.isFormBlock()),[e]),v=(0,n().yK)((t=>({icon:{height:16,width:16,marginRight:4}})),[]);if(h)return null;const k=i.id,x=[{label:(0,g.jsxs)(g.Fragment,{children:[(0,m().V)(v.icon),(0,g.jsx)(r()._H,{defaultMessage:"View template listing",id:"pageViewBlock.marketplaceBanner.viewSite"})]}),onClick:()=>{d().c4({environment:s,url:`/marketplace/templates/${i.slug}`})}},{label:(0,g.jsxs)(g.Fragment,{children:[(0,u().H)(v.icon),(0,g.jsx)(r()._H,{defaultMessage:"Settings",id:"pageViewBlock.marketplaceBanner.settings"})]}),onClick:()=>{o().D({environment:s,url:`${c()._j.creatorProfileTemplates}/form/published/${k}`})}}];return(0,g.jsx)(p().j,{label:(0,g.jsx)(r()._H,{defaultMessage:"This template is live on the Marketplace",id:"pageViewBlock.marketplaceBanner.message"}),display:"full-width",actions:x,tint:"blue"})}var v=()=>i(799891),k=()=>i(801812),x=()=>i(824462),b=()=>i(785738);var j=()=>i(59864),f=()=>i(682551);function B(t){const{blockStore:e}=t,i=(0,l().O7)(),n=(0,a().VK)((()=>(0,j().N)({environment:i,store:e})),[i,e]),c=function(t,e){const i=(0,l().O7)(),[{value:a,status:s}]=(0,k().r5)((async()=>{if(!e)return{templateListingExists:!1};try{const e=await x().callApi({eventName:"inAppGetBannerByBlockId",environment:i,data:{blockId:t.id}});var l,a,s;if("success"===e.type&&e.data.success)return b().h.setSiteTemplateStatus((null===(l=e.data.template)||void 0===l?void 0:l.root_block_id)??"",{templateListingExists:!(null===(a=e.data.template)||void 0===a||!a.listing_id),template:e.data.template,status:"resolved"}),{templateListingExists:!(null===(s=e.data.template)||void 0===s||!s.listing_id),template:e.data.template}}catch(n){v().log({level:"error",from:"AllPublishedSiteSettings",type:"getTemplateByBlockId",data:{blockId:t.id}})}return b().h.setSiteTemplateStatus(t.id,{templateListingExists:!1,template:void 0,status:"rejected"}),{templateListingExists:!1}}),[i,e,t]);return{templateListingExists:(null==a?void 0:a.templateListingExists)??!1,status:s,template:null==a?void 0:a.template}}(e,n);return n&&"pending"!==c.status?c.templateListingExists&&c.template?(0,g.jsx)("div",{style:{position:"sticky",left:0,right:"100%",width:"100%"},children:(0,g.jsx)(h,{blockStore:e,template:c.template})}):(0,g.jsx)("div",{style:{position:"sticky",left:0,right:"100%",width:"100%"},children:(0,g.jsx)(f().Z,{blockStore:e,legacyColor:s().v.LightBlue})}):(0,g.jsx)(g.Fragment,{})}},829466:(t,e,i)=>{i.d(e,{V:()=>a});i(667294);var l=i(785893);const a=(0,i(827282).IU)("newSidebarTemplates",{viewBox:"0 0 20 20",svg:(0,l.jsx)("g",{children:(0,l.jsx)("g",{id:"Layer_1",children:(0,l.jsx)("path",{d:"M18.1572266,15.3720703l-2.3018188-3.9864502c.6661377-.2475586,1.1445923-.8843994,1.1445923-1.6356201V3.75c0-.9648438-.7851562-1.75-1.75-1.75h-6.25c-.9648438,0-1.75.7851562-1.75,1.75v1.5634766c-.2476807-.0355835-.4969482-.0634766-.75-.0634766-2.8950195,0-5.25,2.3549805-5.25,5.25,0,2.8945312,2.3549805,5.25,5.25,5.25.3484497,0,.6890869-.0457764,1.0245972-.1122437-.1846313.4870605-.1571655,1.022583.1101685,1.4862671.3168945.5488281.8842773.8759766,1.5175781.8759766h7.4873047c.6328125,0,1.2001953-.3271484,1.5166016-.875.3173828-.5488281.3173828-1.203125.0009766-1.7529297ZM9,3.5h6.25c.1376953,0,.25.1123047.25.25v6c0,.1376953-.1123047.25-.25.25h-.1946411l-.6422729-1.1123047c-.3164062-.5483398-.8837891-.8759766-1.5166016-.8759766-.6337891,0-1.2011719.3276367-1.5175781.8759766l-.6421509,1.1123047h-1.7421265c-.1347656,0-.2446289-.1098633-.2446289-.2446289v-3.5401611c-.000061-.0013428.0001221-.0026245,0-.0039673v-2.4612427c0-.1376953.1123047-.25.25-.25ZM2.75,10.5c0-2.0678711,1.6821289-3.75,3.75-3.75.2545166,0,.5040894.0332031.75.083252v2.9221191c0,.9619141.7827148,1.7446289,1.7446289,1.7446289h.8760986l-1.1859131,2.0540771c-.0067139.0043945-.0146484.0047607-.0212402.0093994-.6342773.4492188-1.3828125.6865234-2.1635742.6865234-2.0678711,0-3.75-1.6826172-3.75-3.75ZM16.8574219,16.3740234c-.0273438.046875-.0917969.1259766-.2177734.1259766h-7.4873047c-.1264648,0-.190918-.0791016-.2182617-.1259766s-.0634766-.1425781,0-.2519531l3.7436523-6.484375c.125-.2163086.3076172-.2202148.4365234,0l3.7441406,6.4833984c.0625.1103516.0263672.2060547-.0009766.2529297Z"})})})})}}]);