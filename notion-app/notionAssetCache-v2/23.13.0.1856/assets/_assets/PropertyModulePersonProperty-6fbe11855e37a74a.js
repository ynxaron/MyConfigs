"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[72001],{788899:(e,t,o)=>{o.d(t,{Tp:()=>y,cn:()=>c,fg:()=>p,l0:()=>u});o(667294);var r=()=>o(219727),n=()=>o(573357),l=()=>o(198829),i=()=>o(18748),s=()=>o(470386),a=()=>o(352230),d=o(785893);const c=8,u=8,p=32,m={height:p+c-2,paddingTop:c-2};function y(e){let{title:t,helpButton:o,onCancel:i,desktopMinWidth:c,desktopMaxWidth:u,desktopWidth:p,children:m}=e;const{device:y}=(0,r().O7)();return(0,d.jsx)(n().Z,{capture:!0,allowEsc:!0,allowUndo:!0,render:e=>{let r;return r=y.isMobile?{menuType:a().o.Modal,title:t,right:(0,d.jsx)(s().DoneMenuText,{}),onClickRight:i,...e}:{menuType:a().o.Popup,...c&&{minWidth:c},...u&&{maxWidth:u},...p&&{width:p},...e},(0,d.jsx)(l().Z,{...r,header:t&&(0,d.jsx)(h,{title:t,helpButton:o}),children:m})}})}function h(e){let{title:t,helpButton:o}=e;return(0,r().O7)().device.isMobile?null:(0,d.jsx)(i().ZP,{style:m,title:t,right:o})}},292612:(e,t,o)=>{o.d(t,{Z:()=>l});var r=o(667294),n=o(785893);const l=r.forwardRef((function(e,t){const r=(0,o(846550).yK)((t=>({base:{color:e.isBlue?o(568017).ZP.blue:t.mediumTextColor},disabled:{cursor:"not-allowed"},buttonMenuItem:{...e.style,...e.disabled?{cursor:"not-allowed"}:{}}})),[e.disabled,e.isBlue,e.style]),{color:l}=r.base;return(0,n.jsx)(o(827973).Z,{ref:t,...e,title:(0,n.jsx)("div",{style:{color:l,fill:l},children:e.title}),icon:(0,n.jsx)(o(882292).Z,{icon:o(521777).R,styles:{fill:l}}),style:r.buttonMenuItem})}))},951877:(e,t,o)=>{o.d(t,{L:()=>d,N:()=>c});o(667294);var r=()=>o(219727),n=()=>o(846550),l=()=>o(766933),i=()=>o(270315),s=()=>o(827973),a=o(785893);let d=function(e){return e[e.Name=0]="Name",e[e.Type=1]="Type",e}({});function c(e){const{propertySchema:t,format:o,locked:c}=e,u=(0,n().Fg)(),p=(0,r().O7)(),{name:m,type:y,icon:h}=t,x=o===d.Name?m:i().SO[y];return(0,a.jsx)(s().Z,{title:x,icon:(0,a.jsx)(l().ZP,{icon:h,type:y,size:p.device.isMobile?18:16,theme:u,style:{fill:u.regularIconColor,marginLeft:6,marginRight:2}}),disabled:c,...e})}},360197:(e,t,o)=>{o.d(t,{Z:()=>y});o(267602),o(653476),o(241792),o(228244);var r=o.n(o(443261)),n=(o(667294),()=>o(142735)),l=()=>o(226413),i=()=>o(532850),s=()=>o(788860),a=()=>o(513670),d=()=>o(352230),c=()=>o(255577),u=()=>o(388284),p=()=>o(951877),m=o(785893);const y=function(e){let{selectedProperty:t,onAccept:y,schema:h,onClose:x,allowProperty:g,isRelationProperty:f}=e;const b=(0,o(219727).O7)(),j=(0,s().YB)(),v=(0,n().qz)(void 0,o(718798).Z);let k=Object.keys(h);const w=k.some(o(15607).w);k=a().MR(k,(e=>{const t=(0,i().Qm)({schema:h,property:e});return t?t.name:""}));const S=w?l().bf:l().iw;k=a().zu(k,S),k.unshift(S);const M=(0,n().VK)((()=>v.state.inputValue),[v]);if(g&&(k=k.filter((e=>{const t=(0,i().Qm)({schema:h,property:e});return t&&g(t)}))),M){let e=k.map((e=>{const t=(0,i().Qm)({schema:h,property:e});return t&&t.name}));e=r().filter(M,e).map((e=>{let{original:t}=e;return t})),k=k.filter((t=>{const o=(0,i().Qm)({schema:h,property:t});return o&&o.name&&e.includes(o.name)}))}const C=M||k.length>o(347577).nt,Z=a().oA(k.map((e=>{const o=(0,i().Qm)({schema:h,property:e});if(!o)return null;return{key:e,render:r=>(0,m.jsx)(p().N,{...r,propertySchema:o,format:p().L.Name,checkState:e===t}),action:()=>y(e)}}))),P=[{key:0,render:e=>(0,m.jsx)(u().Z,{...e}),items:Z}],{device:T}=b,R=C?(0,m.jsx)(u().Z,{isInput:!0,children:(0,m.jsx)(o(740046).ZP,{focus:!T.isMobile||void 0,focusAfterAnimation:!0,value:M,onChange:e=>v.setState({focus:!0,inputValue:e.target.value}),placeholder:f?j.formatMessage({defaultMessage:"Search for a relation property…",id:"propertySelectMenu.searchForProperty.relation.placeholder"}):j.formatMessage({defaultMessage:"Search for a property…",id:"propertySelectMenu.searchForProperty.default.placeholder"})})}):null;let _;return _=T.isMobile?{menuType:d().o.Modal,title:f?j.formatMessage({defaultMessage:"Relation property",id:"propertySelectMenu.mobileMenu.relationProperty.header"}):j.formatMessage({defaultMessage:"Property",id:"propertySelectMenu.mobileMenu.property.header"}),right:(0,m.jsx)(o(470386).CancelMenuText,{}),onClickRight:x,header:R}:{menuType:d().o.Popup,width:280,maxHeight:480,header:R},(0,m.jsx)(o(198829).Z,{..._,children:0===Z.length?(0,m.jsx)(u().Z,{children:(0,m.jsx)(o(838367).Z,{title:(0,m.jsx)(s()._H,{defaultMessage:"No results",id:"propertySelectMenu.search.noResults.title"})})}):(0,m.jsx)(c().Z,{type:c().i.Vertical,sections:P,onAccept:x,initialFocus:M.length>0?0:void 0})})}},697475:(e,t,o)=>{o.d(t,{Z:()=>i});o(667294);var r=()=>o(788860),n=()=>o(951877),l=o(785893);const i=function(e){const t=(0,o(219727).O7)(),{device:i}=t;if(i.isMobile)return e.propertySchema?(0,l.jsx)(n().N,{propertySchema:e.propertySchema,onClick:e.onClick,focused:!1,format:n().L.Name,showExtensionArrow:!e.disabled}):(0,l.jsx)(o(827973).Z,{focused:!1,title:(0,l.jsx)(r()._H,{defaultMessage:"Property",id:"database.mobileFilterAndSortMenu.property.buttonMenuItem.label"})});{const t=e.propertySchema&&(0,l.jsx)(o(899316).ZP,{propertySchema:e.propertySchema,showIcon:!0,style:{lineHeight:1.4}}),n=(0,l.jsx)(r()._H,{defaultMessage:"Property",id:"database.filterAndSortMenu.propertyButton.label"});return(0,l.jsx)(o(960647).Z,{title:t,placeholder:n,onClick:e.onClick,disabled:e.disabled,disableMargins:e.disableMargins,desktopStyle:e.textWrapperStyle})}}},840541:(e,t,o)=>{o.r(t),o.d(t,{PersonPropertyModule:()=>F});o(670560),o(122556),o(582845),o(250570),o(533019),o(721473),o(788208),o(22624),o(267602),o(653476),o(241792);var r=o(667294),n=()=>o(219727),l=()=>o(142735),i=()=>o(846550),s=()=>o(816512),a=()=>o(801812),d=()=>o(989478),c=()=>o(955620),u=()=>o(788860),p=()=>o(513670),m=()=>o(696459),y=()=>o(707513),h=()=>o(326966),x=()=>o(337897),g=()=>o(949842),f=()=>o(352230),b=()=>o(644248),j=()=>o(518530),v=()=>o(828946),k=()=>o(998901),w=()=>o(253368),S=()=>o(682518),M=()=>o(168003),C=()=>o(96778),Z=()=>o(154186),P=()=>o(827973),T=()=>o(448419),R=()=>o(1910),_=()=>o(740046),B=()=>o(312578),V=()=>o(198829),A=()=>o(255577),N=()=>o(838367),O=()=>o(388284),W=()=>o(67961),I=()=>o(523516),K=o(785893);const F=r.memo((function(e){let{property:t,store:n,propertyValues:l,propertySchema:s,module:a,format:d}=e;const[c,p]=(0,o(407544).e)(),x=(0,o(291848).w)(),g={style:"large"};(0,o(639708).xV)(a)&&a.style&&(g.style=a.style);const f="large"===g.style?200:164,b=(0,r.useMemo)((()=>Math.floor((p+4)/(f+4))),[f,p]),j="person"===(null==s?void 0:s.type)&&((0,m().$K)(s.limit)&&0===l.length||(0,h().z4)(s.limit)),[v,k]=(0,r.useState)(!1),w=1===b?8:5,S=Math.max(1,w*b-(j?1:0)),M=(0,i().yK)((e=>({showAllFewerButton:{borderRadius:6,padding:"2px 8px",marginTop:4,display:"inline-flex",flexWrap:"nowrap",gap:4,color:e.mediumTextColor,fontWeight:y().Ue.medium,fontSize:14,alignItems:"center",justifyContent:"start"}})),[]),C=(0,K.jsx)(Z().Z,{onClick:()=>k(!v),style:M.showAllFewerButton,children:v?(0,K.jsx)(u()._H,{id:"PersonPropertySectionValues.showMoreButton.text",defaultMessage:"Show fewer"}):(0,K.jsx)(u()._H,{id:"PersonPropertySectionValues.showFewerButton.text",defaultMessage:"Show more"})}),P=l.length>0;return(0,K.jsxs)("div",{ref:c,children:[(0,K.jsx)(o(857719).a3,{minWidth:P?f:void 0,style:{gridGap:4,marginTop:P&&!x?4:0},children:(0,K.jsx)(H,{values:l,blockStore:n,propertyId:t,propertySchema:s,itemsShownPerRow:b,showAddButton:j,limit:v?void 0:S,setShowingAllValues:k,renderOptions:g,format:d})}),l.length>S&&C]})}));function H(e){let{values:t,blockStore:i,propertyId:a,propertySchema:d,itemsShownPerRow:u,showAddButton:y,limit:x,setShowingAllValues:g,renderOptions:f,format:b}=e;const j=(0,n().O7)(),v=(0,n().Fy)(),{collectionContextStore:w}=(0,r.useContext)(C().OU),S=(0,r.useCallback)((function(e){o(269299).createAndCommit({userAction:"PersonPropertyModule.updateValue",environment:j,canUndo:!0,perform:t=>{const r=o(532850).BY(e);o(970105).sO({environment:j,store:i.getPropertyStore(a),value:r,transaction:t})}});const t=i.getAssociatedCollectionStore();w&&d&&t&&o(250303).rv({environment:j,collectionContextStore:w,block_id:i.id,property:a,property_type:null==d?void 0:d.type,from:"property_module",collection_id:t.id,isFromBulkActionsToolbar:!1})}),[i,w,j,a,d]),M=(0,r.useCallback)((function(e){S(t.filter((t=>(0,s().Wk)(e)?(0,c().D4X)(t)||e.id!==t.id:e!==t)))}),[S,t]),P=(0,r.useCallback)((function(e){S([...t,e])}),[S,t]),R=(0,r.useCallback)((function(e){S([e])}),[S]),[_,B]=(0,r.useState)(""),V=(0,r.useMemo)((()=>new(o(529048).Z)),[]),A=t.length&&t.length<=u-1?(0,p().w6)(u-t.length-1).map((e=>(0,K.jsx)("div",{},e))):[],N=(0,l().VK)((()=>i.isTemplate()),[i]),O=(0,l().VK)((()=>i.canEdit()&&!i.isNonEditableState()),[i]);if((0,h().z4)(d))return null;if("created_by"===(null==d?void 0:d.type)||"last_edited_by"===(null==d?void 0:d.type))return(0,K.jsx)(z,{personValues:t,disabled:!0,onRemove:p().ZT,renderOptions:f,propertySchema:d});const W=x?t.slice(0,x):t;return O?(0,K.jsxs)(K.Fragment,{children:[(0,m().$K)(d.limit)?(0,K.jsx)(T().ZP,{buttonPopupStore:V,alignmentToOrigin:k().Alignment.Start,onClose:()=>{B("")},popupType:v.isMobile?T().Z4.SlideUp:T().Z4.Popup,renderOrigin:e=>(0,K.jsx)(Z().Z,{...e,children:(0,K.jsx)(z,{personValues:t,onRemove:M,disabled:!O,renderOptions:f,propertySchema:d})}),render:()=>(0,K.jsx)($,{query:_,setQuery:B,current:t,onAdd:e=>{R(e),V.setState({open:!1})},inTemplate:N,limit:d.limit,format:b})}):(0,K.jsx)(z,{personValues:W,onRemove:M,disabled:!O,renderOptions:f,propertySchema:d}),y?(0,K.jsx)(U,{renderOptions:f,isEmpty:!t.length,menu:(0,K.jsx)($,{query:_,setQuery:B,current:t,onAdd:P,inTemplate:N,limit:d.limit,format:b}),onClose:()=>{B(""),g(!1)},onClick:()=>{(0,m().$K)(x)&&g(!0)}}):null,A]}):(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(z,{personValues:W,disabled:!0,onRemove:p().ZT,renderOptions:f,propertySchema:d}),A]})}const U=r.memo((function(e){let{menu:t,onClick:l,onClose:s,renderOptions:a,isEmpty:d}=e;const c=(0,n().Fy)(),p=(0,i().yK)((e=>({button:{borderRadius:6,padding:"5px 0 5px 4px",display:"flex",flexWrap:"nowrap",gap:4,color:e.text.tertiary,fontSize:14,alignItems:"center"},buttonBorder:{padding:"large"===a.style?11:5,borderRadius:9999,border:`1px solid ${e.stroke.secondary}`},icon:{color:e.icon.tertiary}})),[a.style]),{baseStyles:m}=(0,r.useContext)(C().OU);return(0,K.jsx)(T().ZP,{alignmentToOrigin:k().Alignment.Start,onClick:l,onClose:s,popupType:c.isMobile?T().Z4.SlideUp:T().Z4.Popup,renderOrigin:e=>(0,K.jsx)(Z().Z,{...e,style:d?m.emptyButtonStyle:p.button,testId:"person_property_module__add_button",children:d?(0,K.jsx)(M().T$,{}):(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)("div",{style:p.buttonBorder,children:(0,o(521777).R)({width:12,...p.icon})}),(0,K.jsx)(u()._H,{id:"personProperty.addPersonButtonText",defaultMessage:"Add person"})]})}),render:()=>t})}));function $(e){let{query:t,setQuery:o,onAdd:i,current:y,inTemplate:h,limit:g,format:b}=e;const j=(0,n().Fy)(),k=(0,u().YB)(),M=function(e){let{query:t}=e;const o=(0,n().O7)(),r=(0,u().YB)(),[l]=(0,a().r5)((async()=>{const e=await v().x.searchActions.load(),{users:n}=await e.searchSpaceActors({environment:o,query:t,membersOnly:!1,userLocale:r.locale});return n.map((e=>(0,s().LU)({table:d().KJ,value:e})))}),[o,t,r.locale]);return l}({query:t}),C=(0,r.useMemo)((()=>new Set(y.map((e=>{if((0,s().Wk)(e))return e.id})).filter(m().$K))),[y]),Z=(0,r.useCallback)((e=>e.filter((e=>!C.has(e.id)))),[C]),T=(0,K.jsx)(O().Z,{isInput:!0,style:{padding:8},children:(0,K.jsx)(_().ZP,{customElementAttributes:{"data-testid":"person_property_module__search_input"},textWrapperStyle:{margin:0},inputOuterStyle:{margin:j.isMobile?"0 16px":void 0},focus:!j.isMobile||void 0,focusAfterAnimation:!0,value:t||"",onChange:e=>o(e.target.value),placeholder:k.formatMessage({id:"personPropertySectionValues.search.placeholder",defaultMessage:"Search for a person..."})})}),R=c().s8k.filter((e=>!y.includes(e))),W={key:"shortcuts",items:R.length>0?R.map((e=>({key:`relative_person_shortcut_${e}`,action:()=>{},render:t=>(0,K.jsx)(P().Z,{...t,title:(0,K.jsx)(S().w,{templateVariableType:e}),inline:!0,onClick:()=>{i(e)}})}))):[{key:"no_template_variables",action:()=>{},render:e=>(0,K.jsx)(N().Z,{...e,style:{margin:"2px 0px 2px 6px",fontSize:12},title:(0,K.jsx)(u()._H,{id:"database.personPropertyMenu.noShorcuts.message",defaultMessage:"No shortcuts"})})}],render:e=>(0,K.jsx)(O().Z,{...e,title:"Shortcuts"})},[F,H]=(0,r.useMemo)((()=>{const e=[];let t;if("pending"===M.status||"idle"===M.status)e.push({key:"loading",action:()=>{},render:e=>(0,K.jsx)(N().Z,{...e,title:(0,K.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,K.jsx)(B().Z,{})})})});else if("resolved"===M.status){const r=Z(M.value??[]);t=r.length>0?0:void 0,0===r.length?e.push({key:"no_results",action:()=>{},render:e=>(0,K.jsx)(N().Z,{...e,title:(0,K.jsx)(u()._H,{id:"PersonPropertySectionValues.searchMenu.noResults",defaultMessage:"No results."})})}):e.push(...r.map((e=>({key:e.id,action:()=>{i(e.pointer),o("")},render:t=>(0,K.jsx)(I().Z,{...t,actor:(0,s().dp)(e)})}))))}else"rejected"===M.status?e.push({key:"no_results",action:()=>{},render:e=>(0,K.jsx)(N().Z,{...e,title:(0,K.jsx)(u()._H,{id:"PersonPropertySectionValues.searchMenu.somethingWentWrong",defaultMessage:"Something went wrong."})})}):(0,m().t1)(M);return[e,t]}),[i,Z,o,M]),U=(0,l().VK)((()=>{if(!(0,x().xE)(b))return(0,w().$)(g)}),[b,g]);return(0,K.jsx)(V().Z,{menuType:j.isMobile?f().o.ActionSheet:f().o.Popup,header:T,width:275,maxHeight:400,minWidth:275,children:(0,K.jsx)(A().Z,{type:A().i.Vertical,sections:(0,p().oA)([h?W:void 0,{key:"results",items:F.slice(0,20),render:e=>(0,K.jsx)(O().Z,{...e,title:U})}]),initialFocus:H})})}const z=r.memo((function(e){let{personValues:t,onRemove:o,disabled:n,renderOptions:l,propertySchema:i}=e;const a=(0,r.useCallback)((e=>{"person"===i.type&&i.limit||(0,g().ZP)({event:e,context:g().Af.EditorClick,callback:p().ZT})}),[i]);return 0===t.length&&n?(0,K.jsx)("div",{style:{fontSize:14,paddingLeft:6},children:(0,K.jsx)(M().T$,{})}):(0,K.jsx)(K.Fragment,{children:t.map((e=>(0,s().Wk)(e)?(0,K.jsx)(D,{actorPointer:e,handleRemove:o,disabled:n,renderOptions:l,onClick:a},e.id):(0,c().D4X)(e)?(0,K.jsx)(L,{value:e,handleRemove:o,disabled:n},`template_variable_${e}`):void(0,m().t1)(e)))})})),L=r.memo((function(e){let{value:t,handleRemove:r,disabled:n}=e;const[l,s]=(0,b().C)(),a=(0,i().yK)((e=>({actorName:{fontWeight:y().Ue.regular,color:e.blueColor,lineHeight:1.1},uiToken:{display:"flex",gap:10,alignItems:"center",background:s&&!n?e.outlineBlueButtonPressedBackground:e.outlineBlueButtonHoveredBackground,color:e.blueColor,justifyContent:"space-between",position:"relative",padding:"5px 28px 5px 5px",borderRadius:4},avatar:{borderRadius:6,display:"flex",flexWrap:"nowrap",gap:4,fontSize:14,alignItems:"center"},avatarBorder:{padding:8,borderRadius:9999,background:e.accentColors.uiBlue[s&&!n?100:200],color:e.accentColors.uiBlue[600]}})),[n,s]);return(0,K.jsxs)("div",{ref:l,style:a.uiToken,children:[(0,K.jsx)("div",{style:a.avatar,children:(0,K.jsx)("div",{style:a.avatarBorder,children:(0,o(421887).f)({width:14})})}),(0,K.jsx)("div",{style:{display:"flex",gap:4,flexGrow:1},children:(0,K.jsx)(W().Z,{className:"notranslate",style:a.actorName,isMultiline:!0,children:(0,K.jsx)(u()._H,{id:"PropertyModulePersonTemplateVariableValue.templateVariables.text.me",defaultMessage:"Person who{br}duplicated page",values:{br:(0,K.jsx)("br",{})}})})}),s&&!n?(0,K.jsx)(R().Z,{icon:j().U,ariaLabel:"Close",style:{position:"absolute",right:4,top:"50%",transform:"translateY(-50%)",width:20,height:20},iconStyle:{width:11},onClick:()=>r(t)}):null]})})),D=r.memo((function(e){let{actorPointer:t,handleRemove:n,disabled:a,renderOptions:d,onClick:c}=e;const p=(0,u().YB)(),{store:m}=(0,r.useContext)(C().OU),h="large"===d.style?36:24,x="large"===d.style?10:4,g=(0,l().VK)((()=>{const e=null==m?void 0:m.getRecordModel;if(e)return(0,s().Hl)({pointer:t,getRecordModel:e})}),[t,null==m?void 0:m.getRecordModel]),f=null==g?void 0:g.asActor,v=(0,l().VK)((()=>null==f?void 0:f.getDisplayName(p)),[f,p]),[k,w]=(0,b().C)(),S=(0,i().yK)((e=>({actorName:{fontWeight:y().Ue.medium},container:{display:"flex",gap:x,alignItems:"center",justifyContent:"space-between",position:"relative",padding:"5px 28px 5px 5px",borderRadius:4,background:w&&!a?e.buttonHoveredBackground:void 0}})),[x,a,w]),M=(0,l().VK)((()=>null!=f&&f.isUser()?(0,K.jsx)(o(981583).Z,{userValue:f,size:h}):null!=f&&f.isBot()?(0,K.jsx)(o(634760).Z,{botValue:f,size:h}):null),[h,f]);return(0,K.jsxs)("div",{ref:k,onClick:c,style:S.container,children:[M,(0,K.jsx)("div",{style:{display:"flex",gap:4,flexGrow:1,...y().Yu},children:(0,K.jsx)(W().Z,{className:"notranslate",style:S.actorName,showTooltipWhenTruncated:!0,children:v})}),w&&!a?(0,K.jsx)(R().Z,{icon:j().U,ariaLabel:p.formatMessage({id:"PropertyModulePersonValue.removeUser.ariaLabel",defaultMessage:"Remove {name}"},{name:v}),style:{position:"absolute",right:4,top:"50%",transform:"translateY(-50%)",width:20,height:20},iconStyle:{width:11},onClick:()=>n(t)}):null]})}))},857719:(e,t,o)=>{o.d(t,{J7:()=>M,Nx:()=>j,Pb:()=>b,Vc:()=>p,Vw:()=>k,Xg:()=>u,a3:()=>C,bj:()=>v,uI:()=>Z,us:()=>g,w3:()=>m});o(241792);var r=o.n(o(294184)),n=o(667294),l=()=>o(846550),i=()=>o(696459),s=()=>o(802911),a=()=>o(78078),d=()=>o(521635),c=o(785893);const u=n.forwardRef((function(e,t){const{children:n,type:l,gap:i,withBottomPadding:s,style:a,onMouseDown:u,onClick:p,onDoubleClick:m,onContextMenu:y}=e,h=(0,o(309797).n1)(l),x=(0,o(142735).VK)((()=>d().Z.getPanelState("peek").isOpen&&"static_sidebar"===d().Z.getPanelState("peek").displayStyle),[]);return(0,c.jsx)("div",{className:r()("layout",{"layout-wide":"wide"===l,"layout-wide-right-margin-expanded":"wide-right-margin-expanded"===l,"layout-side-peek":"side-peek"===l,"layout-center-peek":"center-peek"===l&&!x,"layout-center-peek-with-layout-panel":"center-peek"===l&&x,"layout-home":"home"===l,"layout-home-phone":"home-phone"===l,"layout-home-redesign-desktop":"home-redesign-desktop"===l,"layout-form":"form"===l,"layout-form-viewer":"form-viewer"===l,"layout-form-viewer-embed":"form-viewer-embed"===l,"layout-phone":"phone"===l,"layout-tablet":"tablet"===l,"layout-template-preview":"template-preview"===l,"layout-chat":"chat"===l,"layout-layout-editor":"layout-editor"===l,"layout-layout-editor-wide":"layout-editor-wide"===l,"layout-layout-editor-narrow":"layout-editor-narrow"===l,"layout-marketplace":"marketplace"===l,"layout-marketplace-mobile":"marketplace-mobile"===l,"layout-team-home":"team-home"===l,"layout-team-home-mobile":"team-home-mobile"===l,"layout-create-post":"create-post"===l}),style:{paddingBottom:s?h:void 0,gap:i,...a},ref:t,onMouseDown:u,onClick:p,onDoubleClick:m,onContextMenu:y,children:n})})),p="layout-content",m="layout-full",y="layout-margin-left",h="layout-margin-right",x="layout-nested-grid",g="hide-scrollbar",f="layout-column",b=n.forwardRef((function(e,t){return(0,c.jsx)("div",{className:r()(p,e.className),style:e.style,ref:t,children:e.children})}));function j(e){return(0,c.jsx)("div",{className:m,style:e.style,children:e.children})}function v(e){return(0,c.jsx)("div",{className:y,style:{...e.style,pointerEvents:"none"},children:e.children})}function k(e){return(0,c.jsx)("div",{className:h,style:{...e.style,pointerEvents:"none"},children:e.children})}const w=(0,n.forwardRef)((function(e,t){return(0,c.jsx)("div",{className:r()(x,e.className),onClick:e.onClick,style:e.style,role:e.role,id:e.id,"aria-labelledby":e["aria-labelledby"],ref:t,children:e.children})}));function S(e){return"left-aligned"===e?"flex-start":"centered"===e?"center":"right-tabs"===e?"flex-end":void(0,i().t1)(e)}function M(e){const{items:t,style:o,index:r,setIndex:i,title:d}=e,u=(0,n.useRef)([]),p="centered"===o||"right-tabs"===o,m=(0,l().yK)((e=>({icon:{width:16,height:16,fill:"currentColor"},label:{fontSize:14,fontWeight:600},header:"right-tabs"===o?{display:"flex",justifyContent:"space-between",alignItems:"baseline"}:{},tablist:"right-tabs"===o?{display:"flex"}:{},tab:p?{cursor:"pointer",border:"none",padding:"6px 12px",borderRadius:20,color:e.text.secondary,background:"none"}:{cursor:"pointer",border:"none",borderBottom:"2px solid",borderColor:"transparent",padding:"6px 8px 12px",color:e.text.secondary,background:"none"},tabSelected:p?{color:e.text.primary,background:e.tint.regular}:{color:e.text.primary,borderColor:e.regularTextColor}})),[p,o]),y=(0,n.useId)(),h=(0,n.useCallback)((e=>`${y}-tab-${e}`),[y]),x=(0,n.useCallback)((e=>`${y}-tabpanel-${e}`),[y]),g=(0,n.useCallback)((e=>{let o;var n;("ArrowLeft"===e.key?(e.preventDefault(),o=(r+t.length-1)%t.length):"ArrowRight"===e.key&&(e.preventDefault(),o=(r+1)%t.length),void 0!==o)&&(i(o),null===(n=u.current[o])||void 0===n||n.focus())}),[r,i,t.length]);return(0,c.jsx)(s().Z,{name:"PageLayoutTabs",children:(0,c.jsxs)(w,{children:[(0,c.jsx)(b,{children:(0,c.jsxs)("div",{style:m.header,children:["right-tabs"===o&&d,(0,c.jsx)("div",{role:"tablist",style:m.tablist,children:(0,c.jsx)(a().X2,{justifyContent:S(o),children:t.map(((e,t)=>{var o;return(0,c.jsx)("button",{ref:e=>{e&&(u.current[t]=e)},id:h(t),role:"tab","aria-controls":x(t),"aria-selected":t===r,tabIndex:t===r?void 0:-1,onKeyDown:g,style:{...m.tab,...t===r&&m.tabSelected},onClick:e=>{e.stopPropagation(),i(t)},children:(0,c.jsxs)(a().X2,{gap:4,alignItems:"center",children:[null===(o=e.icon)||void 0===o?void 0:o.call(e,m.icon),e.label&&(0,c.jsx)("div",{style:m.label,children:e.label})]})},e.key)}))})})]})}),(0,c.jsx)(w,{id:x(r),role:"tabpanel","aria-labelledby":h(r),children:t[r]?t[r].children:null})]})})}function C(e){return(0,c.jsx)("div",{className:r()(f,e.className),style:{"--min-column-width":e.minWidth?`${e.minWidth}px`:"100%",...e.style},children:e.children})}function Z(e){return(0,c.jsxs)(C,{minWidth:e.minWidth,className:e.className,style:e.style,children:[e.left,e.right]})}},291848:(e,t,o)=>{o.d(t,{w:()=>l});var r=()=>o(142735),n=()=>o(26796);function l(){return(0,r().VK)((()=>n().Z.state.isOpen),[])}}}]);