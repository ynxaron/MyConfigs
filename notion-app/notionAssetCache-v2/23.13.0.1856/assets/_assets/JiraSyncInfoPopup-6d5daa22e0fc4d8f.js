"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[57023],{707461:(e,t,o)=>{o.d(t,{Pm:()=>a,Xj:()=>r,wC:()=>s});var n=()=>o(435308);class i extends(()=>o(263184))().default{getInitialState(){return{popupRenderedInPage:!1,popupRenderedInPeekView:!1}}}const r=new i,s=new(n().default)((()=>!1!==r.state.popupRenderedInPage),{debugName:"AssistantWriterRenderedInPageStore"}),a=new(n().default)((()=>!1!==r.state.popupRenderedInPeekView),{debugName:"AssistantWriterRenderedInPeekViewStore"})},453110:(e,t,o)=>{o.r(t),o.d(t,{JiraSyncInfoPopup:()=>b});var n=o(667294),i=()=>o(219727),r=()=>o(142735),s=()=>o(61951),a=()=>o(788860),l=()=>o(369637),c=()=>o(269299),u=()=>o(348141),d=()=>o(148976),p=()=>o(144476),f=()=>o(309797),g=()=>o(876822),h=()=>o(308939);const m="jira_sync_info_toast",S=(0,a().vU)({titleWhenProject:{id:"jiraSyncInfoPopup.titleForProjectsCollectionView",defaultMessage:"Keep track of projects in Jira"},titleWhenIssues:{id:"jiraSyncInfoPopup.titleForTasksCollectionView",defaultMessage:"Keep track of issues in Jira"},descriptionWhenProject:{id:"jiraSyncInfoPopup.descriptionForProjectsCollectionView",defaultMessage:"Notion makes it easy to preview Jira content, so you can keep track of projects and collaborate more easily"},descriptionWhenIssues:{id:"jiraSyncInfoPopup.descriptionForIssuesCollectionsView",defaultMessage:"Notion makes it easy to preview Jira content, so you can keep track of issues and collaborate more easily"}});function b(e){const t=(0,i().O7)(),o=(0,a().YB)(),{isMobile:b}=(0,i().Fy)(),{blockStore:v}=e,{inAppCalloutStore:P,currentUserSettingsStore:C}=(0,r().VK)((()=>({inAppCalloutStore:g().default.state.inAppCalloutStore,currentUserSettingsStore:g().default.state.currentUserSettingsStore})),[]),y=(0,r().VK)((()=>P.getCalloutVisibility("jira_sync_info_popup").canShow),[P]),{isProjectCollectionView:w,isSetupComplete:_}=(0,r().VK)((()=>{if(v.isCollectionView()){var e,t;const o=null===(e=v.getCollectionStore())||void 0===e?void 0:e.getFormat(),n=Boolean((null==o||null===(t=o.sync_state)||void 0===t?void 0:t.last_synced_at)&&!o.sync_state.syncing);return{isProjectCollectionView:"notion://projects_collection"===(null==o?void 0:o.app_config_uri),isSetupComplete:n}}return{isProjectCollectionView:!1,isSetupComplete:!1}}),[v]),k=(0,f().D9)(v),V=(0,r().VK)((()=>{var e;const t=null==C||null===(e=C.getSettings())||void 0===e?void 0:e.jira_sync_onboarding_tour_state;return Boolean(t&&"notSeen"!==t)}),[C]),j=(0,r().VK)((()=>(0,d().pv)()),[])&&k&&_&&!V&&y&&!b,I=(0,n.useMemo)((()=>function(e){const{isProjectCollectionView:t,intl:o,onDismiss:n}=e,i=t?S.titleWhenProject:S.titleWhenIssues,r=t?S.descriptionWhenProject:S.descriptionWhenIssues;return{presentationType:"persistent",id:m,title:o.formatMessage(i),icon:p().k,message:o.formatMessage(r),actions:{primary:{title:o.formatMessage({id:"jiraSyncInfoPopup.primaryButton",defaultMessage:"Take the tour"}),onAction:()=>{h().ZP.setState({...h().ZP.state,showOnboardingTour:!0}),n(),l().Xd(m)}}},onDismiss:n}}({isProjectCollectionView:w,intl:o,onDismiss:()=>{P.updateCalloutStatus({calloutId:"jira_sync_info_popup",visible:!1}),C&&c().createAndCommit({userAction:"JiraSyncInfoPopup.handleDismiss",environment:t,canUndo:!0,perform:e=>{u().d2({transaction:e,userSettingsStore:C,data:{jira_sync_onboarding_tour_state:"completed"}})}})}})),[C,t,P,o,w]);return(0,s().Z)((()=>{P.updateCalloutStatus({calloutId:"jira_sync_info_popup",visible:!0}),l().m2(I)}),j),null}},706363:(e,t,o)=>{o.d(t,{Ct:()=>i,LO:()=>n,iN:()=>r});const n=40,i=48,r=60},144476:(e,t,o)=>{o.d(t,{k:()=>n().k});var n=()=>o(108205)},309797:(e,t,o)=>{o.d(t,{D9:()=>W,GB:()=>D,L2:()=>O,Nr:()=>B,Qg:()=>F,WJ:()=>E,h9:()=>K,m4:()=>x,mj:()=>M,n1:()=>T,sD:()=>A});var n=()=>o(219727),i=()=>o(657320),r=()=>o(142735),s=()=>o(156642),a=()=>o(109477),l=()=>o(752778),c=()=>o(844085),u=()=>o(707461),d=()=>o(887430),p=()=>o(954452),f=()=>o(201741),g=()=>o(982855),h=()=>o(949842),m=()=>o(148976),S=()=>o(191586),b=()=>o(942226),v=()=>o(466970),P=()=>o(170210),C=()=>o(876822),y=()=>o(845622),w=()=>o(749826),_=()=>o(543842),k=()=>o(346392),V=()=>o(311562),j=()=>o(482162),I=()=>o(365609);function x(e){(0,h().ZP)({event:e,context:h().Af.EditorMouseDown,callback:()=>{}})}function K(e){(0,h().ZP)({event:e,context:h().Af.EditorClick,callback:()=>{}})}function B(e){return(0,r().VK)((()=>Boolean(I().Z.state.pageMap[e.id])||k().Z.state.pages.has(e.id)),[e.id])}function M(e,t){const o=(0,n().O7)(),s=(0,i().l)(),a=B(e),l=(0,r().VK)((()=>{var o,n;return t===V().S.Frame?Boolean(null===(o=C().default.state.currentLoadingContainerStore)||void 0===o?void 0:o.state.ready):t===V().S.PeekView&&j().default.state.open?Boolean(null===(n=j().default.state.loadingContainerStore)||void 0===n?void 0:n.state.ready):t===V().S.CollectionPageView?e.isReady():void 0}),[t,e]),c=F(e);return(0,r().VK)((()=>{if(!l)return!1;const t=o.currentUser.isLoggedIn(),n=s&&s.publicEditModeStore.state;return Boolean(e&&e.isDefined()&&!e.isNonEditableState()&&e.canEdit()&&!e.hasContent()&&t&&(!(null!=n&&n.hasPublicPermission)||"edit"===(null==n?void 0:n.permission))&&!a&&!c&&(!(0,g().GD)(n)||"completionPopup"!==y().default.state.type))}),[o.currentUser,c,l,s,a,e])}function A(e,t){const o=(0,n().O7)(),s=(0,i().l)(),{isTablet:a}=(0,n().Fy)(),l=(0,v().E)("tablet_refresh_template_pills_gate");return(0,r().VK)((()=>{if(t===V().S.SitePreview)return!1;if(o.device.isMobile&&(!a||!l))return!1;if(!o.currentUser.isLoggedIn())return!1;const n=s&&s.publicEditModeStore.state;if(null!=n&&n.hasPublicPermission&&"edit"!==(null==n?void 0:n.permission))return!1;if(e.getContentLength()>1)return!1;if(!e.canEdit()||e.isNonEditableState())return!1;const i=e.getContentStores()[0];if(i&&!i.isEmptyTextBlock())return!1;if(e.getAssociatedCollectionStore())return!1;const r=f().TI.state,c=f().mn.state;if(r&&e.id===c)return!1;return!((0,S().OZ)(t)?u().Pm.state:u().wC.state)}),[o,s,e,t,a,l])}function F(e){return(0,r().VK)((()=>{if(e.isCollectionView()){const t=e.getCollectionViewSourceCollectionStore();return!!t&&t.isSyncedCollection()}return e.isType(s().Ti.externalObjectInstancePage)}),[e])}function O(e){return(0,r().VK)((()=>{if(!(0,m().K6)())return!1;const t=e.getParentStore();if((null==t?void 0:t.table)===l().vF){return!!t.getFormatStore().getKeyStore("external_collection_type").getValue()}return!1}),[e])}function W(e){return(0,r().VK)((()=>{if(!(0,m().K6)())return!1;var t;return!!e.isCollectionView()&&((null===(t=e.getCollectionStore())||void 0===t?void 0:t.getFormatStore().getKeyStore("external_collection_type").getValue())??!1)}),[e])}function D(e){return(0,r().VK)((()=>{if(!w().default.checkGate({gateName:"csvimport_faster_navigate_to_page_enabled"}))return!1;var t;return!!e.isCollectionView()&&(null===(t=e.getCollectionStore())||void 0===t?void 0:t.getFormatStore().getKeyStore("static_import_collection_type").getValue())===a().gH.CsvImport}),[e])}function T(e){const t=(0,n().O7)(),{device:o,WindowSizeStore:i}=t,s=(0,r().VK)((()=>{const e=i.state.height,n=o.isMobile&&_().Z.state.open?e:0;return c()._4(t)+n}),[t,i,o.isMobile]);return(0,r().VK)((()=>"home-phone"===e?P().jq:o.isTablet?380:o.isIOS?Math.max(350,s):o.isMobile?400:"side-peek"===e||"center-peek"===e?b().KA:"home"===e?P().XX:"30vh"),[o,s,e])}function E(e){const t=(0,n().O7)(),o=(0,r().VK)((()=>(0,p().fg)(t,e)),[t,e]);return(0,r().VK)((()=>o&&!e.isFullWidth()?(0,p().gC)(t,(0,b().wq)(e),(0,d().Ks)(e)):0),[t,o,e])}},170210:(e,t,o)=>{o.d(t,{$1:()=>y,$K:()=>P,A0:()=>m,A5:()=>h,Ae:()=>I,Cm:()=>d,D9:()=>g,EP:()=>l,Er:()=>w,KI:()=>k,Ng:()=>f,QF:()=>p,Uf:()=>u,XX:()=>r,bS:()=>v,cc:()=>V,d_:()=>c,iO:()=>a,jO:()=>C,jq:()=>s,pW:()=>S});var n=()=>o(513670),i=()=>o(696459);const r=160,s=40,a=24,l=20,c=600,u=270,d=405,p=480,f=500,g=void 0,h=16,m=10,S=8,b=(o(706363).Ct,{backdropFilter:"blur(48px)",WebkitBackdropFilter:"blur(48px)"}),v=4;function P(e){return{icon:e.mediumIconColor,text:e.mediumTextColor}}function C(e){return{width:48,height:48,fill:e.lightIconColor}}function y(e){let{theme:t,isPhone:o}=e;return o?t.personalHomeBackgroundPhone:t.surface.page}function w(e){let{theme:t,isPhone:o,buttonState:n}=e,i=t.whiteButtonBackground;switch(n){case"hovered":i=t.whiteButtonHoveredBackground;break;case"pressed":i=t.whiteButtonPressedBackground}return o&&(i=void 0),{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",background:i,...b,boxShadow:j({isPhone:o,theme:t,borderOnly:!0}),width:28,height:28,borderRadius:4}}const _=1;function k(e){let{isPhone:t,theme:o}=e;return{zIndex:1,position:"relative",display:"flex",flexDirection:"column",borderRadius:12,background:o.home.tile.background,boxShadow:j({isPhone:t,theme:o}),...b}}function V(e){let{mode:t,isPhone:o}=e;switch(t){case"dark":return 0;case"light":return _;default:return(0,i().P)(t),0}}function j(e){let{isPhone:t,theme:o,borderOnly:i}=e;if("dark"===o.mode)return"unset";o.mode;const r=V({mode:o.mode,isPhone:t});return(0,n().oA)([i||t?void 0:"0 12px 32px rgba(0, 0, 0, 0.02)",`0 0 0 ${r}px rgba(0, 0, 0, 0.05)`]).join(", ")}function I(e){const{isPhone:t,theme:o,borderOnly:n}=e;return{unhoveredBoxShadow:j({isPhone:t,theme:o,borderOnly:n}),hoveredBoxShadow:"light"===o.mode?["0 12px 32px rgba(0, 0, 0, 0.03)","0 0 0 1px rgba(0, 0, 0, 0.085)"].join(", "):o.homeShadow.card.hovered}}}}]);