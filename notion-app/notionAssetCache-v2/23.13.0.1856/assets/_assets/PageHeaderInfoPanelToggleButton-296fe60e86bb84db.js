"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[8505],{699029:(e,o,t)=>{t.r(o),t.d(o,{default:()=>u});t(667294);var a=()=>t(219727),l=()=>t(788860),n=()=>t(58836),i=()=>t(92175),s=()=>t(579095),r=t(785893);const c=(0,l().vU)({ariaLabel:{id:"Layouts.PageHeader.InfoPanelToggleButton.ariaLabel",defaultMessage:"View/hide details"},showPanelButtonLabel:{id:"Layouts.PageHeader.InfoPanelToggleButton.close.label",defaultMessage:"View details"},closePanelButtonLabel:{id:"Layouts.PageHeader.InfoPanelToggleButton.show.label",defaultMessage:"Hide details"}});function u(e){const{collectionStore:o,pageViewBlockContext:t}=e,u=(0,l().YB)(),g=(0,a().Fy)(),{toggleDetailsPanel:P,isDetailsPanelOpen:p,pageDetailsPropertiesCount:d,canShowButton:h}=(0,s().g)({collectionStore:o,from:"more_properties",forceShowButtonIfNoProperties:!0,pageViewBlockContext:t}),S=g.isMobile?c.showPanelButtonLabel:p?c.closePanelButtonLabel:c.showPanelButtonLabel;return h?(0,r.jsx)(n().p,{allowSelectionWithin:!1,children:(0,r.jsx)(i().Z,{isGray:!0,"aria-label":u.formatMessage(c.ariaLabel),onClick:P,style:{marginTop:4,marginLeft:-4},children:(0,r.jsx)(l()._H,{...S,values:{propertiesCount:d}})})}):null}},579095:(e,o,t)=>{t.d(o,{g:()=>g});var a=t(667294),l=()=>t(219727),n=()=>t(142735),i=()=>t(887430),s=()=>t(311562),r=()=>t(528770),c=()=>t(70191),u=()=>t(521635);function g(e){const{collectionStore:o,from:t,forceShowButtonIfNoProperties:g,pageViewBlockContext:P}=e,p=(0,n().VK)((()=>null==o?void 0:o.getLayoutStore()),[o]),d=(0,l().O7)(),h=P===s().S.PeekView,S=(0,n().VK)((()=>u().Z.getPanelState(h?"peek":"mainPage").isOpen),[h]),f=(0,n().VK)((()=>!!o&&i().eD({collectionStore:o,collectionViewBlockStore:o.getParentBlockStore(),checkNavigableAncestorLocked:!1})),[o]),b=(0,n().VK)((()=>!!p&&p.getModules().page_details.length>0),[p]),{count:w,isPropertiesModuleInPageDetails:B}=(0,n().VK)((()=>b&&o?(0,c().nJ)({collectionStore:o}):{count:0,isPropertiesModuleInPageDetails:!1}),[b,o]),k=a.useCallback((()=>{if(!p)return;const e={environment:d,layoutStore:p,from:t,panelLocation:h?"peek":"mainPage"};S?(0,r().n)(e):(0,r().U)(e)}),[d,t,S,h,p]),L=a.useMemo((()=>P!==s().S.InPageSnapShot&&(P!==s().S.Post&&(w>0||!!g&&(B&&f)))),[P,w,g,B,f]);return{pageDetailsPropertiesCount:w,toggleDetailsPanel:k,isDetailsPanelOpen:S,pageDetailsHasModules:b,canShowButton:L}}}}]);