"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[58565],{998484:(e,t,o)=>{o.d(t,{w1:()=>M,XP:()=>P,y2:()=>A,Np:()=>_,bA:()=>B,ZV:()=>F,T_:()=>L,LH:()=>Z,h7:()=>V,B3:()=>R});o(670560),o(122556),o(582845),o(250570),o(533019),o(721473),o(788208),o(22624),o(267602),o(470928),o(241792);var a=()=>o(926724),s=()=>o(799891),n=()=>o(956057),r=()=>o(572680),i=()=>o(81954),l=()=>o(513670),c=()=>o(696459),d=()=>o(916673);const p=(0,o(830742).LS)("parallelAsanaImport");var u=()=>o(110232),m=()=>o(205228),g=()=>o(544903),f=()=>o(848643),h=()=>o(876822),v=()=>o(199114),y=()=>o(623521),x=()=>o(286310),I=()=>o(824462),S=()=>o(308186),j=()=>o(231077),b=()=>o(782646),w=()=>o(684715),k=()=>o(402269),T=()=>o(269299);const C=(0,o(788860).vU)({authenticatingWithAsana:{id:"asanaActions.authenticatingWithAsana.loadingMessage",defaultMessage:"Authenticating with Asanaâ€¦"},titleMessage:{id:"asanaActions.loginWithAsanaPopupModal.title",defaultMessage:"Asana login"}});async function M(e){const{environment:t,flowId:o}=e;await I().callApi({eventName:"disconnectAsana",environment:t,data:{}});const a=(0,f().eC)(t);let s=(0,r().s1)(m().default.domainBaseUrl,{authType:a,userId:t.currentUser.id});if(s=a.redirectToAuth?s:await(0,f().HU)(t,s),t.device.isElectron)return v().default.setState({...v().default.state,isAccountLinkingInProgress:!0}),void j().openExternalUrl(s);const n=await k().M(t,{width:580,height:800,url:s,titleMessage:C.titleMessage});if(!n)return;const i=d().Qc(n);if(!i.query.code||!i.query.state)return;v().default.setState({...v().default.state,isAccountLinkingInProgress:!0});const l=await I().callApi({eventName:"authWithAsana",environment:t,data:{code:i.query.code,encryptedState:i.query.state}}),c=await I().callApi({eventName:"getAsanaWorkspacesNames",environment:t,data:{}});if("failed"===l.type)x().a1(t,{import_source:"asana",data:{import_type:"api",status:"failure",error:l.error},flowId:o}),console.error(l.error),S().x2(l);else if(x().a1(t,{import_source:"asana",data:{import_type:"api",status:"success"},flowId:o}),"success"===c.type){const{data:{account:e,workspaces:t}}=c;v().default.setState({...v().default.state,isAccountLinkingInProgress:!1,account:e,workspaces:t,currentTab:"selectData",isModalOpen:!0})}}async function P(e){const{environment:t}=e;v().default.setState({...v().default.state,isAccountDelinkingInProgress:!0});const o=await I().callApi({eventName:"disconnectAsana",environment:t,data:{}});"failed"===o.type?(console.error(o.error),S().x2(o)):(x().qJ(t,{integration_name:"asana"}),"success"===o.type&&v().default.setState({...v().default.state,isAccountDelinkingInProgress:!1,account:void 0,workspaces:[]}))}async function A(e){const{selectedWorkspace:t,environment:o,forceReload:a=!0}=e;if(a||!v().default.state.teamsAndProjects.length){v().default.setState({...v().default.state,isLoadingProjects:!0});const e=await I().callApi({eventName:"getTeamsAndProjectsInAsanaWorkspace",environment:o,data:{workspaceId:t,size:5}});"success"===e.type&&v().default.setState({...v().default.state,teamsAndProjects:e.data,isLoadingProjects:!1})}}async function Z(e){const{team:t,environment:o}=e,a=v().default.getState(),{selectedWorkspace:s,teamsAndProjects:n,loadMoreClicks:r}=a;if(!s)return;const i=await I().callApi({eventName:"getTeamsAndProjectsInAsanaWorkspace",environment:o,data:{workspaceId:s,teamId:t.gid,size:5,nextPage:t.nextPage}}),l=n.findIndex((e=>e.gid===t.gid));if(-1!==l){if("success"===i.type){const e=i.data.find((e=>e.gid===t.gid));if(!e)return;const o={...n[l],projects:[...n[l].projects,...e.projects],nextPage:e.nextPage},s=n.slice(0,l).concat(o,n.slice(l+1));v().default.setState({...a,teamsAndProjects:s,loadMoreClicks:r+1})}return i}}async function F(e,t){const o=[];for(const s of Object.keys(t)){const{notionTeamspaceId:e,projects:a}=t[s];!(0,l().HD)(a)&&(0,c().$K)(e)&&o.push({asanaTeamId:s,projectIds:a,notionTeamSpaceId:e})}const a=await I().callApi({eventName:"getAsanaTaskProperties",environment:e,data:o});if("success"===a.type){const{selectedTeamspacesAndProperties:e}=v().default.state;for(const{notionTeamSpaceId:t,properties:o}of a.data.data)o&&(e[t]={selectionMode:"all",properties:o.map((e=>({...e,isSelected:!0})))});v().default.setState({...v().default.state,selectedTeamspacesAndProperties:e})}}async function B(e){let{environment:t}=e;v().default.setState({...v().default.state,isLoadingAsanaWorkspaces:!0});const o=await I().callApi({eventName:"getAsanaWorkspacesNames",environment:t,data:{}});var a;"success"===o.type&&v().default.setState({...v().default.state,account:o.data.account,workspaces:o.data.workspaces,selectedWorkspace:null===(a=o.data)||void 0===a||null===(a=a.workspaces[0])||void 0===a?void 0:a.gid,isLoadingAsanaWorkspaces:!1})}async function L(e){let{environment:t,spaceStore:o,currentSpaceViewStore:r,teamsStores:l,flowId:c,navigateBeforeTemplateCreation:d}=e;const{appTemplatesSetupActions:m,appConfigs:f}=await g().vF.load(),I=v().default.state.selectedWorkspace;if(!I)return;v().default.setState({...v().default.state,...d&&{currentTab:"importingData"},templateCreationInProgress:!0});const S={},j={};try{for(const e in v().default.state.selectedProjectsAndTeamspaces){if(0===v().default.state.selectedProjectsAndTeamspaces[e].projects.length)continue;let s;const n=v().default.state.selectedProjectsAndTeamspaces[e],{notionTeamspaceId:i}=n;if(!i)continue;const c=l.find((e=>e.id===n.notionTeamspaceId));if(s=c||o,j[i])S[e]=j[i];else{const{serverCommitResult:o,performResult:n}=T().createAndCommit({environment:t,perform:e=>{const o={type:"preset",uri:a().T3};if("preset"!==o.type||o.uri.startsWith("notion://wiki"));else{var n;const a=o.uri,i=null===(n=(0,u().iX)(f(),a))||void 0===n?void 0:n.uri;if(!i)return;const l=f().find((e=>e.uri===i));if(null==l?void 0:l.presets.find((e=>e.uri===a))){const o=m.initializeApp({environment:t,spaceViewStore:r,appParentStore:s,appUri:i,presetUri:a,transaction:e,from:"asana_import"});if(2!==(null==o?void 0:o.length))return;return o}}},canUndo:!0,userAction:"importActions.importAsana"});S[e]=n,j[i]=n,await o}}}catch(R){return void v().default.setState({...v().default.state,templateCreationInProgress:!1,currentTab:"failure"})}const k=[],C=h().default.state.currentSpaceViewStore;if(!C)return;const M=w().Ym({environment:t,spaceStore:o,spaceViewStore:C,append:!0});await M.deferred.promise;const P=M.pageId;v().default.setState({...v().default.state,loggerPageId:P});const A=new Set,Z=[],F=[];for(const a in S){const e=v().default.state.selectedProjectsAndTeamspaces[a],t=S[a];if(!(t&&e.notionTeamspaceId&&e.projects.length))continue;const s="string"==typeof e.projects?[]:e.projects;Z.push(...s);const n=v().default.state.selectedTeamspacesAndProperties[e.notionTeamspaceId];n&&(n.useSectionAsStatus=v().default.state.useSectionAsStatus),A.add(e.notionTeamspaceId),F.push(a),k.push({collectionViewBlocks:[{id:t[0].id,spaceId:(0,i().J)(o.id)},{id:t[1].id,spaceId:(0,i().J)(o.id)}],projectIds:s,asanaTeamId:a,notionTeamSpaceId:e.notionTeamspaceId,propertySelection:n,importAllProjects:"all"===e.projects,importOnlyIncompleteProjects:"in_complete"===e.projects})}x().G7(t,{integration_name:"asana"});const B=(0,b().Lj)(t,p,{importParams:k,spaceId:(0,i().J)(o.id),asanaWorkspaceId:I,importCompletedTasks:v().default.state.importCompletedTasks,loggerPageId:P,flowId:c||n().Il()});v().default.setState({...v().default.state,templateCreationInProgress:!1,currentTab:"importingData",choosingWorkspacesCompleted:!0}),y().Z.reset();const L=v().default.state.workspaces.find((e=>e.gid===I));L&&function(e,t,o){try{x().qy(e,{import_source:"asana",data:t,flowId:o})}catch(a){s().log({level:"error",from:"asanaV2Actions",type:"parallelAsanaImport",error:{miscDataString:JSON.stringify({error:a,message:"Errored in tracking import_source_input event."})}})}}(t,{workspaceName:L.name,teams:F,projects:Z,numberOfTeamspacesUsed:A.size,completedTasks:v().default.state.importCompletedTasks,userId:t.currentUser.id,spaceId:(0,i().J)(o.id)},c);for await(const a of B){if(!v().default.state.isModalOpen)break;if(a.error)return void v().default.setState({...v().default.state,currentTab:"failure"});"success"===a.taskStatus&&v().default.setState({...v().default.state,currentTab:"confirm",result:a.value.status,isComplete:!0})}}function R(e){var t;let{teamId:o,spaceId:a}=e;v().default.setState({...v().default.state,selectedProjectsAndTeamspaces:{...v().default.state.selectedProjectsAndTeamspaces,[o]:{projects:(null===(t=v().default.state.selectedProjectsAndTeamspaces[o])||void 0===t?void 0:t.projects)||[],notionTeamspaceId:a||void 0}}})}function _(){v().default.setState({...v().default.state,currentTab:"selectProperties"})}function V(){v().default.setState({...v().default.state,isModalOpen:!0})}},481476:(e,t,o)=>{o.d(t,{C:()=>l,DP:()=>p,LN:()=>i,Lm:()=>d,Ow:()=>c,YX:()=>u});var a=()=>o(286310),s=()=>o(308939),n=()=>o(824462),r=()=>o(158792);async function i(e,t){const o=await n().callApi({eventName:"getConnectedAppsStatus",environment:e,data:{spaceId:t}});if("failed"===o.type){const e=o.error;return console.error(e),{drive:[],evernote:void 0,trello:void 0,asana:void 0,confluence:void 0}}return o.data}async function l(e,t){await n().callApi({eventName:"disconnectTrello",environment:e,data:{}}),await t.refresh(),a().qJ(e,{integration_name:"trello"})}async function c(e,t){await n().callApi({eventName:"disconnectAsana",environment:e,data:{}}),await t.refresh(),a().qJ(e,{integration_name:"asana"})}async function d(e,t){await n().callApi({eventName:"disconnectEvernote",environment:e,data:{}}),await t.refresh(),a().qJ(e,{integration_name:"evernote"})}async function p(e,t,o){await n().callApi({eventName:"disconnectConfluence",environment:e,data:{spaceId:o}}),await t.refresh(),a().qJ(e,{integration_name:"confluence"})}async function u(e){const{environment:t,requestStore:o,botId:n}=e;await r().P0({environment:t,botId:n,onSuccess:()=>async function(e){const{environment:t,requestStore:o}=e;await o.refresh();const n=s().ZP.getInitialState();s().ZP.setState(n),a().qJ(t,{integration_name:"jira"})}({environment:t,requestStore:o})})}},585558:(e,t,o)=>{o.d(t,{B:()=>x,e:()=>y});var a=()=>o(572680),s=()=>o(916673),n=()=>o(286310),r=()=>o(308186),i=()=>o(205228),l=()=>o(848643),c=()=>o(451378),d=()=>o(145607),p=()=>o(623521),u=()=>o(838266),m=()=>o(824462),g=()=>o(231077),f=()=>o(528918),h=()=>o(402269);const v=(0,o(788860).vU)({authenticatingWithEvernote:{id:"evernoteActions.authenticatingWithEvernote.loadingMessage",defaultMessage:"Authenticating with Evernoteâ€¦"},titleMessage:{defaultMessage:"Evernote login",id:"evernoteActions.loginPopupModal.title"}});async function y(e){const{environment:t,requestStore:o}=e,y=(0,l().eC)(t);let I=(0,a().Qp)(i().default.domainBaseUrl,{authType:y,userId:t.currentUser.id,isElectronDevice:t.device.isElectron});if(I=y.redirectToAuth?I:await(0,l().HU)(t,I),t.device.isElectron)return f().j({message:v.authenticatingWithEvernote}),c().Z.setState({...c().Z.state,linkingAccount:!0,showLoader:!0}),void g().openExternalUrl(I);const S=await h().M(t,{width:580,height:700,url:I,titleMessage:v.titleMessage});if(!S)return;const j=s().Qc(S),b=j.query.oauth_token,w=j.query.oauth_verifier;if(!b||!w)return;f().j({message:v.authenticatingWithEvernote});const k=await m().callApi({eventName:"authWithEvernote",environment:t,data:{requestToken:b,verifier:w}}),T=p().Z.getOrCreateFlowId();if("failed"===k.type)return n().a1(t,{import_source:"evernote",data:{import_type:"api",status:"failure",error:k.error,userId:t.currentUser.id},flowId:T}),console.error(k.error),r().x2(k),void f().x();n().a1(t,{import_source:"evernote",data:{import_type:"api",status:"success",userId:t.currentUser.id},flowId:T}),n().L3(t,{integration_name:"evernote"}),await o.refresh(),d().Z.setState({open:!0}),u().default.setState({...u().default.state,open:!0,currentTab:"imports",highlightedSetting:void 0,defaultSubtab:void 0}),await x({environment:t,requestStore:o}),f().x()}async function x(e){const{environment:t,requestStore:o}=e;try{c().Z.setState({...c().Z.state,isFetchingNotebooks:!0,showLoader:!0});const e=await m().callApi({eventName:"getEvernoteNotebooks",environment:t,data:{}});if(await o.refresh(),"success"===e.type){c().Z.setState({...c().Z.state,notebooksResponse:e.data,isFetchingNotebooks:!1,showLoader:!1});const{userInfo:t,notebooks:o}=e.data;return{userInfo:t,notebooks:o}}return console.error(e.error),{notebooks:[],userInfo:void 0}}catch(a){return console.error(a),{notebooks:[],userInfo:void 0}}}},684715:(e,t,o)=>{o.d(t,{Ym:()=>ne,A1:()=>le,am:()=>ie,ro:()=>oe,xG:()=>se,su:()=>re,Pv:()=>te});o(821057),o(670560),o(267602),o(653476),o(30005),o(241792);var a=()=>o(146947),s=()=>o(506347),n=()=>o(156642),r=()=>o(646574),i=()=>o(799891),l=()=>o(998411),c=()=>o(431595),d=()=>o(956057),p=()=>o(840156),u=()=>o(114079),m=()=>o(396136),g=()=>o(81954),f=()=>o(720866),h=()=>o(513670),v=()=>o(792409),y=()=>o(839002),x=()=>o(971095),I=()=>o(576441),S=()=>o(830742);const j=(0,S().LS)("importGoogleDoc"),b=(0,S().LS)("importTrello"),w=(0,S().LS)("parallelImportConfluenceExport"),k=(0,S().LS)("parallelImportConfluenceViaApi"),T=(0,S().LS)("partitionedUniversalImport");var C=()=>o(497065),M=()=>o(594546),P=()=>o(726046),A=()=>o(443269),Z=()=>o(849668),F=()=>o(429725),B=()=>o(749826);const L=1073741824;var R=()=>o(527278),_=()=>o(505006),V=()=>o(185717),q=()=>o(145607),O=()=>o(479694),D=()=>o(482162),U=()=>o(826955),H=()=>o(838266),N=()=>o(286310),E=()=>o(824462),W=()=>o(308186),z=()=>o(782646),K=()=>o(282662),G=()=>o(528918),Y=()=>o(636340),$=()=>o(145284),Q=()=>o(269299),J=()=>o(109757);const X=(0,o(788860).vU)({uploadingOneFile:{id:"importActions.uploadingOneFile.loadingMessage",defaultMessage:"Uploadingâ€¦ ({percentComplete}%)"},uploadingMultipleFilesNotStarted:{id:"importActions.uploadingMultipleFilesNotStarted.loadingMessage",defaultMessage:"Uploaded 0 of {totalNumberOfFiles}"},uploadingMultipleFilesInProgress:{id:"importActions.uploadingMultipleFilesInProgress.loadingMessage",defaultMessage:"Uploaded {numberOfUploadedFiles} of {totalNumberOfFiles}"},uploadingMultipleFilesComplete:{id:"importActions.uploadingMultipleFilesComplete.loadingMessage",defaultMessage:"Uploaded {totalNumberOfFiles} of {totalNumberOfFiles}"},importingOneFile:{id:"importActions.importingOneFile.loadingMessage",defaultMessage:"Importingâ€¦"},importingMultipleFilesNotStarted:{id:"importActions.importingMultipleFilesNotStarted.loadingMessage",defaultMessage:"Imported 0 of {totalNumberOfFiles}"},importingMultipleFilesInProgress:{id:"importActions.importingMultipleFilesInProgress.loadingMessage",defaultMessage:"Imported {numberOfImportedFiles} of {totalNumberOfFiles}"},importingMultipleFilesComplete:{id:"importActions.importingMultipleFilesComplete.loadingMessage",defaultMessage:"Imported {totalNumberOfFiles} of {totalNumberOfFiles}"},importingFromTrelloMessage:{id:"importActions.importingFromTrello.loadingMessage",defaultMessage:"{importingCount, plural, one {Importing {importingCount} board from Trello} other {Importing {importingCount} boards from Trello}}"},importingFromAsanaMessage:{id:"importActions.importingFromAsana.loadingMessage",defaultMessage:"{importingCount, plural, one {Importing {importingCount} project from Asana} other {Importing {importingCount} projects from Asana}}"},importingFromEvernoteMessage:{id:"importActions.importingFromEvernote.loadingMessage",defaultMessage:"{importingCount, plural, one {Importing {importingCount} notebook from Evernote} other {Importing {importingCount} notebooks from Evernote}}"},importingFromConfluenceViaAPIMessage:{id:"importActions.importingFromConfluenceViaAPI.loadingMessage",defaultMessage:"Importing confluence space: {confluenceSpaceKey}."},importFailed:{id:"importActions.importFailedError.message",defaultMessage:"Import failed"},importFailedWithError:{id:"importActions.importFailedWithError.message",defaultMessage:"Import failed: {error}"},fileImportFailedSizeTooLarge:{id:"importActions.fileImportFailedError.sizeTooLarge.message",defaultMessage:"Import failed: file exceeds 5MB."},fileImportFailedCustomSizeTooLarge:{id:"importActions.fileImportFailedError.customSizeTooLarge.message",defaultMessage:"Import file cannot exceed {maxSize}."},trelloImportFailed:{id:"importActions.trelloImportFailedError.message",defaultMessage:"Trello import failed."},asanaImportFailed:{id:"importActions.asanaImportFailedError.message",defaultMessage:"Asana import failed."},evernoteImportFailed:{id:"importActions.evernoteImportFailedError.message",defaultMessage:"Evernote import failed."},confluenceImportViaAPIFailed:{id:"importActions.confluenceImportViaAPIFailedError.message",defaultMessage:"Confluence space import failed."},importTitle:{id:"importActions.importTitle",defaultMessage:"Import {date}"},importTitleWithImportName:{id:"importActions.importTitleWithImportName",defaultMessage:"{name}"},importTitleForGenericFileImporter:{id:"importActions.importTitleForGenericFileImporter",defaultMessage:"{fileName} Import {date}"},importTitleForMondayV2:{id:"importActions.importTitleForMondayV2",defaultMessage:"Import from Monday - {date}"},onlyDocxExtensionSupported:{id:"importErrors.onlyDocxExtensionSupported.message",defaultMessage:"Import failed: file type not supported."},csvImportFailedColumnsTooLarge:{id:"importActions.csvImportFailedColumnsTooLargeError.message",defaultMessage:"Import failed: CSV file has too many columns."},csvImportFailedRowsTooLarge:{id:"importActions.csvImportFailedRowsTooLargeError.message",defaultMessage:"Import failed: CSV file has too many rows."},xlsxImportFailedColumnsTooLarge:{id:"importActions.xlsxImportFailedColumnsTooLargeError.message",defaultMessage:"Import failed: XLSX file has too many columns."},xlsxImportFailedRowsTooLarge:{id:"importActions.xlsxImportFailedRowsTooLargeError.message",defaultMessage:"Import failed: XLSX file has too many rows."}}),ee=1073741824;async function te(e){const{uploadType:t,allowMultiple:o}=e;return oe(e,await J().y({multiple:o??!0,accept:p().by[t].join(",")}))}async function oe(e,t){const{environment:o,pageStore:a,spaceStore:n,isTeamPage:r,spaceViewStore:p,uploadType:g,flowId:h,analyticsFrom:y}=e;let x;try{if(0===t.length)return;const f=1===t.length,v=performance.now(),S={};if("confluence"===g){const a=(Number((0,P().$6)(o))||15)*ee;if(t[0].size>a)throw N().a1(e.environment,{import_source:"confluence",data:{import_type:"file",status:"failure",error:"Maximum upload size exceeded",fileSize:t[0].size},flowId:h}),new(c().nY)("Maximum upload size exceeded",{clientData:{type:"upload_file_size_exceeded",messageValues:{maxSize:u().td(a,1)}}})}else if("genericImporter"===g){const a=(0,Z().bk)(o)||15,s=a*ee;if(t[0].size>s)throw N().a1(e.environment,{import_source:"file",data:{import_type:"file",status:"failure",error:"Maximum upload size exceeded",fileSize:t[0].size},flowId:h}),new(c().p8)("Maximum upload size exceeded",{clientData:{type:"upload_file_size_exceeded",messageValues:{maxSize:`${a} GB}`}}})}else if("pdf"===g){const o=Number(B().default.getEligibleGroup({experimentId:"special_case_pdf_file_size",defaultGroup:L.toString()})),a=o;for(const s of t)if(s.size>a)throw N().a1(e.environment,{import_source:"file",data:{import_type:"file",status:"failure",error:"Maximum upload size exceeded",fileSize:s.size},flowId:h}),new(c().p8)("Maximum upload size exceeded",{clientData:{type:"upload_file_size_exceeded",messageValues:{maxSize:`${o} GB}`}}})}const j=await new Promise(((e,a)=>{J().IL({environment:o,uploadType:g,files:t,bucket:"temporary",bypassFreeFileUploadLimitCheck:!0,flowId:h,spaceId:n.id,onBatchStart:()=>{G().j({message:f?X.uploadingOneFile:X.uploadingMultipleFilesNotStarted,interpolatedValues:{totalNumberOfFiles:t.length,percentComplete:0}})},onBatchProgress:e=>{let{uploadedFiles:o,progressPercent:a}=e;G().j({message:f?X.uploadingOneFile:X.uploadingMultipleFilesInProgress,interpolatedValues:{numberOfUploadedFiles:o,totalNumberOfFiles:t.length,percentComplete:a}})},onBatchCompleteWithToken:o=>{G().j({message:f?X.uploadingOneFile:X.uploadingMultipleFilesComplete,interpolatedValues:{totalNumberOfFiles:t.length,percentComplete:100}}),e(o)},onBatchError:a})})),b=performance.now();S.uploadTimeTaken=b-v;const k="slash_command"===y&&!["gdocs","confluence","genericImporter"].includes(g),A=await ae(o,n,p,g,(null==t?void 0:t.length)??0,null==t?void 0:t[0].name,a,r,k);x=A.createdPage;const R=A.importType,_=A.pageId,V=j.map(((e,o)=>({fileURL:e.fileUrl,fileName:t[o].name,signedToken:e.signedToken}))),q=B().default.checkGate({gateName:"csvimport_faster_navigate_to_page_enabled"});let O=0;G().j({message:f?X.importingOneFile:X.importingMultipleFilesInProgress,interpolatedValues:{numberOfImportedFiles:O,totalNumberOfFiles:t.length}});const D=(0,l().r)();if(q&&("ReplaceBlock"===R||"AppendToBlock"===R)&&"csv"===g){const e=U().G.createChildStore(n,{table:m().iU,id:_}),t=(0,F().ZP)({store:e,preferPublicLink:!1,pageVisitSource:s().tY.Import});C().navigateOnBaseUrl({environment:o,url:t})}for(const{fileURL:e,fileName:a,signedToken:s}of V){if("confluence"===g){N().a1(o,{import_source:"confluence",data:{import_type:"file",status:"success",fileSize:t[0].size},flowId:h});const r=ne({environment:o,spaceStore:n,spaceViewStore:p});await r.deferred.promise;const i=r.pageId;N().G7(o,{integration_name:"confluence"});const l=z().Lj(o,w,{fileURL:e,fileName:a,page:{id:_,spaceId:n.id},loggerPageId:i,flowId:h||d().Il(),signedToken:s});for await(const e of l){if(e.error)throw e.error;e.value.isComplete||G().j(e.value.status)}}else if("AppendToBlock"===R){const t={fileURL:e,fileName:a,importType:R,block:{id:_,spaceId:n.id},spaceId:n.id,flowId:h,userTimeZone:D,signedToken:s,importEntryPoint:y};N().qy(o,{import_source:"file",data:t,flowId:h});const r=B().default.checkGate({gateName:"partitioned_universal_importer"}),i={fileURL:e,fileName:a,importType:"ReplaceBlock",spaceId:n.id,rootId:_,userTimeZone:D,signedToken:s};N().G7(o,{integration_name:"genericImporter"===g?"universal":g});const l="genericImporter"===g&&r?z().Lj(o,T,i):z().Lj(o,I().E,t);let c=!1;for await(const e of l){if(e.error)throw e.error;q&&"csv"===g&&"status"in e.value&&"created_collection"===e.value.status.message&&!c&&(c=!0,G().x(),H().default.reset(),S.importingSpinnerSpan||=performance.now()-b)}}else if("ReplaceBlock"===R){const t={fileURL:e,fileName:a,importType:R,block:{id:_,spaceId:n.id},flowId:h,spaceId:n.id,userTimeZone:D,signedToken:s,importEntryPoint:y};N().qy(o,{import_source:"file",data:t,flowId:h}),N().G7(o,{integration_name:"genericImporter"===g?"universal":"file"});const r=B().default.checkGate({gateName:"partitioned_universal_importer"}),i={fileURL:e,fileName:a,importType:"ReplaceBlock",spaceId:n.id,rootId:_,userTimeZone:D,signedToken:s},l="genericImporter"===g&&r?z().Lj(o,T,i):z().Lj(o,I().E,t);let c=!1;for await(const e of l){if(e.error)throw e.error;q&&"csv"===g&&"status"in e.value&&"created_collection"===e.value.status.message&&(c||(c=!0,G().x(),H().default.reset(),S.importingSpinnerSpan||=performance.now()-b))}}O++,q&&"csv"===g||G().j({message:f?X.importingOneFile:X.importingMultipleFilesInProgress,interpolatedValues:{numberOfImportedFiles:O,totalNumberOfFiles:t.length}})}return G().x(),S.overallTimeTaken=performance.now()-v,function(e,t){const{uploadType:o,importType:a,importLatencies:s,fileNames:n}=t;if(("ReplaceBlock"===a||"AppendToBlock"===a)&&"csv"===o){const e=s.uploadTimeTaken,t=s.importingSpinnerSpan,o=t&&e?t+e:s.overallTimeTaken;s.firstTimeNavigateToCollection=o}i().log({level:"info",from:"importActions",type:"importFiles",data:{miscDataToConvertToString:{fileNames:n,importLatencies:s,uploadType:o,importType:a},message:"Finished importing file"}});for(const[r,i]of Object.entries(s))(0,M().j)({environment:e,event:{eventName:"import_file_finished",eventProperties:{importUploadType:o,importType:a,importLatency:i,importSource:"file",importLatencyType:r,importFileCount:n.length}}})}(o,{uploadType:g,importType:R,importLatencies:S,fileNames:t.map((e=>e.name))}),U().G.createChildStore(n,{table:m().iU,id:_})}catch(j){var S;let e;i().log({level:"error",from:"importFiles",type:"importFilesFailure",error:(0,v().Ui)(j),data:{spaceId:n.id}}),G().x(),Q().createAndCommit({userAction:"importActions.importFiles",environment:o,canUndo:!0,perform:e=>{x&&K().Od({parentStore:n.getPagesStore(),childToRemoveStore:x,transaction:e})}});let t=null,a=null;if(j instanceof c().hm&&j.clientData?(t=j.clientData,A().Em[j.clientData.type]&&"ImportFileSizeTooLargeError"===(0,f().t)(j).message?a=A().Em[j.clientData.type]:A().$5[j.clientData.type]&&"CsvImportError"===(0,f().t)(j).message?a=A().$5[j.clientData.type]:A().zP[j.clientData.type]?a=A().zP[j.clientData.type]:A().Uh[j.clientData.type]&&(a=A().Uh[j.clientData.type])):j instanceof c().nY&&"upload_file_size_exceeded"===(null===(S=j.body)||void 0===S||null===(S=S.clientData)||void 0===S?void 0:S.type)&&A().zP[j.body.clientData.type]&&(t=j.body.clientData,a=A().zP[t.type]),t&&a){const o="messageValues"in t?t.messageValues:void 0;e=R().Z.formatMessage(a,o)}else e=t&&"code"in t&&"fileImportError"===t.code?R().Z.formatMessage(X.importFailedWithError,{error:(0,f().t)(j).message}):"ImportFileSizeTooLargeError"===(0,f().t)(j).message?R().Z.formatMessage(X.fileImportFailedSizeTooLarge):"ImportcsvTooManyColumns"===(0,f().t)(j).message?R().Z.formatMessage(X.csvImportFailedColumnsTooLarge):"ImportcsvTooManyRows"===(0,f().t)(j).message?R().Z.formatMessage(X.csvImportFailedRowsTooLarge):"ImportxlsxTooManyColumns"===(0,f().t)(j).message?R().Z.formatMessage(X.xlsxImportFailedColumnsTooLarge):"ImportxlsxTooManyRows"===(0,f().t)(j).message?R().Z.formatMessage(X.xlsxImportFailedRowsTooLarge):R().Z.formatMessage(X.importFailed);throw W().UW(e),j}}async function ae(e,t,o,s,n,i,l,c,d){var p;let u,m,g;if(D().default.isSidePeekOpen()&&null!==(p=D().default.peekTargetStore.state)&&void 0!==p&&p.isEmptyPage())m=D().default.peekTargetStore.state.id,g="ReplaceBlock";else if(l&&(l.isEmptyPage()||d))n>1||l.isInsideCollection()||d?(m=l.id,g="AppendToBlock"):(m=l.id,g="ReplaceBlock");else{const l={date:(0,r().Yx)(Date.now(),"medium",a().locale)};"genericImporter"===s&&(l.fileName=i?i.replace(".zip",""):"Universal File");const{performResult:d}=Q().createAndCommit({userAction:"importActions.result",environment:e,canUndo:!0,perform:a=>{const r=R().Z.formatMessage("genericImporter"===s?X.importTitleForGenericFileImporter:X.importTitle,l),i=$().KE({environment:e,spaceStore:t,spaceViewStore:o,isPrivate:!c,prepend:!c,title:r,transaction:a}),d=n>1?"AppendToBlock":"ReplaceBlock",p=y().UZ();return a.postSubmitCallbacks.push((e=>{e?p.reject(e):p.resolve()})),{deferred:p,createdPage:i,pageId:i.id,importType:d}}});u=d.createdPage,m=d.pageId,g=d.importType,await d.deferred.promise}return{createdPage:u,pageId:m,importType:g}}async function se(e){const{environment:t,fileId:o,token:a,spaceStore:s,spaceViewStore:n,pageStore:r,analyticsFrom:i}=e;let l;try{G().j({message:X.importingOneFile});const e="link_paste"===i||"slash_command"===i,c=await ae(t,s,n,"gdocs",1,void 0,r,void 0,e);l=c.createdPage;const d=c.importType,p=c.pageId,u={fileId:o,tokenId:a.id,importType:d,block:{id:p,spaceId:s.id}};N().qy(t,{import_source:"gDocs",data:u}),N().G7(t,{integration_name:"gDocs"});const{value:g}=await z().Lj(t,j,u).next();if(g.error)throw g.error;return G().x(),U().G.createChildStore(s,{table:m().iU,id:p})}catch(d){Q().createAndCommit({userAction:"importActions.importFiles",environment:t,canUndo:!0,perform:e=>{l&&K().Od({parentStore:s.getPagesStore(),childToRemoveStore:l,transaction:e})}});let e=R().Z.formatMessage(X.importFailed);throw d instanceof c().hm&&d.clientData&&("only_docx_extension_supported"===d.clientData.type?e=R().Z.formatMessage(X.onlyDocxExtensionSupported):"file_size_exceeded"===d.clientData.type&&(e=R().Z.formatMessage(X.fileImportFailedCustomSizeTooLarge,{maxSize:d.clientData.messageValues.maxSize}))),W().UW(e),G().x(),new Error((0,f().t)(d).message)}}function ne(e){const{environment:t,spaceStore:o,spaceViewStore:s,append:n,mondayV2:i}=e,{performResult:l}=Q().createAndCommit({userAction:"importActions.result",environment:t,canUndo:!0,perform:e=>{const l=i?R().Z.formatMessage(X.importTitleForMondayV2,{date:(0,r().Yx)(Date.now(),"medium",a().locale)}):R().Z.formatMessage(X.importTitle,{date:(0,r().Yx)(Date.now(),"medium",a().locale)}),c=$().KE({environment:t,spaceStore:o,spaceViewStore:s,isPrivate:!0,prepend:!n,title:i?l:`${l} Logs`,transaction:e}),d=y().UZ();return e.postSubmitCallbacks.push((e=>{e?d.reject(e):d.resolve()})),{deferred:d,pageId:c.id}}});return l}async function re(e){const{environment:t,boards:o,spaceStore:a,spaceViewStore:s}=e;G().j({message:X.importingFromTrelloMessage,interpolatedValues:{importingCount:o.length}}),O().Z.setState({open:!1});const{performResult:{deferred:n,pages:r}}=Q().createAndCommit({userAction:"importActions.importTrello",environment:t,canUndo:!0,perform:e=>{const n=o.map((o=>$().KE({environment:t,spaceStore:a,spaceViewStore:s,isPrivate:!0,prepend:!0,loading:!0,title:o.name,transaction:e}))),r=y().UZ();return e.postSubmitCallbacks.push((e=>{e?r.reject(e):r.resolve()})),{deferred:r,pages:n}}});await n.promise;try{return await Promise.all(r.map((async(e,a)=>{const s=o[a],{value:n}=await z().Lj(t,b,{boardId:s.id,block:{id:e.id,spaceId:(0,g().J)(e.pointer.spaceId)}}).next();if(n.error)throw n.error}))),G().x(),r[0]}catch(i){throw Q().createAndCommit({userAction:"importActions.importTrello",environment:t,canUndo:!0,perform:e=>{for(const t of r)K().Od({parentStore:a.getPagesStore(),childToRemoveStore:t,transaction:e})}}),W().UW(R().Z.formatMessage(X.trelloImportFailed)),G().x(),new Error((0,f().t)(i).message)}}async function ie(e){const{environment:t,spaceStore:o,spaceViewStore:a,notebooks:s,userSettingsStore:r}=e;if(0===s.length)throw new Error("Expected at least one notebook");G().j({message:X.importingFromEvernoteMessage,interpolatedValues:{importingCount:s.length}}),q().Z.setState({open:!1});const i=await async function(e){const{environment:t,spaceStore:o,spaceViewStore:a,notebooks:s}=e,{serverCommitResult:r,performResult:{blockStores:i}}=Q().createAndCommit({userAction:"importActions.createStacks",environment:t,canUndo:!0,perform:e=>{const r=h().jj(h().oA(s.map((e=>e.stack)))).sort().reverse(),i={};let l=e=>!0;return s.length>1&&r.length>0&&(r.forEach((r=>{const l=$().KE({environment:t,spaceStore:o,spaceViewStore:a,isPrivate:!0,prepend:!0,loading:!1,title:r,transaction:e}),c=l.getContentStore();s.filter((e=>e.stack===r)).forEach((o=>{const a=Y().j4({environment:t,type:n().Ti.copyIndicator,inMemoryRecordCache:l.inMemoryRecordCache,transaction:e,spaceId:c.pointer.spaceId});K().R3({parentStore:c,appendStore:a,transaction:e}),i[o.guid]=a}))})),l=e=>!Boolean(e.stack)),s.filter(l).reverse().forEach((s=>{const n=$().KE({environment:t,spaceStore:o,spaceViewStore:a,isPrivate:!0,prepend:!0,loading:!0,title:s.title,transaction:e});i[s.guid]=n})),{blockStores:i}}});return await r,i}({environment:t,spaceStore:o,spaceViewStore:a,notebooks:s}),l=i[s[0].guid];try{return await async function(e){const{environment:t,spaceStore:o,spaceViewStore:a,notebooks:s,waitForNotebookStore:n,notebookMapping:r,userSettingsStore:i}=e;let l;if(y().jl(s,ce,(async e=>{await Promise.all(e.map((async e=>{const o=r[e.guid];if(!o)throw new Error(`Missing notebook page ${e.guid}`);const a=y().UZ();o===n&&(l=a),await async function(e){const{environment:t,notebookStore:o,notebook:a,firstCompleted:s}=e,n=z().Lj(t,x().A,{notebookId:a.guid,block:{id:o.id,spaceId:(0,g().J)(o.pointer.spaceId)},timestamp:Date.now(),parentTable:m().iU}),{value:r}=await n.next();r.error&&(console.error(r.error),Q().createAndCommit({userAction:"importActions.importEvernoteNotebook",environment:t,canUndo:!0,perform:e=>{const t=o.getParentBlockStore();if(t){const a=t.getContentStore();K().Od({parentStore:a,childToRemoveStore:o,transaction:e})}}}),W().UW(R().Z.formatMessage(X.evernoteImportFailed)));s.resolve(void 0)}({environment:t,notebookStore:o,notebook:e,firstCompleted:a})})))})),!l)throw new Error("waitForNotebookFirstCompleted not defined.");const c=i.getSettings();null!=c&&c.created_evernote_getting_started||await _().createGettingStartedPageInSpace({environment:t,type:"evernote",spaceStore:o,spaceViewStore:a,userSettingsStore:i});await l.promise}({environment:t,waitForNotebookStore:l,notebookMapping:i,notebooks:s,spaceStore:o,spaceViewStore:a,userSettingsStore:r}),G().x(),l}catch(c){throw G().x(),W().UW(R().Z.formatMessage(X.evernoteImportFailed)),c}}async function le(e){const{environment:t,spaceStore:o,spaceViewStore:a,space:s,flowId:n}=e;if(!t.currentUser.id)throw new Error("User does not exist.");G().j({message:X.importingFromConfluenceViaAPIMessage,interpolatedValues:{confluenceSpaceKey:s.name}}),V().Z.setState({open:!1});const r=ne({environment:t,spaceStore:o,spaceViewStore:a});await r.deferred.promise;const l=r.pageId;let c;if((0,P().SL)(t)){const e=await E().callApi({eventName:"createTeam",environment:t,data:{spaceId:o.id,name:s.name,accessLevel:"closed"}});if("failed"===e.type)throw new Error("Cannot create teamspace");c=e.data.teamId}const{performResult:d}=Q().createAndCommit({userAction:"importActions.importConfluenceViaApi",environment:t,canUndo:!0,perform:e=>{const n=R().Z.formatMessage(X.importTitleWithImportName,{name:s.name}),r=$().KE({environment:t,spaceStore:o,spaceViewStore:a,isPrivate:!0,prepend:!0,title:n,transaction:e}),i=y().UZ();return e.postSubmitCallbacks.push((e=>{e?i.reject(e):i.resolve()})),{deferred:i,createdPage:r,pageId:r.id}}});await d.deferred.promise;const p=d.createdPage;try{if(!p)throw new Error("No root page");N().G7(t,{integration_name:"confluence"});const e=z().Lj(t,k,{userId:t.currentUser.id,confluenceSpaceKey:s.key,confluenceSpaceId:s.id,confluenceSpaceName:s.name,page:{id:d.pageId,spaceId:o.id},loggerPageId:l,flowId:n,teamId:c});for await(const t of e){if(t.error)throw t.error;t.value.isComplete||G().j(t.value.status)}return G().x(),p}catch(u){throw i().log({level:"error",from:"importConfluenceViaAPI",type:"importConfluenceViaAPIFailure",error:(0,v().Ui)(u),data:{spaceId:o.id}}),Q().createAndCommit({userAction:"importActions.importConfluenceViaApi",environment:t,canUndo:!0,perform:e=>{p&&K().Od({parentStore:o.getPagesStore(),childToRemoveStore:p,transaction:e})}}),W().UW(R().Z.formatMessage(X.confluenceImportViaAPIFailed)),G().x(),new Error((0,f().t)(u).message)}}const ce=2},651275:(e,t,o)=>{o.d(t,{qF:()=>L,sC:()=>R,IO:()=>V,HS:()=>D,KH:()=>F,FM:()=>_,x:()=>K,Nu:()=>z,XE:()=>$,$9:()=>Q,C8:()=>O,Hl:()=>G,VE:()=>Z,h7:()=>B,hm:()=>E,M3:()=>J,eL:()=>q,e_:()=>H});o(670560),o(122556),o(582845),o(250570),o(533019),o(721473),o(788208),o(22624),o(267602),o(470928),o(749411),o(30005),o(241792);var a=()=>o(506347),s=()=>o(926724),n=()=>o(135857),r=()=>o(742036),i=()=>o(799891),l=()=>o(396136),c=()=>o(81954),d=()=>o(255933),p=()=>o(830742);const u=(0,p().LS)("mondayFullImport"),m=(0,p().LS)("parallelMondayImport");var g=()=>o(308186),f=()=>o(497065),h=()=>o(110232),v=()=>o(205228),y=()=>o(544903),x=()=>o(527278),I=()=>o(458121),S=()=>o(876822),j=()=>o(623521),b=()=>o(698850),w=()=>o(838266),k=()=>o(286310),T=()=>o(824462),C=()=>o(782646),M=()=>o(684715),P=()=>o(528918),A=()=>o(269299);const Z=(0,o(788860).vU)({projectsAndTasksCountTooltip:{id:"mondayImport.importsTab.selectData.tooltipForProjectsAndTasksCount",defaultMessage:"Counts each item in the project board and each task board as a separate project"},boardsKeyWord:{id:"mondayImport.importsTab.selectData.boardsKeyWord",defaultMessage:" boards"},projectsKeyWord:{id:"mondayImport.importsTab.selectData.projectsKeyWord",defaultMessage:" projects"},projectsAndTasksExcludedToolTip:{id:"mondayImport.importsTab.selectData.tooltipForDisabledProjectsAndTasks",defaultMessage:"Project and task boards are excluded."},noBoardsTooltipMessage:{id:"mondayImport.importsTab.selectData.tooltipForDisabledFolderV2",defaultMessage:"This folder has no boards."},successfullyConnected:{id:"mondayActions.successfullyConnected.message",defaultMessage:"Successfully connected monday.com instance."},fullImport:{defaultMessage:"Full Import",id:"mondayImport.importsTab.chooseWorkspace.chooseImportType.fullImport"},fullImportDescription:{defaultMessage:"Import all Monday board types as Notion databases. Recommended for a full migration.",id:"mondayImport.importsTab.chooseWorkspace.chooseImportType.fullImport.description"},projectsAndTasks:{defaultMessage:"Projects & Tasks only",id:"mondayImport.importsTab.chooseWorkspace.chooseImportType.projectsAndTasks"},projectsAndTasksDescription:{defaultMessage:"Import project and task boards from Monday into Notion Projects. Recommended for Project management only.",id:"mondayImport.importsTab.chooseWorkspace.chooseImportType.projectsAndTasks.description"},newTeamspaceLabel:{id:"mondayImport.importsTab.selectData.newTeamspace",defaultMessage:"New teamspace"},privateSpaceLabel:{id:"mondayImport.importsTab.selectData.privateSpaceTitle",defaultMessage:"Private"},selectBoardsHeading:{id:"mondayImport.importsTab.chooseWorkspace.selectBoards",defaultMessage:"Choose boards to import"},selectWorkspaceV2:{id:"mondayImporter.selectData.selectWorkspacePlaceholder",defaultMessage:"Select a workspace"},chooseImportType:{id:"mondayImport.importsTab.chooseWorkspace.chooseImportType",defaultMessage:"Choose Import Type"},mapTeamspacesDescription:{id:"mondayImport.importsTab.chooseWorkspace.tabDescription",defaultMessage:"You can give each Monday folder a Notion teamspace to collaborate in."},searchWorkspaces:{id:"mondayImport.importsTab.chooseWorkspace.searchWorkspaces",defaultMessage:"Search workspaces..."},chooseWorkSpace:{id:"mondayImport.importsTab.chooseWorkspace.tabTitle",defaultMessage:"Choose Monday workspace"},chooseTeamspace:{id:"mondayImport.importsTab.selectData.searchTeamspacePlaceholder",defaultMessage:"Search for a teamspace"},excludeProjectsAndTasks:{id:"mondayImport.importsTab.selectData.excludeProjectsAndTasks",defaultMessage:"Exclude projects & tasks boards"},selectWorkSpaceV1:{id:"MondayImport.importsTab.selectData.tabTitle",defaultMessage:"Select Monday.com workspace"},backButton:{id:"mondayImport.selectData.backButtonText",defaultMessage:"Back"},creatingTemplate:{id:"importsTab.selectData.creatingTemplates",defaultMessage:"Creating templates"},nextButton:{id:"importsTab.selectData.nextButtonText",defaultMessage:"Next"}});function F(){return{ProjectsAndTasks:{title:Z.projectsAndTasks,description:Z.projectsAndTasksDescription},FullImport:{title:Z.fullImport,description:Z.fullImportDescription}}}function B(){b().default.setState({...b().default.state,isModalOpen:!0})}async function L(e){const{environment:t,userEmail:o,APIToken:a,flowId:s,spaceId:n}=e;if(!t.currentUser.id||!o||!a)return g().PV({message:"Invalid details"}),void P().x();const r=await T().callApi({eventName:"authenticateMondayUser",environment:t,data:{userId:t.currentUser.id,spaceId:n,userEmail:o,APIToken:a}});"failed"===r.type?(k().a1(t,{import_source:"monday.com",data:{import_type:"api",status:"failure",error:r.error},flowId:s}),console.error(r.error),g().x2(r)):(k().a1(t,{import_source:"monday.com",data:{import_type:"api",status:"success"},flowId:s}),b().default.setState({...b().default.state,account:o}),g().PV({message:x().Z.formatMessage(Z.successfullyConnected)})),P().x()}async function R(e){const{environment:t,spaceId:o}=e,a=await T().callApi({eventName:"disconnectMonday",environment:t,data:{spaceId:o}});"failed"===a.type?g().x2(a):(k().qJ(t,{integration_name:"monday.com"}),"success"===a.type&&b().default.setState({...b().default.state,account:void 0,workspaces:[]}))}async function _(e){const{environment:t,spaceId:o}=e;b().default.setState({...b().default.state,isLoadingMondayWorkspaces:!0});const a=await T().callApi({eventName:"getMondayWorkspaces",environment:t,data:{spaceId:o}});"success"===a.type&&b().default.setState({...b().default.state,workspaces:a.data.workspaces,isLoadingMondayWorkspaces:!1})}async function V(e){const{environment:t,spaceId:o,selectedWorkspace:a}=e;if(!o)return;b().default.setState({...b().default.state,isLoadingProjects:!0});const s=await T().callApi({eventName:"getMondayFoldersAndBoards",environment:t,data:{spaceId:o,selectedWorkspace:a}});"success"===s.type&&b().default.setState({...b().default.state,mondayFoldersAndBoards:s.data.mondayFoldersAndBoards,isLoadingProjects:!1})}function q(e){var t,o;let{folderId:a,spaceId:s}=e;const n=b().default.state.selectedProjectsAndTeamspaces;b().default.setState({...b().default.state,selectedProjectsAndTeamspaces:{...n,[a]:{projects:(null===(t=n[a])||void 0===t?void 0:t.projects)||[],notionTeamspaceId:s,isEntireFolderSelected:null===(o=n[a])||void 0===o?void 0:o.isEntireFolderSelected}}})}async function O(e){const{environment:t,spaceStore:o,currentSpaceViewStore:a,teamsStores:n,flowId:r}=e,{appTemplatesSetupActions:l,appConfigs:d}=await y().vF.load(),p=b().default.state.selectedWorkspace;if(!p)return;b().default.setState({...b().default.state,templateCreationInProgress:!0});const u={},g={},f=[],v=new Set;try{for(const e in b().default.state.selectedProjectsAndTeamspaces){const r=b().default.state.selectedProjectsAndTeamspaces[e].projects;if(0===r.length)continue;let i;f.push(...r.map((e=>e.mondayProjectId)));const c=b().default.state.selectedProjectsAndTeamspaces[e],{notionTeamspaceId:p}=c;if(!p)continue;v.add(p);const m=n.find((e=>e.id===c.notionTeamspaceId));if(i=m||o,!u[p]){const{serverCommitResult:e,performResult:o}=A().createAndCommit({environment:t,perform:e=>{const o={type:"preset",uri:s().T3};if("preset"===o.type&&!o.uri.startsWith("notion://wiki")){var n;const s=o.uri,r=null===(n=(0,h().iX)(d(),s))||void 0===n?void 0:n.uri;if(!r)return;const c=d().find((e=>e.uri===r));if(null==c?void 0:c.presets.find((e=>e.uri===s))){return l.initializeApp({environment:t,spaceViewStore:a,appParentStore:i,appUri:r,presetUri:s,transaction:e,from:"monday_import"})}return[]}},canUndo:!0,userAction:"importActions.importMonday"});u[p]=o,await e}g.hasOwnProperty(p)?g[p]=[...g[p],{mondayFolderId:e,projects:r}]:g[p]=[{mondayFolderId:e,projects:r}]}}catch(F){return void b().default.setState({...b().default.state,templateCreationInProgress:!1,currentTab:"failure"})}const x=[],w=S().default.state.currentSpaceViewStore;if(!w)return;const T=M().Ym({environment:t,spaceStore:o,spaceViewStore:w,append:!0,mondayV2:(0,I().u)()});await T.deferred.promise;const P=T.pageId;b().default.setState({...b().default.state,loggerPageId:P});for(const[s,i]of Object.entries(g)){const e=u[s];e&&x.push({collectionViewBlocks:e.map((e=>({id:e.id,spaceId:(0,c().J)(o.id)}))),notionTeamSpaceId:s,mondayProjectsAndFolders:i})}k().G7(t,{integration_name:"monday.com"});const Z=(0,C().Lj)(t,m,{importParams:x,loggerPageId:P,spaceId:o.id,flowId:r});b().default.setState({...b().default.state,templateCreationInProgress:!1,currentTab:"importingData"}),j().Z.reset(),p&&function(e,t,o){try{k().qy(e,{import_source:"monday.com",data:t,flowId:o})}catch(a){i().log({level:"error",from:"mondayActions",type:"parallelMondayImport",error:{miscDataString:JSON.stringify({error:a,message:"Errored in tracking import_source_input event."})}})}}(t,{workspaceId:p,projects:f,numberOfTeamspacesUsed:v.size,userId:t.currentUser.id,spaceId:(0,c().J)(o.id)},r);for await(const s of Z){if(!b().default.state.isModalOpen)break;if(s.error)return void b().default.setState({...b().default.state,currentTab:"failure"});"success"===s.taskStatus&&b().default.setState({...b().default.state,currentTab:"confirm",result:s.value.status,isComplete:!0})}}async function D(e){const{environment:t,spaceId:o,selectedWorkspace:a}=e;b().default.setState({...b().default.state,isLoadingHierarchy:!0,isLoadingBoards:!0});try{const e=await T().callApi({eventName:"getMondayFoldersWithHierarchy",environment:t,data:{spaceId:o,selectedWorkspace:a},headers:{}});if("success"===e.type){const s=e.data.mondayFoldersDetailsMap;let n,r={},i=1,l=!0,c=b().default.getState();for(;l&&c.selectedWorkspace===a&&"FullImport"===c.selectedImportType&&!c.templateCreationInProgress;){const e=await T().callApi({eventName:"getMondayBoards",environment:t,data:{spaceId:o,selectedWorkspace:a,page:i},headers:{}});if("success"!==e.type){U();break}n=e.data.mondayBoardsDetailsMap,r={...r,...n},l=e.data.hasMoreBoards;for(const[t,o]of Object.entries(n))s[o.folderId].boards.push(t);b().default.setState({...b().default.state,isLoadingHierarchy:!1,fetchedHierarchy:!0,mondayBoardsDetailsMap:r,mondayFoldersDetailsMap:s}),i++,c=b().default.getState()}b().default.setState({...b().default.state,isLoadingBoards:!1})}else U()}catch(s){U()}}function U(){b().default.setState({...b().default.state,isLoadingHierarchy:!1,isLoadingBoards:!1,fetchedHierarchy:!1})}function H(e){let{folderId:t,notionTeamspaceId:o,notionRootTableName:a}=e;b().default.setState({...b().default.state,selectedTeamspacesForFullImport:{...b().default.state.selectedTeamspacesForFullImport,[t]:{notionTeamspaceId:o,notionRootTableName:a}}})}function N(e){const{mondayFolderDetails:t,currentfolderId:o}=e,a=[],s=[o];for(;s.length>0;){const e=s.pop();if(!e)continue;const o=t[e];if(o&&o.subFolders)for(const t of o.subFolders)a.push(t),s.push(t)}return a}function E(e){const{excludeProjectsAndTasks:t,board:o}=e;return t&&("task"===o.boardType||"project"===o.boardType)}function W(e){const{mondayFolderDetails:t,folderIds:o,excludeProjectsAndTasks:a,mondayBoardDetails:s}=e,n=[];for(;o.length>0;){const e=o.pop();if(!e)continue;const r=t[e];if(r&&r.boards)for(const t of r.boards)E({excludeProjectsAndTasks:a,board:s[t]})||n.push(t)}return n}function z(e,t,o,a){return W({folderIds:[e,...N({currentfolderId:e,mondayFolderDetails:t})],mondayFolderDetails:t,mondayBoardDetails:o,excludeProjectsAndTasks:a}).length}function K(e,t,o,a,s){const n=W({folderIds:[e,...N({currentfolderId:e,mondayFolderDetails:o})],mondayFolderDetails:o,mondayBoardDetails:a,excludeProjectsAndTasks:s});let r=0;return n.forEach((e=>{t.has(e)&&(r+=1)})),r}async function G(e){const{environment:t,spaceStore:o,flowId:s,spaceViewStore:i}=e,c=b().default.state;if(!c.selectedWorkspace||!c.mondayFoldersDetailsMap)return;b().default.setState({...b().default.state,templateCreationInProgress:!0});const{selectedFolderIdsForFullImport:p,selectedBoardIdsForFullImport:m,mondayFoldersDetailsMap:g,mondayBoardsDetailsMap:h,excludeProjectsAndTasks:y}=c,x=Object.entries(c.mondayFoldersDetailsMap).flatMap((e=>{let[t,o]=e;return o.parent?[]:[t]})),I=new Map,S={notionTeamspaceId:o.getSpaceId(),notionRootTableName:d().bx},T=(e,t,o)=>{o.forEach((t=>{const o=p.has(t),a=g[t];if(o){const o={id:t,name:a.folderName,boards:[],folders:[]};T(o,a.boards,a.subFolders),e.folders.push(o)}else T(e,a.boards,a.subFolders)})),t.forEach((t=>{if(!m.has(t))return;const o=h[t];e.boards.push({id:t,name:o.name})}))};try{for(;x.length;){const e=x.pop();if(!e)break;const t=g[e];if(p.has(e)&&"null"!==e){const t=g[e],o={id:e,name:t.folderName,boards:[],folders:[]};T(o,t.boards,t.subFolders);const a=Y(e,S),s=I.get(a)??{boards:new Array,folders:new Array};s.folders.push(o),I.set(a,s)}else{for(const e of t.boards){if(!m.has(e))continue;const o=h[e],a=Y(t.folderId,S),s=I.get(a)??{boards:new Array,folders:new Array},n={id:e,name:o.name};s.boards.push(n),I.set(a,s)}x.push(...t.subFolders)}}}catch(B){return void b().default.setState({...b().default.state,templateCreationInProgress:!1,currentTab:"failure"})}const P=Array.from(I.entries(),(e=>{let[t,o]=e;return{notionRootTableId:t.notionTeamspaceId,notionRootTableName:t.notionRootTableName,mondayBoards:o.boards,mondayFolders:o.folders}})),A=M().Ym({environment:t,spaceStore:o,spaceViewStore:i,append:!0,mondayV2:!0});await A.deferred.promise;const Z=A.pageId;b().default.setState({...b().default.state,loggerPageId:Z}),k().G7(t,{integration_name:"monday.com"});const F=(0,C().Lj)(t,u,{importParams:P,loggerPageId:Z,spaceId:o.id,flowId:s,excludeProjectsAndTasks:y});b().default.setState({...b().default.state,templateCreationInProgress:!1,currentTab:"importingData"}),j().Z.reset();for await(const a of F){if(!b().default.state.isModalOpen)break;if(a.error)return void b().default.setState({...b().default.state,currentTab:"failure",loggerPageId:Z})}f().c4({url:(0,n().Z)({pageId:Z,pageModel:(0,r().lA)({table:l().iU,id:Z}),baseUrl:v().default.domainBaseUrl,pageVisitSource:a().tY.Import}),environment:t}),b().default.resetImport(),w().default.reset()}function Y(e,t){const{selectedTeamspacesForFullImport:o,mondayFoldersDetailsMap:a}=b().default.state;let s=e;for(;s;){var n;if(s in o)return o[s];s=null===(n=a[s])||void 0===n?void 0:n.parent}return t}function $(e){const t=new Set(b().default.state.selectedBoardIdsForFullImport);t.has(e)?t.delete(e):t.add(e),b().default.setState({...b().default.state,selectedBoardIdsForFullImport:t})}function Q(e,t,o,a){const s=b().default.state.selectedFolderIdsForFullImport.has(e);!function(e){const{mondayFolderDetails:t,currentfolderId:o,select:a,mondayBoardDetails:s,excludeProjectsAndTasks:n}=e,r=N({currentfolderId:o,mondayFolderDetails:t}),i=W({folderIds:[o,...r],mondayFolderDetails:t,mondayBoardDetails:s,excludeProjectsAndTasks:n}),{selectedFolderIdsForFullImport:l,selectedBoardIdsForFullImport:c}=b().default.state,d=(e,t)=>{t.forEach((t=>{a?e.add(t):e.delete(t)}))};d(l,r),d(c,i),b().default.setState({...b().default.state,selectedBoardIdsForFullImport:c,selectedFolderIdsForFullImport:l})}({currentfolderId:e,mondayFolderDetails:t,mondayBoardDetails:o,select:!s,excludeProjectsAndTasks:a});const n=new Set(b().default.state.selectedFolderIdsForFullImport);s?n.delete(e):n.add(e),b().default.setState({...b().default.state,selectedFolderIdsForFullImport:n})}function J(e){const{currentfolderId:t,mondayFolderDetails:o,mondayBoardDetails:a,excludeProjectsAndTasks:s}=e,n=W({folderIds:[t,...N({currentfolderId:t,mondayFolderDetails:o})],mondayFolderDetails:o,mondayBoardDetails:a,excludeProjectsAndTasks:s});let r=!1;return n.forEach((e=>{E({excludeProjectsAndTasks:s,board:a[e]})||(r=!0)})),r}},306558:(e,t,o)=>{o.d(t,{M:()=>v,u:()=>y});var a=()=>o(572680),s=()=>o(916673),n=()=>o(286310),r=()=>o(308186),i=()=>o(205228),l=()=>o(848643),c=()=>o(479694),d=()=>o(838266),p=()=>o(405177),u=()=>o(824462),m=()=>o(231077),g=()=>o(528918),f=()=>o(402269);const h=(0,o(788860).vU)({authenticatingWithTrello:{id:"trelloActions.authenticatingWithTrello.loadingMessage",defaultMessage:"Authenticating with Trelloâ€¦"},titleMessage:{defaultMessage:"Trello login",id:"trelloActions.loginPopupModal.title"}});async function v(e){const{environment:t,requestStore:o}=e,p=(0,l().eC)(t);let v=(0,a().ae)(i().default.domainBaseUrl,{authType:p,userId:t.currentUser.id,isElectronDevice:t.device.isElectron});if(v=p.redirectToAuth?v:await(0,l().HU)(t,v),t.device.isElectron)return void m().openExternalUrl(v);const x=await f().M(t,{width:580,height:700,url:v,titleMessage:h.titleMessage});if(!x)return;const I=s().Qc(x),S=I.query.oauth_token,j=I.query.oauth_verifier;if(!S||!j)return;g().j({message:h.authenticatingWithTrello});const b=await u().callApi({eventName:"authWithTrello",environment:t,data:{requestToken:S,verifier:j}});"failed"===b.type?(n().a1(t,{import_source:"trello",data:{import_type:"api",status:"failure",error:b.error,userId:t.currentUser.id}}),console.error(b.error),r().x2(b),g().x()):(n().a1(t,{import_source:"trello",data:{import_type:"api",status:"success",userId:t.currentUser.id}}),n().L3(t,{integration_name:"trello"}),await o.refresh(),c().Z.setState({open:!0}),d().default.setState({...d().default.state,open:!0,currentTab:"imports",highlightedSetting:void 0,defaultSubtab:void 0}),await y(t,o),g().x())}async function y(e,t){p().default.setState({...p().default.state,isFetchingBoards:!0,showLoader:!0});const o=await u().callApi({eventName:"getTrelloBoards",environment:e,data:{}});return await t.refresh(),"success"===o.type?(p().default.setState({...p().default.state,boardsResponse:o.data,isFetchingBoards:!1,showLoader:!1}),o.data):(console.error(o.error),{boards:[]})}},129824:(e,t,o)=>{o.d(t,{f:()=>Me,Z:()=>Pe});o(267602),o(916054),o(470928),o(241792),o(228244);var a=o(667294),s=()=>o(219727),n=()=>o(142735),r=()=>o(846550),i=()=>o(506347),l=()=>o(714230),c=()=>o(135857),d=()=>o(742036),p=()=>o(396136),u=()=>o(788860),m=()=>o(696459),g=()=>o(707513),f=()=>o(998484),h=()=>o(497065),v=()=>o(205228),y=()=>o(148126),x=()=>o(383700),I=()=>o(998901),S=()=>o(876822),j=()=>o(199114),b=()=>o(838266),w=()=>o(568017),k=()=>o(522919),T=()=>o(887863),C=()=>o(168441),M=()=>o(488949),P=()=>o(383694),A=()=>o(1910),Z=()=>o(67961),F=()=>o(251932),B=()=>o(378907),L=o(785893);const R=function(){const e=(0,n().Kw)(j().default);return e.result?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(Z().Z,{isMultiline:!0,children:(0,L.jsx)(u()._H,{id:"asanaImport.importsTab.confirm.subtitle",defaultMessage:"The following data has been successfully imported."})}),(0,L.jsx)("div",{style:{marginTop:32},children:e.result.map((e=>(0,L.jsx)(_,{importStatus:e},e.asanaTeamId)))})]}):(0,L.jsx)(L.Fragment,{})};function _(e){let{importStatus:t}=e;const o=(0,r().Fg)(),[s,i]=(0,a.useState)(!1),l=(0,n().VK)((()=>S().default.state.currentSpaceStore),[]),c=(0,n().VK)((()=>j().default.state.teamsAndProjects),[]),d=(0,n().VK)((()=>S().default.state.currentSpaceViewStore),[]),p=(0,n().VK)((()=>{if(!d)return;const e=d.getTeamsStores().map((e=>({id:e.id,name:e.getName(),icon:(0,L.jsx)(P().p,{disabled:!0,store:e})})));return l?(e||[]).concat({id:d.id,name:"Private",icon:(0,L.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:18,height:18,borderRadius:"0.25em",backgroundColor:w().FN.light.gray[75]},children:(0,C().Q)({color:o.mediumIconColor,width:12.5,height:12.5})})}):e}),[d,l,o]),{notionTeamspaceName:m,notionTeamspaceIcon:g}=(0,a.useMemo)((()=>{const e=null==p?void 0:p.find((e=>e.id===t.notionTeamSpaceId));return e?{notionTeamspaceName:e.name,notionTeamspaceIcon:e.icon}:{notionTeamspaceName:void 0,notionTeamspaceIcon:void 0}}),[p,t]),f=(0,a.useMemo)((()=>{const e=c.find((e=>e.gid===t.asanaTeamId));return null==e?void 0:e.name}),[c,t]);return(0,L.jsxs)(F().gq,{style:{marginTop:16},children:[(0,L.jsx)(A().Z,{ariaLabel:"collapse toggle",icon:M().L,onClick:()=>i((e=>!e)),style:{transform:s?"rotate(90deg)":"rotate(180deg)",marginRight:8,marginTop:4},iconStyle:{width:8,height:8}}),(0,L.jsx)(B().Z,{tableStyle:{borderTop:0},cellStyle:{verticalAlign:"middle"},columns:[{key:"team",header:(0,L.jsx)(F().gq,{alignItems:"center",gap:2,children:(0,L.jsx)(Z().Z,{isSmall:!0,style:{width:280,textOverflow:"ellipsis"},children:f})}),style:{width:300}},{key:"importedInto",header:(0,L.jsxs)(F().gq,{gap:4,children:[(0,L.jsxs)(F().gq,{style:{alignItems:"center",gap:4},children:[(0,L.jsx)(Z().Z,{isSmall:!0,children:(0,L.jsx)(u()._H,{id:"asanaImport.importsTab.selectData.importedInto",defaultMessage:"Imported into"})}),(0,k().n)({width:12})]}),(0,L.jsxs)(F().gq,{style:{alignItems:"center",gap:4},children:[g,m]})]}),style:{width:300}}],rows:function(e){let{collapsed:o}=e;return o?[]:t.numberOfTasksPerProject.map((e=>({key:e.projectId,columns:[(0,L.jsxs)(F().gq,{gap:8,alignItems:"center",children:[(0,T().r)({width:12,color:w().FN.dark.green[600]}),(0,L.jsx)(Z().Z,{isMultiline:!0,style:{wordWrap:"break-word",width:300},children:e.name})]},e.projectId),(0,L.jsxs)(Z().Z,{isSmall:!0,children:[e.numberOfTasks,(0,L.jsx)(u()._H,{id:"asanaImport.importsTab.selectData.tasksHelperText",defaultMessage:" tasks"})]},`${e.projectId}-tasks-count`)]})))}({collapsed:s})})]})}o(30005);var V=()=>o(840262),q=()=>o(848854),O=()=>o(765513);const D=function(){const e=(0,n().Kw)(j().default);if(!e.result)return(0,L.jsx)(L.Fragment,{});const t=e.result;let o=0;return t.forEach((e=>{o+=e.numberOfProjects})),(0,L.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:2},children:[(0,L.jsx)(Z().Z,{isMultiline:!0,style:{font:"SF Pro",fontWeight:g().Ue.semibold,fontSize:g().JB.UIRegular.mobile,paddingTop:8},children:(0,L.jsx)(u()._H,{id:"asanaImport.importsTab.importComplete.subtitle",defaultMessage:"Imported {projectCount} projects into Notion",values:{projectCount:o}})}),(0,L.jsx)("div",{style:{marginTop:20},children:e.result.map((e=>(0,L.jsx)(U,{importStatus:e},e.asanaTeamId)))})]})};function U(e){let{importStatus:t}=e;const o=(0,r().Fg)(),s=(0,n().VK)((()=>S().default.state.currentSpaceStore),[]),l=(0,n().VK)((()=>j().default.state.teamsAndProjects),[]),m=(0,n().VK)((()=>S().default.state.currentSpaceViewStore),[]),f=(0,n().VK)((()=>{if(!m)return;const e=m.getTeamsStores().map((e=>({id:e.id,name:e.getName(),icon:(0,L.jsx)(P().p,{disabled:!0,store:e})})));return s?(e||[]).concat({id:m.id,name:"Private",icon:(0,L.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:18,height:18,borderRadius:"0.25em",backgroundColor:w().FN.light.gray[75]},children:(0,C().Q)({color:o.mediumIconColor,width:12.5,height:12.5})})}):e}),[m,s,o]),{notionTeamspaceName:h,notionTeamspaceIcon:y}=(0,a.useMemo)((()=>{const e=null==f?void 0:f.find((e=>e.id===t.notionTeamSpaceId));return e?{notionTeamspaceName:e.name,notionTeamspaceIcon:e.icon}:{notionTeamspaceName:void 0,notionTeamspaceIcon:void 0}}),[f,t]),x=(0,a.useMemo)((()=>{const e=l.find((e=>e.gid===t.asanaTeamId));return null==e?void 0:e.name}),[l,t]);return(0,L.jsx)(F().gq,{style:{marginTop:16},children:(0,L.jsx)(B().Z,{tableStyle:{borderTop:0,gap:10},cellStyle:{verticalAlign:"middle"},columns:[{key:"team",header:(0,L.jsx)(F().gq,{children:(0,L.jsx)(F().gq,{alignItems:"center",gap:2,children:(0,L.jsx)(Z().Z,{isSmall:!0,style:{width:280,textOverflow:"ellipsis",font:"SF Pro",fontWeight:g().Ue.regular,fontSize:g().JB.UIRegular.desktop},children:(0,L.jsx)(u()._H,{id:"asanaImport.importsTab.importComplete.importFrom",defaultMessage:"From {asanaTeamName} in Asana",values:{asanaTeamName:x}})})})}),style:{width:300}},{key:"seperator",header:(0,L.jsx)(F().gq,{style:{alignItems:"center",gap:4},children:(0,L.jsx)(Z().Z,{isMultiline:!0,style:{fontWeight:g().Ue.regular,font:"SF Pro",fontSize:g().JB.UIRegular.desktop,color:"rgba(172, 171, 169, 1)"},children:"â†’"})}),style:{width:13,height:18,paddingRight:20}},{key:"importedInto",header:(0,L.jsxs)(F().gq,{style:{alignItems:"center",gap:4},children:[y,(0,L.jsx)(Z().Z,{style:{font:"SF Pro",fontWeight:g().Ue.medium,fontSize:g().JB.UIRegular.desktop},children:h}),(0,L.jsx)(Z().Z,{style:{fontWeight:g().Ue.regular,fontSize:g().JB.UIRegular.desktop,font:"SF Pro Text",color:"rgba(172, 171, 169, 1)"},children:"/"}),(0,L.jsx)(L.Fragment,{children:(0,V().D)({width:"16px",height:"16px",color:o.mediumIconColor})}),(0,L.jsx)(Z().Z,{style:{font:"SF Pro",fontWeight:g().Ue.medium,fontSize:g().JB.UIRegular.desktop},children:(0,L.jsx)(u()._H,{id:"asanaImport.importsTab.importComplete.projectLabel",defaultMessage:"Projects"})})]}),style:{width:300}}],rows:t.numberOfTasksPerProject.map((e=>({key:e.projectId,columns:[(0,L.jsxs)(F().gq,{gap:8,alignItems:"start",flexDirection:"column",children:[(0,L.jsx)(Z().Z,{isMultiline:!0,style:{wordWrap:"break-word",width:300,fontWeight:g().Ue.medium,font:"SF Pro",fontSize:g().JB.UIRegular.desktop},children:e.name}),(0,L.jsxs)(Z().Z,{isSmall:!0,children:[e.numberOfTasks,(0,L.jsx)(u()._H,{id:"asanaImport.importsTab.importConfir,.tasksHelperText",defaultMessage:" tasks"})]},`${e.projectId}-tasks-count`)]},e.projectId),(0,L.jsx)(F().gq,{},`${e.projectId}-seperator`),(0,L.jsx)(F().gq,{children:(0,L.jsxs)("div",{children:[(0,L.jsxs)("div",{style:{display:"flex",gap:4,paddingBottom:6},children:[(0,V().D)({width:20,height:20,color:o.mediumIconColor}),(0,L.jsx)(O().Z,{href:e.notionProjectId?(0,c().Z)({pageId:e.notionProjectId,pageModel:(0,d().lA)({table:p().iU,id:e.notionProjectId}),baseUrl:v().default.domainBaseUrl,pageVisitSource:i().tY.Import}):void 0,style:{wordWrap:"break-word",fontWeight:g().Ue.medium,font:"SF Pro",fontSize:g().JB.UIRegular.desktop,textDecorationLine:"underline",textDecorationColor:"rgba(227, 226, 224, 1)"},disableHover:!0,children:e.name})]}),(0,L.jsxs)("div",{style:{display:"flex",gap:10},children:[(0,q().v)({width:14,height:14,color:o.mediumIconColor}),(0,L.jsxs)(O().Z,{href:e.notionProjectId?(0,c().Z)({pageId:e.notionProjectId,pageModel:(0,d().lA)({table:p().iU,id:e.notionProjectId}),baseUrl:v().default.domainBaseUrl,pageVisitSource:i().tY.Import}):void 0,style:{color:"rgba(120, 119, 116, 1)",font:"SF Pro",fontSize:g().JB.UISmall.desktop,fontWeight:g().Ue.regular},disableUnderline:!0,disableHover:!0,children:[e.numberOfTasks,(0,L.jsx)(u()._H,{id:"asanaImport.importsTab.importConfir,.tasksHelperText",defaultMessage:" tasks"})]},`${e.projectId}-tasks-count`)]})]})},`${e.projectId}-notionProjects`)]})))})})}o(670560),o(653476);var H=()=>o(352230),N=()=>o(15409),E=()=>o(615634),W=()=>o(419273),z=()=>o(555813),K=()=>o(745740),G=()=>o(827973),Y=()=>o(448419),$=()=>o(715139),Q=()=>o(312578),J=()=>o(198829),X=()=>o(255577),ee=()=>o(92175),te=()=>o(388284),oe=()=>o(819792);const ae=function(){const e=(0,s().O7)(),t=(0,u().YB)(),o=(0,n().VK)((()=>j().default.getState()),[]),{isLoadingProjects:r,workspaces:i,selectedWorkspace:l,teamsAndProjects:c}=o;return(0,a.useEffect)((()=>{l&&f().y2({selectedWorkspace:l,environment:e}).catch((()=>{}))}),[l,e]),(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(Z().Z,{isSmall:!0,style:{paddingTop:4,paddingBottom:4},children:(0,L.jsx)(u()._H,{id:"asanaImport.importsTab.selectData.workspaceChoiceHelperText",defaultMessage:"Only one workspace can be imported at a time."})}),(0,L.jsx)(ne,{onSelectOption:e=>{j().default.setState({...o,selectedProjectsAndTeamspaces:{},selectedWorkspace:e})},options:i.map((e=>({key:e.gid,label:e.name}))),currentOption:l,placeHolder:t.formatMessage({id:"asanaImporter.selectData.selectWorkspacePlaceholder",defaultMessage:"Select a workspace"})}),l?(0,L.jsx)(Z().Z,{style:{fontWeight:g().Ue.semibold,marginTop:18},children:(0,L.jsx)(u()._H,{id:"asanaImport.importsTab.selectData.selectProjects",defaultMessage:"Select projects"})}):(0,L.jsx)(L.Fragment,{}),r?(0,L.jsxs)(F().gq,{style:{gap:8,marginTop:32,alignItems:"center"},children:[(0,L.jsx)(Q().Z,{style:{fontSize:12}}),(0,L.jsx)(Z().Z,{isSmall:!0,style:{color:w().FN.light.gray[400]},children:(0,L.jsx)(u()._H,{id:"asanaImport.importsTab.selectData.loadingProjectsHelperText",defaultMessage:"Loading projects in the workspace..."})})]}):c.filter((e=>0!==e.projects.length)).map((e=>(0,L.jsx)(se,{team:e,selectedWorkspace:l},`${e.gid}-table`)))]})};function se(e){var t;let{team:o,selectedWorkspace:i}=e;const c=(0,s().O7)(),d=(0,u().YB)(),p=(0,r().Fg)(),[m,h]=(0,a.useState)(!1),[v,y]=(0,a.useState)(!1),[x,I]=(0,a.useState)(),b=(0,n().VK)((()=>j().default.getState()),[]),{importCompletedTasks:T,selectedProjectsAndTeamspaces:R}=b,_=(0,n().VK)((()=>S().default.state.currentSpaceViewStore),[]),V=(0,n().VK)((()=>{const e=null==_?void 0:_.getTeamsStores();return null==e?void 0:e.map((e=>({id:e.id,name:e.getName(),icon:(0,L.jsx)(P().p,{disabled:!0,store:e})})))}),[_]);(0,a.useEffect)((()=>{if(!V||!_)return;if(!R[o.gid]){I("private"),f().B3({teamId:o.gid,spaceId:null==_?void 0:_.id});for(const a of V){var e,t;if((null===(e=a.name)||void 0===e?void 0:e.toLowerCase())===(null===(t=o.name)||void 0===t?void 0:t.toLowerCase())){I(a.id),f().B3({teamId:o.gid,spaceId:a.id});break}}}}),[V,o,_,R]);const q=(0,a.useCallback)((e=>{f().B3({teamId:o.gid,spaceId:e}),I(e)}),[o.gid]),O=(0,a.useCallback)((e=>{if("create"===e)return void z().lo("asana_importer",{onClose:q});let t;if("private"===e){if(null==_||!_.id)return;t=_.id}else t=e;f().B3({teamId:o.gid,spaceId:t}),I(e)}),[null==_?void 0:_.id,o.gid,q]),D=[{key:"private",searchTerm:"private",label:(0,L.jsxs)(F().gq,{alignItems:"center",style:{gap:8},children:[(0,L.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:16,height:16,borderRadius:"0.25em",backgroundColor:w().FN.light.gray[75]},children:(0,C().Q)({color:p.mediumIconColor,width:12.5,height:12.5})}),(0,L.jsx)(Z().Z,{style:{fontWeight:g().Ue.regular},children:(0,L.jsx)(u()._H,{id:"asanaImport.importsTab.selectData.privateSpaceTitle",defaultMessage:"Private"})})]})}];return V&&D.push(...V.map((e=>({key:e.id,searchTerm:e.name,label:(0,L.jsxs)(F().gq,{alignItems:"center",style:{gap:8},children:[e.icon,e.name]})})))),D.push({key:"create",searchTerm:"New teamspace",label:(0,L.jsxs)(F().gq,{alignItems:"center",style:{gap:4},children:[(0,W().f)({color:p.mediumIconColor,width:16,height:16}),(0,L.jsx)(Z().Z,{children:(0,L.jsx)(u()._H,{id:"asanaImport.importsTab.selectData.newTeamspace",defaultMessage:"New teamspace"})})]})}),(0,L.jsxs)(F().gq,{style:{marginLeft:-18},children:[(0,L.jsx)(A().Z,{ariaLabel:"collapse toggle",icon:M().L,onClick:()=>h((e=>!e)),style:{transform:m?"rotate(90deg)":"rotate(180deg)",marginRight:8,marginTop:24,width:10,height:10},hoveredStyle:{background:"transparent"},pressedStyle:{background:"transparent"},iconStyle:{width:10,height:10}}),(0,L.jsx)(B().Z,{tableStyle:{borderTop:0},cellStyle:{verticalAlign:"middle"},columns:[{key:"team",header:(0,L.jsxs)(F().gq,{alignItems:"center",gap:2,children:[(0,L.jsx)(re,{onSelectOption:e=>{var t;j().default.setState({...b,selectedProjectsAndTeamspaces:{...R,[o.gid]:{notionTeamspaceId:null===(t=R[o.gid])||void 0===t?void 0:t.notionTeamspaceId,projects:e}}})},options:[{key:"in_complete",label:"Exclude completed projects"},{key:"all",label:"Select all projects"}],currentOption:(e=>{const t=null===(e=R[o.gid])||void 0===e?void 0:e.projects;return"string"==typeof t?t:null!=t&&t.length?"specific":void 0})()}),(0,L.jsx)(Z().Z,{style:{width:280,textOverflow:"ellipsis"},children:o.name})]}),style:{width:300}},{key:"importInto",header:(0,L.jsxs)(F().gq,{style:{alignItems:"center"},children:[(0,L.jsx)("div",{children:(0,L.jsx)(u()._H,{id:"asanaImport.importsTab.selectData.importInto",defaultMessage:"Import into"})}),(0,L.jsx)("div",{style:{marginRight:16,marginLeft:8},children:(0,k().n)({width:12})}),(0,L.jsxs)(F().gq,{style:{alignItems:"center",gap:8},children:[(0,L.jsx)("img",{src:l().Z.emails.notionLogoBlackSmallPng,height:18}),(0,L.jsx)(ne,{options:D,onSelectOption:O,currentOption:null===(t=D.find((e=>e.key===x)))||void 0===t?void 0:t.key,narrow:!0,allowSearch:!0,placeHolder:d.formatMessage({id:"asanaImport.importsTab.selectData.selectATeamspace",defaultMessage:"Select a teamspace"})})]})]}),style:{width:"50%"}}],rows:function(e){let{collapsed:t}=e;if(t)return[];const a=o.projects.map((e=>({key:e.gid,columns:[(0,L.jsxs)(F().gq,{alignItems:"center",gap:6,style:{marginLeft:20},children:[(0,L.jsx)($().Z,{style:{marginRight:2},onClick:()=>{const t={...R[o.gid]||{projects:[],notionTeamspaceId:void 0}},{notionTeamspaceId:a,projects:s}=t;let n;n="all"===s||"in_complete"===s?[]:s.includes(e.gid)?s.filter((t=>t!==e.gid)):s.concat(e.gid),j().default.setState({...b,selectedProjectsAndTeamspaces:{...R,[o.gid]:{notionTeamspaceId:a,projects:n}}})},checked:(()=>{const t={...R[o.gid]||{projects:[],notionTeamspaceId:void 0}};return"all"===t.projects||"in_complete"===t.projects&&!1===e.completed||t.projects.includes(e.gid)})(),size:14,checkSize:8}),(0,L.jsx)(oe().z,{color:e.color,size:6}),(0,L.jsx)("div",{style:{width:240,wordWrap:"break-word"},children:e.completed?(0,L.jsxs)(Z().Z,{isMultiline:!0,style:{color:p.lightTextColor},children:[e.name,(0,L.jsx)(u()._H,{id:"asanaImport.importsTab.selectData.completedHelperText",defaultMessage:" (Completed)"})]}):(0,L.jsx)(Z().Z,{isMultiline:!0,children:e.name})})]},`${e.gid}-container`),(0,L.jsxs)(Z().Z,{isSmall:!0,children:[T?e.task_counts.num_tasks:e.task_counts.num_incomplete_tasks,(0,L.jsx)(u()._H,{id:"asanaImport.importsTab.selectData.tasksHelperText",defaultMessage:" tasks"})]},`${o.gid}-tasks-count`)]})));return o.nextPage&&a.push({key:"loadMore",columns:[(0,L.jsx)(K().Z,{disabled:v,style:{marginLeft:20,color:w().FN.light.gray[400]},hoveredStyle:{background:"transparent"},pressedStyle:{background:"transparent"},onClick:async()=>{i&&(y(!0),await f().LH({team:o,environment:c}),y(!1))},children:v?(0,L.jsxs)(F().gq,{alignItems:"center",gap:8,children:[(0,L.jsx)(Q().Z,{style:{fontSize:12}}),(0,L.jsx)(u()._H,{id:"asanaImport.importsTab.selectData.loadingMoreProjects",defaultMessage:"Loading more projects..."})]}):(0,L.jsx)(u()._H,{id:"asanaImport.importsTab.selectData.loadMoreProjects",defaultMessage:"Load more projects..."})},`${o.gid}-loadmore`)]}),a}({collapsed:m})})]})}function ne(e){var t;const{onSelectOption:o,options:s,currentOption:n,placeHolder:i,narrow:l,allowSearch:c}=e,d=(0,u().YB)(),[p,m]=(0,a.useState)(""),f=null===(t=s.find((e=>{let{key:t}=e;return t===n})))||void 0===t?void 0:t.label,h=(0,r().yK)((e=>({icon:{width:12,height:12,marginLeft:4,fill:e.lightIconColor}})),[]);return(0,L.jsx)(Y().ZP,{popupType:Y().Z4.Popup,placementToOrigin:Y().pO.Bottom,renderOrigin:e=>(0,L.jsxs)(ee().Z,{...e,style:{paddingTop:l?2:8,paddingBottom:l?2:8,paddingLeft:8,paddingRight:8,opacity:1,width:250,border:`1px solid ${w().FN.light.gray[100]}`,justifyContent:"space-between",marginTop:8,marginBottom:8,background:n?void 0:w().FN.light.gray[75],color:n?void 0:w().FN.light.gray[300]},disabled:!1,children:[(0,L.jsx)(Z().Z,{style:{textOverflow:"ellipsis"},children:f||i}),(0,E().i)(h.icon)]}),render:e=>{const t={menuType:H().o.Popup,width:250,left:50},a=[{key:"asanaImport.dropdown.menuList",render:e=>(0,L.jsx)(te().Z,{...e}),items:(p.trim()?s.filter((e=>{var t;return null===(t=e.searchTerm)||void 0===t?void 0:t.toLowerCase().includes(p.toLowerCase())})):s).map((t=>{let{key:a,label:s}=t;return{key:a,action:()=>{o(a),e.close()},render:e=>(0,L.jsx)(G().Z,{...e,title:s,shouldWrapCaption:!0,right:f===s?(0,L.jsx)("div",{style:{width:14},children:(0,N().e)()}):void 0})}}))}];return(0,L.jsxs)(L.Fragment,{children:[c?(0,L.jsx)("input",{style:{width:"100%",borderRadius:0,backgroundColor:w().FN.light.gray[200],paddingTop:2,paddingBottom:2,paddingLeft:8,paddingRight:8,opacity:1,border:`1px solid ${w().FN.light.gray[100]}`,justifyContent:"space-between",background:w().FN.light.gray[75],fontSize:g().JB.UIRegular.desktop,textOverflow:"ellipses"},placeholder:d.formatMessage({id:"asanaImport.importsTab.selectData.searchTeamspacePlaceholder",defaultMessage:"Search for a teamspace"}),onChange:e=>m(e.target.value),value:p}):(0,L.jsx)(L.Fragment,{}),(0,L.jsx)(J().Z,{...t,children:(0,L.jsx)(X().Z,{type:X().i.Vertical,sections:a,initialFocus:void 0,style:{position:"relative",alignItems:"flex-end"}})})]})}})}function re(e){var t;const{onSelectOption:o,options:s,currentOption:n}=e,r=null===(t=s.find((e=>{let{key:t}=e;return t===n})))||void 0===t?void 0:t.label,i=(0,a.useMemo)((()=>void 0!==n&&"specific"!==n&&("all"===n||"partial")),[n]);return(0,L.jsx)(Y().ZP,{popupType:Y().Z4.Popup,placementToOrigin:Y().pO.Bottom,alignmentToOrigin:Y().vR.Start,renderOrigin:e=>(0,L.jsx)(ee().Z,{...e,style:{padding:0,margin:0,marginRight:4,height:14},hoveredStyle:{},children:(0,L.jsx)($().Z,{checked:i,disabled:!0,size:14,checkSize:8})}),render:e=>{const t={menuType:H().o.Popup,width:250,left:50},a=[{key:"asanaImport.checkboxDropdown.menuList",render:e=>(0,L.jsx)(te().Z,{...e}),items:s.map((t=>{let{key:a,label:s}=t;return{key:a,action:()=>{o(a),e.close()},render:e=>(0,L.jsx)(G().Z,{...e,title:s,shouldWrapCaption:!0,right:r===s?(0,L.jsx)("div",{style:{width:14},children:(0,N().e)()}):void 0})}}))}];return(0,L.jsx)(J().Z,{...t,children:(0,L.jsx)(X().Z,{type:X().i.Vertical,sections:a,initialFocus:void 0,style:{position:"relative",alignItems:"flex-end"}})})}})}var ie=()=>o(661297),le=()=>o(906651),ce=()=>o(471645),de=()=>o(654133),pe=()=>o(360964),ue=()=>o(5234),me=()=>o(766933),ge=()=>o(961033),fe=()=>o(491629);const he=(0,u().vU)({selectProperties:{id:"asanaImport.selectProperties.subtitleForSelectPropertiesTab",defaultMessage:"By default, all Asana task properties will be imported. You can customize this for each teamspace below"},keepAllPropertiesDescription:{id:"asanaImport.selectProperties.keepAllPropertiesDescription",defaultMessage:"Add {count} properties from Asana into your Notion tasks"},customPropertiesLabel:{id:"asanaImport.selectProperties.customPropertiesLabel",defaultMessage:"Custom Properties"},defaultPropertiesLabel:{id:"asanaImport.selectProperties.defaultPropertiesLabel",defaultMessage:"Default Properties"},privateSpaceLabel:{id:"asanaImport.importsTab.chooseWorkspace.privateSpaceTitle",defaultMessage:"Private"}});function ve(e){let{propertiesLoadStatus:t,currentTeamSpaceId:o}=e;const s=(0,u().YB)(),{selectionMode:r,properties:i}=(0,n().VK)((()=>{if("resolved"!==t||!o)return{selectionMode:"all",properties:[]};const e=j().default.state.useSectionAsStatus,{selectionMode:a,properties:s}=j().default.state.selectedTeamspacesAndProperties[o],n=s.slice(),r=n.find((e=>"Completed?"===e.asanaFieldName)),i=n.find((e=>"Section"===e.asanaFieldName));return r&&i&&(e?(r.notionFieldType="checkbox",i.notionFieldType="status"):(r.notionFieldType="status",i.notionFieldType="select")),{selectionMode:a,properties:n}}),[o,t]),l=(0,a.useCallback)((e=>{const t=j().default.state;j().default.setState({...t,selectedTeamspacesAndProperties:{...t.selectedTeamspacesAndProperties,[o]:{...t.selectedTeamspacesAndProperties[o],properties:e}}})}),[o]),c=(0,a.useCallback)((e=>{j().default.setState({...j().default.state,selectedTeamspacesAndProperties:{...j().default.state.selectedTeamspacesAndProperties,[o]:{selectionMode:e,properties:i.map((t=>({...t,isSelected:t.isDefault||"all"===e})))}}})}),[o,i]),d=(0,a.useCallback)((e=>{const t=i.map((t=>t.asanaFieldName===e.asanaFieldName?{...t,isSelected:!t.isSelected}:t));l(t)}),[i,l]),p=(0,a.useCallback)((e=>{let t=!0,o=!0;const a=i.filter((t=>t.isDefault===("default"===e)));return a.length>0&&(a.forEach((e=>{e.isSelected?o=!1:t=!1})),!!t||!o&&"partial")}),[i]),m=(0,a.useCallback)((e=>{const t=!0===p(e),o=i.map((e=>({...e,isSelected:e.isDefault||!t})));l(o)}),[p,i,l]),[g,f]=(0,a.useState)(!1),[h,v]=(0,a.useState)(!0);return(0,a.useEffect)((()=>{"resolved"===t&&0===(null==i?void 0:i.filter((e=>!e.isDefault)).length)&&f(!0)}),[t,i]),(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(F().gq,{gap:8,style:{marginTop:10,width:"100%"},children:[(0,L.jsx)(ge().n,{name:"select-all-properties",selectType:"radio",label:"Select all properties",disabled:"pending"===t,value:"all",description:s.formatMessage(he.keepAllPropertiesDescription,{count:Object.keys(i).length||"all"}),isSelected:"all"===r,style:{flexGrow:1,maxWidth:"50%"},onChange:()=>c("all")}),(0,L.jsx)(ge().n,{name:"customise-properties",selectType:"radio",disabled:"pending"===t,label:"Customize properties",value:"custom",description:"Choose which properties you want to keep",isSelected:"custom"===r,style:{flexGrow:1,maxWidth:"50%"},onChange:()=>c("custom")})]}),(0,L.jsx)("div",{style:{marginTop:8},children:(0,L.jsx)(fe().Z,{title:(0,L.jsx)(F().gq,{gap:4,children:(0,L.jsx)(Z().Z,{children:(0,L.jsx)(u()._H,{...he.defaultPropertiesLabel})})}),rows:i.filter((e=>e.isDefault)),loading:"pending"===t,getIdentifier:e=>e.asanaFieldName,onToggleGroup:()=>f((e=>!e)),collapsed:!g,onSelectGroup:()=>{},onSelectRow:()=>{},groupCheckedState:!0,rowCheckedState:e=>e.isSelected||!1,renderRow:e=>(0,L.jsx)(ye,{property:e}),rowsContainerStyles:{display:"grid",gap:6},disabled:!0,rowStyles:{marginTop:4,height:24}})}),(0,L.jsx)("div",{style:{marginTop:8},children:(null==i?void 0:i.filter((e=>!e.isDefault)).length)>0&&(0,L.jsx)(fe().Z,{title:(0,L.jsx)(F().gq,{gap:4,children:(0,L.jsx)(Z().Z,{children:(0,L.jsx)(u()._H,{...he.customPropertiesLabel})})}),rows:i.filter((e=>!e.isDefault)),loading:"pending"===t,disabled:"all"===r,getIdentifier:e=>e.asanaFieldName,onToggleGroup:()=>v((e=>!e)),collapsed:!h,onSelectGroup:()=>m("custom"),onSelectRow:e=>d(e),groupCheckedState:p("custom"),rowCheckedState:e=>e.isSelected||!1,renderRow:e=>(0,L.jsx)(ye,{property:e}),rowsContainerStyles:{display:"grid",gap:6},rowStyles:{marginTop:4,height:24}})})]})}function ye(e){let{property:t,style:o}=e;const s=xe();return(0,L.jsxs)(a.Fragment,{children:[(0,L.jsx)(F().gq,{gap:12,alignItems:"center",style:{marginLeft:2,width:"250px",padding:"6px 0px 6px 0px",...o},children:(0,L.jsx)("span",{style:s.propertyLabel,children:t.asanaFieldName})}),(0,L.jsxs)(F().gq,{style:{padding:"6px 6px"},gap:8,alignItems:"center",children:[(0,L.jsx)(Ie,{}),me().wG[t.notionFieldType]({width:14,fill:w().ZP.uiGray}),(0,L.jsx)("span",{style:s.propertyLabel,children:t.notionFieldType.split("_").map(ue().Z).join(" ")})]})]},t.asanaFieldName)}function xe(){return(0,r().yK)((e=>({teamSpaceLabel:{width:24,height:24,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4},header:{font:"SF Pro",fontWeight:g().Ue.regular,fontSize:g().JB.UIRegular.desktop,lineHeight:"19.6px",whiteSpace:"normal",wordWrap:"break-word",paddingTop:4,paddingBottom:20},propertyLabel:{fontSize:g().JB.UIRegular.desktop,color:e.regularTextColor,lineHeight:"19.6px"},lockedIcon:{color:e.mediumIconColor,width:12.5,height:12.5}})),[])}function Ie(e){let{styles:t}=e;return(0,k().n)({width:10,marginTop:2,marginRight:12,fill:w().ZP.uiLightGray,...t})}const Se=function(){var e;const t=(0,s().O7)(),r=(0,u().YB)(),i=xe(),[l,c]=(0,a.useState)(0),[{status:d}]=(0,o(801812).r5)((async()=>f().ZV(t,j().default.state.selectedProjectsAndTeamspaces)),[t]),p=(0,n().VK)((()=>{var e,t;const a=(0,o(513670).jj)(Object.values(j().default.state.selectedProjectsAndTeamspaces).filter((e=>e.projects.length>0)).map((e=>e.notionTeamspaceId)).filter(m().$K)),s=null===(e=S().default.state.currentSpaceViewStore)||void 0===e?void 0:e.getTeamsStores(),n=null===(t=S().default.state.currentSpaceViewStore)||void 0===t?void 0:t.id;return a.map((e=>{const t=null==s?void 0:s.find((t=>t.id===e));return t||e!==n?{teamSpaceId:e,name:null==t?void 0:t.getName(),icon:(0,L.jsx)(P().p,{disabled:!0,store:t})}:{teamSpaceId:n,icon:(0,C().Q)(i.lockedIcon),name:r.formatMessage(he.privateSpaceLabel)}}))}),[i.lockedIcon,r]);return(0,L.jsxs)("div",{style:{paddingBottom:20},children:[(0,L.jsx)(Z().Z,{style:i.header,children:(0,L.jsx)(u()._H,{...he.selectProperties})}),(0,L.jsx)(o(539245).Z,{style:{padding:0},tabs:p.map((e=>(0,L.jsxs)(F().gq,{alignItems:"center",gap:8,children:[e.icon,e.name]},e.name))),selectedIndex:l,onChange:c}),(0,L.jsx)(ve,{propertiesLoadStatus:d,currentTeamSpaceId:null===(e=p[l])||void 0===e?void 0:e.teamSpaceId})]})};const je=(0,u().vU)({failed:{defaultMessage:"Some problems occurred while importing data from your Asana workspace.",id:"Asanaimport.importingData.failed.problemsOccured"},chooseWorkspaceTabLabel:{id:"asanaImport.asanaImportsTab.stepIndicator.chooseWorkspaceTab",defaultMessage:"Choose what to import"},importTabLabel:{id:"asanaImport.asanaImportsTab.stepIndicator.importTab",defaultMessage:"Import"},customizeTabLabel:{id:"asanaImport.asanaImportsTab.stepIndicator.selectPropertiesTab",defaultMessage:"Customize"},chooseWorkspaceNextButtonLabel:{id:"asanaImportsTab.chooseWorkspace.nextButtonText",defaultMessage:"Next"},chooseWorkspaceBackButtonLabel:{id:"asanaImport.chooseWorkspace.backButtonText",defaultMessage:"Back"},selectPropertiesBackButtonText:{id:"asanaImportsTab.selectProperties.backButtonText",defaultMessage:"Back"},startImportButtonText:{id:"asanaImportsTab.selectProperties.nextButtonText",defaultMessage:"Import"}});function be(e){switch(e){case"selectData":return(0,L.jsx)(Z().Z,{style:{paddingBottom:8,fontSize:18,fontWeight:g().Ue.semibold,width:"100%"},children:(0,L.jsx)(u()._H,{id:"asanaImport.asanaImportsTab.selectData.tabHeader",defaultMessage:"Select Asana workspace"})});case"chooseWorkspace":return(0,L.jsx)(Z().Z,{style:{font:"SF Pro",fontWeight:"590",fontSize:"17px",marginTop:"12px",lineHeight:"22px"},children:(0,L.jsx)(u()._H,{id:"asanaImport.asanaImportsTab.chooseWorkspace.tabTitle",defaultMessage:"Choose Asana workspace"})});case"selectProperties":return(0,L.jsx)(Z().Z,{style:{font:"SF Pro",fontWeight:"590",fontSize:"17px",marginTop:"12px",lineHeight:"22px"},children:(0,L.jsx)(u()._H,{id:"asanaImport.asanaImportsTab.selectProperties.tabTitle",defaultMessage:"Select properties"})});default:return(0,L.jsx)(L.Fragment,{})}}function we(){let{useV2Styles:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{useV2Styles:!1};return(0,r().yK)((e=>({stepIndicatorLabel:{font:"SF Pro",fontWeight:g().Ue.medium,fontSize:g().JB.UIRegular.desktop},stepIndicatorContainer:{height:32,borderRadius:6,padding:"6px"},verificationCheck:{width:14,height:14,padding:"0.5px, 0px, 0px, 0px",color:e.lightIconColor},closeButton:{zIndex:10,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",background:e.buttonHoveredBackground,width:20,height:20,padding:4},closeButtonHover:{background:e.buttonPressedBackground},closeButtonIcon:{width:16,fill:e.mediumTextColor},helpCenterButtonStytles:{display:"flex",alignItems:"baseline",justifyContent:"center",alignContent:"center",fontSize:g().JB.UIRegular.desktop,padding:"6px, 0px, 0px, 0px",borderRadius:6,color:e.mediumTextColor,marginTop:2,width:298,height:28,gap:"4px",lineHeight:"18px"},externalLinkIcon:{width:"16px",height:"16px",padding:"0.5px, 0px, 0px, 0px",gap:"8px"},tabNotStarted:{color:e.lightTextColor},tabInProgress:{background:e.buttonHoveredBackground,color:e.regularTextColor},tabDone:{color:e.mediumTextColor}})),[])}const ke=[["chooseWorkspace",je.chooseWorkspaceTabLabel],["selectProperties",je.customizeTabLabel],["importingData",je.importTabLabel],["importComplete",null]];function Te(e){let{tab:t}=e;const o=we(),s=(0,a.useCallback)((e=>{const o=ke.findIndex((e=>{let[o,a]=e;return o===t})),a=ke.findIndex((t=>{let[o,a]=t;return o===e}));return(0,m().$K)(o)?a<o?"done":a===o?"in-progress":"not-started":"not-started"}),[t]),n=(0,a.useCallback)((e=>{switch(e){case"done":return o.tabDone;case"in-progress":return o.tabInProgress;default:return o.tabNotStarted}}),[o]);return(0,L.jsx)(F().gq,{gap:12,alignContent:"center",alignItems:"center",style:{marginTop:10,marginBottom:10},children:ke.map((e=>{let[t,a]=e;const r=s(t);return a?(0,L.jsxs)(F().gq,{alignContent:"center",alignItems:"center",justifyContent:"center",style:{...o.stepIndicatorContainer,...n(r)},gap:8,children:["done"===r&&(0,x().X)(o.verificationCheck),(0,L.jsx)(Z().Z,{style:{...o.stepIndicatorLabel},children:(0,L.jsx)(u()._H,{...a})})]},t):null}))})}function Ce(){return(0,L.jsx)(pe().Z,{buttonStyle:{height:28},title:(0,L.jsx)(u()._H,{id:"asanaImportsTab.confirm.helpCenter",defaultMessage:"Learn more about importing from Asana"}),href:(0,y().UY)("guides.importAsana"),analyticsFrom:"import"})}function Me(e){let{left:t,next:o,back:a,children:s}=e;return(0,L.jsxs)(F().gq,{justifyContent:"space-between",alignItems:"center",children:[t,(0,L.jsxs)(F().gq,{alignItems:"center",gap:12,children:[s,(0,L.jsxs)("div",{style:{gap:2},children:[(0,L.jsx)(de().Z,{placement:I().Placement.Top,alignment:I().Alignment.End,render:e=>(0,L.jsx)(ie().Z,{style:{border:0},disabled:a.disabled,onClick:a.onClick,...e,children:a.message}),disableTooltip:!a.renderTooltip,renderTooltip:a.renderTooltip||(()=>(0,L.jsx)(L.Fragment,{}))}),(0,L.jsx)(de().Z,{placement:I().Placement.Top,alignment:I().Alignment.End,render:e=>(0,L.jsx)(le().Z,{style:{marginLeft:16},disabled:o.disabled,onClick:o.onClick,...e,children:o.message}),disableTooltip:!o.renderTooltip,renderTooltip:o.renderTooltip||(()=>(0,L.jsx)(L.Fragment,{}))})]})]})]})}const Pe=function(e){let{tab:t,fetchActiveImportTasks:r}=e;const m=o(527278).Z.getIntl(),g=(0,s().O7)(),y=(0,n().VK)((()=>S().default.state.currentSpaceStore),[]),x=(0,n().VK)((()=>S().default.state.currentSpaceViewStore),[]),I=(0,n().VK)((()=>o(700696).default.state.teams),[]),w=(0,n().Kw)(j().default),k=(0,o(466970).E)("improved_asana_importer_screens"),T=(0,n().Kw)(o(623521).Z).flowId||o(956057).Il(),{importCompletedTasks:C,useSectionAsStatus:M,loggerPageId:P,selectedProjectsAndTeamspaces:A,selectedWorkspace:B,templateCreationInProgress:_,result:V,workspaces:q}=w,O=(0,a.useCallback)((e=>{switch(e){case"selectProperties":return!0;case"chooseWorkspace":const e=Object.values(A);return e.length&&!e.every((e=>0===e.projects.length&&void 0===e.notionTeamspaceId))&&!e.some((e=>0!==e.projects.length&&!e.notionTeamspaceId))&&!e.some((e=>e.notionTeamspaceId&&0===e.projects.length));case"selectData":return Object.values(A).some((e=>0!==e.projects.length));default:return!1}}),[A]),U=we();let H=t;return k&&("selectData"===t?H="chooseWorkspace":"confirm"===t&&(H="importComplete")),(0,L.jsxs)(o(504117).ZP,{controlRow:(e=>"selectData"===e?(0,L.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,L.jsx)(ie().Z,{style:{border:0},disabled:!q.length,onClick:()=>{r(),j().default.resetImport()},children:(0,L.jsx)(u()._H,{id:"asanaImport.selectData.backButtonText",defaultMessage:"Back"})}),(0,L.jsxs)(F().gq,{alignItems:"center",gap:8,children:[B&&(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(ce().Z,{on:C,onClick:()=>j().default.setState({...w,importCompletedTasks:!C})}),(0,L.jsx)(Z().Z,{children:(0,L.jsx)(u()._H,{id:"asanaImportsTab.selectData.importCompletedTasks",defaultMessage:"Import completed tasks"})})]}),(0,L.jsx)("div",{style:{gap:2},children:(0,L.jsx)(le().Z,{style:{marginLeft:16},disabled:!O(e),onClick:()=>{y&&x&&f().T_({environment:g,currentSpaceViewStore:x,spaceStore:y,teamsStores:I,flowId:T}).catch((()=>{}))},children:_?(0,L.jsxs)(F().gq,{alignItems:"center",gap:2,children:[(0,L.jsx)(Q().Z,{isWhite:!0}),(0,L.jsx)(u()._H,{id:"asanaImportsTab.selectData.creatingTemplates",defaultMessage:"Creating templates"})]}):(0,L.jsx)(u()._H,{id:"asanaImportsTab.selectData.nextButtonText",defaultMessage:"Import"})})})]})]}):"chooseWorkspace"===e?(0,L.jsx)(Me,{left:(0,L.jsx)(Ce,{}),next:{disabled:!O(e),onClick:f().Np,message:m.formatMessage(je.chooseWorkspaceNextButtonLabel),renderTooltip:O(e)?void 0:()=>(0,L.jsx)(u()._H,{id:"asanaImportsTab.selectData.ImportConfirmationTooltip",defaultMessage:"Please select projects and a teamspace to import into"})},back:{disabled:!1,onClick:()=>{r(),j().default.resetImport()},message:m.formatMessage(je.chooseWorkspaceBackButtonLabel)},children:B&&(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(ce().Z,{on:C,onClick:()=>j().default.setState({...w,importCompletedTasks:!C})}),(0,L.jsx)(Z().Z,{children:(0,L.jsx)(u()._H,{id:"asanaImportsTab.chooseWorkspace.chooseImportCompletedTasks",defaultMessage:"Import completed tasks"})})]})}):"selectProperties"===e?(0,L.jsx)(Me,{left:(0,L.jsx)(Ce,{}),next:{disabled:!O(e),onClick:()=>{y&&x&&f().T_({environment:g,currentSpaceViewStore:x,navigateBeforeTemplateCreation:!0,spaceStore:y,teamsStores:I,flowId:T}).catch((()=>{}))},message:m.formatMessage(je.startImportButtonText)},back:{disabled:!1,onClick:()=>{j().default.setState({...w,currentTab:"chooseWorkspace"})},message:m.formatMessage(je.selectPropertiesBackButtonText)},children:(0,L.jsx)(de().Z,{textWrap:!0,renderTooltip:e=>(0,L.jsx)(u()._H,{...e,id:"asanaImportsTab.selectProperties.selectPropertiesTooltip",defaultMessage:"Asana completed field is imported as status in Notion. Switch to importing sections as status and completed as checkboxes.",description:"Tooltip explaining the switcher to map completion to status."}),render:e=>(0,L.jsxs)("div",{...e,style:{display:"flex",gap:8},children:[(0,L.jsx)(ce().Z,{on:M,onClick:()=>j().default.setState({...w,useSectionAsStatus:!M})}),(0,L.jsx)(Z().Z,{children:(0,L.jsx)(u()._H,{id:"asanaImportsTab.selectProperties.selectPropertiesStatusMapping",defaultMessage:"Import Section as Status"})})]})})}):"importingData"===e?(0,L.jsxs)("div",{style:{display:"flex",justifyContent:k?"space-between":"right"},children:[k?(0,L.jsx)(Ce,{}):(0,L.jsx)(L.Fragment,{}),(0,L.jsx)(ie().Z,{disabled:!q.length||k&&_,onClick:()=>{r(),j().default.resetImport()},children:(0,L.jsx)(u()._H,{id:"asanaImportsTab.importingData.closeButtonText",defaultMessage:"Close"})})]}):"confirm"===e?(0,L.jsx)("div",{style:{display:"flex",justifyContent:"right"},children:(0,L.jsx)(le().Z,{onClick:()=>{P&&h().c4({url:(0,c().Z)({pageId:P,pageModel:(0,d().lA)({table:p().iU,id:P}),baseUrl:v().default.domainBaseUrl,pageVisitSource:i().tY.Import}),environment:g}),j().default.resetImport(),b().default.reset()},children:(0,L.jsx)(u()._H,{id:"asanaImportsTab.confirm.doneText",defaultMessage:"Done"})})}):"failure"===e?(0,L.jsx)("div",{style:{display:"flex",justifyContent:"right"},children:(0,L.jsx)(ie().Z,{disabled:!q.length,onClick:()=>{r(),j().default.resetImport()},children:(0,L.jsx)(u()._H,{id:"asanaImportsTab.importingData.closeButtonText",defaultMessage:"Close"})})}):"importComplete"===e?(0,L.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",height:48,paddingTop:35,paddingBottom:28,border:"1px, 0px, 0px, 0px"},children:[(0,L.jsx)(Ce,{}),(0,L.jsx)(le().Z,{style:{width:"181px",height:"32px",padding:"0px, 0px, 0px, 8px",borderRadius:"4px",gap:"4px"},onClick:()=>{if(null!=V&&V.length&&P){const e=V.find((e=>void 0!==e.projectCollectionPageId));h().c4({url:(0,c().Z)({pageId:(null==e?void 0:e.projectCollectionPageId)||P,pageModel:(0,d().lA)({table:p().iU,id:(null==e?void 0:e.projectCollectionPageId)||P}),baseUrl:v().default.domainBaseUrl,pageVisitSource:i().tY.Import}),environment:g})}j().default.resetImport(),b().default.reset()},children:(0,L.jsx)(u()._H,{id:"asanaImportsTab.confirm.viewImportedProjects",defaultMessage:"View imported projects"})})]}):void 0)(H),controlRowPaddingTopBottom:"confirm"===t&&k?0:k?10:20,removeBoxShadow:"confirm"===t&&k,contentPaddingLeftRight:k?25:void 0,controlRowPaddingLeftRight:k?15:void 0,getPaddingTopBottom:k?()=>2:void 0,children:[(0,L.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[k&&(0,L.jsx)(Te,{tab:H}),(0,L.jsx)("div",{style:{position:"absolute",top:12,right:12},children:(0,L.jsx)(K().Z,{onClick:()=>{r(),j().default.resetImport()},style:U.closeButton,hoveredStyle:U.closeButtonHover,children:(0,o(688049).D)(U.closeButtonIcon)})})]}),be(H),(e=>"selectData"===e?(0,L.jsx)(ae,{}):"importingData"===e?(0,L.jsx)(o(243818).Z,{assetSrc:l().Z.images.import.asanaPng}):"confirm"===e?(0,L.jsx)(R,{}):"failure"===e?(0,L.jsx)(o(996185).Z,{assetSrc:l().Z.images.import.asanaPng,loggerPageId:P,failedMessage:m.formatMessage(je.failed)}):"chooseWorkspace"===e?(0,L.jsx)(o(866747).ZP,{}):"selectProperties"===e?(0,L.jsx)(Se,{}):"importComplete"===e?(0,L.jsx)(D,{}):void 0)(H)]})}},667413:(e,t,o)=>{o.d(t,{Z:()=>uo});o(241792);var a=o(667294),s=()=>o(219727),n=()=>o(142735),r=()=>o(846550),i=()=>o(714230),l=()=>o(801812),c=()=>o(956057),d=()=>o(840156),p=()=>o(788860),u=()=>o(54512),m=()=>o(286310),g=()=>o(998484),f=()=>o(308186),h=()=>o(263184);class v extends h().default{getInitialState(){return{}}}const y=new v;var x=()=>o(824462),I=()=>o(528918);async function S(e){const{environment:t,spaceId:o,requestStore:a}=e;if(!t.currentUser.id)return f().PV({message:"Invalid details"}),void I().x();y.setState({...y.state,[o]:{...y.state[o],showLoader:!0}});const s=await x().callApi({eventName:"getConfluenceSpaces",environment:t,data:{spaceId:o}});if(await(null==a?void 0:a.refresh()),y.setState({...y.state,[o]:{...y.state[o],showLoader:!1}}),"failed"!==s.type)return y.setState({...y.state,[o]:{...y.state[o],spacesResult:s.data}}),s.data;console.error(s.error),f().x2(s),I().x()}var j=()=>o(585558),b=()=>o(684715),w=()=>o(651275),k=()=>o(306558),T=()=>o(594546),C=()=>o(726046),M=()=>o(849668),P=()=>o(667009),A=()=>o(472719),Z=()=>o(148976),F=()=>o(352230),B=()=>o(458121),L=()=>o(189629),R=()=>o(749826);var _=()=>o(148126),V=()=>o(345918),q=()=>o(314379),O=()=>o(653457),D=()=>o(710125),U=()=>o(998901),H=()=>o(199114),N=()=>o(804217),E=()=>o(185717),W=()=>o(145607),z=()=>o(623521),K=()=>o(479694),G=()=>o(308939),Y=()=>o(698850),$=()=>o(853648),Q=()=>o(838266),J=()=>o(405177),X=()=>o(568017),ee=()=>o(876822),te=()=>o(529048);const oe=new(te().Z);var ae=()=>o(855238),se=()=>o(448419),ne=()=>o(1910),re=()=>o(108714),ie=()=>o(312578),le=()=>o(198829),ce=()=>o(255577),de=()=>o(967092),pe=()=>o(388284),ue=()=>o(654133),me=()=>o(67961),ge=()=>o(707513),fe=()=>o(154186),he=o(785893);const ve={fontSize:16,fontWeight:ge().Ue.medium},ye=28,xe={flexShrink:0,width:ye,height:ye,borderRadius:4,marginRight:10,background:X().O9.white};const Ie=function(e){let{title:t,actionButton:a,onClick:s,tooltipEvents:n,icon:i,logo:l,caption:c,shouldWrapCaption:d,showSyncBadge:p,showNewBadge:u,showBetaBadge:m}=e;const g=(0,r().Fg)();return(0,he.jsxs)(fe().Z,{...n,onClick:s,style:Se(g),children:[(0,he.jsx)(we,{icon:i,logo:l}),(0,he.jsxs)("div",{style:{minWidth:0,width:"100%"},children:[(0,he.jsxs)("div",{style:{display:"flex"},children:[(0,he.jsx)("div",{style:ve,children:t}),p&&(0,he.jsx)(o(452210).Z,{}),u&&(0,he.jsx)(o(663631).Z,{}),m&&(0,he.jsx)(o(447832).Z,{}),(0,he.jsx)("div",{style:{marginLeft:"auto"},children:a})]}),(0,he.jsx)(ke,{caption:c,shouldWrapCaption:d})]})]})};function Se(e){return{display:"flex",alignItems:"center",padding:10,paddingRight:8,borderRadius:4,marginBottom:12,cursor:"pointer",boxShadow:e.lightBoxShadow,transition:"background 200ms ease-out",background:e.importOptionsButtonBackground}}function je(e){return{display:"flex",alignItems:"center",justifyContent:"center",width:ye,height:ye,borderRadius:4,marginRight:8,color:e.mediumTextColor,background:e.importOptionsIconWrapBackground}}function be(e,t){return{fontSize:12,color:e.mediumTextColor,wordBreak:"keep-all",...!t&&{...ge().Yu}}}function we(e){let{icon:t,logo:o}=e;const a=(0,r().Fg)();return o?(0,he.jsx)("img",{style:xe,src:o}):t?(0,he.jsx)("div",{style:je(a),children:t({flexShrink:0,width:ye,height:ye})}):null}function ke(e){let{caption:t,shouldWrapCaption:o}=e;const a=(0,r().Fg)();return t?(0,he.jsx)("div",{style:be(a,o),children:t}):null}const Te={whiteSpace:"pre-wrap"};function Ce(e,t){return(0,he.jsx)(ue().Z,{renderTooltip:()=>(0,he.jsx)(me().Z,{style:{color:X().ZP.white},isSmall:!0,children:(0,he.jsx)(p()._H,{id:"AsanaImportOption.helpButton.tooltip",defaultMessage:"Learn about how to import"})}),render:o=>(0,he.jsx)(re().Z,{...o,external:!0,href:e,style:{marginLeft:"auto"},children:(0,he.jsx)(ne().Z,{icon:O().m,ariaLabel:t.formatMessage({id:"AsanaImportOption.helpButton.ariaLabel",defaultMessage:"Learn about how to asana import help icon"})})})})}const Me=function(){const e=(0,n().Kw)(H().default),{account:t,isLoadingAsanaWorkspaces:o,isAccountDelinkingInProgress:r,isAccountLinkingInProgress:l}=e,d=(0,s().O7)(),u=(0,p().YB)(),{device:f}=d,h=(0,n().Kw)(z().Z),v=h.flowId||c().Il();(0,a.useEffect)((()=>{h.flowId||z().Z.setState({flowId:v})}),[v,h]);const y={title:u.formatMessage({id:"asanaImportOption.asanaButton.title",defaultMessage:"Asana"}),logo:i().Z.images.import.asanaPng,caption:l?u.formatMessage({id:"asanaImportOption.asanaButton.accountLinkingInProgress",defaultMessage:"Authenticating..."}):r?u.formatMessage({id:"asanaImportOption.asanaButton.accountDelinkingInProgress",defaultMessage:"Removing account..."}):t,actionButton:t?(x=[{name:u.formatMessage({id:"asanaImportOption.actionsMenu.connectAnotherAccount",defaultMessage:"Connect another account"}),captionText:u.formatMessage({id:"asanaImportOption.connectAnotherAccount.captionText",defaultMessage:"Ensure you are logged into the new Asana account in your browser"}),action:()=>g().w1({environment:d,flowId:v}).catch((()=>{}))},{name:u.formatMessage({id:"asanaImportOption.actionsMenu.removeIntegration",defaultMessage:"Remove"}),action:()=>g().XP({environment:d})}],(0,he.jsx)(se().ZP,{popupType:de().kQ.Popup,renderOrigin:e=>o?(0,he.jsx)(ie().Z,{}):(0,he.jsx)(ne().Z,{ariaLabel:u.formatMessage({id:"asanaImportOption.asanaButton.ariaLabel",defaultMessage:"Import from Asana button"}),icon:q().o,...e}),render:e=>{const t={key:"section",render:e=>(0,he.jsx)(pe().Z,{...e}),items:x.map((t=>{let{name:o,captionText:a,action:s}=t;return{key:o,render:e=>(0,he.jsx)(ae().Z,{...e,title:o,caption:a,captionStyle:a?Te:void 0}),action:()=>{s(),e.close()}}}))};return(0,he.jsx)(le().Z,{menuType:F().o.Popup,width:200,children:(0,he.jsx)(ce().Z,{type:ce().i.Vertical,initialFocus:void 0,sections:[t]})})}})):Ce((0,_().UY)("guides.importAsana"),u),onClick:()=>{}};var x;return(0,he.jsx)(se().ZP,{onClick:async()=>{var e;H().default.resetImport(),o||l||r||(t?(m().ay(d,{import_source:"asana",from:"settings_modal",userId:d.currentUser.id,spaceId:null===(e=ee().default.state.currentSpaceStore)||void 0===e?void 0:e.id,flowId:v}),await g().bA({environment:d}),g().h7()):g().w1({environment:d,flowId:v}).catch((()=>{})))},popupType:f.isMobile?se().Z4.SlideUp:se().Z4.Popup,buttonPopupStore:oe,renderOrigin:e=>{let{onClick:t}=e;return(0,he.jsx)(Ie,{...y,onClick:t})},render:()=>null})};var Pe=()=>o(154439),Ae=(o(267602),o(470928),()=>o(481476)),Ze=()=>o(15409),Fe=()=>o(615634),Be=()=>o(858856),Le=()=>o(827973),Re=()=>o(666414),_e=()=>o(206352),Ve=()=>o(291198),qe=()=>o(708518),Oe=()=>o(661297),De=()=>o(92175),Ue=()=>o(906651),He=()=>o(360964),Ne=(o(653476),o(30005),()=>o(732811)),Ee=()=>o(619186);o(122556),o(582845),o(250570),o(533019),o(721473),o(788208),o(22624);class We extends h().default{getInitialState(){return{searchQuery:"",selection:new Set}}}const ze=We;var Ke=()=>o(740046),Ge=()=>o(838367),Ye=()=>o(251932);const $e=function(e){let{searchInputPlaceholder:t,sections:o,noSearchResultsPlaceholder:a,handleClickImportConfluenceWorkspace:s,onComplete:r}=e;const i=(0,n().qz)(void 0,ze);return(0,Ne().K)((()=>{const e=i.state.selection,[t]=o;if(t){const[o]=t.items;o&&e.add(o.key)}i.emit()})),(0,he.jsx)(le().Z,{menuType:F().o.Popup,header:(0,he.jsx)(Qe,{searchInputPlaceholder:t,store:i}),width:280,maxHeight:350,children:(0,he.jsx)(Je,{sections:o,noSearchResultsPlaceholder:a,handleClickImportConfluenceWorkspace:s,onComplete:r,store:i})})};function Qe(e){let{searchInputPlaceholder:t,store:o}=e;const a=(0,n().qz)(o,ze),s=(0,n().VK)((()=>a.state.searchQuery),[a]);return(0,he.jsx)(pe().Z,{isInput:!0,desktopStyle:{paddingBottom:2},children:(0,he.jsx)(Ke().ZP,{focus:!0,focusAfterAnimation:!0,value:s,onChange:e=>{a.setState({...a.state,searchQuery:e.target.value})},placeholder:t})})}function Je(e){let{sections:t,noSearchResultsPlaceholder:o,handleClickImportConfluenceWorkspace:a,onComplete:s,store:r}=e;const i=(0,n().qz)(r,ze),l=(0,n().VK)((()=>i.state.searchQuery),[i]),c=t.map((e=>{const t=(0,Ee().ZP)(l,e.items,(t=>`${t.key} ${t.name} ${e.name}`));return{...e,items:t}})).filter((e=>e.items.length>0));if(0===c.length)return(0,he.jsx)(pe().Z,{children:(0,he.jsx)(Ge().Z,{title:o})});const d=c.map((e=>{const o=e.items.map((e=>e.name)),n={};return o.forEach((e=>{n[e]=n[e]?n[e]+1:1})),{key:e.name,render:o=>(0,he.jsx)(pe().Z,{...o,title:t.length>1?e.name:void 0}),items:e.items.map((e=>({key:e.key,render:t=>(0,he.jsx)(Le().Z,{...t,title:(0,he.jsxs)(Ye().gq,{gap:2,alignItems:"center",children:[e.name,n[e.name]>1&&(0,he.jsx)(ue().Z,{placement:U().Placement.Right,renderTooltip:()=>e.key,render:t=>(0,he.jsx)(ne().Z,{ariaLabel:`Associated space key is ${e.key}`,disableBackground:!0,icon:Be().D,...t})})]}),right:void 0!==e.count&&(0,he.jsx)(me().Z,{isSmall:!0,children:e.count})}),action:()=>{a(e.key,e.name),function(e,t){t(e)}(e,s)}})))}}));return(0,he.jsx)(ce().Z,{type:ce().i.Vertical,initialFocus:void 0,sections:d})}const Xe={whiteSpace:"pre-wrap"};function et(e){const{key:t,value:o,spaceId:a}=e;y.setState({...y.state,[a]:{...y.state[a],[t]:o}})}function tt(e){var t;const{onSelectOption:o,options:a,currentOption:s}=e,n=null===(t=a.find((e=>{let{key:t}=e;return t===s})))||void 0===t?void 0:t.label,i=(0,r().yK)((e=>({icon:{width:10,marginLeft:4,fill:e.lightIconColor}})),[]);return(0,he.jsx)(se().ZP,{popupType:se().Z4.Popup,placementToOrigin:se().pO.Left,renderOrigin:e=>(0,he.jsxs)(De().Z,{...e,isLarge:!0,style:{opacity:1},disabled:!1,children:[n,(0,Fe().i)(i.icon)]}),render:e=>{const t={menuType:F().o.Popup,width:250,left:50},s=[{key:"settings-item-section",render:e=>(0,he.jsx)(pe().Z,{...e}),items:a.map((t=>{let{key:a,label:s}=t;return{key:a,action:()=>{o(a),e.close()},render:e=>(0,he.jsx)(Le().Z,{...e,title:s,shouldWrapCaption:!0,right:n===s?(0,he.jsx)("div",{style:{width:14},children:(0,Ze().e)()}):void 0})}}))}];return(0,he.jsx)(le().Z,{...t,children:(0,he.jsx)(ce().Z,{type:ce().i.Vertical,sections:s,initialFocus:void 0,style:{position:"relative",alignItems:"flex-end"}})})}})}async function ot(e){await async function(e){const{environment:t,requestStore:o,userEmail:a,site:s,access_token:n,instance:r,spaceId:i,username:l,password:c,flowId:d}=e;if(!t.currentUser.id)return f().PV({message:"Invalid details"}),void I().x();const p=await x().callApi({eventName:"authenticateConfluenceUser",environment:t,data:{userEmail:a,site:s,access_token:n,instance:r,userId:t.currentUser.id,spaceId:i,username:l,password:c}});await o.refresh(),"failed"===p.type?(m().a1(t,{import_source:"confluence",data:{import_type:"api",status:"failure",error:p.error},flowId:d}),console.error(p.error),f().x2(p)):(m().a1(t,{import_source:"confluence",data:{import_type:"api",status:"success"},flowId:d}),f().PV({message:"Successfully connected confluence instance."}),await S({environment:t,requestStore:o,spaceId:i})),I().x()}(e)}function at(e){let{environment:t,title:o,email:a,accountType:s,site:i,APIToken:l,personalAccessToken:c,confluenceVersion:d,username:u,password:m,hidePopup:g,spaceId:f,flowId:h,requestStore:v}=e;const x=(0,n().VK)((()=>y.getState()),[]),I=(0,r().yK)((e=>({title:{fontWeight:ge().Ue.semibold},inputLabels:{fontSize:"14px",fontWeight:"400"},helpText:{textAlign:"center",marginTop:"5px",lineHeight:"15px",fontSize:12,color:e.lightTextColor}})),[]);return(0,he.jsx)(_e().Z,{debugName:"ConfluenceImportOption",capture:!0,children:(0,he.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%",padding:20,width:"100%"},children:[(0,he.jsxs)("div",{style:{overflowY:"scroll"},children:[(0,he.jsxs)("div",{style:{marginBottom:24},children:[(0,he.jsx)("div",{style:I.title,children:o}),(0,he.jsx)(He().Z,{title:(0,he.jsx)(p()._H,{id:"confluenceAuthentication.helpButton.caption",defaultMessage:"Learn more about importing from Confluence"}),href:"https://www.notion.so/help/import-from-confluence",analyticsFrom:"import",style:{marginTop:8}})]}),(0,he.jsxs)("div",{children:[(0,he.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",flexDirection:"row"},children:[(0,he.jsx)("label",{htmlFor:"accountType",style:{...I.inputLabels},children:s}),(0,he.jsx)(tt,{onSelectOption:e=>{et({key:"instanceValue",value:e,spaceId:f})},options:[{key:"Cloud",label:(0,he.jsx)(p()._H,{id:"confluenceAuthentication.accountTypeDropdownCloudOption.label",defaultMessage:"Cloud"})},{key:"Server",label:(0,he.jsx)(p()._H,{id:"confluenceAuthentication.accountTypeDropdownServerOption.label",defaultMessage:"Server/On-Premise"})}],currentOption:x[f].instanceValue??"Cloud"})]}),(0,he.jsx)(Re().Z,{size:12,isHidden:!0}),(0,he.jsx)("div",{children:"Server"===x[f].instanceValue?(0,he.jsxs)("div",{children:[(0,he.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",flexDirection:"row",alignItems:"center"},children:[(0,he.jsx)("label",{htmlFor:"confluenceVersion",style:{...I.inputLabels},children:d}),(0,he.jsx)(tt,{onSelectOption:e=>{et({key:"confluenceAuthenticationTypeValue",value:e,spaceId:f})},options:[{key:"OAuth2.0",label:(0,he.jsx)(p()._H,{id:"confluenceAuthentication.confluenceVersionDropdownNewVersionOption.label",defaultMessage:"7.9 or later"})},{key:"Basic",label:(0,he.jsx)(p()._H,{id:"confluenceAuthentication.confluenceVersionDropdownOlderVersionOption.label",defaultMessage:"Prior to 7.9"})}],currentOption:x[f].confluenceAuthenticationTypeValue??"OAuth2.0"})]}),(0,he.jsx)(Re().Z,{size:12,isHidden:!0})]}):void 0}),(0,he.jsx)("label",{htmlFor:"email",style:{...I.inputLabels},children:a}),(0,he.jsx)(Ve().Z,{id:"email",value:x[f].emailValue,autoComplete:"off",autoCapitalize:"off",onChange:e=>{et({key:"emailValue",value:e.target.value,spaceId:f})},showClearButton:!0,placeholder:"sample@gmail.com",inputElementAttributes:{minLength:4}}),(0,he.jsx)(Re().Z,{size:12,isHidden:!0}),(0,he.jsxs)("div",{children:[(0,he.jsx)("label",{htmlFor:"site",style:{...I.inputLabels},children:i}),(0,he.jsx)(Ve().Z,{id:"site",value:x[f].siteValue,onChange:e=>et({key:"siteValue",value:e.target.value,spaceId:f}),showClearButton:!0,placeholder:"Cloud"===x[f].instanceValue?"https://confluence.atlassian.net":"https://domain.com",inputElementAttributes:{minLength:4}}),(0,he.jsx)(Re().Z,{size:12,isHidden:!0}),"Cloud"===x[f].instanceValue?(0,he.jsxs)("div",{children:[(0,he.jsx)("label",{htmlFor:"APIToken",style:{...I.inputLabels},children:l}),(0,he.jsx)(Ve().Z,{id:"AccessToken",type:"password",value:x[f].tokenValue,onChange:e=>{et({key:"tokenValue",value:e.target.value,spaceId:f})},showClearButton:!0,placeholder:"ABC0NDU4NTE0MzUzOooUABCoUOct72zybAxEsiABC7h",inputElementAttributes:{minLength:4}})]}):(0,he.jsx)("div",{children:(0,he.jsx)("div",{children:"Basic"===x[f].confluenceAuthenticationTypeValue?(0,he.jsxs)("div",{children:[(0,he.jsx)("label",{htmlFor:"username",style:{...I.inputLabels},children:u}),(0,he.jsx)(Ve().Z,{id:"username",value:x[f].usernameValue,onChange:e=>{et({key:"usernameValue",value:e.target.value,spaceId:f})},showClearButton:!0,placeholder:"confluenceUser",inputElementAttributes:{minLength:1}}),(0,he.jsx)(Re().Z,{size:12,isHidden:!0}),(0,he.jsx)("label",{htmlFor:"password",style:{...I.inputLabels},children:m}),(0,he.jsx)(Ve().Z,{type:"password",id:"password",value:x[f].passwordValue,onChange:e=>{et({key:"passwordValue",value:e.target.value,spaceId:f})},showClearButton:!0,placeholder:"P@S$w0rd",inputElementAttributes:{minLength:1}})]}):(0,he.jsxs)("div",{children:[(0,he.jsx)("label",{htmlFor:"AccessToken",style:{fontSize:"14px",fontWeight:"400"},children:c}),(0,he.jsx)(Ve().Z,{id:"AccessToken",type:"password",value:x[f].tokenValue,onChange:e=>{et({key:"tokenValue",value:e.target.value,spaceId:f})},showClearButton:!0,placeholder:"ABC0NDU4NTE0MzUzOooUABCoUOct72zybAxEsiABCi7h",inputElementAttributes:{minLength:4}})]})})})]})]})]}),(0,he.jsxs)("div",{style:{flexGrow:0,flexShrink:0},children:[(0,he.jsx)(Re().Z,{size:24}),(0,he.jsx)(Ue().Z,{isLarge:!0,onClick:async()=>{const e=x[f].instanceValue??"Cloud",o=x[f].confluenceAuthenticationTypeValue??"OAuth2.0";await ot({environment:t,userEmail:x[f].emailValue,site:"/"===x[f].siteValue[x[f].siteValue.length-1]?x[f].siteValue.slice(0,-1):x[f].siteValue,access_token:"Server"===e&&"Basic"===o?void 0:x[f].tokenValue,instance:x[f].instanceValue??"Cloud",username:"Basic"===o?x[f].usernameValue:void 0,password:"Basic"===o?x[f].passwordValue:void 0,spaceId:f,flowId:h,requestStore:v}),g()},children:(0,he.jsx)(p()._H,{id:"confluenceAuthentication.authenticateButton.label",defaultMessage:"Authenticate"})}),(0,he.jsx)(Oe().Z,{isLarge:!0,style:{marginLeft:12},onClick:()=>{g()},children:(0,he.jsx)(p()._H,{id:"confluenceAuthentication.cancelButton.label",defaultMessage:"Cancel"})})]})]})})}const st=(0,p().XN)((function(e){var t,o;const a=(0,n().VK)((()=>y.getState()),[]),{spaceStore:r,flowId:l}=e,d=[{name:e.intl.formatMessage({id:"confluenceImportOption.actionsMenu.importViaApi",defaultMessage:"Import via API"}),captionText:e.intl.formatMessage({id:"confluenceImportOption.actionsMenu.importViaApi.message",defaultMessage:"Recommended for the best import experience"}),action:()=>{e.handleApiImportClick("confluence",l),et({key:"open",value:!0,spaceId:r.id})}},{name:e.intl.formatMessage({id:"confluenceImportOption.actionsMenu.importViaFile",defaultMessage:"Import via file"}),captionText:e.intl.formatMessage({id:"confluenceImportOption.actionsMenu.importViaFile.message",defaultMessage:"Best for importing partial workspace content"}),action:()=>e.handleFileUploadClick("confluence",l)}],u=(0,s().O7)(),{device:g}=u,{confluenceResult:f,onComplete:h,intl:v,requestStore:x,spaceViewStore:I}=e,{account:j}=f,w={spacesResult:void 0,showLoader:!1},{showLoader:k}=a[r.id]||w;function T(e,t){m().qy(u,{import_source:"confluence",data:{spaceKey:e,spaceName:t},flowId:l})}function C(e){return(0,he.jsxs)("div",{children:[(0,he.jsx)("label",{style:{fontSize:"12px",color:"rgba(55, 53, 47, 0.65)",paddingLeft:"12px"},children:(0,he.jsx)(p()._H,{id:"confluenceImportOption.search.title",defaultMessage:"Select a space to import"})}),(0,he.jsx)($e,{searchInputPlaceholder:v.formatMessage({id:"confluenceImportOption.search.placeholder",defaultMessage:"Search for a Space"}),noSearchResultsPlaceholder:v.formatMessage({id:"confluenceImportOption.search.noResultsPlaceholder",defaultMessage:"No Spaces"}),sections:[e],onComplete:async e=>{await async function(e){const{environment:t,onComplete:o,selectedSpace:a,spaceStore:s,spaceViewStore:n,flowId:r}=e,i=await b().A1({environment:t,spaceStore:s,spaceViewStore:n,space:a,flowId:r||c().Il()});o(i)}({environment:u,onComplete:h,selectedSpace:e,spaceStore:r,spaceViewStore:I,flowId:l})},handleClickImportConfluenceWorkspace:T})]})}const M={title:"Confluence",logo:i().Z.images.import.confluencePng,caption:j,actionButton:j&&k?(0,he.jsx)(ie().Z,{}):j&&e.renderItemActionsButton([{name:v.formatMessage({id:"confluenceImportOption.actionsMenu.importViaFile",defaultMessage:"Import via file"}),action:()=>e.handleFileUploadClick("confluence",l)},{name:v.formatMessage({id:"confluenceImportOption.actionsMenu.connectAnotherAccount",defaultMessage:"Connect another instance"}),action:()=>{e.handleApiImportClick("confluence",l),et({key:"open",value:!0,spaceId:r.id})}},{name:v.formatMessage({id:"confluenceImportOption.actionsMenu.removeIntegration",defaultMessage:"Remove"}),action:()=>async function(e){const{environment:t,spaceId:o,requestStore:a}=e;y.setState({...y.state,[o]:{...y.state[o],showLoader:!1}}),await Ae().DP(t,a,o)}({environment:u,spaceId:r.id,requestStore:x})}]),onClick:()=>{}},P=(null===(t=a[r.id])||void 0===t||null===(t=t.spacesResult)||void 0===t?void 0:t.spaces)||[],A={key:"default",name:v.formatMessage({id:"confluenceImportOption.spacesProperty.defaultName",defaultMessage:"Spaces"}),items:P.map((e=>({id:e.id,key:e.key,name:e.name})))},Z={key:"section",render:e=>(0,he.jsx)(pe().Z,{...e}),items:d.map((e=>{let{name:t,captionText:o,action:a}=e;const s={key:t,render:e=>(0,he.jsx)(ae().Z,{...e,title:t,caption:o,captionStyle:o?Xe:void 0}),action:a};return s}))};return(0,he.jsxs)(he.Fragment,{children:[(0,he.jsx)(se().ZP,{popupType:g.isMobile?se().Z4.SlideUp:se().Z4.Popup,onClick:()=>{m().ay(u,{import_source:"confluence",from:"settings_modal",userId:u.currentUser.id,spaceId:r.id,flowId:l}),j&&S({environment:u,requestStore:x,spaceId:r.id}).catch((()=>{}))},buttonPopupStore:E().Z,render:e=>j?function(e){return k?(0,he.jsx)(he.Fragment,{}):C(e)}(A):(0,he.jsx)(le().Z,{menuType:F().o.Popup,width:200,children:(0,he.jsx)(ce().Z,{onAccept:e.close,type:ce().i.Vertical,initialFocus:void 0,sections:[Z]})}),renderOrigin:e=>{let{onClick:t}=e;return(0,he.jsx)(Ie,{...M,onClick:t})}}),(0,he.jsx)(qe().Z,{open:null===(o=a[r.id])||void 0===o?void 0:o.open,innerStyle:{width:600,maxWidth:"calc(100vw - 100px)",overflow:"hidden",borderRadius:5,maxHeight:"90vh"},onDismiss:()=>{et({key:"open",value:!1,spaceId:r.id})},render:()=>(0,he.jsx)(at,{hidePopup:()=>{et({key:"open",value:!1,spaceId:r.id})},environment:u,title:(0,he.jsx)(p()._H,{id:"confluenceAuthentication.titleMessage",defaultMessage:"Authentication details"}),email:(0,he.jsxs)(Ye().gq,{style:{alignItems:"center",gap:2},children:[(0,he.jsx)(p()._H,{id:"confluenceAuthentication.emailMessage",defaultMessage:"Email"}),(0,he.jsx)(ue().Z,{placement:U().Placement.Right,renderTooltip:()=>(0,he.jsx)(p()._H,{id:"confluenceAuthentication.emailHelpText",defaultMessage:"Email address of the Confluence user importing the data"}),render:e=>(0,he.jsx)(ne().Z,{ariaLabel:"Email help text button",disableBackground:!0,icon:Be().D,...e})})]}),accountType:(0,he.jsxs)(Ye().gq,{style:{alignItems:"center",gap:2},children:[(0,he.jsx)(p()._H,{id:"confluenceAuthentication.instanceMessage",defaultMessage:"Confluence instance"}),(0,he.jsx)(ue().Z,{style:{width:300,whiteSpace:"normal"},placement:U().Placement.Right,renderTooltip:()=>(0,he.jsx)(p()._H,{id:"confluenceAuthentication.instanceHelperText",defaultMessage:"On Confluence, click 'Help', the (?) next to your profile, then click on 'About Confluence' this will tell you if it is a Server, Cloud or Data Center"}),render:e=>(0,he.jsx)(ne().Z,{ariaLabel:"Confluence instance type help text button",disableBackground:!0,icon:Be().D,...e})})]}),site:(0,he.jsxs)(Ye().gq,{style:{alignItems:"center",gap:2},children:[(0,he.jsx)(p()._H,{id:"confluenceAuthentication.siteMessage",defaultMessage:"Site"}),(0,he.jsx)(ue().Z,{style:{width:300,whiteSpace:"normal"},placement:U().Placement.Right,renderTooltip:()=>(0,he.jsx)(p()._H,{id:"confluenceAuthentication.siteHelperText",defaultMessage:"The base URL that is used to access Confluence. If you are running on a non-standard port, please provide the input in host:port format"}),render:e=>(0,he.jsx)(ne().Z,{ariaLabel:"Confluence site help text button",disableBackground:!0,icon:Be().D,...e})})]}),APIToken:(0,he.jsxs)(Ye().gq,{style:{alignItems:"center",gap:2},children:[(0,he.jsx)(p()._H,{id:"confluenceAuthentication.apiTokenMessage",defaultMessage:"API token"}),(0,he.jsx)(ue().Z,{placement:U().Placement.Right,renderTooltip:()=>(0,he.jsx)(p()._H,{id:"confluenceAuthentication.stepsToGetConfluenceAccessToken.captions",defaultMessage:"Click to learn how to get access token from Confluence cloud"}),render:e=>(0,he.jsx)(ne().Z,{ariaLabel:"Confluence access token help text button",onClick:()=>{window.open("https://support.atlassian.com/atlassian-account/docs/manage-api-tokens-for-your-atlassian-account","_blank")},icon:Be().D,...e})})]}),personalAccessToken:(0,he.jsxs)(Ye().gq,{style:{alignItems:"center",gap:2},children:[(0,he.jsx)(p()._H,{id:"confluenceAuthentication.personalAccessTokenMessage",defaultMessage:"Personal Access Token"}),(0,he.jsx)(ue().Z,{placement:U().Placement.Right,style:{width:300,whiteSpace:"normal"},renderTooltip:()=>(0,he.jsx)(p()._H,{id:"confluenceAuthentication.stepsToGetConfluencePAT.caption",defaultMessage:"Click to learn how to get personal authentication token from Confluence server"}),render:e=>(0,he.jsx)(ne().Z,{ariaLabel:"Confluence personal access token help text button",onClick:()=>{window.open("https://confluence.atlassian.com/enterprise/using-personal-access-tokens-1026032365.html","_blank")},icon:Be().D,...e})})]}),confluenceVersion:(0,he.jsxs)(Ye().gq,{style:{alignItems:"center",gap:2},children:[(0,he.jsx)(p()._H,{id:"confluenceAuthentication.confluenceVersion",defaultMessage:"Confluence version"}),(0,he.jsx)(ue().Z,{style:{width:300,whiteSpace:"normal"},placement:U().Placement.Right,renderTooltip:()=>(0,he.jsx)(p()._H,{id:"confluenceAuthentication.stepsToGetConfluenceVersion.captions",defaultMessage:"Click to learn how to know the version of Confluence you are running"}),render:e=>(0,he.jsx)(ne().Z,{ariaLabel:"Confluence version help text button",onClick:()=>{window.open("https://confluence.atlassian.com/confkb/how-do-i-know-what-version-of-confluence-is-running-179441565.html","_blank")},icon:Be().D,...e})})]}),username:(0,he.jsxs)(Ye().gq,{style:{alignItems:"center",gap:2},children:[(0,he.jsx)(p()._H,{id:"confluenceAuthentication.username",defaultMessage:"Username"}),(0,he.jsx)(ue().Z,{placement:U().Placement.Right,renderTooltip:()=>(0,he.jsx)(p()._H,{id:"confluenceAuthentication.usernameHelpText",defaultMessage:"Username of the Confluence user importing the data"}),render:e=>(0,he.jsx)(ne().Z,{ariaLabel:"Confluence user's username help text button",disableBackground:!0,icon:Be().D,...e})})]}),password:(0,he.jsxs)(Ye().gq,{style:{alignItems:"center",gap:2},children:[(0,he.jsx)(p()._H,{id:"confluenceAuthentication.password",defaultMessage:"Password"}),(0,he.jsx)(ue().Z,{placement:U().Placement.Right,renderTooltip:()=>(0,he.jsx)(p()._H,{id:"confluenceAuthentication.passwordHelpText",defaultMessage:"Password of the Confluence user importing the data"}),render:e=>(0,he.jsx)(ne().Z,{ariaLabel:"Confluence user's password help text button",disableBackground:!0,icon:Be().D,...e})})]}),spaceId:r.id,flowId:l,requestStore:x})})]})}));var nt=()=>o(81954),rt=()=>o(513670),it=()=>o(752127),lt=()=>o(451378),ct=(o(670560),()=>o(715139)),dt=()=>o(18748),pt=()=>o(777346),ut=()=>o(233405);const mt=function(e){let{analyticsName:t,sections:o,searchInputPlaceholder:a,onComplete:s,noSearchResultsPlaceholder:r}=e;const i=(0,n().qz)(void 0,ze);return(0,Ne().K)((()=>{const e=i.state.selection,[t]=o;if(t){const[o]=t.items;o&&e.add(o.key)}i.emit()})),(0,he.jsx)(le().Z,{menuType:F().o.Popup,header:(0,he.jsx)(gt,{analyticsName:t,sections:o,searchInputPlaceholder:a,store:i}),footer:(0,he.jsx)(ft,{sections:o,onComplete:s,store:i}),width:280,maxHeight:350,children:(0,he.jsx)(ht,{sections:o,noSearchResultsPlaceholder:r,analyticsName:t,store:i})})};function gt(e){let{analyticsName:t,sections:o,searchInputPlaceholder:r,store:i}=e;const l=(0,s().O7)(),c=(0,a.useCallback)((()=>function(e,t,o){const{selection:a}=o.state;a.clear(),o.emit(),m().FI(e,{integration_name:t})}(l,t,i)),[l,t,i]),d=(0,a.useCallback)((()=>function(e,t,o,a){const{selection:s}=a.state;for(const n of t)for(const e of n.items)s.add(e.key);a.emit(),m().Vf(e,{integration_name:o})}(l,o,t,i)),[l,o,t,i]),u=(0,n().VK)((()=>i.state.searchQuery),[i]),g=Boolean(u);return(0,he.jsxs)(pe().Z,{isInput:!0,desktopStyle:{paddingBottom:2},children:[(0,he.jsx)(Ke().ZP,{focus:!0,focusAfterAnimation:!0,value:u,onChange:e=>{i.setState({...i.state,searchQuery:e.target.value})},placeholder:r}),(0,he.jsx)(dt().ZP,{isTokenTitle:!0,style:{marginTop:2},title:(0,he.jsxs)("div",{style:{marginLeft:-3},children:[(0,he.jsx)(pt().Z,{onClick:d,disabled:g,disabledFeedback:!0,children:(0,he.jsx)(p()._H,{id:"importPopup.selectAll",defaultMessage:"Select all"})}),(0,he.jsx)(ut().Z,{disabled:g}),(0,he.jsx)(pt().Z,{onClick:c,disabled:g,disabledFeedback:!0,children:(0,he.jsx)(p()._H,{id:"importPopup.deselectAll",defaultMessage:"Deselect all"})})]})})]})}function ft(e){let{sections:t,onComplete:o,store:s}=e;const r=(0,a.useCallback)((()=>function(e,t,o){const{selection:a}=o.state,s=rt().xH(e.map((e=>e.items))),n=[];a.forEach((e=>{const t=s.find((t=>t.key===e));t&&n.push(t)})),t(n)}(t,o,s)),[t,o,s]),i=0===(0,n().VK)((()=>s.state.selection.size),[s]);return(0,he.jsx)(pe().Z,{topBorder:!0,desktopStyle:{paddingTop:8,paddingBottom:8},children:(0,he.jsx)(dt().ZP,{title:(0,he.jsx)(Ue().Z,{disabled:i,onClick:r,children:(0,he.jsx)(p()._H,{id:"integrationImportPopup.importButton.label",defaultMessage:"Import"})})})})}function ht(e){let{sections:t,noSearchResultsPlaceholder:o,analyticsName:a,store:r}=e;const i=(0,s().O7)(),{searchQuery:l,selection:c}=(0,n().VK)((()=>{const{searchQuery:e,selection:t}=r.state;return{searchQuery:e,selection:t}}),[r]),d=t.map((e=>{const t=(0,Ee().ZP)(l,e.items,(t=>`${t.name} ${e.name}`));return{...e,items:t}})).filter((e=>e.items.length>0));if(0===d.length)return(0,he.jsx)(pe().Z,{children:(0,he.jsx)(Ge().Z,{title:o})});const p=d.map((e=>({key:e.name,render:o=>(0,he.jsx)(pe().Z,{...o,title:t.length>1?e.name:void 0}),items:e.items.map((e=>{const t=()=>function(e,t,o,a){const{selection:s}=a.state;s.has(e.key)?(s.delete(e.key),m().Z3(t,{integration_name:o})):(s.add(e.key),m().Gl(t,{integration_name:o})),a.emit()}(e,i,a,r);return{key:e.key,render:o=>(0,he.jsx)(Le().Z,{...o,title:e.name,icon:(0,he.jsx)(ct().Z,{checked:c.has(e.key),size:16,onClick:t}),right:void 0!==e.count&&(0,he.jsx)(me().Z,{isSmall:!0,children:e.count})}),action:t}}))})));return(0,he.jsx)(ce().Z,{type:ce().i.Vertical,initialFocus:void 0,sections:p})}const vt=function(e){let{requestStore:t,analyticsFrom:o,evernoteResult:r,renderItemActionsButton:c,defaultActionButton:d,spaceStore:u,spaceViewStore:g,userSettingsStore:f,onComplete:h}=e;const v=(0,s().O7)(),y=(0,p().YB)(),S=(0,n().VK)((()=>lt().Z.getState()),[]),w=(0,a.useCallback)((()=>async function(e,t,o,a){var s;const{isFetchingNotebooks:n}=a;n&&await j().B({environment:e,requestStore:t});const r=z().Z.getOrCreateFlowId();m().ay(e,{import_source:"evernote",from:o,flowId:r,userId:e.currentUser.id,spaceId:null===(s=ee().default.state.currentSpaceStore)||void 0===s?void 0:s.id})}(v,t,o,S)),[v,t,o,S]),{device:k}=v,{userInfo:T}=r,{notebooksResponse:C,showLoader:M}=S,P=(null==C?void 0:C.notebooks)||[],A=rt().vM(P,(e=>e.stack||""));(0,l().r5)((async()=>{S.linkingAccount||(await t.refresh(),I().x())}),[S.linkingAccount,t]);const Z=Object.keys(A).map((e=>{const t=e||"Top-Level";return{key:t,name:t,items:(A[e]||[]).map((e=>({key:e.guid,name:e.title,count:e.noteCount})))}})),F={title:"Evernote",logo:i().Z.images.import.evernotePng,shouldWrapCaption:!T,caption:T?T.name||T.username||T.email:void 0,actionButton:T&&M?(0,he.jsx)(ie().Z,{}):T?c([{name:y.formatMessage({id:"evernoteImportOption.actionsMenu.learnMore",defaultMessage:"Learn more"}),action:()=>function(e){it().D({environment:e,url:(0,_().UY)("guides.importEvernote")})}(v)},{name:y.formatMessage({id:"evernoteImportOption.actionsMenu.import",defaultMessage:"Import"}),action:()=>W().Z.setState({open:!0})},{name:y.formatMessage({id:"evernoteImportOption.actionsMenu.connectAnotherAccount",defaultMessage:"Connect another account"}),action:()=>yt(t,v)},{name:y.formatMessage({id:"evernoteImportOption.actionsMenu.removeIntegration",defaultMessage:"Remove"}),action:()=>async function(e,t){await x().callApi({eventName:"disconnectEvernote",environment:t,data:{}}),lt().Z.setState({notebooksResponse:{notebooks:[]},isFetchingNotebooks:!0,showLoader:!1}),await e.refresh(),m().qJ(t,{integration_name:"evernote"})}(t,v)}]):d,onClick:()=>{}};return(0,he.jsx)(se().ZP,{popupType:k.isMobile?se().Z4.SlideUp:se().Z4.Popup,buttonPopupStore:W().Z,onClick:w,render:()=>M?(0,he.jsx)(he.Fragment,{}):(0,he.jsx)(mt,{searchInputPlaceholder:y.formatMessage({id:"evernoteImportOption.search.placeholder",defaultMessage:"Search for a notebookâ€¦"}),noSearchResultsPlaceholder:y.formatMessage({id:"evernoteImportOption.search.noResultsPlaceholder",defaultMessage:"No notebooks"}),analyticsName:"evernote",sections:Z,onComplete:e=>async function(e,t,o,a,s,n,r){const{notebooks:i}=e,l=i.filter((e=>Boolean(t.find((t=>t.key===e.guid)))));m().G7(r,{integration_name:"evernote",count:t.length});const c=await b().am({environment:r,spaceStore:o,spaceViewStore:a,userSettingsStore:s,notebooks:l});m().qy(r,{import_source:"evernote",data:{notebooks:l.map((e=>e.guid)),userId:r.currentUser.id,spaceId:(0,nt().J)(o.id)},flowId:z().Z.getOrCreateFlowId()}),n(c)}(C,e,u,g,f,h,v)}),renderOrigin:e=>{let{onClick:o}=e;return(0,he.jsx)(Ie,{...F,onClick:T?o:()=>yt(t,v)})}})};async function yt(e,t){await j().e({environment:t,requestStore:e})}var xt=()=>o(819026),It=()=>o(147139),St=()=>o(862059);const jt=new(te().Z);const bt=function(e){let{requestStore:t,renderItemActionsButton:o,spaceStore:r,spaceViewStore:l,pageStore:c,analyticsFrom:d,onComplete:u}=e;const g=(0,s().O7)(),f=(0,p().YB)(),{loading:h,areAccountsFetched:v,accountsResponse:y,selectedFileId:I}=(0,n().VK)((()=>{const{loading:e,areAccountsFetched:t,accountsResponse:o,selectedFileId:a}=St().default.state;return{loading:e,areAccountsFetched:t,accountsResponse:o,selectedFileId:a}}),[]),S=(0,n().VK)((()=>jt.state.open),[]),{device:j}=g,b=y.accounts,w=(0,a.useCallback)((async()=>{await kt({environment:g,requestStore:t,areAccountsFetched:v,analyticsFrom:d,googleDriveResponse:y,pageStore:c,spaceStore:r,spaceViewStore:l,onComplete:u,selectedFileId:I})}),[g,t,v,d,c,u,l,r,y,I]),k={title:"Google Docs",logo:i().Z.images.import.googleDocsPng,actionButton:b&&b.length>0&&o([{name:f.formatMessage({id:"googleDocImportOption.actionsMenu.connectAnotherAccount",defaultMessage:"Connect another account"}),action:()=>async function(e){const{requestStore:t,spaceStore:o,spaceViewStore:a,environment:s,analyticsFrom:n,pageStore:r,onComplete:i}=e,l=await xt().qN(s);l?(m().a1(s,{import_source:"gDocs",data:{import_type:"api",status:"success"}}),await t.refresh(),Q().default.setState({...Q().default.state,open:!0,currentTab:"imports",highlightedSetting:void 0,defaultSubtab:void 0}),await kt({environment:s,requestStore:t,areAccountsFetched:!1,analyticsFrom:n,googleDriveResponse:void 0,spaceStore:o,spaceViewStore:a,onComplete:i,pageStore:r})):m().a1(s,{import_source:"gDocs",data:{import_type:"api",status:"failure"}})}({environment:g,requestStore:t,analyticsFrom:d,pageStore:c,spaceStore:r,spaceViewStore:l,onComplete:u})},{name:f.formatMessage({id:"googleDocImportOption.actionsMenu.removeIntegration",defaultMessage:"Remove All Accounts"}),action:()=>async function(e,t,o){if(!o||0===o.length)return;o.forEach((async e=>{await x().callApi({eventName:"disconnectDrive",environment:t,data:{googleUserId:e.accountId}})})),St().default.setState({...St().default.state,accountsResponse:{accounts:[]},loading:!1}),await e.refresh()}(t,g,b)}]),onClick:()=>{}},T={type:"drive",title:(0,he.jsx)(p()._H,{defaultMessage:"Browse Google Drive",id:"googleDriveBlock.mediaPicker.googleDriveTab.title"}),onSelect:async e=>await wt({account:e,onComplete:u,requestStore:t,spaceStore:r,spaceViewStore:l,analyticsFrom:d,pageStore:c,environment:g,selectedFileId:I})};return(0,he.jsx)(se().ZP,{open:S,popupType:j.isMobile?se().Z4.SlideUp:se().Z4.Popup,buttonPopupStore:jt,onClick:w,onClose:()=>{St().default.setState({...St().default.state,selectedFileId:void 0})},render:()=>h?(0,he.jsx)(he.Fragment,{}):(0,he.jsx)(It().v3,{tab:T,accounts:b,type:It().s5.Docs}),renderOrigin:e=>{let{onClick:t}=e;return(0,he.jsx)(Ie,{...k,onClick:t})}})};async function wt(e){const{account:t,requestStore:o,spaceStore:a,spaceViewStore:s,environment:n,analyticsFrom:r,pageStore:i,onComplete:l,selectedFileId:c}=e;t&&t.token||await async function(e){const{requestStore:t,spaceStore:o,spaceViewStore:a,environment:s,analyticsFrom:n,pageStore:r,onComplete:i,selectedFileId:l}=e;await xt().qN(s),await t.refresh(),await kt({environment:s,requestStore:t,areAccountsFetched:!1,analyticsFrom:n,googleDriveResponse:void 0,spaceStore:o,spaceViewStore:a,onComplete:i,pageStore:r,selectedFileId:l})}({environment:n,requestStore:o,analyticsFrom:r,spaceStore:a,spaceViewStore:s,onComplete:l,pageStore:i,selectedFileId:c}),t&&t.token&&(c?await Tt({fileId:c,token:t.token,environment:n,spaceStore:a,spaceViewStore:s,analyticsFrom:r,onComplete:l,pageStore:i}):await(0,P().v)({environment:n,accessToken:t.token.accessToken,viewType:"documents",from:"import_google_doc",callback:async e=>{await Tt({fileId:e,token:t.token,environment:n,spaceStore:a,spaceViewStore:s,analyticsFrom:r,onComplete:l,pageStore:i})}}),jt.setState({...jt.state,open:!1}))}async function kt(e){var t;const{requestStore:o,spaceStore:a,spaceViewStore:s,environment:n,analyticsFrom:r,pageStore:i,onComplete:l,googleDriveResponse:c,areAccountsFetched:d,selectedFileId:p}=e;let u=c;d||(St().default.setState({...St().default.state,loading:!0}),u=await xt().vQ(n),u&&u.accounts&&St().default.setState({...St().default.state,accountsResponse:u,areAccountsFetched:!0,loading:!1})),m().ay(n,{import_source:"gdocs",from:r,userId:n.currentUser.id,spaceId:null===(t=ee().default.state.currentSpaceStore)||void 0===t?void 0:t.id});const g=u&&1===u.accounts.length?u.accounts[0]:void 0;return g?await wt({account:g,onComplete:l,requestStore:o,spaceStore:a,spaceViewStore:s,analyticsFrom:r,pageStore:i,environment:n,selectedFileId:p}):(jt.setState({...jt.state,open:!0}),await o.refresh()),u}async function Tt(e){const{fileId:t,token:o,environment:a,spaceStore:s,spaceViewStore:n,analyticsFrom:r,onComplete:i,pageStore:l}=e;l&&(St().default.setState({...St().default.state,loading:!0}),await b().xG({environment:a,fileId:t,token:o,spaceStore:s,spaceViewStore:n,pageStore:l,analyticsFrom:r}).then((e=>{e&&(u().W(a,{from:"import",type:"page",new_page_id:e.id,creating_block_id:e.id,parent_collection_id:e.getParentCollectionIdUpToTwoLevels()}),i(e))})).catch((()=>{})),St().default.setState({...St().default.state,loading:!1,selectedFileId:void 0}))}o(228244);var Ct=()=>o(887274);const Mt=function(e){const t=(0,s().O7)(),{device:a}=t,{jiraResult:r,spaceStore:l,requestStore:d}=e,u=(0,n().VK)((()=>V().lQ(l)),[l]),m=(0,n().VK)((()=>V().Cx(l)),[l]),{account:g,isOwner:f}=(0,n().VK)((()=>{const e=r.account;if(e){const t=o(138912).default.state;if(t.loaded){const o=e.find((e=>t.externalAuthentications.some((t=>t.id===e.id))));return o?{account:o,isOwner:Boolean(o)}:{account:e[0],isOwner:!1}}}return{}}),[r]),h=(0,p().YB)(),v=[{name:h.formatMessage({id:"jiraImportOption.actionsMenu.connectAnotherAccount",defaultMessage:"Connect another instance"}),action:()=>{Ct().jW({environment:t,from:"import_settings",action:"add_account"});const e=G().ZP.createNewFlowId();(0,T().j)({environment:t,event:{eventName:"external_sync_entry_point",eventProperties:{integration:"jira",from:"imports_tab",flowId:e}}})}}];g&&f&&v.push({name:h.formatMessage({id:"jiraImportOption.actionsMenu.removeIntegration",defaultMessage:"Remove"}),action:()=>{Ae().YX({environment:t,requestStore:d,botId:g.id})}});const y={title:"Jira",logo:i().Z.images.externalIntegrations.jiraIconPng,onClick:()=>{},caption:null==g?void 0:g.site,actionButton:u&&g?e.renderItemActionsButton(v):null,showNewBadge:e.showNewBadge,showSyncBadge:e.showSyncBadge};return m?(0,he.jsx)(he.Fragment,{}):(0,he.jsx)(se().ZP,{renderOrigin:e=>{let{onClick:o}=e;return(0,he.jsx)(Ie,{...y,onClick:()=>{const e=c().Il();G().ZP.setState({...G().ZP.state,flowId:e,spaceId:l.id,botId:null==g?void 0:g.id}),Ct().jW({environment:t,from:"import_settings",action:"show_teamspaces"}),(0,T().j)({environment:t,event:{eventName:"external_sync_entry_point",eventProperties:{integration:"jira",from:"imports_tab",flowId:e}}})}})},popupType:a.isMobile?se().Z4.SlideUp:se().Z4.Popup,render:()=>(0,he.jsx)(he.Fragment,{})})};var Pt=()=>o(454315);const At={whiteSpace:"pre-wrap"};function Zt(e){const t=(0,n().Kw)(Y().default),{environment:o,spaceStore:a,flowId:s}=e;return(0,he.jsx)(qe().Z,{open:t.showAuthPopup,innerStyle:{width:600,maxWidth:"calc(100vw - 100px)",overflow:"hidden",borderRadius:5,maxHeight:"90vh"},onDismiss:()=>{Y().default.setState({...Y().default.state,showAuthPopup:!1})},render:()=>(0,he.jsx)(Ft,{hidePopup:()=>{Y().default.setState({...Y().default.state,showAuthPopup:!1})},environment:o,title:(0,he.jsx)(p()._H,{id:"mondayAuthentication.titleMessage",defaultMessage:"Authentication details"}),email:(0,he.jsxs)(Ye().gq,{style:{alignItems:"center",gap:2},children:[(0,he.jsx)(p()._H,{id:"mondayAuthentication.emailMessage",defaultMessage:"Email"}),(0,he.jsx)(ue().Z,{placement:U().Placement.Right,renderTooltip:()=>(0,he.jsx)(p()._H,{id:"mondayAuthentication.emailHelpText",defaultMessage:"Email address of the Monday.com user importing the data"}),render:e=>(0,he.jsx)(ne().Z,{...e,ariaLabel:"Email help text button",disableBackground:!0,icon:Be().D})})]}),APIToken:(0,he.jsxs)(Ye().gq,{style:{alignItems:"center",gap:2},children:[(0,he.jsx)(p()._H,{id:"mondayAuthentication.apiTokenMessage",defaultMessage:"API token"}),(0,he.jsx)(ue().Z,{placement:U().Placement.Right,renderTooltip:()=>(0,he.jsx)(p()._H,{id:"mondayAuthentication.stepsToGetMondayAPIToken.captions",defaultMessage:"Click to learn how to get API token from Monday.com"}),render:e=>(0,he.jsx)(ne().Z,{...e,ariaLabel:"Monday.com API token help text button",onClick:()=>{window.open("https://developer.monday.com/api-reference/docs/authentication#accessing-api-tokens","_blank")},icon:Be().D})})]}),flowId:s,spaceStore:a})})}function Ft(e){let{environment:t,title:o,email:a,APIToken:s,hidePopup:i,flowId:l,spaceStore:c}=e;const d=(0,n().Kw)(Y().default),u=(0,r().yK)((e=>({title:{fontWeight:ge().Ue.semibold},inputLabels:{fontSize:"14px",fontWeight:"400"},helpText:{textAlign:"center",marginTop:"5px",lineHeight:"15px",fontSize:12,color:e.lightTextColor}})),[]);return(0,he.jsx)(_e().Z,{debugName:"MondayImportOption",capture:!0,children:(0,he.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%",padding:20,width:"100%"},children:[(0,he.jsxs)("div",{style:{overflowY:"scroll"},children:[(0,he.jsxs)("div",{style:{marginBottom:24},children:[(0,he.jsx)("div",{style:u.title,children:o}),(0,he.jsx)(Pt().u,{})]}),(0,he.jsxs)("div",{children:[(0,he.jsx)("label",{htmlFor:"email",style:{...u.inputLabels},children:a}),(0,he.jsx)(Ve().Z,{id:"email",value:d.email,autoComplete:"off",autoCapitalize:"off",onChange:e=>{Y().default.setState({...Y().default.state,email:e.target.value})},showClearButton:!0,placeholder:"sample@gmail.com",inputElementAttributes:{minLength:4}}),(0,he.jsx)(Re().Z,{size:12,isHidden:!0}),(0,he.jsxs)("div",{children:[(0,he.jsx)("label",{htmlFor:"APIToken",style:{...u.inputLabels},children:s}),(0,he.jsx)(Ve().Z,{id:"AccessToken",type:"password",value:d.APIToken,onChange:e=>{Y().default.setState({...Y().default.state,APIToken:e.target.value})},showClearButton:!0,placeholder:"ABC0NDU4NTE0MzUzOooUABCoUOct72zybAxEsiABC7h",inputElementAttributes:{minLength:4}})]})]})]}),(0,he.jsxs)("div",{style:{flexGrow:0,flexShrink:0},children:[(0,he.jsx)(Re().Z,{size:24}),(0,he.jsx)(Ue().Z,{isLarge:!0,onClick:async()=>{await w().qF({environment:t,userEmail:d.email,APIToken:d.APIToken,flowId:l,spaceId:c.id}),i()},children:(0,he.jsx)(p()._H,{id:"mondayAuthentication.authenticateButton.label",defaultMessage:"Authenticate"})}),(0,he.jsx)(Oe().Z,{isLarge:!0,style:{marginLeft:12},onClick:()=>{i()},children:(0,he.jsx)(p()._H,{id:"mondayAuthentication.cancelButton.label",defaultMessage:"Cancel"})})]})]})})}const Bt=function(e){const t=(0,n().Kw)(Y().default),o=(0,n().Kw)(z().Z),{account:r,isLoadingMondayWorkspaces:l}=t,{spaceStore:d}=e,u=(0,s().O7)(),g=(0,p().YB)(),{device:f}=u,h=o.flowId||c().Il();(0,a.useEffect)((()=>{o.flowId||z().Z.setState({flowId:h})}),[h,o]);const v={title:g.formatMessage({id:"mondayImportOption.mondayButton.title",defaultMessage:"Monday.com"}),logo:i().Z.images.import.mondayPng,showNewBadge:!0,caption:r,actionButton:r?(y=[{name:g.formatMessage({id:"mondayImportOption.actionsMenu.connectAnotherAccount",defaultMessage:"Connect another account"}),action:()=>{Y().default.setState({...Y().default.state,showAuthPopup:!0})}},{name:g.formatMessage({id:"mondayImportOption.actionsMenu.removeIntegration",defaultMessage:"Remove"}),action:()=>w().sC({environment:u,spaceId:d.id})}],(0,he.jsx)(se().ZP,{popupType:de().kQ.Popup,renderOrigin:e=>l?(0,he.jsx)(ie().Z,{}):(0,he.jsx)(ne().Z,{ariaLabel:g.formatMessage({id:"mondayImportOption.mondayButton.ariaLabel",defaultMessage:"Import from Monday.com button"}),icon:q().o,...e}),render:e=>{const t=y.map((t=>{let{name:o,captionText:a,action:s}=t;const n={key:o,render:e=>(0,he.jsx)(ae().Z,{...e,title:o,caption:a,captionStyle:a?At:void 0}),action:()=>{s(),e.close()}};return n})),o={key:"section",render:e=>(0,he.jsx)(pe().Z,{...e}),items:t};return(0,he.jsx)(le().Z,{menuType:F().o.Popup,width:200,children:(0,he.jsx)(ce().Z,{type:ce().i.Vertical,initialFocus:void 0,sections:[o]})})}})):void 0,onClick:()=>{}};var y;return(0,he.jsxs)(he.Fragment,{children:[(0,he.jsx)(se().ZP,{onClick:async()=>{Y().default.resetImport(),r?(m().ay(u,{import_source:"monday.com",from:e.analyticsFrom,userId:u.currentUser.id,spaceId:d.id,flowId:h}),await w().FM({environment:u,spaceId:d.id}),w().h7()):Y().default.setState({...Y().default.state,showAuthPopup:!0})},popupType:f.isMobile?se().Z4.SlideUp:se().Z4.Popup,buttonPopupStore:oe,renderOrigin:e=>{let{onClick:t}=e;return(0,he.jsx)(Ie,{...v,onClick:t})},render:()=>null}),(0,he.jsx)(Zt,{environment:u,spaceStore:d,flowId:h})]})};var Lt=()=>o(225771),Rt=(o(821057),()=>o(396136)),_t=()=>o(720866);const Vt=(0,o(830742).LS)("importQuip");var qt=()=>o(527278);class Ot extends h().default{getInitialState(){return{showAuthPopup:!1,email:void 0,spaceId:void 0,personalAccessToken:void 0,companyId:void 0,account:void 0,accountEmail:void 0,isFetchingAccount:!1,authResponse:void 0,invalidFields:[]}}resetImport(){const{account:e,accountEmail:t}=this.getState();this.setState({...this.getInitialState(),account:e,accountEmail:t})}}const Dt=new Ot;var Ut=()=>o(826955),Ht=()=>o(782646);const Nt=(0,p().vU)({importFailed:{id:"quipActions.importFailedError.message",defaultMessage:"Import failed"},importingFromQuipMessage:{id:"quipActions.importingFromQuip.loadingMessage",defaultMessage:"Importing from quip."},importRootPageTitle:{id:"quipImport.importRootPageTitle",defaultMessage:"Import {date}"}});async function Et(e){const{environment:t,spaceStore:o}=e;if(!t.currentUser.id)throw new Error("User does not exist");let a,s;I().j({message:Nt.importingFromQuipMessage}),Dt.setState({...Dt.state});try{const e=await x().callApi({eventName:"getQuipAccount",environment:t,data:{spaceId:o.id}});if("success"!==e.type)throw new Error("User account does not exist");a=e.data.email;const n=(0,Ht().Lj)(t,Vt,{userId:t.currentUser.id,email:a,page:{spaceId:o.id}});for await(const t of n){if(t.error)throw t.error;t.value.isComplete||(t.value.rootPageId&&(s=t.value.rootPageId),I().j(t.value.status))}if(!s)throw new Error("No root page");I().x();return Ut().G.createChildStore(o,{id:s,table:Rt().iU,spaceId:o.id})}catch(n){throw f().UW(qt().Z.formatMessage(Nt.importFailed)),I().x(),new Error((0,_t().t)(n).message)}}var Wt=()=>o(985481),zt=()=>o(688049),Kt=()=>o(965910),Gt=()=>o(765513);const Yt={whiteSpace:"pre-wrap"},$t=(0,p().vU)({successfullyConnected:{id:"quipActions.successfullyConnected.message",defaultMessage:"Successfully connected quip instance"},authenticationFailed:{id:"quipActions.authenticationFailed.message",defaultMessage:"Authentication Failed (Please check user details)"},disconnectFailed:{id:"quipActions.disconnectFailed.message",defaultMessage:"Disconnect Account Failed"},headerTitle:{id:"quipActions.header.title",defaultMessage:"Import from Quip"},importCta:{id:"quipActions.importCta",defaultMessage:"Import"}});function Qt(){return(0,r().yK)((e=>({title:{fontWeight:ge().Ue.semibold},inputLabels:{fontSize:ge().JB.UISmall.desktop,fontWeight:ge().Ue.semibold,font:"SF Pro",lineHeight:ge().Nv.UISmall.desktop,color:e.lightTextColor},placeHolder:{font:"SF Pro",fontWeight:ge().Ue.regular,fontSize:ge().JB.UIRegular.desktop,lineHeight:ge().Nv.UISmall.desktop},helpText:{textAlign:"center",marginTop:"5px",lineHeight:"15px",fontSize:12,color:e.lightTextColor},inputBox:{width:"100%",height:28,padding:4,gap:4,radius:"default"},captionText:{font:"SF Pro",fontWeight:ge().Ue.regular,lineHeight:ge().Nv.UISmall.desktop,fontSize:ge().JB.UISmall.desktop,color:e.lightTextColor},spinner:{width:"100%",height:"100%",backgroundColor:e.modalUnderlayBackground,position:"absolute",top:0,left:0},wrapper:{padding:"20px 14px 10px 14px",height:"100%",display:"flex",flexDirection:"column"},header:{fontWeight:ge().Ue.medium,fontSize:17,textAlign:"center",marginTop:8},description:{fontWeight:ge().Ue.regular,color:e.mediumTextColor,fontSize:ge().JB.UIRegular.desktop,maxHeight:72,textAlign:"center",padding:"0px 68px",marginBottom:24},icon:{height:40,width:40},iconGroup:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gridColumnGap:9,marginBottom:9},arrowRight:{width:20,height:20,opacity:.4,fontWeight:ge().Ue.bold,padding:3},notionLogo:{height:40,width:40,color:e.regularIconColor},closeButton:{position:"absolute",top:14,right:14,zIndex:10,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",background:e.buttonHoveredBackground,width:20,height:20},closeButtonHover:{background:e.buttonPressedBackground},closeButtonIcon:{width:14,fill:e.mediumTextColor},headerWrapper:{marginBottom:18},invalidInput:{boxShadow:e.outlineRedInputBoxShadow},buttonItem:{color:e.mediumTextColor}})),[])}function Jt(e){const t=(0,n().Kw)(Dt),o=Qt(),{isFetchingAccount:a}=t,{environment:s,spaceStore:r,onComplete:i}=e;return(0,he.jsx)(qe().Z,{open:t.showAuthPopup,innerStyle:{width:450,height:"fit-content",overflow:"scroll",borderRadius:5,maxHeight:675,minHeight:300,padding:6},onDismiss:()=>{Dt.setState({...Dt.state,invalidFields:[],showAuthPopup:!1,personalAccessToken:"",email:""})},render:()=>a?(0,he.jsx)(Xt,{loading:t.isFetchingAccount}):(0,he.jsxs)("div",{style:o.wrapper,children:[(0,he.jsx)(to,{handleModalClose:()=>{Dt.setState({...Dt.state,showAuthPopup:!1})}}),(0,he.jsx)(eo,{email:(0,he.jsx)(Ye().gq,{style:{alignItems:"center",gap:2},children:(0,he.jsx)(p()._H,{id:"quipAuthentication.emailMessage",defaultMessage:"Email"})}),personalAccessToken:(0,he.jsx)(Ye().gq,{style:{alignItems:"center",gap:2},children:(0,he.jsx)(p()._H,{id:"quipAuthentication.personalAccessTokenMessage",defaultMessage:"Personal Access Token"})})}),(0,he.jsx)(oo,{children:(0,he.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,he.jsx)(Ue().Z,{onClick:async()=>{await async function(e){const{environment:t,email:o,personalAccessToken:a,spaceStore:s,companyId:n,account:r}=e,i=function(e){const{email:t,personalAccessToken:o}=e,a=[];t&&Lt().B(t,"email")||a.push("email");o||a.push("personalAccessToken");return a}({email:o,personalAccessToken:a});if(i.length)return void Dt.setState({...Dt.state,showAuthPopup:!0,isFetchingAccount:!1,invalidFields:i});if(r){if(!(await no({environment:t,spaceStore:s})))return}const l=await async function(e){const{environment:t,email:o,personalAccessToken:a,spaceId:s,companyId:n}=e;if(Dt.setState({...Dt.state,isFetchingAccount:!0}),!(t.currentUser.id&&o&&s&&a))return;const r=await x().callApi({eventName:"authenticateQuipUser",environment:t,data:{userId:t.currentUser.id,email:o,personalAccessToken:a,spaceId:s,companyId:n}});return r&&"failed"!==r.type?r.data:void 0}({environment:t,email:o,personalAccessToken:a,spaceId:s.id,companyId:n});void 0===l?(f().PV({message:qt().Z.formatMessage($t.authenticationFailed)}),Dt.setState({...Dt.state,showAuthPopup:!0,isFetchingAccount:!1})):Dt.setState({...Dt.state,showAuthPopup:!1,isFetchingAccount:!1})}({environment:s,email:t.email,spaceStore:r,personalAccessToken:t.personalAccessToken,companyId:t.companyId,account:t.account});const e=await Et({environment:s,spaceStore:r});i(e)},children:(0,he.jsx)(p()._H,{...$t.importCta})})})})]})})}function Xt(e){const t=Qt();return(0,he.jsx)(he.Fragment,{children:e.loading&&(0,he.jsx)("div",{style:t.spinner,children:(0,he.jsx)(ie().Z,{style:{position:"absolute",top:"50%",left:"50%"}})})})}function eo(e){let{email:t,personalAccessToken:o}=e;const a=(0,n().Kw)(Dt),s=Qt();return(0,he.jsx)(_e().Z,{debugName:"QuipImportOption",capture:!0,children:(0,he.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%",width:"100%"},children:(0,he.jsx)("div",{style:{overflowY:"scroll"},children:(0,he.jsxs)("div",{style:{padding:2},children:[(0,he.jsxs)("div",{children:[(0,he.jsx)("label",{htmlFor:"email",style:{...s.inputLabels},children:t}),(0,he.jsx)(Re().Z,{size:8,isHidden:!0}),(0,he.jsx)(Ve().Z,{id:"email",value:a.email,autoComplete:"off",autoCapitalize:"off",onChange:e=>{Dt.setState({...Dt.state,email:e.target.value,invalidFields:[]})},showClearButton:!0,placeholder:"sample@gmail.com",style:{...s.inputBox,...a.invalidFields.includes("email")&&s.invalidInput}})]}),(0,he.jsx)(Re().Z,{size:14,isHidden:!0}),(0,he.jsxs)("div",{children:[(0,he.jsx)("label",{htmlFor:"personalAccessToken",style:{...s.inputLabels},children:o}),(0,he.jsx)(Re().Z,{size:8,isHidden:!0}),(0,he.jsx)(Ve().Z,{id:"personalAccessToken",type:"password",value:a.personalAccessToken,showClearButton:!0,onChange:e=>{Dt.setState({...Dt.state,personalAccessToken:e.target.value,invalidFields:[]})},placeholder:"Paste your token here",inputElementAttributes:{minLength:4},style:{...s.inputBox,...a.invalidFields.includes("personalAccessToken")&&s.invalidInput}}),(0,he.jsx)(Re().Z,{size:8,isHidden:!0}),(0,he.jsx)("div",{style:{...s.captionText,marginBottom:18},children:(0,he.jsx)(p()._H,{id:"quipAuthentication.stepsToGetPersonalAccessToken",defaultMessage:"<getapitokenlink>Get Personal Access Token</getapitokenlink>",values:{getapitokenlink:function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return(0,he.jsx)(Gt().Z,{external:!0,href:"https://quip.com/dev/token",onClick:()=>{},children:t})}}})})]})]})})})})}function to(e){let{handleModalClose:t,caption:o,title:a}=e;const s=Qt(),n=a||$t.headerTitle;return(0,he.jsxs)("div",{style:s.headerWrapper,children:[(0,he.jsx)(fe().Z,{onClick:t,style:s.closeButton,hoveredStyle:s.closeButtonHover,children:(0,zt().D)(s.closeButtonIcon)}),(0,he.jsxs)("div",{style:s.iconGroup,children:[(0,he.jsx)("img",{style:s.icon,src:i().Z.images.import.quipPng,alt:"Quip Icon"}),(0,Wt().k)(s.arrowRight),(0,Kt().h)(s.notionLogo)]}),(0,he.jsx)("div",{style:s.header,children:(0,he.jsx)(p()._H,{...n})}),o]})}function oo(e){return(0,he.jsx)("div",{children:e.children})}const ao=function(e){const t=(0,n().Kw)(z().Z),o=(0,n().Kw)(Dt),{spaceStore:r,onComplete:l}=e,{account:d,authResponse:u,accountEmail:m}=o,g=(0,s().O7)(),f=(0,p().YB)(),{device:h}=g,v=Qt(),y=(0,a.useCallback)((async()=>{await async function(e){const{environment:t,spaceStore:o,account:a,authResponse:s}=e;if(a)Dt.setState({...Dt.state,showAuthPopup:!1,personalAccessToken:void 0,email:void 0,companyId:void 0});else{Dt.setState({...Dt.state,isFetchingAccount:!0});let e=s;void 0===e&&(e=await async function(e){const{environment:t,spaceId:o}=e;let a={account:"",email:""};try{const e=await x().callApi({eventName:"getQuipAccount",environment:t,data:{spaceId:o}});"success"===e.type&&(a=e.data)}catch(s){}finally{return a}}({environment:t,spaceId:o.id})),e&&""!==e.account?Dt.setState({...Dt.state,showAuthPopup:!1,personalAccessToken:void 0,email:void 0,companyId:void 0,account:e.account,accountEmail:e.email}):Dt.setState({...Dt.state,isFetchingAccount:!1,showAuthPopup:!0})}}({environment:g,account:d,spaceStore:r,authResponse:u})}),[g,d,r,u]),I=t.flowId||c().Il();(0,a.useEffect)((()=>{t.flowId||z().Z.setState({flowId:I})}),[I,t]);const S={title:f.formatMessage({id:"quipImportOption.quipButton.title",defaultMessage:"Quip"}),logo:i().Z.images.import.quipPng,actionButton:d?(j=[{name:f.formatMessage({id:"quipImportOption.actionsMenu.connectAnotherAccount",defaultMessage:"Connect another account"}),action:()=>{so({})}},{name:f.formatMessage({id:"quipImportOption.actionsMenu.removeIntegration",defaultMessage:"Remove account"}),action:async()=>{await no({environment:g,spaceStore:r})}}],(0,he.jsx)(se().ZP,{popupType:de().kQ.Popup,renderOrigin:e=>(0,he.jsx)(ne().Z,{ariaLabel:f.formatMessage({id:"quipImportOption.quipButton.ariaLabel",defaultMessage:"Import from Quip.com button"}),icon:q().o,...e}),render:e=>{const t=j.map((t=>{let{name:o,captionText:a,action:s}=t;const n={key:o,render:e=>(0,he.jsx)(ae().Z,{...e,title:o,caption:a,captionStyle:a?Yt:void 0}),action:()=>{s(),e.close()}};return n})),o={key:"section",render:e=>(0,he.jsx)(pe().Z,{...e}),items:t};return(0,he.jsx)(le().Z,{menuType:F().o.Popup,width:200,children:(0,he.jsx)(ce().Z,{type:ce().i.Vertical,initialFocus:void 0,sections:[o]})})}})):void 0,onClick:()=>{}};var j;return(0,he.jsxs)(he.Fragment,{children:[(0,he.jsx)(se().ZP,{onClick:y,popupType:h.isMobile?se().Z4.SlideUp:se().Z4.Popup,renderOrigin:e=>{let{onClick:t}=e;return(0,he.jsx)(Ie,{...S,onClick:t})},render:()=>d?(0,he.jsxs)(a.Fragment,{children:[(0,he.jsx)(pe().Z,{children:(0,he.jsx)(Le().Z,{title:(0,he.jsx)(p()._H,{defaultMessage:"Import from {email}",id:"quipImportOption.menuItem.email.label",values:{email:m}}),onClick:async()=>{const e=await Et({environment:g,spaceStore:r});l(e)},focused:!1})}),(0,he.jsx)(pe().Z,{topBorder:!0,children:(0,he.jsx)(Le().Z,{title:(0,he.jsx)(p()._H,{defaultMessage:"Connect another account",id:"quipImportOption.menuItem.connectAnotherQuipAccount.label"}),onClick:()=>so({}),style:v.buttonItem,focused:!1})})]}):null}),(0,he.jsx)(Jt,{environment:g,spaceStore:r,flowId:I,onComplete:l})]})};function so(e){Dt.setState({...Dt.state,isFetchingAccount:!1,showAuthPopup:!0,personalAccessToken:void 0,email:void 0,companyId:void 0})}async function no(e){const{environment:t,spaceStore:o}=e,a=await async function(e){const{environment:t,spaceId:o}=e,a=await x().callApi({eventName:"disconnectQuipAccount",environment:t,data:{spaceId:o}});if(a&&"failed"!==a.type)return a.data}({environment:t,spaceId:o.id});return void 0===a?(f().PV({message:qt().Z.formatMessage($t.disconnectFailed)}),!1):(Dt.setState({...Dt.state,account:void 0,accountEmail:void 0}),!0)}const ro=function(e){let{requestStore:t,analyticsFrom:o,trelloResult:r,renderItemActionsButton:l,spaceStore:c,spaceViewStore:d,onComplete:u}=e;const g=(0,s().O7)(),f=(0,p().YB)(),{boardsResponse:h,showLoader:v,isFetchingBoards:y}=(0,n().VK)((()=>{const{boardsResponse:e,showLoader:t,isFetchingBoards:o}=J().default.state;return{boardsResponse:e,showLoader:t,isFetchingBoards:o}}),[]),I=(0,a.useCallback)((()=>async function(e,t,o,a){a&&await k().u(e,t);m().ay(e,{import_source:"trello",from:o})}(g,t,o,y)),[g,t,o,y]),{device:S}=g,{account:j}=r,w=h.boards,T={key:"default",name:f.formatMessage({id:"trelloImportOption.boardProperty.defaultName",defaultMessage:"Boards"}),items:w.map((e=>({key:e.id,name:e.name})))},C={title:"Trello",logo:i().Z.images.import.trelloPng,actionButton:j&&v?(0,he.jsx)(ie().Z,{}):j&&l([{name:f.formatMessage({id:"trelloImportOption.actionsMenu.import",defaultMessage:"Import"}),action:()=>K().Z.setState({open:!0})},{name:f.formatMessage({id:"trelloImportOption.actionsMenu.connectAnotherAccount",defaultMessage:"Connect another account"}),action:()=>io(t,g)},{name:f.formatMessage({id:"trelloImportOption.actionsMenu.removeIntegration",defaultMessage:"Remove"}),action:()=>async function(e,t){await x().callApi({eventName:"disconnectTrello",environment:t,data:{}}),J().default.setState({boardsResponse:{boards:[]},isFetchingBoards:!0,showLoader:!1}),await e.refresh(),m().qJ(t,{integration_name:"trello"})}(t,g)}]),onClick:()=>{}};return(0,he.jsx)(se().ZP,{popupType:S.isMobile?se().Z4.SlideUp:se().Z4.Popup,buttonPopupStore:K().Z,onClick:I,render:()=>v?(0,he.jsx)(he.Fragment,{}):(0,he.jsx)(mt,{searchInputPlaceholder:f.formatMessage({id:"trelloImportOption.search.placeholder",defaultMessage:"Search for a boardâ€¦"}),noSearchResultsPlaceholder:f.formatMessage({id:"trelloImportOption.search.noResultsPlaceholder",defaultMessage:"No boards found."}),analyticsName:"trello",sections:[T],onComplete:e=>async function(e,t,o,a,s,n){const{boards:r}=e,i=r.filter((e=>Boolean(t.find((t=>t.key===e.id)))));m().G7(n,{integration_name:"trello",count:t.length});const l=await b().su({environment:n,spaceStore:o,spaceViewStore:a,boards:i});m().qy(n,{import_source:"trello",data:{notebooks:i.map((e=>e.id)),userId:n.currentUser.id,spaceId:(0,nt().J)(o.id)}}),s(l)}(h,e,c,d,u,g)}),renderOrigin:e=>{let{onClick:o}=e;return(0,he.jsx)(Ie,{...C,onClick:j?o:()=>io(t,g)})}})};async function io(e,t){await k().M({environment:t,requestStore:e})}const lo={display:"flex",alignItems:"center",justifyContent:"center",minHeight:240,width:"100%",overflow:"hidden"};function co(e){let{analyticsFrom:t,spaceStore:o,onComplete:i,spaceViewStore:l,userSettingsStore:c,pageStore:d}=e;const u=(0,s().O7)(),m=(0,r().Fg)(),[g,f]=(0,a.useState)(!1),h=(0,n().qz)(void 0,$().Z),v=(0,n().qz)(void 0,$().Z),y=(0,n().qz)(void 0,$().Z),x=(0,n().qz)(void 0,$().Z),I=(0,n().qz)(void 0,$().Z),S=(0,n().VK)((()=>N().default.state.online),[]),j=(0,n().VK)((()=>Q().default.getState()),[]),b=(0,a.useCallback)((e=>{v.refresh=e.confluence,y.refresh=e.evernote,I.refresh=e.googleDoc,h.refresh=e.jira,x.refresh=e.trello}),[v,y,I,h,x]),w=(0,n().VK)((()=>ho()),[]),k=(0,a.useCallback)((e=>{if(e){const{defaultSubtab:a}=j;return g||(f(!0),mo({defaultSubtab:a,pageStore:d,spaceStore:o,spaceViewStore:l,trelloRequestStore:x,evernoteRequestStore:y,confluenceRequestStore:v,googleDocRequestStore:I,result:e,environment:u,onComplete:i,analyticsFrom:t,flowId:w})),Q().default.setState({...Q().default.state,defaultSubtab:void 0}),(0,he.jsx)("div",{style:lo,children:(0,he.jsx)(To,{analyticsFrom:t,onComplete:i,spaceStore:o,spaceViewStore:l,userSettingsStore:c,pageStore:d,trelloRequestStore:x,evernoteRequestStore:y,confluenceRequestStore:v,jiraRequestStore:h,googleDocRequestStore:I,result:e})})}return(0,he.jsx)("div",{style:"onboarding"===t?{}:lo,children:(0,he.jsx)(ie().Z,{})})}),[t,v,u,y,w,I,h,i,d,j,o,l,x,c,g]);return S?(0,he.jsx)(Io,{spaceStore:o,setRefreshers:b,renderChildren:k}):(0,he.jsx)("div",{style:{...lo,fontSize:14,color:m.mediumTextColor},children:(0,he.jsx)(p()._H,{id:"importOptions.offlineErrorMessage",defaultMessage:"Please go online to import."})})}function po(e){let{analyticsFrom:t,spaceStore:o,onComplete:a,spaceViewStore:i,userSettingsStore:l,pageStore:c}=e;const d=(0,s().O7)(),u=(0,r().Fg)(),m=(0,n().qz)(void 0,$().Z),g=(0,n().qz)(void 0,$().Z),f=(0,n().qz)(void 0,$().Z),h=(0,n().qz)(void 0,$().Z),v=(0,n().qz)(void 0,$().Z),y=(0,n().qz)(void 0,$().Z),x=(0,n().qz)(void 0,$().Z),I=(0,n().VK)((()=>N().default.state.online),[]),S=(0,n().VK)((()=>Q().default.getState()),[]),j=(0,n().VK)((()=>ho()),[]);return I?(0,he.jsx)(So,{spaceStore:o,trelloRequestStore:y,asanaRequestStore:v,evernoteRequestStore:h,confluenceRequestStore:f,mondayRequestStore:g,jiraRequestStore:m,googleDocRequestStore:x,renderChildren:e=>{if(e){const{defaultSubtab:s}=S;return mo({defaultSubtab:s,pageStore:c,spaceStore:o,spaceViewStore:i,trelloRequestStore:y,evernoteRequestStore:h,confluenceRequestStore:f,googleDocRequestStore:x,result:e,environment:d,onComplete:a,analyticsFrom:t,flowId:j}),Q().default.setState({...Q().default.state,defaultSubtab:void 0}),(0,he.jsx)("div",{style:lo,children:(0,he.jsx)(To,{analyticsFrom:t,onComplete:a,spaceStore:o,spaceViewStore:i,userSettingsStore:l,pageStore:c,trelloRequestStore:y,evernoteRequestStore:h,confluenceRequestStore:f,jiraRequestStore:m,googleDocRequestStore:x,result:e})})}return(0,he.jsx)("div",{style:"onboarding"===t?{}:lo,children:(0,he.jsx)(ie().Z,{})})}}):(0,he.jsx)("div",{style:{...lo,fontSize:14,color:u.mediumTextColor},children:(0,he.jsx)(p()._H,{id:"importOptions.offlineErrorMessage",defaultMessage:"Please go online to import."})})}const uo=function(e){return(0,o(466970).E)("use_new_import_options")?(0,he.jsx)(co,{...e}):(0,he.jsx)(po,{...e})};function mo(e){let{defaultSubtab:t,environment:o,pageStore:a,spaceStore:s,spaceViewStore:n,trelloRequestStore:r,evernoteRequestStore:i,confluenceRequestStore:l,googleDocRequestStore:p,result:f,onComplete:h,analyticsFrom:v,flowId:x}=e;if(t){if(!d().UP.includes(t)||"gdocs"===t&&f.googleDocResult.isGoogleDocImporterEnabled)switch(t){case"trello":!function(e,t,o){const a=o.account;a?k().u(e,t).then((()=>{K().Z.setState({open:!0})})).catch((()=>{J().default.setState({...J().default.state,isFetchingBoards:!1,showLoader:!1})})):k().M({environment:e,requestStore:t}).then((()=>{})).catch((()=>{}))}(o,r,f.trelloResult);break;case"evernote":!function(e,t,o){const{userInfo:a}=o;a?j().B({environment:e,requestStore:t}).then((()=>{W().Z.setState({open:!0})})).catch((()=>{})):j().e({environment:e,requestStore:t}).then((()=>{})).catch((()=>{}))}(o,i,f.evernoteResult);break;case"monday":!function(e,t,o){t.user?w().FM({environment:e,spaceId:o}).then((()=>{Y().default.setState({...Y().default.state,currentTab:"selectData",isModalOpen:!0})})).catch((()=>{})):Y().default.setState({...Y().default.state,showAuthPopup:!0})}(o,f.mondayResult,s.id);break;case"confluenceApi":!function(e,t,o,a){const{account:s}=t;Q().default.setState({...Q().default.state,open:!0,currentTab:"imports",highlightedSetting:void 0,defaultSubtab:void 0}),s?S({environment:e,requestStore:a,spaceId:o}).then((()=>{E().Z.setState({open:!0})})).catch((()=>{y.setState({...y.state,[o]:{...y.state[o],showLoader:!1}})})):y.setState({...y.state,[o]:{...y.state[o],open:!0}})}(o,f.confluenceResult,s.id,l);break;case"asana":!function(e,t){const{account:o}=t;o?g().bA({environment:e}).then((()=>{H().default.setState({...H().default.state,isModalOpen:!0})})).catch((()=>{H().default.setState({...H().default.state,isAccountLinkingInProgress:!1,isModalOpen:!1})})):g().w1({environment:e,flowId:c().Il()}).then((()=>{})).catch((()=>{}))}(o,f.asanaResult);break;case"jira":!function(e,t){const{account:o}=t;if(!o)return;const a=G().ZP.getState(),s=G().ZP.createNewFlowId();o.length?(G().ZP.setState({...a,type:"teamspace-selection",open:!0}),(0,T().j)({environment:e,event:{eventName:"external_sync_teamspace_selection",eventProperties:{integration:"jira",actionType:"teamspace_modal_render",flowId:s}}})):(G().ZP.setState({...a,type:"auth",open:!0}),(0,T().j)({environment:e,event:{eventName:"external_sync_auth",eventProperties:{integration:"jira",actionType:"admin_auth_render",flowId:s}}}));Q().default.setState(Q().default.getInitialState())}(o,f.jiraResult);break;case"gdocs":!function(e){const{requestStore:t,spaceStore:o,spaceViewStore:a,environment:s,analyticsFrom:n,pageStore:r,onComplete:i,areAccountsFetched:l,googleDriveResponse:c,selectedFileId:d}=e;kt({environment:s,requestStore:t,areAccountsFetched:l,analyticsFrom:n,googleDriveResponse:c,pageStore:r,spaceStore:o,spaceViewStore:a,selectedFileId:d,onComplete:i}).then((()=>{})).catch((()=>{}))}({environment:o,requestStore:p,analyticsFrom:v,pageStore:a,onComplete:h,spaceStore:s,spaceViewStore:n,areAccountsFetched:f.googleDocResult.areAccountsFetched,googleDriveResponse:f.googleDocResult.accountsResponse,selectedFileId:f.googleDocResult.selectedFileId})}else!function(e){let{environment:t,pageStore:o,spaceStore:a,spaceViewStore:s,uploadType:n,onComplete:r,analyticsFrom:i}=e;if(!o)return;b().Pv({environment:t,pageStore:o,spaceStore:a,spaceViewStore:s,analyticsFrom:i,uploadType:n,flowId:c().Il()}).then((e=>{e&&(u().W(t,{from:"import",type:"page",new_page_id:e.id,creating_block_id:e.id,parent_collection_id:e.getParentCollectionIdUpToTwoLevels()}),r(e))})).catch((()=>{}))}({pageStore:a,spaceStore:s,spaceViewStore:n,environment:o,uploadType:t,onComplete:h,analyticsFrom:v});m().ay(o,{import_source:t,from:v,flowId:x,userId:o.currentUser.id,spaceId:s.id})}}function go(e){let{url:t,helpButtonMessage:o,helpMessageWidth:a,disableBackground:s}=e;return(0,he.jsx)(ue().Z,{renderTooltip:()=>o??(0,he.jsx)(p()._H,{id:"importOptions.helpButton.tooltip",defaultMessage:"Learn about how to import"}),style:{width:a??"max-content"},textWrap:!0,render:e=>(0,he.jsx)(re().Z,{external:!0,href:t,style:{marginLeft:"auto"},...e,children:(0,he.jsx)(ne().Z,{icon:O().m,disableBackground:s??!1})})})}function fo(e){let{actions:t}=e;return(0,he.jsx)(se().ZP,{popupType:de().kQ.Popup,renderOrigin:e=>(0,he.jsx)(ne().Z,{icon:q().o,...e}),render:e=>{const o={key:"section",render:e=>(0,he.jsx)(pe().Z,{...e}),items:t.map((t=>{let{name:o,action:a}=t;return{key:o,render:e=>(0,he.jsx)(Le().Z,{...e,title:o}),action:()=>{a(),e.close()}}}))};return(0,he.jsx)(le().Z,{menuType:F().o.Popup,width:200,children:(0,he.jsx)(ce().Z,{type:ce().i.Vertical,initialFocus:void 0,sections:[o]})})}})}function ho(){return z().Z.state.flowId||c().Il()}async function vo(e,t,o,a,s,n,r,i){m().ay(n,{import_source:e,from:t,import_type:"file",flowId:i});const l=await b().Pv({environment:n,pageStore:r,spaceStore:o,spaceViewStore:a,analyticsFrom:t,uploadType:e,flowId:i});l&&(u().W(n,{from:"import",type:"page",new_page_id:l.id,creating_block_id:l.id,parent_collection_id:l.getParentCollectionIdUpToTwoLevels()}),s(l))}function yo(e){let{flowId:t,analyticsFrom:o,spaceStore:a,spaceViewStore:n,onComplete:r,pageStore:l}=e;const c=(0,s().O7)();return(0,he.jsx)(Ie,{title:"Confluence",logo:i().Z.images.import.confluencePng,onClick:()=>vo("confluence",o,a,n,r,c,l,t),actionButton:(0,he.jsx)(go,{url:(0,_().UY)("guides.importConfluence")})})}function xo(e){let{analyticsFrom:t,spaceStore:o,spaceViewStore:a,onComplete:n,pageStore:r}=e;const l=(0,s().O7)();return(0,he.jsx)(ue().Z,{placement:U().Placement.Bottom,render:e=>(0,he.jsx)(Ie,{tooltipEvents:e,title:"CSV",logo:i().Z.images.import.csvPng,onClick:()=>vo("csv",t,o,a,n,l,r)}),renderTooltip:()=>(0,he.jsx)(p()._H,{id:"importOptions.csvImport.tooltip",defaultMessage:"Ensure first row in the CSV is the header"})})}function Io(e){const{renderChildren:t,spaceStore:o,setRefreshers:r}=e,i=(0,s().O7)(),c=o.id,[d,p]=(0,l().r5)((()=>(0,A().z_)(i)),[i]),[u,m]=(0,l().r5)((()=>(0,A().Cz)(i,c)),[i,c]),[g,f]=(0,l().r5)((()=>(0,A().Gq)(i)),[i]),[h,v]=(0,l().r5)((()=>(0,A().hi)()),[]),[y,x]=(0,l().r5)((()=>(0,A().jl)(i,c)),[i,c]),[I,S]=(0,l().r5)((()=>(0,A().az)(i,c)),[i,c]),[j,b]=(0,l().r5)((()=>(0,A().eT)(i)),[i]);(0,a.useEffect)((()=>{r({confluence:async()=>{await m()},evernote:async()=>{await f()},googleDoc:async()=>{await v()},jira:async()=>{await x()},trello:async()=>{await b()}})}),[r,p,m,f,v,x,S,b]);return(0,n().VK)((()=>t(j.value&&d.value&&g.value&&u.value&&I.value&&y.value&&h.value?{trelloResult:j.value,asanaResult:d.value,evernoteResult:g.value,confluenceResult:u.value,mondayResult:I.value,jiraResult:y.value,googleDocResult:h.value}:void 0)),[t,j,d,g,u,I,y,h])}function So(e){let{renderChildren:t,spaceStore:o,trelloRequestStore:a,asanaRequestStore:n,evernoteRequestStore:r,confluenceRequestStore:i,mondayRequestStore:l,jiraRequestStore:c,googleDocRequestStore:d}=e;const p=(0,s().O7)();return(0,he.jsx)(Pe().Z,{request:p,performRequest:A().eT,requestStore:a,render:(e,a)=>(0,he.jsx)(Pe().Z,{request:p,performRequest:A().z_,requestStore:n,render:(e,s)=>(0,he.jsx)(Pe().Z,{request:p,performRequest:A().Gq,requestStore:r,render:(e,n)=>(0,he.jsx)(Pe().Z,{request:p,performRequest:()=>(0,A().Cz)(p,o.id),requestStore:i,render:(e,r)=>(0,he.jsx)(Pe().Z,{request:p,performRequest:()=>(0,A().az)(p,o.id),requestStore:l,render:(e,i)=>(0,he.jsx)(Pe().Z,{request:p,performRequest:()=>(0,A().jl)(p,o.id),requestStore:c,render:(e,o)=>(0,he.jsx)(Pe().Z,{request:p,performRequest:A().hi,requestStore:d,render:(e,l)=>t(a&&s&&n&&r&&i&&o&&l?{trelloResult:a,asanaResult:s,evernoteResult:n,confluenceResult:r,mondayResult:i,jiraResult:o,googleDocResult:l}:void 0)})})})})})})})}function jo(e){let{analyticsFrom:t,onComplete:o,spaceStore:a,spaceViewStore:s,userSettingsStore:n,googleDocRequestStore:r,pageStore:i}=e;return(0,he.jsx)(bt,{renderItemActionsButton:e=>(0,he.jsx)(fo,{actions:e}),onComplete:o,requestStore:r,spaceStore:a,spaceViewStore:s,userSettingsStore:n,pageStore:i,analyticsFrom:t})}function bo(e){let{trelloResult:t,analyticsFrom:o,onComplete:a,spaceStore:s,spaceViewStore:n,userSettingsStore:r,trelloRequestStore:i}=e;return(0,he.jsx)(ro,{trelloResult:t,analyticsFrom:o,renderItemActionsButton:e=>(0,he.jsx)(fo,{actions:e}),onComplete:a,requestStore:i,spaceStore:s,spaceViewStore:n,userSettingsStore:r})}function wo(e){let{confluenceResult:t,flowId:o,analyticsFrom:a,onComplete:n,spaceStore:r,spaceViewStore:i,userSettingsStore:l,pageStore:c,confluenceRequestStore:d}=e;const p=(0,s().O7)();return(0,he.jsx)(st,{confluenceResult:t,analyticsFrom:a,flowId:o,renderItemActionsButton:e=>(0,he.jsx)(fo,{actions:e}),onComplete:n,spaceStore:r,requestStore:d,spaceViewStore:i,userSettingsStore:l,handleFileUploadClick:(e,t)=>vo(e,a,r,i,n,p,c,t),handleApiImportClick:(e,t)=>function(e,t,o,a,s,n){S({environment:s,requestStore:t,spaceId:o.id}).catch((()=>{})),m().ay(s,{import_source:e,from:a,import_type:"api",flowId:n})}(e,d,r,a,p,t)})}function ko(e){let{evernoteResult:t,onComplete:o,spaceStore:a,spaceViewStore:s,userSettingsStore:n,evernoteRequestStore:r}=e;return(0,he.jsx)(vt,{evernoteResult:t,analyticsFrom:"onboarding",renderItemActionsButton:e=>(0,he.jsx)(fo,{actions:e}),defaultActionButton:(0,he.jsx)(go,{url:(0,_().UY)("guides.importEvernote")}),onComplete:o,requestStore:r,spaceStore:a,spaceViewStore:s,userSettingsStore:n})}function To(e){let{result:t,analyticsFrom:o,onComplete:a,spaceStore:r,spaceViewStore:l,userSettingsStore:c,pageStore:d,trelloRequestStore:u,evernoteRequestStore:m,confluenceRequestStore:g,jiraRequestStore:f,googleDocRequestStore:h}=e;const v=(0,s().O7)(),y=(0,n().VK)((()=>ho()),[]),x=(0,n().VK)((()=>(0,C().Tc)(v)),[v]),I=(0,n().VK)((()=>(0,B().d)()),[]),S=(0,n().VK)((()=>R().default.checkGate({gateName:"quip_importer"})),[]),j=(0,n().VK)((()=>(0,M().tt)()),[]),b=(0,n().VK)((()=>(0,M().RT)()),[]),w=(0,n().VK)((()=>(0,Z().K6)()),[]),k=(0,n().VK)((()=>(0,V().lQ)(r)),[r]),T=(0,n().VK)((()=>(0,Z().Eg)()),[])&&!k,A=(0,n().VK)((()=>(0,L().n)()),[]),F=(0,n().VK)((()=>(0,P().I)()),[]);return(0,he.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",overflow:"hidden",gridAutoRows:"1fr",gap:"4px 20px",padding:2,width:"100%"},children:[(0,he.jsx)(Me,{}),x?(0,he.jsx)(wo,{analyticsFrom:o,onComplete:a,spaceStore:r,spaceViewStore:l,userSettingsStore:c,pageStore:d,confluenceRequestStore:g,confluenceResult:t.confluenceResult,flowId:y}):(0,he.jsx)(yo,{analyticsFrom:o,spaceStore:r,spaceViewStore:l,onComplete:a,pageStore:d,flowId:y}),F?(0,he.jsx)(jo,{onComplete:a,spaceStore:r,spaceViewStore:l,userSettingsStore:c,googleDocRequestStore:h,pageStore:d,analyticsFrom:o}):(0,he.jsx)(Ie,{title:"Google Docs",logo:i().Z.images.import.googleDocsPng,actionButton:(0,he.jsx)(go,{url:(0,_().UY)("guides.importGoogleDocs")}),onClick:()=>vo("gdocs",o,r,l,a,v,d)}),A&&(0,he.jsx)(Ie,{title:"PDF",showBetaBadge:!0,logo:i().Z.images.import.pdfSvg,onClick:()=>vo("pdf",o,r,l,a,v,d)}),(0,he.jsx)(xo,{analyticsFrom:o,spaceStore:r,spaceViewStore:l,onComplete:a,pageStore:d}),(0,he.jsx)(Ie,{title:(0,he.jsx)(p()._H,{id:"importOptions.textMarkdown.title",defaultMessage:"Text & Markdown"}),logo:i().Z.images.import.textPng,onClick:()=>vo("markdown",o,r,l,a,v,d)}),(0,he.jsx)(Ie,{title:"HTML",logo:i().Z.images.import.htmlPng,onClick:()=>vo("html",o,r,l,a,v,d)}),(0,he.jsx)(Ie,{title:"Word",logo:i().Z.images.import.wordPng,onClick:()=>vo("docx",o,r,l,a,v,d)}),(0,he.jsx)(Ie,{title:"Dropbox Paper",logo:i().Z.images.import.dropboxPaperPng,actionButton:(0,he.jsx)(go,{url:(0,_().UY)("guides.importDropboxPaper")}),onClick:()=>vo("dropbox",o,r,l,a,v,d)}),(0,he.jsx)(bo,{analyticsFrom:o,onComplete:a,spaceStore:r,spaceViewStore:l,userSettingsStore:c,trelloRequestStore:u,trelloResult:t.trelloResult}),(0,he.jsx)(ko,{onComplete:a,spaceStore:r,spaceViewStore:l,userSettingsStore:c,evernoteRequestStore:m,evernoteResult:t.evernoteResult}),I&&(0,he.jsx)(Bt,{spaceStore:r,analyticsFrom:o,flowId:y}),S&&(0,he.jsx)(ao,{spaceStore:r,analyticsFrom:o,flowId:y,onComplete:a}),!S&&(0,he.jsx)(Ie,{title:"Quip",logo:i().Z.images.import.quipPng,actionButton:(0,he.jsx)(go,{url:(0,_().UY)("guides.importQuip")}),onClick:()=>vo("quip",o,r,l,a,v,d)}),(0,he.jsx)(Ie,{title:"Workflowy",logo:i().Z.images.import.workflowyPng,actionButton:(0,he.jsx)(go,{url:(0,_().UY)("guides.importWorkflowy")}),onClick:()=>vo("workflowy",o,r,l,a,v,d)}),j&&!b&&(0,he.jsx)(Ie,{title:(0,he.jsx)(p()._H,{id:"importOptions.genericImporter.title",defaultMessage:"Universal import"}),icon:D().l,onClick:()=>vo("genericImporter",o,r,l,a,v,d,y),actionButton:(0,he.jsx)(go,{url:"",helpButtonMessage:(0,he.jsx)(p()._H,{id:"importOptions.universalImport.tooltip",defaultMessage:"Import any ZIP file that contains text, Markdown, CSV, HTML, and other files"}),helpMessageWidth:240,disableBackground:!0})}),w&&!T&&(0,he.jsx)(Mt,{flowId:y,spaceStore:r,showNewBadge:!1,showSyncBadge:!0,requestStore:f,jiraResult:t.jiraResult,renderItemActionsButton:e=>(0,he.jsx)(fo,{actions:e})})]})}},996185:(e,t,o)=>{o.d(t,{Z:()=>i});o(667294);var a=()=>o(788860),s=()=>o(906249),n=()=>o(67961),r=o(785893);const i=function(e){var t;const i=(0,o(846550).yK)((e=>({iconStyle:{width:6,height:6,fill:e.lightIconColor},closeIconStyle:{width:16,height:16,fill:e.redBadgeBackground},lightText:{color:e.lightTextColor}})),[]);return(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"},children:[(0,r.jsxs)(o(251932).gq,{style:{gap:8,marginTop:32,marginBottom:32,alignItems:"center"},children:[(0,r.jsx)("img",{style:{width:32,height:32,marginRight:8},src:e.assetSrc}),(0,s().h)(i.iconStyle),(0,s().h)(i.iconStyle),(0,s().h)(i.iconStyle),(0,o(654723).X)(i.closeIconStyle),(0,s().h)(i.iconStyle),(0,s().h)(i.iconStyle),(0,s().h)(i.iconStyle),(0,r.jsx)("img",{style:{width:32,height:32,marginLeft:8},src:o(714230).Z.images.notionLogoPng})]}),(0,r.jsx)(n().Z,{style:i.lightText,children:e.failedMessage}),(0,r.jsx)(n().Z,{style:i.lightText,children:(0,r.jsx)(a()._H,{id:"import.importingData.failed.viewLoggerPage",defaultMessage:"Please try again or read the {link} to troubleshoot.",values:{link:(0,r.jsx)("a",{style:{color:o(568017).ZP.black,cursor:"pointer"},href:`/${null===(t=e.loggerPageId)||void 0===t?void 0:t.replaceAll("-","")}`,children:(0,r.jsx)(a()._H,{id:"import.importingData.failed.linkText",defaultMessage:"import logs"})})}})})]})}},243818:(e,t,o)=>{o.d(t,{Z:()=>d});var a=o(667294),s=()=>o(846550),n=()=>o(788860),r=()=>o(67961),i=()=>o(251932),l=(o(241792),o(785893));const c=function(e){const{dotCount:t=6,speed:n=800}=e,[r,c]=(0,a.useState)(1),d=(0,s().yK)((e=>({iconStyle:{width:6,height:6,fill:e.lightIconColor,opacity:.5},iconStyleBold:{width:6,height:6,fill:e.lightIconColor}})),[]);return(0,a.useEffect)((()=>{const e=setInterval((()=>c((e=>e<t?e+1:1))),n);return()=>clearInterval(e)}),[t,n]),(0,l.jsx)(i().gq,{style:{gap:8,marginTop:32,marginBottom:32,alignItems:"center"},children:Array.from({length:t},((e,t)=>t+1)).map((e=>(0,l.jsx)("div",{children:(0,o(906249).h)(r===e?d.iconStyleBold:d.iconStyle)},e)))})};const d=function(e){const t=(0,o(142735).VK)((()=>o(199114).default.state.templateCreationInProgress),[]),a=(0,s().yK)((e=>({iconStyle:{width:6,height:6,fill:e.lightIconColor},iconStyleBold:{width:8,height:8,fill:e.mediumIconColor},lightText:{color:e.lightTextColor}})),[]);return(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%"},children:[(0,l.jsxs)(i().gq,{style:{gap:8,marginTop:32,marginBottom:32,alignItems:"center"},children:[(0,l.jsx)("img",{style:{width:32,height:32,marginRight:8},src:e.assetSrc}),(0,l.jsx)(c,{}),(0,l.jsx)("img",{style:{width:32,height:32,marginLeft:8},src:o(714230).Z.images.notionLogoPng})]}),t?(0,l.jsx)(r().Z,{style:a.lightText,children:(0,l.jsx)(n()._H,{id:"import.importingData.settingUpWorkspace",defaultMessage:"Creating templates for your projects and tasks."})}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i().gq,{children:(0,l.jsx)(r().Z,{style:a.lightText,children:(0,l.jsx)(n()._H,{id:"import.importingData.feelFreeToLeave",defaultMessage:"Data is being imported. Feel free to leave this window."})})}),(0,l.jsx)(i().gq,{children:(0,l.jsx)(r().Z,{style:a.lightText,children:(0,l.jsx)(n()._H,{id:"import.importingData.sendEmail",defaultMessage:"We will send you an email when the import is complete or if any problems occur."})})})]})]})}},3315:(e,t,o)=>{o.d(t,{Z:()=>O,M:()=>q});o(241792);var a=o(667294),s=()=>o(219727),n=()=>o(142735),r=()=>o(846550),i=()=>o(646574),l=()=>o(788860),c=()=>o(568017),d=()=>o(707513),p=()=>o(824462),u=()=>o(527278),m=()=>o(876822),g=()=>o(199114),f=()=>o(451378),h=()=>o(838266),v=()=>o(573357),y=()=>o(708518),x=o(785893);const I=function(e){let{fetchActiveImportTasks:t}=e;const s=(0,n().Kw)(g().default),{isModalOpen:r}=s,i=(0,a.useCallback)((()=>{g().default.resetImport()}),[]),l=(0,a.useCallback)((()=>{const{currentTab:e}=s;return(0,x.jsx)(o(129824).Z,{fetchActiveImportTasks:t,tab:e})}),[s,t]),c=(0,o(466970).E)("improved_asana_importer_screens");return(0,x.jsx)(y().Z,{open:r,innerStyle:{width:800,height:"calc(100vh - 100px)",overflow:"hidden",borderRadius:5,maxHeight:675,...c?{borderRadius:12,width:900}:{}},render:()=>(0,x.jsx)(v().Z,{capture:!0,allowEsc:!0,render:()=>l()}),onDismiss:i})};var S=()=>o(67961),j=()=>o(698850);const b=function(e){let{fetchActiveImportTasks:t}=e;const s=(0,n().Kw)(j().default),r=(0,a.useCallback)((()=>{j().default.resetImport()}),[]),i=(0,n().VK)((()=>(0,o(458121).u)()),[]),l=(0,a.useCallback)((()=>{let{currentTab:e}=s;return i?"selectData"===e&&(e="chooseWorkspace"):j().default.setState({...s,selectedImportType:"ProjectsAndTasks"}),(0,x.jsx)(o(454315).Z,{fetchActiveImportTasks:t,tab:e})}),[i,t,s]);return(0,x.jsx)(y().Z,{open:s.isModalOpen,innerStyle:{width:800,height:"calc(100vh - 100px)",overflow:"hidden",borderRadius:5,maxHeight:675,...i?{borderRadius:12,width:900}:{}},render:()=>(0,x.jsx)(v().Z,{capture:!0,allowEsc:!0,render:()=>l()}),onDismiss:r})};var w=()=>o(431595),k=()=>o(956057),T=()=>o(54512),C=()=>o(286310),M=()=>o(308186),P=()=>o(684715),A=()=>o(623521);class Z extends(()=>o(263184))().default{getInitialState(){return{isDragOverActive:!1}}}const F=new Z;const B=(0,l().vU)({invalidFileFormat:{id:"zipImportOptions.invalidFile",defaultMessage:"Unsupported file format, Please drag and drop a ZIP file"}});const L=function(e){const t=(0,s().O7)(),a=(0,n().VK)((()=>F.state.isDragOverActive),[]),i=(0,r().yK)((e=>({buttonStyle:{display:"flex",alignItems:"center",paddingLeft:12,paddingRight:12,paddingTop:2,paddingBottom:2,borderColor:e.outlineButtonBorder,border:1,borderWidth:1,borderRadius:4,height:32,gap:4,background:e.importOptionsButtonBackground},titleStyle:{fontSize:14,fontWeight:"medium",font:"SF Pro",color:e.text.primary,width:183,height:18,textAlign:"center"},divTitleStyle:{color:e.text.secondary,display:"flex",background:a?e.fill.grayPrimary:e.fill.lightGraySecondary,width:"100%",padding:"16px",justifyContent:"center",alignItems:"center",gap:12,borderRadius:8,border:a?"2px solid":"none",borderColor:a?e.stroke.uiBlueSecondary:e.fill.lightGraySecondary},divStyle:{display:"flex",alignItems:"center",marginTop:10,minWidth:0,width:"100%",gap:10},UiLabelStyle:{color:e.text.secondary,font:"SF Pro",fontWeight:400,fontSize:14}})),[a]),c=e=>{F.setState({...F.state,isDragOverActive:e})};return(0,x.jsx)("div",{onDrop:o=>{o.preventDefault(),c(!1);const a=o.dataTransfer.files[0];(async function(e,t,o,a){var s;if(1!==t.length)return;if("zip"!==(null===(s=t[0].name.split(".").pop())||void 0===s?void 0:s.toLowerCase())){const e=u().Z.formatMessage(B.invalidFileFormat);throw M().UW(e),new(w().p8)("Invalid file format, please upload it as a zip file")}const{mainEditorCurrentBlockStore:n,currentSpaceStore:r,currentSpaceViewStore:i}=m().default.state;if(!r||!i||!n)return;const l=R();C().ay(e,{import_source:"genericImporter",from:a,import_type:"file",flowId:l});const c=await P().ro({environment:e,pageStore:n,spaceStore:r,spaceViewStore:i,analyticsFrom:a,uploadType:"genericImporter",flowId:R()},t);c&&(T().W(e,{from:"import",type:"page",new_page_id:c.id,creating_block_id:c.id,parent_collection_id:c.getParentCollectionIdUpToTwoLevels()}),o(c))})(t,[a],e.onComplete,e.analyticsFrom).then((()=>{})).catch((()=>{}))},onDragOver:e=>{e.preventDefault(),e.stopPropagation(),c(!0)},onDragLeave:e=>{e.preventDefault(),c(!1)},style:i.divStyle,children:(0,x.jsxs)("div",{style:i.divTitleStyle,children:[(0,x.jsx)(V,{icon:o(683630).s}),(0,x.jsx)(S().Z,{isSecondaryColor:!0,style:i.UiLabelStyle,children:(0,x.jsx)(l()._H,{id:"zipImport.dragAndDrop",defaultMessage:"Drag and drop your ZIP files here, or"})}),(0,x.jsx)(o(745740).Z,{onClick:()=>async function(e,t,o,a){const s=m().default.state,{mainEditorCurrentBlockStore:n,currentSpaceStore:r,currentSpaceViewStore:i}=s;if(!r||!i||!n)return;const l=R();C().ay(e,{import_source:"genericImporter",from:a,import_type:"file",flowId:l});const c=await P().Pv({environment:e,pageStore:n,spaceStore:r,spaceViewStore:i,analyticsFrom:a,uploadType:t,flowId:l,allowMultiple:!1});c&&(T().W(e,{from:"import",type:"page",new_page_id:c.id,creating_block_id:c.id,parent_collection_id:c.getParentCollectionIdUpToTwoLevels()}),o(c))}(t,"genericImporter",e.onComplete,e.analyticsFrom),style:i.buttonStyle,children:(0,x.jsx)("div",{style:{minWidth:0,width:"100%"},children:(0,x.jsx)("div",{style:{display:"flex"},children:(0,x.jsx)("div",{style:i.titleStyle,children:(0,x.jsx)(l()._H,{id:"zipImport.uploadFile",defaultMessage:"Upload from your computer"})})})})})]})})};function R(){return A().Z.state.flowId||k().Il()}const _=20;function V(e){let{icon:t}=e;return(0,x.jsx)("div",{children:t({flexShrink:0,width:_,height:_,gap:10})})}const q=(0,l().vU)({tabTitle:{id:"importsTab.title",defaultMessage:"Import data"},tabSubtitle:{id:"importsTab.subtitle",defaultMessage:"Import data from other apps and files into Notion"},unsupportedImportsHelperText:{id:"importsTab.unsupportedImportsHelperText",defaultMessage:"If your data is located somewhere we don't support yet, you can try importing it via CSV file."},zipImportTitle:{id:"importsTab.zipImport.title",defaultMessage:"Donâ€™t see the app you use? Import a ZIP file, and Notion will convert DOCX, CSV, Text, Markdown, HTML and EPUB files into Notion pages."},activeImportsAndSyncsTitle:{id:"importsTab.activeImportsAndSyncs.title",defaultMessage:"Active imports & syncs"},activeImportsTitle:{id:"importsTab.activeImports.title",defaultMessage:"Active Imports"},activeImportsImportTime:{id:"importsTab.activeImports.importTime",defaultMessage:"Time"},activeImportsImportFrom:{id:"importsTab.activeImports.importFrom",defaultMessage:"From"},activeImportsImportStatus:{id:"importsTab.activeImports.importStatus",defaultMessage:"Status"},activeImportsTableNoActiveImports:{id:"importsTab.activeImportsTable.noActiveImports",defaultMessage:"There are no ongoing imports associated with your account."},activeImportsStatusInProgress:{id:"activeImports.status.inProgress",defaultMessage:"In progress"}}),O=function(e){const t=(0,n().Kw)(m().default),v=(0,n().Kw)(h().default),y=(0,n().Kw)(g().default),j=(0,n().Kw)(f().Z),{currentSpaceStore:w,mainEditorCurrentBlockStore:k,currentSpaceViewStore:T,currentUserSettingsStore:C}=t,M=(0,s().O7)(),{device:P}=(0,s().O7)(),A=(0,l().YB)(),Z=(0,n().VK)((()=>"dark"===M.ThemeStore.state.mode),[M]),[F,B]=(0,a.useState)([]),R=(0,n().VK)((()=>(0,o(148976).K6)()),[]),_=(0,a.useCallback)((async()=>{if(null==w||!w.id)return;const e=await p().callApi({eventName:"getActiveImportTasks",environment:M,data:{spaceId:w.id}});"success"===e.type&&B(e.data)}),[w,M]);(0,a.useEffect)((()=>{_().catch((()=>{}));const e=setInterval(_,6e4);return()=>clearInterval(e)}),[w,M,_]),(0,a.useEffect)((()=>{let e;const t=async a=>{const s=await p().callApi({eventName:"getAsanaWorkspacesNames",environment:M,data:{}});if(a+=1,"success"===s.type)if(null!=s&&s.data.account){var n;g().default.setState({...g().default.state,account:s.data.account,workspaces:s.data.workspaces,isLoadingAsanaWorkspaces:!1,isAccountLinkingInProgress:!1,currentTab:"selectData",selectedWorkspace:(null===(n=s.data)||void 0===n||null===(n=n.workspaces[0])||void 0===n?void 0:n.gid)||void 0,isModalOpen:!0})}else{if(a>o)return;e=setTimeout((()=>t(a)),2e3)}},o=180;if(y.isAccountLinkingInProgress){t(0).catch((()=>{}))}return()=>{clearTimeout(e)}}),[y.isAccountLinkingInProgress,M]),(0,o(801812).r5)((async()=>{let e;const t=async s=>{var n;const r=await p().callApi({eventName:"getEvernoteAccount",environment:M,data:{}});if(s+=1,"success"===r.type)if(null!=r&&r.data&&null!==(n=r.data)&&void 0!==n&&n.userInfo){f().Z.setState({...f().Z.state,isFetchingNotebooks:!0,showLoader:!0,linkingAccount:!1});const e=await p().callApi({eventName:"getEvernoteNotebooks",environment:M,data:{}});"success"===e.type&&f().Z.setState({...f().Z.state,notebooksResponse:e.data,isFetchingNotebooks:!1,showLoader:!1}),o(145607).Z.setState({open:!0})}else{if(s>a)return;e=setTimeout((async()=>await t(s)),2e3)}},a=180;if(j.linkingAccount){const e=0;await t(e).catch((()=>{}))}return()=>{clearTimeout(e)}}),[j.linkingAccount,M]);const V=(0,r().yK)((e=>({activeImportAndSyncTitle:{fontSize:d().JB.UIRegular.mobile,fontWeight:d().Ue.medium,lineHeight:d().Nv.UIRegular.mobile},arrowDownIcon:{width:11,height:12,gap:10,radius:3,fill:"#ACABA9"},activeImportsStatusTimeDiv:{display:"flex",alignItems:"center",flexDirection:"row",gap:4}})),[]),O=R?(0,x.jsx)(l()._H,{id:"importsTab.activeImportsAndSyncs.title",defaultMessage:"Active imports & syncs"}):(0,x.jsx)(l()._H,{id:"importsTab.activeImports.title",defaultMessage:"Active Imports"}),D=e=>{o(47443)._c({environment:M,store:e,pageVisitSource:o(506347).tY.Import}),h().default.reset()};return w&&T&&T&&C?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(o(868614).Z,{large:!P.isMobile||void 0,divider:P.isMobile?void 0:"full",children:A.formatMessage(q.tabTitle)}),(0,x.jsx)(S().Z,{children:A.formatMessage(q.tabSubtitle)}),(0,x.jsx)(S().Z,{isSmall:!0,children:e.genericImporterEnabled&&!e.zipImporterEnabled?(0,x.jsx)(l()._H,{id:"importsTab.unsupportedImportsHelperTextForUniversalImport",defaultMessage:"If the app youâ€™re using isnâ€™t listed below, try the <boldtext>Universal import</boldtext> ",values:{boldtext:e=>(0,x.jsx)("span",{style:{fontWeight:600},children:e})}}):A.formatMessage(q.unsupportedImportsHelperText)}),(0,x.jsxs)("div",{style:{marginTop:16,width:"100%",overflow:"hidden"},children:[(0,x.jsx)(o(667413).Z,{pageStore:k,spaceStore:w,spaceViewStore:T,userSettingsStore:C,analyticsFrom:v.openedFrom??"modal",onComplete:D,readOnlyCreditButton:!1}),(0,x.jsx)(I,{fetchActiveImportTasks:_}),(0,x.jsx)(b,{fetchActiveImportTasks:_})]}),e.zipImporterEnabled?(0,x.jsxs)("div",{style:{marginTop:32,width:"100%",gap:10,overflow:"hidden"},children:[(0,x.jsx)(S().Z,{isSecondaryColor:!0,isMultiline:!0,style:{font:"SF Pro",fontWeight:400,fontSize:14},children:A.formatMessage(q.zipImportTitle)}),(0,x.jsx)(L,{onComplete:D,analyticsFrom:v.openedFrom??"modal"})]}):(0,x.jsx)(x.Fragment,{}),(null==F?void 0:F.length)>0?(0,x.jsxs)("div",{style:{marginTop:32},children:[(0,x.jsx)(S().Z,{isMultiline:!0,style:V.activeImportAndSyncTitle,children:O}),(0,x.jsx)(o(378907).Z,{tableStyle:{borderTop:0},columns:[{key:"importTime",header:(0,x.jsxs)("div",{style:V.activeImportsStatusTimeDiv,children:[A.formatMessage(q.activeImportsImportTime),(0,o(404553).M)(V.arrowDownIcon)]})},{key:"importFrom",header:A.formatMessage(q.activeImportsImportFrom)},{key:"importStatus",header:A.formatMessage(q.activeImportsImportStatus)}],rows:F.map((e=>({key:`table-${e.taskId}`,columns:[e.startedAt?`${(0,i().Yx)(e.startedAt,"long",u().Z.getIntl().locale)} ${(0,i().Yx)(e.startedAt,"time",u().Z.getIntl().locale)}`:"",(0,o(513670).kC)(e.source),(0,x.jsx)(o(78014).Z,{isRound:!0,showRemoveButton:!1,value:(0,x.jsx)(S().Z,{children:A.formatMessage(q.activeImportsStatusInProgress)}),backgroundColor:Z?c().FN.dark.blue[200]:c().FN.light.blue[200],showColoredDot:"blue",format:o(38883).lo.Small,isSingle:!0},`progress-${e.taskId}`)]})))}),F.length?(0,x.jsx)(x.Fragment,{}):(0,x.jsx)(S().Z,{isSmall:!0,style:{marginTop:16},children:A.formatMessage(q.activeImportsTableNoActiveImports)})]}):(0,x.jsx)(x.Fragment,{})]}):(0,x.jsx)(x.Fragment,{})}},454315:(e,t,o)=>{o.d(t,{u:()=>le,Z:()=>ce});o(267602),o(470928),o(228244);var a=o(667294),s=()=>o(219727),n=()=>o(142735),r=()=>o(846550),i=()=>o(714230),l=()=>o(788860),c=()=>o(707513),d=()=>o(651275),p=()=>o(876822),u=()=>o(698850),m=()=>o(312578),g=()=>o(661297),f=()=>o(906651),h=()=>o(67961),v=()=>o(360964),y=(o(670560),o(122556),o(582845),o(250570),o(533019),o(721473),o(788208),o(22624),o(241792),()=>o(251932)),x=(o(653476),o(731107),()=>o(568017)),I=()=>o(241227),S=()=>o(787352),j=()=>o(168441),b=()=>o(419273),w=()=>o(555813),k=()=>o(383694),T=()=>o(715139),C=()=>o(356641),M=()=>o(92175),P=()=>o(654133),A=()=>o(866747),Z=()=>o(522919),F=()=>o(488949),B=()=>o(1910),L=()=>o(352230),R=()=>o(15409),_=()=>o(615634),V=()=>o(827973),q=()=>o(448419),O=()=>o(198829),D=()=>o(255577),U=()=>o(388284),H=o(785893);const N=function(){const e=(0,s().O7)(),t=(0,l().YB)(),o=(0,n().VK)((()=>p().default.state.currentSpaceStore),[]),r=(0,n().VK)((()=>u().default.getState()),[]),{workspaces:i,selectedWorkspace:c,selectedImportType:m}=r;return(0,a.useEffect)((()=>{}),[m,c,e,null==o?void 0:o.id]),(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(h().Z,{isSmall:!0,style:{paddingTop:4,paddingBottom:4},children:(0,H.jsx)(l()._H,{id:"mondayImport.importsTab.selectData.workspaceChoiceHelperText",defaultMessage:"Only one workspace can be imported at a time."})}),(0,H.jsx)(E,{onSelectOption:e=>{u().default.setState({...r,selectedProjectsAndTeamspaces:{},selectedBoardIdsForFullImport:new Set,selectedFolderIdsForFullImport:new Set,selectedTeamspacesForFullImport:{},fetchedHierarchy:!1,mondayFoldersDetailsMap:{},mondayBoardsDetailsMap:{},selectedWorkspace:e})},options:i.map((e=>({key:e.id,label:e.name}))),currentOption:r.selectedWorkspace,placeHolder:t.formatMessage(d().VE.selectWorkSpaceV1)}),(0,H.jsx)(z,{})]})};function E(e){var t;const{onSelectOption:o,options:s,currentOption:n,placeHolder:i,narrow:p,allowSearch:u,shouldBeDisabled:m}=e,g=(0,l().YB)(),[f,v]=(0,a.useState)(""),y=null===(t=s.find((e=>{let{key:t}=e;return t===n})))||void 0===t?void 0:t.label,I=(0,r().yK)((e=>({icon:{width:12,height:12,marginLeft:4,fill:e.lightIconColor}})),[]);return(0,H.jsx)(q().ZP,{popupType:q().Z4.Popup,placementToOrigin:q().pO.Bottom,disabled:m,renderOrigin:e=>(0,H.jsxs)(M().Z,{...e,style:{paddingTop:p?2:8,paddingBottom:p?2:8,paddingLeft:8,paddingRight:8,opacity:1,width:250,border:`1px solid ${x().FN.light.gray[100]}`,justifyContent:"space-between",marginTop:8,marginBottom:8,background:n?void 0:x().FN.light.gray[75],color:n?void 0:x().FN.light.gray[300]},disabled:!1,children:[(0,H.jsx)(h().Z,{style:{textOverflow:"ellipsis"},children:y||i}),(0,_().i)(I.icon)]}),render:e=>{const t={menuType:L().o.Popup,width:250,left:50},a=[{key:"mondayImport.dropdown.menuList",render:e=>(0,H.jsx)(U().Z,{...e}),items:(f.trim()?s.filter((e=>{var t;return null===(t=e.searchTerm)||void 0===t?void 0:t.toLowerCase().includes(f.toLowerCase())})):s).map((t=>{let{key:a,label:s}=t;return{key:a,action:()=>{o(a),e.close()},render:e=>(0,H.jsx)(V().Z,{...e,title:s,shouldWrapCaption:!0,right:y===s?(0,H.jsx)("div",{style:{width:14},children:(0,R().e)()}):void 0})}}))}];return(0,H.jsxs)(H.Fragment,{children:[u?(0,H.jsx)("input",{style:{width:"100%",borderRadius:0,backgroundColor:x().FN.light.gray[200],paddingTop:2,paddingBottom:2,paddingLeft:8,paddingRight:8,opacity:1,border:`1px solid ${x().FN.light.gray[100]}`,justifyContent:"space-between",background:x().FN.light.gray[75],fontSize:c().JB.UIRegular.desktop,textOverflow:"ellipses"},placeholder:g.formatMessage(d().VE.chooseTeamspace),onChange:e=>v(e.target.value),value:f}):(0,H.jsx)(H.Fragment,{}),(0,H.jsx)(O().Z,{...t,children:(0,H.jsx)(D().Z,{type:D().i.Vertical,sections:a,initialFocus:void 0,style:{position:"relative",alignItems:"flex-end"}})})]})}})}var W=()=>o(378907);const z=function(){const e=(0,s().O7)(),t=(0,n().VK)((()=>p().default.state.currentSpaceStore),[]),o=(0,n().VK)((()=>u().default.getState()),[]),{selectedWorkspace:r,mondayFoldersAndBoards:i}=o;return(0,a.useEffect)((()=>{r&&d().IO({environment:e,spaceId:null==t?void 0:t.id,selectedWorkspace:r}).catch((()=>{}))}),[r,e,null==t?void 0:t.id]),(0,H.jsxs)(H.Fragment,{children:[o.selectedWorkspace?(0,H.jsx)(h().Z,{style:{fontWeight:c().Ue.semibold,marginTop:18},children:(0,H.jsx)(l()._H,{id:"mondayImport.importsTab.selectData.selectProjects",defaultMessage:"Select projects"})}):(0,H.jsx)(H.Fragment,{}),o.isLoadingProjects?(0,H.jsxs)(y().gq,{style:{gap:8,marginTop:32,alignItems:"center"},children:[(0,H.jsx)(m().Z,{style:{fontSize:12}}),(0,H.jsx)(h().Z,{isSmall:!0,style:{color:x().FN.light.gray[400]},children:(0,H.jsx)(l()._H,{id:"mondayImport.importsTab.selectData.loadingProjectsHelperText",defaultMessage:"Loading projects in the workspace..."})})]}):null==i?void 0:i.map((e=>(0,H.jsx)(K,{mondayFolderAndBoards:e},`${e.folderId}-table`)))]})};function K(e){let{mondayFolderAndBoards:t}=e;const o=(0,r().Fg)(),s=(0,l().YB)(),i=(0,n().VK)((()=>u().default.getState()),[]),[m,g]=(0,a.useState)(),f=(0,n().VK)((()=>p().default.state.currentSpaceViewStore),[]),v=(0,n().VK)((()=>{const e=null==f?void 0:f.getTeamsStores();return null==e?void 0:e.map((e=>({id:e.id,name:e.getName(),icon:(0,H.jsx)(k().p,{disabled:!0,store:e})})))}),[f]);(0,a.useEffect)((()=>{if(!v||!f)return;if(!i.selectedProjectsAndTeamspaces[t.folderId]){g("private"),d().eL({folderId:t.folderId,spaceId:null==f?void 0:f.id});for(const a of v){var e,o;if((null===(e=a.name)||void 0===e?void 0:e.toLowerCase())===(null===(o=t.folderName)||void 0===o?void 0:o.toLowerCase())){g(a.id),d().eL({folderId:t.folderId,spaceId:a.id});break}}}}),[v,t,f,i.selectedProjectsAndTeamspaces,g]);const I=[{key:"private",searchTerm:"private",label:(0,H.jsxs)(y().gq,{alignItems:"center",style:{gap:8},children:[(0,H.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:16,height:16,borderRadius:"0.25em",backgroundColor:x().FN.light.gray[75]},children:(0,j().Q)({color:o.mediumIconColor,width:12.5,height:12.5})}),(0,H.jsx)(h().Z,{style:{fontWeight:c().Ue.regular},children:s.formatMessage(d().VE.privateSpaceLabel)})]})}];v&&I.push(...v.map((e=>({key:e.id,searchTerm:e.name,label:(0,H.jsxs)(y().gq,{alignItems:"center",style:{gap:8},children:[e.icon,e.name]})})))),I.push({key:"create",searchTerm:"New teamspace",label:(0,H.jsxs)(y().gq,{alignItems:"center",style:{gap:4},children:[(0,b().f)({color:o.mediumIconColor,width:16,height:16}),(0,H.jsx)(h().Z,{children:s.formatMessage(d().VE.newTeamspaceLabel)})]})});const S=!(t.projects.length||t.taskBoards.length);return(0,H.jsx)(P().Z,{disableTooltip:!S,renderTooltip:()=>(0,H.jsx)(h().Z,{style:{color:x().ZP.white},isSmall:!0,children:(0,H.jsx)(l()._H,{id:"mondayImport.importsTab.selectData.tooltipForDisabledFolder",defaultMessage:"This folder has no boards with Item type Projects or Tasks. Other types are not supported."})}),render:e=>(0,H.jsx)("div",{...e,children:(0,H.jsx)(Y,{mondayFolderAndBoards:t,teamsOptions:I,setSelectedTeam:g,selectedTeam:m,mondayImportStoreState:i})})})}function G(e){let{collapsed:t,mondayFolderAndBoards:o,mondayImportStoreState:a,isMondayV2Flow:s}=e;if(t)return[];const n=o.projects.map((e=>({key:e.id,columns:[(0,H.jsxs)(y().gq,{alignItems:"center",gap:6,style:{marginLeft:20},children:[(0,H.jsx)(T().Z,{style:{marginRight:2},onClick:()=>{const t={...a.selectedProjectsAndTeamspaces[o.folderId]||{projects:[],notionTeamspaceId:void 0}},{notionTeamspaceId:s,projects:n}=t;let r;r=n.find((t=>t.mondayProjectId===e.id))?n.filter((t=>t.mondayProjectId!==e.id)):n.concat({name:e.name,mondayProjectId:e.id,mondayBoardId:e.boardId,collectionType:"projects"}),u().default.setState({...a,selectedProjectsAndTeamspaces:{...a.selectedProjectsAndTeamspaces,[o.folderId]:{notionTeamspaceId:s,projects:r}}})},checked:{...a.selectedProjectsAndTeamspaces[o.folderId]||{projects:[],notionTeamspaceId:void 0}}.projects.some((t=>t.mondayProjectId===e.id)),size:14,checkSize:8}),(0,H.jsx)("div",{style:{width:240,wordWrap:"break-word"},children:(0,H.jsx)(h().Z,{isMultiline:!0,style:s?{lineHeight:"20px",fontSize:"14px"}:{},children:e.name})})]},`${e.id}-container`)]}))),r=o.taskBoards.map((e=>({key:e.id,columns:[(0,H.jsxs)(y().gq,{alignItems:"center",gap:6,style:{marginLeft:20},children:[(0,H.jsx)(T().Z,{style:{marginRight:2},onClick:()=>{const t={...a.selectedProjectsAndTeamspaces[o.folderId]||{projects:[],notionTeamspaceId:void 0}},{notionTeamspaceId:s,projects:n}=t;let r;r=n.find((t=>t.mondayProjectId===e.id))?n.filter((t=>t.mondayProjectId!==e.id)):n.concat({name:e.name,mondayProjectId:e.id,collectionType:"tasks"}),u().default.setState({...a,selectedProjectsAndTeamspaces:{...a.selectedProjectsAndTeamspaces,[o.folderId]:{notionTeamspaceId:s,projects:r}}})},checked:{...a.selectedProjectsAndTeamspaces[o.folderId]||{projects:[],notionTeamspaceId:void 0}}.projects.some((t=>t.mondayProjectId===e.id)),size:14,checkSize:8}),(0,H.jsx)("div",{style:{width:240,wordWrap:"break-word"},children:(0,H.jsx)(h().Z,{isMultiline:!0,style:s?{lineHeight:"20px",fontSize:"14px"}:{},children:e.name})})]},`${e.id}-container`)]})));return[...n,...r]}function Y(e){var t;let{mondayFolderAndBoards:o,selectedTeam:s,setSelectedTeam:c,teamsOptions:m,mondayImportStoreState:g}=e;const[f,v]=(0,a.useState)(!1),x=!(o.projects.length||o.taskBoards.length),I=(0,n().VK)((()=>p().default.state.currentSpaceViewStore),[]),S=(0,r().Fg)(),j=(0,l().YB)(),b=(0,a.useCallback)((e=>{d().eL({folderId:o.folderId,spaceId:e}),c(e)}),[o.folderId,c]),k=(0,a.useCallback)((e=>{if("create"===e)return void w().lo("monday_importer",{onClose:b});let t;if("private"===e){if(null==I||!I.id)return;t=I.id}else t=e;d().eL({folderId:o.folderId,spaceId:t}),c(e)}),[o.folderId,c,b,null==I?void 0:I.id]);return(0,H.jsxs)(y().gq,{style:x?{color:S.mediumTextColor,fill:S.mediumIconColor,opacity:.4,marginLeft:-18}:{marginLeft:-18},children:[(0,H.jsx)(B().Z,{ariaLabel:"collapse toggle",icon:F().L,onClick:()=>v((e=>!e)),style:{transform:f?"rotate(90deg)":"rotate(180deg)",marginRight:8,marginTop:15,width:10,height:10},hoveredStyle:{background:"transparent"},pressedStyle:{background:"transparent"},iconStyle:{width:10,height:10}}),(0,H.jsx)(W().Z,{tableStyle:{borderTop:0},cellStyle:{verticalAlign:"middle"},columns:[{key:"team",header:(0,H.jsxs)(y().gq,{alignItems:"center",gap:2,children:[(0,H.jsx)(T().Z,{style:{marginRight:4,height:14},disabled:x,checked:(()=>{const e={...g.selectedProjectsAndTeamspaces[o.folderId]||{projects:[],notionTeamspaceId:void 0,isEntireFolderSelected:void 0}};return Boolean(e.isEntireFolderSelected)})(),size:14,checkSize:8,onClick:()=>{const e={...g.selectedProjectsAndTeamspaces[o.folderId]||{projects:[],notionTeamspaceId:void 0,isEntireFolderSelected:void 0}},{notionTeamspaceId:t,isEntireFolderSelected:a}=e;let s,n;if(a)s=[],n=!1;else{s=[...o.projects.map((e=>({name:e.name,mondayProjectId:e.id,mondayBoardId:e.boardId,collectionType:"projects"}))),...o.taskBoards.map((e=>({name:e.name,mondayProjectId:e.id,collectionType:"tasks"})))],n=!0}u().default.setState({...g,selectedProjectsAndTeamspaces:{...g.selectedProjectsAndTeamspaces,[o.folderId]:{notionTeamspaceId:t,projects:s,isEntireFolderSelected:n}}})}}),(0,H.jsx)(h().Z,{style:{width:280,textOverflow:"ellipsis"},children:o.folderName})]}),style:{width:300}},...m?[{key:"importInto",header:(0,H.jsxs)(y().gq,{style:{alignItems:"center"},children:[(0,H.jsx)("div",{children:(0,H.jsx)(l()._H,{id:"mondayImport.importsTab.selectData.importInto",defaultMessage:"Import into"})}),(0,H.jsx)("div",{style:{marginRight:16,marginLeft:8},children:(0,Z().n)({width:12})}),(0,H.jsxs)(y().gq,{style:{alignItems:"center",gap:8},children:[(0,H.jsx)("img",{src:i().Z.emails.notionLogoBlackSmallPng,height:18}),(0,H.jsx)(E,{options:m,onSelectOption:k,currentOption:null===(t=m.find((e=>e.key===s)))||void 0===t?void 0:t.key,narrow:!0,allowSearch:!0,placeHolder:j.formatMessage({id:"mondayImport.importsTab.selectData.selectATeamspace",defaultMessage:"Select a teamspace"}),shouldBeDisabled:x})]})]}),style:{width:"50%"}}]:[]],rows:G({collapsed:f,mondayFolderAndBoards:o,mondayImportStoreState:g,isMondayV2Flow:!1})})]})}var $=()=>o(167705);function Q(){const e=(0,n().VK)((()=>u().default.getState()),[]),t=(0,A().x3)(),o=(0,l().YB)(),a=(0,n().VK)((()=>{var e;const a=null===(e=p().default.state.currentSpaceViewStore)||void 0===e||null===(e=e.getTeamsStores())||void 0===e?void 0:e.map((e=>({id:e.id,name:e.getName(),icon:(0,H.jsx)(k().p,{disabled:!0,store:e})}))),s=[];return a&&s.push(...a.map((e=>{var t;return{key:e.id,searchTerm:(null===(t=e.name)||void 0===t?void 0:t.split(" "))||void 0,icon:e.icon,name:e.name}}))),s.push({key:"private",searchTerm:["private"],icon:(0,j().Q)(t.lockedIcon),name:o.formatMessage(d().VE.privateSpaceLabel)}),s.push({key:"create",searchTerm:["New"],icon:(0,b().f)(t.plusIcon),name:o.formatMessage(d().VE.newTeamspaceLabel)}),s}),[o,t.lockedIcon,t.plusIcon]),{mondayFoldersDetailsMap:s,selectedImportType:r,isLoadingHierarchy:i,mondayFoldersAndBoards:c,isLoadingProjects:g}=e;return"FullImport"===r?i?(0,H.jsxs)(y().gq,{style:{gap:8,marginTop:32,alignItems:"center"},children:[(0,H.jsx)(m().Z,{style:{fontSize:12}}),(0,H.jsx)(h().Z,{isSmall:!0,style:{color:x().FN.light.gray[400]},children:(0,H.jsx)(l()._H,{id:"mondayImport.importsTab.selectData.loadingBoardsHelperText",defaultMessage:"Loading boards in the workspace..."})})]}):(0,H.jsx)(H.Fragment,{children:Object.entries(s).filter((e=>{let[,t]=e;return!t.parent})).map((e=>{let[t,o]=e;return(0,H.jsx)(X,{currentFolderId:o.folderId,notionTeamspaceOptions:a},`${t}-table`)}))}):"ProjectsAndTasks"===r?g?(0,H.jsxs)(y().gq,{style:{gap:8,marginTop:32,alignItems:"center"},children:[(0,H.jsx)(m().Z,{style:{fontSize:12}}),(0,H.jsx)(h().Z,{isSmall:!0,style:{color:x().FN.light.gray[400]},children:(0,H.jsx)(l()._H,{id:"mondayImport.importsTab.selectData.loadingProjectsHelperText",defaultMessage:"Loading projects in the workspace..."})})]}):(0,H.jsx)(H.Fragment,{children:null==c?void 0:c.map((e=>(0,H.jsx)(ee,{mondayFolderAndBoards:e,notionTeamspaceOptions:a},e.folderId)))}):null}const J=function(){const e=(0,s().O7)(),t=(0,n().VK)((()=>p().default.state.currentSpaceStore),[]),a=(0,n().VK)((()=>u().default.getState()),[]),{selectedWorkspace:r,fetchedHierarchy:i,selectedImportType:l,isLoadingHierarchy:c}=a;return(0,o(801812).r5)((async()=>{if(r&&l&&t)if("FullImport"===l){if(c||i)return;await d().HS({environment:e,spaceId:t.getSpaceId(),selectedWorkspace:r})}else"ProjectsAndTasks"===l&&await d().IO({environment:e,spaceId:null==t?void 0:t.id,selectedWorkspace:r})}),[e,i,c,l,r,t]),(0,H.jsx)(Q,{})};function X(e){let{currentFolderId:t,notionTeamspaceOptions:o}=e;const s=(0,r().Fg)(),i=(0,l().YB)(),[c,g]=(0,a.useState)(!1),[f,v]=(0,a.useState)(),j=(0,n().VK)((()=>u().default.getState()),[]),{mondayFoldersDetailsMap:b,mondayBoardsDetailsMap:k,excludeProjectsAndTasks:M,selectedBoardIdsForFullImport:Z,selectedFolderIdsForFullImport:F,isLoadingBoards:B}=j,L=null==b?void 0:b[t],R=(0,n().VK)((()=>p().default.state.currentSpaceViewStore),[]);(0,a.useEffect)((()=>{if(!R||!L||!R.getSpaceId())return;j.selectedFolderIdsForFullImport.has(L.folderId)||v("private")}),[L,R,j.selectedFolderIdsForFullImport]);const _=(0,a.useCallback)((e=>{L&&(d().e_({folderId:L.folderId,notionTeamspaceId:e,notionRootTableName:"team"}),v(e))}),[L]),V=(0,a.useCallback)((e=>{if(L)if("create"!==e){if("private"===e){if(null==R||!R.getSpaceId()||!L)return;d().e_({folderId:L.folderId,notionTeamspaceId:R.getSpaceId(),notionRootTableName:"space"})}else d().e_({folderId:L.folderId,notionTeamspaceId:e,notionRootTableName:"team"});v(e)}else w().lo("monday_importer",{onClose:_})}),[L,_,R]),q=(0,a.useMemo)((()=>F?{boardsCount:d().x(t,Z,b,k,M)}:{boardsCount:0}),[t,M,k,b,Z,F]),O=(0,a.useMemo)((()=>({boardsCount:d().Nu(t,b,k,M)})),[t,M,k,b]),D=!(L.boards.length||L.subFolders.length),U=(0,a.useMemo)((()=>d().M3({currentfolderId:t,mondayFolderDetails:b,mondayBoardDetails:k,excludeProjectsAndTasks:M})),[t,M,k,b]),N={color:s.mediumTextColor,fill:s.mediumIconColor,opacity:.4};function E(e){let{mondayFoldersMap:t,mondayBoardsMap:o,currentFolderId:a,excludeProjectsAndTasks:n}=e;if(c)return[];const r=t[a];return[...r.boards.map((e=>{const t=o[e];if(!t||!r)return null;const a=d().hm({excludeProjectsAndTasks:n,board:t});return{key:e,columns:[(0,H.jsxs)(y().gq,{alignItems:"center",gap:6,style:{marginLeft:20},children:[(0,H.jsx)(T().Z,{style:a?{color:s.mediumTextColor,fill:s.mediumIconColor,opacity:.4,marginRight:2}:{marginRight:2},onClick:()=>{d().XE(e)},checked:Z.has(e),size:14,checkSize:8,disabled:a}),(0,H.jsx)(P().Z,{disableTooltip:!a,renderTooltip:()=>(0,H.jsx)(h().Z,{style:{color:x().ZP.white},isSmall:!0,children:i.formatMessage(d().VE.projectsAndTasksExcludedToolTip)}),render:e=>(0,H.jsx)("div",{...e,children:(0,H.jsx)("div",{style:a?{color:s.mediumTextColor,fill:s.mediumIconColor,opacity:.4,width:240,wordWrap:"break-word"}:{width:240,wordWrap:"break-word"},children:(0,H.jsxs)(h().Z,{style:{lineHeight:"20px",fontSize:"14px"},children:[(0,H.jsx)("div",{style:{display:"inline-block",paddingRight:"4px"},children:(0,I().i)({display:"inline-block",color:s.mediumIconColor,width:12.5,height:12.5})}),t.name]})})})})]},`${e}-container`)]}})).filter((e=>null!==e)),...r.subFolders.map((e=>{const a=t[e];return a?{key:e,columns:[(0,H.jsx)(y().gq,{alignItems:"center",gap:6,style:{marginLeft:20,marginTop:"4px"},children:(0,H.jsx)(W().Z,{hideTopBorderForHeader:!0,tableStyle:{borderRadius:2,borderTop:void 0,borderBottom:void 0},cellStyle:{paddingTop:4,paddingBottom:4,verticalAlign:"middle"},rowStyle:{borderTop:void 0},columns:[{key:"team",header:(0,H.jsxs)(y().gq,{alignItems:"center",gap:2,children:[(0,H.jsx)(T().Z,{style:B?{...N,marginRight:4,height:14}:{marginRight:4,height:14},checked:F.has(e),size:14,checkSize:8,disabled:B,onClick:()=>d().$9(e,t,o,n)}),(0,S().v)({display:"inline-block",color:s.mediumIconColor,width:12.5,height:12.5}),(0,H.jsx)(h().Z,{style:{width:280,textOverflow:"ellipsis"},children:a.folderName})]}),style:{width:300,paddingBottom:0}}],rows:E({mondayFoldersMap:t,mondayBoardsMap:o,currentFolderId:e,excludeProjectsAndTasks:n})})},`${e}-container`)]}:null})).filter((e=>null!==e)).flat()]}return L&&k&&U?(0,H.jsx)(P().Z,{disableTooltip:!D,renderTooltip:()=>(0,H.jsx)(h().Z,{style:{color:x().ZP.white},isSmall:!0,children:i.formatMessage(d().VE.noBoardsTooltipMessage)}),render:e=>{var t;return(0,H.jsx)("div",{...e,children:(0,H.jsx)("div",{style:{marginBottom:10},children:(0,H.jsxs)(C().rj,{gap:8,children:[(0,H.jsx)(C().r8,{row:1,col:1,children:(0,H.jsx)(te,{shouldBeDisabled:D,collapsed:c,onCollapse:()=>g((e=>!e)),columns:[{key:"team",header:(0,H.jsxs)(y().gq,{alignItems:"center",gap:2,children:[(0,H.jsx)(T().Z,{style:{marginRight:4,height:14},disabled:D||B,checked:j.selectedFolderIdsForFullImport.has(L.folderId),size:14,checkSize:8,onClick:()=>d().$9(L.folderId,b,k,M)}),(0,S().v)({height:12,width:12,display:"inline-block"}),(0,H.jsxs)(y().gq,{alignItems:"center",gap:6,children:[(0,H.jsx)(h().Z,{style:B?{...N,textOverflow:"ellipsis"}:{textOverflow:"ellipsis"},children:L.folderName}),B&&(0,H.jsx)(m().Z,{style:{fontSize:12}}),(0,H.jsxs)(h().Z,{isSmall:!0,children:[O.boardsCount,i.formatMessage(d().VE.boardsKeyWord)]})]})]}),style:{width:300,paddingBottom:0}}],rows:E({mondayFoldersMap:b,mondayBoardsMap:k,currentFolderId:L.folderId,excludeProjectsAndTasks:M})})}),(0,H.jsx)(C().r8,{row:1,col:2,children:(0,H.jsx)(A().OO,{onSelectOption:V,options:o,currentOption:null===(t=o.find((e=>e.key===f)))||void 0===t?void 0:t.key,style:c?"compact":"full",children:(0,H.jsx)(h().Z,{style:{fontSize:"14px",paddingLeft:c?"8px":0},children:(0,H.jsx)(l()._H,{id:"mondayImport.importsTab.chooseWorkspace.totalBoards",defaultMessage:"Import {boardsCount} boards to",values:{boardsCount:q.boardsCount}})})})})]})})})}}):null}function ee(e){let{mondayFolderAndBoards:t,notionTeamspaceOptions:o}=e;const s=(0,A().x3)(),[r,i]=(0,a.useState)(!1),[c,m]=(0,a.useState)(),g=(0,n().VK)((()=>u().default.getState()),[]),f=(0,n().VK)((()=>p().default.state.currentSpaceViewStore),[]),v=(0,n().VK)((()=>{const e=null==f?void 0:f.getTeamsStores();return null==e?void 0:e.map((e=>({id:e.id,name:e.getName(),icon:(0,H.jsx)(k().p,{disabled:!0,store:e})})))}),[f]);(0,a.useEffect)((()=>{if(!v||!f)return;if(!g.selectedProjectsAndTeamspaces[t.folderId]){m("private"),d().eL({folderId:t.folderId,spaceId:null==f?void 0:f.id});for(const a of v){var e,o;if((null===(e=a.name)||void 0===e?void 0:e.toLowerCase())===(null===(o=t.folderName)||void 0===o?void 0:o.toLowerCase())){m(a.id),d().eL({folderId:t.folderId,spaceId:a.id});break}}}}),[t,f,g.selectedProjectsAndTeamspaces,v]);const I=!(t.projects.length||t.taskBoards.length),S=(0,a.useCallback)((e=>{d().eL({folderId:t.folderId,spaceId:e}),m(e)}),[t.folderId]),j=(0,a.useCallback)((e=>{if("create"===e)return void w().lo("monday_importer",{onClose:S});let o;if("private"===e){if(null==f||!f.id)return;o=f.id}else o=e;d().eL({folderId:t.folderId,spaceId:o}),m(e)}),[null==f?void 0:f.id,t.folderId,S]),b=(0,l().YB)(),M=(0,a.useMemo)((()=>({projectsCount:t.projects.length,tasksCount:t.taskBoards.length})),[t.projects.length,t.taskBoards.length]),Z=(0,a.useMemo)((()=>{var e;const o=null===(e=g.selectedProjectsAndTeamspaces[t.folderId])||void 0===e?void 0:e.projects,[a,s]=o?o.reduce(((e,t)=>{let[o,a]=e;return"projects"===t.collectionType?[o+1,a]:[o,a+1]}),[0,0]):[0,0];return{projectsCount:a,tasksCount:s}}),[t.folderId,g.selectedProjectsAndTeamspaces]);return(0,H.jsx)(P().Z,{disableTooltip:!I,renderTooltip:()=>(0,H.jsx)(h().Z,{style:{color:x().ZP.white},isSmall:!0,children:(0,H.jsx)(l()._H,{id:"mondayImport.importsTab.selectData.tooltipForDisabledFolder",defaultMessage:"This folder has no boards with Item type Projects or Tasks. Other types are not supported."})}),render:e=>{var a;return(0,H.jsx)("div",{...e,children:(0,H.jsx)("div",{style:s.asanaTeamSectionContainer,children:(0,H.jsxs)(C().rj,{gap:8,children:[(0,H.jsx)(C().r8,{row:1,col:1,children:(0,H.jsx)(te,{shouldBeDisabled:I,collapsed:r,onCollapse:()=>i((e=>!e)),columns:[{key:"team",header:(0,H.jsxs)(y().gq,{alignItems:"center",gap:2,children:[(0,H.jsx)(T().Z,{style:{marginRight:4,height:14},disabled:I,checked:(()=>{const e={...g.selectedProjectsAndTeamspaces[t.folderId]||{projects:[],notionTeamspaceId:void 0,isEntireFolderSelected:void 0}};return Boolean(e.isEntireFolderSelected)})(),size:14,checkSize:8,onClick:()=>{const e={...g.selectedProjectsAndTeamspaces[t.folderId]||{projects:[],notionTeamspaceId:void 0,isEntireFolderSelected:void 0}},{notionTeamspaceId:o,isEntireFolderSelected:a}=e;let s,n;if(a)s=[],n=!1;else{s=[...t.projects.map((e=>({name:e.name,mondayProjectId:e.id,mondayBoardId:e.boardId,collectionType:"projects"}))),...t.taskBoards.map((e=>({name:e.name,mondayProjectId:e.id,collectionType:"tasks"})))],n=!0}u().default.setState({...g,selectedProjectsAndTeamspaces:{...g.selectedProjectsAndTeamspaces,[t.folderId]:{notionTeamspaceId:o,projects:s,isEntireFolderSelected:n}}})}}),(0,H.jsxs)(y().gq,{alignItems:"center",gap:6,children:[(0,H.jsx)(h().Z,{style:{textOverflow:"ellipsis"},children:t.folderName}),(0,H.jsx)(P().Z,{renderTooltip:()=>(0,H.jsx)(h().Z,{style:{color:x().ZP.white},isSmall:!0,children:b.formatMessage(d().VE.projectsAndTasksCountTooltip)}),render:e=>(0,H.jsx)("div",{...e,children:(0,H.jsxs)(h().Z,{isSmall:!0,children:[M.projectsCount+M.tasksCount,b.formatMessage(d().VE.projectsKeyWord)]})})})]})]}),style:{width:300,paddingBottom:0}}],rows:G({collapsed:r,mondayFolderAndBoards:t,mondayImportStoreState:g,isMondayV2Flow:!0})})}),(0,H.jsx)(C().r8,{row:1,col:2,children:(0,H.jsx)(A().OO,{onSelectOption:j,options:o,currentOption:null===(a=o.find((e=>e.key===c)))||void 0===a?void 0:a.key,style:r?"compact":"full",children:(0,H.jsx)(h().Z,{style:{fontSize:"14px",paddingLeft:r?"8px":0},children:(0,H.jsx)(l()._H,{id:"mondayImport.importsTab.chooseWorkspace.totalprojectsAnsTasks",defaultMessage:"Import {projectsCount} Projects to",values:{projectsCount:Z.projectsCount+Z.tasksCount}})})})})]})})})}})}function te(e){let{columns:t,rows:o,shouldBeDisabled:a,collapsed:s,onCollapse:n}=e;const i=(0,r().Fg)(),l=(0,A().x3)();return(0,H.jsx)("div",{style:l.teamAndProjectsCollapse,children:(0,H.jsxs)(y().gq,{style:a?{color:i.mediumTextColor,fill:i.mediumIconColor,opacity:.4}:{},children:[(0,H.jsx)(M().Z,{onClick:()=>n(),style:{gap:12},pressedStyle:{background:"transparent"},iconStyle:{marginRight:0,marginTop:10},ignoreLocalHoverState:!0,icon:e=>(0,H.jsx)($().Z,{disabled:!0,style:{...e,pointerEvents:"none"},isSidebar:!1,open:!s,fill:!1,onClick:e=>{e.stopPropagation(),n()},icon:"chevron"})}),(0,H.jsx)(W().Z,{hideTopBorderForHeader:!0,tableStyle:{borderRadius:2,borderTop:void 0,borderBottom:void 0},cellStyle:{paddingTop:4,paddingBottom:4,verticalAlign:"middle"},rowStyle:{borderTop:void 0},columns:t,rows:o})]})})}const oe=function(){const e=(0,l().YB)(),t=(0,A().x3)(),a=(0,n().VK)((()=>u().default.getState()),[]),r=d().KH(),{selectedWorkspace:i,workspaces:p,selectedImportType:m,excludeProjectsAndTasks:g}=a,f=(0,s().O7)().device.isMobile,v="FullImport"===m?{on:g,title:e.formatMessage(d().VE.excludeProjectsAndTasks),focused:!0,onClick:()=>u().default.setState({...a,excludeProjectsAndTasks:!g,selectedFolderIdsForFullImport:new Set,selectedBoardIdsForFullImport:new Set,selectedTeamspacesForFullImport:{}})}:void 0,x=[];return v&&x.push({key:"monday-exclude-projects-and-asks",props:v}),(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(y().gq,{alignItems:"center",gap:8,children:(0,H.jsx)(o(854577).Z,{searchThreshold:5,onSelectOption:e=>{u().default.setState({...a,selectedProjectsAndTeamspaces:{},selectedBoardIdsForFullImport:new Set,selectedFolderIdsForFullImport:new Set,selectedTeamspacesForFullImport:{},fetchedHierarchy:!1,mondayFoldersDetailsMap:{},mondayBoardsDetailsMap:{},selectedWorkspace:e})},options:p.map((e=>({key:e.id,name:e.name,searchTerm:[e.name,...e.name.split(" ")]}))),currentOption:i,placeHolder:e.formatMessage(d().VE.selectWorkspaceV2),inputProps:{placeholder:e.formatMessage(d().VE.searchWorkspaces)},buttonStyles:t.workspaceSelectorButton,iconStyles:t.menuChevonDownIcon})}),i&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(h().Z,{style:{font:"SF Pro",fontWeight:"590",fontSize:"17px",marginTop:"12px",lineHeight:"22px"},children:e.formatMessage(d().VE.chooseImportType)}),(0,H.jsx)(y().gq,{alignItems:"left",gap:8,children:(0,H.jsx)(o(579807).Z,{isMobile:f,type:"dropdown",currentOption:m,options:Object.entries(r).map((t=>{let[o,a]=t;return{key:o,label:e.formatMessage(a.title),caption:e.formatMessage(a.description)}})),buttonStyle:{paddingLeft:"0px",marginLeft:"0px"},menuStyle:{width:"300px"},onSelectOption:e=>{u().default.setState({...a,selectedImportType:e,selectedProjectsAndTeamspaces:{},selectedBoardIdsForFullImport:new Set,selectedFolderIdsForFullImport:new Set,selectedTeamspacesForFullImport:{},fetchedHierarchy:!1,mondayFoldersDetailsMap:{},mondayBoardsDetailsMap:{}})},switcherButtons:x})})]}),i&&m&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(h().Z,{style:{font:"SF Pro",fontWeight:"590",fontSize:"17px",marginTop:"12px",lineHeight:"22px"},children:e.formatMessage(d().VE.selectBoardsHeading)}),(0,H.jsx)(h().Z,{style:{font:"SF Pro",fontWeight:c().Ue.regular,fontSize:c().JB.UIRegular.desktop,lineHeight:"19.6px",whiteSpace:"normal",wordWrap:"break-word",paddingTop:4,paddingBottom:20},children:e.formatMessage(d().VE.mapTeamspacesDescription)})]}),(0,H.jsx)(J,{})]})};var ae=()=>o(887863);const se=function(){const e=(0,n().Kw)(u().default);return e.result?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(h().Z,{isMultiline:!0,children:(0,H.jsx)(l()._H,{id:"mondayImport.importsTab.confirm.subtitle",defaultMessage:"The following data has been successfully imported."})}),(0,H.jsx)("div",{style:{marginTop:32},children:e.result.map((e=>(0,H.jsx)(ne,{importStatus:e},e.mondayFolderId)))})]}):(0,H.jsx)(H.Fragment,{})};function ne(e){let{importStatus:t}=e;const o=(0,r().Fg)(),[s,i]=(0,a.useState)(!1),c=(0,n().VK)((()=>p().default.state.currentSpaceStore),[]),d=(0,n().VK)((()=>u().default.state.mondayFoldersAndBoards),[]),m=(0,n().VK)((()=>p().default.state.currentSpaceViewStore),[]),g=(0,n().VK)((()=>{if(!m)return;const e=m.getTeamsStores().map((e=>({id:e.id,name:e.getName(),icon:(0,H.jsx)(k().p,{disabled:!0,store:e})})));return c?(e||[]).concat({id:m.id,name:"Private",icon:(0,H.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:18,height:18,borderRadius:"0.25em",backgroundColor:x().FN.light.gray[75]},children:(0,j().Q)({color:o.mediumIconColor,width:12.5,height:12.5})})}):e}),[m,c,o]),{notionTeamspaceName:f,notionTeamspaceIcon:v}=(0,a.useMemo)((()=>{const e=null==g?void 0:g.find((e=>e.id===t.notionTeamSpaceId));return e?{notionTeamspaceName:e.name,notionTeamspaceIcon:e.icon}:{notionTeamspaceName:void 0,notionTeamspaceIcon:void 0}}),[g,t]),I=(0,a.useMemo)((()=>{var e;return null==d||null===(e=d.find((e=>e.folderId===t.mondayFolderId)))||void 0===e?void 0:e.folderName}),[d,t]);return(0,H.jsxs)(y().gq,{style:{marginTop:16},children:[(0,H.jsx)(B().Z,{ariaLabel:"collapse toggle",icon:F().L,onClick:()=>i((e=>!e)),style:{transform:s?"rotate(90deg)":"rotate(180deg)",marginRight:8,marginTop:4},iconStyle:{width:8,height:8}}),(0,H.jsx)(W().Z,{tableStyle:{borderTop:0},cellStyle:{verticalAlign:"middle"},columns:[{key:"team",header:(0,H.jsx)(y().gq,{alignItems:"center",gap:2,children:(0,H.jsx)(h().Z,{isSmall:!0,style:{width:280,textOverflow:"ellipsis"},children:I})}),style:{width:300}},{key:"importedInto",header:(0,H.jsxs)(y().gq,{gap:4,children:[(0,H.jsxs)(y().gq,{style:{alignItems:"center",gap:4},children:[(0,H.jsx)(h().Z,{isSmall:!0,children:(0,H.jsx)(l()._H,{id:"mondayImport.importsTab.selectData.importedInto",defaultMessage:"Imported into"})}),(0,Z().n)({width:12})]}),(0,H.jsxs)(y().gq,{style:{alignItems:"center",gap:4},children:[v,f]})]}),style:{width:300}}],rows:function(e){let{collapsed:o}=e;return o?[]:t.projects.map((e=>({key:e.projectId,columns:[(0,H.jsxs)(y().gq,{gap:8,alignItems:"center",children:[(0,ae().r)({width:12,color:x().FN.dark.green[600]}),(0,H.jsx)(h().Z,{isMultiline:!0,style:{wordWrap:"break-word",width:300},children:e.name})]},e.projectId)]})))}({collapsed:s})})]})}const re=(0,l().vU)({failed:{defaultMessage:"Some problems occurred while importing data from your Monday workspace.",id:"Mondayimport.importingData.failed.problemsOccured"}});function ie(e,t){switch(e){case"selectData":return(0,H.jsx)(h().Z,{style:{paddingBottom:8,fontSize:18,width:"100%",fontWeight:c().Ue.semibold},children:t.formatMessage(d().VE.selectWorkSpaceV1)});case"chooseWorkspace":return(0,H.jsx)(h().Z,{style:{font:"SF Pro",fontWeight:"590",fontSize:"17px",marginTop:"12px",lineHeight:"22px"},children:t.formatMessage(d().VE.chooseWorkSpace)});default:return(0,H.jsx)(H.Fragment,{})}}function le(){return(0,H.jsx)(v().Z,{title:(0,H.jsx)(l()._H,{id:"mondayAuthentication.helpButton.caption",defaultMessage:"Learn more about importing from Monday.com"}),href:"https://www.notion.so/help/monday",analyticsFrom:"import",style:{marginTop:8}})}const ce=function(e){let{tab:t,fetchActiveImportTasks:c}=e;const h=o(527278).Z.getIntl(),v=(0,s().O7)(),x=(0,n().VK)((()=>p().default.state.currentSpaceStore),[]),I=(0,n().VK)((()=>p().default.state.currentSpaceViewStore),[]),S=(0,n().VK)((()=>o(700696).default.state.teams),[]),j=(0,n().Kw)(u().default),b=(0,n().Kw)(o(623521).Z).flowId||o(956057).Il(),{workspaces:w}=j,k=(0,a.useCallback)((()=>{if("FullImport"===j.selectedImportType)return j.selectedBoardIdsForFullImport.size>0||j.selectedFolderIdsForFullImport.size>0;return Object.values(j.selectedProjectsAndTeamspaces).some((e=>0!==e.projects.length))}),[j.selectedProjectsAndTeamspaces,j.selectedFolderIdsForFullImport,j.selectedBoardIdsForFullImport,j.selectedImportType]),T=(0,a.useCallback)((()=>{x&&I&&("FullImport"===j.selectedImportType?d().Hl({environment:v,spaceStore:x,flowId:b,spaceViewStore:I}).catch((()=>{})):d().C8({environment:v,spaceStore:x,currentSpaceViewStore:I,teamsStores:S,flowId:b}).catch((()=>{})))}),[I,v,b,j.selectedImportType,x,S]),C=(0,r().yK)((e=>({closeButton:{zIndex:10,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",background:e.buttonHoveredBackground,width:20,height:20,padding:4},closeButtonHover:{background:e.buttonPressedBackground},closeButtonIcon:{width:16,fill:e.mediumTextColor}})),[]),M=(0,a.useMemo)((()=>"chooseWorkspace"===t),[t]);return(0,H.jsxs)(o(504117).ZP,{controlRow:(e=>"chooseWorkspace"===e?(0,H.jsx)(o(129824).f,{left:(0,H.jsx)(le,{}),next:{disabled:!k()||j.templateCreationInProgress,onClick:T,message:h.formatMessage(d().VE.nextButton)},back:{disabled:!w.length,onClick:()=>{c(),u().default.resetImport()},message:h.formatMessage(d().VE.backButton)}}):"selectData"===e?(0,H.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,H.jsx)(g().Z,{style:{border:0},disabled:!w.length,onClick:()=>{c(),u().default.resetImport()},children:h.formatMessage(d().VE.backButton)}),(0,H.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:(0,H.jsx)(y().gq,{alignItems:"center",gap:8,children:(0,H.jsx)(f().Z,{style:{marginLeft:16},disabled:!k()||j.templateCreationInProgress,onClick:()=>{T()},children:j.templateCreationInProgress?(0,H.jsxs)(y().gq,{alignItems:"center",gap:2,children:[(0,H.jsx)(m().Z,{isWhite:!0}),h.formatMessage(d().VE.creatingTemplate)]}):(0,H.jsx)(H.Fragment,{children:h.formatMessage(d().VE.nextButton)})})})})]}):"importingData"===e?(0,H.jsx)("div",{style:{display:"flex",justifyContent:"right"},children:(0,H.jsx)(g().Z,{disabled:!w.length,onClick:()=>{c(),u().default.resetImport()},children:(0,H.jsx)(l()._H,{id:"importsTab.importingData.closeButtonText",defaultMessage:"Close"})})}):"confirm"===e?(0,H.jsx)("div",{style:{display:"flex",justifyContent:"right"},children:(0,H.jsx)(f().Z,{onClick:()=>{var e;if(null!==(e=j.result)&&void 0!==e&&e.length&&j.loggerPageId){const e=j.result.find((e=>void 0!==e.projectCollectionPageId));o(497065).c4({url:(0,o(135857).Z)({pageId:(null==e?void 0:e.projectCollectionPageId)||j.loggerPageId,pageModel:(0,o(742036).lA)({table:o(396136).iU,id:(null==e?void 0:e.projectCollectionPageId)||j.loggerPageId}),baseUrl:o(205228).default.domainBaseUrl,pageVisitSource:o(506347).tY.Import}),environment:v})}u().default.resetImport(),o(838266).default.reset()},children:(0,H.jsx)(l()._H,{id:"importsTab.confirm.doneText",defaultMessage:"Done"})})}):"failure"===e?(0,H.jsx)("div",{style:{display:"flex",justifyContent:"right"},children:(0,H.jsx)(g().Z,{disabled:!w.length,onClick:()=>{c(),u().default.resetImport()},children:(0,H.jsx)(l()._H,{id:"importsTab.importingData.closeButtonText",defaultMessage:"Close"})})}):void 0)(t),controlRowPaddingTopBottom:M?10:20,contentPaddingLeftRight:M?25:void 0,controlRowPaddingLeftRight:M?15:void 0,getPaddingTopBottom:M?()=>2:void 0,children:[(0,H.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:(0,H.jsx)("div",{style:{position:"absolute",top:12,right:12},children:(0,H.jsx)(o(745740).Z,{onClick:()=>{c(),u().default.resetImport()},style:C.closeButton,hoveredStyle:C.closeButtonHover,children:(0,o(688049).D)(C.closeButtonIcon)})})}),ie(t,h),(e=>"selectData"===e?(0,H.jsx)(N,{}):"chooseWorkspace"===e?(0,H.jsx)(oe,{}):"importingData"===e?(0,H.jsx)(o(243818).Z,{assetSrc:i().Z.images.import.mondayPng}):"confirm"===e?(0,H.jsx)(se,{}):"failure"===e?(0,H.jsx)(o(996185).Z,{assetSrc:i().Z.images.import.mondayPng,loggerPageId:j.loggerPageId,failedMessage:h.formatMessage(re.failed)}):void 0)(t)]})}},516705:(e,t,o)=>{o.d(t,{P:()=>r,Z:()=>i});var a=o(667294),s=()=>o(788860),n=o(785893);const r=(0,s().vU)({settingsAndMembers:{id:"sidebarSettingsButton.settingsAndMembers",defaultMessage:"Settings & members"},settings:{id:"sidebarSettingsButton.settings",defaultMessage:"Settings"},tooltip:{id:"sidebarSettingsButton.tooltip",defaultMessage:"Manage your account and settings"}}),i=function(e){const{buttonStyles:t}=e,i=(0,s().YB)(),l=i.formatMessage(r.settings),c=(0,o(589525).hr)(),d=(0,a.useCallback)((()=>{o(454393).r$({openedFrom:"sidebar",currentTab:"user_settings"})}),[]);return(0,n.jsx)(o(654133).Z,{renderTooltip:()=>i.formatMessage(r.tooltip),originGap:6,textWrap:!0,placement:o(998901).Placement.Right,render:e=>(0,n.jsx)(o(154186).Z,{...e,onClick:d,style:c.baseSidebarItem,hoveredStyle:null==t?void 0:t.hoveredStyle,children:(0,n.jsx)(o(945634).Z,{left:(0,o(337968).D)(c.topButtonIcon),children:l})})})}},732342:(e,t,o)=>{o.d(t,{G:()=>h,z:()=>f});o(667294);var a=()=>o(219727),s=()=>o(142735),n=()=>o(846550),r=()=>o(788860),i=()=>o(256730),l=()=>o(4909),c=()=>o(589525),d=()=>o(998901),p=()=>o(729775),u=()=>o(654133),m=()=>o(945634),g=o(785893);function f(e){const{styles:t}=e,o=(0,a().O7)(),f=(0,r().YB)(),v=(0,s().VK)((()=>{const{RouterStore:e}=o;return e.state.route}),[o]),y=(0,n().yK)((e=>({templateGalleryNewLogoIcon:{height:20,width:20},sidebarTemplatesIcon:{fill:e.mediumIconColor,height:15}})),[]),x=(0,c().hr)(),I=(0,l().y)("marketplace_sidebar_option_click");return(0,g.jsx)(u().Z,{renderTooltip:()=>f.formatMessage(h.templatesMwnTooltip),originGap:6,placement:d().Placement.Right,render:e=>(0,g.jsx)(p().Z,{style:t.sidebarItemButtonStyle,hoveredStyle:t.buttonHoveredStyle,onClick:I,...e,children:(0,g.jsx)(m().Z,{left:(0,i().V)({...x.bottomButtonIcon,...y.templateGalleryNewLogoIcon}),isBottomItem:!0,style:"gallery"===v.name?t.sidebarItemActiveStyle:{},children:f.formatMessage(h.title)})})})}const h=(0,r().vU)({templatesMwnTooltip:{defaultMessage:"Find all the best templates and set-ups built by Notionâ€™s community",id:"sidebar.openTemplatePickerButton.tooltip.mwn"},title:{defaultMessage:"Templates",id:"sidebar.openTemplatePickerButton"}})},819792:(e,t,o)=>{o.d(t,{z:()=>i});o(667294);var a=()=>o(846550),s=()=>o(788860),n=o(785893);const r=8;function i(e){let{color:t,size:o,style:i}=e;const l=(0,s().YB)(),c=(0,a().yK)((e=>({dot:{height:o||r,width:o||r,background:t||e.blueColor,flexShrink:0,borderRadius:"100%",pointerEvents:"none",...i}})),[o,t,i]);return(0,n.jsx)("div",{role:"img","aria-label":l.formatMessage({id:"statusDot.ariaLabel",defaultMessage:"New"}),style:c.dot})}},866747:(e,t,o)=>{o.d(t,{OO:()=>F,ZP:()=>R,x3:()=>B});o(670560),o(267602),o(653476),o(241792),o(731107),o(443261);var a=o(667294),s=()=>o(219727),n=()=>o(142735),r=()=>o(846550),i=()=>o(788860),l=()=>o(568017),c=()=>o(696459),d=()=>o(707513),p=()=>o(998484),u=()=>o(404553),m=()=>o(522919),g=()=>o(168441),f=()=>o(419273),h=()=>o(876822),v=()=>o(199114),y=()=>o(555813),x=()=>o(383694),I=()=>o(356641),S=()=>o(668001),j=()=>o(92175),b=()=>o(67961),w=()=>o(251932),k=()=>o(819792),T=()=>o(491629),C=()=>o(854577),M=o(785893);const P=(0,i().vU)({selectWorkspace:{id:"asanaImporter.chooseWorkspace.chooseWorkspacePlaceholder",defaultMessage:"Choose a workspace"},selectProjectHeading:{id:"asanaImport.importsTab.chooseWorkspace.selectProjects",defaultMessage:"Choose projects to import"},mapTeamspacesDescription:{id:"asanaImport.importsTab.chooseWorkspace.tabDescription",defaultMessage:"You can give each Asana team a Notion teamspace to collaborate in. Each teamspace has a Projects database, where your imported projects will live."},loadingProjectsPlaceholder:{id:"asanaImport.importsTab.chooseWorkspace.loadingProjectsHelperText",defaultMessage:"Loading projects in the workspace..."},chooseTeamspaceOption:{id:"asanaImport.importsTab.chooseWorkspace.selectTeamspace",defaultMessage:"Choose a teamspace"},filterTeams:{id:"asanaImport.importsTab.chooseWorkspace.filterTeams",defaultMessage:"Filter teamspaces..."},filterWorkspaces:{id:"asanaImport.importsTab.chooseWorkspace.searchAsanaWorkspaces",defaultMessage:"Filter workspaces..."},newTeamspaceLabel:{id:"asanaImport.importsTab.chooseWorkspace.newTeamspace",defaultMessage:"New teamspace"},privateSpaceLabel:{id:"asanaImport.importsTab.chooseWorkspace.privateSpaceTitle",defaultMessage:"Private"},completedProjectLabel:{id:"asanaImport.importsTab.chooseWorkspace.completedHelperText",defaultMessage:" (Completed)"}});function A(e){let{asanaTeam:t}=e;const o=B(),s=(0,i().YB)(),r=(0,n().VK)((()=>v().default.getState()),[]),l=(0,n().VK)((()=>{var e;const t=null===(e=h().default.state.currentSpaceViewStore)||void 0===e||null===(e=e.getTeamsStores())||void 0===e?void 0:e.map((e=>({id:e.id,name:e.getName(),icon:(0,M.jsx)(x().p,{disabled:!0,store:e})}))),a=[];return t&&a.push(...t.map((e=>{var t;return{key:e.id,searchTerm:(null===(t=e.name)||void 0===t?void 0:t.split(" "))||void 0,icon:e.icon,name:e.name}}))),a.push({key:"private",searchTerm:["private"],icon:(0,g().Q)(o.lockedIcon),name:s.formatMessage(P.privateSpaceLabel)}),a.push({key:"create",searchTerm:["New"],icon:(0,f().f)(o.plusIcon),name:s.formatMessage(P.newTeamspaceLabel)}),a}),[s,o.lockedIcon,o.plusIcon]),{importCompletedTasks:c,selectedProjectsAndTeamspaces:d}=r,u=(0,a.useMemo)((()=>d[t.gid]||{projects:[],notionTeamspaceId:void 0}),[d,t.gid]),[m,S]=(0,a.useState)(u.notionTeamspaceId),j=(0,n().VK)((()=>h().default.state.currentSpaceViewStore),[]),w=(0,a.useCallback)((e=>{if(m===e)return p().B3({teamId:t.gid,spaceId:null}),void S(void 0);if("create"===e)return void y().lo("asana_importer",{onClose:e=>{p().B3({teamId:t.gid,spaceId:e}),S(e)}});let o;if("private"===e){if(null==j||!j.id)return;o=j.id}else o=e;p().B3({teamId:t.gid,spaceId:o}),S(e)}),[null==j?void 0:j.id,t.gid,m]),k=(0,a.useCallback)((e=>{const o={...d[t.gid]||{projects:[],notionTeamspaceId:void 0}},{notionTeamspaceId:a,projects:s}=o;let n=s;"all"===n&&(n=t.projects.map((e=>e.gid))),"in_complete"===n&&(n=t.projects.filter((e=>!e.completed)).map((e=>e.gid))),n=n.includes(e.gid)?n.filter((t=>t!==e.gid)):n.concat(e.gid),v().default.setState({...r,selectedProjectsAndTeamspaces:{...d,[t.gid]:{notionTeamspaceId:a,projects:n}}})}),[t.gid,t.projects,r,d]),T=(0,a.useMemo)((()=>{const{projects:e}=u;return 0!==e.length&&(e.length===t.projects.length||"partial")}),[u,t.projects]),C=(0,a.useCallback)((()=>{var e;let o=[];0===u.projects.length?(o=t.projects.filter((e=>!e.completed)).map((e=>e.gid)),0===o.length&&(o=t.projects.map((e=>e.gid)))):o=u.projects.length===t.projects.length?[]:t.projects.map((e=>e.gid)),v().default.setState({...r,selectedProjectsAndTeamspaces:{...d,[t.gid]:{notionTeamspaceId:null===(e=d[t.gid])||void 0===e?void 0:e.notionTeamspaceId,projects:o}}})}),[u.projects,t.projects,t.gid,r,d]),A=(0,a.useMemo)((()=>{const e=r.importCompletedTasks;let o=t.projects;return"in_complete"===u.projects?o=o.filter((e=>!e.completed)):"all"!==u.projects&&u.projects.length!==o.length&&(o=o.filter((e=>u.projects.includes(e.gid)))),{projects:o.length,tasks:o.reduce(((t,o)=>t+(e?o.task_counts.num_tasks:o.task_counts.num_incomplete_tasks)),0)}}),[u.projects,t.projects,r.importCompletedTasks]),[L,R]=(0,a.useState)(!1);return(0,M.jsx)("div",{style:o.asanaTeamSectionContainer,children:(0,M.jsxs)(I().rj,{gap:8,children:[(0,M.jsx)(I().r8,{row:1,col:1,children:(0,M.jsx)("div",{style:o.teamAndProjectsCollapse,children:(0,M.jsx)(Z,{team:t,importCompletedTasks:c,collapsed:L,onToggle:()=>R((e=>!e)),checked:e=>"all"===u.projects||"in_complete"===u.projects&&!1===e.completed||u.projects.includes(e.gid),onSelectProject:k,onSelectGroup:C,groupCheckState:T})})}),(0,M.jsx)(I().r8,{row:1,col:2,children:(0,M.jsx)(F,{onSelectOption:w,options:l,currentOption:m,style:L?"compact":"full",children:(0,M.jsx)(b().Z,{style:{fontSize:"14px",paddingLeft:L?"8px":0},children:(0,M.jsx)(i()._H,{id:"asanaImport.importsTab.chooseWorkspace.totalProjectsAndTasks",defaultMessage:"Import {nProjects} projects, {nTasks} tasks to",values:{nProjects:A.projects,nTasks:A.tasks}})})})})]})})}function Z(e){let{team:t,collapsed:o,onToggle:n,importCompletedTasks:r,onSelectProject:d,onSelectGroup:m,groupCheckState:g,checked:f}=e;const h=B(),v=(0,i().YB)(),y=(0,s().O7)(),[x,I]=(0,a.useState)(!1);return(0,M.jsx)(T().Z,{getIdentifier:e=>e.gid,onSelectRow:d,rows:t.projects,loadMoreButton:(0,c().$K)(t.nextPage)&&(0,M.jsx)(j().Z,{style:{padding:0,width:"60%",height:20},hoveredStyle:{background:"transparent"},onClick:async()=>{I(!0),await p().LH({team:t,environment:y}),I(!1)},children:x?(0,M.jsx)(S().Z,{style:{height:14,width:"100%"}}):(0,M.jsxs)(M.Fragment,{children:[(0,u().M)(h.loadMoreArrowStyles),(0,M.jsx)(b().Z,{style:h.loadMoreLabel,children:(0,M.jsx)(i()._H,{id:"asanaImport.importsTab.chooseWorkspace.loadMoreProjects",defaultMessage:"Load more projects"})})]})}),title:(0,M.jsx)("div",{style:{lineHeight:"20px",fontSize:"14px"},children:t.name}),renderRow:e=>(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(k().z,{color:e.color,size:14,style:{borderRadius:"15%"}}),(0,M.jsxs)(b().Z,{style:{...e.completed?h.projectNameCompleted:{},maxWidth:220},children:[e.name,e.completed&&v.formatMessage(P.completedProjectLabel)]}),(0,M.jsxs)(b().Z,{isSmall:!0,style:{color:l().FN.light.gray[400]},children:[r?e.task_counts.num_tasks:e.task_counts.num_incomplete_tasks,(0,M.jsx)(i()._H,{id:"asanaImport.importsTab.chooseWorkspace.tasksHelperText",defaultMessage:" tasks"})]})]}),onToggleGroup:n,onSelectGroup:m,collapsed:o,groupCheckedState:g,rowCheckedState:f})}function F(e){let{onSelectOption:t,options:o,currentOption:a,children:s,style:n}=e;const r=(0,i().YB)(),l=B();return(0,M.jsxs)(w().gq,{flexDirection:"compact"===n?"row":"column",alignItems:"center",justifyContent:"center",style:l.teamSpaceContainer,children:[(0,m().n)(l.arrowIconStyles),s,(0,M.jsx)(C().Z,{onSelectOption:t,options:o,iconOnly:"compact"===n,currentOption:a,placeHolder:r.formatMessage(P.chooseTeamspaceOption),searchThreshold:5,buttonStyles:{maxWidth:300},iconStyles:l.menuChevonDownIcon,menuProps:{maxWidth:300,maxHeight:400,left:50},inputProps:{placeholder:r.formatMessage(P.filterTeams)}})]})}function B(){return(0,r().yK)((e=>({loadingRow:{gap:6,alignItems:"center",marginTop:4,height:19.6},workspaceSelectorButton:{paddingTop:8,paddingBottom:8,paddingLeft:8,paddingRight:8,opacity:1,width:376,border:`1px solid ${l().FN.light.gray[100]}`,justifyContent:"space-between",marginTop:8,marginBottom:8},projectNameCompleted:{color:e.lightTextColor},menuChevonDownIcon:{width:12,height:12,marginLeft:4,fill:e.lightIconColor},plusIcon:{color:e.mediumIconColor,width:16,height:16},lockedIcon:{color:e.mediumIconColor,width:12.5,height:12.5},asanaTeamSectionContainer:{marginBottom:20},teamAndProjectsCollapse:{paddingTop:8,paddingBottom:8},teamSpaceContainer:{height:"100%",border:`1px solid ${e.outlineButtonBorder}`,borderRadius:4,padding:"8px 2px",gap:8,position:"relative"},arrowIconStyles:{position:"absolute",top:"50%",left:0,transform:"translate(-64%, -50%)",width:12,height:28,color:e.selectLightGray[700],backgroundColor:e.modalBackground},loadMoreLabel:{color:e.selectLightGray[700]},loadMoreArrowStyles:{width:12,color:e.selectLightGray[700],marginRight:8,marginLeft:1},teamSpaceLabel:{display:"flex",justifyContent:"center",alignItems:"center",width:16,height:16,borderRadius:"0.25em",backgroundColor:l().FN.light.gray[75]}})),[])}function L(){const e=B();return(0,M.jsxs)(I().rj,{gap:8,children:[(0,M.jsxs)(I().r8,{row:1,col:1,children:[(0,M.jsxs)(w().gq,{style:{paddingLeft:6,paddingRight:8,...e.loadingRow},children:[(0,M.jsx)(S().Z,{style:{height:14,width:34}}),(0,M.jsx)(S().Z,{style:{height:14,width:200}})]}),(0,M.jsx)(S().Z,{style:{marginLeft:40,marginTop:10,height:14,width:180}}),(0,M.jsx)(S().Z,{style:{marginLeft:40,marginTop:12,height:14,width:240}})]}),(0,M.jsx)(I().r8,{row:1,col:2,children:(0,M.jsxs)(w().gq,{flexDirection:"column",alignItems:"center",children:[(0,M.jsx)(S().Z,{style:{marginLeft:40,marginTop:12,height:14,width:200}}),(0,M.jsx)(S().Z,{style:{marginLeft:40,marginTop:12,height:14,width:140}})]})})]})}const R=function(){const e=(0,s().O7)(),t=(0,i().YB)(),r=B(),l=(0,n().VK)((()=>v().default.getState()),[]),{isLoadingProjects:c,selectedWorkspace:u,teamsAndProjects:m,workspaces:g}=l;return(0,a.useEffect)((()=>{u&&p().y2({selectedWorkspace:u,environment:e}).catch((()=>{}))}),[u,e]),(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(w().gq,{alignItems:"center",gap:8,children:[(0,M.jsx)("img",{src:o(714230).Z.images.import.asanaPng,width:16,height:16}),(0,M.jsx)(C().Z,{searchThreshold:5,onSelectOption:e=>{v().default.setState({...l,selectedProjectsAndTeamspaces:{},selectedWorkspace:e})},options:g.map((e=>({key:e.gid,name:e.name,searchTerm:e.name.split(" ")}))),currentOption:u,placeHolder:t.formatMessage(P.selectWorkspace),inputProps:{placeholder:t.formatMessage(P.filterWorkspaces)},buttonStyles:r.workspaceSelectorButton,iconStyles:r.menuChevonDownIcon})]}),u&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(b().Z,{style:{font:"SF Pro",fontWeight:"590",fontSize:"17px",marginTop:"12px",lineHeight:"22px"},children:(0,M.jsx)(i()._H,{...P.selectProjectHeading})}),(0,M.jsx)(b().Z,{style:{font:"SF Pro",fontWeight:d().Ue.regular,fontSize:d().JB.UIRegular.desktop,lineHeight:"19.6px",whiteSpace:"normal",wordWrap:"break-word",paddingTop:4,paddingBottom:20},children:(0,M.jsx)(i()._H,{...P.mapTeamspacesDescription})})]}),c?(0,M.jsx)(L,{}):m.filter((e=>0!==e.projects.length)).map((e=>(0,M.jsx)(A,{asanaTeam:e},`${e.gid}-table`)))]})}},491629:(e,t,o)=>{o.d(t,{Z:()=>p});o(241792),o(667294);var a=()=>o(846550),s=()=>o(568017),n=()=>o(715139),r=()=>o(668001),i=()=>o(92175),l=()=>o(251932),c=()=>o(167705),d=o(785893);function p(e){let{getIdentifier:t,onSelectRow:o,rows:p,title:u,renderRow:m,onToggleGroup:g,onSelectGroup:f,collapsed:h,groupCheckedState:v,rowCheckedState:y,disabled:x,rowStyles:I={},rowsContainerStyles:S={},loadMoreButton:j,checkboxStyles:b={},loading:w}=e;const k=(0,a().yK)((e=>({row:{display:"flex",cursor:"pointer",alignItems:"center",gap:6,height:24,marginTop:4,marginLeft:40},loadingRow:{gap:6,alignItems:"center",marginTop:4,height:19.6}})),[]);if(w){const e=(null==I?void 0:I.lineHeight)||14;return(0,d.jsxs)("div",{children:[(0,d.jsxs)(l().gq,{style:{paddingLeft:6,paddingRight:8,...k.loadingRow},children:[(0,d.jsx)(r().Z,{style:{height:14,width:34}}),(0,d.jsx)(r().Z,{style:{height:e,width:200}})]}),(0,d.jsxs)("div",{style:{...k.row,...I},children:[(0,d.jsx)(r().Z,{style:{height:14,width:14}}),(0,d.jsx)(r().Z,{style:{height:e,width:64}})]}),(0,d.jsxs)("div",{style:{...k.row,...I},children:[(0,d.jsx)(r().Z,{style:{height:14,width:14}}),(0,d.jsx)(r().Z,{style:{height:e,width:96}})]})]})}return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(i().Z,{onClick:g,style:{gap:6},pressedStyle:{background:"transparent"},iconStyle:{marginRight:0},ignoreLocalHoverState:!0,icon:e=>(0,d.jsx)(c().Z,{disabled:!0,style:{...e,pointerEvents:"none"},isSidebar:!1,open:!h,fill:!1,onClick:e=>{e.stopPropagation(),g()},icon:"chevron"}),children:[(0,d.jsx)(n().Z,{disabled:x,onClick:f,checked:v,style:{borderRadius:2,...b},size:14,checkSize:8,checkedColor:x?s().ZP.blueWithAlpha(.3):s().ZP.blue}),u]}),!h&&(0,d.jsxs)("div",{style:S,children:[p.map((e=>(0,d.jsxs)("div",{style:{...k.row,...I},onClick:x?void 0:()=>{o(e)},children:[(0,d.jsx)(n().Z,{style:{marginRight:1,borderRadius:2,...b},onClick:t=>{t.stopPropagation(),o(e)},disabled:x,checked:y(e),size:14,checkSize:8,checkedColor:x?s().ZP.blueWithAlpha(.3):s().ZP.blue}),m(e)]},t(e)))),j&&!x&&(0,d.jsx)("div",{style:k.row,children:j})]})]})}},854577:(e,t,o)=>{o.d(t,{Z:()=>I});o(267602),o(470928),o(241792);var a=o(667294),s=()=>o(568017),n=()=>o(696459),r=()=>o(352230),i=()=>o(15409),l=()=>o(615634),c=()=>o(827973),d=()=>o(448419),p=()=>o(320123),u=()=>o(740046),m=()=>o(198829),g=()=>o(255577),f=()=>o(92175),h=()=>o(388284),v=()=>o(67961),y=()=>o(251932),x=o(785893);function I(e){const{onSelectOption:t,options:o,currentOption:I,placeHolder:S,buttonStyles:j,initialFocus:b,menuProps:w,iconOnly:k,inputProps:T,iconStyles:C,searchThreshold:M}=e,[P,A]=(0,a.useState)(""),Z=o.find((e=>{let{key:t}=e;return t===I}));function F(e){return(0,x.jsxs)(y().gq,{alignItems:"center",style:{gap:4},children:[e.icon,(0,x.jsx)(v().Z,{children:e.name})]})}return(0,x.jsx)(d().ZP,{popupType:d().Z4.Popup,placementToOrigin:d().pO.Bottom,renderOrigin:e=>(0,x.jsxs)(f().Z,{...e,style:{color:I?void 0:s().FN.light.gray[300],...j},children:[(0,x.jsx)(v().Z,{style:{textOverflow:"ellipsis",fontSize:"14px",font:"SF Pro Text",color:I?void 0:"#ACABA9",lineHeight:"19.6px"},children:(k?null==Z?void 0:Z.icon:Z&&F(Z))??S}),(0,l().i)(C)]}),render:e=>{const a=(0,x.jsx)(u().ZP,{style:{width:"100%",paddingTop:8,paddingBottom:2},onChange:e=>A(e.target.value),value:P,...T}),s={menuType:r().o.Popup,width:376,left:50,header:(0,n().$K)(M)&&o.length>M?a:null,...w},l=o.map((o=>{let{key:a,name:s,icon:n,searchTerm:r}=o;return{key:a,keywords:r??[],action:()=>{t(a),e.close()},render:e=>(0,x.jsx)(c().Z,{...e,title:F({name:s,icon:n}),shouldWrapCaption:!0,right:I===a?(0,x.jsx)("div",{style:{width:14},children:(0,i().e)()}):void 0})}}));return(0,x.jsx)(m().Z,{...s,children:(0,x.jsx)(p().f,{type:g().i.Vertical,filterQuery:P,sections:[{key:"asanaImport.dropdown.menuList",render:e=>(0,x.jsx)(h().Z,{...e}),items:l}],initialFocus:b,style:{position:"relative",alignItems:"flex-end"}})})}})}},358565:(e,t,o)=>{o.d(t,{NH:()=>Be,GQ:()=>Le,pC:()=>Re,yH:()=>Ze,Y:()=>Fe});o(670560),o(122556),o(582845),o(250570),o(533019),o(721473),o(788208),o(22624),o(267602),o(30005),o(241792);var a=()=>o(219727),s=()=>o(142735),n=()=>o(801812),r=()=>o(396136),i=()=>o(196442),l=()=>o(899133),c=()=>o(513670),d=()=>o(696459),p=()=>o(326966),u=()=>o(28162),m=()=>o(527278),g=()=>o(43721),f=()=>o(148126),h=()=>o(750858),v=()=>o(8),y=()=>o(620218),x=()=>o(307853),I=(o(492176),o(7961),o(653476),o(470928),o(228244),o(667294),()=>o(659089)),S=()=>o(532850),j=()=>o(161002),b=()=>o(836273),w=()=>o(788860),k=()=>o(342792),T=()=>o(959137),C=()=>o(231077),M=()=>o(454393),P=()=>o(278275),A=()=>o(76254),Z=()=>o(3315),F=()=>o(516705),B=()=>o(732342),L=()=>o(549813),R=()=>o(332504),_=()=>o(103539),V=()=>o(850790),q=()=>o(325107),O=()=>o(94453),D=()=>o(383507),U=()=>o(710125),H=()=>o(709237),N=()=>o(910441),E=()=>o(619288),W=()=>o(469812),z=()=>o(938938),K=()=>o(341643),G=()=>o(420406),Y=()=>o(772529),$=()=>o(142589),Q=()=>o(815532),J=()=>o(712570),X=()=>o(197033),ee=()=>o(325292),te=()=>o(876822),oe=()=>o(482162),ae=()=>o(838266),se=()=>o(383694);const ne=(0,w().vU)({tooltip:{id:"team_home.tooltip",defaultMessage:"See announcements and other team updates"}});var re=o(785893);const ie=3;function le(e){const{environment:t}=e;return{type:"client_action",eventName:"settings",value:{behavior:"action",title:m().Z.formatMessage(F().P.settings),aliases:void 0,icon:N().r,caption:m().Z.formatMessage(F().P.tooltip),action:()=>{t.device.isElectron?C().openQuickSearchShortcutSetting():M().r$({openedFrom:"search_modal",currentTab:"settings"})}}}}function ce(e){if(!me)return[];const t=oe().default.getPeekMode(),o=(0,c().mN)([oe().default.state.open?{name:"center_peek"===t?"center":"peek",store:oe().default.state.targetStore}:void 0,"center_peek"!==t?{name:"main",store:te().default.state.mainEditorCurrentBlockStore}:void 0],(e=>{var t;return null==e||null===(t=e.store)||void 0===t?void 0:t.id})),a=[];for(const{name:n,store:r}of(0,c().oA)(o)){var s;if(!r)continue;const t=r.getAssociatedCollectionStore();if(!t)continue;const o=t.getSchema();if(!o)continue;const i=(0,d().qP)(o).find((e=>{let[t,o]=e;return"auto_increment_id"===(null==o?void 0:o.type)}));if(!i)continue;const[l,c]=i;if(!c)continue;const p=null===(s=t.getRecordKeyStore())||void 0===s?void 0:s.getRecordKey(),u=(0,S().ah)(r.getPropertyValue(l));if(!p||!u)continue;const g=(0,I().wf)(p,u);if(g){const t=(0,L().vU)({environment:e.environment,intl:m().Z.getIntl(),store:r});a.push({type:"client_action",eventName:`${n}_unique_id`,value:{behavior:"action",title:m().Z.formatMessage(Ie.copyUniqueIdForPage,{pageTitle:t,idPropertyName:c.name}),aliases:[m().Z.formatMessage(Ie.copyUniqueIdAlias)],caption:m().Z.formatMessage(Ie.copyUniqueIdForPageCaption),icon:O().H,shouldIgnoreTitle:!1,action:async()=>{const t=await T().F.clipboardActions.load();await t.copyString({environment:e.environment,stringValue:g,copiedMessage:Ie.copyUniqueIdSnackNotification})}}})}}return a}function de(e){const t=(0,Y().Al)(te().default.state.currentSpaceViewStore);if(t)return{type:"client_action",eventName:"home",value:{behavior:"navigation",title:m().Z.formatMessage(J().NX.label),aliases:void 0,icon:H().z,caption:m().Z.formatMessage(J().NX.tooltip),destination:{type:"block",blockStore:t}}}}function pe(e){const{environment:t}=e;if(!(0,$().U)({isMobileNative:t.device.isMobileNative,disableExposureLogging:!0}))return[];const{currentSpaceViewStore:o}=te().default.state,a=(null==o?void 0:o.getTeamsJoinableStores())??[],s=(null==o?void 0:o.getTeamsStores())??[],n=new Set(s.map((e=>e.id)));return a.sort(((e,t)=>Number(n.has(t.id))-Number(n.has(e.id)))).map((e=>{const t=e.getIcon();return{type:"client_action",eventName:"team_home",value:{behavior:"navigation",title:e.getName()??"UnnamedTeamspace",aliases:void 0,icon:t?(e,o)=>(0,re.jsx)(se().p,{icon:t,style:e}):H().z,caption:m().Z.formatMessage(ne.tooltip),destination:{type:"url",url:(0,j().y)({teamId:e.id})}}}}))}function ue(e){const{environment:t,isCommandSearch:o}=e;if(me&&!o)return{type:"client_action",eventName:"inbox",value:{behavior:"action",title:m().Z.formatMessage(z().q.inboxTitle),aliases:[m().Z.formatMessage(Ie.inboxNotificationAlias),m().Z.formatMessage(Ie.inboxUpdateAlias)],caption:m().Z.formatMessage(z().q.tooltip),icon:ee().v,action:()=>(0,Q().AP)({environment:t,contentType:"inbox"})}}}const me=!1;function ge(e){if((0,R().d)()&&!e.isCommandSearch)return{type:"client_action",eventName:"experiments",value:{behavior:"action",title:m().Z.formatMessage(Ie.experiments),aliases:[m().Z.formatMessage(Ie.experimentGateAlias)],caption:m().Z.formatMessage(Ie.experimentsCaption),icon:W().e,action:()=>{ae().default.setState({...ae().default.state,open:!0,currentTab:"experiments",defaultSubtab:void 0})}}}}function fe(e){if(!e.isCommandSearch)return{type:"client_action",eventName:"import",value:{behavior:"action",title:m().Z.formatMessage(Z().M.tabTitle),aliases:void 0,caption:m().Z.formatMessage(Z().M.tabSubtitle),icon:U().l,action:()=>ae().default.setState({...ae().default.state,open:!0,currentTab:"imports",defaultSubtab:void 0})}}}function he(e){return{type:"client_action",eventName:"templates",value:{behavior:"navigation",title:m().Z.formatMessage(B().G.title),aliases:[m().Z.formatMessage(Ie.templatesGalleryAlias)],caption:m().Z.formatMessage(B().G.templatesMwnTooltip),icon:E().E,destination:{type:"url",url:b()._j.marketplace}}}}function ve(e){if(me&&!e.isCommandSearch)return{type:"client_action",eventName:"toggle_performance_toolbar",value:{behavior:"action",title:m().Z.formatMessage(Ie.performanceToolbar),aliases:void 0,caption:m().Z.formatMessage(Ie.performanceToolbarCaption),icon:V().K,action:()=>{(0,G().$)(e.environment,e.environment.RouterStore.state)&&K().s4.load().then((e=>{let{PerformanceToolbarStore:t}=e;return t.update((e=>({...e,isPerformanceToolbarPinned:!e.isPerformanceToolbarPinned})))}))}}}}function ye(e){const{environment:t}=e,o="light"===t.ThemeStore.state.mode;if(me)return{type:"client_action",eventName:"toggle_theme",value:{behavior:"action",title:m().Z.formatMessage(Ie.toggleTheme),aliases:[m().Z.formatMessage(Ie.darkMode),m().Z.formatMessage(Ie.lightMode),m().Z.formatMessage(Ie.themeMode)],caption:m().Z.formatMessage(o?Ie.toggleDarkThemeCaption:Ie.toggleLightThemeCaption),icon:_().s,action:()=>{const e=o?"dark":"light";A().Y7(e)}}}}Object.freeze(new Set(["how","what","when","where","why","can","do","tell","explain","help","give","create"]));function xe(e){const{query:t,environment:o}=e;if(me&&Boolean((0,k().xP)(t)))return{type:"client_action",eventName:"copy_dashed_uuid",value:{behavior:"action",title:m().Z.formatMessage(Ie.copyDashedUuid),aliases:[],caption:m().Z.formatMessage(Ie.copyDashedUuidCaption),icon:q().U,shouldIgnoreTitle:!0,action:async()=>{const e=(0,k().xP)(t);if(!e)return;const a=await T().F.clipboardActions.load();await a.copyString({environment:o,stringValue:e,copiedMessage:Ie.copyDashedUuidSnackbar})}}}}const Ie=(0,w().vU)({help:{id:"search.actionResult.help",defaultMessage:"Help & Documentation"},helpCaption:{id:"search.actionResult.helpCaption",defaultMessage:"View help and documentation."},helpSupportalias:{defaultMessage:"support",id:"search.actionResult.help.support"},performanceToolbar:{id:"search.actionResult.performanceToolbar",defaultMessage:"Performance toolbar"},performanceToolbarCaption:{id:"search.actionResult.fpsCaption",defaultMessage:"Toggle the performance toolbar."},toggleTheme:{id:"search.actionResult.toggleTheme",defaultMessage:"Toggle theme"},toggleDarkThemeCaption:{id:"search.actionResult.toggleDarkThemeCaption",defaultMessage:"Switch to dark theme."},toggleLightThemeCaption:{id:"search.actionResult.toggleLightThemeCaption",defaultMessage:"Switch to light theme."},darkMode:{id:"search.actionResult.darkModeAlias",defaultMessage:"Dark mode"},lightMode:{id:"search.actionResult.lightModeAlias",defaultMessage:"Light mode"},themeMode:{id:"search.actionResult.themeModeAlias",defaultMessage:"Theme"},copyDashedUuid:{id:"search.actionResult.copyDashedUuid",defaultMessage:"Copy dashed UUID"},copyDashedUuidCaption:{id:"search.actionResult.copyDashedUuidCaption",defaultMessage:"Copy dashed UUID"},copyDashedUuidSnackbar:{id:"search.actionResult.copyDashedUuidSnackbar",defaultMessage:"Copied dashed UUID"},experiments:{id:"search.actionResult.experiments",defaultMessage:"Experiments"},experimentsCaption:{id:"search.actionResult.experimentsCaption",defaultMessage:"View and manage experiments."},inboxUpdateAlias:{defaultMessage:"updates",id:"search.actionResult.inbox.updates"},inboxNotificationAlias:{defaultMessage:"notifications",id:"search.actionResult.inbox.notifications"},templatesGalleryAlias:{defaultMessage:"gallery",id:"search.actionResult.templates.gallery"},experimentGateAlias:{defaultMessage:"gate",id:"search.actionResult.experiments.gate"},copyUniqueIdForPage:{defaultMessage:"Copy {idPropertyName} for {pageTitle}",id:"search.actionResult.copyUniqueId"},copyUniqueIdForPageCaption:{defaultMessage:"Copy unique identifier for page to clipboard",id:"search.actionResult.copyUniqueIdCaption"},copyUniqueIdSnackNotification:{defaultMessage:"Unique ID copied",id:"search.actionResult.copyUniqueIdSnackNotification"},copyUniqueIdAlias:{defaultMessage:"unique",id:"search.actionResult.copyUniqueIdAlias"}});var Se=()=>o(524434),je=()=>o(804217),be=()=>o(749826),we=()=>o(63317),ke=()=>o(485014),Te=()=>o(826955),Ce=()=>o(76792),Me=()=>o(609306),Pe=()=>o(64572),Ae=()=>o(625820);function Ze(e){const t=(0,a().O7)();return(0,s().VK)((()=>{const{hasPublicAccessPermission:o,publicAccessPermissionAncestorBlockId:a}=v().bC(t);return{isOnline:Boolean(je().default.state.online),limit:Ae().ZP.state.limit,parentStore:e,hasPublicAccessPermission:o,publicAccessPermissionAncestorBlockId:a,currentSpaceStore:te().default.state.currentSpaceStore,debug:Ce().default.getDebugLevel(),openAsPage:Me().default.state.openAsPage,currentSpaceViewStore:te().default.state.currentSpaceViewStore,query:Ae().ZP.state.query,localSearchablePagesStore:ke().Z}}),[t,e])}function Fe(e){let{dependencies:t,debugColumnStore:o,localDebounce:r=75,serverSearchFn:l,searchResultStore:d,permanentFilterOverride:p,enabled:m,preventUpdateSearchMetrics:f}=e;const h=(0,a().O7)(),x=(0,s().VK)((()=>function(e){const{debugColumnStore:t}=e,o=t.state.searchExperimentOverrides;function a(e){return(null==o?void 0:o[e])??be().default.getGroup(e,{disableExposureLogging:!0})}function s(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"control";const s=null==o?void 0:o[e];if(s)return s;const n=be().default.getEligibleGroup({experimentId:e,parameter:t,defaultGroup:a});return void 0===n?"control":n}return{isLocalBlendingDisabled:"on"===a("search-no-local-blending"),shouldUseNewRerankerDebugOverrideEnabled:"on"===s("search-use-local-reranker-layered","shouldUseLocalReranker","control"),forcedClusterPattern:t.state.forcedClusterPattern,searchExperimentOverrides:t.state.searchExperimentOverrides,forcedBlockIds:t.state.forcedBlockIds}}({debugColumnStore:o})),[o]);(0,n().r5)((()=>m?async function(e){const{query:t,openAsPage:o,store:a,environment:s,serverSearchFn:n}=e;if(o&&c().Xy(t,a.state.selectedQueryResultQuery))return;const r=Date.now(),l=Me().default.state.searchMode;if(function(e){const{parentStore:t,environment:o,query:a,debug:s,limit:n,hasPublicAccessPermission:r,isOnline:l,store:d,permanentFilterOverride:p,preventUpdateSearchMetrics:m,now:f,shouldUseNewRerankerDebugOverrideEnabled:h,searchMode:x,localSearchablePagesStore:I,currentSpaceStore:S}=e,j=y().default.mark("rum.local_quick_search_query"),b=I.state.localSearchableBlocksCache,w=(0,g().U)({environment:o,overrideSpaceStore:S,overrideLocalSearchableBlocksCache:b});if("quick_find_scroll"===Ae().ZP.state.source)return;let k;const T={...a,filters:{...a.filters,...p}},{text:C,sort:M}=T,P=function(e){const t=[];e.match(i().LO)&&t.push("literal");e.match(i().nZ)&&t.push("negation");return t}(C);P.length>0&&u().Cr(o,{operations:P,searchSessionId:u().LT()});const A="nav-local-only"!==x;if(function(e){const{isLocalBlendingDisabled:t,queryOperations:o,queryText:a,querySort:s}=e;return!c().xb(a.trim())&&!t&&0===o.length&&"relevance"===s.field}({isLocalBlendingDisabled:e.isLocalBlendingDisabled||"full-content"===x,queryOperations:P,queryText:C,querySort:M})){var Z;k=v().b9(Be({parentStore:t,environment:o,requestInput:{query:T,debug:s,limit:n},hasPublicAccessPermission:r,isOnline:l,localSearchCache:b,shouldUseNewRerankerDebugOverrideEnabled:h,shouldLimitLocalResultsWhenOnline:A})),y().default.measure(j,{environment:o,data:{success:Boolean(k),start_time:j.startTime,surface:"quick_search",num_results:(null===(Z=k)||void 0===Z||null===(Z=Z.results)||void 0===Z?void 0:Z.length)||0,search_session_id:Me().default.state.sessionId,local_cache_metadata:w,query_length:C.length}}),m||Pe().default.update((e=>({...e,numLocalRequests:e.numLocalRequests+1})))}else k=void 0;d.update((e=>{var t;return null===(t=k)||void 0===t||t.results.forEach((t=>e.timesToRender.set(t.id,Date.now()-f))),{...e,localResults:k}}))}({...e,now:r,searchMode:l}),Le({query:t.text,store:a,environment:s,searchMode:l}),"nav-local-only"===l)a.update((e=>({...e,serverResults:void 0})));else{var d;const t=new Set;null===(d=a.state.localResults)||void 0===d||d.results.forEach((e=>t.add(e.id)));const o="default"!==l?Re:n;await o({...e,now:r,excludedBlockIds:[...t],searchMode:l})}}({...t,...x,store:d,serverSearchFn:l,environment:h,permanentFilterOverride:p,preventUpdateSearchMetrics:f}):Promise.resolve()),[t,x,d,l,h,p,m,f],{debounce:r})}function Be(e){const{parentStore:t,requestInput:o,isOnline:a,environment:s,hasPublicAccessPermission:n,localSearchCache:r,shouldUseNewRerankerDebugOverrideEnabled:i,shouldLimitLocalResultsWhenOnline:c}=e,{query:d}=o;if(!r)return;if(!d.text.trim())return;if(n)return;const p=(0,x().Y)({query:o,localCachedPages:r,parentStore:t,environment:s,isOnline:a,shouldLimitLocalResultsWhenOnline:c,applyScoreThresholdWhenOnline:!0,canUseLtr:!0,shouldUseNewRerankerDebugOverrideEnabled:i});return!p||null!=p&&p.error||p.value.results.forEach((e=>{if(!Boolean(e.store.isTemplate()))return;const t={type:"is_template",properties:{},label:m().Z.formatMessage(l().Pe.template)};e.badges=e.badges?[...e.badges,t]:[t]})),p}function Le(e){const{query:t,store:o,environment:a,searchMode:s}=e,n=be().default.checkGate({gateName:"search-custom-action-results"}),r=a.currentUser.isLoggedIn();if(!n||!r)return;const i=Boolean(Me().default.state.isNewElectronTab),l=function(e){const{query:t,environment:o,isNewElectronTab:a}=e;if(t.length<ie)return[];const s={query:t,environment:o,isCommandSearch:(0,h().b)(o)},n=e=>{var o;if(!e||"action"===e.value.behavior&&a)return!1;if(e.value.shouldIgnoreTitle)return!0;const s=t.toLowerCase();if(e.value.title.toLowerCase().startsWith(s))return!0;const n=null===(o=e.value.aliases)||void 0===o?void 0:o.some((e=>e.toLowerCase().startsWith(s)));return Boolean(n)};return[[de()].filter(n),pe(s).filter(n).slice(0,5),[le(s)].filter(n),[fe(s)].filter(n),[he()].filter(n),[ue(s)].filter(n),[ge(s)].filter(n),[ve(s)].filter(n),[ye(s)].filter(n),[xe(s)].filter(n),ce(s).filter(n)].flat()}({query:t,environment:a,isNewElectronTab:i}),c=(0,h().b)(a),d="nav-local-only"===s,p=(()=>{if(!d)return[];let e;return e=Se().KR.isQuickFindEnabled()&&!Se().KR.isDeepFindEnabled()?function(e){const{query:t,isNavLocalOnly:o}=e;if(!o)return;const a=t.trim(),{action:s,eventName:n,title:r}={action:()=>P().qm(a),eventName:"full_search",title:`Search for â€œ${a}â€œ`};return{type:"client_action",eventName:n,value:{behavior:"action",action:s,title:r,aliases:void 0,icon:X().q,shouldIgnoreTitle:!0,caption:void 0}}}({query:t,isNavLocalOnly:d}):function(e){const{isCommandSearch:t,query:o,environment:a}=e;if(t)return;return{type:"client_action",eventName:"deep_dive",value:{behavior:"action",title:`Search for â€œ${o.trim()}â€œ in full page`,icon:()=>(0,D().Q)({height:20,width:20}),shouldIgnoreTitle:!0,action:()=>P().Ky({environment:a,shouldResetAssistantStore:!0,device:a.device,quickSearchMode:t,queryOverrideFromAISuggestedQuestion:o.trim(),from:t?"command_search_deep_dive":"search_deep_dive"}),aliases:void 0,caption:void 0}}}({query:t,environment:a,isCommandSearch:c}),e?[e]:[]})(),u=p?[...p,...l]:l;return null==o||o.update((e=>({...e,queryBasedActionResults:u}))),u}async function Re(e){var t,o,a,s,n,c,m,g;let{parentStore:x,environment:I,query:S,debug:j,isOnline:b,publicAccessPermissionAncestorBlockId:w,currentSpaceStore:k,searchExperimentOverrides:T,forcedClusterPattern:C,store:M,forcedBlockIds:P,limit:A,permanentFilterOverride:Z,excludedBlockIds:F,preventUpdateSearchMetrics:B,now:L,searchMode:R}=e;const _=y().default.mark("rum.server_quick_search_query"),V={...S,filters:{...S.filters,...Z}};if(!V.text.trim()&&!v().FN(V.filters))return;const q=Ae().ZP.state.source,O="quick_find_scroll"===q,D=O||0===Pe().default.state.numServerRequests&&"full-content"!==R;M.update((e=>{var t;return{...e,serverResultsLoading:!0,...D?{serverResults:e.serverResults,serverEventProperties:null===(t=e.serverResults)||void 0===t?void 0:t.serverEventProperties}:{serverResults:void 0,serverEventProperties:void 0}}})),B||Pe().default.update((e=>({...e,numServerRequests:e.numServerRequests+1})));const U=(0,i().A7)({searchSessionId:Me().default.state.sessionId,searchSessionFlowNumber:Pe().default.state.numServerRequests}),H={query:V,debug:j,limit:A},N=await async function(e){const{parentStore:t,requestInput:o,isOnline:a,environment:s,publicAccessPermissionAncestorBlockId:n,searchSessionId:i,searchSessionFlowNumber:c,source:u,spaceId:m,searchExperimentOverrides:g,forcedClusterPattern:h,forcedBlockIds:y,excludedBlockIds:x}=e;if(!a)return{error:l().Ix.Offline};(0,f().Sr)(s)&&n&&(o.query.filters.includePublicPagesWithoutExplicitAccess=!0);const I=await v().MS({environment:s,input:o,spaceId:m,publicAccessPermissionAncestorBlockId:n,searchSessionId:i,searchSessionFlowNumber:c,source:u,searchExperimentOverrides:g,forcedClusterPattern:h,recentPagesForBoosting:m&&"on"!==(null==g?void 0:g["search-debug-only-no-recent-boosting"])?we().Z.getWithoutSubscribing(m):[],forcedBlockIds:y,excludedBlockIds:x});if(!I)return;if("failed"===I.type)return I.offline?{error:l().Ix.Offline}:{error:l().Ix.RequestFailed};const{trackEventProperties:S,results:j,total:b,debug:w,clusterInfo:k}=I.data,T=(0,p().m8)((0,d().qP)(S).map((e=>{let[t,o]=e;return[`server-${t}`,o]})));return{value:{results:j.map(((e,o)=>({...e,serverEventProperties:T,originalPosition:o,store:Te().G.createChildStore(t,{table:r().iU,id:e.id})}))),total:b,debugInfo:w,serverEventProperties:T,clusterInfo:k}}}({parentStore:x,environment:I,requestInput:H,spaceId:null==k?void 0:k.id,searchSessionId:Me().default.state.sessionId,searchSessionFlowNumber:Pe().default.state.numServerRequests,publicAccessPermissionAncestorBlockId:w,isOnline:b,source:q,searchExperimentOverrides:T,forcedClusterPattern:C,forcedBlockIds:P,excludedBlockIds:F});if(U!==(0,i().A7)({searchSessionId:Me().default.state.sessionId,searchSessionFlowNumber:Pe().default.state.numServerRequests}))return;if(!N||N.error)return M.update((e=>({...e,serverError:null==N?void 0:N.error,serverResultsLoading:!1,serverResults:void 0,serverEventProperties:void 0})));const E=O?v().Nu({existingResults:M.state.serverResults,newPageResults:N.value}):N.value;y().default.measure(_,{environment:I,data:{start_time:_.startTime,success:!0,surface:"quick_find",num_results:(null===(t=M.state.serverResults)||void 0===t?void 0:t.results.length)||0,search_session_id:Me().default.state.sessionId,search_session_flow_number:Pe().default.state.numServerRequests,query_length:V.text.length}}),M.update((e=>(N.value.results.forEach((t=>e.timesToRender.set(t.id,Date.now()-L))),{...e,serverError:null==N?void 0:N.error,serverResultsLoading:!1,serverResults:E,serverResultsAllLoaded:N.value.results.length<A,serverEventProperties:N.value.serverEventProperties})));const W=(null===(o=M.state.serverResults)||void 0===o?void 0:o.results.map((e=>{var t;return{id:e.id,badges:(null===(t=e.badges)||void 0===t?void 0:t.map((e=>e.type)))??[]}})))??[],z=new Map;for(const{badges:r}of W)for(const e of r){const t=z.get(e)??0;z.set(e,t+1)}const{sections:K}=v().IV({intentBasedGrouping:(0,h().X)(),localResults:null===(a=M.state.localResults)||void 0===a?void 0:a.results,serverResults:null===(s=M.state.serverResults)||void 0===s?void 0:s.results}),G={};for(const[r,i]of Object.entries(K))G[r]=i.map((e=>e.id));u().Zf(I,{numLocalResults:(null===(n=M.state.localResults)||void 0===n?void 0:n.results.length)||0,localResultsIds:(null===(c=M.state.localResults)||void 0===c?void 0:c.results.map((e=>e.id)))||[],totalLocalResultIds:(null===(m=M.state.localResults)||void 0===m?void 0:m.totalResultIds)||[],numServerResults:(null===(g=M.state.serverResults)||void 0===g?void 0:g.results.length)||0,...M.state.serverEventProperties,badgeCounts:z,badgesByResultId:W,idsBySection:G,timeToRenderById:[...M.state.timesToRender.entries()].map((e=>{let[t,o]=e;return{id:t,timeToRender:o}}))})}},103539:(e,t,o)=>{o.d(t,{s:()=>s});o(667294);var a=o(785893);const s=(0,o(827282).IU)("appearanceSetting",{viewBox:"0 0 20 20",svg:(0,a.jsx)("path",{d:"M9.969 17.938c4.36 0 7.969-3.618 7.969-7.97C17.938 5.61 14.32 2 9.96 2 5.609 2 2 5.61 2 9.969c0 4.351 3.617 7.969 7.969 7.969zm0-1.329a6.609 6.609 0 01-6.633-6.64 6.602 6.602 0 016.625-6.64 6.627 6.627 0 016.648 6.64 6.61 6.61 0 01-6.64 6.64zm2.445-4.906c-2.367 0-3.883-1.484-3.883-3.851 0-.493.133-1.188.274-1.555.047-.102.047-.164.047-.203a.246.246 0 00-.25-.25.75.75 0 00-.258.047c-1.617.64-2.703 2.39-2.703 4.226 0 2.57 1.968 4.406 4.53 4.406 1.884 0 3.5-1.156 4.056-2.57a.618.618 0 00.054-.234.269.269 0 00-.258-.274.62.62 0 00-.187.032 4.623 4.623 0 01-1.422.226z"})})},887863:(e,t,o)=>{o.d(t,{r:()=>s});o(667294);var a=o(785893);const s=(0,o(827282).IU)("circleCheckFilled",{viewBox:"0 0 16 16",svg:(0,a.jsx)("path",{d:"M8 16c4.377 0 8-3.631 8-8 0-4.376-3.631-8-8.008-8C3.624 0 0 3.624 0 8c0 4.369 3.631 8 8 8zm-.886-4.165c-.267 0-.487-.11-.69-.384l-1.97-2.416a.852.852 0 01-.187-.51c0-.352.274-.643.627-.643.228 0 .4.07.596.33l1.592 2.055 3.35-5.38c.148-.236.352-.362.556-.362.345 0 .667.236.667.604 0 .173-.102.353-.196.518l-3.686 5.804c-.165.259-.393.384-.66.384z"})})},787352:(e,t,o)=>{o.d(t,{v:()=>s});o(667294);var a=o(785893);const s=(0,o(827282).IU)("folder",{viewBox:"0 0 16 16",svg:(0,a.jsx)("path",{d:"M2.4082 14.3672H13.7627C15.0684 14.3672 15.8271 13.6084 15.8271 12.1455V5.11816C15.8271 3.65527 15.0615 2.89648 13.585 2.89648H7.22754C6.73535 2.89648 6.44824 2.78027 6.07227 2.47266L5.67578 2.1582C5.19727 1.76172 4.8418 1.63184 4.13086 1.63184H2.19629C0.917969 1.63184 0.166016 2.37695 0.166016 3.8125V12.1455C0.166016 13.6084 0.931641 14.3672 2.4082 14.3672ZM1.50586 3.92871C1.50586 3.2998 1.84766 2.97168 2.46289 2.97168H3.77539C4.26074 2.97168 4.54102 3.08105 4.92383 3.39551L5.32031 3.7168C5.79199 4.10645 6.16113 4.23633 6.87207 4.23633H13.5098C14.1387 4.23633 14.4873 4.56445 14.4873 5.23438V5.63086H1.50586V3.92871ZM2.49023 13.0273C1.85449 13.0273 1.50586 12.6992 1.50586 12.0361V6.81348H14.4873V12.0361C14.4873 12.6992 14.1387 13.0273 13.5098 13.0273H2.49023Z"})})},683630:(e,t,o)=>{o.d(t,{s:()=>s});o(667294);var a=o(785893);const s=(0,o(827282).IU)("iOSShare",{viewBox:"0 0 26 26",svg:(0,a.jsx)("path",{d:"M16.2498 7.04938C15.8356 7.04938 15.4998 7.38517 15.4998 7.79938C15.4998 8.2136 15.8356 8.54938 16.2498 8.54938V7.04938ZM9.74984 8.54938C10.164 8.54938 10.4998 8.2136 10.4998 7.79938C10.4998 7.38517 10.164 7.04938 9.74984 7.04938V8.54938ZM12.2499 15.5994C12.2499 16.0136 12.5857 16.3494 12.9999 16.3494C13.4141 16.3494 13.7499 16.0136 13.7499 15.5994H12.2499ZM13.7499 1.29938C13.7499 0.88517 13.4141 0.549384 12.9999 0.549384C12.5857 0.549384 12.2499 0.88517 12.2499 1.29938H13.7499ZM8.89451 4.01942C8.60161 4.31231 8.60161 4.78718 8.89451 5.08008C9.1874 5.37297 9.66227 5.37297 9.95517 5.08008L8.89451 4.01942ZM12.9998 0.974747L13.5302 0.444417C13.2373 0.151523 12.7624 0.151523 12.4695 0.444417L12.9998 0.974747ZM16.0445 5.08008C16.3374 5.37297 16.8123 5.37297 17.1052 5.08008C17.3981 4.78718 17.3981 4.31231 17.1052 4.01942L16.0445 5.08008ZM16.2498 8.54938H18.8498V7.04938H16.2498V8.54938ZM18.8498 8.54938C19.8716 8.54938 20.6998 9.37766 20.6998 10.3994H22.1998C22.1998 8.54923 20.7 7.04938 18.8498 7.04938V8.54938ZM20.6998 10.3994V19.8244H22.1998V10.3994H20.6998ZM20.6998 19.8244C20.6998 20.8461 19.8716 21.6744 18.8498 21.6744V23.1744C20.7 23.1744 22.1998 21.6745 22.1998 19.8244H20.6998ZM18.8498 21.6744H7.14984V23.1744H18.8498V21.6744ZM7.14984 21.6744C6.12811 21.6744 5.29984 20.8461 5.29984 19.8244H3.79984C3.79984 21.6745 5.29968 23.1744 7.14984 23.1744V21.6744ZM5.29984 19.8244V10.3994H3.79984V19.8244H5.29984ZM5.29984 10.3994C5.29984 9.37766 6.12811 8.54938 7.14984 8.54938V7.04938C5.29968 7.04938 3.79984 8.54923 3.79984 10.3994H5.29984ZM7.14984 8.54938H9.74984V7.04938H7.14984V8.54938ZM13.7499 15.5994V1.29938H12.2499V15.5994H13.7499ZM9.95517 5.08008L13.5302 1.50508L12.4695 0.444417L8.89451 4.01942L9.95517 5.08008ZM12.4695 1.50508L16.0445 5.08008L17.1052 4.01942L13.5302 0.444417L12.4695 1.50508Z"})})},256730:(e,t,o)=>{o.d(t,{V:()=>a().V});var a=()=>o(829466)},910441:(e,t,o)=>{o.d(t,{r:()=>s});o(667294);var a=o(785893);const s=(0,o(827282).IU)("sidebarSettings",{viewBox:"0 0 20 20",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 11.15C10.6352 11.15 11.15 10.6352 11.15 10C11.15 9.3649 10.6352 8.85002 10 8.85002C9.3649 8.85002 8.85002 9.3649 8.85002 10C8.85002 10.6352 9.3649 11.15 10 11.15ZM10 12.35C11.2979 12.35 12.35 11.2979 12.35 10C12.35 8.70216 11.2979 7.65002 10 7.65002C8.70216 7.65002 7.65002 8.70216 7.65002 10C7.65002 11.2979 8.70216 12.35 10 12.35Z"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.66313 13.92L9.29337 15.7942C9.30705 15.835 9.3452 15.8624 9.38815 15.8624H10.6119C10.6548 15.8624 10.693 15.835 10.7066 15.7942L11.3369 13.92L11.8486 13.6609C11.9847 13.592 12.1165 13.5157 12.2435 13.4325L12.7244 13.1173L14.6647 13.509C14.7068 13.5175 14.7496 13.4982 14.7711 13.461L15.3829 12.4012C15.4044 12.364 15.3997 12.3173 15.3713 12.2851L14.0625 10.8013L14.0938 10.2287C14.0979 10.1531 14.1 10.0769 14.1 10C14.1 9.92309 14.0979 9.8468 14.0938 9.77119L14.0625 9.19865L15.3713 7.71477C15.3997 7.68257 15.4044 7.63582 15.3829 7.59862L14.7711 6.53886C14.7496 6.50166 14.7068 6.48233 14.6647 6.49083L12.7243 6.8826L12.2434 6.56746C12.1164 6.48424 11.9847 6.40796 11.8487 6.33909L11.3369 6.07998L10.7066 4.20568C10.693 4.16497 10.6548 4.13755 10.6119 4.13755L9.38815 4.13755C9.3452 4.13755 9.30705 4.16497 9.29337 4.20568L8.6631 6.08L8.15134 6.33911C8.01535 6.40796 7.88361 6.48424 7.75665 6.56744L7.27577 6.88258L5.33531 6.4908C5.29321 6.4823 5.25039 6.50162 5.22891 6.53882L4.61706 7.59858C4.59558 7.63578 4.60026 7.68253 4.62867 7.71473L5.93757 9.19866L5.90625 9.77121C5.90211 9.84681 5.90001 9.92309 5.90001 10C5.90001 10.0769 5.90211 10.1531 5.90625 10.2287L5.93756 10.8012L4.62867 12.2851C4.60026 12.3173 4.59559 12.3641 4.61706 12.4013L5.22892 13.461C5.25039 13.4982 5.29322 13.5176 5.33531 13.5091L7.27565 13.1173L7.75654 13.4325C7.88354 13.5157 8.01533 13.592 8.15137 13.6609L8.66313 13.92ZM6.98912 14.6034C7.15941 14.715 7.33626 14.8174 7.51897 14.9099L7.96638 16.2405C8.1717 16.8511 8.74396 17.2624 9.38815 17.2624H10.6119C11.2561 17.2624 11.8283 16.8511 12.0336 16.2405L12.481 14.91C12.6638 14.8174 12.8406 14.715 13.0109 14.6034L14.3876 14.8813C15.0191 15.0088 15.6614 14.7189 15.9835 14.161L16.5953 13.1012C16.9174 12.5433 16.8474 11.8421 16.4212 11.359L15.4917 10.3052C15.4972 10.2041 15.5 10.1024 15.5 10C15.5 9.89756 15.4972 9.79578 15.4917 9.69472L16.4212 8.64087C16.8474 8.15776 16.9174 7.45651 16.5954 6.89862L15.9835 5.83886C15.6614 5.28097 15.0191 4.99103 14.3876 5.11852L13.0108 5.3965C12.8405 5.28493 12.6637 5.18255 12.4811 5.09007L12.0336 3.75947C11.8283 3.14887 11.2561 2.73755 10.6119 2.73755H9.38815C8.74396 2.73755 8.1717 3.14886 7.96638 3.75946L7.51894 5.09008C7.33629 5.18256 7.1595 5.28493 6.98928 5.39648L5.61238 5.11849C4.98092 4.991 4.33858 5.28093 4.01648 5.83882L3.40462 6.89858C3.08253 7.45647 3.15261 8.15772 3.57874 8.64083L4.50834 9.69474C4.50281 9.79579 4.50001 9.89757 4.50001 10C4.50001 10.1024 4.50281 10.2041 4.50833 10.3052L3.57875 11.359C3.15261 11.8421 3.08253 12.5434 3.40463 13.1013L4.01648 14.161C4.33858 14.7189 4.98092 15.0089 5.61237 14.8814L6.98912 14.6034Z"})]})})},619288:(e,t,o)=>{o.d(t,{E:()=>s});o(667294);var a=o(785893);const s=(0,o(827282).IU)("templatesNewColored",{viewBox:"0 0 20 20",svg:(0,a.jsxs)("g",{children:[(0,a.jsx)("path",{fill:"#FFB110",fillRule:"evenodd",d:"M6.014 16.338a4.429 4.429 0 004.429-4.48H8.88c-.254 0-.512 0-.732-.018a2.26 2.26 0 01-.86-.226 2.24 2.24 0 01-.979-.979 2.26 2.26 0 01-.226-.86 9.471 9.471 0 01-.018-.731V7.48a4.44 4.44 0 014.179 3.111 4.431 4.431 0 00-8.659 1.318 4.43 4.43 0 004.43 4.43z",clipRule:"evenodd"}),(0,a.jsx)("path",{fill:"#097FE8",d:"M12.902 11.044c.463-.802.694-1.203.997-1.338a1.02 1.02 0 01.828 0c.302.135.534.536.996 1.338l2.028 3.512c.463.802.695 1.203.66 1.532-.03.287-.18.548-.414.718-.267.194-.73.194-1.656.194h-4.057c-.925 0-1.388 0-1.656-.194a1.019 1.019 0 01-.414-.718c-.035-.329.197-.73.66-1.532l2.028-3.512z"}),(0,a.jsx)("path",{fill:"#F64932",fillRule:"evenodd",d:"M7.287 4.63c0-.571 0-.856.111-1.074.098-.192.254-.347.445-.445C8.061 3 8.346 3 8.916 3h4.379c.57 0 .855 0 1.073.111.191.098.347.253.445.445.11.218.11.503.11 1.073v3.852a2.24 2.24 0 00-1.521.109c-.46.204-.75.56-.94.83a13.31 13.31 0 00-.594.97l-.024.043-.118.203h-2.81c-.57 0-.855 0-1.073-.11a1.018 1.018 0 01-.445-.445c-.11-.218-.11-.503-.11-1.074V4.63z",clipRule:"evenodd"})]})})},469812:(e,t,o)=>{o.d(t,{e:()=>s});o(667294);var a=o(785893);const s=(0,o(827282).IU)("trendingLarge",{viewBox:"0 0 48 48",svg:(0,a.jsx)("path",{d:"M8.75 36.5842V11.4307C8.75 10.7907 9.28581 10.24 9.95558 10.24C10.6105 10.24 11.1463 10.7907 11.1463 11.4307V24.7219L15.79 20.0186C16.4747 19.3339 17.0998 19.0363 17.7993 19.0363C18.4988 19.0363 19.1537 19.3488 19.8086 20.0186L25.2858 25.6298C25.4198 25.7637 25.5686 25.8381 25.6877 25.8381C25.8216 25.8381 25.9705 25.7637 26.1044 25.6298L31.9686 19.6912L29.5128 17.2353C28.977 16.6995 29.3044 16.0149 30.0635 15.8065L38.7705 13.6186C39.4402 13.44 40.0356 14.0056 39.857 14.6902L37.6542 23.4121C37.4607 24.1712 36.7612 24.4986 36.2253 23.9628L33.7844 21.507L27.7119 27.6093C27.0421 28.2791 26.4021 28.5916 25.6877 28.5916C24.9881 28.5916 24.3184 28.2791 23.6784 27.6093L18.2012 21.9981C18.0672 21.8642 17.9333 21.7898 17.7993 21.7898C17.6653 21.7898 17.5314 21.8642 17.3974 21.9981L11.1463 28.3684V34.9619C11.1463 35.2744 11.2505 35.3786 11.563 35.3786H39.5444C40.1993 35.3786 40.75 35.9144 40.75 36.5693C40.75 37.2391 40.1993 37.76 39.5444 37.76H9.9407C9.22628 37.76 8.75 37.2986 8.75 36.5842Z"})})},821227:(e,t,o)=>{o.d(t,{C:()=>n});var a=()=>o(836273),s=()=>o(497065);function n(e){const{environment:t}=e;s().c4({environment:t,url:a()._j.marketplace,redirect:!1})}},4909:(e,t,o)=>{o.d(t,{y:()=>c});var a=o(667294),s=()=>o(219727),n=()=>o(836273),r=()=>o(497065),i=()=>o(594546),l=()=>o(821227);function c(e,t){const o=(0,s().O7)();return(0,a.useCallback)((a=>{(0,i().j)({environment:o,event:{eventName:e,eventProperties:{}}});const s="click"===a.type&&(a.metaKey||a.ctrlKey);(null==t?void 0:t.forceOpenInNewTab)||s?r().c4({environment:o,url:n()._j.marketplace,openInNew:"tab",makeTabActive:!s&&o.device.isDesktop}):(0,l().C)({environment:o})}),[o,e,t])}},621811:(e,t,o)=>{o.d(t,{Z:()=>l});o(667294);var a=()=>o(142735),s=()=>o(696459),n=()=>o(12530),r=()=>o(704259),i=o(785893);function l(e){const{type:t,...o}=e,l=(0,a().VK)((()=>{switch(t){case"currentSpace":return r().default.getUnreadCountForCurrentSpace().mentions;case"otherSpaces":return r().default.getUnreadMentionsCountForOtherSpaces();case"allSpaces":return r().default.getTotalUnreadMentionsCount();default:(0,s().t1)(t)}}),[t]);return(0,i.jsx)(n().Z,{count:l,...o})}},938938:(e,t,o)=>{o.d(t,{t:()=>b,q:()=>w});var a=o(667294),s=()=>o(219727),n=()=>o(142735),r=()=>o(846550),i=()=>o(788860),l=()=>o(707513),c=()=>o(64260),d=()=>o(729775),p=()=>o(654133),u=()=>o(12530),m=()=>o(945634),g=()=>o(987503),f=()=>o(325292),h=()=>o(815532),v=()=>o(105649),y=()=>o(589525),x=()=>o(704259),I=()=>o(998901),S=()=>o(621811),j=o(785893);function b(e){const t=(0,s().O7)(),o=(0,i().YB)(),b=(0,n().VK)((()=>"inbox"===v().default.state.contentType&&v().default.isOpen()),[]),k=(0,n().VK)((()=>v().default.state.mode),[]),T=b&&"panel"===k,C=(0,a.useCallback)((()=>{h().AP({environment:t,contentType:"inbox"})}),[t]),M=(0,r().yK)((e=>({sidebarItem:{...T&&{fontWeight:l().Ue.semibold,background:e.sidebarItemSelectedBackground}},badge:{width:void 0,minWidth:16,paddingLeft:3,paddingRight:3},number:{fontWeight:l().Ue.semibold,letterSpacing:.12,fontSize:10,fontVariantNumeric:"lining-nums tabular-nums",fontFeatureSettings:"lnum",MozFontFeatureSettings:"lnum",WebkitFontFeatureSettings:"lnum"},shortcutLabel:{color:e.mediumInvertedTextColor}})),[T]),P=(0,y().hr)(),A="on"===(0,g().a)("inbox_activity_split"),Z=(0,n().VK)((()=>A?x().default.getUnreadCountForCurrentSpace().comments:0),[A]);return(0,j.jsx)(p().Z,{renderTooltip:()=>(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{children:o.formatMessage(w.tooltip)}),(0,j.jsx)(c().Z,{style:M.shortcutLabel,name:"toggleAllUpdates"})]}),originGap:6,placement:I().Placement.Right,render:t=>{var a;return(0,j.jsx)(d().Z,{style:{...P.baseSidebarItem,...M.sidebarItem,...T&&P.currentSelectedSidebarItem},onClick:C,hoveredStyle:null===(a=e.styles)||void 0===a?void 0:a.buttonHoveredStyle,...t,children:(0,j.jsx)(m().Z,{left:(0,f().v)(P.topButtonIcon),right:A?(0,j.jsx)(u().Z,{count:Z,color:u().N.Red,style:M.badge,numberStyle:M.number,fadeIn:!0}):(0,j.jsx)(S().Z,{type:"currentSpace",color:u().N.Red,style:M.badge,numberStyle:M.number,fadeIn:!0}),children:o.formatMessage(A?w.messagesTitle:w.inboxTitle)})})}})}const w=(0,i().vU)({tooltip:{id:"sidebar.inbox.tooltip",defaultMessage:"View recent updates and notifications"},inboxTitle:{id:"sidebar.inbox.button",defaultMessage:"Inbox"},messagesTitle:{id:"sidebar.messages.button",defaultMessage:"Messages"}})},37614:(e,t,o)=>{o.d(t,{B8:()=>y});o(267602),o(653476),o(749411),o(30005),o(241792);var a=o(667294),s=()=>o(219727),n=()=>o(142735),r=()=>o(801812),i=()=>o(183922),l=()=>o(396136),c=()=>o(321394),d=()=>o(839002),p=()=>o(466970),u=()=>o(635596),m=()=>o(876822),g=()=>o(826955),f=()=>o(502175);const h=new(o(146433).y)((e=>new v(e)));class v extends(()=>o(263184))().default{constructor(e){super(),this.channelStore=void 0,this.channelStore=e}getInitialState(){return{unreadPostIds:[],unreadPostIdsWithMentions:[]}}getUnreadPostPointers(){return this.state.unreadPostIds.map((e=>({id:e,table:l().iU,spaceId:this.channelStore.getSpaceId()})))}getUnreadPostsWithMentionPointers(){return this.state.unreadPostIdsWithMentions.map((e=>({id:e,table:l().iU,spaceId:this.channelStore.getSpaceId()})))}async refresh(e){const{environment:t}=e;if(!t.currentUser.id)return;if(await this.channelStore.load(),!this.channelStore.isDefined())return;const a=await o(824462).callApi({eventName:"getUnreadPosts",environment:t,data:{spaceId:this.channelStore.getSpaceId(),channelId:this.channelStore.id}});"success"===a.type&&a.data&&this.setState(a.data)}}function y(){const e=(0,p().E)("posts_feed_on_home"),t=function(e){const t=(0,s().O7)(),o=t.currentUser.id,l=(0,n().VK)((()=>{var t;return null==e||null===(t=e[0])||void 0===t?void 0:t.getSpaceId()}),[e]),c=(0,a.useMemo)((()=>null==e?void 0:e.map((e=>h.get(e)))),[e]);return(0,r().r5)((async()=>{if(c)return await d().qd(c,10,(e=>e.refresh({environment:t})))}),[c,t]),(0,a.useEffect)((()=>{if(!c||!l)return;const e=c.map((e=>u().ZP.addListener((0,i().mC)({spaceId:l,channelId:e.channelStore.id}),(0,u().Qk)((async(o,a)=>await e.refresh({environment:t}))),void 0,t)));return()=>{e&&e.forEach((e=>{e&&u().ZP.removeListener(e,t)}))}}),[c,l,t]),(0,a.useEffect)((()=>{if(!c||!l||!o)return;const e=c.map((e=>u().ZP.addListener((0,i().VI)({spaceId:l,channelId:e.channelStore.id,userId:o}),(0,u().Qk)((async(o,a)=>await e.refresh({environment:t}))),void 0,t)));return()=>{e&&e.forEach((e=>{e&&u().ZP.removeListener(e,t)}))}}),[c,l,o,t]),c}((0,n().VK)((()=>{var t;if(!e)return[];const o=m().default.state.currentSpaceStore,a=null===(t=m().default.state.currentUserStore)||void 0===t?void 0:t.id;if(!a||!o)return[];return f().Z.getJoinedTeamStores({userId:a,spaceStore:o}).map((e=>g().b4.createChildStore(e,{table:c().pC,id:e.id,spaceId:o.id}))).filter((e=>e.isDefined()))}),[e]));return(0,n().VK)((()=>{var e;const o=m().default.state.currentSpaceStore;if(!o)return!1;const a=(null===(e=m().default.state.currentSpaceViewStore)||void 0===e?void 0:e.getKeyStore("settings").getKeyStore("last_opened_aggregated_feed").getValue())??0;return Math.max(...t.flatMap((e=>e.getUnreadPostPointers().map((e=>g().t1.createChildStore(o,e))).map((e=>e.getCreatedTime())))))>a}),[t])}},712570:(e,t,o)=>{o.d(t,{AT:()=>S,Eb:()=>j,ZP:()=>w,NX:()=>b});var a=o(667294),s=()=>o(142735),n=()=>o(846550),r=()=>o(788860),i=()=>o(64260),l=()=>o(729775),c=()=>o(654133),d=()=>o(945634),p=()=>o(465740),u=()=>o(343931),m=()=>o(772529),g=()=>o(998901),f=()=>o(876822),h=()=>o(976973),v=()=>o(934262),y=()=>o(589525),x=o(785893);function I(e){const{styles:t}=e,h=(0,o(219727).O7)(),I=(0,r().YB)(),S=(0,s().VK)((()=>{const{currentSpaceViewStore:e}=f().default.state;if(e)return m().Al(e)}),[]),w=(0,s().VK)((()=>{const e=f().default.state.mainEditorCurrentBlockStore;return!!e&&m().Kj(e.id)}),[]),k=(0,s().VK)((()=>"home_available"===v().default.getState().type),[]),T=(0,s().VK)((()=>{var e;return null==S||null===(e=S.getModel())||void 0===e?void 0:e.getRenderUrl({getRecordModel:null==S?void 0:S.getRecordModel,pageVisitSource:o(506347).tY.SidebarHome})}),[S]),C=(0,o(37614).B8)(),M=(0,a.useCallback)((()=>{(0,u().nJ)(h),(0,o(384334).$X)({environment:h,from:"sidebar"}),k&&(0,u().hR)(h),o(105649).default.isVisible()&&(0,o(815532).TN)({environment:h})}),[h,k]),P=(0,y().hr)(),A=(0,n().yK)((e=>({tooltip:{width:200},leftContainer:{position:"relative"},shortcutLabel:{color:e.mediumInvertedTextColor},linkBoxStyle:{...P.baseSidebarItem,...w&&P.currentSelectedSidebarItem}})),[w,P]);return(0,x.jsx)(c().Z,{renderTooltip:()=>(0,x.jsxs)("div",{style:A.tooltip,children:[(0,x.jsx)("div",{children:I.formatMessage(b.tooltip)}),(0,x.jsx)(i().Z,{style:A.shortcutLabel,name:"openHome"})]}),disableTooltip:k,originGap:6,textWrap:!0,placement:g().Placement.Right,render:e=>(0,x.jsx)(l().Z,{...e,style:A.linkBoxStyle,hoveredStyle:null==t?void 0:t.buttonHoveredStyle,href:T,onClick:M,children:(0,x.jsx)(d().Z,{left:(0,x.jsxs)("div",{style:A.leftContainer,children:[(0,p().G)({...P.topButtonIcon,...w&&P.currentSelectedSidebarIcon}),C&&(0,x.jsx)(j,{})]}),disableMobileBorder:!0,children:I.formatMessage(b.label)})})})}function S(e){const{styles:t}=e,o=(0,s().VK)((()=>"home_available"===v().default.getState().type),[]),a=(0,y().hr)(),u=(0,n().yK)((e=>({tooltip:{width:200},shortcutLabel:{color:e.mediumInvertedTextColor}})),[]);return(0,x.jsx)(c().Z,{renderTooltip:()=>(0,x.jsxs)("div",{style:u.tooltip,children:[(0,x.jsx)("div",{children:(0,x.jsx)(r()._H,{id:"sidebarPersonalHomeButton.tooltip",defaultMessage:"View recent pages and more"})}),(0,x.jsx)(i().Z,{style:u.shortcutLabel,name:"openHome"})]}),disableTooltip:o,originGap:6,textWrap:!0,placement:g().Placement.Right,render:e=>(0,x.jsx)(l().Z,{...e,style:a.baseSidebarItem,hoveredStyle:null==t?void 0:t.buttonHoveredStyle,onClick:()=>{h().Z.open()},children:(0,x.jsx)(d().Z,{left:(0,p().G)(a.topButtonIcon),disableMobileBorder:!0,children:(0,x.jsx)(r()._H,{id:"sidebarPersonalHomeButton.label",defaultMessage:"Home"})})})})}function j(e){const{top:t=0,right:o=-3}=e,a=(0,n().yK)((e=>({unreadBadge:{backgroundColor:e.redBadgeBackground,position:"absolute",top:t,right:o,width:8,height:8,borderRadius:4,border:`1px solid ${e.surface.wash}`}})),[t,o]);return(0,x.jsx)("div",{style:a.unreadBadge})}const b=(0,r().vU)({tooltip:{id:"sidebarPersonalHomeButton.tooltip",defaultMessage:"View recent pages and more"},label:{id:"sidebarPersonalHomeButton.label",defaultMessage:"Home"}}),w=a.memo(I)},451378:(e,t,o)=>{o.d(t,{Z:()=>s});class a extends(()=>o(263184))().default{getInitialState(){return{notebooksResponse:{notebooks:[]},isFetchingNotebooks:!0,showLoader:!1,linkingAccount:!1}}}const s=new a},185717:(e,t,o)=>{o.d(t,{Z:()=>a});const a=new(o(529048).Z)},145607:(e,t,o)=>{o.d(t,{Z:()=>a});const a=new(o(529048).Z)},479694:(e,t,o)=>{o.d(t,{Z:()=>a});const a=new(o(529048).Z)},623521:(e,t,o)=>{o.d(t,{Z:()=>s});class a extends(()=>o(263184))().default{getInitialState(){return{flowId:void 0}}getOrCreateFlowId(){const e=this.state.flowId||o(956057).Il();return this.state.flowId&&this.setState({flowId:e}),e}}const s=new a},405177:(e,t,o)=>{o.d(t,{default:()=>s});class a extends(()=>o(263184))().default{getInitialState(){return{boardsResponse:{boards:[]},isFetchingBoards:!0,showLoader:!1}}}const s=new a},674691:(e,t,o)=>{o.d(t,{Q:()=>s});o(667294);var a=o(785893);const s=(0,o(827282).IU)("newSidebarHelp",{viewBox:"0 0 20 20",svg:(0,a.jsx)("g",{children:(0,a.jsx)("g",{id:"Layer_1",children:(0,a.jsx)("path",{d:"M10,18.25c-4.5488281,0-8.25-3.7011719-8.25-8.25S5.4511719,1.75,10,1.75s8.25,3.7011719,8.25,8.25-3.7011719,8.25-8.25,8.25ZM10,3.25c-3.722168,0-6.75,3.027832-6.75,6.75,0,3.7216797,3.027832,6.75,6.75,6.75,3.7216797,0,6.75-3.0283203,6.75-6.75,0-3.722168-3.0283203-6.75-6.75-6.75ZM9.1982929,11.2463863v-.118416c0-.7728204.3864102-1.2838791,1.165463-1.7450784.7728204-.4674317,1.0345822-.810215,1.0345822-1.4085275,0-.6793341-.5297559-1.1529982-1.2963439-1.1529982-.6917989,0-1.1529982.3427832-1.3524357.9722579-.1371133.3864102-.3677129.5422208-.7104962.5422208-.4300372,0-.6855665-.2617618-.6855665-.6793341,0-.2679942.0560918-.4985938.1745078-.7354259.3864102-.8476095,1.3586682-1.371133,2.6425472-1.371133,1.6889866,0,2.8482172.9597931,2.8482172,2.3683206,0,.9535607-.4736641,1.6079651-1.3212736,2.1127913-.8164474.4736641-1.0158849.7728204-1.0657443,1.3399709-.0623242.4113399-.2742266.6668692-.6980313.6668692-.4736641,0-.7354259-.3365508-.7354259-.7915177ZM9.03625,13.8577714c0-.4923614.4051075-.8787716.9099337-.8787716s.9037013.3864102.9037013.8787716-.3988751.885004-.9037013.885004-.9099337-.3926426-.9099337-.885004Z"})})})})},465740:(e,t,o)=>{o.d(t,{G:()=>s});o(667294);var a=o(785893);const s=(0,o(827282).IU)("newSidebarHome",{viewBox:"0 0 20 20",svg:(0,a.jsx)("path",{d:"M10.1416 3.77299C10.0563 3.71434 9.94368 3.71434 9.85837 3.77299L3.60837 8.06989C3.54053 8.11653 3.5 8.19357 3.5 8.2759V14.2499C3.5 14.9402 4.05964 15.4999 4.75 15.4999H7.5L7.5 10.7499C7.5 10.0595 8.05964 9.49987 8.75 9.49987H11.25C11.9404 9.49987 12.5 10.0595 12.5 10.7499L12.5 15.4999H15.25C15.9404 15.4999 16.5 14.9402 16.5 14.2499V8.2759C16.5 8.19357 16.4595 8.11653 16.3916 8.06989L10.1416 3.77299ZM9.00857 2.53693C9.60576 2.12636 10.3942 2.12636 10.9914 2.53693L17.2414 6.83383C17.7163 7.1603 18 7.69963 18 8.2759V14.2499C18 15.7687 16.7688 16.9999 15.25 16.9999H12.25C11.5596 16.9999 11 16.4402 11 15.7499L11 10.9999H9L9 15.7499C9 16.4402 8.44036 16.9999 7.75 16.9999H4.75C3.23122 16.9999 2 15.7687 2 14.2499V8.2759C2 7.69963 2.2837 7.1603 2.75857 6.83383L9.00857 2.53693Z"})})},325292:(e,t,o)=>{o.d(t,{v:()=>s});o(667294);var a=o(785893);const s=(0,o(827282).IU)("newSidebarInbox",{viewBox:"0 0 20 20",svg:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.79331 5.57891C6.02276 5.21835 6.42052 5 6.84789 5H13.1521C13.5795 5 13.9772 5.21835 14.2067 5.57891C14.2139 5.59022 14.2214 5.60134 14.2292 5.61225L16.6496 9H12.25C11.8358 9 11.5 9.33579 11.5 9.75C11.5 10.5784 10.8284 11.25 10 11.25C9.17157 11.25 8.5 10.5784 8.5 9.75C8.5 9.33579 8.16421 9 7.75 9H3.35037L5.77082 5.61225C5.77861 5.60134 5.78611 5.59022 5.79331 5.57891ZM3 10.5V14.25C3 14.9404 3.55964 15.5 4.25 15.5H15.75C16.4404 15.5 17 14.9404 17 14.25V10.5H12.9055C12.5725 11.7939 11.3979 12.75 10 12.75C8.60212 12.75 7.42755 11.7939 7.09451 10.5H3ZM6.84789 3.5C5.91491 3.5 5.04609 3.97299 4.53955 4.75532L1.82609 8.55319C1.61401 8.85003 1.5 9.20572 1.5 9.57053V14.25C1.5 15.7688 2.73122 17 4.25 17H15.75C17.2688 17 18.5 15.7688 18.5 14.25V9.57053C18.5 9.20572 18.386 8.85003 18.1739 8.55319L15.4604 4.75531C14.9539 3.97299 14.0851 3.5 13.1521 3.5H6.84789Z"})})},197033:(e,t,o)=>{o.d(t,{q:()=>s});o(667294);var a=o(785893);const s=(0,o(827282).IU)("newSidebarSearch",{viewBox:"0 0 20 20",svg:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 8.75C4 6.12665 6.12665 4 8.75 4C11.3734 4 13.5 6.12665 13.5 8.75C13.5 11.3734 11.3734 13.5 8.75 13.5C6.12665 13.5 4 11.3734 4 8.75ZM8.75 2.5C5.29822 2.5 2.5 5.29822 2.5 8.75C2.5 12.2018 5.29822 15 8.75 15C10.2056 15 11.545 14.5024 12.6073 13.668L16.7197 17.7803C17.0126 18.0732 17.4874 18.0732 17.7803 17.7803C18.0732 17.4874 18.0732 17.0126 17.7803 16.7197L13.668 12.6073C14.5024 11.545 15 10.2056 15 8.75C15 5.29822 12.2018 2.5 8.75 2.5Z"})})},829466:(e,t,o)=>{o.d(t,{V:()=>s});o(667294);var a=o(785893);const s=(0,o(827282).IU)("newSidebarTemplates",{viewBox:"0 0 20 20",svg:(0,a.jsx)("g",{children:(0,a.jsx)("g",{id:"Layer_1",children:(0,a.jsx)("path",{d:"M18.1572266,15.3720703l-2.3018188-3.9864502c.6661377-.2475586,1.1445923-.8843994,1.1445923-1.6356201V3.75c0-.9648438-.7851562-1.75-1.75-1.75h-6.25c-.9648438,0-1.75.7851562-1.75,1.75v1.5634766c-.2476807-.0355835-.4969482-.0634766-.75-.0634766-2.8950195,0-5.25,2.3549805-5.25,5.25,0,2.8945312,2.3549805,5.25,5.25,5.25.3484497,0,.6890869-.0457764,1.0245972-.1122437-.1846313.4870605-.1571655,1.022583.1101685,1.4862671.3168945.5488281.8842773.8759766,1.5175781.8759766h7.4873047c.6328125,0,1.2001953-.3271484,1.5166016-.875.3173828-.5488281.3173828-1.203125.0009766-1.7529297ZM9,3.5h6.25c.1376953,0,.25.1123047.25.25v6c0,.1376953-.1123047.25-.25.25h-.1946411l-.6422729-1.1123047c-.3164062-.5483398-.8837891-.8759766-1.5166016-.8759766-.6337891,0-1.2011719.3276367-1.5175781.8759766l-.6421509,1.1123047h-1.7421265c-.1347656,0-.2446289-.1098633-.2446289-.2446289v-3.5401611c-.000061-.0013428.0001221-.0026245,0-.0039673v-2.4612427c0-.1376953.1123047-.25.25-.25ZM2.75,10.5c0-2.0678711,1.6821289-3.75,3.75-3.75.2545166,0,.5040894.0332031.75.083252v2.9221191c0,.9619141.7827148,1.7446289,1.7446289,1.7446289h.8760986l-1.1859131,2.0540771c-.0067139.0043945-.0146484.0047607-.0212402.0093994-.6342773.4492188-1.3828125.6865234-2.1635742.6865234-2.0678711,0-3.75-1.6826172-3.75-3.75ZM16.8574219,16.3740234c-.0273438.046875-.0917969.1259766-.2177734.1259766h-7.4873047c-.1264648,0-.190918-.0791016-.2182617-.1259766s-.0634766-.1425781,0-.2519531l3.7436523-6.484375c.125-.2163086.3076172-.2202148.4365234,0l3.7441406,6.4833984c.0625.1103516.0263672.2060547-.0009766.2529297Z"})})})})},27521:(e,t,o)=>{o.d(t,{e:()=>s});o(667294);var a=o(785893);const s=(0,o(827282).IU)("newSidebarTrash",{viewBox:"0 0 20 20",svg:(0,a.jsx)("g",{children:(0,a.jsx)("g",{id:"Layer_1",children:(0,a.jsx)("path",{d:"M16.5,5.25h-2.75v-1.25c0-.9648438-.7851562-1.75-1.75-1.75h-4c-.9648438,0-1.75.7851562-1.75,1.75v1.25h-2.75c-.4140625,0-.75.3359375-.75.75s.3359375.75.75.75h.7835083l.3805542,8.375c.0668945,1.4716797,1.2739258,2.625,2.7470703,2.625h5.1777344c1.4736328,0,2.6796875-1.1533203,2.7470703-2.625l.3809814-8.375h.7830811c.4140625,0,.75-.3359375.75-.75s-.3359375-.75-.75-.75ZM7.75,4c0-.1376953.1123047-.25.25-.25h4c.1376953,0,.25.1123047.25.25v1.25h-4.5v-1.25ZM13.8378906,15.0566406c-.03125.6689453-.5791016,1.1933594-1.2490234,1.1933594h-5.1777344c-.6699219,0-1.2182617-.5244141-1.2490234-1.1933594l-.3774414-8.3066406h8.4301758l-.3769531,8.3066406ZM8.875,8.5v6c0,.3447266-.2797852.625-.625.625s-.625-.2802734-.625-.625v-6c0-.3452148.2797852-.625.625-.625s.625.2797852.625.625ZM12.375,8.5v6c0,.3447266-.2802734.625-.625.625s-.625-.2802734-.625-.625v-6c0-.3452148.2802734-.625.625-.625s.625.2797852.625.625Z"})})})})},840156:(e,t,o)=>{o.d(t,{UP:()=>r,by:()=>n});const a=["application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12"],s=["text/plain",".md",".mdown",".markdown",".mkdn",".mkd",".Rmd",".md.txt"],n={markdown:s,csv:["text/plain",".csv"],html:["text/html"],docx:a,gdocs:a,dropbox:a,quip:["text/html",s],workflowy:["text/plain"],confluence:["application/zip"],genericImporter:["application/zip"],pdf:["application/pdf"]},r=Object.keys(n)}}]);