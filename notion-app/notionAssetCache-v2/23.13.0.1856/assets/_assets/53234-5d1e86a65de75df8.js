"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[53234],{666979:(e,t,n)=>{n.r(t),n.d(t,{OutlinerDropdownMenuButton:()=>K,useSortActions:()=>W});n(241792);var o=n(667294),i=()=>n(219727),a=()=>n(142735),r=()=>n(846550),s=()=>n(993407),l=()=>n(625230),d=()=>n(788860),c=()=>n(38562),u=()=>n(381140),p=()=>n(636340),m=()=>n(269299),y=()=>n(221662),g=()=>n(286338),f=()=>n(352230),h=()=>n(906591),b=()=>n(91502),v=()=>n(466970),M=()=>n(190970),C=()=>n(314379),x=()=>n(419273),_=()=>n(733641),S=()=>n(947189),w=()=>n(855238),k=()=>n(388284),T=()=>n(746324),j=()=>n(404553),A=()=>n(536635),I=n(785893);const B=(0,n(827282).IU)("move",{viewBox:"0 0 16 16",svg:(0,I.jsx)("path",{d:"M1.37891 8.5C1.22266 8.35938 1.14844 8.19531 1.15625 8.00781C1.16406 7.81641 1.24219 7.6543 1.39062 7.52148L3.26562 5.79883C3.41406 5.66602 3.56445 5.60547 3.7168 5.61719C3.86914 5.62891 3.99609 5.69336 4.09766 5.81055C4.20312 5.92773 4.25586 6.07422 4.25586 6.25V7.39258H7.37891V4.25781H6.23633C6.05664 4.25781 5.9082 4.20703 5.79102 4.10547C5.67773 4 5.61523 3.87109 5.60352 3.71875C5.5918 3.56641 5.65234 3.41602 5.78516 3.26758L7.50781 1.39844C7.64453 1.24219 7.80664 1.16211 7.99414 1.1582C8.18164 1.15039 8.3457 1.22656 8.48633 1.38672L10.209 3.26172C10.3457 3.41016 10.4082 3.5625 10.3965 3.71875C10.3887 3.87109 10.3262 4 10.209 4.10547C10.0918 4.20703 9.94141 4.25781 9.75781 4.25781H8.62695V7.39258H11.7441V6.25C11.7441 6.07422 11.7949 5.92773 11.8965 5.81055C12.002 5.69336 12.1309 5.62891 12.2832 5.61719C12.4355 5.60547 12.5879 5.66602 12.7402 5.79883L14.6152 7.52148C14.7676 7.66211 14.8438 7.82617 14.8438 8.01367C14.8438 8.20117 14.7676 8.36523 14.6152 8.50586L12.7402 10.2227C12.5918 10.3594 12.4395 10.4238 12.2832 10.416C12.1309 10.4043 12.002 10.3398 11.8965 10.2227C11.7949 10.1055 11.7441 9.95508 11.7441 9.77148V8.64062H8.62695V11.7695H9.75781C9.94141 11.7695 10.0918 11.8223 10.209 11.9277C10.3262 12.0293 10.3887 12.1562 10.3965 12.3086C10.4082 12.4648 10.3457 12.6172 10.209 12.7656L8.49219 14.6406C8.35156 14.7969 8.1875 14.875 8 14.875C7.8125 14.875 7.64844 14.7969 7.50781 14.6406L5.78516 12.7598C5.65234 12.6152 5.5918 12.4648 5.60352 12.3086C5.61523 12.1562 5.67773 12.0293 5.79102 11.9277C5.9082 11.8223 6.05664 11.7695 6.23633 11.7695H7.37891V8.64062H4.25586V9.77148C4.25586 9.95508 4.20312 10.1055 4.09766 10.2227C3.99609 10.3398 3.86914 10.4043 3.7168 10.416C3.56445 10.4238 3.41211 10.3594 3.25977 10.2227L1.37891 8.5Z"})});var V=()=>n(876822),Z=()=>n(711112);const H=(0,d().vU)({move:{id:"useMoveSidebarAction.title.moveSection",defaultMessage:"Move section"},moveUp:{id:"useMoveSidebarAction.option.moveUp",defaultMessage:"Move up"},moveDown:{id:"useMoveSidebarAction.option.moveDown",defaultMessage:"Move down"}});function R(e){let{type:t,onClose:n}=e;const o=function(e){const{sidebarSection:t,onSelect:n}=e,o=(0,a().VK)((()=>V().default.state.currentSpaceStore),[]),r=(0,a().VK)((()=>V().default.state.currentSpaceViewStore),[]),s=(0,a().VK)((()=>V().default.state.currentUserRootStore),[]),l=(0,d().YB)(),y=(0,i().O7)(),f=(0,T().Q)(),b=(0,Z().f)(),v=(0,a().VK)((()=>(0,g().b9)({environment:y,spaceStore:o,userRootStore:s})),[y,o,s]),M=(0,h().DP)({sidebarOrder:b,sidebarState:f,lockedSidebarExpEnabled:v});if(!r)return[];const C=M.indexOf(t),x=0===C,_=C===M.length-1;return["moveUp","moveDown"].map((e=>{const o=H[e];return(0,c().cN)({key:e,displayName:void 0,analyticsName:o.defaultMessage,validators:[],closeParentMenu:!0,action:o=>{let{environment:i}=o;const a=function(e){let{sidebarSection:t,selectedMoveOption:n,sidebarOrder:o,visibleSidebarOrder:i}=e;const a=[...o],r=o.indexOf(t),s=i.indexOf(t);if("moveUp"===n&&s>0){const e=i[s-1];a[o.indexOf(e)]=t,a[r]=e}if("moveDown"===n&&s<i.length-1){const e=i[s+1];a[o.indexOf(e)]=t,a[r]=e}return a}({sidebarSection:t,selectedMoveOption:e,sidebarOrder:b,visibleSidebarOrder:M});m().createAndCommit({userAction:`useMoveSidebarAction.${e}`,environment:i,canUndo:!0,perform:e=>{p().sW({store:r,data:{sidebar_order:a},transaction:e})}}),u().mv(i,{section:t,previous_order:b,new_order:a,from:"outliner_section_menu"}),n()},render:t=>{const n="moveUp"===e&&x||"moveDown"===e&&_,i="moveUp"===e?A().Z:j().M;return(0,I.jsx)(w().Z,{...t,disabled:n,disabledFeedback:n,title:l.formatMessage(o),svg:i})}})}))}({sidebarSection:t,onSelect:n}),r=(0,T().Q)(),s=(null==r?void 0:r.shownSidebarSectionCount)??0;return(0,c().MV)({key:"move",displayName:H.move,analyticsName:H.move.defaultMessage,validators:[()=>s>1],svg:B,subActions:()=>[(0,c().$J)({key:"move",render:e=>(0,I.jsx)(k().Z,{...e}),actions:o})]})}var U=()=>n(959005),L=()=>n(764189),F=()=>n(555813),E=()=>n(149809),O=()=>n(154186),P=()=>n(448419),N=()=>n(198829);const D=(0,d().vU)({manual:{id:"outlinerDropdownMenuButton.sort.manual",defaultMessage:"Manual"},lastEdited:{id:"outlinerDropdownMenuButton.sort.lastEdited",defaultMessage:"Last edited"}});function K(e){const{type:t,spaceViewStore:n}=e,a=(0,i().O7)(),s=(0,r().yK)((e=>({button:{display:"flex",alignItems:"center",justifyContent:"center",height:20,width:20,borderRadius:4},icon:{fill:e.mediumIconColor,height:14,width:14}})),[]),l=(0,o.useCallback)((()=>{U().Z.setState({open:!0}),u().Mk(a,{outliner_type:h().iE[t]})}),[a,t]),c=(0,o.useCallback)((()=>{U().Z.setState({open:!1})}),[]),p=(0,d().YB)().formatMessage({id:"outlinerDropdownMenuButton.ariaLabel",defaultMessage:"Open menu"});return(0,I.jsx)(P().ZP,{popupType:P().Z4.Popup,alignmentToOrigin:P().vR.Start,renderOrigin:e=>(0,I.jsx)(O().Z,{style:s.button,ariaLabel:p,...e,children:(0,C().o)(s.icon)}),onClick:l,onClose:c,render:e=>(0,I.jsx)($,{type:t,spaceViewStore:n,onClose:()=>{e.close()}}),originGap:2})}const Y=(0,d().vU)({sort:{id:"outlinerDropdownMenu.sort",defaultMessage:"Sort"},truncationLimit:{id:"outlinerDropdownMenu.truncationLimit",defaultMessage:"Show"},addTeam:{id:"outlinerDropdownMenu.addTeam",defaultMessage:"New teamspace"}});function $(e){const{type:t,spaceViewStore:n,onClose:o}=e,y=(0,i().O7)(),v=(0,d().YB)(),C=(0,r().yK)((e=>({rightText:{fontSize:12,color:e.text.secondary}})),[]),T=(0,a().VK)((()=>(0,g().mq)(y)),[y]),j=(0,a().VK)((()=>(0,h().S4)({spaceViewStore:n,type:t})),[n,t]),A=j.sortOption,B=j.truncationLimit,Z="shared"===t&&T||"private"===t||"teamspaces"===t,H="private"===t||"shared"===t&&T,U=(0,a().VK)((()=>!L().n.state),[]),O=(0,a().VK)((()=>{const{currentSpaceStore:e}=V().default.state;return!!e&&(0,b().Xq)({environment:y,spaceStore:e})}),[y]),P=U&&"teamspaces"===t&&O,K=W({type:t,onSelect:o,spaceViewStore:n,outlinerLocation:"sidebar"}),$=function(e){const{type:t,spaceViewStore:n,onSelect:o}=e,d=(0,i().O7)(),y=(0,r().yK)((()=>({icon:{width:16,height:16},right:{width:16}})),[]),g=(0,a().VK)((()=>(0,h().S4)({type:t,spaceViewStore:n}).truncationLimit),[t,n]);return s().Wy.map((e=>(0,c().cN)({key:e.toString(),displayName:void 0,analyticsName:e.toString(),validators:[],closeParentMenu:!0,action:()=>{m().createAndCommit({userAction:"OutlinerDropdownMenuButton.setTruncationLimit",environment:d,canUndo:!0,perform:o=>{const i=n.getSettingsStore().getKeyStore("sidebar_section_menu").getKeyStore("truncationLimit").getKeyStore(t);p().sO({transaction:o,store:i,value:e})}}),l().j({name:"update_sidebar_section_option",args:{option:"show",type:t}}),u().hH(d,{outliner_type:h().iE[t],option:e}),o()},render:t=>(0,I.jsx)(w().Z,{...t,title:(0,I.jsx)(z,{limit:e,withItems:!0}),right:g===e&&(0,_().k)(y.icon),rightStyle:y.right})})))}({type:t,onSelect:o,spaceViewStore:n}),J=R({type:t,onClose:o}),q=[(0,c().MV)({key:"sort",displayName:Y.sort,analyticsName:Y.sort.defaultMessage,validators:[()=>H],svg:M().T,right:v.formatMessage(D[A]),rightStyle:C.rightText,subActions:()=>[(0,c().$J)({key:"sort",render:e=>(0,I.jsx)(k().Z,{...e}),actions:K})]}),(0,c().MV)({key:"truncationLimit",displayName:Y.truncationLimit,analyticsName:Y.truncationLimit.defaultMessage,validators:[()=>Z],svg:S().J,right:(0,I.jsx)(z,{limit:B}),rightStyle:C.rightText,subActions:()=>[(0,c().$J)({key:"truncationLimit",render:e=>(0,I.jsx)(k().Z,{...e}),actions:$})]}),J],G=[(0,c().$J)({key:"all",render:e=>(0,I.jsx)(k().Z,{...e}),actions:q}),(0,c().$J)({key:"addTeam",render:e=>(0,I.jsx)(k().Z,{...e}),actions:[(0,c().cN)({key:"addTeam",displayName:Y.addTeam,analyticsName:Y.addTeam.defaultMessage,validators:[()=>P],svg:x().f,closeParentMenu:!0,action:()=>{(0,F().lo)("sidebar_team_section"),o()}})]})];return(0,I.jsx)(N().Z,{menuType:f().o.Popup,minWidth:220,children:(0,I.jsx)(E().Z,{context:{blocks:[],environment:y,publicEditMode:void 0},sections:G,initialFocus:void 0})})}function W(e){const{type:t,spaceViewStore:n,onSelect:o,outlinerLocation:s}=e,g=(0,i().O7)(),f=(0,d().YB)(),{currentSpaceStore:b}=(0,a().Kw)(V().default),M=g.currentUser.id,C=(0,v().E)("sidebar_add_new_pages_to_bottom"),x=(0,a().VK)((()=>(0,h().S4)({type:t,spaceViewStore:n}).sortOption),[t,n]),S=(0,r().yK)((()=>({icon:{width:16,height:16},right:{width:16}})),[]);return["manual","lastEdited"].map((e=>{const i=D[e];return(0,c().cN)({key:e,displayName:void 0,analyticsName:i.defaultMessage,validators:[],closeParentMenu:!0,action:async()=>{m().createAndCommit({userAction:"OutlinerDropdownMenuButton.setSortOption",environment:g,canUndo:!0,perform:o=>{const i=n.getSettingsStore().getKeyStore("sidebar_section_menu").getKeyStore("sortOption").getKeyStore(t);p().sO({transaction:o,store:i,value:e})}}),"manual"===e&&"shared"===t&&!C&&M&&b&&await y().l({environment:g,spaceId:b.id,userId:M}),l().j({name:"update_sidebar_section_option",args:{option:"sort",type:t}}),u().NQ(g,{outliner_type:h().iE[t],outliner_location:s,option:e}),o()},render:t=>(0,I.jsx)(w().Z,{...t,title:f.formatMessage(i),right:x===e&&(0,_().k)(S.icon),rightStyle:S.right})})}))}function z(e){const{limit:t,withItems:n}=e;return t===s().Ng?(0,I.jsx)(d()._H,{id:"outlinerDropdownMenuButton.truncationLimit.noTruncation",defaultMessage:"All"}):n?(0,I.jsx)(d()._H,{id:"outlinerDropdownMenuButton.truncationLimit",defaultMessage:"{limit} items",values:{limit:t}}):(0,I.jsx)("span",{children:t})}},369954:(e,t,n)=>{n.d(t,{A:()=>s});n(667294);var o=()=>n(142735),i=()=>n(846550),a=()=>n(333264),r=n(785893);function s(e){let{scrollerStore:t}=e;const n=(0,o().VK)((()=>t.state.elementRef??{current:null}),[t]),s=0===(0,a().j)(n),l=(0,i().yK)((e=>({border:{flexShrink:0,width:"100%",boxShadow:s?"0 0 0 transparent":`0 1px 0 ${e.regularDividerColor}`,transition:"box-shadow 300ms",height:2,marginTop:-2,zIndex:99}})),[s]);return(0,r.jsx)("div",{style:l.border})}},746324:(e,t,n)=>{n.d(t,{Q:()=>r});var o=()=>n(219727),i=()=>n(142735),a=()=>n(718959);function r(){const e=(0,o().O7)();return(0,i().Kw)((0,a().k_)(e))}},453382:(e,t,n)=>{n.d(t,{H:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("archive",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M6.24707 16.4561C5.54069 16.4561 5.00065 16.2738 4.62695 15.9092C4.25781 15.5446 4.07324 15.0091 4.07324 14.3027V7.07031H5.41309V14.2822C5.41309 14.5693 5.48828 14.7904 5.63867 14.9453C5.79362 15.0957 6.01465 15.1709 6.30176 15.1709H13.6914C13.974 15.1709 14.1904 15.0957 14.3408 14.9453C14.4958 14.7904 14.5732 14.5693 14.5732 14.2822V7.07031H15.9199V14.3027C15.9199 15.0046 15.7331 15.5378 15.3594 15.9023C14.9857 16.2715 14.4479 16.4561 13.7461 16.4561H6.24707ZM7.79199 10.5156C7.63249 10.5156 7.50033 10.4632 7.39551 10.3584C7.29069 10.2536 7.23828 10.1169 7.23828 9.94824V9.72949C7.23828 9.56087 7.28841 9.42643 7.38867 9.32617C7.49349 9.22591 7.62793 9.17578 7.79199 9.17578H12.208C12.3721 9.17578 12.5042 9.22591 12.6045 9.32617C12.7093 9.42643 12.7617 9.56087 12.7617 9.72949V9.94824C12.7617 10.1169 12.7093 10.2536 12.6045 10.3584C12.4997 10.4632 12.3675 10.5156 12.208 10.5156H7.79199ZM4.53125 7.72656C4.06641 7.72656 3.7041 7.58984 3.44434 7.31641C3.18913 7.03841 3.06152 6.66927 3.06152 6.20898V5.21094C3.06152 4.74609 3.19368 4.37695 3.45801 4.10352C3.72233 3.83008 4.08008 3.69336 4.53125 3.69336H15.4688C15.929 3.69336 16.2868 3.83008 16.542 4.10352C16.8018 4.37695 16.9316 4.74609 16.9316 5.21094V6.20898C16.9316 6.66927 16.8018 7.03841 16.542 7.31641C16.2868 7.58984 15.929 7.72656 15.4688 7.72656H4.53125ZM4.79102 6.48926H15.209C15.3685 6.48926 15.4824 6.4528 15.5508 6.37988C15.6191 6.30241 15.6533 6.1862 15.6533 6.03125V5.38867C15.6533 5.22917 15.6191 5.11296 15.5508 5.04004C15.4824 4.96712 15.3685 4.93066 15.209 4.93066H4.79102C4.63151 4.93066 4.5153 4.96712 4.44238 5.04004C4.37402 5.11296 4.33984 5.22917 4.33984 5.38867V6.03125C4.33984 6.1862 4.37402 6.30241 4.44238 6.37988C4.5153 6.4528 4.63151 6.48926 4.79102 6.48926Z"})})},210251:(e,t,n)=>{n.d(t,{a:()=>o().a});var o=()=>n(728267)},138876:(e,t,n)=>{n.d(t,{F:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("notificationRead",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M4.44922 13.248C3.81641 13.248 3.33789 13.0859 3.01367 12.7617C2.68945 12.4414 2.52734 11.9688 2.52734 11.3438V4.21289C2.52734 3.58398 2.68945 3.10938 3.01367 2.78906C3.33789 2.46875 3.81641 2.30859 4.44922 2.30859H11.5449C12.1777 2.30859 12.6562 2.46875 12.9805 2.78906C13.3047 3.10938 13.4668 3.58398 13.4668 4.21289V11.3438C13.4668 11.9688 13.3047 12.4414 12.9805 12.7617C12.6562 13.0859 12.1777 13.248 11.5449 13.248H4.44922ZM4.51953 12.0938H11.4746C11.7441 12.0938 11.9512 12.0234 12.0957 11.8828C12.2402 11.7422 12.3125 11.5293 12.3125 11.2441V4.30664C12.3125 4.02539 12.2402 3.81445 12.0957 3.67383C11.9512 3.5332 11.7441 3.46289 11.4746 3.46289H4.51953C4.24609 3.46289 4.03711 3.5332 3.89258 3.67383C3.75195 3.81445 3.68164 4.02539 3.68164 4.30664V11.2441C3.68164 11.5293 3.75195 11.7422 3.89258 11.8828C4.03711 12.0234 4.24609 12.0938 4.51953 12.0938ZM7.37305 10.5527C7.26367 10.5527 7.16602 10.5293 7.08008 10.4824C6.99414 10.4316 6.91016 10.3574 6.82812 10.2598L5.44531 8.57227C5.34375 8.44336 5.29297 8.3125 5.29297 8.17969C5.29297 8.03516 5.3418 7.91211 5.43945 7.81055C5.54102 7.70508 5.66211 7.65234 5.80273 7.65234C5.89258 7.65234 5.97266 7.67188 6.04297 7.71094C6.11719 7.74609 6.18945 7.81055 6.25977 7.9043L7.34961 9.28711L9.66406 5.57812C9.78516 5.37891 9.9375 5.2793 10.1211 5.2793C10.2578 5.2793 10.3809 5.32422 10.4902 5.41406C10.5996 5.50391 10.6543 5.62109 10.6543 5.76562C10.6543 5.83203 10.6387 5.90039 10.6074 5.9707C10.5801 6.03711 10.5469 6.09961 10.5078 6.1582L7.88867 10.2539C7.76367 10.4531 7.5918 10.5527 7.37305 10.5527Z"})})},688026:(e,t,n)=>{n.d(t,{F:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("notificationUnread",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M3.622 12.683v-5.25c0-.62.05-1.172.15-1.655.105-.483.333-.9.684-1.25.351-.352.768-.58 1.251-.684a7.906 7.906 0 0 1 1.654-.157h4.69a2.893 2.893 0 0 0-.185 1.086 1.325 1.325 0 0 0-.007.13l.014.13H7.204c-.36 0-.697.032-1.012.096-.314.064-.567.189-.758.376a1.514 1.514 0 0 0-.376.759c-.06.31-.09.645-.09 1.005v5.605c0 .355.03.688.09.998.063.305.189.554.376.745.191.187.442.315.752.383.314.064.649.096 1.004.096h5.62c.35 0 .68-.032.99-.096.315-.064.566-.191.753-.383.191-.191.319-.44.382-.745.064-.31.096-.643.096-.998V8.191l.123.014c.046 0 .091-.002.137-.007.191.01.378-.002.56-.034.183-.036.356-.087.52-.15v4.669c0 .629-.052 1.184-.157 1.668-.1.483-.324.9-.67 1.25-.356.351-.777.58-1.265.684a7.944 7.944 0 0 1-1.66.157H7.374c-.624 0-1.18-.052-1.668-.157a2.478 2.478 0 0 1-1.25-.683 2.411 2.411 0 0 1-.685-1.251c-.1-.484-.15-1.04-.15-1.668Zm11.56-5.408a2.26 2.26 0 0 1-1.19-.32 2.455 2.455 0 0 1-.854-.862 2.27 2.27 0 0 1-.322-1.183c0-.433.107-.827.322-1.182.214-.36.499-.648.854-.862a2.26 2.26 0 0 1 1.19-.321c.423 0 .813.107 1.169.321.36.214.647.502.86.862.215.355.322.75.322 1.182 0 .429-.107.823-.321 1.183-.214.36-.501.647-.861.861a2.223 2.223 0 0 1-1.17.321Z"})})},365337:(e,t,n)=>{n.d(t,{W:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("sidebarInbox",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M4.61084 16.0537C3.90837 16.0537 3.37305 15.8717 3.00488 15.5078C2.64095 15.1481 2.45898 14.6191 2.45898 13.9209V10.1504C2.45898 9.89225 2.47168 9.67432 2.49707 9.49658C2.52669 9.31462 2.57536 9.15169 2.64307 9.00781C2.71077 8.86393 2.80387 8.71794 2.92236 8.56982L4.94092 6.09424C5.20752 5.76416 5.44238 5.50602 5.64551 5.31982C5.85286 5.12939 6.07715 4.99609 6.31836 4.91992C6.5638 4.83952 6.88118 4.79932 7.27051 4.79932H12.7358C13.1252 4.79932 13.4404 4.83952 13.6816 4.91992C13.9271 4.99609 14.1514 5.12939 14.3545 5.31982C14.5576 5.50602 14.7946 5.76416 15.0654 6.09424L17.0776 8.56982C17.2004 8.71794 17.2956 8.86393 17.3633 9.00781C17.431 9.15169 17.4775 9.31462 17.5029 9.49658C17.5283 9.67432 17.541 9.89225 17.541 10.1504V13.9209C17.541 14.6191 17.359 15.1481 16.9951 15.5078C16.6312 15.8717 16.098 16.0537 15.3955 16.0537H4.61084ZM4.69971 14.6445H15.3066C15.5817 14.6445 15.7912 14.5747 15.9351 14.4351C16.0832 14.2912 16.1572 14.0711 16.1572 13.7749V10.7852H12.4946C12.4142 11.1533 12.2576 11.4813 12.0249 11.769C11.7964 12.0568 11.5086 12.2853 11.1616 12.4546C10.8146 12.6196 10.4274 12.7021 10 12.7021C9.57682 12.7021 9.19173 12.6196 8.84473 12.4546C8.49772 12.2896 8.20785 12.0632 7.9751 11.7754C7.74235 11.4834 7.58789 11.1533 7.51172 10.7852H3.84277V13.7749C3.84277 14.0711 3.91471 14.2912 4.05859 14.4351C4.20671 14.5747 4.42041 14.6445 4.69971 14.6445ZM10 11.4072C10.2751 11.4072 10.512 11.3395 10.7109 11.2041C10.9098 11.0687 11.0643 10.8973 11.1743 10.6899C11.2843 10.4784 11.3394 10.2646 11.3394 10.0488V10.0298C11.3394 9.90706 11.3774 9.79915 11.4536 9.70605C11.5298 9.60872 11.6525 9.56006 11.8218 9.56006H15.8335C15.9351 9.56006 15.9964 9.52409 16.0176 9.45215C16.043 9.38021 16.0303 9.3125 15.9795 9.24902L13.7197 6.43701C13.5885 6.26774 13.4447 6.14502 13.2881 6.06885C13.1315 5.98844 12.9495 5.94824 12.7422 5.94824H7.25781C7.05469 5.94824 6.87484 5.98844 6.71826 6.06885C6.56169 6.14502 6.41569 6.26774 6.28027 6.43701L4.0332 9.24902C3.97819 9.3125 3.96126 9.38021 3.98242 9.45215C4.00781 9.52409 4.07129 9.56006 4.17285 9.56006H8.18457C8.35384 9.56006 8.47656 9.60872 8.55273 9.70605C8.62891 9.79915 8.66699 9.90706 8.66699 10.0298V10.0488C8.66699 10.2646 8.71989 10.4784 8.82568 10.6899C8.93571 10.8973 9.09017 11.0687 9.28906 11.2041C9.48796 11.3395 9.72493 11.4072 10 11.4072Z"})})},947189:(e,t,n)=>{n.d(t,{J:()=>o().J});var o=()=>n(121183)},659203:(e,t,n)=>{n.d(t,{p:()=>j});n(670560);var o=n(667294),i=()=>n(219727),a=()=>n(142735),r=()=>n(846550),s=()=>n(788860),l=()=>n(696459),d=()=>n(253502),c=()=>n(603274),u=()=>n(827973),p=()=>n(448419),m=()=>n(1910),y=()=>n(198829),g=()=>n(255577),f=()=>n(388284),h=()=>n(654133),b=()=>n(67961),v=()=>n(352230),M=n(785893);const C=(0,n(827282).IU)("archiveRead",{viewBox:"0 0 20 20",svg:(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("path",{d:"M15.207 17.223a.758.758 0 0 1-.605-.29l-2.016-2.44a.793.793 0 0 1-.149-.235.656.656 0 0 1-.042-.235c0-.184.06-.337.183-.457a.643.643 0 0 1 .469-.183c.208 0 .381.084.52.254l1.624 2.011 3.192-5.043a.79.79 0 0 1 .25-.257.63.63 0 0 1 .324-.079c.188 0 .342.06.465.18.122.12.183.271.183.453a.686.686 0 0 1-.035.211.995.995 0 0 1-.11.227l-3.636 5.566a.7.7 0 0 1-.617.317Z"}),(0,M.jsx)("path",{fillRule:"evenodd",d:"M4.627 15.91c.374.364.914.546 1.62.546h6.015l-.823-.997a2.467 2.467 0 0 1-.213-.288H6.302c-.287 0-.508-.075-.663-.226-.15-.155-.226-.376-.226-.663V7.727h9.16v4.79c.055.054.107.111.156.172l.004.005.234.29L15 13l.056.056.864-1.364V7.675c.25-.063.457-.182.622-.359.26-.278.39-.647.39-1.107v-.998c0-.465-.13-.834-.39-1.107-.255-.274-.613-.41-1.073-.41H4.53c-.45 0-.809.136-1.073.41-.264.273-.396.642-.396 1.107v.998c0 .46.127.83.382 1.107.168.176.377.296.63.358v6.629c0 .706.184 1.242.553 1.606Zm11.287-1.404-.723 1.142-.34-.42-.435 1.162c.385-.084.7-.246.943-.488.337-.328.522-.794.555-1.396Zm-8.518-4.148a.538.538 0 0 0 .396.158h4.416a.538.538 0 0 0 .554-.568V9.73a.532.532 0 0 0-.158-.403.536.536 0 0 0-.396-.15H7.792a.56.56 0 0 0-.403.15c-.1.1-.15.235-.15.403v.22c0 .168.052.305.157.41Zm7.813-3.869H4.791c-.16 0-.276-.036-.349-.11-.068-.077-.102-.193-.102-.348V5.39c0-.16.034-.276.102-.349.073-.073.19-.11.349-.11h10.418c.16 0 .273.037.342.11.068.073.102.19.102.349v.642c0 .155-.034.271-.102.349-.069.073-.183.11-.342.11Z",clipRule:"evenodd"})]})});var x=()=>n(913813),_=()=>n(76225),S=()=>n(123145),w=()=>n(998901),k=()=>n(781022),T=()=>n(763589);function j(){const e=(0,i().Fy)(),t=(0,s().YB)(),n=(0,a().VK)((()=>{const e=T().Fz(),{currentTab:t,isCurrentTabEmpty:n}=k().default.state;if("all_updates"===e||"archived_only"===e||"mentions"!==t||n)return;const{containsUnreadNotifications:o,containsBothReadAndUnreadNotifications:i}=k().default.state;return{containsUnreadNotifications:o,containsBothReadAndUnreadNotifications:i,showOnlyUnreadNotifications:"unread_only"===e}}),[]),o=(0,S().dc)(),l=(0,r().yK)((t=>({button:e.isMobile?{height:30,width:30}:o.button,popup:{...e.isMobile&&{borderTopLeftRadius:12,borderTopRightRadius:12,overflow:"hidden"}},ellipsisIcon:{...o.icon,...e.isMobile&&{fill:t.icon.primary}}})),[e,o]);if(!n)return null;const d=t.formatMessage({defaultMessage:"More actions",id:"inbox.ellipsisButton.tooltip"});return(0,M.jsx)(p().ZP,{style:l.popup,popupType:e.isMobile?p().Z4.SlideUp:p().Z4.Popup,renderOrigin:e=>{let{onClick:n}=e;return(0,M.jsx)(h().Z,{renderTooltip:()=>d,placement:w().Placement.Bottom,alignment:w().Alignment.Start,delayThreshold:0,originGap:6,render:e=>(0,M.jsx)(m().Z,{ariaLabel:t.formatMessage(V.moreActionsButtonAriaLabel),icon:x().O,iconStyle:l.ellipsisIcon,style:l.button,onClick:n,...e})})},render:e=>(0,M.jsx)(A,{...n,closePopup:e.close}),alignmentToOrigin:p().vR.Start,originGap:2})}function A(e){const{containsUnreadNotifications:t,containsBothReadAndUnreadNotifications:n,showOnlyUnreadNotifications:a,closePopup:r}=e,u=(0,i().O7)(),p=(0,i().Fy)(),m=["markAllAsRead"];a?m.push("archiveUnread"):(m.push("archiveAll"),n&&m.push("archiveRead"));const h=(0,o.useCallback)((()=>{d().Xf(u),c().go(u)}),[u]),C=(0,o.useCallback)((e=>{let t="none";"archiveAll"===e?t="none":"archiveUnread"===e?t="unread":"archiveRead"===e&&(t="read"),d().zD(u,{readFilter:t}),c().rG(u,"mentions",t)}),[u]),x=(0,_().aE)();return(0,M.jsx)(y().Z,{menuType:v().o.Popup,height:p.isTablet?"100%":p.isMobile?"50vh":void 0,maxWidth:p.isMobile?"100vw":void 0,maxHeight:p.isTablet?"100%":void 0,header:p.isMobile?(0,M.jsx)(b().Z,{style:x.header,isSmall:!p.isMobile,isSecondaryColor:!p.isMobile,children:(0,M.jsx)(s()._H,{id:"inbox.moreActionsMenu.header",defaultMessage:"Actions"})}):void 0,minWidth:250,scrollerStyle:x.menuScroller,children:(0,M.jsx)(g().Z,{type:g().i.Vertical,sections:[{key:"inbox global actions",render:e=>(0,M.jsx)(f().Z,{...e,topBorder:0!==e.index,style:x.sectionMenuItem}),items:m.map(((e,n)=>({key:e,render:o=>{const i=n===m.length-1,a=p.isMobile&&i;return"archiveAll"===e||"archiveRead"===e||"archiveUnread"===e?(0,M.jsx)(B,{...o,archiveActionType:e,showTransparentButtonMenuItemDivider:a}):"markAllAsRead"===e?(0,M.jsx)(I,{...o,showTransparentButtonMenuItemDivider:a,containsUnreadNotifications:t}):void(0,l().t1)(e)},action:()=>{r(),"archiveAll"===e||"archiveUnread"===e||"archiveRead"===e?C(e):"markAllAsRead"===e?h():(0,l().t1)(e)}})))}],initialFocus:void 0,onAccept:()=>r()})})}const I=o.forwardRef(((e,t)=>{const{containsUnreadNotifications:o,showTransparentButtonMenuItemDivider:i,...r}=e,l=(0,a().VK)((()=>n(704259).default.getUnreadCountForCurrentSpace().mentions>0),[]),d=!(o||l),c=(0,_().aE)();return(0,M.jsx)(h().Z,{placement:w().Placement.Left,disableTooltip:!d,renderTooltip:()=>(0,M.jsx)(s()._H,{defaultMessage:"All notifications have been marked as read.",id:"updatesModal.spaceUpdatesTab.markAllReadButton.disabledTooltip"}),render:e=>(0,M.jsx)(u().Z,{...(0,n(164079).Z)(r,e),ref:t,icon:(0,n(138876).F)(c.icon),title:(0,M.jsx)(s()._H,{defaultMessage:"Mark all as read",id:"updatesModal.spaceUpdates.mentionsTab.markAllReadButtonTitle"}),titleStyle:c.title,disabled:d,disabledFeedback:d,style:{...c.buttonMenuItem,...i&&c.transparentButtonMenuItemBorder}})})}));I.displayName="InboxMarkReadButtonMenuItem";const B=o.forwardRef(((e,t)=>{const{archiveActionType:o,showTransparentButtonMenuItemDivider:i,...a}=e,r=(0,_().aE)(),d="archiveRead"===o;return(0,M.jsx)(u().Z,{...a,ref:t,icon:d?C(r.icon):(0,n(453382).H)(r.icon),title:(()=>{switch(o){case"archiveAll":return(0,M.jsx)(s()._H,{defaultMessage:"Archive all",id:"updatesModal.spaceUpdatesTab.archiveAll.tooltip"});case"archiveUnread":return(0,M.jsx)(s()._H,{defaultMessage:"Archive unread",id:"updatesModal.spaceUpdatesTab.archiveUnread.tooltip"});case"archiveRead":return(0,M.jsx)(s()._H,{defaultMessage:"Archive read",id:"updatesModal.spaceUpdatesTab.archiveRead.tooltip"});default:(0,l().t1)(o)}})(),titleStyle:r.title,style:{...r.buttonMenuItem,...i&&r.transparentButtonMenuItemBorder}})}));B.displayName="InboxArchiveButtonMenuItem";const V=(0,s().vU)({moreActionsButtonAriaLabel:{defaultMessage:"More actions",id:"inbox.button.moreActionsButtonAriaLabel"}})},383017:(e,t,n)=>{n.d(t,{$:()=>Z});var o=n(667294),i=()=>n(219727),a=()=>n(142735),r=()=>n(846550),s=()=>n(788860),l=()=>n(448419),d=()=>n(1910),c=()=>n(654133),u=()=>n(547430),p=()=>n(783310),m=()=>n(76225),y=()=>n(763589),g=()=>n(123145),f=()=>n(998901),h=(n(241792),()=>n(707513)),b=()=>n(827973),v=()=>n(198829),M=()=>n(255577),C=()=>n(388284),x=()=>n(67961),_=()=>n(352230),S=()=>n(453382),w=()=>n(210251),k=()=>n(688026),T=()=>n(365337),j=()=>n(733641),A=()=>n(253502),I=()=>n(97904);var B=n(785893);function V(e){const{closePopup:t}=e,n=(0,i().O7)(),l=(0,i().Fy)(),d=(0,a().VK)((()=>y().Fz()),[]),c=(0,o.useCallback)((e=>function(e,t){I().ZP.setState({...I().ZP.state,filter:t}),A().bE(e,{tab:t})}(n,e)),[n]),u=(0,r().yK)((e=>({menuScroller:l.isMobile?{background:e.surface.wash}:{},header:l.isMobile?{display:"flex",justifyContent:"center",alignItems:"center",fontSize:16,fontWeight:h().Ue.semibold,background:e.surface.wash,height:40,paddingLeft:16,paddingRight:16}:{display:"flex",alignItems:"center",paddingLeft:16,paddingRight:16,paddingTop:10,fontWeight:h().Ue.semibold},sectionMenuItem:l.isMobile?{overflow:"hidden",background:e.buttonBackground,borderRadius:12,marginLeft:16,marginRight:16,marginBottom:16,borderWidth:1,borderStyle:"solid",borderColor:e.stroke.secondary,padding:void 0}:{},buttonMenuItem:l.isMobile?{backgroundColor:e.surface.elevated,paddingTop:12,paddingBottom:12,borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:e.stroke.secondary}:{},buttonMenuItemPressed:{background:e.buttonPressedBackground},transparentButtonMenuItemBorder:{borderBottomColor:"transparent"},title:l.isMobile?{fontSize:16}:{},iconContainer:{display:"flex",justifyContent:"center",alignItems:"center",...l.isMobile&&{height:20}},icon:{...l.isMobile?{height:24,width:24}:{height:20,width:20}}})),[l]),p=(0,m().aE)(),g=[{type:"unread_and_read",title:(0,B.jsx)(s()._H,{id:"inboxFilterMenu.readAndUnreadOption.label",defaultMessage:"Unread & read"}),icon:T().W},{type:"unread_only",title:(0,B.jsx)(s()._H,{id:"inboxFilterMenu.unreadOption.label",defaultMessage:"Unread"}),icon:k().F},{type:"archived_only",title:(0,B.jsx)(s()._H,{id:"inboxFilterMenu.archivedOption.label",defaultMessage:"Archived"}),icon:S().H},{type:"all_updates",title:(0,B.jsx)(s()._H,{id:"inboxFilterMenu.allUpdatesOption.label",defaultMessage:"All workspace updates"}),icon:w().a}];return(0,B.jsx)(v().Z,{menuType:_().o.Popup,height:l.isTablet?"100%":l.isMobile?"50vh":void 0,minWidth:250,maxWidth:l.isMobile?"100vw":void 0,maxHeight:l.isTablet?"100%":void 0,scrollerStyle:p.menuScroller,header:(0,B.jsx)(x().Z,{style:p.header,isSmall:!l.isMobile,isSecondaryColor:!l.isMobile,children:(0,B.jsx)(s()._H,{id:"inbox.filterOptionsMenu.headerMobile",defaultMessage:"Filter"})}),children:(0,B.jsx)(M().Z,{type:M().i.Vertical,sections:[{key:"inbox filters",render:e=>(0,B.jsx)(C().Z,{...e,topBorder:0!==e.index,style:p.sectionMenuItem}),items:g.map(((e,n)=>{const o=e.type===d,i=n===g.length-1,a=l.isMobile&&i;return{key:e.type,render:t=>(0,B.jsx)(b().Z,{...t,style:{...p.buttonMenuItem,...a&&p.transparentButtonMenuItemBorder},pressedStyle:p.buttonMenuItemPressed,title:e.title,titleStyle:p.title,icon:(0,B.jsx)("div",{style:u.iconContainer,children:e.icon(u.icon)}),right:o?(0,j().k)(p.checkIcon):void 0}),action:()=>{t(),c(e.type)}}}))}],initialFocus:void 0,onAccept:()=>t()})})}function Z(){const e=(0,i().Fy)(),t=(0,s().YB)(),n=(0,a().VK)((()=>y().Fz()),[]),o=(0,g().dc)(),h=(0,r().yK)((t=>({button:e.isMobile?{height:30,width:30}:o.button,icon:{...o.icon,...e.isMobile&&{fill:t.icon.primary,width:18,height:18},..."unread_and_read"!==n?{fill:t.blueColor}:{}}})),[e.isMobile,n,o.button,o.icon]),b=(0,m().aE)(),v=t.formatMessage({defaultMessage:"Filter notifications",id:"inbox.filterButton.tooltip"});return(0,B.jsx)(l().ZP,{style:b.popup,popupType:e.isMobile?l().Z4.SlideUp:l().Z4.Popup,renderOrigin:t=>{let{onClick:n}=t;return(0,B.jsx)(c().Z,{renderTooltip:()=>v,placement:f().Placement.Bottom,alignment:f().Alignment.Start,delayThreshold:0,originGap:6,render:t=>(0,B.jsx)(d().Z,{ariaLabel:v,icon:e.isMobile?p().I:u().Q,iconStyle:h.icon,onClick:n,style:h.button,...t})})},render:e=>(0,B.jsx)(V,{closePopup:e.close}),alignmentToOrigin:l().vR.Start,originGap:2})}},105285:(e,t,n)=>{n.d(t,{Q:()=>l});n(667294);var o=()=>n(142735),i=()=>n(788860),a=()=>n(696459),r=()=>n(763589),s=n(785893);function l(){const e=(0,o().VK)((()=>(0,r().Fz)()),[]);switch(e){case"unread_and_read":return(0,s.jsx)(i()._H,{id:"inbox.unreadAndUnreadFilter.title",defaultMessage:"Inbox"});case"unread_only":return(0,s.jsx)(i()._H,{id:"inbox.unreadOnlyFilter.title",defaultMessage:"Unread"});case"archived_only":return(0,s.jsx)(i()._H,{id:"inbox.archivedFilter.title",defaultMessage:"Archived"});case"all_updates":return(0,s.jsx)(i()._H,{id:"inbox.allUpdatesFilter.title",defaultMessage:"All workspace updates"});default:return(0,a().t1)(e)}}},880290:(e,t,n)=>{n.d(t,{B:()=>o});const o=(0,n(667294).createContext)(void 0);o.displayName="SplitInboxActivityContext"},14801:(e,t,n)=>{n.d(t,{A:()=>se});n(670560);var o=n(667294),i=()=>n(219727),a=()=>n(142735),r=()=>n(846550),s=()=>n(788860),l=()=>n(696459),d=()=>n(707513),c=()=>n(1910),u=()=>n(654133),p=()=>n(726143),m=()=>n(419273),y=()=>n(123145),g=()=>n(770844),f=()=>n(236692),h=()=>n(11750),b=n(785893);const v=(0,s().vU)({newChatPlusIcon:{id:"assistantFullPageChat.newChat.ariaLabel",defaultMessage:"New chat"}});function M(){const e=(0,s().YB)(),t=(0,i().O7)(),n=(0,p().Io)(),o=y().dc();return(0,b.jsx)(u().Z,{renderTooltip:()=>e.formatMessage(v.newChatPlusIcon),render:i=>(0,b.jsx)(c().Z,{...i,icon:m().f,iconStyle:o.icon,style:o.button,ariaLabel:e.formatMessage(v.newChatPlusIcon),onClick:()=>{!function(e){const{environment:t,assistantSurface:n}=e;(0,h().performSecondarySidebarAction)({environment:t,assistantSurface:n,action:()=>{(0,g().clearActiveAssistantSession)({environment:t}),(0,f().trackAIChatTranscriptHistoryNewChatCreated)(t,{source:n.type})}})}({environment:t,assistantSurface:n})}})})}var C=()=>n(247724),x=()=>n(659203),_=()=>n(383017),S=()=>n(105285),w=()=>n(141474),k=()=>n(725751),T=()=>n(815532),j=()=>n(555813);const A=(0,s().vU)({newTeamPlusIcon:{id:"sidebarTeamBrowser.newTeam.button",defaultMessage:"New teamspace"}});function I(){const e=(0,s().YB)(),t=y().dc(),n=(0,o.useCallback)((()=>j().lo("team_browser")),[]);return(0,b.jsx)(u().Z,{renderTooltip:()=>e.formatMessage(A.newTeamPlusIcon),render:o=>(0,b.jsx)(c().Z,{...o,icon:m().f,iconStyle:t.icon,style:t.button,ariaLabel:e.formatMessage(A.newTeamPlusIcon),onClick:n})})}var B=()=>n(45909),V=()=>n(589525);const Z=30;function H(e){const t=(0,i().O7)(),n=(0,i().Fy)(),{isElectron:o}=n,s=(0,a().VK)((()=>Boolean(k().default.state.isShowingTabBar)),[]),l=(0,a().VK)((()=>(0,V().in)(t)),[t]),d=!s&&!l&&o,c=(0,r().yK)((()=>({container:{...(0,B().X)({drag:!0}),flexShrink:0,height:Z,width:"100%"}})),[]);return d?(0,b.jsx)("div",{style:c.container}):null}var R=()=>n(64260);const U=(0,n(827282).IU)("hamburgerMenuRound",{viewBox:"0 0 20 20",svg:(0,b.jsx)("path",{d:"M17.266 5.758H2.734a.713.713 0 0 1-.523-.219A.719.719 0 0 1 2 5.023a.737.737 0 0 1 .734-.75h14.532c.209 0 .383.073.523.22.14.145.211.322.211.53 0 .204-.07.378-.21.524a.71.71 0 0 1-.524.21ZM17.266 10.742H2.734a.713.713 0 0 1-.523-.219.719.719 0 0 1-.211-.515.737.737 0 0 1 .734-.75h14.532c.209 0 .383.073.523.219.14.145.211.322.211.53 0 .204-.07.378-.21.524a.71.71 0 0 1-.524.211ZM17.266 15.727H2.734a.713.713 0 0 1-.523-.22.719.719 0 0 1-.211-.515c0-.208.07-.385.21-.531a.713.713 0 0 1 .524-.219h14.532c.209 0 .383.073.523.219.14.146.211.323.211.531 0 .203-.07.378-.21.524a.71.71 0 0 1-.524.21Z"})});var L=()=>n(793935),F=()=>n(998901);function E(e){const{style:t}=e,n=(0,i().O7)(),o=(0,s().YB)(),l=(0,a().VK)((()=>{const e=k().default.state.isShowingTabBar;return!(0,V().in)(n)&&!e}),[n]),d=(0,y().dc)(),p=(0,r().yK)((e=>({button:{...d.button,...t,marginLeft:-7},keyboardShortcut:{color:e.mediumInvertedTextColor}})),[d,t]),m=o.formatMessage({defaultMessage:"Lock sidebar open",id:"sidebarExpandButton.tooltip"});return l?(0,b.jsx)(u().Z,{renderTooltip:()=>(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{children:m}),(0,b.jsx)(R().Z,{style:p.keyboardShortcut,name:"toggleSidebar"})]}),placement:F().Placement.Bottom,alignment:F().Alignment.Start,delayThreshold:0,originGap:6,render:e=>(0,b.jsx)(c().Z,{ariaLabel:m,icon:U,iconStyle:d.icon,style:p.button,onClick:()=>L().setExpand({environment:n,isExpanded:!0,from:"topbar_sidebar_button",saveDetailsSidebarPreference:!0}),className:C().exn,...e})}):null}var O=()=>n(381140),P=()=>n(603274),N=()=>n(628370),D=()=>n(52446),K=()=>n(68744),Y=()=>n(763589),$=()=>n(781022),W=()=>n(105649);function z(e){const{type:t}=e,n=(0,i().O7)(),{peekModeTooltipMessage:d,panelModeTooltipMessage:p}=function(e){const t=(0,s().YB)(),n={peekModeTooltipMessage:t.formatMessage({id:"secondarySidebar.lockInbox.tooltip",defaultMessage:"Lock inbox pane open"}),panelModeTooltipMessage:t.formatMessage({id:"secondarySidebar.closeInbox.tooltip",defaultMessage:"Close inbox pane"})};switch(e){case"inbox":case"activity":case"none":return n;case"assistant":return{peekModeTooltipMessage:t.formatMessage({id:"secondarySidebar.lockChatHistory.tooltip",defaultMessage:"Lock chat history open"}),panelModeTooltipMessage:t.formatMessage({id:"secondarySidebar.closeChatHistory.tooltip",defaultMessage:"Close chat history"})};case"private_pages":return{peekModeTooltipMessage:t.formatMessage({id:"secondarySidebar.lockPrivate.tooltip",defaultMessage:"Lock private pane open"}),panelModeTooltipMessage:t.formatMessage({id:"secondarySidebar.closePrivate.tooltip",defaultMessage:"Close private pane"})};case"shared_pages":return{peekModeTooltipMessage:t.formatMessage({id:"secondarySidebar.lockShared.tooltip",defaultMessage:"Lock shared pane open"}),panelModeTooltipMessage:t.formatMessage({id:"secondarySidebar.closeShared.tooltip",defaultMessage:"Close shared pane"})};case"teams":return{peekModeTooltipMessage:t.formatMessage({id:"secondarySidebar.lockTeams.tooltip",defaultMessage:"Lock teamspaces pane open"}),panelModeTooltipMessage:t.formatMessage({id:"secondarySidebar.closeTeams.tooltip",defaultMessage:"Close teamspaces pane"})};default:(0,l().t1)(e)}}(t),m=(0,a().VK)((()=>W().default.state.isMouseEntered),[]),g=(0,o.useCallback)((()=>{const e=T().bP();switch("peek"===e&&T().TN({environment:n}),t){case"inbox":const o={tab:(0,Y().Fz)(),unread_notifications_count:P().aY(),sessionId:$().default.state.sessionId,...(0,V().UF)({environment:n})};return void O().Bf(n,{view_type:e,section:t,...o});case"activity":break;case"private_pages":case"shared_pages":case"assistant":case"teams":return void O().Bf(n,{view_type:e,section:t,...(0,V().UF)({environment:n})});case"none":return;default:(0,l().t1)(t)}}),[n,t]),f=(0,a().VK)((()=>W().default.state.mode),[]),h=y().dc(),v=(0,r().yK)((e=>({icon:{transform:"rotate(180deg)",...h.icon}})),[h]),M="peek"===f?d:p,C="panel"===f?K().t:D().D;return(0,b.jsx)(u().Z,{renderTooltip:()=>M,placement:F().Placement.Bottom,alignment:F().Alignment.Start,delayThreshold:0,originGap:6,render:e=>(0,b.jsx)(N().Z,{tag:c().Z,animate:{opacity:m?1:0},ariaLabel:M,onClick:g,icon:C,iconStyle:v.icon,style:h.button,...e})})}var J=()=>n(448419),q=()=>n(180277),G=()=>n(876822),Q=()=>n(38562),X=()=>n(149809),ee=()=>n(198829),te=()=>n(388284),ne=()=>n(67961),oe=()=>n(666979),ie=()=>n(352230);function ae(e){const{type:t,spaceViewStore:n,onClick:o}=e,a=(0,i().O7)(),l=(0,r().yK)((e=>({header:{display:"flex",alignItems:"center",paddingLeft:16,paddingRight:16,paddingTop:10,fontSize:12,lineHeight:"16px",fontWeight:d().Ue.semibold,color:e.mediumTextColor}})),[]),c=(0,oe().useSortActions)({type:t,spaceViewStore:n,onSelect:o,outlinerLocation:"pane"}),u=[(0,Q().$J)({key:"sort",render:e=>(0,b.jsx)(te().Z,{...e}),actions:c})];return(0,b.jsxs)(ee().Z,{menuType:ie().o.Popup,children:[(0,b.jsx)(ne().Z,{style:l.header,children:(0,b.jsx)(s()._H,{id:"secondarySidebar.sortMenu.headerLabel",defaultMessage:"Sort"})}),(0,b.jsx)(X().Z,{context:{blocks:[],environment:a,publicEditMode:void 0},sections:u,initialFocus:void 0})]})}function re(e){let{type:t}=e;const n=(0,s().YB)(),o=(0,a().VK)((()=>G().default.state.currentSpaceViewStore),[]),i=(0,y().dc)(),l=(0,r().yK)((e=>({icon:{fill:e.mediumIconColor,width:20,height:20}})),[]),d=n.formatMessage({defaultMessage:"Sort {type} pages",id:"secondarySidebar.sortButton.tooltip"},{type:t});return o?(0,b.jsx)(J().ZP,{popupType:J().Z4.Popup,renderOrigin:e=>{let{onClick:t}=e;return(0,b.jsx)(u().Z,{renderTooltip:()=>d,placement:F().Placement.Bottom,alignment:F().Alignment.Start,delayThreshold:0,originGap:6,render:e=>(0,b.jsx)(c().Z,{ariaLabel:d,icon:q().x,iconStyle:l.icon,onClick:t,style:i.button,...e})})},render:e=>(0,b.jsx)(ae,{onClick:e.close,type:t,spaceViewStore:o}),alignmentToOrigin:J().vR.Start,originGap:2}):(0,b.jsx)(b.Fragment,{})}function se(e){const{type:t}=e,n=(0,i().O7)(),{isElectron:s}=(0,i().Fy)(),c=(0,a().VK)((()=>{const{isShowingTabBar:e}=k().default.state;return s&&!e}),[s]),u=(0,r().yK)((e=>({container:{display:"flex",flexDirection:"column"},header:{paddingTop:8,paddingLeft:16,paddingRight:16,paddingBottom:8,display:"flex",justifyContent:"space-between",alignItems:"center"},title:{display:"flex",alignItems:"center",gap:4,fontSize:14,fontWeight:d().Ue.medium},actions:{display:"flex",alignItems:"center",gap:4},createPageButtonIcon:{fill:e.mediumIconColor}})),[]),p=(0,o.useCallback)((()=>{"peek"===W().default.state.mode&&(0,T().TN)({environment:n})}),[n]),m=[];switch(t){case"inbox":case"activity":m.push((0,b.jsx)(z,{type:t},"mode_toggle"),(0,b.jsx)(_().$,{},"inbox_filter"),(0,b.jsx)(x().p,{},"inbox_ellipsis"));break;case"private_pages":m.push((0,b.jsx)(z,{type:t},"mode_toggle"),(0,b.jsx)(re,{type:"private"},"sort"),(0,b.jsx)(w().Z,{from:"sidebar_private_pane",onClick:p,iconStyle:u.createPageButtonIcon},"create_page"));break;case"shared_pages":m.push((0,b.jsx)(z,{type:t},"mode_toggle"),(0,b.jsx)(re,{type:"shared"},"sort"));break;case"assistant":m.push((0,b.jsx)(z,{type:t},"mode_toggle"),(0,b.jsx)(M,{},"add_chat"));break;case"teams":m.push((0,b.jsx)(z,{type:t},"mode_toggle"),(0,b.jsx)(I,{},"add_team"));break;case"none":break;default:(0,l().t1)(t)}return(0,b.jsxs)("div",{className:c?C().pMC:void 0,style:u.container,children:[(0,b.jsx)(H,{type:t}),(0,b.jsxs)("div",{style:u.header,children:[(0,b.jsxs)("div",{style:u.title,children:[(0,b.jsx)(E,{}),(0,b.jsx)(le,{type:t})]}),(0,b.jsx)("div",{style:u.actions,children:m})]})]})}function le(e){const{type:t}=e;switch(t){case"inbox":return(0,b.jsx)(S().Q,{});case"activity":return(0,b.jsx)(s()._H,{id:"secondarySidebarHeader.title.activity",defaultMessage:"Activity"});case"private_pages":return(0,b.jsx)(s()._H,{id:"secondarySidebarHeader.title.privatePages",defaultMessage:"Private"});case"shared_pages":return(0,b.jsx)(s()._H,{id:"secondarySidebarHeader.title.sharedPages",defaultMessage:"Shared"});case"assistant":return(0,b.jsx)(s()._H,{id:"secondarySidebarHeader.title.assistant",defaultMessage:"Notion AI"});case"teams":return(0,b.jsx)(s()._H,{defaultMessage:"All teamspaces",id:"sidebarTeamBrowserHeader.title"});case"none":return null;default:(0,l().t1)(t)}}},711112:(e,t,n)=>{n.d(t,{f:()=>a});var o=()=>n(142735),i=()=>n(906591);function a(){return(0,o().VK)((()=>(0,i().B8)()),[])}},912203:(e,t,n)=>{n.d(t,{$M:()=>f,GQ:()=>x,Jy:()=>w,LF:()=>S,NO:()=>m,Of:()=>k,SF:()=>u,TX:()=>C,XO:()=>h,Y_:()=>c,Ym:()=>g,bD:()=>v,cO:()=>p,fo:()=>_,rR:()=>y});n(267602),n(653476),n(228244);var o=()=>n(513670),i=()=>n(696459),a=()=>n(226413),r=()=>n(109477),s=()=>n(455222),l=()=>n(305580);(0,i().AO)((e=>(0,i().$K)(e)&&(0,i().$K)(e.target)&&(0,i().$K)(e.external_bot_id)?{true:{external_bot_id:e.external_bot_id,target:e.target}}:{false:e}));const d={checkbox:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,auto_increment_id:!1,button:!1,created_by:!1,created_time:!1,file:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1},c={checkbox:[{type:"checkbox"}],date:[{type:"date"}],email:[{type:"text"}],multi_select:[{type:"text"},{of:{type:"text"},type:"array"}],number:[{type:"number"}],person:[{type:"person"},{of:{type:"person"},type:"array"}],phone_number:[{type:"text"}],relation:[{type:"block"},{of:{type:"block"},type:"array"}],select:[{type:"text"},{of:{type:"text"},type:"array"}],status:[{type:"text"},{of:{type:"text"},type:"array"}],text:void 0,title:void 0,url:[{type:"text"}]};function u(e){return Boolean(d[e.type]&&!(0,a().NK)(e)&&(!(0,a().qQ)(e)||void 0===(0,a().q3)(e)))}function p(e){const{collectionFormat:t,collectionSchema:n,filter:s,sort:d,sourcePropertyIds:c}=e,p=(c??(0,i().Yd)(n)).filter(((t,o,i)=>{const r=n[t];return!(!r||!u(r))&&(("relation"!==r.type||!e.restrictCrossSpace||!(0,a().Qh)(e.spaceId,r))&&(!s||s([t,r],o,n)))}));if(0===p.length)return[];if(!t||!1===d)return p;const m=(0,l().i)(t,n,void 0,r().j5.Page).collection_page_properties||[];return o().MR(p,(e=>m.findIndex((t=>t.property===e))))}function m(e){const{collectionFormat:t,collectionSchema:n,sort:s}=e,d=(0,i().Yd)(n).filter(((e,t,o)=>{const i=n[e];return!(!i||!(0,a().U8)(i))}));if(0===d.length)return[];if(!t||!1===s)return d;const c=(0,l().i)(t,n,void 0,r().j5.Page).collection_page_properties||[];return o().MR(d,(e=>c.findIndex((t=>t.property===e))))}function y(e){return e.type===s().$E.InvalidCharacter?{type:e.type,character:e.character}:e.type===s().$E.TokenExpected?{type:e.type,token:e.token}:e.type===s().FY.MissingSchemaPropertyOnThisRow||e.type===s().FY.MissingSchemaPropertyOnCollection?{type:e.type,collectionId:e.collectionId,property:e.property}:e.type===s().FY.ThisRowBlockPropertyMismatchCollection?{type:e.type,thisRowCollection:e.thisRowCollection}:e.type===s().FY.MissingContextVariable?{type:e.type,valueId:e.valueId}:e.type===s().FY.FunctionCallTooFewArguments?{type:e.type,numArguments:e.numArguments}:e.type===s().FY.FunctionCallUnexpectedArgument?{type:e.type,parameterIndex:e.parameterIndex}:e.type===s().FY.FunctionCallArgumentWrongType?{type:e.type,argumentType:e.argumentType,libraryFunctionName:e.libraryFunction.name,parameterIndex:e.parameterIndex}:e.type===s().FY.MissingDataDependencyBlock?{type:e.type,blockPointer:e.blockPointer}:e.type===s().FY.MissingDataDependencyPerson?{type:e.type,personPointer:e.personPointer}:e.type===s().FY.MemberPropertyMismatchCollection?{type:e.type,blockCollection:e.blockCollection}:e.type===s().FY.DownstreamParseFailure?{type:e.type,collectionId:e.collectionId,property:e.property}:e.type===s().FY.ContextVariableWrongType?{type:e.type,valueId:e.valueId,expectedType:e.expectedType,resultType:e.resultType}:e.type===s().FY.DisallowedValueType?{type:e.type,expressionValue:e.expressionValue,allowedValueTypes:e.allowedValueTypes}:e.type===s().FY.LibraryFunctionExecutionError?{type:e.type,error:e.error,libraryFunctionName:e.libraryFunction.name}:{type:e.type}}const g={checkbox:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,button:!1,file:!1,verification:!1,auto_increment_id:!1,created_by:!1,created_time:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1};function f(e){return Boolean(g[e.type])}function h(e){const{collectionFormat:t,collectionSchema:n,filter:s,sort:d}=e,c=(0,i().Yd)(n).filter(((e,t,o)=>{var i;const r=n[e];return!(!r||!g[r.type])&&((!(0,a().qQ)(r)||null===(i=(0,a().q3)(r))||void 0===i||!i.auto_update_on_edit)&&(!s||s([e,r],t,n)))}));if(0===c.length)return[];if(!t||!1===d)return c;const u=(0,l().i)(t,n,void 0,r().j5.Page).collection_page_properties||[];return o().MR(c,(e=>u.findIndex((t=>t.property===e))))}const b={checkbox:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,auto_increment_id:!1,button:!1,created_by:!1,created_time:!1,date:!1,file:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1};function v(e){return b[e.type]}const M={checkbox:!0,created_by:!0,created_time:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,last_edited_by:!0,last_edited_time:!0,auto_increment_id:!1,button:!1,file:!1,formula:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1};function C(e){return M[e.type]}function x(e){return 0===e}function _(e){return function(e){return"button_block"===e||"button_property"===e}(e)}function S(e){const{property:t,collectionSchema:n}=e;return!!n&&!n[t]}function w(e){const{collectionSchema:t,property:n,type:o}=e,i=null==t?void 0:t[n];return!i||("action"===o?!u(i):!g[i.type])}function k(e){let{automationTrigger:t,collectionSchema:n}=e;if("event"===(null==t?void 0:t.type)||"notification_event"===(null==t?void 0:t.type)){const{pagesAdded:e,pagePropertiesEdited:o,source:a}=t.event;if(void 0===a)return!1;const r="some"===o.type&&o.some,s="all"===o.type&&o.all;if((r||s||[]).some((e=>S({collectionSchema:n,property:e.property})||w({collectionSchema:n,property:e.property,type:"trigger"}))))return!1;const l="some"===o.type&&(!(0,i().$K)(o.some)||0===o.some.length),d="all"===o.type&&(!(0,i().$K)(o.all)||0===o.all.length);if(!e&&("none"===o.type||l||d))return!1}else{if("recurrence"!==(null==t?void 0:t.type))return!1;if(!t.recurrence)return!1}return!0}},157955:(e,t,n)=>{n.r(t),n.d(t,{DEFAULT_MAX_RECURRENCE_DUPLICATION_PER_TASK:()=>A,MAXIMUM_DAILY_RECURRENCES_IN_PATH:()=>x,MAXIMUM_NESTED_RECURRENCE_LEVEL:()=>C,MAX_RECURRENCE_INTERVAL:()=>f,MAX_RECURRENCE_NUMBER_OF_RUNS:()=>h,RRULE_WEEKDAYS_MAP:()=>g,convertFromUnpersistedRecurrenceConfig:()=>V,convertToUnpersistedRecurrenceConfig:()=>I,getFormattedEndCondition:()=>j,getFormattedNextRecurrenceTime:()=>T,getNextDateUtc:()=>k,getRecurrenceAfter:()=>S,isRunningBetweenMidnightAnd3AM:()=>w,isValidRecurrenceInterval:()=>b,isValidRecurrenceNumberOfRuns:()=>v,rruleFromRecurrence:()=>M,templateAncestorsViolateRecurrenceNesting:()=>_});n(267602),n(653476),n(241792);var o=()=>n(730120);n(670560);function i(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(0===n.length)return e.map((e=>[e]));const a=[];for(const r of e)a.push(...i(n[0],...n.slice(1)).map((e=>[r,...e])));return a}var a=()=>n(696459),r=()=>n(326966),s=()=>n(803021),l=()=>n(646574),d=()=>n(998411),c=()=>n(578292);class u extends(()=>n(484885))().Ci{constructor(e,t){super(e,t)}after(e,t){return super.after(e,t)}}var p=()=>n(494616);const m=(0,n(788860).vU)({dateAtTime:{id:"automations.recurrenceHelpers.dateAtTime",defaultMessage:"{date} at {time}"},dateBetweenMidnightAnd3AM:{id:"automations.recurrenceHelpers.dateBetweenMidnightAnd3AM",defaultMessage:"{date} between 12–3 AM"},numberEndConditionDescription:{id:"automations.recurrenceHelpers.numberEndConditionDescription",defaultMessage:"{number, plural, one {After {number} run} other {After {number} runs}}"},noEndCondition:{id:"automations.recurrenceHelpers.noEndCondition",defaultMessage:"Never"}}),y={day:u.DAILY,week:u.WEEKLY,month:u.MONTHLY,year:u.YEARLY},g={MO:u.MO,TU:u.TU,WE:u.WE,TH:u.TH,FR:u.FR,SA:u.SA,SU:u.SU},f=99,h=999;function b(e){return(0,r().hj)(e)&&Number.isInteger(e)&&e>0&&e<=f}function v(e){return(0,r().hj)(e)&&Number.isInteger(e)&&e>0&&e<=h}function M(e){const{start_date:t,frequency:n,interval:o,weekdays:r,timezone:l,hour:d,minute:c}=e,p="week"===n&&r?r.map((e=>g[e])):void 0,m={};return(0,a().$K)(e.end_condition)&&("date"===e.end_condition.type?m.until=(0,s().pd)(e.end_condition.end_at):"number"===e.end_condition.type?m.count=e.end_condition.number_of_occurrences:(0,a().t1)(e.end_condition)),"month"===e.frequency&&(0,a().$K)(e.monthly_restriction)&&("monthdays"===e.monthly_restriction.type?m.bymonthday=e.monthly_restriction.monthdays:"weekdays_in_month"===e.monthly_restriction.type?m.byweekday=i(e.monthly_restriction.weekdays,e.monthly_restriction.week_numbers).map((e=>{let[t,n]=e;return g[t].nth(n)})):(0,a().t1)(e.monthly_restriction)),new u({freq:y[n],dtstart:(0,s().pd)(t),interval:o,byweekday:p,tzid:l,byhour:d??0,byminute:c??0,bysecond:0,...m})}const C=1,x=1;function _(e){var t;if(0===e.length)return{violatesConstraint:!1,templateNestingExceedsMaxDepth:!1,ancestorHasDailyTemplate:!1,nestedDepthOfAutomationAncestors:void 0,immediateAncestorRecurrenceType:void 0};const n=e.filter((e=>{var t;return"day"===(null===(t=e.getRecurrence())||void 0===t?void 0:t.frequency)})),o=e.length,i=null===(t=e[0].getRecurrence())||void 0===t?void 0:t.frequency,a=o>C,r=n.length>=x;return{violatesConstraint:a||r,templateNestingExceedsMaxDepth:a,ancestorHasDailyTemplate:r,nestedDepthOfAutomationAncestors:o,immediateAncestorRecurrenceType:i}}function S(e){const{recurrence:t,afterDate:n}=e;if((0,p().nA)(t)){const e=(0,s().kq)(n);return t.start_date>=e?new Date(t.start_date):void 0}{const e=M(t).after((0,s().pd)(n));if(!e)return;return(0,s().YL)(e)}}function w(e){return 0===e.hour||1===e.hour||2===e.hour}function k(e){return M(e).after((0,s().pd)((0,s().Jh)()))||void 0}function T(e){const{recurrence:t,intl:n}=e,i=k(V(t));if(!i)return;const a=w(t),r=o().ou.fromJSDate(i).toUTC().setZone("local",{keepLocalTime:!0}).setLocale((0,c().E2)(n)).setZone(t.timezone),s=(0,l().p6)({date:r,dateFormat:"relative",allowRelativeDates:!0,intl:n,shortenDate:!0});if(a)return n.formatMessage(m.dateBetweenMidnightAnd3AM,{date:s});{let e=r.toLocaleString(o().ou.TIME_SIMPLE);return t.timezone!==(0,d().r)()&&(e+=` ${r.toFormat("ZZZZ")}`),n.formatMessage(m.dateAtTime,{date:s,time:e})}}function j(e,t){return(0,a().$K)(e)?"number"===e.type?t.formatMessage(m.numberEndConditionDescription,{number:e.number_of_occurrences}):"date"===e.type?(0,l().p6)({date:o().ou.fromMillis(e.end_at),dateFormat:"relative",allowRelativeDates:!0,intl:t,shortenDate:!0}):void(0,a().t1)(e):t.formatMessage(m.noEndCondition)}const A=100;function I(e){return{...e,start_date:(0,s().kq)(e.start_date),end_condition:e.end_condition?"number"===e.end_condition.type?e.end_condition:"date"===e.end_condition.type?{type:"date",end_at:(0,s().kq)(e.end_condition.end_at)}:(0,a().t1)(e.end_condition):void 0}}function B(e,t){const n=o().ou.fromMillis(t.end_at).set({hour:e.hour??0,minute:e.minute??0});return{type:"date",end_at:(0,s().Jh)(n.toJSDate())}}function V(e){return{...e,start_date:(0,s().Jh)(new Date(e.start_date)),end_condition:e.end_condition?"number"===e.end_condition.type?e.end_condition:"date"===e.end_condition.type?B(e,e.end_condition):(0,a().t1)(e.end_condition):void 0}}},728267:(e,t,n)=>{n.d(t,{a:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("clock",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M6.541 10.919a.53.53 0 0 1-.39-.157.53.53 0 0 1-.157-.39c0-.155.053-.283.157-.383a.53.53 0 0 1 .39-.157h2.905V5.895c0-.15.053-.278.158-.383a.521.521 0 0 1 .382-.158.53.53 0 0 1 .39.158.521.521 0 0 1 .157.383v4.477a.53.53 0 0 1-.157.39.53.53 0 0 1-.39.157H6.541Zm3.452 6.207a6.789 6.789 0 0 1-2.727-.554 7.124 7.124 0 0 1-2.256-1.524 7.277 7.277 0 0 1-1.525-2.256 6.788 6.788 0 0 1-.553-2.727c0-.967.184-1.876.553-2.728a7.241 7.241 0 0 1 3.773-3.78 6.788 6.788 0 0 1 2.728-.554c.971 0 1.882.184 2.735.554.852.369 1.604.88 2.256 1.53a7.136 7.136 0 0 1 1.53 2.25c.37.852.554 1.761.554 2.728 0 .966-.184 1.875-.553 2.727a7.218 7.218 0 0 1-3.787 3.78 6.789 6.789 0 0 1-2.728.554Zm0-1.395c.789 0 1.525-.145 2.208-.437a5.678 5.678 0 0 0 1.805-1.217 5.68 5.68 0 0 0 1.217-1.804c.291-.684.437-1.42.437-2.208a5.55 5.55 0 0 0-.437-2.202 5.66 5.66 0 0 0-3.029-3.028 5.567 5.567 0 0 0-2.208-.438c-.784 0-1.52.146-2.208.438A5.6 5.6 0 0 0 5.98 6.052a5.715 5.715 0 0 0-1.21 1.811 5.55 5.55 0 0 0-.437 2.202c0 .788.146 1.524.438 2.208a5.735 5.735 0 0 0 1.21 1.804 5.598 5.598 0 0 0 4.013 1.654Z"})})}}]);