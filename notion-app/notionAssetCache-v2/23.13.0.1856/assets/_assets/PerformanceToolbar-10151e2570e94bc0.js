(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[54194],{832024:(e,t,n)=>{"use strict";n.d(t,{AK:()=>m,Mc:()=>a,OS:()=>d,Td:()=>f,Uu:()=>s,XC:()=>l,ZK:()=>h,e8:()=>p,gV:()=>u,hc:()=>_,n0:()=>v,u0:()=>g,xi:()=>c});var o=()=>n(594546),i=()=>n(572623),r=()=>n(697623);function a(e){o().K4(e,"add_slack_integration")}function s(e){o().K4(e,"remove_slack_integration")}function l(e,t){o().K4(e,"slack_notification_create",t)}function c(e,t){o().K4(e,"slack_notification_delete",t)}function d(e,t){o().K4(e,"slack_notification_update",t)}function u(e,t){const n=r().zt(),a=i().JF();o().K4(e,"slack_imports_invite_render_button",{subscription_tier:n,domain_type:a,origin:t.origin,invite_flow_id:t.invite_flow_id})}function p(e,t){const n=r().zt(),a=i().JF();o().K4(e,"slack_imports_invite_render_invite_popup",{subscription_tier:n,domain_type:a,origin:t.origin,invite_flow_id:t.invite_flow_id})}function m(e,t){const n=r().zt(),a=i().JF();o().K4(e,"slack_imports_invite_click_invite_button",{subscription_tier:n,domain_type:a,invited_user_count:t.invited_user_count,origin:t.origin,invite_token_query:t.inviteTokenQuery,invite_targets:t.inviteTargets,invite_flow_id:t.invite_flow_id})}function g(e,t){const n=r().zt(),a=i().JF();o().K4(e,"slack_imports_invite_completed",{subscription_tier:n,domain_type:a,invited_user_count:t.invited_user_count,is_success:t.is_success,origin:t.origin,invite_flow_id:t.invite_flow_id,error:t.error,invite_stage:t.invite_stage})}function f(e,t){const n=r().zt(),a=i().JF();o().K4(e,"slack_imports_invite_dismiss_popup",{subscription_tier:n,domain_type:a,origin:t.origin,invite_flow_id:t.invite_flow_id})}function _(e,t){const n=r().zt(),a=i().JF();o().K4(e,"slack_imports_invite_click_select_all",{subscription_tier:n,domain_type:a,origin:t.origin,invite_flow_id:t.invite_flow_id,invited_user_count:t.invited_user_count,is_unselect:t.is_unselect,invite_token_query:t.invite_token_query})}function v(e,t){const n=r().zt(),a=i().JF();o().K4(e,"slack_imports_invite_start_slack_integration",{subscription_tier:n,domain_type:a,origin:t.origin,invite_flow_id:t.invite_flow_id,from:t.from})}function h(e,t){const n=r().zt(),a=i().JF();o().K4(e,"slack_imports_invite_complete_slack_integration",{subscription_tier:n,domain_type:a,origin:t.origin,invite_flow_id:t.invite_flow_id,from:t.from,is_success:t.is_success})}},158792:(e,t,n)=>{"use strict";n.d(t,{Dw:()=>I,P0:()=>j,RN:()=>R,VG:()=>P,Yw:()=>M,jX:()=>B,k2:()=>L,lz:()=>k,v2:()=>V});n(267602),n(653476),n(30005);var o=()=>n(741633),i=()=>n(528514),r=()=>n(933868),a=()=>n(217465),s=()=>n(396136),l=()=>n(696056),c=()=>n(255933),d=()=>n(989478),u=()=>n(696459),p=()=>n(308186),m=()=>n(577041),g=()=>n(527278),f=()=>n(122479),_=()=>n(826955),v=()=>n(824462),h=()=>n(528918),b=()=>n(784234),y=()=>n(636340),x=()=>n(102182),S=()=>n(269299),C=()=>n(423402);const w=(0,n(788860).vU)({duplicatingTemplate:{id:"botActions.duplicatingTemplate.loadingMessage",defaultMessage:"Duplicating template..."},duplicatingTemplateError:{id:"botActions.duplicateTemplateAndShareWithBot.snackbar.failure",defaultMessage:"Failed to duplicate template for to your workspace"}});function T(e,t){const{environment:n,spaceStore:o,spaceRole:i}=t,r=function(e){const{name:t,spaceStore:n,userId:o,icon:i,type:r}=e,a=Date.now(),s={name:t,created_at:a,created_by_table:d().KJ,created_by_id:o,alive:!0,icon:i,space_id:n.id,last_edited_at:a,last_edited_by_id:o,last_edited_by_table:d().KJ};switch(r){case"guest":return{...s,type:"guest",capabilities:e.capabilities,parent_table:c().bx,parent_id:n.id,integration_id:void 0};case"scim":return{...s,type:"scim",parent_table:d().KJ,parent_id:o};default:(0,u().t1)(r)}}(t),a=y().ae({environment:n,table:l().cZ,value:r,inMemoryRecordCache:n.defaultRecordCache.inMemoryRecordCache,transaction:e});return b().tQ({environment:n,spaceStore:o,permissionItems:[{type:"bot_permission",role:i,bot_id:a.id}],transaction:e}),{botStore:a}}function k(e){const{environment:t}=e,{serverCommitResult:n,performResult:{botStore:o}}=S().createAndCommit({userAction:"botActions.createSpaceBot",environment:t,canUndo:!0,perform:t=>T(t,e)});return{botStore:o,transactionPromise:n}}async function j(e){const{environment:t,botId:n,onSuccess:o}=e,i=await v().callApi({eventName:"deleteBot",environment:t,data:{botId:n}});"failed"===i.type?p().x2(i):"success"===i.type&&o&&(await C().pJ({environment:t}),o())}async function M(e){const{environment:t,table:n,id:i,type:r}=e,a=await v().callApi({eventName:"getBots",environment:t,data:{table:n,id:i,type:r},headers:(0,o().Bb)({spaceId:n===c().bx?i:void 0})});if("failed"===a.type)throw p().x2(a),a;return{botIds:a.data.botIds,recordMap:a.data.recordMap}}async function I(e){const{environment:t,currentSpaceStore:n,botIds:o}=e;if(!n)return;const i=await v().callApi({eventName:"getBotSharedPageIds",environment:t,data:{spaceId:n.id,botIds:o}});if("failed"!==i.type)return i.data;p().x2(i)}async function P(e){const{environment:t,botId:n}=e,o=await v().callApi({eventName:"getBotToken",environment:t,data:{botId:n}});if("failed"!==o.type)return o.data.token;p().x2(o)}function V(e){const{botValue:t,store:n,environment:o}=e,{id:r,parent_id:a,parent_table:s,capabilities:l}=t,c={type:"bot_permission",bot_id:r,parent_id:a,parent_table:s,role:(0,i().uH)(l)};S().createAndCommit({userAction:"TopbarMoreButton.handleAddingConnection",environment:o,canUndo:!0,perform:e=>{b().l3({environment:o,store:n,permissionItems:[c],transaction:e})}})}function R(e){const{botId:t,store:n,environment:o}=e,i=n.getPermissionItems().filter((0,u().AO)((e=>(0,r().FB)(e)?{true:e}:{false:e})));for(const r of i)if(r.bot_id===t){const e={...r,role:"none"};S().createAndCommit({userAction:"TopbarMoreButton.handleRemovingConnection",environment:o,canUndo:!0,perform:t=>{b().l3({environment:o,store:n,permissionItems:[e],transaction:t})}})}}function B(e){const{currentSpaceStore:t,environment:n,pages:o,botStore:i,addPermission:r}=e;if(!t)return;const a=(0,f().zT)({botStore:i,addPermission:r});o.forEach((e=>{const o=_().t1.createChildStore(t,{table:s().iU,id:e});S().createAndCommit({userAction:"botActions.updateBlockPermissionsForBot",environment:n,canUndo:!0,perform:e=>{b().l3({environment:n,store:o,permissionItems:[a],transaction:e})}})}))}async function L(e){const{environment:t,spaceStore:n,spaceViewStore:o,templatePageId:i,botValue:r,pages:s}=e;if(!n)return;const c=_().t1.createChildStore(n,{table:l().cZ,id:r.id});if(i)return await async function(e){const{environment:t,spaceStore:n,spaceViewStore:o,templatePageId:i,botStore:r}=e;if(!n||!o)return;try{h().j({message:w.duplicatingTemplate});const e=await v().callApi({eventName:"loadBlockSubtree",environment:t,data:{block:{id:i,spaceId:n.id},shallow:!1}});if("failed"===e.type)return;const s=a().RecordMapWithRole.create(e.data.subtreeRecordMap),{createAndDuplicatePageInSpace:l}=await(0,m().uP)(),{performResult:c}=S().createAndCommit({userAction:"botActions.duplicateTemplateAndShareWithBot",environment:t,canUndo:!0,perform:e=>{const a=l({environment:t,recordMap:s,copyPageId:i,isPrivate:!0,spaceStore:n,spaceViewStore:o,transaction:e,allowCopyExternalObjectInstances:!1}),c=o.getPrivatePageIds();c.length>0&&y().sW({store:o,data:{private_pages:[a.id,...c]},transaction:e});const d=(0,f().zT)({botStore:r,addPermission:!0});return b().l3({environment:t,store:a,permissionItems:[d],transaction:e}),a}});return c}catch(s){x().oV({label:g().Z.formatMessage(w.duplicatingTemplateError)})}finally{h().x()}}({environment:t,templatePageId:i,botStore:c,spaceStore:n,spaceViewStore:o});B({environment:t,currentSpaceStore:n,botStore:c,pages:s,addPermission:!0})}},755020:(e,t,n)=>{"use strict";n.d(t,{p:()=>o});const o=35},493843:(e,t,n)=>{"use strict";n.d(t,{$o:()=>K,Fv:()=>A,IL:()=>G,J4:()=>W,KA:()=>F,Nf:()=>D,_p:()=>X,cQ:()=>U,f$:()=>Z,fX:()=>O,j2:()=>E,k2:()=>q,mg:()=>J,mz:()=>N,oP:()=>z,tF:()=>Y,td:()=>H,x:()=>$});n(670560),n(267602),n(470928),n(30005),n(241792),n(228244);var o=()=>n(730120),i=()=>n(492788),r=()=>n(506347),a=()=>n(926724),s=()=>n(331540),l=()=>n(874459),c=()=>n(998411),d=()=>n(35980),u=()=>n(513670),p=()=>n(696459),m=()=>n(250303),g=()=>n(384667),f=()=>n(366257),_=()=>n(139224),v=()=>n(421654),h=()=>n(636340),b=()=>n(531515),y=()=>n(47443),x=()=>n(794586),S=()=>n(879952),C=()=>n(970105),w=()=>n(990966),T=()=>n(269299),k=()=>n(932753),j=()=>n(887430),M=()=>n(861026),I=()=>n(804217),P=()=>n(826955),V=()=>n(965903),R=()=>n(807230),B=()=>n(701182),L=()=>n(645843);function E(e){const{collectionViewStore:t,collectionContextStore:n,timelineState:o,environment:i}=e,r=i.currentUser.id,a=(0,B().B8)(t.id),s=(0,B().pQ)(t,i),l=n.permissionScopesStore.state,c=u().Ds((()=>{if(o.destroyed)return;const e={zoomLevel:o.zoomLevel.state,centerTimestamp:(0,B().al)(o)};d().Z.set({userId:r,key:a,value:e})}),1e3),p=u().Ds((()=>{if(o.destroyed||!I().default.state.online||!i.currentUser.isLoggedIn()||!l.canConfigureBlock)return;const e={zoomLevel:o.zoomLevel.state,centerTimestamp:(0,B().al)(o)},n=t.getFormat().timeline_preference;u().Xy(n,e)||T().createAndCommit({userAction:"collectionTimelineViewActions.setRemotePreference",environment:i,canUndo:!0,perform:n=>{v().FH({stores:[t],update:{timeline_preference:e},transaction:n})}})}),5e3);o.savePreference=()=>{c(),p()},D({timelineState:o,environment:i,...s})}function D(e){const{timelineState:t,zoomLevel:n,centerTimestamp:o,environment:r}=e,{savePreference:a}=t,s=r.WindowSizeStore.state.width+2*B().Ge,l=(0,B().x2)(n,s),c=o-l/2,d=o+l/2;t.zoomLevel.setState(n),t.currentRange.setState({startTimestamp:c,endTimestamp:d}),i().default.afterNextFlush((()=>{F({timelineState:t,centerTimestamp:o}),a&&a()}))}function F(e){const{timelineState:t,centerTimestamp:n}=e,{horizontalScroller:o,outerSizeObserver:i}=t;if(!o)return;const r=t.zoomLevel.state,{startTimestamp:a,endTimestamp:s}=t.currentRange.state,l=i.rect.state.width;if(l===(0,B().e$)(r,s-a))return;const c=(0,B().e$)(r,n-a)-l/2;o.scrollLeft=c,t.scrollLeft.setState(c)}function z(e){const{environment:t,store:n,query:o,date:i,schema:r,transaction:a}=e,{timeline_by:s}=o;if(!s)return;const l=n.getAssociatedCollectionStore(),c=(null==l?void 0:l.getMappedProperty(s))??s,d=o.timeline_by_end?(null==l?void 0:l.getMappedProperty(o.timeline_by_end))??o.timeline_by_end:void 0,u=(0,B().TW)({store:n,dateValue:i,query:o,schema:(null==l?void 0:l.getSchema())??r}),p=n.getPropertyValue(c),m=d?n.getPropertyValue(d):void 0;return h().sW({store:n.getPropertiesStore(),data:u,transaction:a}),f().H({environment:t,store:n,dateProperty:{id:c,newValue:(null==u?void 0:u[c])??[],oldValue:p},otherDateProperty:d?{id:d,newValue:(null==u?void 0:u[d])??[],oldValue:m}:void 0}),n}function A(e){var t;const{environment:n,timelineState:i,collectionStore:r,collectionContextStore:a,store:s,query:d,groupFormat:u,transaction:p}=e,m=i.zoomLevel.state,f=(0,B().al)(i),{snapUnit:_,getDateRangePlaceholderDuration:v}=B().BJ[m],{timeline_by:h}=d;if(!h)return;const b=null===(t=a.groupsStore.getGroupState(u))||void 0===t?void 0:t.resultsStore.state;if(!b)return;const y=o().ou.fromMillis(f),x=(0,B().DS)(y,_),S=(0,B().DS)(v(y),_),C=(0,B().AZ)({startValue:(0,l().Lg)((0,c().r)()),snapUnit:_,desiredStart:x,desiredEnd:S});return z({environment:n,store:s,query:d,schema:r.getSchema(),date:C,transaction:p}),g().$T({environment:n,collectionStore:r,before:!0,store:b[0],insertStores:[s],collectionContextStore:a,groupsPointer:u?[u]:[],transaction:p}),s}function Z(e){const{type:t,timelineState:n,store:o,startX:i,query:r,schema:a,intl:s,environment:l}=e,{horizontalScroller:c}=n,{startTimestamp:d}=n.currentRange.state;if(!c)return;S().Ys({environment:l,store:o});const p=c.scrollLeft,{stores:m}=V().default.state,g=u().oA(m.map((e=>{const t=(0,B().bk)({store:e,query:r,schema:a,userId:l.currentUser.id,intl:s,formulasModule:void 0});if(t)return{startValue:t,store:e}})));n.dragState.setState({type:t,startStore:o,stores:g.map((e=>{let{store:t}=e;return t})),startValues:g.map((e=>{let{startValue:t}=e;return t})),temporaryValues:g.map((e=>{let{startValue:t}=e;return t})),startX:i,startStartTimestamp:d,startScrollLeft:p})}function W(e){const{timelineState:t,store:n,startX:o,startY:i,schema:r,collectionContextStore:a,verticalScroller:s}=e,{horizontalScroller:l}=t,{startTimestamp:c}=t.currentRange.state;if(!l||!s)return;const d=l.scrollLeft,u=s.scrollTop,p=(0,B().YE)(a,n,r);t.drawState.setState({startStore:n,startDependencyRelationPointers:p,temporaryDependencyRelationPointers:[...p],startX:o,startY:i,startScrollLeft:d,startScrollTop:u,startStartTimestamp:c,xOffsetPx:0,yOffsetPx:0,tryToCompleteDrawnArrow:!1})}function H(e){const{timelineState:t,currentX:n}=e,{horizontalScroller:o}=t,i=t.zoomLevel.state,r=t.dragState.state,{startTimestamp:a}=t.currentRange.state;if(!r||!o)return;const{type:s,startStartTimestamp:c,startValues:d,startScrollLeft:m,startX:g,startStore:f,stores:_}=r,v=B().BJ[i],{snapUnit:h}=v,b=o.scrollLeft-m+(n-g)+(0,B().e$)(i,a-c),y=(0,B().x2)(i,b),x=d[_.indexOf(f)];let S;if(s===B().px.LeftResizer){const{start:e}=(0,B().XO)(x,h),t=e.plus(y);S=d.map((e=>{const n=(0,B().AZ)({startValue:e,snapUnit:h,desiredStart:t});return(0,l().gW)(n)}))}else if(s===B().px.RightResizer){const{end:e}=(0,B().XO)(x,h),t=e.plus(y);S=d.map((e=>{const n=(0,B().AZ)({startValue:e,snapUnit:h,desiredEnd:t});return(0,l().Qq)(n)}))}else s===B().px.ItemDrag?S=d.map((e=>{const{start:t,end:n}=(0,B().XO)(e,h),o=t.plus(y),i=o.plus(n.valueOf()-t.valueOf());return(0,B().AZ)({startValue:e,snapUnit:h,desiredStart:o,desiredEnd:i})})):(0,p().t1)(s);u().Xy(r.temporaryValues,S)||t.dragState.setState({...r,temporaryValues:S})}function N(e){const{timelineState:t,currentX:n,currentY:o,verticalScroller:i}=e,r=t.drawState.state,a=t.zoomLevel.state,{startTimestamp:s}=t.currentRange.state,{horizontalScroller:l}=t;if(!r||!l||!i)return;const{startDependencyRelationPointers:c,startStore:d,startX:p,startY:m,startScrollLeft:g,startScrollTop:f,startStartTimestamp:_}=r,v=l.scrollLeft,h=i.scrollTop,b=v-g+(n-p)+(0,B().e$)(a,s-_),y=h-f+(o-m),x=t.hoveredItem.state;if(x&&x!==d&&!c.some((e=>e.id===x.id))){const e=[...c,{table:"block",id:x.id,spaceId:x.getSpaceId()}];u().Xy(r.temporaryDependencyRelationPointers,e)||t.drawState.setState({...r,temporaryDependencyRelationPointers:e,xOffsetPx:void 0,yOffsetPx:void 0})}else t.drawState.setState({...r,temporaryDependencyRelationPointers:[...c],xOffsetPx:b,yOffsetPx:y})}function O(e){const{environment:t,collectionContextStore:n,timelineState:o,query:i,schema:r,transaction:a}=e,s=o.dragState.state,{timeline_by:l}=i;if(!s||!l)return;const{temporaryValues:c,stores:d}=s;c.forEach(((e,o)=>{const s=d[o];z({environment:t,store:s,query:i,schema:r,transaction:a,date:e}),m().rv({environment:t,collectionContextStore:n,block_id:s.id,property:l,property_type:"date",from:"timeline"})})),o.dragState.setState(void 0)}function K(e){var t;const{timelineState:n,environment:o,transaction:i,collectionContextStore:r,isFullScreen:a,isRootChild:s}=e,l=n.drawState.state,c=n.dateRangePlaceholder.state;if(!l)return;const{startStore:d,startDependencyRelationPointers:u,temporaryDependencyRelationPointers:p}=l;if(!d)return void n.drawState.setState(void 0);let g;if(c.active){const{date:e,store:t,parentStore:a,groupFormat:s,newTimelineItemProps:l,existingTimelineItemProps:u}=c;if(t&&u){const{query:n,schema:r}=u;z({environment:o,store:t,query:n,schema:r,date:e,transaction:i}),g={table:"block",id:t.id,spaceId:d.getSpaceId()}}else if(l){const{query:n,schema:c,isFullScreen:u,canEditTimelineItems:p,subitemPath:m}=l,f=J({environment:o,date:e,store:t,parentStore:a,query:n,schema:c,isFullScreen:u,groupFormat:s,canEditTimelineItems:p,collectionContextStore:r,subitemPath:m,transaction:i,from:"timeline_complete_draw"});f&&(g={table:"block",id:f.id,spaceId:d.getSpaceId()})}n.dateRangePlaceholder.setState({active:!1})}else g=p.find((e=>!u.includes(e)));const f=(0,B()._e)(r);if(f){const{property:e}=f;g&&(b().hE({environment:o,propertyWithInverse:f,sourceStore:d,destStore:P().G.createChildStore(d,g),position:{type:"after"},transaction:i}),m().rv({environment:o,collectionContextStore:r,block_id:d.id,property:e,property_type:"relation",from:"timeline",isFromBulkActionsToolbar:!1,isUnthrottled:!0})),n.drawState.setState(void 0)}else _().wl({item:{type:"dependencies",from:"view_options"},collectionSettingsStore:r.settingsStore}),n.drawState.setState({...l,tryToCompleteDrawnArrow:!0});const v=null===(t=g)||void 0===t?void 0:t.id;v&&(0,L().LE)(o,{...(0,M().Pn)(r),...(0,L().Ii)({environment:o,collectionContextStore:r,timelineState:n,isFullScreen:a,isRootChild:s}),dependenciesPropertyID:null==f?void 0:f.property,blockedByStoreID:d.id,blockingStoreID:v})}function U(e){const{timelineState:t,environment:n}=e;t.dragState.state&&(t.dragState.setState(void 0),S().ZH({environment:n}))}function $(e){const{timelineState:t,environment:n}=e;t.drawState.state&&(t.drawState.setState(void 0),S().ZH({environment:n}))}function q(e){const{stores:t,collectionViewStore:n,schema:o,transaction:i}=e,r=n.getType(),a=n.getQuery(o),s=[];a&&("calendar"===r?a.calendar_by&&s.push(a.calendar_by):"timeline"===r&&(a.timeline_by&&s.push(a.timeline_by),a.timeline_by_end&&s.push(a.timeline_by_end)));for(const l of t)for(const e of s)C().sO({environment:l.environment,store:l.getPropertyStore(e),value:void 0,transaction:i})}function G(e){const{dependency:t,collectionContextStore:n,environment:o,timelineState:i,isFullScreen:r,isRootChild:a}=e,s=(0,B()._e)(n),l=n.collectionStore();if(!s||!l)return;const{property:c}=s,{store:d,relationPointer:u}=t,p=d.getSchema()[c];p&&"relation"===p.type&&(T().createAndCommit({userAction:"CollectionTimelineDependenciesOverlay.handleRemoveRelation",environment:o,canUndo:!0,perform:e=>{b().Bl({environment:o,propertyWithInverse:s,sourceStore:d,destStore:P().G.createChildStore(d,u),transaction:e}),m().rv({environment:o,block_id:u.id,property:c,property_type:p.type,from:"timeline",collectionContextStore:n,isFromBulkActionsToolbar:!1,isUnthrottled:!0})}}),(0,L().lf)(o,{...(0,M().Pn)(n),...(0,L().Ii)({environment:o,collectionContextStore:n,timelineState:i,isFullScreen:r,isRootChild:a}),dependenciesPropertyID:c,blockedByStoreID:d.id,blockingStoreID:u.id}))}function Y(e){const{collectionViewStore:t,newProperty:n,transaction:o}=e;v().FH({stores:[t],update:{timeline_arrows_by:{property:n}},transaction:o})}function X(e){var t;const{collectionContextStore:n,relationPropertyId:o,transaction:i}=e,r=n.collectionStore();if(!r)return;const l=o?r.getSchema()[o]:void 0,c="relation"===(null==l?void 0:l.type)&&l.property&&"relation"===(null===(t=r.getSchema()[l.property])||void 0===t?void 0:t.type)?l.property:void 0;v().FH({stores:[r],update:{collection_default_arrows_by:o,...r.getFormat().app_config_uri===s().iS?{app_uri_map:{...r.getFormat().app_uri_map?r.getFormat().app_uri_map:{},[a().Es.BlockingRelation]:o,[a().Es.BlockedRelation]:c}}:{}},transaction:i})}function J(e){const{environment:t,transaction:n,date:o,parentStore:i,query:a,schema:s,isFullScreen:l,groupFormat:c,canEditTimelineItems:d,collectionContextStore:u,from:p}=e;if(!(0,R().ww)(t))return;const m=c?[c]:[],f=u.groupsStore.getGroupState(m);if(!f)return;if(i)return function(e){const{environment:t,transaction:n,date:o,store:i,parentStore:a,query:s,schema:l,groupFormat:c,canEditTimelineItems:d,collectionContextStore:u,subitemPath:p}=e;if(!i||!a)return;const m=c?[c]:[],f=g().yk({environment:t,collectionContextStore:u,groupsPointer:m,store:i,before:!1,collectionStore:a,transaction:n,subitemPath:p,subitemInsertDirection:"into"});if(f){if(z({environment:t,store:f,query:s,schema:l,date:o,transaction:n}),t.device.isMobile)y()._c({environment:t,store:f,pageVisitSource:r().tY.Create});else if(f&&d){const e=f.getBlockTitleStore();w().setSelectionAtStart({store:e})}return f}}(e);u.searchQueryStore.state&&k().Ug({searchQuery:"",collectionContextStore:u,isFullScreen:l});const _=g().IW({environment:t,collectionContextStore:u,groupsPointer:m,shouldCoerce:!0,templateStore:u.defaultPageTemplateStore.state,transaction:n,from:{createBlock:p},inMemoryRecordCache:t.defaultRecordCache.inMemoryRecordCache});if(!_)return;const v=_.coercionSucceeded,h=_.newStore;if(z({environment:t,store:h,query:a,schema:s,date:o,transaction:n}),t.device.isMobile)y()._c({environment:t,store:h,pageVisitSource:r().tY.Create});else if(v&&d){const e=h.getBlockTitleStore();w().setSelectionAtEnd({store:e})}else x().CH({environment:t,store:h,peekMode:(0,j().kr)(u),resultsStore:null==f?void 0:f.resultsStore,collectionContextStore:u,pageVisitSource:r().tY.Create});return h}},645843:(e,t,n)=>{"use strict";n.d(t,{Al:()=>l,CB:()=>c,H6:()=>s,Ii:()=>g,LE:()=>p,gw:()=>d,iR:()=>r,lf:()=>m,ne:()=>u,zI:()=>a});n(267602),n(653476);var o=()=>n(594546),i=()=>n(701182);function r(e,t){o().lu(e,"timeline_view","timeline_view",5,t)}function a(e,t){o().K4(e,"timeline_zoom_level_update",t)}function s(e,t){o().K4(e,"timeline_today_click",t)}function l(e,t){o().K4(e,"timeline_shift_time_click",t)}function c(e,t){o().K4(e,"timeline_toggle_table_click",t)}function d(e,t){o().K4(e,"timeline_item_scroll_arrow_click",t)}function u(e,t){o().K4(e,"timeline_item_resize",t)}function p(e,t){o().K4(e,"timeline_dependency_arrow_add",t)}function m(e,t){o().K4(e,"timeline_dependency_arrow_delete",t)}function g(e){const{environment:t,collectionContextStore:n,timelineState:o,isFullScreen:r,isRootChild:a}=e,s=o.zoomLevel.state,l=n.normalizedFormatStore.state,c=(0,i().C1)({environment:t,format:l,isFullScreen:r,isRootChild:a}),d=c&&l.timeline_table_properties?l.timeline_table_properties.length:0,u=l.timeline_properties||[],p=u.filter((e=>"title"!==e.property));return{zoom_level:s,show_table:c,show_table_properties_count:d,show_timeline_title:u.length!==p.length,show_timeline_properties_count:p.length}}},183680:(e,t,n)=>{"use strict";n.d(t,{VR:()=>u,ac:()=>d,zq:()=>c});n(667294);var o=()=>n(846550),i=()=>n(788860),r=()=>n(518530),a=()=>n(733641),s=n(785893);function l(e){const{enabled:t,labelIfEnabled:n,labelIfDisabled:i}=e,r=(0,o().yK)((e=>({container:{color:t?e.mediumTextColor:e.lightTextColor}})),[t]);return(0,s.jsxs)("div",{style:r.container,children:[p(t)," ",t?n:i]})}function c(e){const t="none"!==e;return[(0,s.jsx)(l,{enabled:t&&e.read_content,labelIfEnabled:(0,s.jsx)(i()._H,{id:"capabilitiesTooltip.mixedAccess.readContent.enabled",defaultMessage:"Can read content."}),labelIfDisabled:(0,s.jsx)(i()._H,{id:"capabilitiesTooltip.mixedaccess.readContent.disabled",defaultMessage:"Cannot read content."})},"read_content"),(0,s.jsx)(l,{enabled:t&&e.insert_content,labelIfEnabled:(0,s.jsx)(i()._H,{id:"capabilitiesTooltip.mixedaccess.insertContent.enabled",defaultMessage:"Can insert content."}),labelIfDisabled:(0,s.jsx)(i()._H,{id:"capabilitiesTooltip.mixedaccess.insertContent.disabled",defaultMessage:"Cannot insert content."})},"insert_content"),(0,s.jsx)(l,{enabled:t&&e.update_content,labelIfEnabled:(0,s.jsx)(i()._H,{id:"capabilitiesTooltip.mixedaccess.updateContent.enabled",defaultMessage:"Can update content."}),labelIfDisabled:(0,s.jsx)(i()._H,{id:"capabilitiesTooltip.mixedaccess.updateContent.disabled",defaultMessage:"Cannot update content."})},"update_content"),(0,s.jsx)(l,{enabled:t&&e.insert_comment,labelIfEnabled:(0,s.jsx)(i()._H,{id:"capabilitiesTooltip.insertComment.enabled",defaultMessage:"Can comment."}),labelIfDisabled:(0,s.jsx)(i()._H,{id:"capabilitiesTooltip.insertComment.disabled",defaultMessage:"Cannot comment."})},"insert_comment"),(0,s.jsx)(l,{enabled:t&&e.read_comment,labelIfEnabled:(0,s.jsx)(i()._H,{id:"capabilitiesTooltip.readComment.enabled",defaultMessage:"Can read comments."}),labelIfDisabled:(0,s.jsx)(i()._H,{id:"capabilitiesTooltip.readComment.disabled",defaultMessage:"Cannot read comments."})},"read_comment")]}function d(e){return[(0,s.jsx)(l,{enabled:e.read_user_without_email,labelIfEnabled:(0,s.jsx)(i()._H,{id:"capabilitiesTooltip.userAccess.readUsers.enabled",defaultMessage:"Can view users."}),labelIfDisabled:(0,s.jsx)(i()._H,{id:"capabilitiesTooltip.userAccess.readUsers.disabled",defaultMessage:"Cannot view users."})},"read_user_without_email"),(0,s.jsx)(l,{enabled:e.read_user_with_email,labelIfEnabled:(0,s.jsx)(i()._H,{id:"capabilitiesTooltip.userAccess.readUserEmailAddresses.enabled",defaultMessage:"Can view user email addresses."}),labelIfDisabled:(0,s.jsx)(i()._H,{id:"capabilitiesTooltip.userAccess.readUserEmailAddresses.disabled",defaultMessage:"Cannot view user email addresses."})},"read_user_with_email")]}function u(e){return[(0,s.jsx)(l,{enabled:e.link_preview,labelIfEnabled:(0,s.jsx)(i()._H,{id:"capabilitiesTooltip.linkPreview.enabled",defaultMessage:"Can preview links."}),labelIfDisabled:(0,s.jsx)(i()._H,{id:"capabilitiesTooltip.linkPreview.disabled",defaultMessage:"Cannot preview links."})},"link_preview"),(0,s.jsx)(l,{enabled:e.synced_database,labelIfEnabled:(0,s.jsx)(i()._H,{id:"capabilitiesTooltip.syncedDatabase.enabled",defaultMessage:"Can sync databases."}),labelIfDisabled:(0,s.jsx)(i()._H,{id:"capabilitiesTooltip.syncedDatabase.disabled",defaultMessage:"Cannot sync databases."})},"synced_database")]}function p(e){const t={width:12,display:"inline",verticalAlign:"middle"};return e?(0,a().k)(t):(0,r().U)(t)}},670346:(e,t,n)=>{"use strict";n.d(t,{_:()=>c});n(667294);var o=()=>n(219727),i=()=>n(528514),r=()=>n(788860),a=()=>n(183680),s=()=>n(18748),l=n(785893);function c(e){const{role:t}=e,n=(0,r().YB)(),{device:c}=(0,o().O7)(),d=(0,a().zq)(t);return(0,l.jsx)(s().ZP,{...e,title:n.formatMessage((0,i().Gx)(t,void 0).label),shouldWrapCaption:!0,style:c.isMobile?{padding:"12px 4px"}:{padding:4,marginTop:2,marginBottom:2},captionStyle:{marginTop:4},caption:(0,l.jsx)("div",{children:d})})}},951877:(e,t,n)=>{"use strict";n.d(t,{L:()=>c,N:()=>d});n(667294);var o=()=>n(219727),i=()=>n(846550),r=()=>n(766933),a=()=>n(270315),s=()=>n(827973),l=n(785893);let c=function(e){return e[e.Name=0]="Name",e[e.Type=1]="Type",e}({});function d(e){const{propertySchema:t,format:n,locked:d}=e,u=(0,i().Fg)(),p=(0,o().O7)(),{name:m,type:g,icon:f}=t,_=n===c.Name?m:a().SO[g];return(0,l.jsx)(s().Z,{title:_,icon:(0,l.jsx)(r().ZP,{icon:f,type:g,size:p.device.isMobile?18:16,theme:u,style:{fill:u.regularIconColor,marginLeft:6,marginRight:2}}),disabled:d,...e})}},877807:(e,t,n)=>{"use strict";n.d(t,{mX:()=>v,mo:()=>f,nH:()=>_});n(241792),n(667294);var o=()=>n(142735),i=()=>n(846550),r=()=>n(933868),a=()=>n(788860),s=()=>n(696459),l=()=>n(707513),c=()=>n(779733),d=()=>n(520849),u=()=>n(876822),p=()=>n(842574),m=()=>n(204642),g=n(785893);function f(e){const{openState:t}=e,{mainEditorCurrentBlockStore:n,currentSpaceStore:r}=(0,o().VK)((()=>{const{mainEditorCurrentBlockStore:e,currentSpaceStore:t}=u().default.state;return{mainEditorCurrentBlockStore:e,currentSpaceStore:t}}),[]),a=(0,o().VK)((()=>(0,c().wZ)()),[]),s=(0,i().yK)((e=>({scroller:{display:"flex",flexDirection:"column",maxHeight:290,...a?{border:`1px solid ${e.lightDividerColor}`,borderRadius:6,paddingTop:8,paddingLeft:12,paddingRight:12,paddingBottom:12,marginTop:15,marginBottom:5,marginLeft:-12,marginRight:-12}:{}},editContainer:{marginTop:2,marginBottom:2,color:e.regularTextColor}})),[a]);if(!n||!r)return null;const l=Date.now();return(0,g.jsx)(p().Z,{type:d().Z.Y,style:s.scroller,children:t.permissionChanges.map(((e,t)=>{let[o,i]=e;const a={timestamp:l,space_id:r.id,type:"permission-changed",permission_data:{before:o,after:i}};return(0,g.jsx)("div",{style:s.editContainer,children:(0,g.jsx)(m().Z,{rootStore:n,edit:a})},`${o.type}-${t}`)}))})}function _(e,t){return["remove","restrict"].includes(e.type)?t?(0,g.jsx)(a()._H,{id:"restrictedPermissionConfirmationModal.actionButton.restrictAccessV2",defaultMessage:"Change and unlink"}):(0,g.jsx)(a()._H,{id:"restrictedPermissionConfirmationModal.actionButton.restrictAccess",defaultMessage:"Restrict access"}):t?(0,g.jsx)(a()._H,{id:"restrictedPermissionConfirmationModal.actionButton.relink",defaultMessage:"Relink"}):"restoreTeamPermissions"===e.type?(0,g.jsx)(a()._H,{id:"restrictedPermissionConfirmationModal.actionButton.restoreTeamPermissions",defaultMessage:"Reset Permissions"}):(0,g.jsx)(a()._H,{id:"restrictedPermissionConfirmationModal.actionButton.restoreAccess",defaultMessage:"Restore access"})}function v(e,t){switch(e.type){case"remove":return t?(0,g.jsx)(a()._H,{id:"restrictedPermissionConfirmationModal.remove.descriptionV2",defaultMessage:"Change access and unlink share settings from parent page?"}):(0,g.jsx)(a()._H,{id:"restrictedPermissionConfirmationModal.restrict.description",defaultMessage:"Are you sure you want to remove this {permissionGroup} and restrict access? This page will no longer inherit share settings from the parent page.",values:{permissionGroup:h(e)}});case"restrict":return t?(0,g.jsx)(a()._H,{id:"restrictedPermissionConfirmationModal.remove.descriptionV2",defaultMessage:"Change access and unlink share settings from parent page?"}):(0,g.jsx)(a()._H,{id:"restrictedPermissionConfirmationModal.remove.description",defaultMessage:"Are you sure you want to change this role and restrict access? This page will no longer inherit share settings from the parent page."});case"restore":return t?(0,g.jsx)(a()._H,{id:"restrictedPermissionConfirmationModal.relink.description",defaultMessage:"Relink share settings?"}):e.permissionChanges.length>0?(0,g.jsx)(a()._H,{id:"restrictedPermissionConfirmationModal.restore.description",defaultMessage:"Are you sure you want to restore access? This will inherit the following permissions from the parent page:"}):(0,g.jsx)(a()._H,{id:"restrictedPermissionConfirmationModal.restoreNoChanges.description",defaultMessage:"Are you sure you want to restore access?"});case"restoreTeamPermissions":return t?(0,g.jsx)(a()._H,{id:"restrictedPermissionConfirmationModal.relink.description",defaultMessage:"Relink share settings?"}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{style:{fontWeight:l().Ue.semibold,marginBottom:4},children:(0,g.jsx)(a()._H,{id:"restrictedPermissionConfirmationModal.restoreTeamPermissions.mainDescription",defaultMessage:"Are you sure you want to reset permissions to match the teamspace defaults?"})}),(0,g.jsx)(a()._H,{id:"restrictedPermissionConfirmationModal.restoreTeamPermissions.warningMessage",defaultMessage:"Everyone else who is not part of the teamspace will lose access, including guests."})]});default:throw s().t1(e)}}function h(e){return(0,r().jg)(e.permissionItem)?(0,g.jsx)(a()._H,{id:"restrictedPermissionConfirmationModal.permissionGroup.user",defaultMessage:"user"}):(0,r().hV)(e.permissionItem)?(0,g.jsx)(a()._H,{id:"restrictedPermissionConfirmationModal.permissionGroup.group",defaultMessage:"group"}):(0,r().Ir)(e.permissionItem)?(0,g.jsx)(a()._H,{id:"restrictedPermissionConfirmationModal.permissionGroup.space",defaultMessage:"workspace"}):(0,g.jsx)(a()._H,{id:"restrictedPermissionConfirmationModal.permissionGroup.generic",defaultMessage:"permission"})}},868614:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});n(667294);var o=n(785893);const i=function(e){const t=(0,n(846550).Fg)(),{divider:i,large:r,block:a,children:s,hasMarginTop:l,small:c,style:d,smallMarginBottom:u,isCritical:p}=e,m="full"===i;return(0,o.jsx)("div",{style:{borderBottom:m?`1px solid ${t.regularDividerColor}`:0,marginBottom:m?16:u?2:8,marginTop:l?16:0,paddingBottom:m?12:0,fontSize:m?16:r?14:c?12:14,fontWeight:m?n(707513).Ue.medium:400,width:a?"100%":"auto",color:p?n(568017).ZP.red:t.regularTextColor,...d},children:s})}},539245:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});n(241792);var o=n(667294),i=()=>n(352230),r=n(785893);function a(e){let{tabs:t,selectedIndex:a,onChange:s,separatorIndexes:l,right:c,style:d,rightStyle:u,tabStyle:p,tabTitleStyle:m,selectedTabTitleStyle:g,tabBorderStyle:f,selectedTabStyle:_,readOnly:v,hideTabBorder:h}=e;const b=(0,o.useContext)(i().p),{device:y,WindowSizeStore:x}=(0,n(219727).O7)(),{safePaddingLeft:S,safePaddingRight:C}=(0,n(142735).VK)((()=>({safePaddingLeft:x.getSafePaddingLeftCSS(16),safePaddingRight:x.getSafePaddingRightCSS(16)})),[x]),w=(0,n(846550).yK)((e=>{const t={paddingTop:6,paddingBottom:6,whiteSpace:"nowrap",minWidth:0,flexShrink:0,color:e.mediumTextColor,...p},n=`inset 0 -1px 0 ${e.regularDividerColor}`,o=b.menuType===i().o.Popup,r={fontSize:16,paddingTop:2,paddingLeft:o?16:S,paddingRight:o?16:C,zIndex:2,height:44,background:e.popoverBackground};return{container:{overflowY:"visible",overflowX:"auto",display:"flex",width:"100%",position:"relative",boxShadow:h?void 0:n,...y.isMobile?r:{fontSize:14,paddingLeft:8,paddingRight:8,zIndex:1},...d},separator:{display:"inline-flex",alignItems:"center",margin:"0 4px",paddingBottom:4,whiteSpace:"nowrap",minWidth:0,flexShrink:0,color:e.regularDividerColor},mobile:{},tab:t,selectedTab:{...t,position:"relative",color:e.regularTextColor,..._},border:{borderBottom:`2px solid ${e.regularTextColor}`,position:"absolute",bottom:0,left:8,right:8,...f},rightContainer:{flexGrow:1,display:"flex",alignItems:"center",justifyContent:"flex-end",color:e.mediumTextColor,...u}}}),[b.menuType,y.isMobile,u,S,C,_,d,f,p,h]);return(0,r.jsxs)("div",{className:"hide-scrollbar",style:w.container,children:[t.map(((e,t)=>{const i=t===a;return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsxs)("div",{style:i?w.selectedTab:w.tab,children:[(0,r.jsx)(n(92175).Z,{style:{...m,...i?g:{}},onClick:()=>s(t),disabled:v,mobileFeedback:y.isMobile,isLightGray:!Boolean(i),children:e}),i&&(0,r.jsx)("div",{style:w.border})]},`tabButton-${t}`),l&&l.includes(t)&&(0,r.jsx)("div",{style:w.separator,className:"notranslate",children:"|"},`${t}-separator`)]},t)})),c&&(0,r.jsx)("div",{style:w.rightContainer,children:c})]})}const s=o.memo(a)},871953:(e,t,n)=>{"use strict";n.d(t,{TL:()=>u,nc:()=>d,ue:()=>c});var o=()=>n(816512),i=()=>n(934158),r=()=>n(696056),a=()=>n(989478),s=()=>n(696459),l=()=>n(826955);function c(e){const{parentStore:t,pointer:n}=e,i=(0,l().Kv)(t,n).getValue();if(i)return(0,o().LU)({table:n.table,value:i})}function d(e){const{parentStore:t,pointer:n}=e;return n.table===r().cZ?l().Qx.createChildStore(t,n):n.table===a().KJ?l().U6.createChildStore(t,n):n.table===i().y0?l().fg.createChildStore(t,n):void(0,s().t1)(n)}function u(e){return e.table===r().cZ?(0,o().ON)(e.getValue()):e.table===a().KJ?(0,o().m3)(e.getValue()):e.table===i().y0?(0,o().I4)(e.getValue()):void(0,s().t1)(e)}},244303:(e,t,n)=>{"use strict";n.d(t,{a:()=>l});n(667294);var o=()=>n(816512),i=()=>n(696459),r=()=>n(634760),a=()=>n(981583),s=n(785893);function l(e){const{actor:t}=e,n={size:e.size??14,style:{marginRight:2,...e.style}};return(0,o().YU)(t)?(0,s.jsx)(r().Z,{botValue:t.asActor,...n}):(0,o().$S)(t)?(0,s.jsx)(a().Z,{userValue:t.asActor,...n}):(0,o().Iq)(t)?(0,s.jsx)(a().Z,{userValue:void 0,...n}):void(0,i().t1)(t)}},474532:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var o=n(667294);const i=function(e,t){if(e.ref&&t.ref){const n=t.ref;t.ref=t=>{e.ref(t),n(t)}}return o.cloneElement(e,t)}},273444:(e,t,n)=>{"use strict";n.d(t,{WA:()=>x,Yx:()=>C,qA:()=>S});var o=()=>n(494488),i=()=>n(156642),r=()=>n(696459),a=()=>n(755020),s=()=>n(887430),l=()=>n(954452),c=()=>n(644235),d=()=>n(14585),u=()=>n(881688),p=()=>n(35982),m=()=>n(749826),g=()=>n(645805),f=()=>n(965903);const _=n(203890).Xx-2,v=2,h=4,b=15,y=23;function x(e){const{marginItemType:t,store:n,nodeRect:o,containerRect:a,environment:s}=e,l="double_space"===m().default.getGroup("css_margins"),c=function(e){const{store:t,isContentReskinEnabled:n,marginItemType:o}=e,r=t.getType(),a=t.getNavigableAncestorFormat(),s=Boolean(a.page_small_text);if(n)return r===i().Ti.divider?-5:r===i().Ti.header?s?5:8:r===i().Ti.subHeader?s?2:4:r===i().Ti.collectionView?8:r===i().Ti.table?"presence_avatars"===o?5.5:14:0;return r===i().Ti.divider?-6:r===i().Ti.header?s?7:10:r===i().Ti.subHeader?s?4:6:r===i().Ti.collectionView?8:r===i().Ti.table?"presence_avatars"===o?5.5:14:3}({store:n,isContentReskinEnabled:l,marginItemType:t}),u=function(e,t,n,o){if(t.isTransclusionType())return e+5;if(k(t,n))return o?e+4:e+1;if("ai_block"===t.getType())return t.hasContent()?e+9:e+15;if(t.getType()===i().Ti.button)return e+3;return e}(c,n,s,l),p=((null==o?void 0:o.top)??0)-((null==a?void 0:a.top)??0)+u,g=s.device.isMobile?20:22,f=(d().eD-g)/2;if("selectable_hover_menu_overlay_item"===t)return p;if("attribution_avatars"===t)return p-f;if("presence_avatars"===t){const{attributionsIncludeFoundBlock:t,avatarCount:n}=e;return p+f+(n+(t?1:0)-1)*b}(0,r().t1)(t)}function S(e){const{marginItemType:t,store:n,environment:o,nodeRect:i,containerRect:a}=e,s=o.device.isMobile?20:22,l=(0,c().Ae)()+v,d=T(o,l+24,n),u=((null==i?void 0:i.left)??0)-((null==a?void 0:a.left)??0);if("drag_handle"===t)return u-T(o,l,n);if("plus_button"===t)return u-d;if("attribution_avatars"===t){return u-w({marginItemType:t,store:n,originalMenuOffset:d,environment:o})-h-s}if("presence_avatars"===t){const{clientRectLeft:r,foundBlockId:l}=e,c=w({marginItemType:t,foundBlockId:l,nodeRect:i,originalMenuOffset:d,environment:o,store:n});return(void 0===r?u:Math.max(r-a.left,u))-c-h-s}(0,r().t1)(t)}function C(e){const{marginItemType:t,nodeRect:n,containerRect:o}=e;if("add_comment"===t)return((null==o?void 0:o.right)??0)-((null==n?void 0:n.right)??0);(0,r().t1)(t)}function w(e){const{marginItemType:t,originalMenuOffset:n,environment:o,store:i}=e;if("attribution_avatars"===t){const e=g().default.state;return e.isOpen&&e.currentStore===i?n:T(o,0,i)}if("presence_avatars"===t){var a;const t=g().default.state,{foundBlockId:r,nodeRect:s}=e;return t.isOpen&&(null===(a=t.currentStore)||void 0===a?void 0:a.id)===r&&t.currentStore&&!g().default.isRightMarginCommentHovered()?t.isOpen&&(0,c().NO)()&&p().uh((0,g().getExpandedSelectableRect)(s,!1),t.mouseX,t.mouseY)?y:n:T(o,0,i)}(0,r().t1)(t)}function T(e,t,n){if(function(e){var t;const n=f().default.state.stores.includes(e),o=g().default.state.isOpen&&(null===(t=g().default.state.currentStore)||void 0===t?void 0:t.id)===e.id;return o||n}(n)&&k(n,e))return t+_;if(n.isQuoteBlockChild()){return t+3+14+o().ZD.paddingLeft}if(n.isTransclusionType()||"ai_block"===n.getType())return t+4;if(n.isDirectChildOfAiBlock())return t+13;if(n.isInsideTransclusion())return t+5;if(n.getType()===i().Ti.table){const o=u().Xp({simpleTableStore:n,environment:e,includeInline:!(0,l().fg)(e,n)}),i=n.isImmediateColumnChild();return 0!==o||i?t+8:t}const r=n.getNumberOfDuplicateBlocksAncestors();return r>0?t+a().p*r:t}function k(e,t){if(e.getType()===i().Ti.page){const o=(0,s().fm)(e);var n;if(o)return(e.isInsideCollection()||Boolean(null==o||null===(n=o.collectionStore())||void 0===n?void 0:n.isPageTreeCollection()))&&(0,s().fk)({environment:t,collectionContextStore:o})}return!1}},580215:(e,t,n)=>{"use strict";n.d(t,{M:()=>l,W:()=>c});var o=n(667294),i=()=>n(177357);const r=24*i().U6;function a(e){return s(e).status}function s(e){if(null==e||!e.enabled)return{status:"disabled"};const t=e.start_ts?1e3*e.start_ts-Date.now():0;return t<=0?{status:"active"}:t<=r?{status:"warning",nextUpdateInMs:t}:{status:"scheduled",nextUpdateInMs:t-r}}function l(e){const[t,n]=(0,o.useState)((()=>a(e)));return(0,o.useEffect)((()=>{if(null==e||!e.enabled)return;let t;return function o(){t=void 0;const{status:i,nextUpdateInMs:r}=s(e);n(i),r&&(t=setTimeout(o,r))}(),()=>{t&&(clearTimeout(t),t=void 0)}}),[e]),t}function c(e){const[t,n]=(0,o.useState)((()=>Date.now())),r=(null==e?void 0:e.enabled)&&e.start_ts;return(0,o.useEffect)((()=>{if("number"!=typeof r)return;const e=r;let t;return function o(){const r=Date.now();n(r);const a=e*i().C0-r;if(a>0){const e=a%i().hM,n=0===e?i().hM:e;t=setTimeout(o,n)}else t=void 0}(),()=>{t&&(clearTimeout(t),t=void 0)}}),[r]),{freezeStatus:a(e),minUntilFreeze:r?Math.floor((r*i().C0-t)/i().hM):void 0}}},103539:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("appearanceSetting",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M9.969 17.938c4.36 0 7.969-3.618 7.969-7.97C17.938 5.61 14.32 2 9.96 2 5.609 2 2 5.61 2 9.969c0 4.351 3.617 7.969 7.969 7.969zm0-1.329a6.609 6.609 0 01-6.633-6.64 6.602 6.602 0 016.625-6.64 6.627 6.627 0 016.648 6.64 6.61 6.61 0 01-6.64 6.64zm2.445-4.906c-2.367 0-3.883-1.484-3.883-3.851 0-.493.133-1.188.274-1.555.047-.102.047-.164.047-.203a.246.246 0 00-.25-.25.75.75 0 00-.258.047c-1.617.64-2.703 2.39-2.703 4.226 0 2.57 1.968 4.406 4.53 4.406 1.884 0 3.5-1.156 4.056-2.57a.618.618 0 00.054-.234.269.269 0 00-.258-.274.62.62 0 00-.187.032 4.623 4.623 0 01-1.422.226z"})})},404553:(e,t,n)=>{"use strict";n.d(t,{M:()=>o().M});var o=()=>n(682890)},985481:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("arrowRightSmaller",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M15.383 8.352a.877.877 0 01-.274.64l-5.156 5.14a.864.864 0 01-.617.266.831.831 0 01-.602-.234.795.795 0 01-.234-.586c0-.12.02-.232.063-.336a.912.912 0 01.187-.273l1.75-1.766 2.914-2.656.274.5-2.711.156H1.484c-.26 0-.471-.078-.632-.234a.851.851 0 01-.235-.617c0-.256.078-.461.235-.618a.856.856 0 01.632-.242h9.493l2.71.164-.273.508L10.5 5.5 8.75 3.727a.946.946 0 01-.188-.266.917.917 0 01-.062-.344c0-.234.078-.43.234-.586a.831.831 0 01.602-.234.79.79 0 01.328.07c.104.047.203.117.297.211l5.148 5.133a.877.877 0 01.274.64z"})})},428275:(e,t,n)=>{"use strict";n.d(t,{r:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("basicClock",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M4.541 7.919a.53.53 0 01-.39-.157.53.53 0 01-.157-.39c0-.155.053-.282.157-.383a.53.53 0 01.39-.157h2.905V2.895c0-.15.053-.278.158-.383a.521.521 0 01.382-.158.53.53 0 01.39.158.521.521 0 01.157.383v4.477a.53.53 0 01-.157.39.53.53 0 01-.39.157H4.541zm3.452 6.207a6.789 6.789 0 01-2.727-.554 7.124 7.124 0 01-2.256-1.524 7.277 7.277 0 01-1.525-2.256 6.788 6.788 0 01-.553-2.728c0-.966.184-1.875.553-2.727A7.241 7.241 0 015.258.557 6.788 6.788 0 017.987.003c.971 0 1.882.184 2.735.554.852.369 1.604.88 2.256 1.53a7.136 7.136 0 011.53 2.25c.37.852.555 1.761.555 2.727 0 .967-.185 1.876-.554 2.728a7.218 7.218 0 01-3.787 3.78 6.789 6.789 0 01-2.728.554zm0-1.395c.789 0 1.525-.145 2.208-.437a5.678 5.678 0 001.805-1.217 5.68 5.68 0 001.217-1.805c.291-.683.437-1.42.437-2.208a5.55 5.55 0 00-.437-2.2 5.66 5.66 0 00-3.029-3.029 5.567 5.567 0 00-2.208-.438c-.784 0-1.52.146-2.208.438A5.6 5.6 0 003.98 3.052a5.715 5.715 0 00-1.21 1.811 5.55 5.55 0 00-.437 2.201c0 .789.146 1.525.438 2.208a5.735 5.735 0 001.21 1.805 5.598 5.598 0 004.013 1.654z"})})},832566:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("colorPickerCircle",{viewBox:"0 0 32 32",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("circle",{cx:"16",cy:"16",r:"14",strokeWidth:"3",fill:"none"}),(0,o.jsx)("circle",{cx:"16",cy:"16",r:"14",opacity:"0.9"})]})})},745435:(e,t,n)=>{"use strict";n.d(t,{t:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("database",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M16.25 5v1.25c0 1.381-2.797 2.5-6.25 2.5s-6.25-1.119-6.25-2.5V5c0-1.381 2.797-2.5 6.25-2.5s6.25 1.119 6.25 2.5zM10 14.375c-2.784 0-4.744-.569-5.963-1.378-.187.237-.287.49-.287.753V15c0 1.381 2.797 2.5 6.25 2.5s6.25-1.119 6.25-2.5v-1.25c0-.262-.103-.516-.287-.753-1.22.806-3.179 1.378-5.963 1.378zM10 10c-2.784 0-4.744-.569-5.963-1.378-.187.237-.287.49-.287.753v1.25c0 1.381 2.797 2.5 6.25 2.5s6.25-1.119 6.25-2.5v-1.25c0-.262-.103-.516-.287-.753C14.742 9.428 12.784 10 10 10z"})})},781443:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("databaseOutline",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M7.98145 15.3584C4.38574 15.3584 2 13.9775 2 12.0088V3.78516C2 1.9873 4.39258 0.763672 7.98145 0.763672C11.5771 0.763672 13.9697 1.9873 13.9697 3.78516V12.0088C13.9697 13.9775 11.584 15.3584 7.98145 15.3584ZM7.98145 5.58301C10.7773 5.58301 12.6709 4.83105 12.6709 3.78516C12.6709 2.69141 10.7842 1.91895 7.98145 1.91895C5.18555 1.91895 3.29883 2.69141 3.29883 3.78516C3.29883 4.83105 5.19238 5.58301 7.98145 5.58301ZM7.98145 6.80664C5.97852 6.80664 4.35156 6.42383 3.29883 5.77441V8.69336C4.42676 9.37695 6.19043 9.81445 7.98145 9.81445C9.7793 9.81445 11.543 9.37695 12.6709 8.69336V5.77441C11.6182 6.42383 9.99121 6.80664 7.98145 6.80664ZM7.98145 11.0449C6.23828 11.0449 4.5293 10.6621 3.29883 10.0332V12.0088C3.29883 13.2051 5.11035 14.1348 7.98145 14.1348C10.8594 14.1348 12.6709 13.2051 12.6709 12.0088V10.0332C11.4404 10.6621 9.73145 11.0449 7.98145 11.0449Z"})})},388957:(e,t,n)=>{"use strict";n.d(t,{K:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("externalLink",{viewBox:"0 0 17 16",svg:(0,o.jsx)("path",{d:"M4.94922 13.498C4.31641 13.498 3.83789 13.3359 3.51367 13.0117C3.18945 12.6914 3.02734 12.2188 3.02734 11.5938V4.46289C3.02734 3.83398 3.18945 3.35938 3.51367 3.03906C3.83789 2.71875 4.31641 2.55859 4.94922 2.55859H12.0449C12.6777 2.55859 13.1562 2.71875 13.4805 3.03906C13.8047 3.35938 13.9668 3.83398 13.9668 4.46289V11.5938C13.9668 12.2188 13.8047 12.6914 13.4805 13.0117C13.1562 13.3359 12.6777 13.498 12.0449 13.498H4.94922ZM5.01953 12.3438H11.9746C12.2441 12.3438 12.4512 12.2734 12.5957 12.1328C12.7402 11.9922 12.8125 11.7793 12.8125 11.4941V4.55664C12.8125 4.27539 12.7402 4.06445 12.5957 3.92383C12.4512 3.7832 12.2441 3.71289 11.9746 3.71289H5.01953C4.74609 3.71289 4.53711 3.7832 4.39258 3.92383C4.25195 4.06445 4.18164 4.27539 4.18164 4.55664V11.4941C4.18164 11.7793 4.25195 11.9922 4.39258 12.1328C4.53711 12.2734 4.74609 12.3438 5.01953 12.3438ZM10.334 9.54297C10.1855 9.54297 10.0664 9.49609 9.97656 9.40234C9.89062 9.30859 9.84766 9.17969 9.84766 9.01562V8.08398L9.93555 7.24609L9.15039 8.10156L7.09961 10.1465C6.99023 10.2559 6.85742 10.3105 6.70117 10.3105C6.55273 10.3105 6.42969 10.2637 6.33203 10.1699C6.23828 10.0762 6.19141 9.95117 6.19141 9.79492C6.19141 9.6582 6.24609 9.53516 6.35547 9.42578L8.41211 7.36914L9.2793 6.57227L8.47656 6.66602H7.48633C7.32617 6.66602 7.19727 6.62305 7.09961 6.53711C7.00586 6.45117 6.95898 6.33203 6.95898 6.17969C6.95898 6.03516 7.00586 5.91992 7.09961 5.83398C7.19727 5.74414 7.32422 5.69922 7.48047 5.69922H10.2227C10.4062 5.69922 10.5508 5.74609 10.6562 5.83984C10.7617 5.93359 10.8145 6.08398 10.8145 6.29102V9.00977C10.8145 9.16602 10.7695 9.29492 10.6797 9.39648C10.5938 9.49414 10.4785 9.54297 10.334 9.54297Z"})})},819658:(e,t,n)=>{"use strict";n.d(t,{q:()=>o().q});var o=()=>n(388852)},774414:(e,t,n)=>{"use strict";n.d(t,{j:()=>o().j});var o=()=>n(217043)},8483:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("helpButtonMessage",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M4.74609 15.6934C5.13574 15.6934 5.42285 15.502 5.89453 15.085L8.23926 13.0205H12.3545C14.4121 13.0205 15.5674 11.8311 15.5674 9.80078V4.48926C15.5674 2.45898 14.4121 1.26953 12.3545 1.26953H3.63867C1.58789 1.26953 0.425781 2.45898 0.425781 4.48926V9.80078C0.425781 11.8379 1.62207 13.0205 3.59082 13.0205H3.87109V14.6953C3.87109 15.3037 4.19238 15.6934 4.74609 15.6934ZM5.08789 14.1621V12.2139C5.08789 11.8105 4.91016 11.6533 4.52734 11.6533H3.68652C2.40137 11.6533 1.78613 11.0039 1.78613 9.75977V4.53027C1.78613 3.28613 2.40137 2.63672 3.68652 2.63672H12.3135C13.5918 2.63672 14.207 3.28613 14.207 4.53027V9.75977C14.207 11.0039 13.5918 11.6533 12.3135 11.6533H8.16406C7.74707 11.6533 7.54199 11.7217 7.25488 12.0225L5.08789 14.1621ZM4.70508 8.29004C5.26562 8.29004 5.7168 7.83203 5.7168 7.27148C5.7168 6.71094 5.26562 6.25293 4.70508 6.25293C4.1377 6.25293 3.67969 6.71094 3.67969 7.27148C3.67969 7.83203 4.1377 8.29004 4.70508 8.29004ZM8 8.29004C8.56055 8.29004 9.01855 7.83203 9.01855 7.27148C9.01855 6.71094 8.56055 6.25293 8 6.25293C7.43945 6.25293 6.98145 6.71094 6.98145 7.27148C6.98145 7.83203 7.43945 8.29004 8 8.29004ZM11.3018 8.29004C11.8623 8.29004 12.3203 7.83203 12.3203 7.27148C12.3203 6.71094 11.8623 6.25293 11.3018 6.25293C10.7412 6.25293 10.2832 6.71094 10.2832 7.27148C10.2832 7.83203 10.7412 8.29004 11.3018 8.29004Z"})})},103485:(e,t,n)=>{"use strict";n.d(t,{z:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("keyboard",{viewBox:"0 0 30 30",svg:(0,o.jsxs)("g",{children:[" ",(0,o.jsx)("path",{d:"M15,30l8-10H7Zm0-3.2L11.16,22h7.68Z"})," ",(0,o.jsx)("path",{d:"M6,4H4V6H6V4Zm4,0H8V6h2V4Zm4,0H12V6h2V4Zm4,0H16V6h2V4Zm4,0H20V6h2V4Zm4,0H24V6h2V4ZM10,8H8v2h2V8Zm4,0H12v2h2V8Zm4,0H16v2h2V8Zm4,0H20v2h2V8Zm-2,4H10v2H20V12Zm5,0H22v2h3V12ZM5,14H8V12H5v2ZM0,0V18H30V0H0ZM28,16H2V2H28V16Z"})," "]})})},271904:(e,t,n)=>{"use strict";n.d(t,{a:()=>o().a});var o=()=>n(887860)},133009:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("pinFilled",{viewBox:"0 0 13 19",svg:(0,o.jsx)("path",{d:"M.102 11.773c0 .665.445 1.102 1.148 1.102h4.227v3.648c0 1.196.5 2.188.695 2.188.187 0 .687-.992.687-2.188v-3.648h4.227c.703 0 1.148-.438 1.148-1.102 0-1.648-1.32-3.39-3.515-4.187L8.46 4c1.14-.648 2.078-1.383 2.484-1.906.203-.266.305-.531.305-.766 0-.476-.367-.828-.914-.828H2.008c-.555 0-.914.352-.914.828 0 .234.093.5.297.766.406.523 1.343 1.258 2.484 1.906l-.258 3.586C1.422 8.383.102 10.125.102 11.773z"})})},355435:(e,t,n)=>{"use strict";n.d(t,{E7:()=>r,Ju:()=>i,cb:()=>s,iv:()=>a,tL:()=>o});const o=32,i=202,r=1e3,a="Want to add a metric? Look for 'src/client/performanceToolbar/config.ts' in notion-next.",s="To disable the toolbar entirely, go to the 'Experiments' panel and look for the 'performance_debugging_toolbar' flag."},333301:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PerformanceToolbar:()=>Qe,PerformanceToolbarSettings:()=>ct,PerformanceToolbarStore:()=>Ae,createPerformanceToolbarMouseListeners:()=>_e,isPerformanceToolbarVisible:()=>fe});n(267602),n(653476),n(731107);var o=()=>n(263184),i=n(667294),r=()=>n(454393),a=()=>n(325107),s=()=>n(420431),l=()=>n(319834),c=()=>n(773398),d=()=>n(517632),u=(n(670560),n(30005),n(241792),()=>n(794623)),p=()=>n(846550),m=()=>n(649099),g=()=>n(513670),f=()=>n(707513),_=()=>n(967092),v=()=>n(518530),h=()=>n(998901),b=()=>n(104088),y=()=>n(355435);function x(e){return"hovered"===e||"pinned"===e||"dragging"===e}var S=n(785893);function C(e){const{caption:t,tooltipEvents:n}=e,o=(0,p().yK)((e=>({caption:{color:e.lightTextColor,fontFamily:f().Gl.mono,fontSize:12,marginRight:4}})),[]);return(0,S.jsx)("span",{style:o.caption,...n,children:t})}function w(e,t){let{popupOverlayStore:n,popupState:o,popupZIndex:r,popupPosition:a,onActivateButton:s,onFrontPopup:c,onClosePopup:d}=e;const m=(0,i.useRef)(null),g=(0,u().Z)(m,t),v=function(){const[e,t]=(0,i.useState)(window.innerWidth);return(0,i.useEffect)((()=>{const e=()=>t(window.innerWidth);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),e}(),w=a?new DOMRect(v/2,a.y):void 0,[M,I]=(0,i.useState)({}),[P,V]=(0,i.useState)(1),[R,B]=(0,i.useState)(void 0),[L,E]=(0,i.useState)(void 0),D="pinned"===o||"dragging"===o,F=(0,p().yK)((e=>({entry:{alignItems:"center",borderRight:`1px solid ${e.regularDividerColor}`,color:e.mediumTextColor,display:"flex",flex:"0 0 auto",flexDirection:"row",flexWrap:"nowrap",height:"100%",minHeight:y().tL,justifyContent:"space-between",margin:0,padding:`0 ${y().tL/2}px`,width:"auto",cursor:"pointer",...D&&{boxShadow:`inset 0px 0px 8px ${e.state.pressed}`}},frontIconWrapper:{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",marginRight:6},frontIcon:{fill:e.mediumTextColor,height:11,transform:"translateY(0.5px)",verticalAlign:"middle",width:11},popupButton:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",height:"100%"},contentWrapper:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",height:"100%"},container:{backgroundColor:e.surface.wash,border:`1px solid ${e.regularDividerColor}`,borderRadius:8,color:e.mediumTextColor,display:"flex",flexDirection:"column",fontFamily:f().Gl.mono,fontSize:12,marginRight:8,opacity:D?1:.9,overflow:"hidden",position:"relative",width:`${v}px`},buttonWrapper:{marginRight:4,display:"flex",height:11,width:11}})),[v,D]),z=(0,i.useCallback)((()=>{const e=P.toString();V(P+1),B(e),I((t=>({...t,[e]:{start:Date.now(),end:void 0}})))}),[V,B,I,P]),A=(0,i.useCallback)((()=>{if(!R)return;const e=M[R];I((t=>({...t,[R]:{...e,end:Date.now()}}))),E(R),B(void 0)}),[B,I,M,R]),Z=(0,i.useCallback)((()=>{R?A():z()}),[R,A,z]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{ref:g,style:F.entry,children:(0,S.jsxs)("div",{style:F.contentWrapper,children:[(0,S.jsxs)("div",{style:F.popupButton,onClick:s,children:[(0,S.jsx)("div",{style:F.frontIconWrapper,children:(0,l().D)(F.frontIcon)}),(0,S.jsx)(C,{caption:"DEPS"})]}),(0,S.jsx)("div",{style:F.buttonWrapper,onClick:Z,children:R?(0,S.jsx)(j,{}):(0,S.jsx)(k,{})})]})}),(0,S.jsx)(_().ZP,{alignmentToOrigin:h().Alignment.Center,disableMouseCapture:!0,enableOutsideClickDismiss:!1,open:x(o),originGap:6,originRect:w,overlayContainerStore:n,overlayContainerZIndex:r,placementToOrigin:h().Placement.Top,popupType:b().k.Popup,preventCaptureEsc:!0,style:F.container,trapFocus:!1,render:()=>(0,S.jsx)(T,{spans:M,activeSpanName:R,selectedSpanName:L,spanIndex:P,visibility:o,onSelectSpan:E,onStartSpan:z,onStopSpan:A,onFront:c,onClose:d})})]})}function T(e){var t,n;let{spans:o,activeSpanName:r,selectedSpanName:a,visibility:s,onSelectSpan:c,onStartSpan:d,onStopSpan:u,onFront:f,onClose:_}=e;const[h,b]=(0,i.useState)([]);(0,i.useEffect)((()=>b(m().Z.traces)),[b]);const y=Object.keys(o).filter((e=>o[e].end)),x=a&&o[a],C=x?h.filter((e=>{return n=e,(t=x).start<=n.start&&(!t.end||t.end>=n.end);var t,n})):h,w=function(e){let t=e.sort(((e,t)=>e.start-t.start));const n=[];for(;t.length>0;){const[e,...o]=t,i=[e];let r=e.end;const a=[];o.forEach((e=>{e.start>=r?(i.push(e),r=e.end):a.push(e)})),n.push(i),t=a}return n}(C),T=null===(t=(0,g().F)(C,(e=>e.start)))||void 0===t?void 0:t.start,k=null===(n=(0,g().UT)(C,(e=>e.end)))||void 0===n?void 0:n.end,j=T&&k&&k-T,[M,I]=function(){const e=(0,i.useRef)(null),[t,n]=(0,i.useState)(1),o=(0,i.useCallback)((e=>{(function(e){return"deltaY"in e&&"metaKey"in e})(e)&&e.metaKey&&(e.stopPropagation(),e.preventDefault(),n((t=>Math.max(1,t-e.deltaY/100))))}),[n]),r=e.current;return(0,i.useEffect)((()=>(null==r||r.addEventListener("wheel",o,{passive:!1}),()=>{null==r||r.removeEventListener("wheel",o)})),[r,o]),[t,e]}(),P=(0,p().yK)((e=>({container:{display:"flex",flexDirection:"column",height:"400px"},header:{alignItems:"center",backgroundColor:e.surface.wash,borderBottom:`1px solid ${e.regularDividerColor}`,display:"flex",justifyContent:"space-between",paddingTop:8,paddingLeft:"16px",paddingRight:"16px",paddingBottom:8,position:"sticky",top:0,width:"100%",zIndex:1},titleContainer:{alignItems:"center",display:"flex"},titleIcon:{marginRight:8},icon:{fill:e.mediumTextColor,height:12,transform:"translateY(1px)",verticalAlign:"middle",width:12,cursor:"dragging"===s?"grab":"pointer"},title:{color:e.mediumTextColor,fontSize:12},closeIcon:{cursor:"pointer"},content:{padding:"8px 16px",height:"367px",display:"flex",flexDirection:"column"},buttonSection:{width:"100%",marginBottom:"10px",boxSizing:"border-box",display:"flex",alignItems:"center",flexDirection:"row"},traceSection:{width:"100%",marginBottom:"10px",boxSizing:"border-box",height:24*w.length+"px"},spanSelectSection:{paddingLeft:"8px"},activeButton:{border:"1px solid gray",borderRadius:"4px",marginRight:"8px",padding:"8px",boxShadow:`inset 0px 0px 8px ${e.state.pressed}`},button:{border:"1px solid gray",borderRadius:"4px",marginRight:"8px",padding:"8px"},traceRow:{display:"flex",position:"relative",left:"0",top:"0",height:"24px",paddingTop:"8px",boxSizing:"border-box",paddingBottom:"8px"},traceWrapper:{position:"absolute",height:"24px",overflow:"hidden"},trace:{padding:"4px",textOverflow:"ellipsis",whiteSpace:"nowrap",boxSizing:"border-box",height:"100%",border:"1px solid black",borderRadius:"2px"}})),[w.length,s]);return(0,S.jsxs)("div",{onClick:f,style:P.container,children:[(0,S.jsxs)("div",{style:P.header,children:[(0,S.jsxs)("div",{style:P.titleContainer,children:[(0,S.jsx)("div",{style:P.titleIcon,children:(0,l().D)(P.icon)}),(0,S.jsx)("div",{style:P.title,children:"Dependency Loading"})]}),(0,S.jsx)("div",{onClick:_,role:"button",style:P.closeIcon,children:(0,v().U)(P.icon)})]}),(0,S.jsxs)("div",{style:P.content,children:[(0,S.jsxs)("div",{style:P.buttonSection,children:[(0,S.jsxs)("div",{children:[(0,S.jsx)("button",{style:r?P.activeButton:P.button,onClick:()=>{r?(u(),b(m().Z.traces)):d()},children:r?"Stop":"Record"}),(0,S.jsx)("button",{style:P.button,onClick:()=>{b(m().Z.traces)},children:"Refresh"})]}),"|",(0,S.jsx)("div",{style:P.spanSelectSection,children:["all",...y].map((e=>{const t=e===a||"all"===e&&!a;return(0,S.jsx)("button",{style:t?P.activeButton:P.button,onClick:()=>c("all"===e?void 0:e),children:e},e)}))})]}),(0,S.jsx)("div",{style:{overflow:"scroll",flexGrow:1},children:(0,S.jsxs)("div",{style:P.traceSection,title:"Cmd+scroll to zoom in",ref:I,children:[0===w.length&&(0,S.jsx)("div",{children:"No traces in this time span"}),w.map(((e,t)=>(0,S.jsx)("div",{style:P.traceRow,children:e.map((e=>{const t=e.end-e.start,n=M*(100*t)/j,o=M*(100*(e.start-T))/j;let i;return i="lazy_load"===e.type?"lightblue":"lazy_eval"===e.type?"lightgreen":"api_call"===e.type?"lightcoral":"lightgray",(0,S.jsx)("div",{title:e.name,style:{...P.traceWrapper,width:`${n}%`,left:`${o}%`},children:(0,S.jsx)("div",{style:{...P.trace,background:i},title:e.name,children:e.name})},`${e.name}-${e.end}-${e.start}`)}))},t)))]})})]})]})}function k(){const e=(0,p().yK)((e=>({ring:{stroke:e.redButtonBackground,fillOpacity:0},center:{stroke:e.redButtonBackground,fill:e.redButtonBackground}})),[]);return(0,S.jsxs)("svg",{viewBox:"0 0 100 100",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("circle",{cx:"50",cy:"50",r:"45",strokeWidth:"5",...e.ring}),(0,S.jsx)("circle",{cx:"50",cy:"50",r:"33",...e.center})]})}function j(){const e=(0,p().yK)((e=>({ring:{stroke:e.redButtonBackground,fillOpacity:0},pause:{fill:e.mediumTextColor}})),[]);return(0,S.jsxs)("svg",{viewBox:"0 0 100 100",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("circle",{cx:"50",cy:"50",r:"45",strokeWidth:"7",fill:"none",...e.ring}),(0,S.jsx)("rect",{x:"35",y:"25",width:"10",height:"50",rx:"5",ry:"5",...e.pause}),(0,S.jsx)("rect",{x:"55",y:"25",width:"10",height:"50",rx:"5",ry:"5",...e.pause})]})}const M=i.forwardRef(w);var I=()=>n(326966);const P=1.5;var V=()=>n(146947),R=()=>n(219727),B=()=>n(142735),L=()=>n(435308),E=()=>n(646574),D=()=>n(205228),F=()=>n(876822),z=()=>n(378698);n(122556),n(582845),n(250570),n(533019),n(721473),n(788208),n(22624);const A=["environment","version","frames_per_second","memory","initial_page_render","navigation_page_render","initial_database_items_visible","collections.navigation_items_visible","computed_store_count","typing_lag","message_store__connected","dependency_loading"],Z=["initial_page_render","page_origin_to_app_start","app_start_to_main_start","main_start_to_prefetch_initiated","prefetch_initiated_to_statsig_bootup_blocking_start","statsig_bootup_blocking","render_start_to_render_end","render_end_to_await_page_chunk_start","await_page_chunk_start_to_await_page_chunk_end","await_page_chunk_end_to_browser_repaint_start","navigation_page_render","initial_database_items_visible","collections.navigation_items_visible","collection_view_block_bundle_load_and_parse","collections.await_page_chunk_end_to_cvb_start","collections.cvb_start_to_cvb_mount","collections.cvb_mount_to_items_start","collections.item_start_to_items_visible","navigation_database_render","typing_lag","typing_delete","typing_backspace","typing_enter","typing_tab","typing_untab"],W=new Set(Z);n(821057);class H extends o().default{getInitialState(){return{initial_page_render:void 0,page_origin_to_app_start:void 0,app_start_to_main_start:void 0,main_start_to_prefetch_initiated:void 0,prefetch_initiated_to_statsig_bootup_blocking_start:void 0,statsig_bootup_blocking:void 0,render_start_to_render_end:void 0,render_end_to_await_page_chunk_start:void 0,await_page_chunk_start_to_await_page_chunk_end:void 0,await_page_chunk_end_to_browser_repaint_start:void 0,navigation_page_render:void 0,initial_database_items_visible:void 0,collection_view_block_bundle_load_and_parse:void 0,"collections.await_page_chunk_end_to_cvb_start":void 0,"collections.cvb_start_to_cvb_mount":void 0,"collections.cvb_mount_to_items_start":void 0,"collections.item_start_to_items_visible":void 0,"collections.navigation_items_visible":void 0,navigation_database_render:void 0,typing_lag:void 0,typing_delete:void 0,typing_backspace:void 0,typing_enter:void 0,typing_tab:void 0,typing_untab:void 0}}constructor(){if(super(),this.observer=void 0,!performance.getEntries)throw new Error("Attempted to initialize PerformanceObserver in NotionPerformanceStore without performance API");this.observer=new PerformanceObserver(((e,t)=>{e.getEntries().forEach((e=>{var t;t=e.name,W.has(t)&&this.setPerformanceMetric(e.name,e.duration)}))})),this.observer.observe({entryTypes:["measure"]})}setPerformanceMetric(e,t){this.update((n=>({...n,[e]:t})))}}let N=null;const O=()=>N||(N=new H),K=300,U=500;function $(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K;const[t,n]=(0,i.useState)([]),o=(0,i.useRef)([]),r=(0,i.useRef)(performance.now()),a=(0,i.useRef)(0),s=(0,i.useRef)(0);return(0,i.useEffect)((()=>{function t(){document.hidden||(r.current=performance.now(),a.current=0)}return document.addEventListener("visibilitychange",t),s.current=requestAnimationFrame((function t(){if(document.hidden)return void(s.current=requestAnimationFrame(t));const i=performance.now();a.current+=1;const l=i-r.current;if(l>=U){const t=Math.round(1e3*a.current/l);o.current=[t,...o.current].slice(0,e),n([...o.current]),a.current=0,r.current=i}s.current=requestAnimationFrame(t)})),()=>{document.removeEventListener("visibilitychange",t),s.current>0&&cancelAnimationFrame(s.current)}}),[e]),{fpsHistory:t,...t.length>=1&&{fps:t[0],maxFps:Math.max(...t),minFps:Math.min(...t),avgFps:t.reduce(((e,t)=>e+t),0)/t.length}}}function q(){const e=(0,R().Fy)().version,t=(0,E().tv)(D().default.lastUpdatedTime,V().locale),{fps:n,avgFps:o,minFps:r,maxFps:a}=$(),{initial_page_render:s,page_origin_to_app_start:l,app_start_to_main_start:c,main_start_to_prefetch_initiated:d,prefetch_initiated_to_statsig_bootup_blocking_start:u,statsig_bootup_blocking:p,render_start_to_render_end:m,render_end_to_await_page_chunk_start:g,await_page_chunk_start_to_await_page_chunk_end:f,await_page_chunk_end_to_browser_repaint_start:_,navigation_page_render:v,initial_database_items_visible:h,collection_view_block_bundle_load_and_parse:b,"collections.await_page_chunk_end_to_cvb_start":y,"collections.cvb_start_to_cvb_mount":x,"collections.cvb_mount_to_items_start":S,"collections.item_start_to_items_visible":C,"collections.navigation_items_visible":w,navigation_database_render:T,typing_lag:k,typing_delete:j,typing_backspace:M,typing_enter:I,typing_tab:P,typing_untab:A}=(0,B().Kw)(O());(0,i.useEffect)((()=>{performance.getEntriesByName&&Z.forEach((e=>performance.getEntriesByName(e).forEach((t=>{void 0===O().state[e]&&O().setPerformanceMetric(e,t.duration)}))))}),[]);const{computedStoreCount:W,computedStoreSubscriptionCount:H,computedStoreRecomputesTotal:N,computedStoreRerendersTotal:K}=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;const[o,r]=(0,i.useState)(t);return(0,i.useEffect)((()=>{const t=setInterval((()=>{r(e())}),n);return()=>clearInterval(t)}),[e,n]),o}(L().m8,(0,L().m8)()),U="memory"in performance?performance.memory:void 0,{message_store__connected:q,message_store__num_attempts:G}=(0,B().VK)((()=>({message_store__connected:z().Z.state.isConnected,message_store__num_attempts:z().Z.state.numConnectionAttempts})),[]),{env__cell:Y,env__region:X}=(0,B().VK)((()=>{const e=F().default.state.currentSpaceStore;if(e){const t=e.getPublicSpaceData();if(t&&"none"!==t.role)return{env__cell:null==t?void 0:t.cell,env__region:null==t?void 0:t.region}}return{env__cell:void 0,env__region:void 0}}),[]);return{environment:"production",env__cell:Y,env__region:X,version:e,version__last_updated:t,frames_per_second:n,frames_per_second__avg:o,frames_per_second__min:r,frames_per_second__max:a,memory:U?U.usedJSHeapSize:void 0,memory__total:U?U.totalJSHeapSize:void 0,memory__limit:U?U.jsHeapSizeLimit:void 0,initial_page_render:s,page_origin_to_app_start:l,app_start_to_main_start:c,main_start_to_prefetch_initiated:d,prefetch_initiated_to_statsig_bootup_blocking_start:u,statsig_bootup_blocking:p,render_start_to_render_end:m,render_end_to_await_page_chunk_start:g,await_page_chunk_start_to_await_page_chunk_end:f,await_page_chunk_end_to_browser_repaint_start:_,navigation_page_render:v,initial_database_items_visible:h,collection_view_block_bundle_load_and_parse:b,"collections.await_page_chunk_end_to_cvb_start":y,"collections.cvb_start_to_cvb_mount":x,"collections.cvb_mount_to_items_start":S,"collections.item_start_to_items_visible":C,"collections.navigation_items_visible":w,navigation_database_render:T,computed_store_count:W,computed_store_subscriptions:H,computed_store_recomputes:N,computed_store_rerenders:K,typing_lag:k,typing_delete:j,typing_backspace:M,typing_enter:I,typing_tab:P,typing_untab:A,message_store__connected:q,message_store__num_attempts:G}}function G(e){return q()[e]}function Y(e){const{width:t,height:n}=e,{fpsHistory:o}=$(),[r,a]=(0,i.useState)(""),s=(0,p().yK)((e=>({graph:{color:"dark"===e.mode?"white":"black"}})),[]),l=(0,i.useCallback)((e=>{const t=(e- -5)/149*n;return Math.min(n,Math.max(0,t))}),[n]);return(0,i.useEffect)((()=>{if(0===o.length)return;const e=o.map(((e,i)=>`${i/o.length*t},${n-l(e)}`));a(`M${e.join(" L")}`)}),[o,n,t,l]),(0,S.jsx)("div",{children:(0,S.jsxs)("svg",{width:t,height:n,viewBox:`-20 -4 ${t} ${n}`,children:[(0,S.jsx)("path",{d:r,fill:"none",stroke:s.graph.color,strokeWidth:"1"}),(0,S.jsx)("path",{d:`M0,0 L0,${n}`,stroke:s.graph.color}),(0,S.jsx)("path",{d:`M0,${n-l(30)} L${t},${n-l(30)}`,strokeDasharray:"2 2",stroke:s.graph.color}),(0,S.jsx)("text",{x:-12,y:n-l(30)+3,fontSize:"8",fill:s.graph.color,children:"30"}),(0,S.jsx)("path",{d:`M0,${n-l(60)} L${t},${n-l(60)}`,strokeDasharray:"2 2",stroke:s.graph.color}),(0,S.jsx)("text",{x:-12,y:n-l(60)+3,fontSize:"8",fill:s.graph.color,children:"60"}),(0,S.jsx)("path",{d:`M0,${n-l(120)} L${t},${n-l(120)}`,strokeDasharray:"2 2",stroke:s.graph.color}),(0,S.jsx)("text",{x:-16,y:n-l(120)+3,fontSize:"8",fill:s.graph.color,children:"120"})]})})}var X=()=>n(654133);function J(e){const{text:t,render:n,overlayContainerStore:o}=e,i=(0,p().yK)((()=>({tooltip:{fontFamily:f().Gl.mono,fontSize:11}})),[]);return(0,S.jsx)(X().Z,{originGap:6,overlayContainerStore:o,placement:h().Placement.Top,renderTooltip:e=>(0,S.jsx)("span",{style:i.tooltip,children:t}),render:n})}var Q=()=>n(788860),ee=()=>n(959137);const te=(0,Q().vU)({valueCopied:{defaultMessage:"Value copied to clipboard.",id:"performanceToolbar.performanceValue.valueCopied"}});function ne(e){const{canCopy:t,value:n}=e,o=(0,R().O7)(),[r,s]=(0,i.useState)(!1);const l=(0,p().yK)((e=>({container:{display:"flex",flexDirection:"row"},value:{color:e.mediumTextColor,fontFamily:f().Gl.mono,fontSize:12,marginRight:4},copyIcon:{marginRight:4},icon:{fill:e.mediumTextColor,height:10,transform:"translateY(3px)",verticalAlign:"middle",width:10}})),[]);return(0,S.jsxs)("div",{onClick:t?async function(){const e=await ee().F.clipboardActions.load();await e.copyString({environment:o,stringValue:n,copiedMessage:te.valueCopied})}:void 0,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),style:l.container,children:[(0,S.jsx)("div",{style:l.value,children:n}),t&&r&&(0,S.jsx)("div",{role:"button",style:l.copyIcon,children:(0,a().U)(l.icon)})]})}function oe(e){const{id:t,name:n,description:o,icon:r,subMetrics:a,onDragEvents:l,visibility:c,onClose:d,onFront:u,overlayStore:m}=e,[g,f]=(0,i.useState)(!1),_=(0,p().yK)((e=>({container:{display:"flex",flexDirection:"column"},header:{alignItems:"center",backgroundColor:e.surface.wash,borderBottom:`1px solid ${e.regularDividerColor}`,display:"flex",justifyContent:"space-between",paddingTop:8,paddingLeft:y().tL/2+"px",paddingRight:y().tL/2+"px",paddingBottom:8,position:"sticky",top:0,width:"100%",zIndex:1},titleContainer:{alignItems:"center",display:"flex"},titleIcon:{marginRight:8},title:{color:e.mediumTextColor,fontSize:12},closeIcon:{cursor:"pointer"},content:{backgroundColor:e.surface.wash,height:"auto",maxHeight:4*y().tL,overflowY:"auto",padding:`8px ${y().tL/2}px`,display:"flex",flexDirection:"row",gap:"16px"},tableContainer:{display:"flex",flexDirection:"column",flex:"0 1 auto"},table:{borderCollapse:"collapse",width:"auto"},graph:{flex:1},icon:{fill:e.mediumTextColor,height:12,transform:"translateY(1px)",verticalAlign:"middle",width:12,cursor:"dragging"===c?"grab":"pointer"},description:{color:e.lightTextColor,fontSize:"10px",marginBottom:0,paddingBottom:0},footer:{position:"sticky",bottom:0,borderTop:`1px solid ${e.regularDividerColor}`,backgroundColor:e.surface.wash,zIndex:1,padding:`0 ${y().tL/2}px`,marginBottom:8,width:"100%"}})),[c]);if(!(a&&a.length>0))return null;const h=g||"dragging"===c;return(0,S.jsxs)("div",{onClick:u,style:_.container,children:[(0,S.jsxs)("div",{onMouseOver:()=>f(!0),onMouseLeave:()=>f(!1),style:_.header,children:[(0,S.jsxs)("div",{style:_.titleContainer,children:[(0,S.jsx)("div",{style:_.titleIcon,onMouseDown:l.onMouseDown,onTouchStart:l.onTouchStart,onContextMenu:l.onContextMenu,children:h?(0,s().D)(_.icon):r(_.icon)}),(0,S.jsx)("div",{style:_.title,children:n})]}),(0,S.jsx)("div",{onClick:d,role:"button",style:_.closeIcon,children:(0,v().U)(_.icon)})]}),(0,S.jsxs)("div",{style:_.content,children:[(0,S.jsx)("div",{style:_.tableContainer,children:(0,S.jsx)("table",{style:_.table,children:(0,S.jsx)("tbody",{children:a.map((e=>(0,i.createElement)(ie,{...e,key:e.id,overlayContainerStore:m})))})})}),"frames_per_second"===t&&(0,S.jsx)("div",{style:_.graph,children:(0,S.jsx)(Y,{width:140,height:50})})]}),(0,S.jsx)("div",{style:_.footer,children:(0,S.jsx)("p",{style:_.description,children:o})})]})}function ie(e){const{id:t,overlayContainerStore:n,name:o,shortName:i,formatValue:r}=e,a=r(G(t)),s=(0,p().yK)((()=>({firstColumn:{paddingRight:8}})),[]);return(0,S.jsxs)("tr",{children:[(0,S.jsx)("td",{style:s.firstColumn,children:(0,S.jsx)(J,{overlayContainerStore:n,text:o,render:(e,t)=>(0,S.jsx)(C,{caption:i,tooltipEvents:e})})}),(0,S.jsx)("td",{children:(0,S.jsx)(ne,{value:a,canCopy:!0})})]})}function re(e){const{id:t,icon:n,name:o,description:i,subMetrics:r,visibility:a,overlayStore:s,zIndex:l,position:c,onClose:d,onFront:u,onDragEvents:m}=e,g=(0,p().yK)((e=>({container:{backgroundColor:e.surface.wash,border:`1px solid ${e.regularDividerColor}`,borderRadius:8,color:e.mediumTextColor,display:"flex",flexDirection:"column",fontFamily:f().Gl.mono,fontSize:12,marginRight:8,opacity:"pinned"===a||"dragging"===a?1:.9,overflow:"hidden",position:"relative",width:8*y().tL}})),[a]);if(!c)return null;const v=new DOMRect(c.x,c.y,0,0);return(0,S.jsx)(_().ZP,{alignmentToOrigin:h().Alignment.Center,disableMouseCapture:!0,enableOutsideClickDismiss:!1,open:x(a),originGap:6,originRect:v,overlayContainerStore:s,overlayContainerZIndex:l,placementToOrigin:h().Placement.Top,popupType:b().k.Popup,preventCaptureEsc:!0,style:g.container,trapFocus:!1,render:()=>(0,S.jsx)(oe,{id:t,name:o,description:i,icon:n,subMetrics:r,visibility:a,overlayStore:s,onClose:d,onFront:u,onDragEvents:m})})}function ae(e,t){const{popupOverlayStore:n,popupState:o,popupZIndex:r,popupPosition:a,onPeekButton:s,onUnpeekButton:l,onActivateButton:c,onFrontPopup:d,onClosePopup:m,onDragPopupEvents:f,id:_,icon:v,description:h,name:b,shortName:x,subMetrics:w,formatValue:T,valueType:k}=e,j=(0,i.useRef)(null),M=(0,u().Z)(j,t),V=T(G(_)),R=w&&w.length>0,B=function(e,t){const n=(0,p().Fg)();return(0,i.useCallback)((n=>{if(!e||!t)return"inherit";const o="light"===n?247:32,i=t-e,r=(0,I().uZ)(o-i*P,0,o);return`rgb(${o}, ${r}, ${r})`}),[t,e])(n.mode)}(G("frames_per_second"),G("frames_per_second__avg")),L=function(e){const[t,n]=(0,i.useState)(0),o=e.current;return(0,i.useEffect)((()=>{const e=(0,g().Ds)((()=>{const e=(null==o?void 0:o.offsetWidth)??0;e>t&&n(e)}),100),i=new ResizeObserver((()=>e()));return o&&i.observe(o),()=>{o&&i.unobserve(o),e.cancel()}}),[o,t]),t}(j),E="pinned"===o||"dragging"===o,D="frames_per_second"===_?B:"inherit",F=(0,p().yK)((e=>({entry:{alignItems:"center",borderRight:`1px solid ${e.regularDividerColor}`,color:e.mediumTextColor,display:"flex",flex:"0 0 auto",flexDirection:"row",flexWrap:"nowrap",height:"100%",minHeight:y().tL,justifyContent:"space-between",margin:0,minWidth:`${L}px`,padding:`0 ${y().tL/2}px`,width:"auto",...R&&{cursor:"pointer"},...E&&{boxShadow:`inset 0px 0px 8px ${e.state.pressed}`}},iconWrapper:{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",marginRight:6},icon:{fill:e.mediumTextColor,height:11,transform:"translateY(0.5px)",verticalAlign:"middle",width:11},contentWrapper:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",height:"100%"}})),[R,L,E]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{ref:M,style:{backgroundColor:D,...F.entry},...R?{onClick:c,onMouseOver:s,onMouseLeave:l,role:"button",tabIndex:0}:{},children:(0,S.jsxs)("div",{style:F.contentWrapper,children:[(0,S.jsx)("div",{style:F.iconWrapper,children:v(F.icon)}),R?(0,S.jsx)(C,{caption:x}):(0,S.jsx)(J,{text:b,overlayContainerStore:n,render:(e,t)=>(0,S.jsx)(C,{caption:x,tooltipEvents:e})}),"element"===k?V:(0,S.jsx)(ne,{value:V})]})},_),R&&(0,S.jsx)(re,{id:_,icon:v,name:b,description:h,subMetrics:w,position:a,overlayStore:n,zIndex:r,visibility:o,onClose:m,onFront:d,onDragEvents:f})]})}const se=i.memo(i.forwardRef(ae));function le(e,t){const o=(0,n(114079).td)(e,t),[i,r]=o.split(" ");return-1===i.indexOf(".")?`${i}.0 ${r}`:o}const ce="—",de=(0,S.jsx)("span",{children:ce});function ue(e){const{value:t}=e,o=(0,p().yK)((e=>({icon:{width:12,height:12,marginTop:2,fill:t?e.performanceToolbarIndicator.green:e.performanceToolbarIndicator.red}})),[t]);return(0,S.jsx)(S.Fragment,{children:(0,n(832566).U)(o.icon)})}const pe={asIs:e=>void 0!==e?e:ce,asWholeNumber:e=>void 0!==e?e.toFixed(0):ce,asSeconds:e=>void 0!==e?`${(e/1e3).toFixed(2)}s`:ce,asMilliseconds:e=>void 0!==e?`${e.toFixed(0)}ms`:ce,asBytes:e=>void 0!==e?le(e,1):ce,asIndicator:e=>void 0!==e?(0,S.jsx)(ue,{value:e}):de};var me=()=>n(949842),ge=()=>n(420406);function fe(e,t,n){return!!(0,ge().$)(e,t)&&(n.isPerformanceToolbarPinned||n.isMouseNearPerformanceToolbar)}function _e(e,t,n,o,i,r,a,s){let l;function c(e){e.toElement||e.relatedTarget||(t(!1),void 0!==l&&(window.clearTimeout(l),l=void 0))}function d(c){(0,me().ZP)({event:c,context:me().Af.PerformanceToolbarMouseMove,callback:()=>{if(n&&c.clientX<o)return;if(i&&c.clientX<o+r)return;if(a&&c.clientX>e.WindowSizeStore.state.width-s)return;const d=e.WindowSizeStore.state.height-c.clientY<y().tL;d&&c.shiftKey||(d&&void 0===l?l=window.setTimeout((()=>{t(!0)}),750):d||void 0===l||(window.clearTimeout(l),l=void 0,t(!1)))}})}function u(){void 0!==l&&(window.clearTimeout(l),l=void 0)}return window.addEventListener("mousemove",d),window.addEventListener("mouseout",c),window.addEventListener("mousedown",u),()=>{window.removeEventListener("mousemove",d),window.removeEventListener("mouseout",c),window.removeEventListener("mousedown",u)}}function ve(e,t,n){return t?function(){const e=new Map;for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return n.forEach(((t,n)=>{t.forEach(((o,i)=>{e.set(o,i+n*t.length)}))})),Array.from(e.keys()).sort(((t,n)=>e.get(t)-e.get(n)))}(e,(i=n,(o=t)?o.filter((e=>i.includes(e))):[])):e;var o,i}function he(e,t,n){return Object.assign(e,function(e,t){const n={};if(!e)return n;for(const o in e)t.includes(o)&&(n[o]=e[o]);return n}(t,n))}function be(){const{currentUserStore:e,currentSpaceStore:t}=F().default.state,o=null==e?void 0:e.id,i=null==t?void 0:t.id,r=(0,n(718959).zj)(),a=JSON.stringify({pageId:r,userId:o,spaceId:i});navigator.clipboard.writeText(a)}function ye(e){Ae.update((t=>({...t,isPerformanceToolbarMounted:e})))}function xe(e,t){const n=[...Ae.state.orderedWidgets],[o]=n.splice(e,1);n.splice(t,0,o),Ae.update((e=>({...e,orderedWidgets:n})))}function Se(e,t){const n=[...Ae.state.orderedShortcuts],[o]=n.splice(e,1);n.splice(t,0,o),Ae.update((e=>({...e,orderedShortcuts:n})))}function Ce(e){const t=Ae.state,n=t.enabledWidgets.includes(e)?t.enabledWidgets.filter((t=>t!==e)):[...t.enabledWidgets,e];Ae.update((e=>({...e,enabledWidgets:n})))}function we(e){const t=Ae.state,n=t.enabledShortcuts.includes(e)?t.enabledShortcuts.filter((t=>t!==e)):[...t.enabledShortcuts,e];Ae.update((e=>({...e,enabledShortcuts:n})))}function Te(e,t){Ae.update((n=>({...n,widgetPopupVisibility:{...n.widgetPopupVisibility,[e]:t}})))}function ke(e,t){Ae.update((n=>({...n,widgetPopupPosition:{...n.widgetPopupPosition,[e]:t}})))}function je(e){Ae.update((t=>{const n=t.widgetPopupStack.filter((t=>t!==e));return n.push(e),{...t,widgetPopupStack:n}}))}const Me=[Le({id:"environment",name:"Environment",description:"The environment Notion is running in (e.g., local, development, staging, or production).",isForced:!0,isEnabled:!0,shortName:"ENV",icon:n(774414).j,formatValue:pe.asIs,valueType:"string",subMetrics:[{id:"env__cell",name:"Cell",shortName:"Cell",formatValue:pe.asIs},{id:"env__region",name:"Region",shortName:"Region",formatValue:pe.asIs}]}),Le({id:"version",name:"Version",description:"The current version of Notion. On local, it will appear as '0.0.0.0'.",isForced:!0,isEnabled:!0,shortName:"VER",icon:l().D,formatValue:pe.asIs,valueType:"string",subMetrics:[{id:"version__last_updated",name:"Last Updated",shortName:"Last Updated",formatValue:pe.asIs}]}),Le({id:"frames_per_second",name:"FPS",description:"The number of frames displayed per second. Shows visual 'smoothness.'",isForced:!0,isEnabled:!0,shortName:"FPS",icon:n(640064).N,formatValue:pe.asWholeNumber,valueType:"string",subMetrics:[{id:"frames_per_second__avg",name:"Average FPS",shortName:"Avg",formatValue:pe.asWholeNumber},{id:"frames_per_second__min",name:"Min FPS",shortName:"Min",formatValue:pe.asWholeNumber},{id:"frames_per_second__max",name:"Max FPS",shortName:"Max",formatValue:pe.asWholeNumber}]}),Le({id:"memory",name:"Memory",description:"Shows the size of the JavaScript heap. Not available on some browsers, such as Firefox.",isForced:!1,isEnabled:"memory"in performance,shortName:"MEM",icon:n(811799).G,formatValue:pe.asBytes,valueType:"string",subMetrics:[{id:"memory__total",name:"Total Memory",shortName:"Total",formatValue:pe.asBytes},{id:"memory__limit",name:"Memory Limit",shortName:"Limit",formatValue:pe.asBytes}]}),Le({id:"initial_page_render",name:"Initial Page Render",description:"The time to load your first page. See the `InitialPageRenderSubMetrics` interface for more.",isForced:!1,isEnabled:!0,shortName:"IPR",icon:n(428275).r,formatValue:pe.asSeconds,valueType:"string",subMetrics:[{id:"page_origin_to_app_start",name:"Page Origin to App Start",shortName:"Stage 0 (O2A)",formatValue:pe.asSeconds},{id:"app_start_to_main_start",name:"App Start to Main Start",shortName:"Stage 1 (A2M)",formatValue:pe.asSeconds},{id:"main_start_to_prefetch_initiated",name:"Main Start to Prefetch Initiated",shortName:"Stage 2 (M2P)",formatValue:pe.asSeconds},{id:"prefetch_initiated_to_statsig_bootup_blocking_start",name:"Prefetch Initiated to Render Start",shortName:"Stage 3 (P2S)",formatValue:pe.asSeconds},{id:"statsig_bootup_blocking",name:"Statsig Bootup Blocking Time",shortName:"Stage 4 (SBB)",formatValue:pe.asSeconds},{id:"render_start_to_render_end",name:"Render Start to Render End",shortName:"Stage 5 (R2R)",formatValue:pe.asSeconds},{id:"render_end_to_await_page_chunk_start",name:"Render End to Await Page Chunk Start",shortName:"Stage 6 (R2C)",formatValue:pe.asSeconds},{id:"await_page_chunk_start_to_await_page_chunk_end",name:"Await Page Chunk Start to Await Page Chunk End",shortName:"Stage 7 (C2C)",formatValue:pe.asSeconds},{id:"await_page_chunk_end_to_browser_repaint_start",name:"Await Page Chunk End to Browser Repaint Start",shortName:"Stage 8 (C2R)",formatValue:pe.asSeconds}]}),Le({id:"navigation_page_render",name:"Navigation Page Render",description:"The time it takes for your current page to load, after navigation.",isForced:!1,isEnabled:!1,shortName:"NPR",icon:n(388957).K,formatValue:pe.asSeconds,valueType:"string",subMetrics:[]}),Le({id:"initial_database_items_visible",name:"Initial Database Visible",description:"The time it takes for your first seen collection's items to be visible.",isForced:!1,isEnabled:!0,shortName:"IDV",icon:n(745435).t,formatValue:pe.asSeconds,valueType:"string",subMetrics:[{id:"collection_view_block_bundle_load_and_parse",name:"Collection View Block Bundle Load and Parse",shortName:"Stage 1 (CVB)",formatValue:pe.asSeconds},{id:"collections.await_page_chunk_end_to_cvb_start",name:"Await Page Chunk End to CVB Start",shortName:"Stage 2 (C2C)",formatValue:pe.asSeconds},{id:"collections.cvb_start_to_cvb_mount",name:"CVB Start to CVB Mount",shortName:"Stage 3 (C2M)",formatValue:pe.asSeconds},{id:"collections.cvb_mount_to_items_start",name:"CVB Mount to Items Start",shortName:"Stage 4 (M2I)",formatValue:pe.asSeconds},{id:"collections.item_start_to_items_visible",name:"Items Start to Items Visible",shortName:"Stage 5 (I2V)",formatValue:pe.asSeconds}]}),Le({id:"collections.navigation_items_visible",name:"Navigation DB Visible",description:"The time it takes for your navigated-to collection's items to be visible.",isForced:!1,isEnabled:!1,shortName:"NDV",icon:n(781443).v,formatValue:pe.asSeconds,valueType:"string",subMetrics:[{id:"navigation_database_render",name:"Navigation DB Render",shortName:"NDR",formatValue:pe.asSeconds}]}),Le({id:"computed_store_count",name:"Computed Store Count",description:"Computed store instances and subscriptions in memory as well as the number of recomputes and rerenders caused by computed stores since app start.",isForced:!1,isEnabled:!0,shortName:"CSC",icon:n(884920).P,formatValue:pe.asWholeNumber,valueType:"string",subMetrics:[{id:"computed_store_count",name:"Computed Store Count",shortName:"Total Count",formatValue:pe.asWholeNumber},{id:"computed_store_subscriptions",name:"Computed Store Subscriptions",shortName:"Subscriptions",formatValue:pe.asWholeNumber},{id:"computed_store_rerenders",name:"Computed Store Rerenders",shortName:"Rerenders",formatValue:pe.asWholeNumber},{id:"computed_store_recomputes",name:"Computed Store Recomputes",shortName:"Recomputes",formatValue:pe.asWholeNumber}]}),Le({id:"typing_lag",name:"Typing Lag",description:"The time between a keystroke and its completed action.",isForced:!1,isEnabled:!0,icon:n(103485).z,shortName:"TL",formatValue:pe.asMilliseconds,valueType:"string",subMetrics:[{id:"typing_delete",name:"Typing Delete",shortName:"Del",formatValue:pe.asMilliseconds},{id:"typing_backspace",name:"Typing Backspace",shortName:"Bsp",formatValue:pe.asMilliseconds},{id:"typing_enter",name:"Typing Enter",shortName:"Ent",formatValue:pe.asMilliseconds},{id:"typing_tab",name:"Typing Tab",shortName:"Tab",formatValue:pe.asMilliseconds},{id:"typing_untab",name:"Typing Untab",shortName:"Untab",formatValue:pe.asMilliseconds}]}),Le({id:"message_store__connected",name:"Message Store Status",description:"Whether the message store is connected.",isForced:!1,isEnabled:!1,shortName:"MSS",icon:n(8483).k,formatValue:pe.asIndicator,valueType:"string",subMetrics:[{id:"message_store__num_attempts",name:"Message Store Connection Attempts",shortName:"MCA",formatValue:pe.asWholeNumber}]}),{id:"dependency_loading",name:"Dependency Loading",description:"Simplified version of networks tab to make it easier to see what dependencies (data/lazy loading) get loaded for a given action",isForced:!1,isEnabled:!1,render:e=>(0,S.jsx)(M,{...e})}],Ie=Me.reduce(((e,t)=>({...e,[t.id]:t})),{});function Pe(e){return Ie[e]}const Ve=[{id:"pin",name:"Pin the toolbar",description:"Pin the toolbar to the screen.",ariaLabel:"Toggle toolbar pin",icon:e=>e?n(133009)._:n(149319).P,tooltip:"Pin",onClick:()=>{Ae.update((e=>({...e,isPerformanceToolbarPinned:!e.isPerformanceToolbarPinned})))},isForced:!0,isEnabled:!0},{id:"settings",name:"Open toolbar settings",description:"Open the performance toolbar settings, right from the toolbar itself.",ariaLabel:"Open toolbar settings",icon:n(166104).H,tooltip:"Open toolbar settings",onClick:()=>r().r$({currentTab:"performance_toolbar",openedFrom:"performance_toolbar"}),isForced:!0,isEnabled:!0},{id:"uidoc",name:"Open UIDocs",description:"Access Notion's UIDocs in a new tab.",ariaLabel:"Open UIDocs",icon:n(819658).q,tooltip:"Open UIDocs",onClick:()=>window.open("/design"),isForced:!1,isEnabled:!0},{id:"experiments",name:"Open experiments",description:"Open the experiments settings menu.",ariaLabel:"Open experiments",icon:n(844958).t,tooltip:"Open experiments",onClick:()=>r().r$({currentTab:"experiments",openedFrom:"performance_toolbar"}),isForced:!1,isEnabled:!1},{id:"reset_popups",name:"Reset popups",description:"Reset all popups back to their starting position.",ariaLabel:"Reset popups",icon:l().D,tooltip:"Reset popups",onClick:()=>{Ae.update((e=>({...e,widgetPopupPosition:A.reduce(((e,t)=>({...e,[t]:void 0})),{})})))},isForced:!1,isEnabled:!1},{id:"copy_ids",name:"Copy IDs",description:"Copies current user_id, space_id, and page_id to clipboard.",ariaLabel:"Copy IDs",icon:a().U,tooltip:"Copy IDs",onClick:()=>be(),isForced:!1,isEnabled:!0},{id:"toggle_theme",name:"Toggle theme mode",description:"Toggle between light and dark theme.",ariaLabel:"Toggle theme mode",icon:n(103539).s,tooltip:"Toggle theme mode",onClick:e=>{n(76254).Y7("light"===(null==e?void 0:e.ThemeStore.state.mode)?"dark":"light")},isForced:!1,isEnabled:!0},{id:"debug_selectable_hover",name:"Toggle Selectable debugging",description:"Inspect the hover regions for SelectableHoverMenuOverlay",ariaLabel:"Toggle Selectable debugging",icon:s().D,tooltip:"Toggle Selectable debugging",onClick:e=>{c().OH.setState(!c().OH.state)},isForced:!1,isEnabled:!1},{id:"toggle_content_reskin",name:"Toggle Content Reskin",description:"Toggles new block margins in the editor",ariaLabel:"Toggle Content Reskin",icon:n(271904).a,tooltip:"Toggle Content Reskin",onClick:e=>{const t="double_space"===d().C.getGroup("css_margins");d().C.updateLocalOverrideConfig("css_margins",t?"control":"double_space")},isForced:!1,isEnabled:!0}],Re=Ve.reduce(((e,t)=>({...e,[t.id]:t})),{});function Be(e){return Re[e]}function Le(e){let{id:t,name:n,description:o,isForced:i,isEnabled:r,shortName:a,icon:s,formatValue:l,valueType:c,subMetrics:d}=e;return{id:t,name:n,description:o,isForced:i,isEnabled:r,render:e=>(0,S.jsx)(se,{...e,id:t,name:n,description:o,icon:s,shortName:a,formatValue:l,valueType:c,subMetrics:d})}}const Ee=new(n(41158).D)({key:"performanceToolbar",namespace:n(149310).$p,important:!0,trackingType:"necessary"}),De=[...A],Fe=["pin","settings","uidoc","experiments","reset_popups","copy_ids","toggle_theme","debug_selectable_hover","toggle_content_reskin"];class ze extends o().default{getInitialState(){return{isPerformanceToolbarPinned:!1,isMouseNearPerformanceToolbar:!1,isPerformanceToolbarMounted:!1,widgetPopupVisibility:De.reduce(((e,t)=>({...e,[t]:"not_showing"})),{}),widgetPopupPosition:De.reduce(((e,t)=>({...e,[t]:void 0})),{}),widgetPopupStack:De,orderedWidgets:De,enabledWidgets:De.filter((e=>Pe(e).isEnabled)),orderedShortcuts:Fe,enabledShortcuts:Fe.filter((e=>Be(e).isEnabled))}}constructor(){super();const e=Ee.getState();if(e){const t=this.getInitialState(),n=De.filter((e=>Pe(e).isForced)),o=Fe.filter((e=>Be(e).isForced));super.setState({isPerformanceToolbarPinned:e.isPerformanceToolbarPinned??t.isPerformanceToolbarPinned,isMouseNearPerformanceToolbar:t.isMouseNearPerformanceToolbar,isPerformanceToolbarMounted:t.isPerformanceToolbarMounted,widgetPopupVisibility:he(t.widgetPopupVisibility,e.widgetPopupVisibility,De),widgetPopupPosition:he(t.widgetPopupPosition,e.widgetPopupPosition,De),widgetPopupStack:ve(t.widgetPopupStack,e.widgetPopupStack,De),orderedWidgets:ve(t.orderedWidgets,e.orderedWidgets,De),enabledWidgets:ve(n,e.enabledWidgets,De),orderedShortcuts:ve(t.orderedShortcuts,e.orderedShortcuts,Fe),enabledShortcuts:ve(o,e.enabledShortcuts,Fe)})}}setState(e){super.setState(e),Ee.setState(e)}reset(){const e=this.getInitialState();this.update((t=>({...e,isPerformanceToolbarPinned:t.isPerformanceToolbarPinned,isPerformanceToolbarMounted:t.isPerformanceToolbarMounted})))}}const Ae=new ze;var Ze=()=>n(502184),We=()=>n(130729),He=()=>n(609306),Ne=()=>n(838266);function Oe(){const e=(0,R().O7)();return(0,B().VK)((()=>fe(e,e.RouterStore.state,Ae.state)),[e])}function Ke(e){const t=(0,R().O7)(),n=(0,B().VK)((()=>Ae.state.isPerformanceToolbarPinned),[]),{id:o,isFirst:r,overlayContainerStore:a}=e,{ariaLabel:s,icon:l,onClick:c,tooltip:d}=(0,i.useMemo)((()=>Be(o)),[o]),u="pin"===o?l(n):l,m=(0,p().yK)((e=>({shortcutContainer:{border:`2px solid ${e.regularDividerColor}`,borderRadius:"50%",cursor:"pointer",padding:4,backgroundColor:e.surface.wash,...r?{}:{marginLeft:6}},shortcutIcon:{fill:e.mediumTextColor,height:12,width:12}})),[r]);return(0,S.jsx)(J,{overlayContainerStore:a,text:d,render:(e,n)=>(0,S.jsx)("div",{onClick:()=>c(t),style:m.shortcutContainer,role:"button","aria-label":s,...e,children:u(m.shortcutIcon)})})}function Ue(e){const{overlayContainerStore:t}=e,{orderedShortcuts:n,enabledShortcuts:o}=(0,B().VK)((()=>({orderedShortcuts:Ae.state.orderedShortcuts,enabledShortcuts:Ae.state.enabledShortcuts})),[]),i=(0,p().yK)((()=>({shortcutsContainer:{alignItems:"center",display:"flex",justifyContent:"space-evenly",marginLeft:6,marginRight:6}})),[]);return(0,S.jsx)("div",{style:i.shortcutsContainer,children:n.filter((e=>o.includes(e))).map((e=>(0,S.jsx)(Ke,{id:e,overlayContainerStore:t},e)))})}function $e(e,t){return e.getBoundingClientRect().left-t.getBoundingClientRect().left}n(228244);var qe=()=>n(594546);function Ge(e,t){let{id:o,carouselRef:r,popupOverlayStore:a,render:s}=e;const l=(0,R().O7)(),c=(0,i.useRef)(null),d=(0,u().Z)(c,t),[p,m]=(0,i.useState)(void 0),g=function(e,t){const[n,o]=(0,i.useState)(void 0),r=null==t?void 0:t.current,a=null==e?void 0:e.current,s=(0,i.useCallback)((()=>{if(!a)return;const e=a.getBoundingClientRect();e.x+=e.width/2,e.width=0,e.height=0,o(e)}),[a]);return(0,i.useEffect)((()=>(s(),window.addEventListener("resize",s),null==r||r.addEventListener("scroll",s),()=>{o(void 0),window.removeEventListener("resize",s),null==r||r.removeEventListener("scroll",s)})),[s,r,a]),n}(c,r),f=function(e,t){const[n,o]=(0,i.useState)(!1),r=null==t?void 0:t.current,a=null==e?void 0:e.current;return(0,i.useEffect)((()=>{if(!a||!r)return;const e=new IntersectionObserver((e=>o(e.some((e=>e.isIntersecting)))),{root:r,rootMargin:"0px",threshold:.1});return e.observe(a),()=>e.disconnect()}),[a,r]),n}(c,r),_=(0,B().VK)((()=>function(e){return Ae.state.widgetPopupStack.indexOf(e)}(o)),[o]),v=(0,B().VK)((()=>Ae.state.widgetPopupPosition[o]),[o]),h=(0,B().VK)((()=>function(e){return Ae.state.widgetPopupVisibility[e]}(o)),[o]);let b;b=p?"dragging":f?h:"not_showing";const y=v??g,x=p??y,C=(0,i.useRef)(void 0),w=(0,i.useCallback)((()=>{"not_showing"===h&&(C.current&&clearTimeout(C.current),C.current=setTimeout((()=>{je(o),Te(o,"hovered"),C.current=void 0}),50))}),[h,o]),T=(0,i.useCallback)((()=>{C.current&&(clearTimeout(C.current),C.current=void 0),"hovered"===h&&Te(o,"not_showing")}),[h,o]),k=(0,i.useCallback)((()=>{"pinned"===h?((0,qe().j)({environment:l,event:{eventName:"performance_toolbar_widget_unpinned",eventProperties:{widget_id:o}}}),Te(o,"not_showing")):((0,qe().j)({environment:l,event:{eventName:"performance_toolbar_widget_pinned",eventProperties:{widget_id:o}}}),je(o),Te(o,"pinned"))}),[l,h,o]),j=(0,i.useCallback)((()=>{je(o)}),[o]),M=(0,i.useCallback)((()=>{Te(o,"not_showing")}),[o]);(0,i.useEffect)((()=>("dragging"===b?(document.body.style.cursor="grabbing",document.body.style.userSelect="none"):(document.body.style.cursor="default",document.body.style.userSelect="auto"),()=>{document.body.style.cursor="default",document.body.style.userSelect="auto"})),[b]);const I=(0,i.useCallback)((e=>{je(o);const t=Xe(y,e);m(t)}),[m,y,o]),P=(0,i.useCallback)((e=>{const t=Xe(y,e);m(t)}),[m,y]),V=(0,i.useCallback)((e=>{m(void 0);const t=Xe(y,e);t&&ke(o,t)}),[m,o,y]),L=(0,i.useCallback)((()=>{m(void 0)}),[m]);return(0,i.useEffect)((()=>{let e;return"not_showing"===b&&(e=setTimeout((()=>ke(o,void 0)),250)),()=>{e&&clearTimeout(e)}}),[o,b]),(0,i.useEffect)((()=>{(0,qe().j)({environment:l,event:{eventName:"performance_toolbar_widget_rendered",eventProperties:{widget_id:o}}})}),[l,o]),(0,S.jsx)(n(790964).Z,{forceTouch:!0,allowDragWhileTextEditing:!0,disableHorizontalEdgeScroll:!0,disableVerticalEdgeScroll:!0,onDraggableDragStart:I,onDraggableDragMove:P,onDraggableDragEnd:V,onDraggableDragCancel:L,render:e=>s({ref:d,popupOverlayStore:a,popupState:b,popupZIndex:_,popupPosition:x,onPeekButton:w,onUnpeekButton:T,onActivateButton:k,onFrontPopup:j,onClosePopup:M,onDragPopupEvents:e})})}const Ye=i.forwardRef(Ge);function Xe(e,t){return e?{x:e.x+t.diffX,y:e.y+t.diffY}:void 0}function Je(e){const{overlayContainerStore:t}=e,{orderedWidgets:n,enabledWidgets:o}=(0,B().VK)((()=>({orderedWidgets:Ae.state.orderedWidgets,enabledWidgets:Ae.state.enabledWidgets})),[]),{carouselRef:r,setWidgetRef:a,canScrollLeft:s,canScrollRight:l,handleScrollLeft:c,handleScrollRight:d}=function(e){const[t,n]=(0,i.useState)(!1),[o,r]=(0,i.useState)(!1),a=(0,i.useRef)(null),s=(0,i.useRef)([]),l=(0,i.useCallback)(((e,t)=>{s.current[e]=t}),[]);(0,i.useEffect)((()=>{s.current=s.current.slice(0,e)}),[e]);const c=()=>{const e=a.current;if(!e)return;const t=e.getBoundingClientRect(),o=e.scrollLeft,i=e.scrollWidth-t.width-o;n(o>=2),r(i>=2)};(0,i.useEffect)((()=>(c(),window.addEventListener("resize",c),()=>window.removeEventListener("resize",c))),[]),(0,i.useEffect)((()=>{const e=a.current;if(e)return e.addEventListener("scroll",c),()=>e.removeEventListener("scroll",c)}),[]),(0,i.useEffect)((()=>{const e=a.current;if(!e)return;const t=new ResizeObserver((()=>{c()}));return Array.from(e.children).forEach((e=>{t.observe(e)})),()=>t.disconnect()}),[]);const{enabledWidgets:d,enabledShortcuts:u}=(0,B().VK)((()=>({enabledWidgets:Ae.state.enabledWidgets,enabledShortcuts:Ae.state.enabledShortcuts})),[]);return(0,i.useEffect)((()=>{Me.length>=d.length&&c()}),[d]),(0,i.useEffect)((()=>{Ve.length>=u.length&&c()}),[u]),{carouselRef:a,widgetRefs:s,setWidgetRef:l,canScrollLeft:t,canScrollRight:o,handleScrollLeft:()=>{const e=a.current;if(!e)return;const t=e.getBoundingClientRect(),n=s.current;for(const o of n.sort($e).reverse()){const n=o.getBoundingClientRect();if(n.left<t.left){const o=n.left-t.left-y().tL;e.scrollBy({left:o,behavior:"smooth"});break}}},handleScrollRight:()=>{const e=a.current;if(!e)return;const t=e.getBoundingClientRect(),n=s.current;for(const o of n.sort($e)){const n=o.getBoundingClientRect();if(n.right>t.right){const o=n.right-t.right+(y().tL-1);e.scrollBy({left:o,behavior:"smooth"});break}}}}}(o.length),u=(0,p().yK)((e=>({toolbar:{alignItems:"center",display:"flex",flexWrap:"nowrap",height:"100%",overflow:"hidden",position:"relative"},toolbarContent:{alignItems:"center",display:"flex",flexWrap:"nowrap",height:"100%",overflow:"hidden",position:"relative",scrollBehavior:"smooth"},toolbarButton:{backgroundColor:e.surface.wash,border:"none",color:e.mediumTextColor,cursor:"pointer",height:"100%",position:"absolute",top:"50%",transform:"translateY(-50%)",width:y().tL,zIndex:"1"},toolbarButtonLeft:{borderRight:`1px solid ${e.regularDividerColor}`,left:0},toolbarButtonRight:{borderLeft:`1px solid ${e.regularDividerColor}`,borderRight:`1px solid ${e.regularDividerColor}`,right:0}})),[]);return(0,S.jsxs)("div",{style:u.toolbar,children:[s&&(0,S.jsx)("button",{"aria-label":"Scroll the performance toolbar left",role:"button",style:{...u.toolbarButton,...u.toolbarButtonLeft},onClick:c,children:"‹"}),(0,S.jsx)("div",{style:u.toolbarContent,ref:r,children:n.filter((e=>o.includes(e))).map(((e,n)=>{const o=Pe(e);return(0,S.jsx)(Ye,{ref:e=>a(n,e),id:e,index:n,carouselRef:r,popupOverlayStore:t,render:o.render},e)}))}),l&&(0,S.jsx)("button",{"aria-label":"Scroll the performance toolbar right",onClick:d,role:"button",style:{...u.toolbarButton,...u.toolbarButtonRight},children:"›"})]})}function Qe(e){const t=(0,B().qz)(void 0,We().Z);(0,i.useEffect)((()=>(ye(!0),()=>{ye(!1)})),[]);const n=Oe(),o=function(){const e=(0,B().VK)((()=>Ne().default.state.open),[]),t=(0,B().VK)((()=>He().default.state.open),[]);return e||t}()?y().E7:y().Ju,r=(0,p().yK)((e=>({toolbarWrapper:{backgroundColor:e.surface.wash,borderTop:`1px solid ${e.regularDividerColor}`,bottom:0,display:"flex",flexWrap:"nowrap",height:y().tL,justifyContent:"space-between",overflow:"hidden",position:"absolute",width:"100%",zIndex:o}})),[o]);return n?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{style:r.toolbarWrapper,children:[(0,S.jsx)(Je,{overlayContainerStore:t}),(0,S.jsx)(Ue,{overlayContainerStore:t})]}),(0,S.jsx)(Ze().Z,{overlayContainerStore:t,zIndex:o+1})]}):null}var et=()=>n(154186),tt=()=>n(666414),nt=()=>n(119891),ot=()=>n(471645),it=()=>n(67961),rt=()=>n(868614),at=()=>n(539245),st=function(e){return e.Shortcuts="Shortcuts",e.Widgets="Widgets",e}(st||{});const lt={[st.Widgets]:(0,S.jsx)(Q()._H,{id:"performanceToolbarSettings.widgets.title",defaultMessage:"Widgets"}),[st.Shortcuts]:(0,S.jsx)(Q()._H,{id:"performanceToolbarSettings.shortcuts.title",defaultMessage:"Shortcuts"})};function ct(){const{enabledWidgets:e,orderedWidgets:t,orderedShortcuts:n,enabledShortcuts:o}=(0,B().VK)((()=>{const{enabledWidgets:e,orderedWidgets:t,orderedShortcuts:n,enabledShortcuts:o}=Ae.state;return{enabledWidgets:e,orderedWidgets:t,orderedShortcuts:n,enabledShortcuts:o}}),[]),r=(0,p().yK)((e=>({header:{marginBottom:8,paddingBottom:4,display:"flex"},description:{display:"flex",alignItems:"flex-start",cursor:"pointer",width:"100%",flexWrap:"wrap",fontSize:12,color:e.mediumTextColor,marginTop:2,marginBottom:0},descriptionItem:{marginTop:0,marginBottom:4},divider:{marginTop:12},button:{width:60,height:30,borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center",fontSize:12,fontWeight:600,color:e.mediumTextColor,border:`1px solid ${e.regularDividerColor}`,marginTop:16}})),[]),a=[st.Widgets,st.Shortcuts],[s,l]=(0,i.useState)(a[0]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(rt().Z,{large:!0,divider:"full",style:r.header,children:(0,S.jsx)(Q()._H,{id:"performanceToolbarSettings.title",defaultMessage:"Performance Toolbar Settings"})}),(0,S.jsxs)("div",{style:r.description,children:[(0,S.jsx)("p",{style:r.descriptionItem,children:y().iv}),(0,S.jsx)("p",{style:r.descriptionItem,children:y().cb})]}),(0,S.jsx)(at().Z,{tabs:a.map((e=>lt[e])),selectedIndex:a.indexOf(s),onChange:e=>l(a[e]),style:{paddingLeft:0,paddingRight:0}}),s===st.Widgets&&(0,S.jsx)(dt,{enabledList:e,orderedList:t,moveItem:xe,toggleItem:Ce,itemGetter:Pe}),s===st.Shortcuts&&(0,S.jsx)(dt,{enabledList:o,orderedList:n,moveItem:Se,toggleItem:we,itemGetter:Be}),(0,S.jsx)(tt().Z,{size:1,style:r.divider}),(0,S.jsx)(et().Z,{style:r.button,onClick:()=>Ae.reset(),children:(0,S.jsx)(Q()._H,{id:"performanceToolbarSettings.reset",defaultMessage:"Reset"})})]})}function dt(e){const{enabledList:t,orderedList:n,moveItem:o,toggleItem:i,itemGetter:r}=e,a=(0,p().yK)((()=>({container:{width:"100%",marginTop:8}})),[]);return(0,S.jsx)("div",{style:a.container,children:(0,S.jsx)(nt().ZP,{direction:"vertical",keys:n,renderKey:e=>(0,S.jsx)(ut,{item:r(e),isOn:t.includes(e),onToggle:()=>i(e)}),onDrop:(e,t)=>{o(t.startPosition,t.endPosition)}})})}function ut(e){const{item:t,isOn:n,onToggle:o}=e,i=(0,p().yK)((e=>({container:{alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"space-between",margin:4,width:"100%"},itemWrapper:{alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"flex-start"},handleIconWrapper:{marginRight:8},handleIcon:{fill:e.mediumIconColor,height:14,width:14},item:{opacity:n?1:.5},title:{color:e.regularTextColor,fontSize:14,fontWeight:500,marginBottom:0}})),[n]);return(0,S.jsxs)("div",{style:i.container,children:[(0,S.jsxs)("div",{style:i.itemWrapper,children:[(0,S.jsx)("div",{style:i.handleIconWrapper,children:(0,s().D)(i.handleIcon)}),(0,S.jsxs)("div",{style:i.item,children:[(0,S.jsx)("div",{style:i.title,children:t.name}),(0,S.jsx)(it().Z,{isSmall:!0,isMultiline:!0,children:t.description})]})]}),(0,S.jsx)(ot().Z,{disabled:t.isForced,on:n,onClick:o})]})}},768055:(e,t,n)=>{"use strict";n.d(t,{W:()=>r});n(267602),n(470928);var o=n.n(n(400939)),i=()=>n(163085);function r(e){const t=i().Z.find((t=>t.store===e));if(t){const e=t.getContentWrapEl();if(e)return o()(e.innerText)}return 0}},682890:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("arrowDown",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M8 1.57715C7.5625 1.57715 7.25488 1.88477 7.25488 2.33594V10.8262L7.30957 12.3027L5.50488 10.2861L3.95312 8.75488C3.82324 8.625 3.63184 8.53613 3.42676 8.53613C3.0166 8.53613 2.70898 8.85059 2.70898 9.26758C2.70898 9.46582 2.78418 9.64355 2.94141 9.80762L7.44629 14.3193C7.59668 14.4697 7.79492 14.5586 8 14.5586C8.20508 14.5586 8.40332 14.4697 8.55371 14.3193L13.0586 9.80762C13.2158 9.64355 13.291 9.46582 13.291 9.26758C13.291 8.85059 12.9902 8.53613 12.5801 8.53613C12.3682 8.53613 12.1836 8.625 12.0469 8.75488L10.4951 10.2861L8.69043 12.2959L8.74512 10.8262V2.33594C8.74512 1.88477 8.44434 1.57715 8 1.57715Z"})})},884920:(e,t,n)=>{"use strict";n.d(t,{P:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("chart",{viewBox:"0 0 64 64",svg:(0,o.jsx)("path",{d:"m60,48v6H4v-6h6v-16h12v16h4V10h12v38h4v-24h12v24h6Z"})})},811799:(e,t,n)=>{"use strict";n.d(t,{G:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("computerChip",{viewBox:"0 0 64 64",svg:(0,o.jsx)("path",{d:"m58,21.5v-3l-6-1.5v-1c0-2.47-1.53-4-4-4h-1l-1.5-6h-3l-1.5,6h-6l-1.5-6h-3l-1.5,6h-6l-1.5-6h-3l-1.5,6h-1c-2.47,0-4,1.53-4,4v1l-6,1.5v3l6,1.5v6l-6,1.5v3l6,1.5v6l-6,1.5v3l6,1.5v1c0,2.47,1.53,4,4,4h1l1.5,6h3l1.5-6h6l1.5,6h3l1.5-6h6l1.5,6h3l1.5-6h1c2.47,0,4-1.53,4-4v-1l6-1.5v-3l-6-1.5v-6l6-1.5v-3l-6-1.5v-6l6-1.5Zm-10,26.5H16V16h32v32Zm-4-28h-24v24h24v-24Zm-17,10c-1.66,0-3-1.34-3-3s1.34-3,3-3,3,1.34,3,3-1.34,3-3,3Z"})})},809461:(e,t,n)=>{"use strict";n.d(t,{w:()=>r});n(667294);var o=n(785893);const i={viewBox:"0 0 20 20",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M10 7c-1.654 0-3 1.346-3 3s1.346 3 3 3 3-1.346 3-3-1.346-3-3-3m0 4.5c-.827 0-1.5-.673-1.5-1.5s.673-1.5 1.5-1.5 1.5.673 1.5 1.5-.673 1.5-1.5 1.5"}),(0,o.jsx)("path",{d:"M18.307 8.445a.7.7 0 0 0-.57-.56l-1.643-.283-.056-.138.973-1.378a.7.7 0 0 0 .008-.795 8.5 8.5 0 0 0-2.244-2.264.7.7 0 0 0-.8.006l-1.36.96-.138-.056-.289-1.661a.7.7 0 0 0-.554-.567 8.5 8.5 0 0 0-3.188-.015.7.7 0 0 0-.562.569l-.282 1.643-.139.056-1.377-.971a.7.7 0 0 0-.794-.01q-.68.457-1.284 1.06a8.5 8.5 0 0 0-.98 1.185.7.7 0 0 0 .005.799l.961 1.36q-.03.069-.057.139l-1.66.287a.7.7 0 0 0-.569.555 8.5 8.5 0 0 0-.015 3.188.7.7 0 0 0 .57.561l1.643.283.056.14-.971 1.375a.7.7 0 0 0-.01.793 8.6 8.6 0 0 0 2.244 2.267.7.7 0 0 0 .8-.006l1.36-.961.14.058.286 1.66a.7.7 0 0 0 .555.568 8.5 8.5 0 0 0 3.188.015.7.7 0 0 0 .561-.57l.283-1.643q.07-.027.138-.056l1.378.972a.7.7 0 0 0 .795.008 8.6 8.6 0 0 0 2.264-2.243.7.7 0 0 0-.006-.8l-.961-1.36.058-.138 1.66-.289a.7.7 0 0 0 .567-.554q.159-.806.16-1.656a8.5 8.5 0 0 0-.144-1.533m-1.314 2.45-1.567.271a.7.7 0 0 0-.545.47c-.09.27-.189.508-.303.726a.7.7 0 0 0 .05.728l.904 1.28a7 7 0 0 1-1.22 1.207l-1.297-.915a.7.7 0 0 0-.716-.055 5 5 0 0 1-.734.298.7.7 0 0 0-.476.548l-.267 1.549a7.2 7.2 0 0 1-1.717-.009l-.27-1.567a.7.7 0 0 0-.47-.545 5 5 0 0 1-.728-.303.69.69 0 0 0-.726.05l-1.281.904a7.2 7.2 0 0 1-1.208-1.22l.916-1.297a.7.7 0 0 0 .054-.717 5 5 0 0 1-.297-.732.7.7 0 0 0-.549-.477l-1.548-.267a7.2 7.2 0 0 1 .009-1.717l1.567-.27a.7.7 0 0 0 .545-.468c.09-.273.19-.512.303-.731a.7.7 0 0 0-.05-.726l-.904-1.28a7.2 7.2 0 0 1 1.22-1.208l1.298.916c.21.15.486.17.716.054a5 5 0 0 1 .732-.297.7.7 0 0 0 .478-.549l.266-1.548a7.3 7.3 0 0 1 1.717.008l.271 1.568a.7.7 0 0 0 .468.545c.271.09.51.19.73.303a.7.7 0 0 0 .725-.05l1.281-.904a7.2 7.2 0 0 1 1.208 1.22l-.916 1.298a.7.7 0 0 0-.054.716c.117.233.216.48.297.733.08.25.291.433.548.477l1.549.267a7 7 0 0 1-.009 1.716"})]})},r=(0,n(827282).IU)("gear",i)},388852:(e,t,n)=>{"use strict";n.d(t,{q:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("gift",{viewBox:"0 0 20 20",svg:(0,o.jsx)("g",{id:"Layer_1",children:(0,o.jsx)("path",{d:"M16,5.75h-.6682129c.2590332-.4436646.4182129-.9526367.4182129-1.5024414,0-.8989258-.4003906-1.7426758-1.0986328-2.3149414-.7021484-.5761719-1.6191406-.8037109-2.5048828-.6264648-.8757935.1747437-1.6201782.6658325-2.1376343,1.3336792-.515564-.6645508-1.2658691-1.1560669-2.1675415-1.3361206-.8833008-.1767578-1.7939453.0498047-2.4926758.6220703-.6982422.5727539-1.0986328,1.4189453-1.0986328,2.3217773,0,.5498047.1592407,1.0587769.4182129,1.5024414h-.6682129c-.9648438,0-1.75.7851562-1.75,1.75v2c0,.6700439.3829346,1.246521.9375,1.5404663v4.9595337c0,.9648438.7851562,1.75,1.75,1.75h10.1875c.9648438,0,1.75-.7851562,1.75-1.75v-4.9934692c.5205078-.3035889.875-.8618164.875-1.5065308v-2c0-.9648438-.7851562-1.75-1.75-1.75ZM16.25,7.5v2c0,.1376953-.1123047.25-.25.25h-5.21875v-2.5h5.21875c.1376953,0,.25.1123047.25.25ZM12.4404297,2.7768555c.4433594-.090332.90625.0258789,1.2607422.315918.3486328.2861328.5488281.7070312.5488281,1.1547852,0,.8286133-.6738281,1.5024414-1.5029297,1.5024414h-1.9970703v-.921875c0-.9926758.7109375-1.8554688,1.6904297-2.0512695ZM5.75,4.2475586c0-.4516602.2001953-.8754883.5498047-1.1616211.2641602-.2167969.5883789-.3344727.9536133-.3344727.1186523,0,.2412109.0126953.3671875.0375977.9443359.1884766,1.6293945,1.0244141,1.6293945,1.9873047v.9736328h-1.9975586c-.8286133,0-1.5024414-.6738281-1.5024414-1.5024414ZM3.75,7.5c0-.1376953.1123047-.25.25-.25h5.28125v2.5h-5.28125c-.1376953,0-.25-.1123047-.25-.25v-2ZM4.6875,16v-4.75h4.59375v5h-4.34375c-.1376953,0-.25-.1123047-.25-.25ZM15.125,16.25h-4.34375v-5h4.59375v4.75c0,.1376953-.1123047.25-.25.25Z"})})})},217043:(e,t,n)=>{"use strict";n.d(t,{j:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("globe",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M8,0C3.582,0,0,3.582,0,8s3.582,8,8,8s8-3.582,8-8S12.418,0,8,0z M8,7L7.938,8h-1L7,7H5v2h1l1,1c0.313-0.333,1.021-1,2-1h1 l1,0.229C11.86,9.437,12.513,9.75,13,10v1l-0.938,1.407C10.993,13.393,9.569,14,8,14v-1l-1-1v-1l-2-1C4.018,9.547,3.25,8.938,3,8 L2.785,6c0-0.187,0.435-0.867,0.55-1L3.278,4.307C4.18,3.154,5.494,2.343,7,2.09V3.5L8,4c0.3,0,0.609-0.045,1-0.417 C9.382,3.22,9.719,3,10,3c0.698,0,1,0.208,1,1l-0.5,1h-0.311C9.612,5.279,9.261,5.506,9,6C8.749,6.475,8.475,6.773,8,7z M13,8 c-0.417-0.25-0.771-0.583-1-1V6l0.797-1.593C13.549,5.409,14,6.65,14,8c0,0.165-0.012,0.326-0.025,0.488L13,8z"})})},319834:(e,t,n)=>{"use strict";n.d(t,{D:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("history",{viewBox:"0 0 64 64",svg:(0,o.jsx)("path",{d:"m37,18v12h9v6h-15v-18h6Zm-3-10c-13.25,0-24,10.75-24,24v2.26l-5.76-5.76-4.24,4.24,13,13,13-13-4.24-4.24-5.76,5.76v-2.26c0-9.94,8.06-18,18-18s18,8.06,18,18-8.06,18-18,18v6c13.25,0,24-10.75,24-24s-10.75-24-24-24Z"})})},887860:(e,t,n)=>{"use strict";n.d(t,{a:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("paintBrush",{viewBox:"0 0 16 18",svg:(0,o.jsx)("path",{d:"M1.506 16.447c-.593-.592-.891-1.219-.896-1.88-.004-.66.285-1.283.869-1.866.2-.2.455-.403.765-.608.315-.205.643-.406.985-.602.341-.2.665-.392.97-.574.31-.182.563-.353.759-.513L3.529 8.982c-.287-.287-.433-.592-.437-.916 0-.328.141-.633.424-.916l.895-.895c.283-.283.586-.422.91-.417.327 0 .635.143.922.43l5.435 5.449c.291.287.437.592.437.916.005.319-.132.622-.41.909l-.902.902c-.278.278-.581.415-.91.41-.328 0-.633-.143-.915-.43l-1.422-1.429a5.87 5.87 0 0 0-.52.752 84.79 84.79 0 0 0-.574.978c-.196.346-.397.674-.602.984-.2.314-.403.572-.608.772-.583.584-1.205.873-1.866.869-.661-.005-1.288-.306-1.88-.903Zm3.11-8.551c-.164.159-.164.32 0 .485l1.655 1.647a.565.565 0 0 1 .19.465c-.013.173-.095.34-.245.5-.132.136-.353.293-.663.47-.31.179-.661.377-1.053.596a20.55 20.55 0 0 0-1.155.704c-.383.25-.709.51-.978.779-.314.31-.471.645-.471 1.005.004.36.166.702.485 1.025.323.32.663.479 1.018.479.36.004.698-.15 1.012-.465.274-.269.533-.595.78-.978.25-.382.485-.768.704-1.155.218-.392.417-.74.594-1.046.183-.31.34-.53.472-.663.16-.155.326-.237.499-.246.173-.014.33.05.472.192l1.64 1.647c.164.168.326.166.486-.007l.52-.52c.159-.164.16-.325.006-.485L5.621 7.37c-.073-.077-.15-.114-.232-.11-.082 0-.162.04-.24.117l-.533.52ZM3.38 15.4a.783.783 0 0 1-.574-.239.783.783 0 0 1-.24-.574c0-.223.08-.415.24-.574.16-.16.35-.24.574-.24.223 0 .415.08.574.24.16.16.24.35.24.574 0 .223-.08.415-.24.574-.16.16-.35.24-.574.24Zm8.114-2.87-.889-.883 3.22-3.22a.588.588 0 0 0 .192-.423c0-.155-.071-.303-.212-.444l-5.08-5.073a.332.332 0 0 0-.211-.11.262.262 0 0 0-.192.07.425.425 0 0 0-.123.225 259.17 259.17 0 0 0-.417 1.545c-.114.428-.232.813-.355 1.155-.123.342-.28.68-.472 1.012a9.54 9.54 0 0 1-.759 1.107l-.902-.902a16 16 0 0 0 .526-.78 5.2 5.2 0 0 0 .356-.656 5.91 5.91 0 0 0 .26-.731c.082-.274.168-.602.26-.985l.334-1.435c.069-.296.192-.536.37-.718A1.323 1.323 0 0 1 8.73.91c.242.06.46.185.657.376l5.373 5.38c.405.41.61.84.615 1.292.01.451-.185.875-.581 1.272l-3.302 3.301Zm-1.1-3.993c-.083-.077-.076-.164.02-.26a6.96 6.96 0 0 0 .998-1.257c.287-.456.463-.987.527-1.593l1.503 1.497c-.173.219-.41.442-.71.67a7.87 7.87 0 0 1-.944.601 4.435 4.435 0 0 1-.875.37c-.255.072-.428.063-.52-.028Z"})})},640064:(e,t,n)=>{"use strict";n.d(t,{N:()=>i});n(667294);var o=n(785893);const i=(0,n(827282).IU)("run",{viewBox:"0 0 64 64",svg:(0,o.jsx)("path",{d:"m35,12c0-3.09,1.91-5,5-5s5,1.91,5,5-1.91,5-5,5-5-1.91-5-5Zm6.51,16.74c1.97,2.34,4.43,5.26,10.49,5.26v-5c-3.74,0-4.9-1.38-6.67-3.48-2.07-2.46-4.65-5.52-11.33-5.52-9.65,0-15.18,5.13-19,12.76l4.47,2.24c2.77-5.54,5.71-8.34,9.74-9.43l-4.95,9.9c-1.89,3.79-4.71,5.53-8.94,5.53h-4.32v6h4.32c6.7,0,11.19-2.74,14.21-8.66,2.64,2,10.54,8.63,12.77,17.66l5.69-1.9c-2.21-8.96-8.54-15.45-12.63-18.85l4.26-8.51c.66.57,1.24,1.25,1.88,2.01Z"})})},400939:e=>{var t=/[a-zA-Z0-9_\u0392-\u03c9\u00c0-\u00ff\u0600-\u06ff]+|[\u4e00-\u9fff\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g;e.exports=function(e){var n=e.match(t),o=0;if(!n)return 0;for(var i=0;i<n.length;i++)n[i].charCodeAt(0)>=19968?o+=n[i].length:o+=1;return o}}}]);