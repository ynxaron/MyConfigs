"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[90825],{687241:(e,t,n)=>{n.r(t),n.d(t,{default:()=>w});n(267602),n(470928);var o=n(667294),s=()=>n(219727),i=()=>n(142735),r=()=>n(846550),d=()=>n(788860),l=()=>n(707513),a=()=>n(643261),c=()=>n(345918),u=()=>n(615634),h=()=>n(688049),g=()=>n(876822),f=()=>n(533915),p=()=>n(154186),m=()=>n(827973),x=()=>n(573357),y=()=>n(708518),B=()=>n(92175),b=()=>n(397540),v=n(785893);const j=(0,d().vU)({headerTitle:{id:"salesforceAuthModal.header.title",defaultMessage:"Connect to Salesforce"},integrationInfo:{id:"salesforceAuthModal.integrationInfo",defaultMessage:"Connect your Salesforce account to Notion to access your Salesforce data in Notion."},permissions:{id:"salesforceAuthModal.permissions",defaultMessage:"Permissions"},nonAdminUserWarning:{id:"salesforceAuthModal.nonAdminUserWarning",defaultMessage:"Only workspace admins can connect to Salesforce. Contact your admin to setup this integration."}}),k=[{key:"double_auth",title:(0,v.jsx)(d()._H,{id:"salesforceAuthModal.doubleAuth",defaultMessage:"Require authentication"}),description:(0,v.jsx)(d()._H,{id:"salesforceAuthModal.doubleAuthDescription",defaultMessage:"Members will be required to authenticate with Salesforce to use this integration."})},{key:"unrestricted",title:(0,v.jsx)(d()._H,{id:"salesforceAuthModal.unrestricted",defaultMessage:"Allow everyone to use this integration"}),description:(0,v.jsx)(d()._H,{id:"salesforceAuthModal.unrestrictedDescription",defaultMessage:"All members in your workspace will be able to use this integration without additional authentication."})}];function w(){const e=(0,s().O7)(),{open:t,selectedAccess:n,flowId:w,from:A}=(0,i().VK)((()=>{const e=f().Z.state;return{open:e.open,selectedAccess:e.open&&k.find((t=>t.key===e.selectedAccess))||k[0],flowId:e.open&&e.flowId,from:e.open&&e.from}}),[]),{spaceId:H,isAdminUser:I}=(0,i().VK)((()=>{const e=g().default.state.currentSpaceStore;return{spaceId:null==e?void 0:e.id,isAdminUser:(0,c().lQ)(e)}}),[]),M=(0,o.useCallback)((e=>{const t=f().Z.state;t.open&&f().Z.setState({...t,selectedAccess:e.key})}),[]),S=(0,o.useCallback)((async()=>{H&&w&&A&&await a().eH({environment:e,spaceId:H,flowId:w,from:A})}),[w,A,e,H]),C=(0,r().yK)((e=>({chevron:{width:12,height:12,color:e.lightIconColor,paddingTop:1,paddingLeft:4,flexShrink:0},wrapper:{padding:"20px 14px 10px 14px",minHeight:300,height:"100%",display:"flex",flexDirection:"column",gap:12},header:{fontWeight:l().Ue.medium,fontSize:17,textAlign:"center"},info:{flexGrow:1,height:"100%",fontSize:13},connectButton:{fontWeight:500,background:e.outlineBlueButtonHoveredBackground,textAlign:"center",justifyContent:"center"},connectButtonHoveredOrPressed:{background:e.outlineBlueButtonPressedBackground},selectButton:{display:"flex",alignItems:"center"},closeButton:{position:"absolute",top:14,right:14,zIndex:10,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",background:e.buttonHoveredBackground,width:20,height:20},closeButtonHover:{background:e.buttonPressedBackground},closeButtonIcon:{width:14,fill:e.mediumTextColor}})),[]),Z={items:k,getKey:e=>e.key,selectedItem:n,onSelect:M,renderItem:e=>(0,v.jsx)(m().Z,{...e,style:{width:"100%",paddingTop:6,paddingBottom:6},title:e.value.title,body:e.value.description,focused:!1}),width:"100%",renderOrigin:e=>(0,v.jsxs)(B().Z,{...e,style:C.selectButton,children:[n.title,(0,u().i)(C.chevron)]})};return(0,v.jsx)(y().Z,{open:t,innerStyle:{width:450,height:"fit-content",borderRadius:5,maxHeight:675,padding:6},render:()=>(0,v.jsx)(x().Z,{capture:!0,allowEsc:!0,render:()=>(0,v.jsxs)("div",{style:C.wrapper,children:[(0,v.jsx)(p().Z,{onClick:()=>{f().Z.reset()},style:C.closeButton,hoveredStyle:C.closeButtonHover,children:(0,h().D)(C.closeButtonIcon)}),(0,v.jsx)("div",{style:C.header,children:(0,v.jsx)(d()._H,{...j.headerTitle})}),I?(0,v.jsxs)("div",{style:C.info,children:[(0,v.jsx)("div",{style:{marginBottom:4},children:(0,v.jsx)(d()._H,{...j.integrationInfo})}),(0,v.jsx)("div",{style:{marginBottom:12},children:(0,v.jsx)(d()._H,{...j.permissions})}),(0,v.jsx)(b().Z,{...Z})]}):(0,v.jsx)("div",{style:C.info,children:(0,v.jsx)("div",{style:{marginBottom:4},children:(0,v.jsx)(d()._H,{...j.nonAdminUserWarning})})}),(0,v.jsx)(B().Z,{isBlue:I,isGray:!I,disabled:!I,style:C.connectButton,hoveredStyle:C.connectButtonHoveredOrPressed,pressedStyle:C.connectButtonHoveredOrPressed,onClick:S,children:(0,v.jsx)(d()._H,{id:"connectedAppSettingsDiscoverItem.connectButton.label",defaultMessage:"Connect"})})]})}),onDismiss:()=>{f().Z.reset()}})}}}]);